var cc=cc||{};cc._tmp=cc._tmp||{};
cc._tmp.WebGLColor=function $cc$_tmp$WebGLColor$(){cc.color=function $cc$color$($color$$,$g$$,$b$$,$a$$,$arrayBuffer$$,$offset$$){return void 0===$color$$?new cc.Color(0,0,0,255,$arrayBuffer$$,$offset$$):cc.isString($color$$)?($color$$=cc.hexToColor($color$$),new cc.Color($color$$.r,$color$$.g,$color$$.b,$color$$.a)):cc.isObject($color$$)?new cc.Color($color$$.r,$color$$.g,$color$$.b,$color$$.a,$color$$.arrayBuffer,$color$$.offset):new cc.Color($color$$,$g$$,$b$$,$a$$,$arrayBuffer$$,$offset$$)};cc.Color=
function $cc$Color$($r$$,$g$$,$b$$,$a$$,$arrayBuffer$$,$locOffset_offset$$){this._arrayBuffer=$arrayBuffer$$||new ArrayBuffer(cc.Color.BYTES_PER_ELEMENT);this._offset=$locOffset_offset$$||0;$arrayBuffer$$=this._arrayBuffer;$locOffset_offset$$=this._offset;var $locElementLen$$=Uint8Array.BYTES_PER_ELEMENT;this._rU8=new Uint8Array($arrayBuffer$$,$locOffset_offset$$,1);this._gU8=new Uint8Array($arrayBuffer$$,$locOffset_offset$$+$locElementLen$$,1);this._bU8=new Uint8Array($arrayBuffer$$,$locOffset_offset$$+
2*$locElementLen$$,1);this._aU8=new Uint8Array($arrayBuffer$$,$locOffset_offset$$+3*$locElementLen$$,1);this._rU8[0]=$r$$||0;this._gU8[0]=$g$$||0;this._bU8[0]=$b$$||0;this._aU8[0]=null==$a$$?255:$a$$;void 0===$a$$&&(this.a_undefined=!0)};cc.Color.BYTES_PER_ELEMENT=4;var $_p$$=cc.Color.prototype;$_p$$._getR=function $$_p$$$_getR$(){return this._rU8[0]};$_p$$._setR=function $$_p$$$_setR$($value$$){this._rU8[0]=0>$value$$?0:$value$$};$_p$$._getG=function $$_p$$$_getG$(){return this._gU8[0]};$_p$$._setG=
function $$_p$$$_setG$($value$$){this._gU8[0]=0>$value$$?0:$value$$};$_p$$._getB=function $$_p$$$_getB$(){return this._bU8[0]};$_p$$._setB=function $$_p$$$_setB$($value$$){this._bU8[0]=0>$value$$?0:$value$$};$_p$$._getA=function $$_p$$$_getA$(){return this._aU8[0]};$_p$$._setA=function $$_p$$$_setA$($value$$){this._aU8[0]=0>$value$$?0:$value$$};$_p$$.r;cc.defineGetterSetter($_p$$,"r",$_p$$._getR,$_p$$._setR);$_p$$.g;cc.defineGetterSetter($_p$$,"g",$_p$$._getG,$_p$$._setG);$_p$$.b;cc.defineGetterSetter($_p$$,
"b",$_p$$._getB,$_p$$._setB);$_p$$.a;cc.defineGetterSetter($_p$$,"a",$_p$$._getA,$_p$$._setA);cc.Vertex2F=function $cc$Vertex2F$($x$$,$y$$,$arrayBuffer$$,$offset$$){this._arrayBuffer=$arrayBuffer$$||new ArrayBuffer(cc.Vertex2F.BYTES_PER_ELEMENT);this._offset=$offset$$||0;this._xF32=new Float32Array(this._arrayBuffer,this._offset,1);this._yF32=new Float32Array(this._arrayBuffer,this._offset+4,1);this._xF32[0]=$x$$||0;this._yF32[0]=$y$$||0};cc.Vertex2F.BYTES_PER_ELEMENT=8;Object.defineProperties(cc.Vertex2F.prototype,
{x:{get:function(){return this._xF32[0]},set:function($xValue$$){this._xF32[0]=$xValue$$},enumerable:!0},y:{get:function(){return this._yF32[0]},set:function($yValue$$){this._yF32[0]=$yValue$$},enumerable:!0}});cc.Vertex3F=function $cc$Vertex3F$($x$$,$y$$,$z$$,$arrayBuffer$$3_locArrayBuffer$$,$locOffset$$1_offset$$){this._arrayBuffer=$arrayBuffer$$3_locArrayBuffer$$||new ArrayBuffer(cc.Vertex3F.BYTES_PER_ELEMENT);this._offset=$locOffset$$1_offset$$||0;$arrayBuffer$$3_locArrayBuffer$$=this._arrayBuffer;
$locOffset$$1_offset$$=this._offset;this._xF32=new Float32Array($arrayBuffer$$3_locArrayBuffer$$,$locOffset$$1_offset$$,1);this._xF32[0]=$x$$||0;this._yF32=new Float32Array($arrayBuffer$$3_locArrayBuffer$$,$locOffset$$1_offset$$+Float32Array.BYTES_PER_ELEMENT,1);this._yF32[0]=$y$$||0;this._zF32=new Float32Array($arrayBuffer$$3_locArrayBuffer$$,$locOffset$$1_offset$$+2*Float32Array.BYTES_PER_ELEMENT,1);this._zF32[0]=$z$$||0};cc.Vertex3F.BYTES_PER_ELEMENT=12;Object.defineProperties(cc.Vertex3F.prototype,
{x:{get:function(){return this._xF32[0]},set:function($xValue$$){this._xF32[0]=$xValue$$},enumerable:!0},y:{get:function(){return this._yF32[0]},set:function($yValue$$){this._yF32[0]=$yValue$$},enumerable:!0},z:{get:function(){return this._zF32[0]},set:function($zValue$$){this._zF32[0]=$zValue$$},enumerable:!0}});cc.Tex2F=function $cc$Tex2F$($u$$,$v$$,$arrayBuffer$$,$offset$$){this._arrayBuffer=$arrayBuffer$$||new ArrayBuffer(cc.Tex2F.BYTES_PER_ELEMENT);this._offset=$offset$$||0;this._uF32=new Float32Array(this._arrayBuffer,
this._offset,1);this._vF32=new Float32Array(this._arrayBuffer,this._offset+4,1);this._uF32[0]=$u$$||0;this._vF32[0]=$v$$||0};cc.Tex2F.BYTES_PER_ELEMENT=8;Object.defineProperties(cc.Tex2F.prototype,{u:{get:function(){return this._uF32[0]},set:function($xValue$$){this._uF32[0]=$xValue$$},enumerable:!0},v:{get:function(){return this._vF32[0]},set:function($yValue$$){this._vF32[0]=$yValue$$},enumerable:!0}});cc.Quad2=function $cc$Quad2$($tl$$,$tr$$,$bl$$,$br$$,$arrayBuffer$$5_locArrayBuffer$$,$locElementLen$$1_offset$$){this._arrayBuffer=
$arrayBuffer$$5_locArrayBuffer$$||new ArrayBuffer(cc.Quad2.BYTES_PER_ELEMENT);this._offset=$locElementLen$$1_offset$$||0;$arrayBuffer$$5_locArrayBuffer$$=this._arrayBuffer;$locElementLen$$1_offset$$=cc.Vertex2F.BYTES_PER_ELEMENT;this._tl=$tl$$?new cc.Vertex2F($tl$$.x,$tl$$.y,$arrayBuffer$$5_locArrayBuffer$$,0):new cc.Vertex2F(0,0,$arrayBuffer$$5_locArrayBuffer$$,0);this._tr=$tr$$?new cc.Vertex2F($tr$$.x,$tr$$.y,$arrayBuffer$$5_locArrayBuffer$$,$locElementLen$$1_offset$$):new cc.Vertex2F(0,0,$arrayBuffer$$5_locArrayBuffer$$,
$locElementLen$$1_offset$$);this._bl=$bl$$?new cc.Vertex2F($bl$$.x,$bl$$.y,$arrayBuffer$$5_locArrayBuffer$$,2*$locElementLen$$1_offset$$):new cc.Vertex2F(0,0,$arrayBuffer$$5_locArrayBuffer$$,2*$locElementLen$$1_offset$$);this._br=$br$$?new cc.Vertex2F($br$$.x,$br$$.y,$arrayBuffer$$5_locArrayBuffer$$,3*$locElementLen$$1_offset$$):new cc.Vertex2F(0,0,$arrayBuffer$$5_locArrayBuffer$$,3*$locElementLen$$1_offset$$)};cc.Quad2.BYTES_PER_ELEMENT=32;cc.Quad3=function $cc$Quad3$($bl1$$,$br1$$,$tl1$$,$tr1$$){this.bl=
$bl1$$||new cc.Vertex3F(0,0,0);this.br=$br1$$||new cc.Vertex3F(0,0,0);this.tl=$tl1$$||new cc.Vertex3F(0,0,0);this.tr=$tr1$$||new cc.Vertex3F(0,0,0)};Object.defineProperties(cc.Quad2.prototype,{tl:{get:function(){return this._tl},set:function($tlValue$$){this._tl.x=$tlValue$$.x;this._tl.y=$tlValue$$.y},enumerable:!0},tr:{get:function(){return this._tr},set:function($trValue$$){this._tr.x=$trValue$$.x;this._tr.y=$trValue$$.y},enumerable:!0},bl:{get:function(){return this._bl},set:function($blValue$$){this._bl.x=
$blValue$$.x;this._bl.y=$blValue$$.y},enumerable:!0},br:{get:function(){return this._br},set:function($brValue$$){this._br.x=$brValue$$.x;this._br.y=$brValue$$.y},enumerable:!0}});cc.V3F_C4B_T2F=function $cc$V3F_C4B_T2F$($vertices$$,$colors$$,$texCoords$$,$arrayBuffer$$6_locArrayBuffer$$,$locOffset$$2_offset$$){this._arrayBuffer=$arrayBuffer$$6_locArrayBuffer$$||new ArrayBuffer(cc.V3F_C4B_T2F.BYTES_PER_ELEMENT);this._offset=$locOffset$$2_offset$$||0;$arrayBuffer$$6_locArrayBuffer$$=this._arrayBuffer;
$locOffset$$2_offset$$=this._offset;var $locElementLen$$=cc.Vertex3F.BYTES_PER_ELEMENT;this._vertices=$vertices$$?new cc.Vertex3F($vertices$$.x,$vertices$$.y,$vertices$$.z,$arrayBuffer$$6_locArrayBuffer$$,$locOffset$$2_offset$$):new cc.Vertex3F(0,0,0,$arrayBuffer$$6_locArrayBuffer$$,$locOffset$$2_offset$$);this._colors=$colors$$?cc.color($colors$$.r,$colors$$.g,$colors$$.b,$colors$$.a,$arrayBuffer$$6_locArrayBuffer$$,$locOffset$$2_offset$$+$locElementLen$$):cc.color(0,0,0,0,$arrayBuffer$$6_locArrayBuffer$$,
$locOffset$$2_offset$$+$locElementLen$$);this._texCoords=$texCoords$$?new cc.Tex2F($texCoords$$.u,$texCoords$$.v,$arrayBuffer$$6_locArrayBuffer$$,$locOffset$$2_offset$$+$locElementLen$$+cc.Color.BYTES_PER_ELEMENT):new cc.Tex2F(0,0,$arrayBuffer$$6_locArrayBuffer$$,$locOffset$$2_offset$$+$locElementLen$$+cc.Color.BYTES_PER_ELEMENT)};cc.V3F_C4B_T2F.BYTES_PER_ELEMENT=24;Object.defineProperties(cc.V3F_C4B_T2F.prototype,{vertices:{get:function(){return this._vertices},set:function($verticesValue$$){var $locVertices$$=
this._vertices;$locVertices$$.x=$verticesValue$$.x;$locVertices$$.y=$verticesValue$$.y;$locVertices$$.z=$verticesValue$$.z},enumerable:!0},colors:{get:function(){return this._colors},set:function($colorValue$$){var $locColors$$=this._colors;$locColors$$.r=$colorValue$$.r;$locColors$$.g=$colorValue$$.g;$locColors$$.b=$colorValue$$.b;$locColors$$.a=$colorValue$$.a},enumerable:!0},texCoords:{get:function(){return this._texCoords},set:function($texValue$$){this._texCoords.u=$texValue$$.u;this._texCoords.v=
$texValue$$.v},enumerable:!0}});cc.V3F_C4B_T2F_Quad=function $cc$V3F_C4B_T2F_Quad$($tl$$,$bl$$,$tr$$,$br$$,$arrayBuffer$$7_locArrayBuffer$$,$locOffset$$3_offset$$){this._arrayBuffer=$arrayBuffer$$7_locArrayBuffer$$||new ArrayBuffer(cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT);this._offset=$locOffset$$3_offset$$||0;$arrayBuffer$$7_locArrayBuffer$$=this._arrayBuffer;$locOffset$$3_offset$$=this._offset;var $locElementLen$$=cc.V3F_C4B_T2F.BYTES_PER_ELEMENT;this._tl=$tl$$?new cc.V3F_C4B_T2F($tl$$.vertices,$tl$$.colors,
$tl$$.texCoords,$arrayBuffer$$7_locArrayBuffer$$,$locOffset$$3_offset$$):new cc.V3F_C4B_T2F(null,null,null,$arrayBuffer$$7_locArrayBuffer$$,$locOffset$$3_offset$$);this._bl=$bl$$?new cc.V3F_C4B_T2F($bl$$.vertices,$bl$$.colors,$bl$$.texCoords,$arrayBuffer$$7_locArrayBuffer$$,$locOffset$$3_offset$$+$locElementLen$$):new cc.V3F_C4B_T2F(null,null,null,$arrayBuffer$$7_locArrayBuffer$$,$locOffset$$3_offset$$+$locElementLen$$);this._tr=$tr$$?new cc.V3F_C4B_T2F($tr$$.vertices,$tr$$.colors,$tr$$.texCoords,
$arrayBuffer$$7_locArrayBuffer$$,$locOffset$$3_offset$$+2*$locElementLen$$):new cc.V3F_C4B_T2F(null,null,null,$arrayBuffer$$7_locArrayBuffer$$,$locOffset$$3_offset$$+2*$locElementLen$$);this._br=$br$$?new cc.V3F_C4B_T2F($br$$.vertices,$br$$.colors,$br$$.texCoords,$arrayBuffer$$7_locArrayBuffer$$,$locOffset$$3_offset$$+3*$locElementLen$$):new cc.V3F_C4B_T2F(null,null,null,$arrayBuffer$$7_locArrayBuffer$$,$locOffset$$3_offset$$+3*$locElementLen$$)};cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT=96;Object.defineProperties(cc.V3F_C4B_T2F_Quad.prototype,
{tl:{get:function(){return this._tl},set:function($tlValue$$){var $locTl$$=this._tl;$locTl$$.vertices=$tlValue$$.vertices;$locTl$$.colors=$tlValue$$.colors;$locTl$$.texCoords=$tlValue$$.texCoords},enumerable:!0},bl:{get:function(){return this._bl},set:function($blValue$$){var $locBl$$=this._bl;$locBl$$.vertices=$blValue$$.vertices;$locBl$$.colors=$blValue$$.colors;$locBl$$.texCoords=$blValue$$.texCoords},enumerable:!0},tr:{get:function(){return this._tr},set:function($trValue$$){var $locTr$$=this._tr;
$locTr$$.vertices=$trValue$$.vertices;$locTr$$.colors=$trValue$$.colors;$locTr$$.texCoords=$trValue$$.texCoords},enumerable:!0},br:{get:function(){return this._br},set:function($brValue$$){var $locBr$$=this._br;$locBr$$.vertices=$brValue$$.vertices;$locBr$$.colors=$brValue$$.colors;$locBr$$.texCoords=$brValue$$.texCoords},enumerable:!0},arrayBuffer:{get:function(){return this._arrayBuffer},enumerable:!0}});cc.V3F_C4B_T2F_QuadZero=function $cc$V3F_C4B_T2F_QuadZero$(){return new cc.V3F_C4B_T2F_Quad};
cc.V3F_C4B_T2F_QuadCopy=function $cc$V3F_C4B_T2F_QuadCopy$($sourceQuad_srcBR$$){if(!$sourceQuad_srcBR$$)return cc.V3F_C4B_T2F_QuadZero();var $srcTL$$=$sourceQuad_srcBR$$.tl,$srcBL$$=$sourceQuad_srcBR$$.bl,$srcTR$$=$sourceQuad_srcBR$$.tr;$sourceQuad_srcBR$$=$sourceQuad_srcBR$$.br;return{tl:{vertices:{x:$srcTL$$.vertices.x,y:$srcTL$$.vertices.y,z:$srcTL$$.vertices.z},colors:{r:$srcTL$$.colors.r,g:$srcTL$$.colors.g,b:$srcTL$$.colors.b,a:$srcTL$$.colors.a},texCoords:{u:$srcTL$$.texCoords.u,v:$srcTL$$.texCoords.v}},
bl:{vertices:{x:$srcBL$$.vertices.x,y:$srcBL$$.vertices.y,z:$srcBL$$.vertices.z},colors:{r:$srcBL$$.colors.r,g:$srcBL$$.colors.g,b:$srcBL$$.colors.b,a:$srcBL$$.colors.a},texCoords:{u:$srcBL$$.texCoords.u,v:$srcBL$$.texCoords.v}},tr:{vertices:{x:$srcTR$$.vertices.x,y:$srcTR$$.vertices.y,z:$srcTR$$.vertices.z},colors:{r:$srcTR$$.colors.r,g:$srcTR$$.colors.g,b:$srcTR$$.colors.b,a:$srcTR$$.colors.a},texCoords:{u:$srcTR$$.texCoords.u,v:$srcTR$$.texCoords.v}},br:{vertices:{x:$sourceQuad_srcBR$$.vertices.x,
y:$sourceQuad_srcBR$$.vertices.y,z:$sourceQuad_srcBR$$.vertices.z},colors:{r:$sourceQuad_srcBR$$.colors.r,g:$sourceQuad_srcBR$$.colors.g,b:$sourceQuad_srcBR$$.colors.b,a:$sourceQuad_srcBR$$.colors.a},texCoords:{u:$sourceQuad_srcBR$$.texCoords.u,v:$sourceQuad_srcBR$$.texCoords.v}}}};cc.V3F_C4B_T2F_QuadsCopy=function $cc$V3F_C4B_T2F_QuadsCopy$($sourceQuads$$){if(!$sourceQuads$$)return[];for(var $retArr$$=[],$i$$=0;$i$$<$sourceQuads$$.length;$i$$++)$retArr$$.push(cc.V3F_C4B_T2F_QuadCopy($sourceQuads$$[$i$$]));
return $retArr$$};cc.V2F_C4B_T2F=function $cc$V2F_C4B_T2F$($vertices$$,$colors$$,$texCoords$$,$arrayBuffer$$8_locArrayBuffer$$,$locOffset$$4_offset$$){this._arrayBuffer=$arrayBuffer$$8_locArrayBuffer$$||new ArrayBuffer(cc.V2F_C4B_T2F.BYTES_PER_ELEMENT);this._offset=$locOffset$$4_offset$$||0;$arrayBuffer$$8_locArrayBuffer$$=this._arrayBuffer;$locOffset$$4_offset$$=this._offset;var $locElementLen$$=cc.Vertex2F.BYTES_PER_ELEMENT;this._vertices=$vertices$$?new cc.Vertex2F($vertices$$.x,$vertices$$.y,
$arrayBuffer$$8_locArrayBuffer$$,$locOffset$$4_offset$$):new cc.Vertex2F(0,0,$arrayBuffer$$8_locArrayBuffer$$,$locOffset$$4_offset$$);this._colors=$colors$$?cc.color($colors$$.r,$colors$$.g,$colors$$.b,$colors$$.a,$arrayBuffer$$8_locArrayBuffer$$,$locOffset$$4_offset$$+$locElementLen$$):cc.color(0,0,0,0,$arrayBuffer$$8_locArrayBuffer$$,$locOffset$$4_offset$$+$locElementLen$$);this._texCoords=$texCoords$$?new cc.Tex2F($texCoords$$.u,$texCoords$$.v,$arrayBuffer$$8_locArrayBuffer$$,$locOffset$$4_offset$$+
$locElementLen$$+cc.Color.BYTES_PER_ELEMENT):new cc.Tex2F(0,0,$arrayBuffer$$8_locArrayBuffer$$,$locOffset$$4_offset$$+$locElementLen$$+cc.Color.BYTES_PER_ELEMENT)};cc.V2F_C4B_T2F.BYTES_PER_ELEMENT=20;Object.defineProperties(cc.V2F_C4B_T2F.prototype,{vertices:{get:function(){return this._vertices},set:function($verticesValue$$){this._vertices.x=$verticesValue$$.x;this._vertices.y=$verticesValue$$.y},enumerable:!0},colors:{get:function(){return this._colors},set:function($colorValue$$){var $locColors$$=
this._colors;$locColors$$.r=$colorValue$$.r;$locColors$$.g=$colorValue$$.g;$locColors$$.b=$colorValue$$.b;$locColors$$.a=$colorValue$$.a},enumerable:!0},texCoords:{get:function(){return this._texCoords},set:function($texValue$$){this._texCoords.u=$texValue$$.u;this._texCoords.v=$texValue$$.v},enumerable:!0}});cc.V2F_C4B_T2F_Triangle=function $cc$V2F_C4B_T2F_Triangle$($a$$,$b$$,$c$$,$arrayBuffer$$9_locArrayBuffer$$,$locOffset$$5_offset$$){this._arrayBuffer=$arrayBuffer$$9_locArrayBuffer$$||new ArrayBuffer(cc.V2F_C4B_T2F_Triangle.BYTES_PER_ELEMENT);
this._offset=$locOffset$$5_offset$$||0;$arrayBuffer$$9_locArrayBuffer$$=this._arrayBuffer;$locOffset$$5_offset$$=this._offset;var $locElementLen$$=cc.V2F_C4B_T2F.BYTES_PER_ELEMENT;this._a=$a$$?new cc.V2F_C4B_T2F($a$$.vertices,$a$$.colors,$a$$.texCoords,$arrayBuffer$$9_locArrayBuffer$$,$locOffset$$5_offset$$):new cc.V2F_C4B_T2F(null,null,null,$arrayBuffer$$9_locArrayBuffer$$,$locOffset$$5_offset$$);this._b=$b$$?new cc.V2F_C4B_T2F($b$$.vertices,$b$$.colors,$b$$.texCoords,$arrayBuffer$$9_locArrayBuffer$$,
$locOffset$$5_offset$$+$locElementLen$$):new cc.V2F_C4B_T2F(null,null,null,$arrayBuffer$$9_locArrayBuffer$$,$locOffset$$5_offset$$+$locElementLen$$);this._c=$c$$?new cc.V2F_C4B_T2F($c$$.vertices,$c$$.colors,$c$$.texCoords,$arrayBuffer$$9_locArrayBuffer$$,$locOffset$$5_offset$$+2*$locElementLen$$):new cc.V2F_C4B_T2F(null,null,null,$arrayBuffer$$9_locArrayBuffer$$,$locOffset$$5_offset$$+2*$locElementLen$$)};cc.V2F_C4B_T2F_Triangle.BYTES_PER_ELEMENT=60;Object.defineProperties(cc.V2F_C4B_T2F_Triangle.prototype,
{a:{get:function(){return this._a},set:function($aValue$$){var $locA$$=this._a;$locA$$.vertices=$aValue$$.vertices;$locA$$.colors=$aValue$$.colors;$locA$$.texCoords=$aValue$$.texCoords},enumerable:!0},b:{get:function(){return this._b},set:function($bValue$$){var $locB$$=this._b;$locB$$.vertices=$bValue$$.vertices;$locB$$.colors=$bValue$$.colors;$locB$$.texCoords=$bValue$$.texCoords},enumerable:!0},c:{get:function(){return this._c},set:function($cValue$$){var $locC$$=this._c;$locC$$.vertices=$cValue$$.vertices;
$locC$$.colors=$cValue$$.colors;$locC$$.texCoords=$cValue$$.texCoords},enumerable:!0}})};
cc._tmp.WebGLCCNode=function $cc$_tmp$WebGLCCNode$(){var $_p$$=cc.Node.prototype;$_p$$._transform4x4=null;$_p$$._stackMatrix=null;$_p$$._glServerState=null;$_p$$._camera=null;$_p$$.ctor=function $$_p$$$ctor$(){this._initNode();var $mat4$$=new cc.kmMat4;$mat4$$.mat[2]=$mat4$$.mat[3]=$mat4$$.mat[6]=$mat4$$.mat[7]=$mat4$$.mat[8]=$mat4$$.mat[9]=$mat4$$.mat[11]=$mat4$$.mat[14]=0;$mat4$$.mat[10]=$mat4$$.mat[15]=1;this._transform4x4=$mat4$$;this._glServerState=0;this._stackMatrix=new cc.kmMat4;this._initRendererCmd()};
$_p$$.setNodeDirty=function $$_p$$$setNodeDirty$(){!1===this._transformDirty&&(this._setNodeDirtyForCache(),this._renderCmdDiry=this._transformDirty=this._inverseDirty=!0,cc.renderer.pushDirtyNode(this))};$_p$$.visit=function $$_p$$$visit$(){if(this._visible){this._parent&&(this._curLevel=this._parent._curLevel+1);var $i$$,$currentStack$$=cc.current_stack;$currentStack$$.stack.push($currentStack$$.top);cc.kmMat4Assign(this._stackMatrix,$currentStack$$.top);$currentStack$$.top=this._stackMatrix;this.transform();
var $locChildren$$=this._children;if($locChildren$$&&0<$locChildren$$.length){var $childLen$$=$locChildren$$.length;this.sortAllChildren();for($i$$=0;$i$$<$childLen$$;$i$$++)if($locChildren$$[$i$$]&&0>$locChildren$$[$i$$]._localZOrder)$locChildren$$[$i$$].visit();else break;for(this._rendererCmd&&cc.renderer.pushRenderCommand(this._rendererCmd);$i$$<$childLen$$;$i$$++)$locChildren$$[$i$$]&&$locChildren$$[$i$$].visit()}else this._rendererCmd&&cc.renderer.pushRenderCommand(this._rendererCmd);$currentStack$$.top=
$currentStack$$.stack.pop()}};$_p$$._transformForRenderer=function $$_p$$$_transformForRenderer$($apy_len_pMatrix_parentMatrix$$){var $apx_i$$=this._transform4x4,$stackMatrix$$=this._stackMatrix;$apy_len_pMatrix_parentMatrix$$=$apy_len_pMatrix_parentMatrix$$||(this._parent?this._parent._stackMatrix:cc.current_stack.top);var $locChildren$$=this.nodeToParentTransform(),$t4x4Mat$$=$apx_i$$.mat;$t4x4Mat$$[0]=$locChildren$$.a;$t4x4Mat$$[4]=$locChildren$$.c;$t4x4Mat$$[12]=$locChildren$$.tx;$t4x4Mat$$[1]=
$locChildren$$.b;$t4x4Mat$$[5]=$locChildren$$.d;$t4x4Mat$$[13]=$locChildren$$.ty;$t4x4Mat$$[14]=this._vertexZ;cc.kmMat4Multiply($stackMatrix$$,$apy_len_pMatrix_parentMatrix$$,$apx_i$$);null==this._camera||null!=this.grid&&this.grid.isActive()||($apx_i$$=this._anchorPointInPoints.x,$apy_len_pMatrix_parentMatrix$$=this._anchorPointInPoints.y,0!==$apx_i$$||0!==$apy_len_pMatrix_parentMatrix$$?(cc.SPRITEBATCHNODE_RENDER_SUBPIXEL||($apx_i$$|=0,$apy_len_pMatrix_parentMatrix$$|=0),$locChildren$$=new cc.kmMat4,
cc.kmMat4Translation($locChildren$$,$apx_i$$,$apy_len_pMatrix_parentMatrix$$,0),cc.kmMat4Multiply($stackMatrix$$,$stackMatrix$$,$locChildren$$),this._camera._locateForRenderer($stackMatrix$$),cc.kmMat4Translation($locChildren$$,-$apx_i$$,-$apy_len_pMatrix_parentMatrix$$,0),cc.kmMat4Multiply($stackMatrix$$,$stackMatrix$$,$locChildren$$)):this._camera._locateForRenderer($stackMatrix$$));this._renderCmdDiry=!1;if(this._children&&0!==this._children.length)for($locChildren$$=this._children,$apx_i$$=0,
$apy_len_pMatrix_parentMatrix$$=$locChildren$$.length;$apx_i$$<$apy_len_pMatrix_parentMatrix$$;$apx_i$$++)$locChildren$$[$apx_i$$]._transformForRenderer($stackMatrix$$)};$_p$$.transform=function $$_p$$$transform$(){var $apx$$1_t4x4$$=this._transform4x4,$apy$$=cc.current_stack.top,$trans$$=this.nodeToParentTransform(),$t4x4Mat$$=$apx$$1_t4x4$$.mat;$t4x4Mat$$[0]=$trans$$.a;$t4x4Mat$$[4]=$trans$$.c;$t4x4Mat$$[12]=$trans$$.tx;$t4x4Mat$$[1]=$trans$$.b;$t4x4Mat$$[5]=$trans$$.d;$t4x4Mat$$[13]=$trans$$.ty;
$t4x4Mat$$[14]=this._vertexZ;cc.kmMat4Multiply($apy$$,$apy$$,$apx$$1_t4x4$$);null==this._camera||null!=this.grid&&this.grid.isActive()||($apx$$1_t4x4$$=this._anchorPointInPoints.x,$apy$$=this._anchorPointInPoints.y,0!==$apx$$1_t4x4$$||0!==$apy$$?(cc.SPRITEBATCHNODE_RENDER_SUBPIXEL||($apx$$1_t4x4$$|=0,$apy$$|=0),cc.kmGLTranslatef($apx$$1_t4x4$$,$apy$$,0),this._camera.locate(),cc.kmGLTranslatef(-$apx$$1_t4x4$$,-$apy$$,0)):this._camera.locate())};$_p$$.getNodeToParentTransform=$_p$$._getNodeToParentTransformForWebGL};
cc._tmp.WebGLTexture2D=function $cc$_tmp$WebGLTexture2D$(){cc.Texture2D=cc.Class.extend({_pVRHaveAlphaPremultiplied:!0,_pixelFormat:null,_pixelsWide:0,_pixelsHigh:0,_name:"",_contentSize:null,maxS:0,maxT:0,_hasPremultipliedAlpha:!1,_hasMipmaps:!1,shaderProgram:null,_isLoaded:!1,_htmlElementObj:null,_webTextureObj:null,url:null,ctor:function(){this._contentSize=cc.size(0,0);this._pixelFormat=cc.Texture2D.defaultPixelFormat},releaseTexture:function(){this._webTextureObj&&cc._renderContext.deleteTexture(this._webTextureObj);
cc.loader.release(this.url)},getPixelFormat:function(){return this._pixelFormat},getPixelsWide:function(){return this._pixelsWide},getPixelsHigh:function(){return this._pixelsHigh},getName:function(){return this._webTextureObj},getContentSize:function(){return cc.size(this._contentSize.width/cc.contentScaleFactor(),this._contentSize.height/cc.contentScaleFactor())},_getWidth:function(){return this._contentSize.width/cc.contentScaleFactor()},_getHeight:function(){return this._contentSize.height/cc.contentScaleFactor()},
getContentSizeInPixels:function(){return this._contentSize},getMaxS:function(){return this.maxS},setMaxS:function($maxS$$){this.maxS=$maxS$$},getMaxT:function(){return this.maxT},setMaxT:function($maxT$$){this.maxT=$maxT$$},getShaderProgram:function(){return this.shaderProgram},setShaderProgram:function($shaderProgram$$){this.shaderProgram=$shaderProgram$$},hasPremultipliedAlpha:function(){return this._hasPremultipliedAlpha},hasMipmaps:function(){return this._hasMipmaps},description:function(){return"<cc.Texture2D | Name = "+
this._name+" | Dimensions = "+this._pixelsWide+" x "+this._pixelsHigh+" | Coordinates = ("+this.maxS+", "+this.maxT+")>"},releaseData:function($data$$){},keepData:function($data$$,$length$$){return $data$$},initWithData:function($data$$,$pixelFormat$$,$pixelsWide$$,$pixelsHigh$$,$contentSize$$){var $tex2d$$=cc.Texture2D,$gl$$=cc._renderContext,$format$$=$gl$$.RGBA,$type$$=$gl$$.UNSIGNED_BYTE,$bytesPerRow$$=$pixelsWide$$*cc.Texture2D._B[$pixelFormat$$]/8;0===$bytesPerRow$$%8?$gl$$.pixelStorei($gl$$.UNPACK_ALIGNMENT,
8):0===$bytesPerRow$$%4?$gl$$.pixelStorei($gl$$.UNPACK_ALIGNMENT,4):0===$bytesPerRow$$%2?$gl$$.pixelStorei($gl$$.UNPACK_ALIGNMENT,2):$gl$$.pixelStorei($gl$$.UNPACK_ALIGNMENT,1);this._webTextureObj=$gl$$.createTexture();cc.glBindTexture2D(this);$gl$$.texParameteri($gl$$.TEXTURE_2D,$gl$$.TEXTURE_MIN_FILTER,$gl$$.LINEAR);$gl$$.texParameteri($gl$$.TEXTURE_2D,$gl$$.TEXTURE_MAG_FILTER,$gl$$.LINEAR);$gl$$.texParameteri($gl$$.TEXTURE_2D,$gl$$.TEXTURE_WRAP_S,$gl$$.CLAMP_TO_EDGE);$gl$$.texParameteri($gl$$.TEXTURE_2D,
$gl$$.TEXTURE_WRAP_T,$gl$$.CLAMP_TO_EDGE);switch($pixelFormat$$){case $tex2d$$.PIXEL_FORMAT_RGBA8888:$format$$=$gl$$.RGBA;break;case $tex2d$$.PIXEL_FORMAT_RGB888:$format$$=$gl$$.RGB;break;case $tex2d$$.PIXEL_FORMAT_RGBA4444:$type$$=$gl$$.UNSIGNED_SHORT_4_4_4_4;break;case $tex2d$$.PIXEL_FORMAT_RGB5A1:$type$$=$gl$$.UNSIGNED_SHORT_5_5_5_1;break;case $tex2d$$.PIXEL_FORMAT_RGB565:$type$$=$gl$$.UNSIGNED_SHORT_5_6_5;break;case $tex2d$$.PIXEL_FORMAT_AI88:$format$$=$gl$$.LUMINANCE_ALPHA;break;case $tex2d$$.PIXEL_FORMAT_A8:$format$$=
$gl$$.ALPHA;break;case $tex2d$$.PIXEL_FORMAT_I8:$format$$=$gl$$.LUMINANCE;break;default:cc.assert(0,cc._LogInfos.Texture2D_initWithData)}$gl$$.texImage2D($gl$$.TEXTURE_2D,0,$format$$,$pixelsWide$$,$pixelsHigh$$,0,$format$$,$type$$,$data$$);this._contentSize.width=$contentSize$$.width;this._contentSize.height=$contentSize$$.height;this._pixelsWide=$pixelsWide$$;this._pixelsHigh=$pixelsHigh$$;this._pixelFormat=$pixelFormat$$;this.maxS=$contentSize$$.width/$pixelsWide$$;this.maxT=$contentSize$$.height/
$pixelsHigh$$;this._hasMipmaps=this._hasPremultipliedAlpha=!1;this.shaderProgram=cc.shaderCache.programForKey(cc.SHADER_POSITION_TEXTURE);return this._isLoaded=!0},drawAtPoint:function($point_vertices$$){var $coordinates$$=[0,this.maxT,this.maxS,this.maxT,0,0,this.maxS,0],$gl$$2_width$$=this._pixelsWide*this.maxS,$height$$=this._pixelsHigh*this.maxT;$point_vertices$$=[$point_vertices$$.x,$point_vertices$$.y,0,$gl$$2_width$$+$point_vertices$$.x,$point_vertices$$.y,0,$point_vertices$$.x,$height$$+$point_vertices$$.y,
0,$gl$$2_width$$+$point_vertices$$.x,$height$$+$point_vertices$$.y,0];cc.glEnableVertexAttribs(cc.VERTEX_ATTRIB_FLAG_POSITION|cc.VERTEX_ATTRIB_FLAG_TEX_COORDS);this._shaderProgram.use();this._shaderProgram.setUniformsForBuiltins();cc.glBindTexture2D(this);$gl$$2_width$$=cc._renderContext;$gl$$2_width$$.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,2,$gl$$2_width$$.FLOAT,!1,0,$point_vertices$$);$gl$$2_width$$.vertexAttribPointer(cc.VERTEX_ATTRIB_TEX_COORDS,2,$gl$$2_width$$.FLOAT,!1,0,$coordinates$$);
$gl$$2_width$$.drawArrays($gl$$2_width$$.TRIANGLE_STRIP,0,4)},drawInRect:function($rect_vertices$$){var $coordinates$$=[0,this.maxT,this.maxS,this.maxT,0,0,this.maxS,0];$rect_vertices$$=[$rect_vertices$$.x,$rect_vertices$$.y,$rect_vertices$$.x+$rect_vertices$$.width,$rect_vertices$$.y,$rect_vertices$$.x,$rect_vertices$$.y+$rect_vertices$$.height,$rect_vertices$$.x+$rect_vertices$$.width,$rect_vertices$$.y+$rect_vertices$$.height];cc.glEnableVertexAttribs(cc.VERTEX_ATTRIB_FLAG_POSITION|cc.VERTEX_ATTRIB_FLAG_TEX_COORDS);
this._shaderProgram.use();this._shaderProgram.setUniformsForBuiltins();cc.glBindTexture2D(this);var $gl$$=cc._renderContext;$gl$$.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,2,$gl$$.FLOAT,!1,0,$rect_vertices$$);$gl$$.vertexAttribPointer(cc.VERTEX_ATTRIB_TEX_COORDS,2,$gl$$.FLOAT,!1,0,$coordinates$$);$gl$$.drawArrays($gl$$.TRIANGLE_STRIP,0,4)},initWithImage:function($uiImage$$){if(null==$uiImage$$)return cc.log(cc._LogInfos.Texture2D_initWithImage),!1;var $imageWidth$$=$uiImage$$.getWidth(),$imageHeight$$=
$uiImage$$.getHeight(),$maxTextureSize$$=cc.configuration.getMaxTextureSize();if($imageWidth$$>$maxTextureSize$$||$imageHeight$$>$maxTextureSize$$)return cc.log(cc._LogInfos.Texture2D_initWithImage_2,$imageWidth$$,$imageHeight$$,$maxTextureSize$$,$maxTextureSize$$),!1;this._isLoaded=!0;return this._initPremultipliedATextureWithImage($uiImage$$,$imageWidth$$,$imageHeight$$)},initWithElement:function($element$$){$element$$&&(this._webTextureObj=cc._renderContext.createTexture(),this._htmlElementObj=
$element$$)},getHtmlElementObj:function(){return this._htmlElementObj},isLoaded:function(){return this._isLoaded},handleLoadedTexture:function(){if(cc._rendererInitialized){if(!this._htmlElementObj){var $gl$$4_img$$2_pixelsHigh$$=cc.loader.getRes(this.url);if(!$gl$$4_img$$2_pixelsHigh$$)return;this.initWithElement($gl$$4_img$$2_pixelsHigh$$)}this._htmlElementObj.width&&this._htmlElementObj.height&&(this._isLoaded=!0,$gl$$4_img$$2_pixelsHigh$$=cc._renderContext,cc.glBindTexture2D(this),$gl$$4_img$$2_pixelsHigh$$.pixelStorei($gl$$4_img$$2_pixelsHigh$$.UNPACK_ALIGNMENT,
4),$gl$$4_img$$2_pixelsHigh$$.texImage2D($gl$$4_img$$2_pixelsHigh$$.TEXTURE_2D,0,$gl$$4_img$$2_pixelsHigh$$.RGBA,$gl$$4_img$$2_pixelsHigh$$.RGBA,$gl$$4_img$$2_pixelsHigh$$.UNSIGNED_BYTE,this._htmlElementObj),$gl$$4_img$$2_pixelsHigh$$.texParameteri($gl$$4_img$$2_pixelsHigh$$.TEXTURE_2D,$gl$$4_img$$2_pixelsHigh$$.TEXTURE_MIN_FILTER,$gl$$4_img$$2_pixelsHigh$$.LINEAR),$gl$$4_img$$2_pixelsHigh$$.texParameteri($gl$$4_img$$2_pixelsHigh$$.TEXTURE_2D,$gl$$4_img$$2_pixelsHigh$$.TEXTURE_MAG_FILTER,$gl$$4_img$$2_pixelsHigh$$.LINEAR),
$gl$$4_img$$2_pixelsHigh$$.texParameteri($gl$$4_img$$2_pixelsHigh$$.TEXTURE_2D,$gl$$4_img$$2_pixelsHigh$$.TEXTURE_WRAP_S,$gl$$4_img$$2_pixelsHigh$$.CLAMP_TO_EDGE),$gl$$4_img$$2_pixelsHigh$$.texParameteri($gl$$4_img$$2_pixelsHigh$$.TEXTURE_2D,$gl$$4_img$$2_pixelsHigh$$.TEXTURE_WRAP_T,$gl$$4_img$$2_pixelsHigh$$.CLAMP_TO_EDGE),this.shaderProgram=cc.shaderCache.programForKey(cc.SHADER_POSITION_TEXTURE),cc.glBindTexture2D(null),$gl$$4_img$$2_pixelsHigh$$=this._htmlElementObj.height,this._pixelsWide=this._contentSize.width=
this._htmlElementObj.width,this._pixelsHigh=this._contentSize.height=$gl$$4_img$$2_pixelsHigh$$,this._pixelFormat=cc.Texture2D.PIXEL_FORMAT_RGBA8888,this.maxT=this.maxS=1,this._hasMipmaps=this._hasPremultipliedAlpha=!1,this.dispatchEvent("load"))}},initWithString:function($text$$,$fontName$$,$fontSize$$,$dimensions$$,$hAlignment$$,$vAlignment$$){cc.log(cc._LogInfos.Texture2D_initWithString);return null},initWithETCFile:function($file$$){cc.log(cc._LogInfos.Texture2D_initWithETCFile_2);return!1},initWithPVRFile:function($file$$){cc.log(cc._LogInfos.Texture2D_initWithPVRFile_2);
return!1},initWithPVRTCData:function($data$$,$level$$,$bpp$$,$hasAlpha$$,$length$$,$pixelFormat$$){cc.log(cc._LogInfos.Texture2D_initWithPVRTCData_2);return!1},setTexParameters:function($texParams$$,$magFilter$$,$wrapS$$,$wrapT$$){var $gl$$=cc._renderContext;void 0!==$magFilter$$&&($texParams$$={minFilter:$texParams$$,magFilter:$magFilter$$,wrapS:$wrapS$$,wrapT:$wrapT$$});cc.assert(this._pixelsWide==cc.NextPOT(this._pixelsWide)&&this._pixelsHigh==cc.NextPOT(this._pixelsHigh)||$texParams$$.wrapS==
$gl$$.CLAMP_TO_EDGE&&$texParams$$.wrapT==$gl$$.CLAMP_TO_EDGE,"WebGLRenderingContext.CLAMP_TO_EDGE should be used in NPOT textures");cc.glBindTexture2D(this);$gl$$.texParameteri($gl$$.TEXTURE_2D,$gl$$.TEXTURE_MIN_FILTER,$texParams$$.minFilter);$gl$$.texParameteri($gl$$.TEXTURE_2D,$gl$$.TEXTURE_MAG_FILTER,$texParams$$.magFilter);$gl$$.texParameteri($gl$$.TEXTURE_2D,$gl$$.TEXTURE_WRAP_S,$texParams$$.wrapS);$gl$$.texParameteri($gl$$.TEXTURE_2D,$gl$$.TEXTURE_WRAP_T,$texParams$$.wrapT)},setAntiAliasTexParameters:function(){var $gl$$=
cc._renderContext;cc.glBindTexture2D(this);this._hasMipmaps?$gl$$.texParameteri($gl$$.TEXTURE_2D,$gl$$.TEXTURE_MIN_FILTER,$gl$$.LINEAR_MIPMAP_NEAREST):$gl$$.texParameteri($gl$$.TEXTURE_2D,$gl$$.TEXTURE_MIN_FILTER,$gl$$.LINEAR);$gl$$.texParameteri($gl$$.TEXTURE_2D,$gl$$.TEXTURE_MAG_FILTER,$gl$$.LINEAR)},setAliasTexParameters:function(){var $gl$$=cc._renderContext;cc.glBindTexture2D(this);this._hasMipmaps?$gl$$.texParameteri($gl$$.TEXTURE_2D,$gl$$.TEXTURE_MIN_FILTER,$gl$$.NEAREST_MIPMAP_NEAREST):$gl$$.texParameteri($gl$$.TEXTURE_2D,
$gl$$.TEXTURE_MIN_FILTER,$gl$$.NEAREST);$gl$$.texParameteri($gl$$.TEXTURE_2D,$gl$$.TEXTURE_MAG_FILTER,$gl$$.NEAREST)},generateMipmap:function(){cc.assert(this._pixelsWide==cc.NextPOT(this._pixelsWide)&&this._pixelsHigh==cc.NextPOT(this._pixelsHigh),"Mimpap texture only works in POT textures");cc.glBindTexture2D(this);cc._renderContext.generateMipmap(cc._renderContext.TEXTURE_2D);this._hasMipmaps=!0},stringForFormat:function(){return cc.Texture2D._M[this._pixelFormat]},bitsPerPixelForFormat:function($format$$){$format$$=
$format$$||this._pixelFormat;var $value$$=cc.Texture2D._B[$format$$];if(null!=$value$$)return $value$$;cc.log(cc._LogInfos.Texture2D_bitsPerPixelForFormat,$format$$);return-1},_initPremultipliedATextureWithImage:function($uiImage$$,$width$$,$height$$){var $tex2d$$=cc.Texture2D,$tempData$$=$uiImage$$.getData(),$inPixel32_inPixel8$$=null,$inPixel32_inPixel8$$=null,$hasAlpha$$=$uiImage$$.hasAlpha(),$imageSize$$=cc.size($uiImage$$.getWidth(),$uiImage$$.getHeight()),$pixelFormat$$=$tex2d$$.defaultPixelFormat,
$bpp$$1_i$$=$uiImage$$.getBitsPerComponent();$hasAlpha$$||(8<=$bpp$$1_i$$?$pixelFormat$$=$tex2d$$.PIXEL_FORMAT_RGB888:(cc.log(cc._LogInfos.Texture2D__initPremultipliedATextureWithImage),$pixelFormat$$=$tex2d$$.PIXEL_FORMAT_RGB565));var $length$$=$width$$*$height$$;if($pixelFormat$$==$tex2d$$.PIXEL_FORMAT_RGB565)if($hasAlpha$$)for($tempData$$=new Uint16Array($width$$*$height$$),$inPixel32_inPixel8$$=$uiImage$$.getData(),$bpp$$1_i$$=0;$bpp$$1_i$$<$length$$;++$bpp$$1_i$$)$tempData$$[$bpp$$1_i$$]=($inPixel32_inPixel8$$[$bpp$$1_i$$]>>
0&255)>>3<<11|($inPixel32_inPixel8$$[$bpp$$1_i$$]>>8&255)>>2<<5|($inPixel32_inPixel8$$[$bpp$$1_i$$]>>16&255)>>3<<0;else for($tempData$$=new Uint16Array($width$$*$height$$),$inPixel32_inPixel8$$=$uiImage$$.getData(),$bpp$$1_i$$=0;$bpp$$1_i$$<$length$$;++$bpp$$1_i$$)$tempData$$[$bpp$$1_i$$]=($inPixel32_inPixel8$$[$bpp$$1_i$$]&255)>>3<<11|($inPixel32_inPixel8$$[$bpp$$1_i$$]&255)>>2<<5|($inPixel32_inPixel8$$[$bpp$$1_i$$]&255)>>3<<0;else if($pixelFormat$$==$tex2d$$.PIXEL_FORMAT_RGBA4444)for($tempData$$=
new Uint16Array($width$$*$height$$),$inPixel32_inPixel8$$=$uiImage$$.getData(),$bpp$$1_i$$=0;$bpp$$1_i$$<$length$$;++$bpp$$1_i$$)$tempData$$[$bpp$$1_i$$]=($inPixel32_inPixel8$$[$bpp$$1_i$$]>>0&255)>>4<<12|($inPixel32_inPixel8$$[$bpp$$1_i$$]>>8&255)>>4<<8|($inPixel32_inPixel8$$[$bpp$$1_i$$]>>16&255)>>4<<4|($inPixel32_inPixel8$$[$bpp$$1_i$$]>>24&255)>>4<<0;else if($pixelFormat$$==$tex2d$$.PIXEL_FORMAT_RGB5A1)for($tempData$$=new Uint16Array($width$$*$height$$),$inPixel32_inPixel8$$=$uiImage$$.getData(),
$bpp$$1_i$$=0;$bpp$$1_i$$<$length$$;++$bpp$$1_i$$)$tempData$$[$bpp$$1_i$$]=($inPixel32_inPixel8$$[$bpp$$1_i$$]>>0&255)>>3<<11|($inPixel32_inPixel8$$[$bpp$$1_i$$]>>8&255)>>3<<6|($inPixel32_inPixel8$$[$bpp$$1_i$$]>>16&255)>>3<<1|($inPixel32_inPixel8$$[$bpp$$1_i$$]>>24&255)>>7<<0;else if($pixelFormat$$==$tex2d$$.PIXEL_FORMAT_A8)for($tempData$$=new Uint8Array($width$$*$height$$),$inPixel32_inPixel8$$=$uiImage$$.getData(),$bpp$$1_i$$=0;$bpp$$1_i$$<$length$$;++$bpp$$1_i$$)$tempData$$[$bpp$$1_i$$]=$inPixel32_inPixel8$$>>
24&255;if($hasAlpha$$&&$pixelFormat$$==$tex2d$$.PIXEL_FORMAT_RGB888)for($inPixel32_inPixel8$$=$uiImage$$.getData(),$tempData$$=new Uint8Array($width$$*$height$$*3),$bpp$$1_i$$=0;$bpp$$1_i$$<$length$$;++$bpp$$1_i$$)$tempData$$[3*$bpp$$1_i$$]=$inPixel32_inPixel8$$>>0&255,$tempData$$[3*$bpp$$1_i$$+1]=$inPixel32_inPixel8$$>>8&255,$tempData$$[3*$bpp$$1_i$$+2]=$inPixel32_inPixel8$$>>16&255;this.initWithData($tempData$$,$pixelFormat$$,$width$$,$height$$,$imageSize$$);$uiImage$$.getData();this._hasPremultipliedAlpha=
$uiImage$$.isPremultipliedAlpha();return!0},addLoadedEventListener:function($callback$$,$target$$){this.addEventListener("load",$callback$$,$target$$)},removeLoadedEventListener:function($target$$){this.removeEventListener("load",$target$$)}})};
cc._tmp.WebGLTextureAtlas=function $cc$_tmp$WebGLTextureAtlas$(){var $_p$$=cc.TextureAtlas.prototype;$_p$$._setupVBO=function $$_p$$$_setupVBO$(){var $gl$$=cc._renderContext;this._buffersVBO[0]=$gl$$.createBuffer();this._buffersVBO[1]=$gl$$.createBuffer();this._quadsWebBuffer=$gl$$.createBuffer();this._mapBuffers()};$_p$$._mapBuffers=function $$_p$$$_mapBuffers$(){var $gl$$=cc._renderContext;$gl$$.bindBuffer($gl$$.ARRAY_BUFFER,this._quadsWebBuffer);$gl$$.bufferData($gl$$.ARRAY_BUFFER,this._quadsArrayBuffer,
$gl$$.DYNAMIC_DRAW);$gl$$.bindBuffer($gl$$.ELEMENT_ARRAY_BUFFER,this._buffersVBO[1]);$gl$$.bufferData($gl$$.ELEMENT_ARRAY_BUFFER,this._indices,$gl$$.STATIC_DRAW)};$_p$$.drawNumberOfQuads=function $$_p$$$drawNumberOfQuads$($n$$,$start$$){$start$$=$start$$||0;if(0!==$n$$&&this.texture&&this.texture.isLoaded()){var $gl$$=cc._renderContext;cc.glBindTexture2D(this.texture);cc.glEnableVertexAttribs(cc.VERTEX_ATTRIB_FLAG_POS_COLOR_TEX);$gl$$.bindBuffer($gl$$.ARRAY_BUFFER,this._quadsWebBuffer);this.dirty&&
$gl$$.bufferData($gl$$.ARRAY_BUFFER,this._quadsArrayBuffer,$gl$$.DYNAMIC_DRAW);$gl$$.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,3,$gl$$.FLOAT,!1,24,0);$gl$$.vertexAttribPointer(cc.VERTEX_ATTRIB_COLOR,4,$gl$$.UNSIGNED_BYTE,!0,24,12);$gl$$.vertexAttribPointer(cc.VERTEX_ATTRIB_TEX_COORDS,2,$gl$$.FLOAT,!1,24,16);this.dirty&&(this.dirty=!1);$gl$$.bindBuffer($gl$$.ELEMENT_ARRAY_BUFFER,this._buffersVBO[1]);cc.TEXTURE_ATLAS_USE_TRIANGLE_STRIP?$gl$$.drawElements($gl$$.TRIANGLE_STRIP,6*$n$$,$gl$$.UNSIGNED_SHORT,
6*$start$$*this._indices.BYTES_PER_ELEMENT):$gl$$.drawElements($gl$$.TRIANGLES,6*$n$$,$gl$$.UNSIGNED_SHORT,6*$start$$*this._indices.BYTES_PER_ELEMENT);cc.g_NumberOfDraws++}}};
cc._tmp.WebGLTextureCache=function $cc$_tmp$WebGLTextureCache$(){var $_p$$=cc.textureCache;$_p$$.handleLoadedTexture=function $$_p$$$handleLoadedTexture$($url$$){var $locTexs$$=this._textures;cc._rendererInitialized||($locTexs$$=this._loadedTexturesBefore);var $tex$$=$locTexs$$[$url$$];$tex$$||($tex$$=$locTexs$$[$url$$]=new cc.Texture2D,$tex$$.url=$url$$);$tex$$.handleLoadedTexture()};$_p$$.addImage=function $$_p$$$addImage$($url$$,$cb$$,$target$$){cc.assert($url$$,cc._LogInfos.Texture2D_addImage_2);
var $locTexs$$=this._textures;cc._rendererInitialized||($locTexs$$=this._loadedTexturesBefore);var $tex$$=$locTexs$$[$url$$]||$locTexs$$[cc.loader._aliases[$url$$]];if($tex$$)return $cb$$&&$cb$$.call($target$$,$tex$$),$tex$$;cc.loader.getRes($url$$)||(cc.loader._checkIsImageURL($url$$)?cc.loader.load($url$$,function($err$$){$cb$$&&$cb$$.call($target$$)}):cc.loader.loadImg($url$$,function($err$$,$img$$){if($err$$)return $cb$$?$cb$$($err$$):$err$$;cc.loader.cache[$url$$]=$img$$;cc.textureCache.handleLoadedTexture($url$$);
$cb$$&&$cb$$.call($target$$,$tex$$)}));$tex$$=$locTexs$$[$url$$]=new cc.Texture2D;$tex$$.url=$url$$;return $tex$$};$_p$$=null};cc._tmp.LayerDefineForWebGL=function $cc$_tmp$LayerDefineForWebGL$(){var $_p$$=cc.Layer.prototype;$_p$$.bake=function $$_p$$$bake$(){};$_p$$.unbake=function $$_p$$$unbake$(){};$_p$$.visit=cc.Node.prototype.visit};
cc._tmp.WebGLLayerColor=function $cc$_tmp$WebGLLayerColor$(){var $_p$$=cc.LayerColor.prototype;$_p$$._squareVertices=null;$_p$$._squareColors=null;$_p$$._verticesFloat32Buffer=null;$_p$$._colorsUint8Buffer=null;$_p$$._squareVerticesAB=null;$_p$$._squareColorsAB=null;$_p$$.ctor=function $$_p$$$ctor$($color$$,$width$$,$height$$){this._squareVerticesAB=new ArrayBuffer(32);this._squareColorsAB=new ArrayBuffer(16);var $locSquareVerticesAB$$=this._squareVerticesAB,$locSquareColorsAB$$=this._squareColorsAB,
$locVertex2FLen$$=cc.Vertex2F.BYTES_PER_ELEMENT,$locColorLen$$=cc.Color.BYTES_PER_ELEMENT;this._squareVertices=[new cc.Vertex2F(0,0,$locSquareVerticesAB$$,0),new cc.Vertex2F(0,0,$locSquareVerticesAB$$,$locVertex2FLen$$),new cc.Vertex2F(0,0,$locSquareVerticesAB$$,2*$locVertex2FLen$$),new cc.Vertex2F(0,0,$locSquareVerticesAB$$,3*$locVertex2FLen$$)];this._squareColors=[cc.color(0,0,0,255,$locSquareColorsAB$$,0),cc.color(0,0,0,255,$locSquareColorsAB$$,$locColorLen$$),cc.color(0,0,0,255,$locSquareColorsAB$$,
2*$locColorLen$$),cc.color(0,0,0,255,$locSquareColorsAB$$,3*$locColorLen$$)];this._verticesFloat32Buffer=cc._renderContext.createBuffer();this._colorsUint8Buffer=cc._renderContext.createBuffer();cc.Layer.prototype.ctor.call(this);this._blendFunc=new cc.BlendFunc(cc.BLEND_SRC,cc.BLEND_DST);cc.LayerColor.prototype.init.call(this,$color$$,$width$$,$height$$)};$_p$$._initRendererCmd=function $$_p$$$_initRendererCmd$(){this._rendererCmd=new cc.RectRenderCmdWebGL(this)};$_p$$.setContentSize=function $$_p$$$setContentSize$($size$$,
$height$$){var $locSquareVertices$$=this._squareVertices;void 0===$height$$?($locSquareVertices$$[1].x=$size$$.width,$locSquareVertices$$[2].y=$size$$.height,$locSquareVertices$$[3].x=$size$$.width,$locSquareVertices$$[3].y=$size$$.height):($locSquareVertices$$[1].x=$size$$,$locSquareVertices$$[2].y=$height$$,$locSquareVertices$$[3].x=$size$$,$locSquareVertices$$[3].y=$height$$);this._bindLayerVerticesBufferData();cc.Layer.prototype.setContentSize.call(this,$size$$,$height$$)};$_p$$._setWidth=function $$_p$$$_setWidth$($width$$){var $locSquareVertices$$=
this._squareVertices;$locSquareVertices$$[1].x=$width$$;$locSquareVertices$$[3].x=$width$$;this._bindLayerVerticesBufferData();cc.Layer.prototype._setWidth.call(this,$width$$)};$_p$$._setHeight=function $$_p$$$_setHeight$($height$$){var $locSquareVertices$$=this._squareVertices;$locSquareVertices$$[2].y=$height$$;$locSquareVertices$$[3].y=$height$$;this._bindLayerVerticesBufferData();cc.Layer.prototype._setHeight.call(this,$height$$)};$_p$$._updateColor=function $$_p$$$_updateColor$(){for(var $locDisplayedColor$$=
this._displayedColor,$locDisplayedOpacity$$=this._displayedOpacity,$locSquareColors$$=this._squareColors,$i$$=0;4>$i$$;$i$$++)$locSquareColors$$[$i$$].r=$locDisplayedColor$$.r,$locSquareColors$$[$i$$].g=$locDisplayedColor$$.g,$locSquareColors$$[$i$$].b=$locDisplayedColor$$.b,$locSquareColors$$[$i$$].a=$locDisplayedOpacity$$;this._bindLayerColorsBufferData()};$_p$$.draw=function $$_p$$$draw$($context$$){$context$$=$context$$||cc._renderContext;cc.nodeDrawSetup(this);cc.glEnableVertexAttribs(cc.VERTEX_ATTRIB_FLAG_POSITION|
cc.VERTEX_ATTRIB_FLAG_COLOR);$context$$.bindBuffer($context$$.ARRAY_BUFFER,this._verticesFloat32Buffer);$context$$.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,2,$context$$.FLOAT,!1,0,0);$context$$.bindBuffer($context$$.ARRAY_BUFFER,this._colorsUint8Buffer);$context$$.vertexAttribPointer(cc.VERTEX_ATTRIB_COLOR,4,$context$$.UNSIGNED_BYTE,!0,0,0);cc.glBlendFunc(this._blendFunc.src,this._blendFunc.dst);$context$$.drawArrays($context$$.TRIANGLE_STRIP,0,4)};$_p$$._bindLayerVerticesBufferData=function $$_p$$$_bindLayerVerticesBufferData$(){var $glContext$$=
cc._renderContext;$glContext$$.bindBuffer($glContext$$.ARRAY_BUFFER,this._verticesFloat32Buffer);$glContext$$.bufferData($glContext$$.ARRAY_BUFFER,this._squareVerticesAB,$glContext$$.STATIC_DRAW)};$_p$$._bindLayerColorsBufferData=function $$_p$$$_bindLayerColorsBufferData$(){var $glContext$$=cc._renderContext;$glContext$$.bindBuffer($glContext$$.ARRAY_BUFFER,this._colorsUint8Buffer);$glContext$$.bufferData($glContext$$.ARRAY_BUFFER,this._squareColorsAB,$glContext$$.STATIC_DRAW)}};
cc._tmp.WebGLLayerGradient=function $cc$_tmp$WebGLLayerGradient$(){var $_p$$=cc.LayerGradient.prototype;$_p$$._initRendererCmd=function $$_p$$$_initRendererCmd$(){this._rendererCmd=new cc.RectRenderCmdWebGL(this)};$_p$$.draw=cc.LayerColor.prototype.draw;$_p$$._updateColor=function $$_p$$$_updateColor$(){var $locAlongVector_u$$=this._alongVector,$JSCompiler_object_inline_r_88_h$$=cc.pLength($locAlongVector_u$$);if(0!==$JSCompiler_object_inline_r_88_h$$){var $c$$=Math.sqrt(2),$locAlongVector_u$$=cc.p($locAlongVector_u$$.x/
$JSCompiler_object_inline_r_88_h$$,$locAlongVector_u$$.y/$JSCompiler_object_inline_r_88_h$$);this._compressedInterpolation&&($JSCompiler_object_inline_r_88_h$$=1/(Math.abs($locAlongVector_u$$.x)+Math.abs($locAlongVector_u$$.y)),$locAlongVector_u$$=cc.pMult($locAlongVector_u$$,$JSCompiler_object_inline_r_88_h$$*$c$$));var $JSCompiler_object_inline_a_95_opacityf$$=this._displayedOpacity/255,$JSCompiler_object_inline_b_90_locDisplayedColor$$=this._displayedColor,$JSCompiler_object_inline_b_94_locEndColor$$=
this._endColor,$JSCompiler_object_inline_r_88_h$$=$JSCompiler_object_inline_b_90_locDisplayedColor$$.r,$JSCompiler_object_inline_g_89$$=$JSCompiler_object_inline_b_90_locDisplayedColor$$.g,$JSCompiler_object_inline_b_90_locDisplayedColor$$=$JSCompiler_object_inline_b_90_locDisplayedColor$$.b,$JSCompiler_object_inline_a_91$$=this._startOpacity*$JSCompiler_object_inline_a_95_opacityf$$,$JSCompiler_object_inline_r_92$$=$JSCompiler_object_inline_b_94_locEndColor$$.r,$JSCompiler_object_inline_g_93$$=$JSCompiler_object_inline_b_94_locEndColor$$.g,
$JSCompiler_object_inline_b_94_locEndColor$$=$JSCompiler_object_inline_b_94_locEndColor$$.b,$JSCompiler_object_inline_a_95_opacityf$$=this._endOpacity*$JSCompiler_object_inline_a_95_opacityf$$,$locSquareColor3_locSquareColors$$=this._squareColors,$locSquareColor0$$=$locSquareColor3_locSquareColors$$[0],$locSquareColor1$$=$locSquareColor3_locSquareColors$$[1],$locSquareColor2$$=$locSquareColor3_locSquareColors$$[2],$locSquareColor3_locSquareColors$$=$locSquareColor3_locSquareColors$$[3];$locSquareColor0$$.r=
$JSCompiler_object_inline_r_92$$+($c$$+$locAlongVector_u$$.x+$locAlongVector_u$$.y)/(2*$c$$)*($JSCompiler_object_inline_r_88_h$$-$JSCompiler_object_inline_r_92$$);$locSquareColor0$$.g=$JSCompiler_object_inline_g_93$$+($c$$+$locAlongVector_u$$.x+$locAlongVector_u$$.y)/(2*$c$$)*($JSCompiler_object_inline_g_89$$-$JSCompiler_object_inline_g_93$$);$locSquareColor0$$.b=$JSCompiler_object_inline_b_94_locEndColor$$+($c$$+$locAlongVector_u$$.x+$locAlongVector_u$$.y)/(2*$c$$)*($JSCompiler_object_inline_b_90_locDisplayedColor$$-
$JSCompiler_object_inline_b_94_locEndColor$$);$locSquareColor0$$.a=$JSCompiler_object_inline_a_95_opacityf$$+($c$$+$locAlongVector_u$$.x+$locAlongVector_u$$.y)/(2*$c$$)*($JSCompiler_object_inline_a_91$$-$JSCompiler_object_inline_a_95_opacityf$$);$locSquareColor1$$.r=$JSCompiler_object_inline_r_92$$+($c$$-$locAlongVector_u$$.x+$locAlongVector_u$$.y)/(2*$c$$)*($JSCompiler_object_inline_r_88_h$$-$JSCompiler_object_inline_r_92$$);$locSquareColor1$$.g=$JSCompiler_object_inline_g_93$$+($c$$-$locAlongVector_u$$.x+
$locAlongVector_u$$.y)/(2*$c$$)*($JSCompiler_object_inline_g_89$$-$JSCompiler_object_inline_g_93$$);$locSquareColor1$$.b=$JSCompiler_object_inline_b_94_locEndColor$$+($c$$-$locAlongVector_u$$.x+$locAlongVector_u$$.y)/(2*$c$$)*($JSCompiler_object_inline_b_90_locDisplayedColor$$-$JSCompiler_object_inline_b_94_locEndColor$$);$locSquareColor1$$.a=$JSCompiler_object_inline_a_95_opacityf$$+($c$$-$locAlongVector_u$$.x+$locAlongVector_u$$.y)/(2*$c$$)*($JSCompiler_object_inline_a_91$$-$JSCompiler_object_inline_a_95_opacityf$$);
$locSquareColor2$$.r=$JSCompiler_object_inline_r_92$$+($c$$+$locAlongVector_u$$.x-$locAlongVector_u$$.y)/(2*$c$$)*($JSCompiler_object_inline_r_88_h$$-$JSCompiler_object_inline_r_92$$);$locSquareColor2$$.g=$JSCompiler_object_inline_g_93$$+($c$$+$locAlongVector_u$$.x-$locAlongVector_u$$.y)/(2*$c$$)*($JSCompiler_object_inline_g_89$$-$JSCompiler_object_inline_g_93$$);$locSquareColor2$$.b=$JSCompiler_object_inline_b_94_locEndColor$$+($c$$+$locAlongVector_u$$.x-$locAlongVector_u$$.y)/(2*$c$$)*($JSCompiler_object_inline_b_90_locDisplayedColor$$-
$JSCompiler_object_inline_b_94_locEndColor$$);$locSquareColor2$$.a=$JSCompiler_object_inline_a_95_opacityf$$+($c$$+$locAlongVector_u$$.x-$locAlongVector_u$$.y)/(2*$c$$)*($JSCompiler_object_inline_a_91$$-$JSCompiler_object_inline_a_95_opacityf$$);$locSquareColor3_locSquareColors$$.r=$JSCompiler_object_inline_r_92$$+($c$$-$locAlongVector_u$$.x-$locAlongVector_u$$.y)/(2*$c$$)*($JSCompiler_object_inline_r_88_h$$-$JSCompiler_object_inline_r_92$$);$locSquareColor3_locSquareColors$$.g=$JSCompiler_object_inline_g_93$$+
($c$$-$locAlongVector_u$$.x-$locAlongVector_u$$.y)/(2*$c$$)*($JSCompiler_object_inline_g_89$$-$JSCompiler_object_inline_g_93$$);$locSquareColor3_locSquareColors$$.b=$JSCompiler_object_inline_b_94_locEndColor$$+($c$$-$locAlongVector_u$$.x-$locAlongVector_u$$.y)/(2*$c$$)*($JSCompiler_object_inline_b_90_locDisplayedColor$$-$JSCompiler_object_inline_b_94_locEndColor$$);$locSquareColor3_locSquareColors$$.a=$JSCompiler_object_inline_a_95_opacityf$$+($c$$-$locAlongVector_u$$.x-$locAlongVector_u$$.y)/(2*
$c$$)*($JSCompiler_object_inline_a_91$$-$JSCompiler_object_inline_a_95_opacityf$$);this._bindLayerColorsBufferData()}}};
cc._tmp.WebGLSprite=function $cc$_tmp$WebGLSprite$(){var $_p$$=cc.Sprite.prototype;$_p$$._spriteFrameLoadedCallback=function $$_p$$$_spriteFrameLoadedCallback$($spriteFrame$$){this.setNodeDirty(!0);this.setTextureRect($spriteFrame$$.getRect(),$spriteFrame$$.isRotated(),$spriteFrame$$.getOriginalSize());this.dispatchEvent("load")};$_p$$.setOpacityModifyRGB=function $$_p$$$setOpacityModifyRGB$($modify$$){this._opacityModifyRGB!==$modify$$&&(this._opacityModifyRGB=$modify$$,this.updateColor())};$_p$$.updateDisplayedOpacity=
function $$_p$$$updateDisplayedOpacity$($parentOpacity$$){cc.Node.prototype.updateDisplayedOpacity.call(this,$parentOpacity$$);this.updateColor()};$_p$$.ctor=function $$_p$$$ctor$($fileName$$,$rect$$,$rotated$$){cc.Node.prototype.ctor.call(this);this._shouldBeHidden=!1;this._offsetPosition=cc.p(0,0);this._unflippedOffsetPositionFromCenter=cc.p(0,0);this._blendFunc={src:cc.BLEND_SRC,dst:cc.BLEND_DST};this._rect=cc.rect(0,0,0,0);this._quad=new cc.V3F_C4B_T2F_Quad;this._quadWebBuffer=cc._renderContext.createBuffer();
this._textureLoaded=this._quadDirty=!0;this._softInit($fileName$$,$rect$$,$rotated$$)};$_p$$._initRendererCmd=function $$_p$$$_initRendererCmd$(){this._rendererCmd=new cc.TextureRenderCmdWebGL(this)};$_p$$.setBlendFunc=function $$_p$$$setBlendFunc$($src$$,$dst$$){var $locBlendFunc$$=this._blendFunc;void 0===$dst$$?($locBlendFunc$$.src=$src$$.src,$locBlendFunc$$.dst=$src$$.dst):($locBlendFunc$$.src=$src$$,$locBlendFunc$$.dst=$dst$$)};$_p$$.init=function $$_p$$$init$(){if(0<arguments.length)return this.initWithFile(arguments[0],
arguments[1]);cc.Node.prototype.init.call(this);this.dirty=this._recursiveDirty=!1;this._blendFunc.src=cc.BLEND_SRC;this._blendFunc.dst=cc.BLEND_DST;this.texture=null;this._textureLoaded=!0;this._flippedX=this._flippedY=!1;this.anchorY=this.anchorX=.5;this._offsetPosition.x=0;this._offsetPosition.y=0;this._hasChildren=!1;var $tempColor$$={r:255,g:255,b:255,a:255};this._quad.bl.colors=$tempColor$$;this._quad.br.colors=$tempColor$$;this._quad.tl.colors=$tempColor$$;this._quad.tr.colors=$tempColor$$;
this._quadDirty=!0;this.setTextureRect(cc.rect(0,0,0,0),!1,cc.size(0,0));return!0};$_p$$.initWithTexture=function $$_p$$$initWithTexture$($texture$$,$rect$$,$rotated$$){cc.assert(0!=arguments.length,cc._LogInfos.Sprite_initWithTexture);$rotated$$=$rotated$$||!1;if(!cc.Node.prototype.init.call(this))return!1;this._batchNode=null;this.dirty=this._recursiveDirty=!1;this._opacityModifyRGB=!0;this._blendFunc.src=cc.BLEND_SRC;this._blendFunc.dst=cc.BLEND_DST;this._flippedX=this._flippedY=!1;this.anchorY=
this.anchorX=.5;this._offsetPosition.x=0;this._offsetPosition.y=0;this._hasChildren=!1;var $_x_locRect_locTextureLoaded_tmpColor$$=cc.color(255,255,255,255),$_y_locQuad$$=this._quad;$_y_locQuad$$.bl.colors=$_x_locRect_locTextureLoaded_tmpColor$$;$_y_locQuad$$.br.colors=$_x_locRect_locTextureLoaded_tmpColor$$;$_y_locQuad$$.tl.colors=$_x_locRect_locTextureLoaded_tmpColor$$;$_y_locQuad$$.tr.colors=$_x_locRect_locTextureLoaded_tmpColor$$;this._textureLoaded=$_x_locRect_locTextureLoaded_tmpColor$$=$texture$$.isLoaded();
if(!$_x_locRect_locTextureLoaded_tmpColor$$)return this._rectRotated=$rotated$$||!1,$rect$$&&($_x_locRect_locTextureLoaded_tmpColor$$=this._rect,$_x_locRect_locTextureLoaded_tmpColor$$.x=$rect$$.x,$_x_locRect_locTextureLoaded_tmpColor$$.y=$rect$$.y,$_x_locRect_locTextureLoaded_tmpColor$$.width=$rect$$.width,$_x_locRect_locTextureLoaded_tmpColor$$.height=$rect$$.height),$texture$$.addEventListener("load",this._textureLoadedCallback,this),!0;$rect$$||($rect$$=cc.rect(0,0,$texture$$.width,$texture$$.height));
$texture$$&&$texture$$.url&&($rotated$$?($_x_locRect_locTextureLoaded_tmpColor$$=$rect$$.x+$rect$$.height,$_y_locQuad$$=$rect$$.y+$rect$$.width):($_x_locRect_locTextureLoaded_tmpColor$$=$rect$$.x+$rect$$.width,$_y_locQuad$$=$rect$$.y+$rect$$.height),$_x_locRect_locTextureLoaded_tmpColor$$>$texture$$.width&&cc.error(cc._LogInfos.RectWidth,$texture$$.url),$_y_locQuad$$>$texture$$.height&&cc.error(cc._LogInfos.RectHeight,$texture$$.url));this.texture=$texture$$;this.setTextureRect($rect$$,$rotated$$);
this.batchNode=null;return this._quadDirty=!0};$_p$$._textureLoadedCallback=function $$_p$$$_textureLoadedCallback$($sender$$){if(!this._textureLoaded){this._textureLoaded=!0;var $locRect$$=this._rect;$locRect$$?cc._rectEqualToZero($locRect$$)&&($locRect$$.width=$sender$$.width,$locRect$$.height=$sender$$.height):$locRect$$=cc.rect(0,0,$sender$$.width,$sender$$.height);this.texture=$sender$$;this.setTextureRect($locRect$$,this._rectRotated);this.batchNode=this._batchNode;this._quadDirty=!0;this.dispatchEvent("load")}};
$_p$$.setTextureRect=function $$_p$$$setTextureRect$($rect$$3_relativeOffset_x1$$,$rotated$$2_y1$$,$untrimmedSize_x2$$){this._rectRotated=$rotated$$2_y1$$||!1;this.setContentSize($untrimmedSize_x2$$||$rect$$3_relativeOffset_x1$$);this.setVertexRect($rect$$3_relativeOffset_x1$$);this._setTextureCoords($rect$$3_relativeOffset_x1$$);$rect$$3_relativeOffset_x1$$=this._unflippedOffsetPositionFromCenter;this._flippedX&&($rect$$3_relativeOffset_x1$$.x=-$rect$$3_relativeOffset_x1$$.x);this._flippedY&&($rect$$3_relativeOffset_x1$$.y=
-$rect$$3_relativeOffset_x1$$.y);var $locRect$$2_y2$$=this._rect;this._offsetPosition.x=$rect$$3_relativeOffset_x1$$.x+(this._contentSize.width-$locRect$$2_y2$$.width)/2;this._offsetPosition.y=$rect$$3_relativeOffset_x1$$.y+(this._contentSize.height-$locRect$$2_y2$$.height)/2;if(this._batchNode)this.dirty=!0;else{$rect$$3_relativeOffset_x1$$=this._offsetPosition.x;$rotated$$2_y1$$=this._offsetPosition.y;$untrimmedSize_x2$$=$rect$$3_relativeOffset_x1$$+$locRect$$2_y2$$.width;var $locRect$$2_y2$$=$rotated$$2_y1$$+
$locRect$$2_y2$$.height,$locQuad$$=this._quad;$locQuad$$.bl.vertices={x:$rect$$3_relativeOffset_x1$$,y:$rotated$$2_y1$$,z:0};$locQuad$$.br.vertices={x:$untrimmedSize_x2$$,y:$rotated$$2_y1$$,z:0};$locQuad$$.tl.vertices={x:$rect$$3_relativeOffset_x1$$,y:$locRect$$2_y2$$,z:0};$locQuad$$.tr.vertices={x:$untrimmedSize_x2$$,y:$locRect$$2_y2$$,z:0};this._quadDirty=!0}};$_p$$.updateTransform=function $$_p$$$updateTransform$(){if(this.dirty){var $locQuad$$2_vertices$$=this._quad,$dy$$4_locParent_x1$$=this._parent;
if(!this._visible||$dy$$4_locParent_x1$$&&$dy$$4_locParent_x1$$!=this._batchNode&&$dy$$4_locParent_x1$$._shouldBeHidden)$locQuad$$2_vertices$$.br.vertices=$locQuad$$2_vertices$$.tl.vertices=$locQuad$$2_vertices$$.tr.vertices=$locQuad$$2_vertices$$.bl.vertices={x:0,y:0,z:0},this._shouldBeHidden=!0;else{this._shouldBeHidden=!1;var $ax_locTransformToBatch$$=this._transformToBatch=$dy$$4_locParent_x1$$&&$dy$$4_locParent_x1$$!=this._batchNode?cc.affineTransformConcat(this.nodeToParentTransform(),$dy$$4_locParent_x1$$._transformToBatch):
this.nodeToParentTransform(),$ay_rect$$=this._rect,$dy$$4_locParent_x1$$=this._offsetPosition.x,$by_y1$$=this._offsetPosition.y,$cy_x2$$=$dy$$4_locParent_x1$$+$ay_rect$$.width,$locVertexZ_y2$$=$by_y1$$+$ay_rect$$.height,$dx$$4_x$$=$ax_locTransformToBatch$$.tx,$y$$=$ax_locTransformToBatch$$.ty,$cr$$=$ax_locTransformToBatch$$.a,$sr$$=$ax_locTransformToBatch$$.b,$cr2$$=$ax_locTransformToBatch$$.d,$sr2$$=-$ax_locTransformToBatch$$.c,$ax_locTransformToBatch$$=$dy$$4_locParent_x1$$*$cr$$-$by_y1$$*$sr2$$+
$dx$$4_x$$,$ay_rect$$=$dy$$4_locParent_x1$$*$sr$$+$by_y1$$*$cr2$$+$y$$,$bx$$=$cy_x2$$*$cr$$-$by_y1$$*$sr2$$+$dx$$4_x$$,$by_y1$$=$cy_x2$$*$sr$$+$by_y1$$*$cr2$$+$y$$,$cx$$=$cy_x2$$*$cr$$-$locVertexZ_y2$$*$sr2$$+$dx$$4_x$$,$cy_x2$$=$cy_x2$$*$sr$$+$locVertexZ_y2$$*$cr2$$+$y$$,$dx$$4_x$$=$dy$$4_locParent_x1$$*$cr$$-$locVertexZ_y2$$*$sr2$$+$dx$$4_x$$,$dy$$4_locParent_x1$$=$dy$$4_locParent_x1$$*$sr$$+$locVertexZ_y2$$*$cr2$$+$y$$,$locVertexZ_y2$$=this._vertexZ;cc.SPRITEBATCHNODE_RENDER_SUBPIXEL||($ax_locTransformToBatch$$|=
0,$ay_rect$$|=0,$bx$$|=0,$by_y1$$|=0,$cx$$|=0,$cy_x2$$|=0,$dx$$4_x$$|=0,$dy$$4_locParent_x1$$|=0);$locQuad$$2_vertices$$.bl.vertices={x:$ax_locTransformToBatch$$,y:$ay_rect$$,z:$locVertexZ_y2$$};$locQuad$$2_vertices$$.br.vertices={x:$bx$$,y:$by_y1$$,z:$locVertexZ_y2$$};$locQuad$$2_vertices$$.tl.vertices={x:$dx$$4_x$$,y:$dy$$4_locParent_x1$$,z:$locVertexZ_y2$$};$locQuad$$2_vertices$$.tr.vertices={x:$cx$$,y:$cy_x2$$,z:$locVertexZ_y2$$}}this.textureAtlas.updateQuad($locQuad$$2_vertices$$,this.atlasIndex);
this.dirty=this._recursiveDirty=!1}this._hasChildren&&this._arrayMakeObjectsPerformSelector(this._children,cc.Node._StateCallbackType.updateTransform);cc.SPRITE_DEBUG_DRAW&&($locQuad$$2_vertices$$=[cc.p(this._quad.bl.vertices.x,this._quad.bl.vertices.y),cc.p(this._quad.br.vertices.x,this._quad.br.vertices.y),cc.p(this._quad.tr.vertices.x,this._quad.tr.vertices.y),cc.p(this._quad.tl.vertices.x,this._quad.tl.vertices.y)],cc._drawingUtil.drawPoly($locQuad$$2_vertices$$,4,!0))};$_p$$.addChild=function $$_p$$$addChild$($child$$,
$localZOrder$$,$tag$$){cc.assert($child$$,cc._LogInfos.Sprite_addChild_3);null==$localZOrder$$&&($localZOrder$$=$child$$._localZOrder);null==$tag$$&&($tag$$=$child$$.tag);if(this._batchNode){if(!($child$$ instanceof cc.Sprite)){cc.log(cc._LogInfos.Sprite_addChild);return}$child$$.texture._webTextureObj!==this.textureAtlas.texture._webTextureObj&&cc.log(cc._LogInfos.Sprite_addChild_2);this._batchNode.appendChild($child$$);this._reorderChildDirty||this._setReorderChildDirtyRecursively()}cc.Node.prototype.addChild.call(this,
$child$$,$localZOrder$$,$tag$$);this._hasChildren=!0};$_p$$.setOpacity=function $$_p$$$setOpacity$($opacity$$){cc.Node.prototype.setOpacity.call(this,$opacity$$);this.updateColor()};$_p$$.setColor=function $$_p$$$setColor$($color3$$){cc.Node.prototype.setColor.call(this,$color3$$);this.updateColor()};$_p$$.updateDisplayedColor=function $$_p$$$updateDisplayedColor$($parentColor$$){cc.Node.prototype.updateDisplayedColor.call(this,$parentColor$$);this.updateColor()};$_p$$.setSpriteFrame=function $$_p$$$setSpriteFrame$($newFrame$$){var $_t$$=
this;cc.isString($newFrame$$)&&($newFrame$$=cc.spriteFrameCache.getSpriteFrame($newFrame$$),cc.assert($newFrame$$,cc._LogInfos.Sprite_setSpriteFrame));$_t$$.setNodeDirty(!0);var $frameOffset_pNewTexture$$=$newFrame$$.getOffset();$_t$$._unflippedOffsetPositionFromCenter.x=$frameOffset_pNewTexture$$.x;$_t$$._unflippedOffsetPositionFromCenter.y=$frameOffset_pNewTexture$$.y;$frameOffset_pNewTexture$$=$newFrame$$.getTexture();$newFrame$$.textureLoaded()||($_t$$._textureLoaded=!1,$newFrame$$.addEventListener("load",
function($sender$$){$_t$$._textureLoaded=!0;var $locNewTexture$$=$sender$$.getTexture();$locNewTexture$$!=$_t$$._texture&&($_t$$.texture=$locNewTexture$$);$_t$$.setTextureRect($sender$$.getRect(),$sender$$.isRotated(),$sender$$.getOriginalSize());$_t$$.dispatchEvent("load")},$_t$$));$frameOffset_pNewTexture$$!=$_t$$._texture&&($_t$$.texture=$frameOffset_pNewTexture$$);$_t$$._rectRotated=$newFrame$$.isRotated();$_t$$.setTextureRect($newFrame$$.getRect(),$_t$$._rectRotated,$newFrame$$.getOriginalSize())};
$_p$$.isFrameDisplayed=function $$_p$$$isFrameDisplayed$($frame$$){return cc.rectEqualToRect($frame$$.getRect(),this._rect)&&$frame$$.getTexture().getName()==this._texture.getName()&&cc.pointEqualToPoint($frame$$.getOffset(),this._unflippedOffsetPositionFromCenter)};$_p$$.setBatchNode=function $$_p$$$setBatchNode$($spriteBatchNode_x1$$){if(this._batchNode=$spriteBatchNode_x1$$)this._transformToBatch=cc.affineTransformIdentity(),this.textureAtlas=this._batchNode.textureAtlas;else{this.atlasIndex=cc.Sprite.INDEX_NOT_INITIALIZED;
this.textureAtlas=null;this.dirty=this._recursiveDirty=!1;$spriteBatchNode_x1$$=this._offsetPosition.x;var $y1$$=this._offsetPosition.y,$x2$$=$spriteBatchNode_x1$$+this._rect.width,$y2$$=$y1$$+this._rect.height,$locQuad$$=this._quad;$locQuad$$.bl.vertices={x:$spriteBatchNode_x1$$,y:$y1$$,z:0};$locQuad$$.br.vertices={x:$x2$$,y:$y1$$,z:0};$locQuad$$.tl.vertices={x:$spriteBatchNode_x1$$,y:$y2$$,z:0};$locQuad$$.tr.vertices={x:$x2$$,y:$y2$$,z:0};this._quadDirty=!0}};$_p$$.setTexture=function $$_p$$$setTexture$($texture$$){var $_t$$=
this;if($texture$$&&cc.isString($texture$$)){$texture$$=cc.textureCache.addImage($texture$$);$_t$$.setTexture($texture$$);var $size$$0$$=$texture$$.getContentSize();$_t$$.setTextureRect(cc.rect(0,0,$size$$0$$.width,$size$$0$$.height));$texture$$._isLoaded||$texture$$.addEventListener("load",function(){var $size$$=$texture$$.getContentSize();$_t$$.setTextureRect(cc.rect(0,0,$size$$.width,$size$$.height))},this)}else cc.assert(!$texture$$||$texture$$ instanceof cc.Texture2D,cc._LogInfos.Sprite_setTexture_2),
$_t$$._batchNode&&$_t$$._batchNode.texture!=$texture$$?cc.log(cc._LogInfos.Sprite_setTexture):($_t$$.shaderProgram=$texture$$?cc.shaderCache.programForKey(cc.SHADER_POSITION_TEXTURECOLOR):cc.shaderCache.programForKey(cc.SHADER_POSITION_COLOR),$_t$$._batchNode||$_t$$._texture==$texture$$||($_t$$._texture=$texture$$,$_t$$._updateBlendFunc()))};$_p$$.draw=function $$_p$$$draw$(){if(this._textureLoaded){var $drawRectG2_gl$$11_locQuad$$=cc._renderContext,$locTexture_offsetPixG2$$=this._texture;$locTexture_offsetPixG2$$?
$locTexture_offsetPixG2$$._isLoaded&&(this._shaderProgram.use(),this._shaderProgram.setUniformForModelViewAndProjectionMatrixWithMat4(),cc.glBlendFunc(this._blendFunc.src,this._blendFunc.dst),cc.glBindTexture2DN(0,$locTexture_offsetPixG2$$),cc.glEnableVertexAttribs(cc.VERTEX_ATTRIB_FLAG_POS_COLOR_TEX),$drawRectG2_gl$$11_locQuad$$.bindBuffer($drawRectG2_gl$$11_locQuad$$.ARRAY_BUFFER,this._quadWebBuffer),this._quadDirty&&($drawRectG2_gl$$11_locQuad$$.bufferData($drawRectG2_gl$$11_locQuad$$.ARRAY_BUFFER,
this._quad.arrayBuffer,$drawRectG2_gl$$11_locQuad$$.DYNAMIC_DRAW),this._quadDirty=!1),$drawRectG2_gl$$11_locQuad$$.vertexAttribPointer(0,3,$drawRectG2_gl$$11_locQuad$$.FLOAT,!1,24,0),$drawRectG2_gl$$11_locQuad$$.vertexAttribPointer(1,4,$drawRectG2_gl$$11_locQuad$$.UNSIGNED_BYTE,!0,24,12),$drawRectG2_gl$$11_locQuad$$.vertexAttribPointer(2,2,$drawRectG2_gl$$11_locQuad$$.FLOAT,!1,24,16),$drawRectG2_gl$$11_locQuad$$.drawArrays($drawRectG2_gl$$11_locQuad$$.TRIANGLE_STRIP,0,4)):(this._shaderProgram.use(),
this._shaderProgram.setUniformForModelViewAndProjectionMatrixWithMat4(),cc.glBlendFunc(this._blendFunc.src,this._blendFunc.dst),cc.glBindTexture2D(null),cc.glEnableVertexAttribs(cc.VERTEX_ATTRIB_FLAG_POSITION|cc.VERTEX_ATTRIB_FLAG_COLOR),$drawRectG2_gl$$11_locQuad$$.bindBuffer($drawRectG2_gl$$11_locQuad$$.ARRAY_BUFFER,this._quadWebBuffer),this._quadDirty&&(cc._renderContext.bufferData(cc._renderContext.ARRAY_BUFFER,this._quad.arrayBuffer,cc._renderContext.STATIC_DRAW),this._quadDirty=!1),$drawRectG2_gl$$11_locQuad$$.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,
3,$drawRectG2_gl$$11_locQuad$$.FLOAT,!1,24,0),$drawRectG2_gl$$11_locQuad$$.vertexAttribPointer(cc.VERTEX_ATTRIB_COLOR,4,$drawRectG2_gl$$11_locQuad$$.UNSIGNED_BYTE,!0,24,12),$drawRectG2_gl$$11_locQuad$$.drawArrays($drawRectG2_gl$$11_locQuad$$.TRIANGLE_STRIP,0,4));cc.g_NumberOfDraws++;if(0!==cc.SPRITE_DEBUG_DRAW||this._showNode)1===cc.SPRITE_DEBUG_DRAW||this._showNode?($drawRectG2_gl$$11_locQuad$$=this._quad,$drawRectG2_gl$$11_locQuad$$=[cc.p($drawRectG2_gl$$11_locQuad$$.tl.vertices.x,$drawRectG2_gl$$11_locQuad$$.tl.vertices.y),
cc.p($drawRectG2_gl$$11_locQuad$$.bl.vertices.x,$drawRectG2_gl$$11_locQuad$$.bl.vertices.y),cc.p($drawRectG2_gl$$11_locQuad$$.br.vertices.x,$drawRectG2_gl$$11_locQuad$$.br.vertices.y),cc.p($drawRectG2_gl$$11_locQuad$$.tr.vertices.x,$drawRectG2_gl$$11_locQuad$$.tr.vertices.y)],cc._drawingUtil.drawPoly($drawRectG2_gl$$11_locQuad$$,4,!0)):2===cc.SPRITE_DEBUG_DRAW&&($drawRectG2_gl$$11_locQuad$$=this.getTextureRect(),$locTexture_offsetPixG2$$=this.getOffsetPosition(),$drawRectG2_gl$$11_locQuad$$=[cc.p($locTexture_offsetPixG2$$.x,
$locTexture_offsetPixG2$$.y),cc.p($locTexture_offsetPixG2$$.x+$drawRectG2_gl$$11_locQuad$$.width,$locTexture_offsetPixG2$$.y),cc.p($locTexture_offsetPixG2$$.x+$drawRectG2_gl$$11_locQuad$$.width,$locTexture_offsetPixG2$$.y+$drawRectG2_gl$$11_locQuad$$.height),cc.p($locTexture_offsetPixG2$$.x,$locTexture_offsetPixG2$$.y+$drawRectG2_gl$$11_locQuad$$.height)],cc._drawingUtil.drawPoly($drawRectG2_gl$$11_locQuad$$,4,!0))}};delete $_p$$};
cc._tmp.WebGLLabelTTF=function $cc$_tmp$WebGLLabelTTF$(){var $_p$$=cc.LabelTTF.prototype;$_p$$.setColor=cc.Sprite.prototype.setColor;$_p$$._transformForRenderer=function $$_p$$$_transformForRenderer$(){this._needUpdateTexture&&(this._needUpdateTexture=!1,this._updateTexture());cc.Node.prototype._transformForRenderer.call(this)};$_p$$._setColorsString=function $$_p$$$_setColorsString$(){this._needUpdateTexture=!0;var $locStrokeColor$$=this._strokeColor,$locFontFillColor$$=this._textFillColor;this._shadowColorStr=
"rgba(128,128,128,"+this._shadowOpacity+")";this._fillColorStr="rgba("+(0|$locFontFillColor$$.r)+","+(0|$locFontFillColor$$.g)+","+(0|$locFontFillColor$$.b)+", 1)";this._strokeColorStr="rgba("+(0|$locStrokeColor$$.r)+","+(0|$locStrokeColor$$.g)+","+(0|$locStrokeColor$$.b)+", 1)"};$_p$$.updateDisplayedColor=cc.Sprite.prototype.updateDisplayedColor;$_p$$.setOpacity=cc.Sprite.prototype.setOpacity;$_p$$.updateDisplayedOpacity=cc.Sprite.prototype.updateDisplayedOpacity;$_p$$.initWithStringAndTextDefinition=
function $$_p$$$initWithStringAndTextDefinition$($text$$,$textDefinition$$){if(!cc.Sprite.prototype.init.call(this))return!1;this.shaderProgram=cc.shaderCache.programForKey(cc.LabelTTF._SHADER_PROGRAM);this._updateWithTextDefinition($textDefinition$$,!1);this.string=$text$$;return!0};$_p$$.setFontFillColor=function $$_p$$$setFontFillColor$($tintColor$$){var $locTextFillColor$$=this._textFillColor;if($locTextFillColor$$.r!=$tintColor$$.r||$locTextFillColor$$.g!=$tintColor$$.g||$locTextFillColor$$.b!=
$tintColor$$.b)$locTextFillColor$$.r=$tintColor$$.r,$locTextFillColor$$.g=$tintColor$$.g,$locTextFillColor$$.b=$tintColor$$.b,this._setColorsString(),this._needUpdateTexture=!0};$_p$$.draw=function $$_p$$$draw$($ctx$$1_drawSizeG2_gl$$12_locQuad$$5_verticesG1$$1_verticesG2$$){if(this._string&&""!=this._string){$ctx$$1_drawSizeG2_gl$$12_locQuad$$5_verticesG1$$1_verticesG2$$=$ctx$$1_drawSizeG2_gl$$12_locQuad$$5_verticesG1$$1_verticesG2$$||cc._renderContext;var $locTexture$$=this._texture;$locTexture$$&&
$locTexture$$._isLoaded&&(this._shaderProgram.use(),this._shaderProgram.setUniformForModelViewAndProjectionMatrixWithMat4(),cc.glBlendFunc(this._blendFunc.src,this._blendFunc.dst),cc.glBindTexture2D($locTexture$$),cc.glEnableVertexAttribs(cc.VERTEX_ATTRIB_FLAG_POS_COLOR_TEX),$ctx$$1_drawSizeG2_gl$$12_locQuad$$5_verticesG1$$1_verticesG2$$.bindBuffer($ctx$$1_drawSizeG2_gl$$12_locQuad$$5_verticesG1$$1_verticesG2$$.ARRAY_BUFFER,this._quadWebBuffer),this._quadDirty&&($ctx$$1_drawSizeG2_gl$$12_locQuad$$5_verticesG1$$1_verticesG2$$.bufferData($ctx$$1_drawSizeG2_gl$$12_locQuad$$5_verticesG1$$1_verticesG2$$.ARRAY_BUFFER,
this._quad.arrayBuffer,$ctx$$1_drawSizeG2_gl$$12_locQuad$$5_verticesG1$$1_verticesG2$$.STATIC_DRAW),this._quadDirty=!1),$ctx$$1_drawSizeG2_gl$$12_locQuad$$5_verticesG1$$1_verticesG2$$.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,3,$ctx$$1_drawSizeG2_gl$$12_locQuad$$5_verticesG1$$1_verticesG2$$.FLOAT,!1,24,0),$ctx$$1_drawSizeG2_gl$$12_locQuad$$5_verticesG1$$1_verticesG2$$.vertexAttribPointer(cc.VERTEX_ATTRIB_TEX_COORDS,2,$ctx$$1_drawSizeG2_gl$$12_locQuad$$5_verticesG1$$1_verticesG2$$.FLOAT,!1,24,
16),$ctx$$1_drawSizeG2_gl$$12_locQuad$$5_verticesG1$$1_verticesG2$$.vertexAttribPointer(cc.VERTEX_ATTRIB_COLOR,4,$ctx$$1_drawSizeG2_gl$$12_locQuad$$5_verticesG1$$1_verticesG2$$.UNSIGNED_BYTE,!0,24,12),$ctx$$1_drawSizeG2_gl$$12_locQuad$$5_verticesG1$$1_verticesG2$$.drawArrays($ctx$$1_drawSizeG2_gl$$12_locQuad$$5_verticesG1$$1_verticesG2$$.TRIANGLE_STRIP,0,4));if(1===cc.SPRITE_DEBUG_DRAW)$ctx$$1_drawSizeG2_gl$$12_locQuad$$5_verticesG1$$1_verticesG2$$=this._quad,$ctx$$1_drawSizeG2_gl$$12_locQuad$$5_verticesG1$$1_verticesG2$$=
[cc.p($ctx$$1_drawSizeG2_gl$$12_locQuad$$5_verticesG1$$1_verticesG2$$.tl.vertices.x,$ctx$$1_drawSizeG2_gl$$12_locQuad$$5_verticesG1$$1_verticesG2$$.tl.vertices.y),cc.p($ctx$$1_drawSizeG2_gl$$12_locQuad$$5_verticesG1$$1_verticesG2$$.bl.vertices.x,$ctx$$1_drawSizeG2_gl$$12_locQuad$$5_verticesG1$$1_verticesG2$$.bl.vertices.y),cc.p($ctx$$1_drawSizeG2_gl$$12_locQuad$$5_verticesG1$$1_verticesG2$$.br.vertices.x,$ctx$$1_drawSizeG2_gl$$12_locQuad$$5_verticesG1$$1_verticesG2$$.br.vertices.y),cc.p($ctx$$1_drawSizeG2_gl$$12_locQuad$$5_verticesG1$$1_verticesG2$$.tr.vertices.x,
$ctx$$1_drawSizeG2_gl$$12_locQuad$$5_verticesG1$$1_verticesG2$$.tr.vertices.y)],cc._drawingUtil.drawPoly($ctx$$1_drawSizeG2_gl$$12_locQuad$$5_verticesG1$$1_verticesG2$$,4,!0);else if(2===cc.SPRITE_DEBUG_DRAW){$ctx$$1_drawSizeG2_gl$$12_locQuad$$5_verticesG1$$1_verticesG2$$=this.getTextureRect();var $locTexture$$=this.offsetX,$offsetPixG2Y$$=this.offsetY;$ctx$$1_drawSizeG2_gl$$12_locQuad$$5_verticesG1$$1_verticesG2$$=[cc.p($locTexture$$,$offsetPixG2Y$$),cc.p($locTexture$$+$ctx$$1_drawSizeG2_gl$$12_locQuad$$5_verticesG1$$1_verticesG2$$.width,
$offsetPixG2Y$$),cc.p($locTexture$$+$ctx$$1_drawSizeG2_gl$$12_locQuad$$5_verticesG1$$1_verticesG2$$.width,$offsetPixG2Y$$+$ctx$$1_drawSizeG2_gl$$12_locQuad$$5_verticesG1$$1_verticesG2$$.height),cc.p($locTexture$$,$offsetPixG2Y$$+$ctx$$1_drawSizeG2_gl$$12_locQuad$$5_verticesG1$$1_verticesG2$$.height)];cc._drawingUtil.drawPoly($ctx$$1_drawSizeG2_gl$$12_locQuad$$5_verticesG1$$1_verticesG2$$,4,!0)}cc.g_NumberOfDraws++}};$_p$$.setTextureRect=cc.Sprite.prototype.setTextureRect};
cc._tmp.DirectorWebGL=function $cc$_tmp$DirectorWebGL$(){cc.DirectorDelegate=cc.Class.extend({updateProjection:function(){}});var $_p$$=cc.Director.prototype;$_p$$.setProjection=function $$_p$$$setProjection$($projection$$){var $center_size$$=this._winSizeInPoints;this.setViewport();var $matrixLookup_orthoMatrix_view$$=this._openGLView,$ox_up$$=$matrixLookup_orthoMatrix_view$$._viewPortRect.x/$matrixLookup_orthoMatrix_view$$._scaleX,$oy$$=$matrixLookup_orthoMatrix_view$$._viewPortRect.y/$matrixLookup_orthoMatrix_view$$._scaleY;
switch($projection$$){case cc.Director.PROJECTION_2D:cc.kmGLMatrixMode(cc.KM_GL_PROJECTION);cc.kmGLLoadIdentity();$matrixLookup_orthoMatrix_view$$=new cc.kmMat4;cc.kmMat4OrthographicProjection($matrixLookup_orthoMatrix_view$$,0,$center_size$$.width,0,$center_size$$.height,-1024,1024);cc.kmGLMultMatrix($matrixLookup_orthoMatrix_view$$);cc.kmGLMatrixMode(cc.KM_GL_MODELVIEW);cc.kmGLLoadIdentity();break;case cc.Director.PROJECTION_3D:var $eye_zeye$$=this.getZEye(),$matrixPerspective$$=new cc.kmMat4,$matrixLookup_orthoMatrix_view$$=
new cc.kmMat4;cc.kmGLMatrixMode(cc.KM_GL_PROJECTION);cc.kmGLLoadIdentity();cc.kmMat4PerspectiveProjection($matrixPerspective$$,60,$center_size$$.width/$center_size$$.height,.1,2*$eye_zeye$$);cc.kmGLMultMatrix($matrixPerspective$$);cc.kmGLMatrixMode(cc.KM_GL_MODELVIEW);cc.kmGLLoadIdentity();$eye_zeye$$=cc.kmVec3Fill(null,-$ox_up$$+$center_size$$.width/2,-$oy$$+$center_size$$.height/2,$eye_zeye$$);$center_size$$=cc.kmVec3Fill(null,-$ox_up$$+$center_size$$.width/2,-$oy$$+$center_size$$.height/2,0);$ox_up$$=
cc.kmVec3Fill(null,0,1,0);cc.kmMat4LookAt($matrixLookup_orthoMatrix_view$$,$eye_zeye$$,$center_size$$,$ox_up$$);cc.kmGLMultMatrix($matrixLookup_orthoMatrix_view$$);break;case cc.Director.PROJECTION_CUSTOM:this._projectionDelegate&&this._projectionDelegate.updateProjection();break;default:cc.log(cc._LogInfos.Director_setProjection)}this._projection=$projection$$;cc.eventManager.dispatchEvent(this._eventProjectionChanged);cc.setProjectionMatrixDirty();cc.renderer.childrenOrderDirty=!0};$_p$$.setDepthTest=
function $$_p$$$setDepthTest$($on$$){var $loc_gl$$=cc._renderContext;$on$$?($loc_gl$$.clearDepth(1),$loc_gl$$.enable($loc_gl$$.DEPTH_TEST),$loc_gl$$.depthFunc($loc_gl$$.LEQUAL)):$loc_gl$$.disable($loc_gl$$.DEPTH_TEST)};$_p$$.setOpenGLView=function $$_p$$$setOpenGLView$($conf_openGLView$$){this._winSizeInPoints.width=cc._canvas.width;this._winSizeInPoints.height=cc._canvas.height;this._openGLView=$conf_openGLView$$||cc.view;$conf_openGLView$$=cc.configuration;$conf_openGLView$$.gatherGPUInfo();$conf_openGLView$$.dumpInfo();
this._createStatsLabel();this.setGLDefaultValues();cc.eventManager&&cc.eventManager.setEnabled(!0)};$_p$$._clear=function $$_p$$$_clear$(){var $gl$$=cc._renderContext;$gl$$.clear($gl$$.COLOR_BUFFER_BIT|$gl$$.DEPTH_BUFFER_BIT)};$_p$$._beforeVisitScene=function $$_p$$$_beforeVisitScene$(){cc.kmGLPushMatrix()};$_p$$._afterVisitScene=function $$_p$$$_afterVisitScene$(){cc.kmGLPopMatrix()};$_p$$._createStatsLabel=function $$_p$$$_createStatsLabel$(){if(!cc.LabelAtlas)this._createStatsLabelForCanvas();
else if(null!=cc.Director._fpsImageLoaded&&0!=cc.Director._fpsImageLoaded){var $locStatsPosition_texture$$=new cc.Texture2D;$locStatsPosition_texture$$.initWithElement(cc.Director._fpsImage);$locStatsPosition_texture$$.handleLoadedTexture();var $factor$$=cc.view.getDesignResolutionSize().height/320;0===$factor$$&&($factor$$=this._winSizeInPoints.height/320);var $tmpLabel$$=new cc.LabelAtlas;$tmpLabel$$._setIgnoreContentScaleFactor(!0);$tmpLabel$$.initWithString("00.0",$locStatsPosition_texture$$,
12,32,".");$tmpLabel$$.scale=$factor$$;this._FPSLabel=$tmpLabel$$;$tmpLabel$$=new cc.LabelAtlas;$tmpLabel$$._setIgnoreContentScaleFactor(!0);$tmpLabel$$.initWithString("0.000",$locStatsPosition_texture$$,12,32,".");$tmpLabel$$.scale=$factor$$;this._SPFLabel=$tmpLabel$$;$tmpLabel$$=new cc.LabelAtlas;$tmpLabel$$._setIgnoreContentScaleFactor(!0);$tmpLabel$$.initWithString("000",$locStatsPosition_texture$$,12,32,".");$tmpLabel$$.scale=$factor$$;this._drawsLabel=$tmpLabel$$;$locStatsPosition_texture$$=
cc.DIRECTOR_STATS_POSITION;this._drawsLabel.setPosition($locStatsPosition_texture$$.x,34*$factor$$+$locStatsPosition_texture$$.y);this._SPFLabel.setPosition($locStatsPosition_texture$$.x,17*$factor$$+$locStatsPosition_texture$$.y);this._FPSLabel.setPosition($locStatsPosition_texture$$)}};$_p$$._createStatsLabelForCanvas=function $$_p$$$_createStatsLabelForCanvas$(){var $fontSize$$1_locStatsPosition$$=0,$fontSize$$1_locStatsPosition$$=this._winSizeInPoints.width>this._winSizeInPoints.height?0|this._winSizeInPoints.height/
320*24:0|this._winSizeInPoints.width/320*24;this._FPSLabel=new cc.LabelTTF("000.0","Arial",$fontSize$$1_locStatsPosition$$);this._SPFLabel=new cc.LabelTTF("0.000","Arial",$fontSize$$1_locStatsPosition$$);this._drawsLabel=new cc.LabelTTF("0000","Arial",$fontSize$$1_locStatsPosition$$);$fontSize$$1_locStatsPosition$$=cc.DIRECTOR_STATS_POSITION;this._drawsLabel.setPosition(this._drawsLabel.width/2+$fontSize$$1_locStatsPosition$$.x,5*this._drawsLabel.height/2+$fontSize$$1_locStatsPosition$$.y);this._SPFLabel.setPosition(this._SPFLabel.width/
2+$fontSize$$1_locStatsPosition$$.x,3*this._SPFLabel.height/2+$fontSize$$1_locStatsPosition$$.y);this._FPSLabel.setPosition(this._FPSLabel.width/2+$fontSize$$1_locStatsPosition$$.x,this._FPSLabel.height/2+$fontSize$$1_locStatsPosition$$.y)};$_p$$.convertToGL=function $$_p$$$convertToGL$($clipCoord_uiPoint$$){var $glCoord_transform_zClip$$=new cc.kmMat4;cc.GLToClipTransform($glCoord_transform_zClip$$);var $transformInv$$=new cc.kmMat4;cc.kmMat4Inverse($transformInv$$,$glCoord_transform_zClip$$);var $glCoord_transform_zClip$$=
$glCoord_transform_zClip$$.mat[14]/$glCoord_transform_zClip$$.mat[15],$glSize$$=this._openGLView.getDesignResolutionSize();$clipCoord_uiPoint$$=new cc.kmVec3(2*$clipCoord_uiPoint$$.x/$glSize$$.width-1,1-2*$clipCoord_uiPoint$$.y/$glSize$$.height,$glCoord_transform_zClip$$);$glCoord_transform_zClip$$=new cc.kmVec3;cc.kmVec3TransformCoord($glCoord_transform_zClip$$,$clipCoord_uiPoint$$,$transformInv$$);return cc.p($glCoord_transform_zClip$$.x,$glCoord_transform_zClip$$.y)};$_p$$.convertToUI=function $$_p$$$convertToUI$($glCoord$$){var $glSize$$1_transform$$=
new cc.kmMat4;cc.GLToClipTransform($glSize$$1_transform$$);var $clipCoord$$=new cc.kmVec3;$glCoord$$=new cc.kmVec3($glCoord$$.x,$glCoord$$.y,0);cc.kmVec3TransformCoord($clipCoord$$,$glCoord$$,$glSize$$1_transform$$);$glSize$$1_transform$$=this._openGLView.getDesignResolutionSize();return cc.p($glSize$$1_transform$$.width*(.5*$clipCoord$$.x+.5),$glSize$$1_transform$$.height*(.5*-$clipCoord$$.y+.5))};$_p$$.getVisibleSize=function $$_p$$$getVisibleSize$(){return this._openGLView.getVisibleSize()};$_p$$.getVisibleOrigin=
function $$_p$$$getVisibleOrigin$(){return this._openGLView.getVisibleOrigin()};$_p$$.getZEye=function $$_p$$$getZEye$(){return this._winSizeInPoints.height/1.1566};$_p$$.setViewport=function $$_p$$$setViewport$(){var $view$$=this._openGLView;if($view$$){var $locWinSizeInPoints$$=this._winSizeInPoints;$view$$.setViewPortInPoints(-$view$$._viewPortRect.x/$view$$._scaleX,-$view$$._viewPortRect.y/$view$$._scaleY,$locWinSizeInPoints$$.width,$locWinSizeInPoints$$.height)}};$_p$$.getOpenGLView=function $$_p$$$getOpenGLView$(){return this._openGLView};
$_p$$.getProjection=function $$_p$$$getProjection$(){return this._projection};$_p$$.setAlphaBlending=function $$_p$$$setAlphaBlending$($on$$){$on$$?cc.glBlendFunc(cc.BLEND_SRC,cc.BLEND_DST):cc.glBlendFunc(cc._renderContext.ONE,cc._renderContext.ZERO)};$_p$$.setGLDefaultValues=function $$_p$$$setGLDefaultValues$(){this.setAlphaBlending(!0);this.setDepthTest(!1);this.setProjection(this._projection);cc._renderContext.clearColor(0,0,0,1)}};
cc.configuration={ERROR:0,STRING:1,INT:2,DOUBLE:3,BOOLEAN:4,_maxTextureSize:0,_maxModelviewStackDepth:0,_supportsPVRTC:!1,_supportsNPOT:!1,_supportsBGRA8888:!1,_supportsDiscardFramebuffer:!1,_supportsShareableVAO:!1,_maxSamplesAllowed:0,_maxTextureUnits:0,_GlExtensions:"",_valueDict:{},_inited:!1,_init:function $cc$configuration$_init$(){var $locValueDict$$=this._valueDict;$locValueDict$$["cocos2d.x.version"]=cc.ENGINE_VERSION;$locValueDict$$["cocos2d.x.compiled_with_profiler"]=!1;$locValueDict$$["cocos2d.x.compiled_with_gl_state_cache"]=
cc.ENABLE_GL_STATE_CACHE;this._inited=!0},getMaxTextureSize:function $cc$configuration$getMaxTextureSize$(){return this._maxTextureSize},getMaxModelviewStackDepth:function $cc$configuration$getMaxModelviewStackDepth$(){return this._maxModelviewStackDepth},getMaxTextureUnits:function $cc$configuration$getMaxTextureUnits$(){return this._maxTextureUnits},supportsNPOT:function $cc$configuration$supportsNPOT$(){return this._supportsNPOT},supportsPVRTC:function $cc$configuration$supportsPVRTC$(){return this._supportsPVRTC},
supportsETC:function $cc$configuration$supportsETC$(){return!1},supportsS3TC:function $cc$configuration$supportsS3TC$(){return!1},supportsATITC:function $cc$configuration$supportsATITC$(){return!1},supportsBGRA8888:function $cc$configuration$supportsBGRA8888$(){return this._supportsBGRA8888},supportsDiscardFramebuffer:function $cc$configuration$supportsDiscardFramebuffer$(){return this._supportsDiscardFramebuffer},supportsShareableVAO:function $cc$configuration$supportsShareableVAO$(){return this._supportsShareableVAO},
checkForGLExtension:function $cc$configuration$checkForGLExtension$($searchName$$){return-1<this._GlExtensions.indexOf($searchName$$)},getValue:function $cc$configuration$getValue$($key$$,$default_value$$){this._inited||this._init();var $locValueDict$$=this._valueDict;return $locValueDict$$[$key$$]?$locValueDict$$[$key$$]:$default_value$$},setValue:function $cc$configuration$setValue$($key$$,$value$$){this._valueDict[$key$$]=$value$$},dumpInfo:function $cc$configuration$dumpInfo$(){0===cc.ENABLE_GL_STATE_CACHE&&
(cc.log(""),cc.log(cc._LogInfos.configuration_dumpInfo),cc.log(""))},gatherGPUInfo:function $cc$configuration$gatherGPUInfo$(){if(cc._renderType!==cc._RENDER_TYPE_CANVAS){this._inited||this._init();var $gl$$=cc._renderContext,$locValueDict$$=this._valueDict;$locValueDict$$["gl.vendor"]=$gl$$.getParameter($gl$$.VENDOR);$locValueDict$$["gl.renderer"]=$gl$$.getParameter($gl$$.RENDERER);$locValueDict$$["gl.version"]=$gl$$.getParameter($gl$$.VERSION);this._GlExtensions="";for(var $extArr$$=$gl$$.getSupportedExtensions(),
$i$$=0;$i$$<$extArr$$.length;$i$$++)this._GlExtensions+=$extArr$$[$i$$]+" ";this._maxTextureSize=$gl$$.getParameter($gl$$.MAX_TEXTURE_SIZE);$locValueDict$$["gl.max_texture_size"]=this._maxTextureSize;this._maxTextureUnits=$gl$$.getParameter($gl$$.MAX_COMBINED_TEXTURE_IMAGE_UNITS);$locValueDict$$["gl.max_texture_units"]=this._maxTextureUnits;this._supportsPVRTC=this.checkForGLExtension("GL_IMG_texture_compression_pvrtc");$locValueDict$$["gl.supports_PVRTC"]=this._supportsPVRTC;this._supportsNPOT=!1;
$locValueDict$$["gl.supports_NPOT"]=this._supportsNPOT;this._supportsBGRA8888=this.checkForGLExtension("GL_IMG_texture_format_BGRA888");$locValueDict$$["gl.supports_BGRA8888"]=this._supportsBGRA8888;this._supportsDiscardFramebuffer=this.checkForGLExtension("GL_EXT_discard_framebuffer");$locValueDict$$["gl.supports_discard_framebuffer"]=this._supportsDiscardFramebuffer;this._supportsShareableVAO=this.checkForGLExtension("vertex_array_object");$locValueDict$$["gl.supports_vertex_array_object"]=this._supportsShareableVAO;
cc.checkGLErrorDebug()}},loadConfigFile:function $cc$configuration$loadConfigFile$($url$$){this._inited||this._init();var $dict_getDatas$$=cc.loader.getRes($url$$);if(!$dict_getDatas$$)throw"Please load the resource first : "+$url$$;cc.assert($dict_getDatas$$,cc._LogInfos.configuration_loadConfigFile_2,$url$$);if($dict_getDatas$$=$dict_getDatas$$.data)for(var $selKey$$ in $dict_getDatas$$)this._valueDict[$selKey$$]=$dict_getDatas$$[$selKey$$];else cc.log(cc._LogInfos.configuration_loadConfigFile,
$url$$)}};
cc._renderType===cc._RENDER_TYPE_WEBGL&&(cc.rendererWebGL={childrenOrderDirty:!0,_transformNodePool:[],_renderCmds:[],_isCacheToBufferOn:!1,_cacheToBufferCmds:{},_cacheInstanceIds:[],_currentID:0,rendering:function $cc$rendererWebGL$rendering$($ctx$$2_i$$){var $locCmds$$=this._renderCmds,$len$$,$context$$=$ctx$$2_i$$||cc._renderContext;$ctx$$2_i$$=0;for($len$$=$locCmds$$.length;$ctx$$2_i$$<$len$$;$ctx$$2_i$$++)$locCmds$$[$ctx$$2_i$$].rendering($context$$)},_turnToCacheMode:function $cc$rendererWebGL$_turnToCacheMode$($renderTextureID$$){this._isCacheToBufferOn=!0;
$renderTextureID$$=$renderTextureID$$||0;this._cacheToBufferCmds[$renderTextureID$$]=[];this._cacheInstanceIds.push($renderTextureID$$);this._currentID=$renderTextureID$$},_turnToNormalMode:function $cc$rendererWebGL$_turnToNormalMode$(){this._isCacheToBufferOn=!1},_renderingToBuffer:function $cc$rendererWebGL$_renderingToBuffer$($renderTextureId$$){$renderTextureId$$=$renderTextureId$$||this._currentID;var $locCmds$$=this._cacheToBufferCmds[$renderTextureId$$],$i$$,$len$$,$ctx$$=cc._renderContext,
$locIDs$$=this._cacheInstanceIds;$i$$=0;for($len$$=$locCmds$$.length;$i$$<$len$$;$i$$++)$locCmds$$[$i$$].rendering($ctx$$);$locCmds$$.length=0;delete this._cacheToBufferCmds[$renderTextureId$$];cc.arrayRemoveObject($locIDs$$,$renderTextureId$$);0===$locIDs$$.length?this._isCacheToBufferOn=!1:this._currentID=$locIDs$$[$locIDs$$.length-1]},resetFlag:function $cc$rendererWebGL$resetFlag$(){this.childrenOrderDirty=!1;this._transformNodePool.length=0},transform:function $cc$rendererWebGL$transform$(){var $locPool$$=
this._transformNodePool;$locPool$$.sort(this._sortNodeByLevelAsc);for(var $i$$=0,$len$$=$locPool$$.length;$i$$<$len$$;$i$$++)$locPool$$[$i$$]._renderCmdDiry&&$locPool$$[$i$$]._transformForRenderer();$locPool$$.length=0},transformDirty:function $cc$rendererWebGL$transformDirty$(){return 0<this._transformNodePool.length},_sortNodeByLevelAsc:function $cc$rendererWebGL$_sortNodeByLevelAsc$($n1$$,$n2$$){return $n1$$._curLevel-$n2$$._curLevel},pushDirtyNode:function $cc$rendererWebGL$pushDirtyNode$($node$$){this._transformNodePool.push($node$$)},
clearRenderCommands:function $cc$rendererWebGL$clearRenderCommands$(){this._renderCmds.length=0},pushRenderCommand:function $cc$rendererWebGL$pushRenderCommand$($cmd$$){if(this._isCacheToBufferOn){var $cmdList$$=this._cacheToBufferCmds[this._currentID];-1===$cmdList$$.indexOf($cmd$$)&&$cmdList$$.push($cmd$$)}else-1===this._renderCmds.indexOf($cmd$$)&&this._renderCmds.push($cmd$$)}},cc.renderer=cc.rendererWebGL,cc.TextureRenderCmdWebGL=function $cc$TextureRenderCmdWebGL$($node$$){this._node=$node$$},
cc.TextureRenderCmdWebGL.prototype.rendering=function $cc$TextureRenderCmdWebGL$$rendering$($ctx$$4_gl$$){var $_t$$=this._node;if($_t$$._textureLoaded&&0!==$_t$$._displayedOpacity){$ctx$$4_gl$$=$ctx$$4_gl$$||cc._renderContext;var $locTexture$$=$_t$$._texture;$locTexture$$?$locTexture$$._isLoaded&&($_t$$._shaderProgram.use(),$_t$$._shaderProgram._setUniformForMVPMatrixWithMat4($_t$$._stackMatrix),cc.glBlendFunc($_t$$._blendFunc.src,$_t$$._blendFunc.dst),cc.glBindTexture2DN(0,$locTexture$$),cc.glEnableVertexAttribs(cc.VERTEX_ATTRIB_FLAG_POS_COLOR_TEX),
$ctx$$4_gl$$.bindBuffer($ctx$$4_gl$$.ARRAY_BUFFER,$_t$$._quadWebBuffer),$_t$$._quadDirty&&($ctx$$4_gl$$.bufferData($ctx$$4_gl$$.ARRAY_BUFFER,$_t$$._quad.arrayBuffer,$ctx$$4_gl$$.DYNAMIC_DRAW),$_t$$._quadDirty=!1),$ctx$$4_gl$$.vertexAttribPointer(0,3,$ctx$$4_gl$$.FLOAT,!1,24,0),$ctx$$4_gl$$.vertexAttribPointer(1,4,$ctx$$4_gl$$.UNSIGNED_BYTE,!0,24,12),$ctx$$4_gl$$.vertexAttribPointer(2,2,$ctx$$4_gl$$.FLOAT,!1,24,16),$ctx$$4_gl$$.drawArrays($ctx$$4_gl$$.TRIANGLE_STRIP,0,4)):($_t$$._shaderProgram.use(),
$_t$$._shaderProgram._setUniformForMVPMatrixWithMat4($_t$$._stackMatrix),cc.glBlendFunc($_t$$._blendFunc.src,$_t$$._blendFunc.dst),cc.glBindTexture2D(null),cc.glEnableVertexAttribs(cc.VERTEX_ATTRIB_FLAG_POSITION|cc.VERTEX_ATTRIB_FLAG_COLOR),$ctx$$4_gl$$.bindBuffer($ctx$$4_gl$$.ARRAY_BUFFER,$_t$$._quadWebBuffer),$_t$$._quadDirty&&($ctx$$4_gl$$.bufferData($ctx$$4_gl$$.ARRAY_BUFFER,$_t$$._quad.arrayBuffer,$ctx$$4_gl$$.STATIC_DRAW),$_t$$._quadDirty=!1),$ctx$$4_gl$$.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,
3,$ctx$$4_gl$$.FLOAT,!1,24,0),$ctx$$4_gl$$.vertexAttribPointer(cc.VERTEX_ATTRIB_COLOR,4,$ctx$$4_gl$$.UNSIGNED_BYTE,!0,24,12),$ctx$$4_gl$$.drawArrays($ctx$$4_gl$$.TRIANGLE_STRIP,0,4));cc.g_NumberOfDraws++}},cc.RectRenderCmdWebGL=function $cc$RectRenderCmdWebGL$($node$$){this._node=$node$$},cc.RectRenderCmdWebGL.prototype.rendering=function $cc$RectRenderCmdWebGL$$rendering$($context$$3_ctx$$){$context$$3_ctx$$=$context$$3_ctx$$||cc._renderContext;var $node$$=this._node;$node$$._shaderProgram.use();
$node$$._shaderProgram._setUniformForMVPMatrixWithMat4($node$$._stackMatrix);cc.glEnableVertexAttribs(cc.VERTEX_ATTRIB_FLAG_POSITION|cc.VERTEX_ATTRIB_FLAG_COLOR);$context$$3_ctx$$.bindBuffer($context$$3_ctx$$.ARRAY_BUFFER,$node$$._verticesFloat32Buffer);$context$$3_ctx$$.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,2,$context$$3_ctx$$.FLOAT,!1,0,0);$context$$3_ctx$$.bindBuffer($context$$3_ctx$$.ARRAY_BUFFER,$node$$._colorsUint8Buffer);$context$$3_ctx$$.vertexAttribPointer(cc.VERTEX_ATTRIB_COLOR,
4,$context$$3_ctx$$.UNSIGNED_BYTE,!0,0,0);cc.glBlendFunc($node$$._blendFunc.src,$node$$._blendFunc.dst);$context$$3_ctx$$.drawArrays($context$$3_ctx$$.TRIANGLE_STRIP,0,4)},cc.DrawNodeRenderCmdWebGL=function $cc$DrawNodeRenderCmdWebGL$($node$$){this._node=$node$$},cc.DrawNodeRenderCmdWebGL.prototype.rendering=function $cc$DrawNodeRenderCmdWebGL$$rendering$($_t$$28_ctx$$){$_t$$28_ctx$$=this._node;cc.glBlendFunc($_t$$28_ctx$$._blendFunc.src,$_t$$28_ctx$$._blendFunc.dst);$_t$$28_ctx$$._shaderProgram.use();
$_t$$28_ctx$$._shaderProgram._setUniformForMVPMatrixWithMat4($_t$$28_ctx$$._stackMatrix);$_t$$28_ctx$$._render()},cc.MotionStreakCmdWebGL=function $cc$MotionStreakCmdWebGL$($node$$){this._node=$node$$},cc.MotionStreakCmdWebGL.prototype.rendering=function $cc$MotionStreakCmdWebGL$$rendering$($ctx$$){var $_t$$=this._node;1>=$_t$$._nuPoints||!$_t$$.texture||!$_t$$.texture.isLoaded()||($ctx$$=$ctx$$||cc._renderContext,$_t$$._shaderProgram.use(),$_t$$._shaderProgram._setUniformForMVPMatrixWithMat4($_t$$._stackMatrix),
cc.glEnableVertexAttribs(cc.VERTEX_ATTRIB_FLAG_POS_COLOR_TEX),cc.glBlendFunc($_t$$._blendFunc.src,$_t$$._blendFunc.dst),cc.glBindTexture2D($_t$$.texture),$ctx$$.bindBuffer($ctx$$.ARRAY_BUFFER,$_t$$._verticesBuffer),$ctx$$.bufferData($ctx$$.ARRAY_BUFFER,$_t$$._vertices,$ctx$$.DYNAMIC_DRAW),$ctx$$.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,2,$ctx$$.FLOAT,!1,0,0),$ctx$$.bindBuffer($ctx$$.ARRAY_BUFFER,$_t$$._texCoordsBuffer),$ctx$$.bufferData($ctx$$.ARRAY_BUFFER,$_t$$._texCoords,$ctx$$.DYNAMIC_DRAW),
$ctx$$.vertexAttribPointer(cc.VERTEX_ATTRIB_TEX_COORDS,2,$ctx$$.FLOAT,!1,0,0),$ctx$$.bindBuffer($ctx$$.ARRAY_BUFFER,$_t$$._colorPointerBuffer),$ctx$$.bufferData($ctx$$.ARRAY_BUFFER,$_t$$._colorPointer,$ctx$$.DYNAMIC_DRAW),$ctx$$.vertexAttribPointer(cc.VERTEX_ATTRIB_COLOR,4,$ctx$$.UNSIGNED_BYTE,!0,0,0),$ctx$$.drawArrays($ctx$$.TRIANGLE_STRIP,0,2*$_t$$._nuPoints),cc.g_NumberOfDraws++)},cc.ProgressRenderCmdWebGL=function $cc$ProgressRenderCmdWebGL$($node$$){this._node=$node$$},cc.ProgressRenderCmdWebGL.prototype.rendering=
function $cc$ProgressRenderCmdWebGL$$rendering$($context$$4_ctx$$){var $_t$$=this._node;$context$$4_ctx$$=$context$$4_ctx$$||cc._renderContext;if($_t$$._vertexData&&$_t$$._sprite){$_t$$._shaderProgram.use();$_t$$._shaderProgram._setUniformForMVPMatrixWithMat4($_t$$._stackMatrix);var $blendFunc_locVertexDataLen$$=$_t$$._sprite.getBlendFunc();cc.glBlendFunc($blendFunc_locVertexDataLen$$.src,$blendFunc_locVertexDataLen$$.dst);cc.glEnableVertexAttribs(cc.VERTEX_ATTRIB_FLAG_POS_COLOR_TEX);cc.glBindTexture2D($_t$$._sprite.texture);
$context$$4_ctx$$.bindBuffer($context$$4_ctx$$.ARRAY_BUFFER,$_t$$._vertexWebGLBuffer);$_t$$._vertexDataDirty&&($context$$4_ctx$$.bufferData($context$$4_ctx$$.ARRAY_BUFFER,$_t$$._vertexArrayBuffer,$context$$4_ctx$$.DYNAMIC_DRAW),$_t$$._vertexDataDirty=!1);$blendFunc_locVertexDataLen$$=cc.V2F_C4B_T2F.BYTES_PER_ELEMENT;$context$$4_ctx$$.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,2,$context$$4_ctx$$.FLOAT,!1,$blendFunc_locVertexDataLen$$,0);$context$$4_ctx$$.vertexAttribPointer(cc.VERTEX_ATTRIB_COLOR,
4,$context$$4_ctx$$.UNSIGNED_BYTE,!0,$blendFunc_locVertexDataLen$$,8);$context$$4_ctx$$.vertexAttribPointer(cc.VERTEX_ATTRIB_TEX_COORDS,2,$context$$4_ctx$$.FLOAT,!1,$blendFunc_locVertexDataLen$$,12);$_t$$._type===cc.ProgressTimer.TYPE_RADIAL?$context$$4_ctx$$.drawArrays($context$$4_ctx$$.TRIANGLE_FAN,0,$_t$$._vertexDataCount):$_t$$._type==cc.ProgressTimer.TYPE_BAR&&($_t$$._reverseDirection?($context$$4_ctx$$.drawArrays($context$$4_ctx$$.TRIANGLE_STRIP,0,$_t$$._vertexDataCount/2),$context$$4_ctx$$.drawArrays($context$$4_ctx$$.TRIANGLE_STRIP,
4,$_t$$._vertexDataCount/2),cc.g_NumberOfDraws++):$context$$4_ctx$$.drawArrays($context$$4_ctx$$.TRIANGLE_STRIP,0,$_t$$._vertexDataCount));cc.g_NumberOfDraws++}},cc.ParticleRenderCmdWebGL=function $cc$ParticleRenderCmdWebGL$($node$$){this._node=$node$$},cc.ParticleRenderCmdWebGL.prototype.rendering=function $cc$ParticleRenderCmdWebGL$$rendering$($ctx$$9_gl$$){var $_t$$=this._node;$_t$$._texture&&($ctx$$9_gl$$=$ctx$$9_gl$$||cc._renderContext,$_t$$._shaderProgram.use(),$_t$$._shaderProgram._setUniformForMVPMatrixWithMat4($_t$$._stackMatrix),
cc.glBindTexture2D($_t$$._texture),cc.glBlendFuncForParticle($_t$$._blendFunc.src,$_t$$._blendFunc.dst),cc.glEnableVertexAttribs(cc.VERTEX_ATTRIB_FLAG_POS_COLOR_TEX),$ctx$$9_gl$$.bindBuffer($ctx$$9_gl$$.ARRAY_BUFFER,$_t$$._buffersVBO[0]),$ctx$$9_gl$$.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,3,$ctx$$9_gl$$.FLOAT,!1,24,0),$ctx$$9_gl$$.vertexAttribPointer(cc.VERTEX_ATTRIB_COLOR,4,$ctx$$9_gl$$.UNSIGNED_BYTE,!0,24,12),$ctx$$9_gl$$.vertexAttribPointer(cc.VERTEX_ATTRIB_TEX_COORDS,2,$ctx$$9_gl$$.FLOAT,
!1,24,16),$ctx$$9_gl$$.bindBuffer($ctx$$9_gl$$.ELEMENT_ARRAY_BUFFER,$_t$$._buffersVBO[1]),$ctx$$9_gl$$.drawElements($ctx$$9_gl$$.TRIANGLES,6*$_t$$._particleIdx,$ctx$$9_gl$$.UNSIGNED_SHORT,0))},cc.ParticleBatchNodeRenderCmdWebGL=function $cc$ParticleBatchNodeRenderCmdWebGL$($node$$){this._node=$node$$},cc.ParticleBatchNodeRenderCmdWebGL.prototype.rendering=function $cc$ParticleBatchNodeRenderCmdWebGL$$rendering$($_t$$32_ctx$$){$_t$$32_ctx$$=this._node;0!=$_t$$32_ctx$$.textureAtlas.totalQuads&&($_t$$32_ctx$$._shaderProgram.use(),
$_t$$32_ctx$$._shaderProgram._setUniformForMVPMatrixWithMat4($_t$$32_ctx$$._stackMatrix),cc.glBlendFuncForParticle($_t$$32_ctx$$._blendFunc.src,$_t$$32_ctx$$._blendFunc.dst),$_t$$32_ctx$$.textureAtlas.drawQuads())},cc.RenderTextureRenderCmdWebGL=function $cc$RenderTextureRenderCmdWebGL$($node$$){this._node=$node$$},cc.RenderTextureRenderCmdWebGL.prototype.rendering=function $cc$RenderTextureRenderCmdWebGL$$rendering$($ctx$$11_node$$){var $gl$$17_locChildren$$=$ctx$$11_node$$||cc._renderContext;$ctx$$11_node$$=
this._node;if($ctx$$11_node$$.autoDraw){$ctx$$11_node$$.begin();var $i$$=$ctx$$11_node$$.clearFlags;if($i$$){var $getChild_oldClearColor$$=[0,0,0,0],$oldDepthClearValue$$=0,$oldStencilClearValue$$=0;$i$$&$gl$$17_locChildren$$.COLOR_BUFFER_BIT&&($getChild_oldClearColor$$=$gl$$17_locChildren$$.getParameter($gl$$17_locChildren$$.COLOR_CLEAR_VALUE),$gl$$17_locChildren$$.clearColor($ctx$$11_node$$._clearColor.r/255,$ctx$$11_node$$._clearColor.g/255,$ctx$$11_node$$._clearColor.b/255,$ctx$$11_node$$._clearColor.a/
255));$i$$&$gl$$17_locChildren$$.DEPTH_BUFFER_BIT&&($oldDepthClearValue$$=$gl$$17_locChildren$$.getParameter($gl$$17_locChildren$$.DEPTH_CLEAR_VALUE),$gl$$17_locChildren$$.clearDepth($ctx$$11_node$$.clearDepthVal));$i$$&$gl$$17_locChildren$$.STENCIL_BUFFER_BIT&&($oldStencilClearValue$$=$gl$$17_locChildren$$.getParameter($gl$$17_locChildren$$.STENCIL_CLEAR_VALUE),$gl$$17_locChildren$$.clearStencil($ctx$$11_node$$.clearStencilVal));$gl$$17_locChildren$$.clear($i$$);$i$$&$gl$$17_locChildren$$.COLOR_BUFFER_BIT&&
$gl$$17_locChildren$$.clearColor($getChild_oldClearColor$$[0],$getChild_oldClearColor$$[1],$getChild_oldClearColor$$[2],$getChild_oldClearColor$$[3]);$i$$&$gl$$17_locChildren$$.DEPTH_BUFFER_BIT&&$gl$$17_locChildren$$.clearDepth($oldDepthClearValue$$);$i$$&$gl$$17_locChildren$$.STENCIL_BUFFER_BIT&&$gl$$17_locChildren$$.clearStencil($oldStencilClearValue$$)}$ctx$$11_node$$.sortAllChildren();$gl$$17_locChildren$$=$ctx$$11_node$$._children;for($i$$=0;$i$$<$gl$$17_locChildren$$.length;$i$$++)$getChild_oldClearColor$$=
$gl$$17_locChildren$$[$i$$],$getChild_oldClearColor$$!=$ctx$$11_node$$.sprite&&$getChild_oldClearColor$$.visit();$ctx$$11_node$$.end()}},cc.SpriteBatchNodeRenderCmdWebGL=function $cc$SpriteBatchNodeRenderCmdWebGL$($node$$){this._node=$node$$},cc.SpriteBatchNodeRenderCmdWebGL.prototype.rendering=function $cc$SpriteBatchNodeRenderCmdWebGL$$rendering$($ctx$$12_node$$){$ctx$$12_node$$=this._node;0!==$ctx$$12_node$$.textureAtlas.totalQuads&&($ctx$$12_node$$._shaderProgram.use(),$ctx$$12_node$$._shaderProgram._setUniformForMVPMatrixWithMat4($ctx$$12_node$$._stackMatrix),
$ctx$$12_node$$._arrayMakeObjectsPerformSelector($ctx$$12_node$$._children,cc.Node._StateCallbackType.updateTransform),cc.glBlendFunc($ctx$$12_node$$._blendFunc.src,$ctx$$12_node$$._blendFunc.dst),$ctx$$12_node$$.textureAtlas.drawQuads())},cc.AtlasNodeRenderCmdWebGL=function $cc$AtlasNodeRenderCmdWebGL$($node$$){this._node=$node$$},cc.AtlasNodeRenderCmdWebGL.prototype.rendering=function $cc$AtlasNodeRenderCmdWebGL$$rendering$($context$$5_ctx$$){$context$$5_ctx$$=$context$$5_ctx$$||cc._renderContext;
var $node$$=this._node;$node$$._shaderProgram.use();$node$$._shaderProgram._setUniformForMVPMatrixWithMat4($node$$._stackMatrix);cc.glBlendFunc($node$$._blendFunc.src,$node$$._blendFunc.dst);$node$$._uniformColor&&$node$$._colorF32Array&&($context$$5_ctx$$.uniform4fv($node$$._uniformColor,$node$$._colorF32Array),$node$$.textureAtlas.drawNumberOfQuads($node$$.quadsToDraw,0))},cc.CustomRenderCmdWebGL=function $cc$CustomRenderCmdWebGL$($node$$,$func$$){this._node=$node$$;this._callback=$func$$},cc.CustomRenderCmdWebGL.prototype.rendering=
function $cc$CustomRenderCmdWebGL$$rendering$($ctx$$){this._callback&&this._callback.call(this._node,$ctx$$)},cc.TMXLayerRenderCmdWebGL=function $cc$TMXLayerRenderCmdWebGL$($node$$){this._node=$node$$},cc.TMXLayerRenderCmdWebGL.prototype.rendering=cc.SpriteBatchNodeRenderCmdWebGL.prototype.rendering,cc.PhysicsDebugNodeRenderCmdWebGL=function $cc$PhysicsDebugNodeRenderCmdWebGL$($node$$){this._node=$node$$},cc.PhysicsDebugNodeRenderCmdWebGL.prototype.rendering=function $cc$PhysicsDebugNodeRenderCmdWebGL$$rendering$($ctx$$15_node$$){$ctx$$15_node$$=
this._node;$ctx$$15_node$$._space&&($ctx$$15_node$$._space.eachShape(cc.DrawShape.bind($ctx$$15_node$$)),$ctx$$15_node$$._space.eachConstraint(cc.DrawConstraint.bind($ctx$$15_node$$)),cc.DrawNode.prototype.draw.call($ctx$$15_node$$),$ctx$$15_node$$.clear())},cc.SkeletonRenderCmdWebGL=function $cc$SkeletonRenderCmdWebGL$($node$$){this._node=$node$$},cc.SkeletonRenderCmdWebGL.prototype.rendering=function $cc$SkeletonRenderCmdWebGL$$rendering$($ctx$$){var $bone_node$$=this._node;$bone_node$$._shaderProgram.use();
$bone_node$$._shaderProgram._setUniformForMVPMatrixWithMat4($bone_node$$._stackMatrix);var $color$$4_i$$=$bone_node$$.getColor();$ctx$$=$bone_node$$._skeleton;$ctx$$.r=$color$$4_i$$.r/255;$ctx$$.g=$color$$4_i$$.g/255;$ctx$$.b=$color$$4_i$$.b/255;$ctx$$.a=$bone_node$$.getOpacity()/255;$bone_node$$._premultipliedAlpha&&($ctx$$.r*=$ctx$$.a,$ctx$$.g*=$ctx$$.a,$ctx$$.b*=$ctx$$.a);var $additive_drawingUtil$$,$points_textureAtlas_x$$,$attachment$$,$slot$$,$n$$,$quad_y$$=new cc.V3F_C4B_T2F_Quad,$locBlendFunc$$=
$bone_node$$._blendFunc,$color$$4_i$$=0;for($n$$=$ctx$$.slots.length;$color$$4_i$$<$n$$;$color$$4_i$$++)if($slot$$=$ctx$$.drawOrder[$color$$4_i$$],$slot$$.attachment&&$slot$$.attachment.type==sp.ATTACHMENT_TYPE.REGION){$attachment$$=$slot$$.attachment;var $quadCount_regionTextureAtlas$$=$bone_node$$.getTextureAtlas($attachment$$);$slot$$.data.additiveBlending!=$additive_drawingUtil$$?($points_textureAtlas_x$$&&($points_textureAtlas_x$$.drawQuads(),$points_textureAtlas_x$$.removeAllQuads()),$additive_drawingUtil$$=
!$additive_drawingUtil$$,cc.glBlendFunc($locBlendFunc$$.src,$additive_drawingUtil$$?cc.ONE:$locBlendFunc$$.dst)):$quadCount_regionTextureAtlas$$!=$points_textureAtlas_x$$&&$points_textureAtlas_x$$&&($points_textureAtlas_x$$.drawQuads(),$points_textureAtlas_x$$.removeAllQuads());$points_textureAtlas_x$$=$quadCount_regionTextureAtlas$$;$quadCount_regionTextureAtlas$$=$points_textureAtlas_x$$.getTotalQuads();if($points_textureAtlas_x$$.getCapacity()==$quadCount_regionTextureAtlas$$&&($points_textureAtlas_x$$.drawQuads(),
$points_textureAtlas_x$$.removeAllQuads(),!$points_textureAtlas_x$$.resizeCapacity(2*$points_textureAtlas_x$$.getCapacity())))return;sp._regionAttachment_updateQuad($attachment$$,$slot$$,$quad_y$$,$bone_node$$._premultipliedAlpha);$points_textureAtlas_x$$.updateQuad($quad_y$$,$quadCount_regionTextureAtlas$$)}$points_textureAtlas_x$$&&($points_textureAtlas_x$$.drawQuads(),$points_textureAtlas_x$$.removeAllQuads());if($bone_node$$._debugBones||$bone_node$$._debugSlots){cc.kmGLMatrixMode(cc.KM_GL_MODELVIEW);
cc.current_stack.stack.push(cc.current_stack.top);cc.current_stack.top=$bone_node$$._stackMatrix;$additive_drawingUtil$$=cc._drawingUtil;if($bone_node$$._debugSlots)for($additive_drawingUtil$$.setDrawColor(0,0,255,255),$additive_drawingUtil$$.setLineWidth(1),$color$$4_i$$=0,$n$$=$ctx$$.slots.length;$color$$4_i$$<$n$$;$color$$4_i$$++)$slot$$=$ctx$$.drawOrder[$color$$4_i$$],$slot$$.attachment&&$slot$$.attachment.type==sp.ATTACHMENT_TYPE.REGION&&($attachment$$=$slot$$.attachment,$quad_y$$=new cc.V3F_C4B_T2F_Quad,
sp._regionAttachment_updateQuad($attachment$$,$slot$$,$quad_y$$),$points_textureAtlas_x$$=[],$points_textureAtlas_x$$.push(cc.p($quad_y$$.bl.vertices.x,$quad_y$$.bl.vertices.y)),$points_textureAtlas_x$$.push(cc.p($quad_y$$.br.vertices.x,$quad_y$$.br.vertices.y)),$points_textureAtlas_x$$.push(cc.p($quad_y$$.tr.vertices.x,$quad_y$$.tr.vertices.y)),$points_textureAtlas_x$$.push(cc.p($quad_y$$.tl.vertices.x,$quad_y$$.tl.vertices.y)),$additive_drawingUtil$$.drawPoly($points_textureAtlas_x$$,4,!0));if($bone_node$$._debugBones){$additive_drawingUtil$$.setLineWidth(2);
$additive_drawingUtil$$.setDrawColor(255,0,0,255);$color$$4_i$$=0;for($n$$=$ctx$$.bones.length;$color$$4_i$$<$n$$;$color$$4_i$$++)$bone_node$$=$ctx$$.bones[$color$$4_i$$],$points_textureAtlas_x$$=$bone_node$$.data.length*$bone_node$$.m00+$bone_node$$.worldX,$quad_y$$=$bone_node$$.data.length*$bone_node$$.m10+$bone_node$$.worldY,$additive_drawingUtil$$.drawLine(cc.p($bone_node$$.worldX,$bone_node$$.worldY),cc.p($points_textureAtlas_x$$,$quad_y$$));$additive_drawingUtil$$.setPointSize(4);$additive_drawingUtil$$.setDrawColor(0,
0,255,255);$color$$4_i$$=0;for($n$$=$ctx$$.bones.length;$color$$4_i$$<$n$$;$color$$4_i$$++)$bone_node$$=$ctx$$.bones[$color$$4_i$$],$additive_drawingUtil$$.drawPoint(cc.p($bone_node$$.worldX,$bone_node$$.worldY)),0==$color$$4_i$$&&$additive_drawingUtil$$.setDrawColor(0,255,0,255)}cc.kmGLPopMatrix()}},cc.ArmatureRenderCmdWebGL=function $cc$ArmatureRenderCmdWebGL$($node$$){this._node=$node$$},cc.ArmatureRenderCmdWebGL.prototype.rendering=function $cc$ArmatureRenderCmdWebGL$$rendering$($ctx$$){var $_t$$=
this._node;cc.kmGLMatrixMode(cc.KM_GL_MODELVIEW);cc.kmGLPushMatrix();cc.kmGLLoadMatrix($_t$$._stackMatrix);for(var $locChildren$$=$_t$$._children,$alphaPremultiplied$$=cc.BlendFunc.ALPHA_PREMULTIPLIED,$alphaNonPremultipled$$=cc.BlendFunc.ALPHA_NON_PREMULTIPLIED,$i$$=0,$len$$=$locChildren$$.length;$i$$<$len$$;$i$$++){var $selBone$$=$locChildren$$[$i$$];if($selBone$$&&$selBone$$.getDisplayRenderNode){var $node$$=$selBone$$.getDisplayRenderNode();if(null!=$node$$)switch($node$$.setShaderProgram($_t$$._shaderProgram),
$selBone$$.getDisplayRenderNodeType()){case ccs.DISPLAY_TYPE_SPRITE:if($node$$ instanceof ccs.Skin){$node$$.updateTransform();var $func$$=$selBone$$.getBlendFunc();$func$$.src!=$alphaPremultiplied$$.src||$func$$.dst!=$alphaPremultiplied$$.dst?$node$$.setBlendFunc($selBone$$.getBlendFunc()):$_t$$._blendFunc.src!=$alphaPremultiplied$$.src||$_t$$._blendFunc.dst!=$alphaPremultiplied$$.dst||$node$$.getTexture().hasPremultipliedAlpha()?$node$$.setBlendFunc($_t$$._blendFunc):$node$$.setBlendFunc($alphaNonPremultipled$$);
$node$$.draw($ctx$$)}break;case ccs.DISPLAY_TYPE_ARMATURE:$node$$.draw($ctx$$);break;default:$node$$.visit($ctx$$)}}else $selBone$$ instanceof cc.Node&&($selBone$$.setShaderProgram($_t$$._shaderProgram),$selBone$$.visit($ctx$$))}cc.kmGLPopMatrix()});cc=cc||{};cc._tmp=cc._tmp||{};cc._LogInfos={};window._p;_p=window;_p.gl;_p.WebGLRenderingContext;_p.DeviceOrientationEvent;_p.DeviceMotionEvent;_p.AudioContext;_p.webkitAudioContext;_p.mozAudioContext;_p=Object.prototype;_p._super;_p.ctor;delete window._p;
cc.newElement=function $cc$newElement$($x$$){return document.createElement($x$$)};cc._addEventListener=function $cc$_addEventListener$($element$$,$type$$,$listener$$,$useCapture$$){$element$$.addEventListener($type$$,$listener$$,$useCapture$$)};cc._isNodeJs="undefined"!==typeof require&&require("fs");
cc.each=function $cc$each$($obj$$,$iterator$$,$context$$){if($obj$$)if($obj$$ instanceof Array)for(var $i$$16_key$$=0,$li$$=$obj$$.length;$i$$16_key$$<$li$$&&!1!==$iterator$$.call($context$$,$obj$$[$i$$16_key$$],$i$$16_key$$);$i$$16_key$$++);else for($i$$16_key$$ in $obj$$)if(!1===$iterator$$.call($context$$,$obj$$[$i$$16_key$$],$i$$16_key$$))break};
cc.extend=function $cc$extend$($target$$){var $sources$$=2<=arguments.length?Array.prototype.slice.call(arguments,1):[];cc.each($sources$$,function($src$$){for(var $key$$ in $src$$)$src$$.hasOwnProperty($key$$)&&($target$$[$key$$]=$src$$[$key$$])});return $target$$};cc.isFunction=function $cc$isFunction$($obj$$){return"function"==typeof $obj$$};cc.isNumber=function $cc$isNumber$($obj$$){return"number"==typeof $obj$$||"[object Number]"==Object.prototype.toString.call($obj$$)};
cc.isString=function $cc$isString$($obj$$){return"string"==typeof $obj$$||"[object String]"==Object.prototype.toString.call($obj$$)};cc.isArray=function $cc$isArray$($obj$$){return"[object Array]"==Object.prototype.toString.call($obj$$)};cc.isUndefined=function $cc$isUndefined$($obj$$){return"undefined"==typeof $obj$$};cc.isObject=function $cc$isObject$($obj$$){var $type$$=typeof $obj$$;return"function"==$type$$||$obj$$&&"object"==$type$$};
cc.isCrossOrigin=function $cc$isCrossOrigin$($url$$){if(!$url$$)return cc.log("invalid URL"),!1;var $endIndex_startIndex$$=$url$$.indexOf("://");if(-1==$endIndex_startIndex$$)return!1;$endIndex_startIndex$$=$url$$.indexOf("/",$endIndex_startIndex$$+3);return(-1==$endIndex_startIndex$$?$url$$:$url$$.substring(0,$endIndex_startIndex$$))!=location.origin};
cc.AsyncPool=function $cc$AsyncPool$($srcObj$$,$limit$$,$iterator$$0$$,$onEnd$$,$target$$0$$){var $self$$0$$=this;$self$$0$$._srcObj=$srcObj$$;$self$$0$$._limit=$limit$$;$self$$0$$._pool=[];$self$$0$$._iterator=$iterator$$0$$;$self$$0$$._iteratorTarget=$target$$0$$;$self$$0$$._onEnd=$onEnd$$;$self$$0$$._onEndTarget=$target$$0$$;$self$$0$$._results=$srcObj$$ instanceof Array?[]:{};$self$$0$$._isErr=!1;cc.each($srcObj$$,function($value$$,$index$$){$self$$0$$._pool.push({index:$index$$,value:$value$$})});
$self$$0$$.size=$self$$0$$._pool.length;$self$$0$$.finishedSize=0;$self$$0$$._workingSize=0;$self$$0$$._limit=$self$$0$$._limit||$self$$0$$.size;$self$$0$$.onIterator=function $$self$$0$$$onIterator$($iterator$$,$target$$){$self$$0$$._iterator=$iterator$$;$self$$0$$._iteratorTarget=$target$$};$self$$0$$.onEnd=function $$self$$0$$$onEnd$($endCb$$,$endCbTarget$$){$self$$0$$._onEnd=$endCb$$;$self$$0$$._onEndTarget=$endCbTarget$$};$self$$0$$._handleItem=function $$self$$0$$$_handleItem$(){var $self$$=
this;if(0!=$self$$._pool.length&&!($self$$._workingSize>=$self$$._limit)){var $item$$=$self$$._pool.shift(),$value$$=$item$$.value,$index$$=$item$$.index;$self$$._workingSize++;$self$$._iterator.call($self$$._iteratorTarget,$value$$,$index$$,function($err$$){if(!$self$$._isErr)if($self$$.finishedSize++,$self$$._workingSize--,$err$$)$self$$._isErr=!0,$self$$._onEnd&&$self$$._onEnd.call($self$$._onEndTarget,$err$$);else{var $arr$$=Array.prototype.slice.call(arguments,1);$self$$._results[this.index]=
$arr$$[0];$self$$.finishedSize==$self$$.size?$self$$._onEnd&&$self$$._onEnd.call($self$$._onEndTarget,null,$self$$._results):$self$$._handleItem()}}.bind($item$$),$self$$)}};$self$$0$$.flow=function $$self$$0$$$flow$(){if(0==this._pool.length)this._onEnd&&this._onEnd.call(this._onEndTarget,null,[]);else for(var $i$$=0;$i$$<this._limit;$i$$++)this._handleItem()}};
cc.async={series:function $cc$async$series$($asyncPool_tasks$$,$cb$$,$target$$){$asyncPool_tasks$$=new cc.AsyncPool($asyncPool_tasks$$,1,function($func$$,$index$$,$cb1$$){$func$$.call($target$$,$cb1$$)},$cb$$,$target$$);$asyncPool_tasks$$.flow();return $asyncPool_tasks$$},parallel:function $cc$async$parallel$($asyncPool$$1_tasks$$,$cb$$,$target$$){$asyncPool$$1_tasks$$=new cc.AsyncPool($asyncPool$$1_tasks$$,0,function($func$$,$index$$,$cb1$$){$func$$.call($target$$,$cb1$$)},$cb$$,$target$$);$asyncPool$$1_tasks$$.flow();
return $asyncPool$$1_tasks$$},waterfall:function $cc$async$waterfall$($tasks$$,$cb$$,$target$$){var $args$$=[],$lastResults$$=[null],$asyncPool$$=new cc.AsyncPool($tasks$$,1,function($func$$,$index$$,$cb1$$){$args$$.push(function($err$$){$args$$=Array.prototype.slice.call(arguments,1);$tasks$$.length-1==$index$$&&($lastResults$$=$lastResults$$.concat($args$$));$cb1$$.apply(null,arguments)});$func$$.apply($target$$,$args$$)},function($err$$){if($cb$$){if($err$$)return $cb$$.call($target$$,$err$$);
$cb$$.apply($target$$,$lastResults$$)}});$asyncPool$$.flow();return $asyncPool$$},map:function $cc$async$map$($asyncPool$$3_tasks$$,$iterator$$,$cb$$,$target$$){var $locIterator$$=$iterator$$;"object"==typeof $iterator$$&&($cb$$=$iterator$$.cb,$target$$=$iterator$$.iteratorTarget,$locIterator$$=$iterator$$.iterator);$asyncPool$$3_tasks$$=new cc.AsyncPool($asyncPool$$3_tasks$$,0,$locIterator$$,$cb$$,$target$$);$asyncPool$$3_tasks$$.flow();return $asyncPool$$3_tasks$$},mapLimit:function $cc$async$mapLimit$($asyncPool$$4_tasks$$,
$limit$$,$iterator$$,$cb$$,$target$$){$asyncPool$$4_tasks$$=new cc.AsyncPool($asyncPool$$4_tasks$$,$limit$$,$iterator$$,$cb$$,$target$$);$asyncPool$$4_tasks$$.flow();return $asyncPool$$4_tasks$$}};
cc.path={join:function $cc$path$join$(){for(var $l$$=arguments.length,$result$$="",$i$$=0;$i$$<$l$$;$i$$++)$result$$=($result$$+(""==$result$$?"":"/")+arguments[$i$$]).replace(/(\/|\\\\)$/,"");return $result$$},extname:function $cc$path$extname$($pathStr_temp$$){return($pathStr_temp$$=/(\.[^\.\/\?\\]*)(\?.*)?$/.exec($pathStr_temp$$))?$pathStr_temp$$[1]:null},mainFileName:function $cc$path$mainFileName$($fileName$$){if($fileName$$){var $idx$$=$fileName$$.lastIndexOf(".");if(-1!==$idx$$)return $fileName$$.substring(0,
$idx$$)}return $fileName$$},basename:function $cc$path$basename$($pathStr$$,$extname$$){var $baseName_index$$50_result$$=$pathStr$$.indexOf("?");0<$baseName_index$$50_result$$&&($pathStr$$=$pathStr$$.substring(0,$baseName_index$$50_result$$));$baseName_index$$50_result$$=/(\/|\\\\)([^(\/|\\\\)]+)$/g.exec($pathStr$$.replace(/(\/|\\\\)$/,""));if(!$baseName_index$$50_result$$)return null;$baseName_index$$50_result$$=$baseName_index$$50_result$$[2];return $extname$$&&$pathStr$$.substring($pathStr$$.length-
$extname$$.length).toLowerCase()==$extname$$.toLowerCase()?$baseName_index$$50_result$$.substring(0,$baseName_index$$50_result$$.length-$extname$$.length):$baseName_index$$50_result$$},dirname:function $cc$path$dirname$($pathStr$$){return $pathStr$$.replace(/((.*)(\/|\\|\\\\))?(.*?\..*$)?/,"$2")},changeExtname:function $cc$path$changeExtname$($pathStr$$,$extname$$){$extname$$=$extname$$||"";var $index$$=$pathStr$$.indexOf("?"),$tempStr$$="";0<$index$$&&($tempStr$$=$pathStr$$.substring($index$$),$pathStr$$=
$pathStr$$.substring(0,$index$$));$index$$=$pathStr$$.lastIndexOf(".");return 0>$index$$?$pathStr$$+$extname$$+$tempStr$$:$pathStr$$.substring(0,$index$$)+$extname$$+$tempStr$$},changeBasename:function $cc$path$changeBasename$($pathStr$$,$basename$$,$ext_isSameExt$$){if(0==$basename$$.indexOf("."))return this.changeExtname($pathStr$$,$basename$$);var $index$$=$pathStr$$.indexOf("?"),$tempStr$$="";$ext_isSameExt$$=$ext_isSameExt$$?this.extname($pathStr$$):"";0<$index$$&&($tempStr$$=$pathStr$$.substring($index$$),
$pathStr$$=$pathStr$$.substring(0,$index$$));$index$$=$pathStr$$.lastIndexOf("/");return $pathStr$$.substring(0,0>=$index$$?0:$index$$+1)+$basename$$+$ext_isSameExt$$+$tempStr$$}};
cc.loader={_jsCache:{},_register:{},_langPathCache:{},_aliases:{},resPath:"",audioPath:"",cache:{},getXMLHttpRequest:function $cc$loader$getXMLHttpRequest$(){return window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP")},_getArgs4Js:function $cc$loader$_getArgs4Js$($args$$){var $a0$$=$args$$[0],$a1$$=$args$$[1],$a2$$=$args$$[2],$results$$=["",null,null];if(1===$args$$.length)$results$$[1]=$a0$$ instanceof Array?$a0$$:[$a0$$];else if(2===$args$$.length)"function"==typeof $a1$$?
($results$$[1]=$a0$$ instanceof Array?$a0$$:[$a0$$],$results$$[2]=$a1$$):($results$$[0]=$a0$$||"",$results$$[1]=$a1$$ instanceof Array?$a1$$:[$a1$$]);else if(3===$args$$.length)$results$$[0]=$a0$$||"",$results$$[1]=$a1$$ instanceof Array?$a1$$:[$a1$$],$results$$[2]=$a2$$;else throw"arguments error to load js!";return $results$$},loadJs:function $cc$loader$loadJs$($baseDir$$,$jsList$$,$cb$$){var $self$$=this,$localJsCache$$=$self$$._jsCache,$args$$2_callback$$=$self$$._getArgs4Js(arguments),$preDir$$=
$args$$2_callback$$[0],$list$$=$args$$2_callback$$[1],$args$$2_callback$$=$args$$2_callback$$[2];-1<navigator.userAgent.indexOf("Trident/5")?$self$$._loadJs4Dependency($preDir$$,$list$$,0,$args$$2_callback$$):cc.async.map($list$$,function($item$$,$index$$,$cb1$$){$item$$=cc.path.join($preDir$$,$item$$);if($localJsCache$$[$item$$])return $cb1$$(null);$self$$._createScript($item$$,!1,$cb1$$)},$args$$2_callback$$)},loadJsWithImg:function $cc$loader$loadJsWithImg$($baseDir$$,$jsList$$,$cb$$){var $jsLoadingImg$$=
this._loadJsImg(),$args$$=this._getArgs4Js(arguments);this.loadJs($args$$[0],$args$$[1],function($err$$){if($err$$)throw $err$$;$jsLoadingImg$$.parentNode.removeChild($jsLoadingImg$$);if($args$$[2])$args$$[2]()})},_createScript:function $cc$loader$_createScript$($jsPath$$,$isAsync$$,$cb$$){var $d$$=document,$s$$=cc.newElement("script");$s$$.async=$isAsync$$;$s$$.src=$jsPath$$;this._jsCache[$jsPath$$]=!0;cc._addEventListener($s$$,"load",function(){$s$$.parentNode.removeChild($s$$);this.removeEventListener("load",
arguments.callee,!1);$cb$$()},!1);cc._addEventListener($s$$,"error",function(){$s$$.parentNode.removeChild($s$$);$cb$$("Load "+$jsPath$$+" failed!")},!1);$d$$.body.appendChild($s$$)},_loadJs4Dependency:function $cc$loader$_loadJs4Dependency$($baseDir$$,$jsList$$,$index$$,$cb$$){if($index$$>=$jsList$$.length)$cb$$&&$cb$$();else{var $self$$=this;$self$$._createScript(cc.path.join($baseDir$$,$jsList$$[$index$$]),!1,function($err$$){if($err$$)return $cb$$($err$$);$self$$._loadJs4Dependency($baseDir$$,
$jsList$$,$index$$+1,$cb$$)})}},_loadJsImg:function $cc$loader$_loadJsImg$(){var $canvasNode_d$$=document,$jsLoadingImg$$=$canvasNode_d$$.getElementById("cocos2d_loadJsImg");if(!$jsLoadingImg$$){$jsLoadingImg$$=cc.newElement("img");cc._loadingImage&&($jsLoadingImg$$.src=cc._loadingImage);$canvasNode_d$$=$canvasNode_d$$.getElementById(cc.game.config.id);$canvasNode_d$$.style.backgroundColor="black";$canvasNode_d$$.parentNode.appendChild($jsLoadingImg$$);var $canvasStyle$$=getComputedStyle?getComputedStyle($canvasNode_d$$):
$canvasNode_d$$.currentStyle;$canvasStyle$$||($canvasStyle$$={width:$canvasNode_d$$.width,height:$canvasNode_d$$.height});$jsLoadingImg$$.style.left=$canvasNode_d$$.offsetLeft+(parseFloat($canvasStyle$$.width)-$jsLoadingImg$$.width)/2+"px";$jsLoadingImg$$.style.top=$canvasNode_d$$.offsetTop+(parseFloat($canvasStyle$$.height)-$jsLoadingImg$$.height)/2+"px";$jsLoadingImg$$.style.position="absolute"}return $jsLoadingImg$$},loadTxt:function $cc$loader$loadTxt$($url$$,$cb$$){if(cc._isNodeJs)require("fs").readFile($url$$,
function($err$$,$data$$){$err$$?$cb$$($err$$):$cb$$(null,$data$$.toString())});else{var $xhr$$=this.getXMLHttpRequest(),$errInfo$$="load "+$url$$+" failed!";$xhr$$.open("GET",$url$$,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?($xhr$$.setRequestHeader("Accept-Charset","utf-8"),$xhr$$.onreadystatechange=function $$xhr$$$onreadystatechange$(){4==$xhr$$.readyState&&(200==$xhr$$.status?$cb$$(null,$xhr$$.responseText):$cb$$($errInfo$$))}):($xhr$$.overrideMimeType&&$xhr$$.overrideMimeType("text/plain; charset=utf-8"),
$xhr$$.onload=function $$xhr$$$onload$(){4==$xhr$$.readyState&&(200==$xhr$$.status?$cb$$(null,$xhr$$.responseText):$cb$$($errInfo$$))});$xhr$$.send(null)}},_loadTxtSync:function $cc$loader$_loadTxtSync$($url$$){if(cc._isNodeJs)return require("fs").readFileSync($url$$).toString();var $xhr$$=this.getXMLHttpRequest();$xhr$$.open("GET",$url$$,!1);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?$xhr$$.setRequestHeader("Accept-Charset","utf-8"):$xhr$$.overrideMimeType&&$xhr$$.overrideMimeType("text/plain; charset=utf-8");
$xhr$$.send(null);return 4==!$xhr$$.readyState||200!=$xhr$$.status?null:$xhr$$.responseText},loadCsb:function $cc$loader$loadCsb$($url$$,$cb$$){var $xhr$$=new XMLHttpRequest;$xhr$$.open("GET",$url$$,!0);$xhr$$.responseType="arraybuffer";$xhr$$.onload=function $$xhr$$$onload$(){var $arrayBuffer$$=$xhr$$.response;$arrayBuffer$$&&(window.msg=$arrayBuffer$$);4==$xhr$$.readyState&&(200==$xhr$$.status?$cb$$(null,$xhr$$.response):$cb$$("load "+$url$$+" failed!"))};$xhr$$.send(null)},loadJson:function $cc$loader$loadJson$($url$$,
$cb$$){this.loadTxt($url$$,function($err$$,$txt$$){try{$err$$?$cb$$($err$$):$cb$$(null,JSON.parse($txt$$))}catch($e$$){throw"load json ["+$url$$+"] failed : "+$e$$;}})},_checkIsImageURL:function $cc$loader$_checkIsImageURL$($url$$){return null!=/(\.png)|(\.jpg)|(\.bmp)|(\.jpeg)|(\.gif)/.exec($url$$)},loadImg:function $cc$loader$loadImg$($url$$,$option$$,$cb$$){var $opt$$={isCrossOrigin:!0};void 0!==$cb$$?$opt$$.isCrossOrigin=null==$option$$.isCrossOrigin?$opt$$.isCrossOrigin:$option$$.isCrossOrigin:
void 0!==$option$$&&($cb$$=$option$$);var $img$$=new Image;$opt$$.isCrossOrigin&&"file://"!=location.origin&&($img$$.crossOrigin="Anonymous");var $lcb$$=function $$lcb$$$(){this.removeEventListener("load",$lcb$$,!1);this.removeEventListener("error",$ecb$$,!1);$cb$$&&$cb$$(null,$img$$)},$ecb$$=function $$ecb$$$(){this.removeEventListener("error",$ecb$$,!1);$img$$.crossOrigin&&"anonymous"==$img$$.crossOrigin.toLowerCase()?($opt$$.isCrossOrigin=!1,cc.loader.loadImg($url$$,$opt$$,$cb$$)):"function"==
typeof $cb$$&&$cb$$("load image failed")};cc._addEventListener($img$$,"load",$lcb$$);cc._addEventListener($img$$,"error",$ecb$$);$img$$.src=$url$$;return $img$$},_loadResIterator:function $cc$loader$_loadResIterator$($item$$,$index$$55_loader_obj$$,$cb$$){var $self$$=this,$url$$=null,$basePath_realUrl_type$$=$item$$.type;$basePath_realUrl_type$$?($basePath_realUrl_type$$="."+$basePath_realUrl_type$$.toLowerCase(),$url$$=$item$$.src?$item$$.src:$item$$.name+$basePath_realUrl_type$$):($url$$=$item$$,
$basePath_realUrl_type$$=cc.path.extname($url$$));if($index$$55_loader_obj$$=$self$$.cache[$url$$])return $cb$$(null,$index$$55_loader_obj$$);$index$$55_loader_obj$$=null;$basePath_realUrl_type$$&&($index$$55_loader_obj$$=$self$$._register[$basePath_realUrl_type$$.toLowerCase()]);if(!$index$$55_loader_obj$$)return cc.error("loader for ["+$basePath_realUrl_type$$+"] not exists!"),$cb$$();$basePath_realUrl_type$$=$index$$55_loader_obj$$.getBasePath?$index$$55_loader_obj$$.getBasePath():$self$$.resPath;
$basePath_realUrl_type$$=$self$$.getUrl($basePath_realUrl_type$$,$url$$);$index$$55_loader_obj$$.load($basePath_realUrl_type$$,$url$$,$item$$,function($err$$,$data$$){$err$$?(cc.log($err$$),$self$$.cache[$url$$]=null,delete $self$$.cache[$url$$],$cb$$()):($self$$.cache[$url$$]=$data$$,$cb$$(null,$data$$))})},getUrl:function $cc$loader$getUrl$($basePath$$,$url$$){var $langPathCache$$=this._langPathCache,$extname$$2_path$$=cc.path;if(void 0!==$basePath$$&&void 0===$url$$){$url$$=$basePath$$;var $loader$$1_type$$=
$extname$$2_path$$.extname($url$$),$loader$$1_type$$=$loader$$1_type$$?$loader$$1_type$$.toLowerCase():"";$basePath$$=($loader$$1_type$$=this._register[$loader$$1_type$$])?$loader$$1_type$$.getBasePath?$loader$$1_type$$.getBasePath():this.resPath:this.resPath}$url$$=cc.path.join($basePath$$||"",$url$$);if($url$$.match(/[\/(\\\\)]lang[\/(\\\\)]/i)){if($langPathCache$$[$url$$])return $langPathCache$$[$url$$];$extname$$2_path$$=$extname$$2_path$$.extname($url$$)||"";$url$$=$langPathCache$$[$url$$]=$url$$.substring(0,
$url$$.length-$extname$$2_path$$.length)+"_"+cc.sys.language+$extname$$2_path$$}return $url$$},load:function $cc$loader$load$($resources$$,$option$$,$cb$$){var $self$$=this,$asyncPool$$5_len$$=arguments.length;if(0==$asyncPool$$5_len$$)throw"arguments error!";3==$asyncPool$$5_len$$?"function"==typeof $option$$&&($option$$="function"==typeof $cb$$?{trigger:$option$$,cb:$cb$$}:{cb:$option$$,cbTarget:$cb$$}):2==$asyncPool$$5_len$$?"function"==typeof $option$$&&($option$$={cb:$option$$}):1==$asyncPool$$5_len$$&&
($option$$={});$resources$$ instanceof Array||($resources$$=[$resources$$]);$asyncPool$$5_len$$=new cc.AsyncPool($resources$$,0,function($value$$,$index$$,$cb1$$,$aPool$$){$self$$._loadResIterator($value$$,$index$$,function($err$$){if($err$$)return $cb1$$($err$$);var $arr$$=Array.prototype.slice.call(arguments,1);$option$$.trigger&&$option$$.trigger.call($option$$.triggerTarget,$arr$$[0],$aPool$$.size,$aPool$$.finishedSize);$cb1$$(null,$arr$$[0])})},$option$$.cb,$option$$.cbTarget);$asyncPool$$5_len$$.flow();
return $asyncPool$$5_len$$},_handleAliases:function $cc$loader$_handleAliases$($fileNames$$,$cb$$){var $aliases$$=this._aliases,$resList$$=[],$key$$;for($key$$ in $fileNames$$){var $value$$=$fileNames$$[$key$$];$aliases$$[$key$$]=$value$$;$resList$$.push($value$$)}this.load($resList$$,$cb$$)},loadAliases:function $cc$loader$loadAliases$($url$$,$cb$$){var $self$$=this,$dict$$=$self$$.getRes($url$$);$dict$$?$self$$._handleAliases($dict$$.filenames,$cb$$):$self$$.load($url$$,function($err$$,$results$$){$self$$._handleAliases($results$$[0].filenames,
$cb$$)})},register:function $cc$loader$register$($extNames$$,$loader$$){if($extNames$$&&$loader$$){if("string"==typeof $extNames$$)return this._register[$extNames$$.trim().toLowerCase()]=$loader$$;for(var $i$$=0,$li$$=$extNames$$.length;$i$$<$li$$;$i$$++)this._register["."+$extNames$$[$i$$].trim().toLowerCase()]=$loader$$}},getRes:function $cc$loader$getRes$($url$$){return this.cache[$url$$]||this.cache[this._aliases[$url$$]]},release:function $cc$loader$release$($url$$){var $cache$$=this.cache,$aliases$$=
this._aliases;delete $cache$$[$url$$];delete $cache$$[$aliases$$[$url$$]];delete $aliases$$[$url$$]},releaseAll:function $cc$loader$releaseAll$(){var $locCache$$=this.cache,$aliases$$=this._aliases,$key$$;for($key$$ in $locCache$$)delete $locCache$$[$key$$];for($key$$ in $aliases$$)delete $aliases$$[$key$$]}};
cc.formatStr=function $cc$formatStr$(){var $args$$=arguments,$l$$=$args$$.length;if(1>$l$$)return"";var $str$$=$args$$[0],$needToFormat$$=!0;"object"==typeof $str$$&&($needToFormat$$=!1);for(var $i$$=1;$i$$<$l$$;++$i$$){var $arg$$=$args$$[$i$$];if($needToFormat$$)for(;;){var $result$$=null;if("number"==typeof $arg$$&&($result$$=$str$$.match(/(%d)|(%s)/))){$str$$=$str$$.replace(/(%d)|(%s)/,$arg$$);break}$str$$=($result$$=$str$$.match(/%s/))?$str$$.replace(/%s/,$arg$$):$str$$+("    "+$arg$$);break}else $str$$+=
"    "+$arg$$}return $str$$};
(function(){var $win$$=window,$hidden$$,$visibilityChange$$;cc.isUndefined(document.hidden)?cc.isUndefined(document.mozHidden)?cc.isUndefined(document.msHidden)?cc.isUndefined(document.webkitHidden)||($hidden$$="webkitHidden",$visibilityChange$$="webkitvisibilitychange"):($hidden$$="msHidden",$visibilityChange$$="msvisibilitychange"):($hidden$$="mozHidden",$visibilityChange$$="mozvisibilitychange"):($hidden$$="hidden",$visibilityChange$$="visibilitychange");var $onHidden$$=function $$onHidden$$$(){cc.eventManager&&
cc.game._eventHide&&cc.eventManager.dispatchEvent(cc.game._eventHide)},$onShow$$=function $$onShow$$$(){cc.eventManager&&cc.game._eventShow&&cc.eventManager.dispatchEvent(cc.game._eventShow);cc.game._intervalId&&(window.cancelAnimationFrame(cc.game._intervalId),cc.game._runMainLoop())};$hidden$$?cc._addEventListener(document,$visibilityChange$$,function(){document[$hidden$$]?$onHidden$$():$onShow$$()},!1):(cc._addEventListener($win$$,"blur",$onHidden$$,!1),cc._addEventListener($win$$,"focus",$onShow$$,
!1));-1<navigator.userAgent.indexOf("MicroMessenger")&&($win$$.onfocus=function $$win$$$onfocus$(){$onShow$$()});"onpageshow"in window&&"onpagehide"in window&&(cc._addEventListener($win$$,"pagehide",$onHidden$$,!1),cc._addEventListener($win$$,"pageshow",$onShow$$,!1));$visibilityChange$$=$win$$=null})();cc.log=cc.warn=cc.error=cc.assert=function $cc$assert$(){};
cc.create3DContext=function $cc$create3DContext$($canvas$$,$opt_attribs$$){for(var $names$$=["webgl","experimental-webgl","webkit-3d","moz-webgl"],$context$$=null,$ii$$=0;$ii$$<$names$$.length;++$ii$$){try{$context$$=$canvas$$.getContext($names$$[$ii$$],$opt_attribs$$)}catch($e$$){}if($context$$)break}return $context$$};
cc._initSys=function $cc$_initSys$($config$$,$CONFIG_KEY$$){cc._RENDER_TYPE_CANVAS=0;cc._RENDER_TYPE_WEBGL=1;cc.sys={};var $sys$$=cc.sys;$sys$$.LANGUAGE_ENGLISH="en";$sys$$.LANGUAGE_CHINESE="zh";$sys$$.LANGUAGE_FRENCH="fr";$sys$$.LANGUAGE_ITALIAN="it";$sys$$.LANGUAGE_GERMAN="de";$sys$$.LANGUAGE_SPANISH="es";$sys$$.LANGUAGE_DUTCH="du";$sys$$.LANGUAGE_RUSSIAN="ru";$sys$$.LANGUAGE_KOREAN="ko";$sys$$.LANGUAGE_JAPANESE="ja";$sys$$.LANGUAGE_HUNGARIAN="hu";$sys$$.LANGUAGE_PORTUGUESE="pt";$sys$$.LANGUAGE_ARABIC=
"ar";$sys$$.LANGUAGE_NORWEGIAN="no";$sys$$.LANGUAGE_POLISH="pl";$sys$$.OS_WINDOWS="Windows";$sys$$.OS_IOS="iOS";$sys$$.OS_OSX="OS X";$sys$$.OS_UNIX="UNIX";$sys$$.OS_LINUX="Linux";$sys$$.OS_ANDROID="Android";$sys$$.OS_UNKNOWN="Unknown";$sys$$.WINDOWS=0;$sys$$.LINUX=1;$sys$$.MACOS=2;$sys$$.ANDROID=3;$sys$$.IPHONE=4;$sys$$.IPAD=5;$sys$$.BLACKBERRY=6;$sys$$.NACL=7;$sys$$.EMSCRIPTEN=8;$sys$$.TIZEN=9;$sys$$.WINRT=10;$sys$$.WP8=11;$sys$$.MOBILE_BROWSER=100;$sys$$.DESKTOP_BROWSER=101;$sys$$.BROWSER_TYPE_WECHAT=
"wechat";$sys$$.BROWSER_TYPE_ANDROID="androidbrowser";$sys$$.BROWSER_TYPE_IE="ie";$sys$$.BROWSER_TYPE_QQ="qqbrowser";$sys$$.BROWSER_TYPE_MOBILE_QQ="mqqbrowser";$sys$$.BROWSER_TYPE_UC="ucbrowser";$sys$$.BROWSER_TYPE_360="360browser";$sys$$.BROWSER_TYPE_BAIDU_APP="baiduboxapp";$sys$$.BROWSER_TYPE_BAIDU="baidubrowser";$sys$$.BROWSER_TYPE_MAXTHON="maxthon";$sys$$.BROWSER_TYPE_OPERA="opera";$sys$$.BROWSER_TYPE_OUPENG="oupeng";$sys$$.BROWSER_TYPE_MIUI="miuibrowser";$sys$$.BROWSER_TYPE_FIREFOX="firefox";
$sys$$.BROWSER_TYPE_SAFARI="safari";$sys$$.BROWSER_TYPE_CHROME="chrome";$sys$$.BROWSER_TYPE_UNKNOWN="unknown";$sys$$.isNative=!1;var $browserSupportWebGL_notSupportGL$$=[$sys$$.BROWSER_TYPE_BAIDU,$sys$$.BROWSER_TYPE_OPERA,$sys$$.BROWSER_TYPE_FIREFOX,$sys$$.BROWSER_TYPE_CHROME,$sys$$.BROWSER_TYPE_SAFARI],$osSupportWebGL$$=[$sys$$.OS_IOS,$sys$$.OS_WINDOWS,$sys$$.OS_OSX,$sys$$.OS_LINUX],$multipleAudioWhiteList_userRenderMode$$=[$sys$$.BROWSER_TYPE_BAIDU,$sys$$.BROWSER_TYPE_OPERA,$sys$$.BROWSER_TYPE_FIREFOX,
$sys$$.BROWSER_TYPE_CHROME,$sys$$.BROWSER_TYPE_BAIDU_APP,$sys$$.BROWSER_TYPE_SAFARI,$sys$$.BROWSER_TYPE_UC,$sys$$.BROWSER_TYPE_QQ,$sys$$.BROWSER_TYPE_MOBILE_QQ,$sys$$.BROWSER_TYPE_IE],$win$$=window,$nav$$=$win$$.navigator,$docEle$$=document.documentElement,$isAndroid_renderType_ua$$=$nav$$.userAgent.toLowerCase();$sys$$.isMobile=-1!=$isAndroid_renderType_ua$$.indexOf("mobile")||-1!=$isAndroid_renderType_ua$$.indexOf("android");$sys$$.platform=$sys$$.isMobile?$sys$$.MOBILE_BROWSER:$sys$$.DESKTOP_BROWSER;
var $browserType_currLanguage_iOS_tempCanvas$$=$nav$$.language,$browserType_currLanguage_iOS_tempCanvas$$=($browserType_currLanguage_iOS_tempCanvas$$=$browserType_currLanguage_iOS_tempCanvas$$?$browserType_currLanguage_iOS_tempCanvas$$:$nav$$.browserLanguage)?$browserType_currLanguage_iOS_tempCanvas$$.split("-")[0]:$sys$$.LANGUAGE_ENGLISH;$sys$$.language=$browserType_currLanguage_iOS_tempCanvas$$;var $browserType_currLanguage_iOS_tempCanvas$$=$sys$$.BROWSER_TYPE_UNKNOWN,$browserTypes_osName$$=$isAndroid_renderType_ua$$.match(/micromessenger|qqbrowser|mqqbrowser|ucbrowser|360browser|baiduboxapp|baidubrowser|maxthon|trident|oupeng|opera|miuibrowser|firefox/i)||
$isAndroid_renderType_ua$$.match(/chrome|safari/i);$browserTypes_osName$$&&0<$browserTypes_osName$$.length&&($browserType_currLanguage_iOS_tempCanvas$$=$browserTypes_osName$$[0].toLowerCase(),"micromessenger"==$browserType_currLanguage_iOS_tempCanvas$$?$browserType_currLanguage_iOS_tempCanvas$$=$sys$$.BROWSER_TYPE_WECHAT:"safari"===$browserType_currLanguage_iOS_tempCanvas$$&&$isAndroid_renderType_ua$$.match(/android.*applewebkit/)?$browserType_currLanguage_iOS_tempCanvas$$=$sys$$.BROWSER_TYPE_ANDROID:
"trident"==$browserType_currLanguage_iOS_tempCanvas$$&&($browserType_currLanguage_iOS_tempCanvas$$=$sys$$.BROWSER_TYPE_IE));$sys$$.browserType=$browserType_currLanguage_iOS_tempCanvas$$;$browserType_currLanguage_iOS_tempCanvas$$=$isAndroid_renderType_ua$$.match(/(iPad|iPhone|iPod)/i)?!0:!1;$isAndroid_renderType_ua$$=$isAndroid_renderType_ua$$.match(/android/i)||$nav$$.platform.match(/android/i)?!0:!1;$browserTypes_osName$$=$sys$$.OS_UNKNOWN;-1!=$nav$$.appVersion.indexOf("Win")?$browserTypes_osName$$=
$sys$$.OS_WINDOWS:$browserType_currLanguage_iOS_tempCanvas$$?$browserTypes_osName$$=$sys$$.OS_IOS:-1!=$nav$$.appVersion.indexOf("Mac")?$browserTypes_osName$$=$sys$$.OS_OSX:-1!=$nav$$.appVersion.indexOf("X11")?$browserTypes_osName$$=$sys$$.OS_UNIX:$isAndroid_renderType_ua$$?$browserTypes_osName$$=$sys$$.OS_ANDROID:-1!=$nav$$.appVersion.indexOf("Linux")&&($browserTypes_osName$$=$sys$$.OS_LINUX);$sys$$.os=$browserTypes_osName$$;$sys$$._supportMultipleAudio=-1<$multipleAudioWhiteList_userRenderMode$$.indexOf($sys$$.browserType);
$multipleAudioWhiteList_userRenderMode$$=parseInt($config$$[$CONFIG_KEY$$.renderMode]);$isAndroid_renderType_ua$$=cc._RENDER_TYPE_WEBGL;$browserType_currLanguage_iOS_tempCanvas$$=cc.newElement("Canvas");cc._supportRender=!0;$browserSupportWebGL_notSupportGL$$=!window.WebGLRenderingContext||-1==$browserSupportWebGL_notSupportGL$$.indexOf($sys$$.browserType)||-1==$osSupportWebGL$$.indexOf($sys$$.os);if(1===$multipleAudioWhiteList_userRenderMode$$||0===$multipleAudioWhiteList_userRenderMode$$&&$browserSupportWebGL_notSupportGL$$||
"file://"==location.origin)$isAndroid_renderType_ua$$=cc._RENDER_TYPE_CANVAS;$sys$$._canUseCanvasNewBlendModes=function $$sys$$$_canUseCanvasNewBlendModes$(){var $canvas$$1_context$$=document.createElement("canvas");$canvas$$1_context$$.width=1;$canvas$$1_context$$.height=1;$canvas$$1_context$$=$canvas$$1_context$$.getContext("2d");$canvas$$1_context$$.fillStyle="#000";$canvas$$1_context$$.fillRect(0,0,1,1);$canvas$$1_context$$.globalCompositeOperation="multiply";var $canvas2$$=document.createElement("canvas");
$canvas2$$.width=1;$canvas2$$.height=1;var $context2$$=$canvas2$$.getContext("2d");$context2$$.fillStyle="#fff";$context2$$.fillRect(0,0,1,1);$canvas$$1_context$$.drawImage($canvas2$$,0,0,1,1);return 0===$canvas$$1_context$$.getImageData(0,0,1,1).data[0]};$sys$$._supportCanvasNewBlendModes=$sys$$._canUseCanvasNewBlendModes();$isAndroid_renderType_ua$$!=cc._RENDER_TYPE_WEBGL||$win$$.WebGLRenderingContext&&cc.create3DContext($browserType_currLanguage_iOS_tempCanvas$$,{stencil:!0,preserveDrawingBuffer:!0})||
(0==$multipleAudioWhiteList_userRenderMode$$?$isAndroid_renderType_ua$$=cc._RENDER_TYPE_CANVAS:cc._supportRender=!1);if($isAndroid_renderType_ua$$==cc._RENDER_TYPE_CANVAS)try{$browserType_currLanguage_iOS_tempCanvas$$.getContext("2d")}catch($e$$){cc._supportRender=!1}cc._renderType=$isAndroid_renderType_ua$$;try{$sys$$._supportWebAudio=!!new ($win$$.AudioContext||$win$$.webkitAudioContext||$win$$.mozAudioContext)}catch($e$$0$$){$sys$$._supportWebAudio=!1}try{var $capabilities_localStorage$$=$sys$$.localStorage=
$win$$.localStorage;$capabilities_localStorage$$.setItem("storage","");$capabilities_localStorage$$.removeItem("storage");$capabilities_localStorage$$=null}catch($e$$1$$){"SECURITY_ERR"!==$e$$1$$.name&&"QuotaExceededError"!==$e$$1$$.name||cc.warn("Warning: localStorage isn't enabled. Please confirm browser cookie or privacy option"),$sys$$.localStorage=function $$sys$$$localStorage$(){}}$capabilities_localStorage$$=$sys$$.capabilities={canvas:!0};cc._renderType==cc._RENDER_TYPE_WEBGL&&($capabilities_localStorage$$.opengl=
!0);if(void 0!==$docEle$$.ontouchstart||$nav$$.msPointerEnabled)$capabilities_localStorage$$.touches=!0;void 0!==$docEle$$.onmouseup&&($capabilities_localStorage$$.mouse=!0);void 0!==$docEle$$.onkeyup&&($capabilities_localStorage$$.keyboard=!0);if($win$$.DeviceMotionEvent||$win$$.DeviceOrientationEvent)$capabilities_localStorage$$.accelerometer=!0;$sys$$.garbageCollect=function $$sys$$$garbageCollect$(){};$sys$$.dumpRoot=function $$sys$$$dumpRoot$(){};$sys$$.restartVM=function $$sys$$$restartVM$(){};
$sys$$.dump=function $$sys$$$dump$(){var $str$$;$str$$=""+("isMobile : "+this.isMobile+"\r\n");$str$$+="language : "+this.language+"\r\n";$str$$+="browserType : "+this.browserType+"\r\n";$str$$+="capabilities : "+JSON.stringify(this.capabilities)+"\r\n";$str$$+="os : "+this.os+"\r\n";$str$$+="platform : "+this.platform+"\r\n";cc.log($str$$)}};cc.ORIENTATION_PORTRAIT=0;cc.ORIENTATION_PORTRAIT_UPSIDE_DOWN=1;cc.ORIENTATION_LANDSCAPE_LEFT=2;cc.ORIENTATION_LANDSCAPE_RIGHT=3;cc._drawingUtil=null;
cc._renderContext=null;cc._canvas=null;cc._gameDiv=null;cc._rendererInitialized=!1;cc._setupCalled=!1;
cc._setup=function $cc$_setup$($el_localCanvas$$,$fontStyle_width$$,$height$$){if(!cc._setupCalled){cc._setupCalled=!0;var $win$$=window,$lastTime$$=new Date,$frameTime$$=1E3/cc.game.config[cc.game.CONFIG_KEY.frameRate],$localContainer_stTime$$=function $$localContainer_stTime$$$($callback$$){var $currTime$$=(new Date).getTime(),$timeToCall$$=Math.max(0,$frameTime$$-($currTime$$-$lastTime$$)),$id$$=window.setTimeout(function(){$callback$$()},$timeToCall$$);$lastTime$$=$currTime$$+$timeToCall$$;return $id$$},
$ctTime_element$$=function $$ctTime_element$$$($id$$){clearTimeout($id$$)};cc.sys.os===cc.sys.OS_IOS&&cc.sys.browserType===cc.sys.BROWSER_TYPE_WECHAT?($win$$.requestAnimFrame=$localContainer_stTime$$,$win$$.cancelAnimationFrame=$ctTime_element$$):60!=cc.game.config[cc.game.CONFIG_KEY.frameRate]?($win$$.requestAnimFrame=$localContainer_stTime$$,$win$$.cancelAnimationFrame=$ctTime_element$$):($win$$.requestAnimFrame=$win$$.requestAnimationFrame||$win$$.webkitRequestAnimationFrame||$win$$.mozRequestAnimationFrame||
$win$$.oRequestAnimationFrame||$win$$.msRequestAnimationFrame||$localContainer_stTime$$,$win$$.cancelAnimationFrame=window.cancelAnimationFrame||window.cancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.oCancelAnimationFrame||$ctTime_element$$);$ctTime_element$$=
cc.$($el_localCanvas$$)||cc.$("#"+$el_localCanvas$$);"CANVAS"==$ctTime_element$$.tagName?($fontStyle_width$$=$fontStyle_width$$||$ctTime_element$$.width,$height$$=$height$$||$ctTime_element$$.height,$localContainer_stTime$$=cc.container=cc.newElement("DIV"),$el_localCanvas$$=cc._canvas=$ctTime_element$$,$el_localCanvas$$.parentNode.insertBefore($localContainer_stTime$$,$el_localCanvas$$),$el_localCanvas$$.appendTo($localContainer_stTime$$),$localContainer_stTime$$.setAttribute("id","Cocos2dGameContainer")):
("DIV"!=$ctTime_element$$.tagName&&cc.log("Warning: target element is not a DIV or CANVAS"),$fontStyle_width$$=$fontStyle_width$$||$ctTime_element$$.clientWidth,$height$$=$height$$||$ctTime_element$$.clientHeight,$localContainer_stTime$$=cc.container=$ctTime_element$$,$el_localCanvas$$=cc._canvas=cc.$(cc.newElement("CANVAS")),$ctTime_element$$.appendChild($el_localCanvas$$));$el_localCanvas$$.addClass("gameCanvas");$el_localCanvas$$.setAttribute("width",$fontStyle_width$$||480);$el_localCanvas$$.setAttribute("height",
$height$$||320);$el_localCanvas$$.setAttribute("tabindex",99);$el_localCanvas$$.style.outline="none";$ctTime_element$$=$localContainer_stTime$$.style;$ctTime_element$$.width=($fontStyle_width$$||480)+"px";$ctTime_element$$.height=($height$$||320)+"px";$ctTime_element$$.margin="0 auto";$ctTime_element$$.position="relative";$ctTime_element$$.overflow="hidden";$localContainer_stTime$$.top="100%";cc._renderType==cc._RENDER_TYPE_WEBGL&&(cc._renderContext=cc.webglContext=cc.create3DContext($el_localCanvas$$,
{stencil:!0,preserveDrawingBuffer:!0,antialias:!cc.sys.isMobile,alpha:!1}));cc._renderContext?($win$$.gl=cc._renderContext,cc._drawingUtil=new cc.DrawingPrimitiveWebGL(cc._renderContext),cc._rendererInitialized=!0,cc.textureCache._initializingRenderer(),cc.shaderCache._init()):(cc._renderContext=$el_localCanvas$$.getContext("2d"),cc._mainRenderContextBackup=cc._renderContext,cc._renderContext.translate(0,$el_localCanvas$$.height),cc._drawingUtil=cc.DrawingPrimitiveCanvas?new cc.DrawingPrimitiveCanvas(cc._renderContext):
null);cc._gameDiv=$localContainer_stTime$$;cc.log(cc.ENGINE_VERSION);cc._setContextMenuEnable(!1);cc.sys.isMobile&&($fontStyle_width$$=cc.newElement("style"),$fontStyle_width$$.type="text/css",document.body.appendChild($fontStyle_width$$),$fontStyle_width$$.textContent="body,canvas,div{ -moz-user-select: none;-webkit-user-select: none;-ms-user-select: none;-khtml-user-select: none;-webkit-tap-highlight-color:rgba(0,0,0,0);}");cc.view=cc.EGLView._getInstance();cc.inputManager.registerSystemEvent(cc._canvas);
cc.director=cc.Director._getInstance();cc.director.setOpenGLView&&cc.director.setOpenGLView(cc.view);cc.winSize=cc.director.getWinSize();cc.saxParser=new cc.SAXParser;cc.plistParser=new cc.PlistParser}};cc._checkWebGLRenderMode=function $cc$_checkWebGLRenderMode$(){if(cc._renderType!==cc._RENDER_TYPE_WEBGL)throw"This feature supports WebGL render mode only.";};cc._isContextMenuEnable=!1;
cc._setContextMenuEnable=function $cc$_setContextMenuEnable$($enabled$$){cc._isContextMenuEnable=$enabled$$;cc._canvas.oncontextmenu=function $cc$_canvas$oncontextmenu$(){if(!cc._isContextMenuEnable)return!1}};
cc.game={DEBUG_MODE_NONE:0,DEBUG_MODE_INFO:1,DEBUG_MODE_WARN:2,DEBUG_MODE_ERROR:3,DEBUG_MODE_INFO_FOR_WEB_PAGE:4,DEBUG_MODE_WARN_FOR_WEB_PAGE:5,DEBUG_MODE_ERROR_FOR_WEB_PAGE:6,EVENT_HIDE:"game_on_hide",EVENT_SHOW:"game_on_show",_eventHide:null,_eventShow:null,_onBeforeStartArr:[],CONFIG_KEY:{engineDir:"engineDir",dependencies:"dependencies",debugMode:"debugMode",showFPS:"showFPS",frameRate:"frameRate",id:"id",renderMode:"renderMode",jsList:"jsList",classReleaseMode:"classReleaseMode"},_prepareCalled:!1,
_prepared:!1,_paused:!0,_intervalId:null,config:null,onStart:null,onStop:null,setFrameRate:function $cc$game$setFrameRate$($frameRate$$){this.config[this.CONFIG_KEY.frameRate]=$frameRate$$;this._intervalId&&window.cancelAnimationFrame(this._intervalId);this._paused=!0;this._runMainLoop()},_runMainLoop:function $cc$game$_runMainLoop$(){var $self$$=this,$callback$$,$director$$=cc.director;$director$$.setDisplayStats($self$$.config[$self$$.CONFIG_KEY.showFPS]);$callback$$=function $$callback$$$(){$self$$._paused||
($director$$.mainLoop(),$self$$._intervalId&&window.cancelAnimationFrame($self$$._intervalId),$self$$._intervalId=window.requestAnimFrame($callback$$))};window.requestAnimFrame($callback$$);$self$$._paused=!1},run:function $cc$game$run$($id$$){var $self$$=this,$_run$$=function $$_run$$$(){$id$$&&($self$$.config[$self$$.CONFIG_KEY.id]=$id$$);$self$$._prepareCalled||$self$$.prepare(function(){$self$$._prepared=!0});cc._supportRender&&($self$$._checkPrepare=setInterval(function(){$self$$._prepared&&
(cc._setup($self$$.config[$self$$.CONFIG_KEY.id]),$self$$._runMainLoop(),$self$$._eventHide=$self$$._eventHide||new cc.EventCustom($self$$.EVENT_HIDE),$self$$._eventHide.setUserData($self$$),$self$$._eventShow=$self$$._eventShow||new cc.EventCustom($self$$.EVENT_SHOW),$self$$._eventShow.setUserData($self$$),$self$$.onStart(),clearInterval($self$$._checkPrepare))},10))};document.body?$_run$$():cc._addEventListener(window,"load",function(){this.removeEventListener("load",arguments.callee,!1);$_run$$()},
!1)},_initConfig:function $cc$game$_initConfig$(){var $CONFIG_KEY$$=this.CONFIG_KEY,$_init$$=function $$_init$$$($cfg$$){$cfg$$[$CONFIG_KEY$$.engineDir]=$cfg$$[$CONFIG_KEY$$.engineDir]||"frameworks/cocos2d-html5";null==$cfg$$[$CONFIG_KEY$$.debugMode]&&($cfg$$[$CONFIG_KEY$$.debugMode]=0);$cfg$$[$CONFIG_KEY$$.frameRate]=$cfg$$[$CONFIG_KEY$$.frameRate]||60;null==$cfg$$[$CONFIG_KEY$$.renderMode]&&($cfg$$[$CONFIG_KEY$$.renderMode]=1);return $cfg$$};if(document.ccConfig)this.config=$_init$$(document.ccConfig);
else try{for(var $cocos_script$$=document.getElementsByTagName("script"),$i$$=0;$i$$<$cocos_script$$.length;$i$$++){var $_t$$=$cocos_script$$[$i$$].getAttribute("cocos");if(""==$_t$$||$_t$$)break}var $_src$$,$txt$$,$_resPath$$;if($i$$<$cocos_script$$.length){if($_src$$=$cocos_script$$[$i$$].src)$_resPath$$=/(.*)\//.exec($_src$$)[0],cc.loader.resPath=$_resPath$$,$_src$$=cc.path.join($_resPath$$,"project.json");$txt$$=cc.loader._loadTxtSync($_src$$)}$txt$$||($txt$$=cc.loader._loadTxtSync("project.json"));
var $data$$=JSON.parse($txt$$);this.config=$_init$$($data$$||{})}catch($e$$){cc.log("Failed to read or parse project.json"),this.config=$_init$$({})}cc._initSys(this.config,$CONFIG_KEY$$)},_jsAddedCache:{},_getJsListOfModule:function $cc$game$_getJsListOfModule$($moduleMap$$,$ccPath_moduleName$$,$dir$$){var $jsAddedCache$$=this._jsAddedCache;if($jsAddedCache$$[$ccPath_moduleName$$])return null;$dir$$=$dir$$||"";var $jsList$$=[],$tempList$$=$moduleMap$$[$ccPath_moduleName$$];if(!$tempList$$)throw"can not find module ["+
$ccPath_moduleName$$+"]";$ccPath_moduleName$$=cc.path;for(var $i$$=0,$li$$=$tempList$$.length;$i$$<$li$$;$i$$++){var $item$$=$tempList$$[$i$$];if(!$jsAddedCache$$[$item$$]){var $arr$$10_extname$$=$ccPath_moduleName$$.extname($item$$);$arr$$10_extname$$?".js"==$arr$$10_extname$$.toLowerCase()&&$jsList$$.push($ccPath_moduleName$$.join($dir$$,$item$$)):($arr$$10_extname$$=this._getJsListOfModule($moduleMap$$,$item$$,$dir$$))&&($jsList$$=$jsList$$.concat($arr$$10_extname$$));$jsAddedCache$$[$item$$]=
1}}return $jsList$$},prepare:function $cc$game$prepare$($cb$$){var $self$$=this,$config$$=$self$$.config,$CONFIG_KEY$$=$self$$.CONFIG_KEY,$engineDir$$=$config$$[$CONFIG_KEY$$.engineDir],$loader$$=cc.loader;if(!cc._supportRender)throw"The renderer doesn't support the renderMode "+$config$$[$CONFIG_KEY$$.renderMode];$self$$._prepareCalled=!0;var $jsList$$=$config$$[$CONFIG_KEY$$.jsList]||[];cc.Class?$loader$$.loadJsWithImg("",$jsList$$,function($err$$){if($err$$)throw $err$$;$self$$._prepared=!0;$cb$$&&
$cb$$()}):($CONFIG_KEY$$=cc.path.join($engineDir$$,"moduleConfig.json"),$loader$$.loadJson($CONFIG_KEY$$,function($err$$0$$,$modulesJson$$){if($err$$0$$)throw $err$$0$$;var $modules$$=$config$$.modules||[],$moduleMap$$=$modulesJson$$.module,$newJsList$$=[];cc._renderType==cc._RENDER_TYPE_WEBGL?$modules$$.splice(0,0,"shaders"):0>$modules$$.indexOf("core")&&$modules$$.splice(0,0,"core");for(var $i$$=0,$li$$=$modules$$.length;$i$$<$li$$;$i$$++){var $arr$$=$self$$._getJsListOfModule($moduleMap$$,$modules$$[$i$$],
$engineDir$$);$arr$$&&($newJsList$$=$newJsList$$.concat($arr$$))}$newJsList$$=$newJsList$$.concat($jsList$$);cc.loader.loadJsWithImg($newJsList$$,function($err$$){if($err$$)throw $err$$;$self$$._prepared=!0;$cb$$&&$cb$$()})}))}};cc.game._initConfig();
Function.prototype.bind=Function.prototype.bind||function($oThis$$){if(!cc.isFunction(this))throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var $aArgs$$=Array.prototype.slice.call(arguments,1),$fToBind$$=this,$fNOP$$=function $$fNOP$$$(){},$fBound$$=function $$fBound$$$(){return $fToBind$$.apply(this instanceof $fNOP$$&&$oThis$$?this:$oThis$$,$aArgs$$.concat(Array.prototype.slice.call(arguments)))};$fNOP$$.prototype=this.prototype;$fBound$$.prototype=new $fNOP$$;
return $fBound$$};cc=cc||{};cc._loadingImage="data:image/gif;base64,R0lGODlhEAAQALMNAD8/P7+/vyoqKlVVVX9/fxUVFUBAQGBgYMDAwC8vL5CQkP///wAAAP///wAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAANACwAAAAAEAAQAAAEO5DJSau9OOvNex0IMnDIsiCkiW6g6BmKYlBFkhSUEgQKlQCARG6nEBwOgl+QApMdCIRD7YZ5RjlGpCUCACH5BAUAAA0ALAAAAgAOAA4AAAQ6kLGB0JA4M7QW0hrngRllkYyhKAYqKUGguAws0ypLS8JxCLQDgXAIDg+FRKIA6v0SAECCBpXSkstMBAAh+QQFAAANACwAAAAACgAQAAAEOJDJORAac6K1kDSKYmydpASBUl0mqmRfaGTCcQgwcxDEke+9XO2WkxQSiUIuAQAkls0n7JgsWq8RACH5BAUAAA0ALAAAAAAOAA4AAAQ6kMlplDIzTxWC0oxwHALnDQgySAdBHNWFLAvCukc215JIZihVIZEogDIJACBxnCSXTcmwGK1ar1hrBAAh+QQFAAANACwAAAAAEAAKAAAEN5DJKc4RM+tDyNFTkSQF5xmKYmQJACTVpQSBwrpJNteZSGYoFWjIGCAQA2IGsVgglBOmEyoxIiMAIfkEBQAADQAsAgAAAA4ADgAABDmQSVZSKjPPBEDSGucJxyGA1XUQxAFma/tOpDlnhqIYN6MEAUXvF+zldrMBAjHoIRYLhBMqvSmZkggAIfkEBQAADQAsBgAAAAoAEAAABDeQyUmrnSWlYhMASfeFVbZdjHAcgnUQxOHCcqWylKEohqUEAYVkgEAMfkEJYrFA6HhKJsJCNFoiACH5BAUAAA0ALAIAAgAOAA4AAAQ3kMlJq704611SKloCAEk4lln3DQgyUMJxCBKyLAh1EMRR3wiDQmHY9SQslyIQUMRmlmVTIyRaIgA7";
cc._fpsImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAAgCAYAAAD9qabkAAAKQ2lDQ1BJQ0MgcHJvZmlsZQAAeNqdU3dYk/cWPt/3ZQ9WQtjwsZdsgQAiI6wIyBBZohCSAGGEEBJAxYWIClYUFRGcSFXEgtUKSJ2I4qAouGdBiohai1VcOO4f3Ke1fXrv7e371/u855zn/M55zw+AERImkeaiagA5UoU8Otgfj09IxMm9gAIVSOAEIBDmy8JnBcUAAPADeXh+dLA//AGvbwACAHDVLiQSx+H/g7pQJlcAIJEA4CIS5wsBkFIAyC5UyBQAyBgAsFOzZAoAlAAAbHl8QiIAqg0A7PRJPgUA2KmT3BcA2KIcqQgAjQEAmShHJAJAuwBgVYFSLALAwgCgrEAiLgTArgGAWbYyRwKAvQUAdo5YkA9AYACAmUIszAAgOAIAQx4TzQMgTAOgMNK/4KlfcIW4SAEAwMuVzZdL0jMUuJXQGnfy8ODiIeLCbLFCYRcpEGYJ5CKcl5sjE0jnA0zODAAAGvnRwf44P5Dn5uTh5mbnbO/0xaL+a/BvIj4h8d/+vIwCBAAQTs/v2l/l5dYDcMcBsHW/a6lbANpWAGjf+V0z2wmgWgrQevmLeTj8QB6eoVDIPB0cCgsL7SViob0w44s+/zPhb+CLfvb8QB7+23rwAHGaQJmtwKOD/XFhbnauUo7nywRCMW735yP+x4V//Y4p0eI0sVwsFYrxWIm4UCJNx3m5UpFEIcmV4hLpfzLxH5b9CZN3DQCshk/ATrYHtctswH7uAQKLDljSdgBAfvMtjBoLkQAQZzQyefcAAJO/+Y9AKwEAzZek4wAAvOgYXKiUF0zGCAAARKCBKrBBBwzBFKzADpzBHbzAFwJhBkRADCTAPBBCBuSAHAqhGJZBGVTAOtgEtbADGqARmuEQtMExOA3n4BJcgetwFwZgGJ7CGLyGCQRByAgTYSE6iBFijtgizggXmY4EImFINJKApCDpiBRRIsXIcqQCqUJqkV1II/ItchQ5jVxA+pDbyCAyivyKvEcxlIGyUQPUAnVAuagfGorGoHPRdDQPXYCWomvRGrQePYC2oqfRS+h1dAB9io5jgNExDmaM2WFcjIdFYIlYGibHFmPlWDVWjzVjHVg3dhUbwJ5h7wgkAouAE+wIXoQQwmyCkJBHWExYQ6gl7CO0EroIVwmDhDHCJyKTqE+0JXoS+cR4YjqxkFhGrCbuIR4hniVeJw4TX5NIJA7JkuROCiElkDJJC0lrSNtILaRTpD7SEGmcTCbrkG3J3uQIsoCsIJeRt5APkE+S+8nD5LcUOsWI4kwJoiRSpJQSSjVlP+UEpZ8yQpmgqlHNqZ7UCKqIOp9aSW2gdlAvU4epEzR1miXNmxZDy6Qto9XQmmlnafdoL+l0ugndgx5Fl9CX0mvoB+nn6YP0dwwNhg2Dx0hiKBlrGXsZpxi3GS+ZTKYF05eZyFQw1zIbmWeYD5hvVVgq9ip8FZHKEpU6lVaVfpXnqlRVc1U/1XmqC1SrVQ+rXlZ9pkZVs1DjqQnUFqvVqR1Vu6k2rs5Sd1KPUM9RX6O+X/2C+mMNsoaFRqCGSKNUY7fGGY0hFsYyZfFYQtZyVgPrLGuYTWJbsvnsTHYF+xt2L3tMU0NzqmasZpFmneZxzQEOxrHg8DnZnErOIc4NznstAy0/LbHWaq1mrX6tN9p62r7aYu1y7Rbt69rvdXCdQJ0snfU6bTr3dQm6NrpRuoW623XP6j7TY+t56Qn1yvUO6d3RR/Vt9KP1F+rv1u/RHzcwNAg2kBlsMThj8MyQY+hrmGm40fCE4agRy2i6kcRoo9FJoye4Ju6HZ+M1eBc+ZqxvHGKsNN5l3Gs8YWJpMtukxKTF5L4pzZRrmma60bTTdMzMyCzcrNisyeyOOdWca55hvtm82/yNhaVFnMVKizaLx5balnzLBZZNlvesmFY+VnlW9VbXrEnWXOss623WV2xQG1ebDJs6m8u2qK2brcR2m23fFOIUjynSKfVTbtox7PzsCuya7AbtOfZh9iX2bfbPHcwcEh3WO3Q7fHJ0dcx2bHC866ThNMOpxKnD6VdnG2ehc53zNRemS5DLEpd2lxdTbaeKp26fesuV5RruutK10/Wjm7ub3K3ZbdTdzD3Ffav7TS6bG8ldwz3vQfTw91jicczjnaebp8LzkOcvXnZeWV77vR5Ps5wmntYwbcjbxFvgvct7YDo+PWX6zukDPsY+Ap96n4e+pr4i3z2+I37Wfpl+B/ye+zv6y/2P+L/hefIW8U4FYAHBAeUBvYEagbMDawMfBJkEpQc1BY0FuwYvDD4VQgwJDVkfcpNvwBfyG/ljM9xnLJrRFcoInRVaG/owzCZMHtYRjobPCN8Qfm+m+UzpzLYIiOBHbIi4H2kZmRf5fRQpKjKqLupRtFN0cXT3LNas5Fn7Z72O8Y+pjLk722q2cnZnrGpsUmxj7Ju4gLiquIF4h/hF8ZcSdBMkCe2J5MTYxD2J43MC52yaM5zkmlSWdGOu5dyiuRfm6c7Lnnc8WTVZkHw4hZgSl7I/5YMgQlAvGE/lp25NHRPyhJuFT0W+oo2iUbG3uEo8kuadVpX2ON07fUP6aIZPRnXGMwlPUit5kRmSuSPzTVZE1t6sz9lx2S05lJyUnKNSDWmWtCvXMLcot09mKyuTDeR55m3KG5OHyvfkI/lz89sVbIVM0aO0Uq5QDhZML6greFsYW3i4SL1IWtQz32b+6vkjC4IWfL2QsFC4sLPYuHhZ8eAiv0W7FiOLUxd3LjFdUrpkeGnw0n3LaMuylv1Q4lhSVfJqedzyjlKD0qWlQyuCVzSVqZTJy26u9Fq5YxVhlWRV72qX1VtWfyoXlV+scKyorviwRrjm4ldOX9V89Xlt2treSrfK7etI66Trbqz3Wb+vSr1qQdXQhvANrRvxjeUbX21K3nShemr1js20zcrNAzVhNe1bzLas2/KhNqP2ep1/XctW/a2rt77ZJtrWv913e/MOgx0VO97vlOy8tSt4V2u9RX31btLugt2PGmIbur/mft24R3dPxZ6Pe6V7B/ZF7+tqdG9s3K+/v7IJbVI2jR5IOnDlm4Bv2pvtmne1cFoqDsJB5cEn36Z8e+NQ6KHOw9zDzd+Zf7f1COtIeSvSOr91rC2jbaA9ob3v6IyjnR1eHUe+t/9+7zHjY3XHNY9XnqCdKD3x+eSCk+OnZKeenU4/PdSZ3Hn3TPyZa11RXb1nQ8+ePxd07ky3X/fJ897nj13wvHD0Ivdi2yW3S609rj1HfnD94UivW2/rZffL7Vc8rnT0Tes70e/Tf/pqwNVz1/jXLl2feb3vxuwbt24m3Ry4Jbr1+Hb27Rd3Cu5M3F16j3iv/L7a/eoH+g/qf7T+sWXAbeD4YMBgz8NZD+8OCYee/pT/04fh0kfMR9UjRiONj50fHxsNGr3yZM6T4aeypxPPyn5W/3nrc6vn3/3i+0vPWPzY8Av5i8+/rnmp83Lvq6mvOscjxx+8znk98ab8rc7bfe+477rfx70fmSj8QP5Q89H6Y8en0E/3Pud8/vwv94Tz+4A5JREAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfcAgcQLxxUBNp/AAAQZ0lEQVR42u2be3QVVZbGv1N17829eRLyIKAEOiISEtPhJTJAYuyBDmhWjAEx4iAGBhxA4wABbVAMWUAeykMCM+HRTcBRWkNH2l5moS0LCCrQTkYeQWBQSCAIgYRXEpKbW/XNH5zS4noR7faPEeu31l0h4dSpvc+t/Z199jkFWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhY/H9D/MR9qfKnLj/00U71aqfJn9+HCkCR/Wk36ddsgyJ/1wF4fkDfqqm9/gPsUeTnVr6a2xlQfnxdI7zs0W7irzD17Ytb2WT7EeNv/r4ox1O3Quf2QP2pgt9utwfout4FQE8AVBSlnaRmfvAURQkg2RlAbwB9AThlW5L0GaiKojhJhgOIBqDa7XaPrusdPtr5kQwF0BVAAoBIABRCKDd5aFUhRDAAw57eAOwAhKIoupft3zoqhB1AqLwuHIBut9uFt02qqvqRDJR2dAEQJj/BAOjn56dqmma+xiaECAEQAWAggLsB6A6HQ2iaZggBhBAqgEAAnQB0kzaEmT4hAITT6VQ8Ho/HJAKKECJQtr8LwD1y/A1/vcdfEUIEyfZ9AcQbYvZ942Px88L2UwlJR0dH0EMPPbRj5syZPUeNGrXR7Xb/641xIwJ1XY9NSUlZm52dfW+XLl1w8uRJzJ8//+OGhoYJqqqe1TSt1Wsm9NN1PSIqKmr12rVrR5WUlHy1bdu2AQCumWc3IYRD1/UwVVXnFRQUTIuNjUVzczN2797dWFJSkq8oymZd15sAGAEnFEUJ1nX9nzIzM1dnZmZGh4SE4OTJk5g5c+Zf29vbp9pstrMej6fVOyhIhgAYU1hY+B+hoaGoqKg4XVlZea+XTULTNFdCQsLGiRMnPuR2u3UhBOV9eeDAAWXTpk095DUe6WsoyRE5OTlr0tLSAux2O/bs2cO5c+e+pijKUpIXSHaQVAGkvPLKK++6XK4OksJLCFlXV2cvKSlJBFAjhU+x2WwhHo9nUHp6+urMzMy7wsLCUF9fjxdffPHjxsbGiTab7WuPx9NiEutOuq4PyMjI+M+srKyYqKgoHD58GDNmzNjq8XhyVFU9b/q+LH7hBAEYu3PnTlZVVRFAGgCX6f/tAHoOHDjwa0p27txp/JO9e/f+QM7cipw9nfL3kQBKt2zZQpJ87rnn6mQmoHilw2EACs+cOUOSrK+vZ1NTE0nyo48+IoBpxswoBcMJ4Ndjx471kOTFixe5d+9ekqTH42H//v13A4jyzpAURfEH0H/OnDnthu1z5sw558MmFUCPWbNmnaMP3nrrLZoyDmP8Hl68eDFJ8siRI9/Yc+zYMQKYKdtAztrTrl27xptRXV1NAKMAOAyBBBA/Y8aMdpLs6Ojgxx9//E37+++//29yvFXppwvAwMcee8xjtDHsuXLlCqOjo//ia3wsfpkoALqFhoZuIckJEyackimm3dQmEMDUmpoakmRISMhhAHOHDx/eQJIbN24kgKEyMAHAFRMTs2XXrl1saWkhSZ0kp0+ffhrAr3wEW/S8efOukORLL72kA1gKYMPWrVtJkk899dRJAHeYrgsEsIQkjx8/TgDvAPjd448/3kaSb7zxBmUa7vC6z53BwcFbSHL9+vU6Sc6aNes8gF5ewWAH0PfVV18lSQL4DMBGIcQ6AKtcLleBFC2jXtFt8ODBe0iyoqKCAJYByC8qKmJDQwOzsrK+MAmqo1OnTveHhoa+GRkZ+XZkZOSWiIiIvzgcjk9mzpypkWRmZuZpmbYbGV4AgPnNzc1sa2sjgN0A5iQmJtaSZHl5OQHcb/K3s81mW0uSTU1NBFAFYFbfvn1Pk+Tbb79NAA8IIVzW42/hByA+Pz/fLR/2ZXIda05NI/z9/TeR5J49ewhgqlxTrtI0jY2NjQQw3zTLuWJiYjaUlJToS5Ys6fjkk080kwDEeAmADcA9GzZsIElGRUW9CyAWwLApU6Y0kOSKFSsog9QICGdERMTGsrIyZmVlEcC9AB4IDw/fTpLbtm0jgN94CUAnAJmVlZVcs2aNZ/LkyRdJcvbs2b4EwAkgZfPmzTxw4AABFAN4BkC6vFeUSewcAO5duXIlSTIhIaEawGMAxgKYAmAGgCS73e5vrKVk/yGythANYEhCQsIhkly+fDkBpKqqGmL6DgIALDKN/3yZpVWQZGVlJQE8aPI3KiMjo5okV61aRQAjAPQBMPfIkSN0u90EUCBtsPiFEwpgbn19PdetW2fM5N4zQ9ekpKQqkty0aRMBpMjiWM6JEydIkoqirJUFJ6iq6pAPVy8A6cZMehMBUACEuVyuFwG8HBwcPEIWx367ZMkSjSQXLVrUJouTRorrkAHdA8BdQogsAOsKCwtJkmPGjDkvMw2bDDo/ADEjRoz4XylyFbm5uY0mAbjLyyZ/AOOrq6tZVlbWsWDBgo69e/eyoqKCgwcPPg4gSQaoIRbp27dvN7KF+tLSUr28vJwFBQXtMpvpYRIM7+wrAkDeqVOnePbsWQIoNKfzpiXPg8uXLydJJicnNwF4f+nSpW6STEtLq5fjYwhk1wkTJtSQ5Ouvv04AqTKj+N2xY8dIkgEBAW/Ie1v8wncRegwZMmQvSfbr12+3Ua33WqPfOWbMmP0kWVpaSgCDZAqcfejQIWNZsEGKgvnh9gfQb9myZd8nAEJVVZtMkUNk8CcNHTq0liR1XWdYWNhmH1mJIme80OnTp18x1rp5eXkEsNJms92Fb7e/IgEsvHz5Mp999tkmAI/l5uZeMC0B7vEqqAYAyL106RJJsra2lpWVld+sucePH38ZQG+5NncBeOrgwYMkqbe3t/Po0aOsra011wAWyl0H7x0JJ4DE+fPnu0kyPT29DsDdUrBuyNKEEAkAdpw/f/6GeoEM8GUmfwEgPCIiopwkGxsbabPZPgOw6L777vvm4p49e26VGYjFLxUhhD+ApLKyMp44ccIoVnXybgbgzkcfffRzklyzZg0BDJYCMMmoCwQFBXkLgLGWvvcWAgBToSsKwNPTp09vMR7UuLi4rwH0lgU8c/Db5ezbeeTIkRWzZ8++aMxu+fn5BPCADBwHgP4LFy701NXVEUAJgAnPP/98kyxMNgHo53A4zH77BQQETMvPz7+Um5vbBuAlAFMSExPPmdbVL0qh8Acw8fDhw5SCchVAEYAVb775JknyhRdeaJYztHfxMwLAaqNwCGC2FArv8x0hAHKNLGPKlCme5OTk/Zs3bzb7O0wKiiG8KXl5ed8IxenTp0mSR48e1UmyW7duWywBuD2xyQcgFECgoih+8H1gyJgZV5Lkyy+/3CbTRIePtl2HDBmyw1QBHyGDdXZdXR1JUghRKkXBjOMHCoBdpr0L3nvvPZLkF198wejo6O0A4lVVDTb74HQ6AwD8Wq7Jh8rgGgDgQ13XjVR8qaxJuADMbmlpYXl5uV5UVNRWUFDgfv/993Vj/ZydnU1c37eHXML4S3viAcQqitJD2l104cIFY8lTKsXSBWBMVVWVcd9yed2A1NTUQ6Zl00CvLMMOoHdubm6zFIlWOf5+PsY/Kj09vdrU11QAwwGsv3jxIk21m2DZr10I0RXAuAcffPBgaWkpV69eTYfDcdiwUxY0w6xw+flX8L1xApjevXv3lREREaW6rofB93aPDUDQpEmTMgHgtddeqwBwEd/utZvpqK6uPgEAcXFxkA94NwB9unfvjrNnz4LklwDcf08iIqv66Zs2bXrl4YcfxooVKxAbG7uqrq5uAYA2TdOEqqpGYIi2tjbl6aeffu/YsWPv5uTk7JaC1wHg4Pnz542MwoVvTx+21dbWYvjw4WLixIl+2dnZ9lGjRgmSTE1NRUpKCkwFTGiaxtTU1OXTpk3707Bhw/6g67pDipnT4biuj7qut+Lbk3Vf1tTUXI9qu91Pjq1QFEUBgJaWFgBo8yGOQ8eNGxcAAOvXr/8QwBUfYygAKL169eoCABcuXACAWtn2hOGv0+kMNO1KiPDw8F4A4rZv3/7R1KlTR0+bNu1ht9u9r1+/fqitrQXJgwDarRC6/QjPzs4+QJIffPCB9/aQmSAA43ft2mW0e1QGoi8CAPyLsZccExNTC2BlRkbGRdOyYJCP2csBIN6UAZzCd7cBbQCijYp/dXU1ExMTz6SmptaMHj36f9LS0vYlJCRsl6mxIWSdu3fv/g5J7t+/nwC2AShMTk6+SJKff/45AWRLYbD7+fndAeDf5BJnLoCCyZMnt5JkdnZ2C4B/F0KEm1Pu+Pj4rST55ZdfEsBWAK+mpaVdMo3raDn7KwDuSEpK+m+S3LBhAwG8DuCtHTt2UBbpjgC408vvcFVV15HkuXPnjMp+p5uMf0RcXNyHJNnQ0EBVVfcCWBQXF3fG+Jv0yxABPwB5LS0tRmFxN4BlTzzxxGWSXLx4sS5F3GGFy+1Hp5SUlJq6ujoWFxdTpsZ2H+0iIyMj/0iSWVlZX5mr5jfJFroPGzasxlhTnjp1iiTZ3NxMl8tlrCd9pfa9SkpKSJI5OTmnZOageLUZZqxvfVFWVkZcPwdgNwnSCKPqb17jkmR8fPzfZMDZ5CRsFBmNI7h95s2b1yhT7/MAYmStwCx4vy0uLqa3v5qmEcCfvSr1QQAeXb16NY3Cm3HQ55133iGAp+SxZTNhKSkpfzUddkrFjYevzAQCeGjp0qXfsYckY2NjTwD4leGDLCL2HTdunNtoY+zWSHFcIHdsFCtcfuZ1vO9Eqs3m7/F47sb1k2qX/f3997W2tl7BjWfpBYDOzzzzzIVJkyZh0KBBCwEsB3AJvl9AETabLcDj8dwRFRW1ctasWb8JCgpSzp07d62wsPC/Wltb8xRFadR1/ZqPXYbgAQMGbI2Pjw/+6quv9ldVVT0r01ezuPRJSUn5Y9euXXVd11WzDaqq6kePHm3+7LPPRgO4KlNuxWazhXo8nuTk5OSXMjIyEl0uFxoaGtqKior+dPXq1VdUVT0jj7r68ieoT58+vx8yZMjdx48fP1JVVTVF9m20VW02WyfZf97YsWPjXS4X6urqWvPy8jYCWCyEuEDS8FdVFKWzruv//OSTTy5OTk7uqWkaPv3007qysrJ8RVH+LI8ym8/rB3Tu3HnRI488knLo0KG2ffv2ZQI4C98vP6mqqoZqmpaclpa2cOTIkX39/f3R0NDQUVxc/G5TU9PLqqrWa5rWLH1QVFUN0TStX1JSUvH48eP7BwYG4uDBg1cKCgpeBbBe2u+2Qug2EwD5N5sMPuNtMe8XP4TT6Qxoa2sbIGeXvUKIK7d4IISiKC5d1wPljOfA9bPwzYqiXNV13dd6Uqiq6qdpml2mpe02m63d4/G4vcTF5fF47LJf71nJA6BZVVW3pmntuPHlmAD5wk6Q9NnbHp9vHaqq6tA0zU/64PZhk1FfCZB9G/23ALiqKEqzD39tpvbGUqoFwFUhRLP3yzpCCDtJpxyXDulfG27+pqRR3DXsUWVd4Yq0x/taVQjhIhksC8L+ABpM9ljBf5sKwI8pIBr75L5E4vvu+UNeG/a+hv+AL7yFH8qPtOfHjtOP6V/Bja8D6z/B2Nys/1u9Xv33tLf4GfF/LC4GCJwByWIAAAAASUVORK5CYII=";
cc._loaderImage="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAAlAAD/4QMpaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjAtYzA2MCA2MS4xMzQ3NzcsIDIwMTAvMDIvMTItMTc6MzI6MDAgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjM4MDBEMDY2QTU1MjExRTFBQTAzQjEzMUNFNzMxRkQwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjM4MDBEMDY1QTU1MjExRTFBQTAzQjEzMUNFNzMxRkQwIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzUgV2luZG93cyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU2RTk0OEM4OERCNDExRTE5NEUyRkE3M0M3QkE1NTlEIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU2RTk0OEM5OERCNDExRTE5NEUyRkE3M0M3QkE1NTlEIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+/+4ADkFkb2JlAGTAAAAAAf/bAIQADQkJCQoJDQoKDRMMCwwTFhENDREWGhUVFhUVGhkUFhUVFhQZGR0fIB8dGScnKionJzk4ODg5QEBAQEBAQEBAQAEODAwOEA4RDw8RFA4RDhQVERISERUfFRUXFRUfKB0ZGRkZHSgjJiAgICYjLCwoKCwsNzc1NzdAQEBAQEBAQEBA/8AAEQgAyACgAwEiAAIRAQMRAf/EALAAAAEFAQEAAAAAAAAAAAAAAAQAAgMFBgcBAQEAAwEBAAAAAAAAAAAAAAAAAQMEAgUQAAIBAgIEBwoLBgQGAwAAAAECAwAEEQUhMRIGQVFxsTITFGGBwdEiQlKSMzWRoeFicqKyI1NzFYJjJDQWB9KjVCbxwkNkJWXik3QRAAIBAgMFBQcDBQEAAAAAAAABAhEDIRIEMUFRcTJhwVIUBZGhsSJyEzOB0ULhYpIjUxX/2gAMAwEAAhEDEQA/AMJSpUqAVKlXuFAeUq9wpUB5XuFe4V6ooDzZHDox0CnGMinzwl7Z8NajaHeoO3vmTBZBtp9YUIqTEV5ROxHKnWRnaU8VRMhFBUjpV7hSoSeUq9pUB5Sr2lhQHlKvcK8oBV7hSFSRrtaKAZs07YNPM1pG2xJIAw1jSeandry/8X4m8VCKkWwaWwam7Xl/4v1W8VLtmX/i/VbxUoKkWwakSM407tmX/i/VbxUmzGwjQsjdY41IARie/U0IbZO0kNtCXnOCkEBeFu4KI3Bs7DNb27ya+jDx3kJeEnpJJEcQVbWDsk17u5urd591ucZkWhym2Vnd9RkCDEpFxDRpbw0bunu5mlp2De2FMLYXOD2wB2xbOeraUcYGJ72mlSUiqzzdzMd3Z3mixltA2yzcK/NlHM1DQyRXce1HocdNOEfJXZ88y9ZojOqhiBszIRiHQ8Y4cK5TvHuzLljHNMqxNoDjLFraHHnjPxcNCGVbxEUzYNTx5jZSxhpW6qTzlwJ+DCvO2Zf+L9VvFSgqyHYNLYNTdssPxfibxUu15f8Ai/VPiqCakOwa82DU/a8v/F+JvFTDdWPBL8R8VKCvYRYV5UzoMAy6QdIIqI0B4KJtxiRQwou16QoGUkntH5Tz0RbZbmF2hktraSVBo2lUkY8tDye0flPPXTslVUyiyVRsjqUOA4yMT8dW2ram2m6UVTNq9S7EIyUVJydMTn/6DnP+im9Wl+g5z/opvVrpteEhQWY4AaSTwAVf5WPiZh/9S5/zj7zltzlmYWkfWXNvJDGTgGcYDHirR7i7mSbwXParsFMrgb7w6jKw/wCmnc9I14kF3vpvCljbMyWMOJL4aEiB8qU/ObUK7HYWVrl1pFZWiCOCBQqKOLjPGTrNZZqKbUXVHq2nNwTuJRk1VpbgXN8s7Rk5ym0UQQzhIG2NAjhxHWbI+gCBVjBBFbwxwQqEiiUJGg1BVGAFe7dV28WYLYZFmF2Th1UD7JGjymGyn1iK5OyzIBGB1HgrLZhamzumQAGJwSqnSCh1q3GOCodxt4cxurdcpzuN4cyhiWaF5Bg09udUmnWw1H/jV9nFuJ7Quo+8h8peThFA+047vduyMtk7fYqTl07YFdfUufMPzT5p71UdtlmYXaGS2t3mQHAsgxANdadYJopLe4QS2867EsZ4QfCNYrCFbjdDPmgkYyWFxgVf04ifJf6ScNdRUW1XBb6FU5TjF5EpSSrGu/s5lN+g5z/opvVpfoOc/wCim9WtdHnatvObJXDW7xLGhB8nrPaY9/HCr+tEdPCVaSeDoYLnqF63lzW4/PFSW3ecxbI84VSzWUwUaSdg0DXXK5nvAipnd6qgKvWnQO7pri9ZUEmm3Vl2j1kr8pRlFRyquBNZjGxQ/S56Y1S2fu9OVueon11Szahoou06QoQUXadIVCD2FJJ7R+U89dMydv8Axdn+TH9muZye0flPPXQstlK5Tbka1gUjlC1q0vVLkeb6r+O3Tx9xcY1nt8c0NrZCyiOE1108NYjGv1joo7Js1jzKyScYLIvkzL6LDwHXVJksH9Sb49dKNq0tj1jA6uriOCL+02FWX7iVtZX1/AzaHTyeoauKn2MX9W79zebiZCuR5MjSrhfXuEtwTrUeZH+yNfdrRNcxI6IzhXlJEak6WIGJ2Rw4ChWnChndtlVBLMdQA0k1gbXNMzzDfDLs6mjaPKppJbWwJ1bOwwxw43OnHh71YT3DpfWUJmFlb5jHHDdeXBHIsrRea5TSqvxqG04cNN62vetoCS4tre5mgnkGE9q+3DKOkuI2WX6LDQRRHWDh1UCtwj7QRg2wdl8Djgw1qe7XvW0BQ3kfZ7mSLgU+T9E6RVbnuVrnWVSWqj+Lt8ZbRuHEdKPkYVcZ2MJY5fSGyeVar45+rkWQHAqccalPE5km1htWK5nK4Wnt5FuUBUwOMG4nGkA/BXUrW4S6torlOjMgcd/xVn7rLo7zKs0uEjCNeSvdwoBhgsZxX1l2j36k3Lu+uyprdj5Vs5A+i/lD48a0aaVJOPi7jB6lbzWozpjB48pf1NDXNN4vfl7+Z4BXS65pvF78vfzPAK71XTHmZ/S/yT+jvJ7L3fHytz1E+upbL+Qj5W56jfXWRnsIYKLtekKEFGWvSFQgyjk9o/Keet3YthlMP/5x9msJJ7R+U89biyb/AMXEv7gD6tadL1T+kwepRrC39ZkLDMbiwMvUHRPG0bjlGg8ore/23sxBldxfMPLupNhT8yL/AORNZbdzJ484scytxgLqJY5LZj6Q2sV5G1Vud1mjjyG0ij0NEGSZToKyhjtqw4waztuiXA3qKTbSxltfGhbZlE95ZtZqxVbgiOZhrER9ph3Svk9+pJILZ4Y4DGBFCUMKjRsGPobPFhUfW0NJmljE2xJcIrcI2vFUEln1lRXd6lrazXT9GCNpD+yNqoI7mOVduNw6nzlOIoPOUa6yye1XXcbMR5GdQ3xY0BSbj31/FcTQZirJ+q431q7anbHCTZ72Bw7lbPrKBMcBWNNgbMBBh+bsjBdni0VJ1lARZs6yWiupxCuMDy6KpS2IwOo6DTr3Mre3e5tZZVUM4ZBjqOOJoWO4jkXajcOOMHGgDISvWIrdAkKR80+TzVl908bPPL3LzxOuHdifxVfiTAg92qI/w+/8gGgSyN/mR7XPVlp0lF/3L3mbVKtu5Hjbk/8AHE2Fc03i9+Xv5ngFdKNc13i9+Xv5ngFaNV0x5nn+l/kn9HeEWXu+PlbnqJ9dS2Xu9OVueon11kZ7CGCjLXpCgxRlr0hUIPYUcntH5Tz1s8vb+Bt1/dqPirGSe0flPPWusG/g4Py15q06XqlyMWvVYQ+ruI9xJOqzO9hOto/sP8tbGOFIrmWeM7IuMDMnAXXQJOUjQeOsJk0nY96ip0CYunrjaHx1t+srPJUbXBm2LrFPikwTOb+T+VhbZxGMrDXp83x1QSy2tucJpUjPETp+Cn5/ftaRvKvtp3Kx48HG3erHMzOxZiWZtLMdJNQSbbL71Vk6yynViOkqnEEfOWtPbXi3EQkGg6mXiNckjeSJxJGxR10qw0GtxuxmvbImD4CZMFlA4fRfv0BqesqqzTMZNMEDbIHtHH2QeCiZJSqMQdOGiue53mz3czQwsRbIcNHnkec3c4qAMuriz68gTIToxwOOnlp0MjxMJYW741Gs3RVldtbygE/dMcHX/moDaxTiWNZB53B3arb8/wC+4SOF4sf/AKxU9kcBsfOGHfoUHtG/RbzY5Die5HHhXdvavqiZ9Q8Jdlq4/gbKua7xe/L38zwCuhpf2Uk/Zo50kmwJKIdogDjw1VzzeL35e/meAVp1LTgqY4nn+mRauzqmqwrjzCLL3fHytz1E+upLL+Qj5W56jfXWRnroYKLtekKEFF2vSFQg9hSSe0flPPWosm/hIfoLzVl5PaPynnrRWb/w0X0F5q06XqlyM2sVYx5gmbFre/t71NY2T+0h8VbSO5SWNJUOKSAMp7jDGspmMPaLRlXS6eWve1/FRO7WYdbZm1Y/eW/R7qHxHRXGojlm3ulid6aVbaW+OALvgCLq2Hm9WxHKWqjhj6xsK1e8dm15l4niG1LZkswGsxtrPeOmsvayBJA1VItlWjptLuTdPMo7LtjRDq9naK4+WF9IrUW7BaHOljGqVHB7w2hzVoZt87d8vaNYSLl02CcRsDEbJbj71Uu7UBkvJ7/D7q2QoDxySaAO8MTXdxRVMpRp5XZOWdF/ms7R5XdyKfKWJsO/5PhrG5XlNxmEywW6bTnTxAAcJNbGSMXkM1pjgbiNo1PziPJ+Os7u7m/6ReM00ZOgxSpqYYHT3wRXMKN4ll9zUG4bQfNshu8sZVuEA2hirA4qe/VOwwrVbzbww5mI44UKRRYkbWG0S3JWctbd7u5WFfOOLHiUdJqmaipfLsIsObhWe001lMkMVvJNjhghIALMcBxCs7fxXQmkupx1bXDswGPlaTidVaEyKNXkoo4eBV+Sq7L7Vs9zcBgeyQ4GQ/MB1crmoim2orezqcowTuSeEY48jQ7oZX2PLzdyLhNd6RjrEY6I7+uspvH78vfzPAK6UAAAFGAGgAcArmu8Xvy9/M8ArTfio24RW5nnaG67uou3H/KPuqT2X8hHytz1G+upLL3enK3PUb66ys9RDBRdr0hQgou06QqEGUkntH5Tz1e238vF9BeaqKT2j8p56vbb+Xi+gvNWjTdUuRn1XTHmTh8KrJTJlt8t1CPIY44cGnpJVjTJYkmjaN9Ib4u7V923njTethRauZJV3PaW1rfLIiXEDYg6R4VYc9CXW7thfOZbKdbGZtLW8uPVY/u3GrkNUkM9zlcxUjbhfWOA90cRq4gv4LhdqN+VToNYWmnRm9NNVWNTyHc6VWBv8wt4YeHqm6xyPmroq1Z7WGFLSxTq7WLSuPSdjrkfumq5yHXDUeA92oO2SKpVumNAaoJLMXH3myp0rpJ4uKhc3tbDM5BMri1zAj79j7KTiY8TcdBpcsith0286o+sPCagEX9Pzg4zXUCp6QYse8oouCG3tk6m1BYv05W6T+IdyolxbHDAAa2OgDlNCz3ryN2WxBd5PJMg1t81eId2ukqnLlTBbfcuY+9uJLiRcvtPvHdsHK+cfRHcHDWsyawjyy0WBcDI3lTP6TeIcFV+S5OmXx9bJg1048o8Cj0V8Jq2DVu09nL80up7OxHi+oal3P8AXB/IsZS8T/YOV65zvCcc7vfzPAK3ivWCz445zeH954BXOr6I8yfSfyz+jvCLP3fHytz1G+upLP3fHytz1E+usbPaQ0UXadIUIKLtekKhB7Ckk9o/Keer22/l4/oLzVRSe0flPPV7b/y8X0F5q0abqlyM+q6Y8yQsBTDMor1o8aiaE1pbluMqS3sbLLHIhSRQyngqukhaJ9uBjo+H5aOa3ao2t34qouRlLajTalGP8v0IY8ylXQ+PKPFU/bYXOLPge6CKia0LaxTOxHu1Q7cuBd9yPEJ7TbjXKO8CajbMIF6CNIeNvJHjqIWJ7tSpYkalqVblwIdyG+RGXur0hXYJFxal+Dhq5y3slkv3Y2pD0pTr+QUClpJRUdo9XW4OLrTHtM16cZLLWkeC7y4jvlNEpcRtw1Ux27Ci448NZrTFy3nn3IQWxlgGrDZ3pza7/M8ArZo+ArF5171uvp+CqdV0R5l/psUrs2vB3hdl7vTlbnqJ9dS2Xu+PlbnqJ9dY2eshooq16QoQUXa9IVCD2FLJ7RuU89WNtmUSQqkgYMgw0accKrpPaPynnrZWG4Vi+VWmY5tnMWXG+XrIYnA0rhj0mdcTgdNdwnKDqjmduM1SRR/qlr8/4KX6pa8T/BVzDuLZXudRZblmbxXcPUNPc3KqCIwrbOzgrHEnHjoyD+3eSXkht7DeKG4umDGOJVUklfouThXfmbnZ7Cvy1vt9pmv1W1+d8FL9VteJvgq5yrcOGfLmzHN80iyyETPbptAEFo2ZG8pmUa1OFNn3Ky6W/sbDKM5hv5bx2WTZA+7RF2y52WOPJTzE+z2Dy1vt9pT/AKpacTerS/U7Tib1a04/t7kDXPY03jhN0W6sQ7K7W3q2dnrMccaDy/8At80kuZfqWYxWNtlcvUPPhiGYhWDeUy7IwYU8xPs9g8tb7faUn6pacTerTxm9oOBvVq3v9z927aynuId44LiWKNnjhAXF2UYhRg516qpsryjLr21665zFLSTaK9U2GOA87SwqY37knRU+BzOzags0s1Oyr+BKM6sxwP6tSDPLMen6vy0rvdm3Sxlu7K/S7WDDrFUDUTxgnTU826eXW7KlxmqQuwDBXUKcD+1Xee/wXuKX5XDGWLapSVcOyhEM/seJ/V+WnjeGx4pPV+Wkm6kKZlFay3Jlt7iFpYZY8ASVK6DjtDDA0f8A0Tl340/1f8Ndx8xJVWXB0KbktFFpNzdVXAC/qOwA0CQni2flrO3Vwbm5lnI2TKxbDirX/wBE5d+NcfV/wVR7xZPa5U9utvI8nWhmbbw0YEAYYAVxfhfy5rlKR4Fulu6X7mW1mzT8S4Yis/5CPlbnqJ9dSWfu9OVueon11mZvQ2i7XpChKKtekKhBlNJ7R+U89bDfGTb3a3ZX0Lcj6kdY+T2j8p560288m1kWQr6MJ+ylSAr+2cnV5renjs3H1loX+3j9XvbbtxLN9lqW4UnV5jdnjtXHxihtyZNjeSBu5J9k1BJe7xy7W5CJ/wCzuD/mTVTf2+fq97LJuLrPsNRueS7W6aJ/38x+vLVXuY+xvHaNxbf2GoCezf8A36j/APsSf8w1sLnqczTefJluYoLm5uo5F61sBshItP1cNFYe1f8A3ir/APfE/wCZUe9bB94r5jwuPsrQFhmG4l/Z2M17HdW90tuu3IkTHaCjWdIw0VVZdks9/C06yJFEp2dp+E1bbqybGTZ8vpQD7L1XRv8A7blT96Oda7tpNuuNE37Cq9KSisjyuUoxrStKllHbLlWTXsMs8chuSuwEPDqwoLe5y+YRE/gLzmqRekvKKtd4327yM/ulHxmrHJStySWVRyrjxKI2XC/CTlnlPPKTpTdFbP0L1bgrf5Lp0G3dPhQHwV0S1lzBsns3sESR8Crh9WAJGjSOKuU3E+zdZQ3oJh8IArdZXFDmOTpHa3i2+YrI2KtKy4ricBsBuHHgFXSo440+Wa2qqxjvM9uMoy+WvzWpLCWWWE28HxL6e43ojgkeSCBY1Ri5BGIUDT51cl3vm276BBqSEH4WbxV0tlkyXJcxTMb+OW6uY9mGHrCzDQwwAbTp2uKuTZ9N1uYsfRRR8WPhrm419mSSjRyiqxVK7y23B/ftuTm2oSdJyzNVw3BFn7vTlbnqF9dS2fu9OVueon11lZuQ2iLdsGFD05H2dNQGV0ntG5Tz1dWm9N1b2kVq8EVwsI2UaQaQOKhmitZGLOmk68DhSFvY+gfWNSAg7z3Qvo7yKCKIohiaNR5LKxx8qpxvjcqS0VpbxvwOAcRQPZ7D0G9Y0uz2HoH1jUCpLY7zXlpbm3eKO5QuzjrBqZji3x17PvNcyT288VvDBJbMWUovS2hslW7mFQ9nsPQPrGl2ew9A+saCod/WNxtbYsrfb17WBxx5ddD2281xC88klvDcSXEnWuzrqOGGC9zRUPZ7D0G9Y0uzWHoH1jQVCLreq6ntZbaO3it1mGy7RjTs1X2mYy20ZiCq8ZOODcdEdmsPQb1jS7PYegfWNdJuLqnQiSUlRqpFLmryxtH1Ma7Qw2gNNPOdSt0oI27p007s9h6B9Y0uz2HoH1jXX3Z+I4+1b8IJdX89xLHKQFMXQUahpxoiPN5P+onfU+A0/s9h6DesaXZ7D0D6xpG7OLbUtu0StW5JJx2bBsmbtiSiEk+cxoCWWSaVpZOk2vDVo0VYdnsPQb1jSNvZcCH1jSd2c+p1XAmFqEOmOPEfaH+BQd1ueo211IzrgFUYKNAAqI1WztCpUqVCRUqVKgFSpUqAVKlSoBUqVKgFSpUqAVKlSoBUqVKgFSpUqAVKlSoD/9k=";
cc.loader.loadBinary=function $cc$loader$loadBinary$($url$$,$cb$$){var $self$$=this,$xhr$$=this.getXMLHttpRequest(),$errInfo$$="load "+$url$$+" failed!";$xhr$$.open("GET",$url$$,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?($xhr$$.setRequestHeader("Accept-Charset","x-user-defined"),$xhr$$.onreadystatechange=function $$xhr$$$onreadystatechange$(){if(4==$xhr$$.readyState&&200==$xhr$$.status){var $fileContents$$=cc._convertResponseBodyToText($xhr$$.responseBody);$cb$$(null,
$self$$._str2Uint8Array($fileContents$$))}else $cb$$($errInfo$$)}):($xhr$$.overrideMimeType&&$xhr$$.overrideMimeType("text/plain; charset=x-user-defined"),$xhr$$.onload=function $$xhr$$$onload$(){4==$xhr$$.readyState&&200==$xhr$$.status?$cb$$(null,$self$$._str2Uint8Array($xhr$$.responseText)):$cb$$($errInfo$$)});$xhr$$.send(null)};
cc.loader._str2Uint8Array=function $cc$loader$_str2Uint8Array$($strData$$){if(!$strData$$)return null;for(var $arrData$$=new Uint8Array($strData$$.length),$i$$=0;$i$$<$strData$$.length;$i$$++)$arrData$$[$i$$]=$strData$$.charCodeAt($i$$)&255;return $arrData$$};
cc.loader.loadBinarySync=function $cc$loader$loadBinarySync$($arrayInfo_url$$){var $fileContents$$=this.getXMLHttpRequest(),$errInfo$$="load "+$arrayInfo_url$$+" failed!";$fileContents$$.open("GET",$arrayInfo_url$$,!1);$arrayInfo_url$$=null;if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){$fileContents$$.setRequestHeader("Accept-Charset","x-user-defined");$fileContents$$.send(null);if(200!=$fileContents$$.status)return cc.log($errInfo$$),null;($fileContents$$=cc._convertResponseBodyToText($fileContents$$.responseBody))&&
($arrayInfo_url$$=this._str2Uint8Array($fileContents$$))}else{$fileContents$$.overrideMimeType&&$fileContents$$.overrideMimeType("text/plain; charset=x-user-defined");$fileContents$$.send(null);if(200!=$fileContents$$.status)return cc.log($errInfo$$),null;$arrayInfo_url$$=this._str2Uint8Array($fileContents$$.responseText)}return $arrayInfo_url$$};var Uint8Array=Uint8Array||Array;
if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){var IEBinaryToArray_ByteStr_Script='\x3c!-- IEBinaryToArray_ByteStr --\x3e\r\nFunction IEBinaryToArray_ByteStr(Binary)\r\n   IEBinaryToArray_ByteStr = CStr(Binary)\r\nEnd Function\r\nFunction IEBinaryToArray_ByteStr_Last(Binary)\r\n   Dim lastIndex\r\n   lastIndex = LenB(Binary)\r\n   if lastIndex mod 2 Then\r\n       IEBinaryToArray_ByteStr_Last = Chr( AscB( MidB( Binary, lastIndex, 1 ) ) )\r\n   Else\r\n       IEBinaryToArray_ByteStr_Last = ""\r\n   End If\r\nEnd Function\r\n',myVBScript=
cc.newElement("script");myVBScript.type="text/vbscript";myVBScript.textContent=IEBinaryToArray_ByteStr_Script;document.body.appendChild(myVBScript);cc._convertResponseBodyToText=function $cc$_convertResponseBodyToText$($binary_lastChr$$){for(var $byteMapping$$={},$i$$=0;256>$i$$;$i$$++)for(var $j$$=0;256>$j$$;$j$$++)$byteMapping$$[String.fromCharCode($i$$+256*$j$$)]=String.fromCharCode($i$$)+String.fromCharCode($j$$);$i$$=IEBinaryToArray_ByteStr($binary_lastChr$$);$binary_lastChr$$=IEBinaryToArray_ByteStr_Last($binary_lastChr$$);
return $i$$.replace(/[\s\S]/g,function($match$$){return $byteMapping$$[$match$$]})+$binary_lastChr$$}}
var cc=cc||{},ClassManager={id:0|998*Math.random(),instanceId:0|998*Math.random(),compileSuper:function($func$$8_str$$,$name$$,$id$$){$func$$8_str$$=$func$$8_str$$.toString();var $params_pstart$$=$func$$8_str$$.indexOf("("),$bstart_pend_sp$$=$func$$8_str$$.indexOf(")"),$params_pstart$$=$func$$8_str$$.substring($params_pstart$$+1,$bstart_pend_sp$$),$params_pstart$$=$params_pstart$$.trim(),$bstart_pend_sp$$=$func$$8_str$$.indexOf("{"),$bend_bp$$=$func$$8_str$$.lastIndexOf("}");for($func$$8_str$$=$func$$8_str$$.substring($bstart_pend_sp$$+
1,$bend_bp$$);-1!=$func$$8_str$$.indexOf("this._super");){var $bstart_pend_sp$$=$func$$8_str$$.indexOf("this._super"),$bend_bp$$=$func$$8_str$$.indexOf("(",$bstart_pend_sp$$),$bbp_coma_superParams$$=$func$$8_str$$.indexOf(")",$bend_bp$$),$bbp_coma_superParams$$=$func$$8_str$$.substring($bend_bp$$+1,$bbp_coma_superParams$$),$bbp_coma_superParams$$=($bbp_coma_superParams$$=$bbp_coma_superParams$$.trim())?",":"";$func$$8_str$$=$func$$8_str$$.substring(0,$bstart_pend_sp$$)+"ClassManager["+$id$$+"]."+
$name$$+".call(this"+$bbp_coma_superParams$$+$func$$8_str$$.substring($bend_bp$$+1)}return Function($params_pstart$$,$func$$8_str$$)},getNewID:function(){return this.id++},getNewInstanceId:function(){return this.instanceId++}};ClassManager.compileSuper.ClassManager=ClassManager;
(function(){var $fnTest$$=/\b_super\b/,$releaseMode$$=cc.game.config[cc.game.CONFIG_KEY.classReleaseMode];$releaseMode$$&&console.log("release Mode");cc.Class=function $cc$Class$(){};cc.Class.extend=function $cc$Class$extend$($props$$){function $Class$$(){this.__instanceId=ClassManager.getNewInstanceId();this.ctor&&this.ctor.apply(this,arguments)}var $_super$$=this.prototype,$prototype$$=Object.create($_super$$),$classId$$=ClassManager.getNewID();ClassManager[$classId$$]=$_super$$;var $desc$$={writable:!0,
enumerable:!1,configurable:!0};$prototype$$.__instanceId=null;$Class$$.id=$classId$$;$desc$$.value=$classId$$;Object.defineProperty($prototype$$,"__pid",$desc$$);$Class$$.prototype=$prototype$$;$desc$$.value=$Class$$;Object.defineProperty($Class$$.prototype,"constructor",$desc$$);this.__getters__&&($Class$$.__getters__=cc.clone(this.__getters__));this.__setters__&&($Class$$.__setters__=cc.clone(this.__setters__));for(var $idx$$=0,$li$$=arguments.length;$idx$$<$li$$;++$idx$$){var $prop$$0$$=arguments[$idx$$],
$name$$0$$;for($name$$0$$ in $prop$$0$$){var $isFunc_propertyName$$="function"===typeof $prop$$0$$[$name$$0$$],$override$$="function"===typeof $_super$$[$name$$0$$],$hasSuperCall$$=$fnTest$$.test($prop$$0$$[$name$$0$$]);$releaseMode$$&&$isFunc_propertyName$$&&$override$$&&$hasSuperCall$$?($desc$$.value=ClassManager.compileSuper($prop$$0$$[$name$$0$$],$name$$0$$,$classId$$),Object.defineProperty($prototype$$,$name$$0$$,$desc$$)):$isFunc_propertyName$$&&$override$$&&$hasSuperCall$$?($desc$$.value=function($name$$,
$fn$$){return function(){var $tmp$$=this._super;this._super=$_super$$[$name$$];var $ret$$=$fn$$.apply(this,arguments);this._super=$tmp$$;return $ret$$}}($name$$0$$,$prop$$0$$[$name$$0$$]),Object.defineProperty($prototype$$,$name$$0$$,$desc$$)):$isFunc_propertyName$$?($desc$$.value=$prop$$0$$[$name$$0$$],Object.defineProperty($prototype$$,$name$$0$$,$desc$$)):$prototype$$[$name$$0$$]=$prop$$0$$[$name$$0$$];if($isFunc_propertyName$$){var $getter$$,$setter$$;if(this.__getters__&&this.__getters__[$name$$0$$]){var $isFunc_propertyName$$=
this.__getters__[$name$$0$$],$i$$;for($i$$ in this.__setters__)if(this.__setters__[$i$$]==$isFunc_propertyName$$){$setter$$=$i$$;break}cc.defineGetterSetter($prototype$$,$isFunc_propertyName$$,$prop$$0$$[$name$$0$$],$prop$$0$$[$setter$$]?$prop$$0$$[$setter$$]:$prototype$$[$setter$$],$name$$0$$,$setter$$)}if(this.__setters__&&this.__setters__[$name$$0$$]){$isFunc_propertyName$$=this.__setters__[$name$$0$$];for($i$$ in this.__getters__)if(this.__getters__[$i$$]==$isFunc_propertyName$$){$getter$$=$i$$;
break}cc.defineGetterSetter($prototype$$,$isFunc_propertyName$$,$prop$$0$$[$getter$$]?$prop$$0$$[$getter$$]:$prototype$$[$getter$$],$prop$$0$$[$name$$0$$],$getter$$,$name$$0$$)}}}}$Class$$.extend=cc.Class.extend;$Class$$.implement=function $$Class$$$implement$($prop$$){for(var $name$$ in $prop$$)$prototype$$[$name$$]=$prop$$[$name$$]};return $Class$$}})();
cc.defineGetterSetter=function $cc$defineGetterSetter$($ctor_proto$$,$prop$$,$getter$$,$setter$$,$getterName$$,$setterName$$){if($ctor_proto$$.__defineGetter__)$getter$$&&$ctor_proto$$.__defineGetter__($prop$$,$getter$$),$setter$$&&$ctor_proto$$.__defineSetter__($prop$$,$setter$$);else if(Object.defineProperty){var $desc$$={enumerable:!1,configurable:!0};$getter$$&&($desc$$.get=$getter$$);$setter$$&&($desc$$.set=$setter$$);Object.defineProperty($ctor_proto$$,$prop$$,$desc$$)}else throw Error("browser does not support getters");
if(!$getterName$$&&!$setterName$$)for(var $desc$$=null!=$getter$$,$hasSetter$$=void 0!=$setter$$,$props$$=Object.getOwnPropertyNames($ctor_proto$$),$i$$=0;$i$$<$props$$.length;$i$$++){var $name$$=$props$$[$i$$];if(($ctor_proto$$.__lookupGetter__?!$ctor_proto$$.__lookupGetter__($name$$):!Object.getOwnPropertyDescriptor($ctor_proto$$,$name$$))&&"function"===typeof $ctor_proto$$[$name$$]){var $func$$=$ctor_proto$$[$name$$];if($desc$$&&$func$$===$getter$$&&($getterName$$=$name$$,!$hasSetter$$||$setterName$$))break;
if($hasSetter$$&&$func$$===$setter$$&&($setterName$$=$name$$,!$desc$$||$getterName$$))break}}$ctor_proto$$=$ctor_proto$$.constructor;$getterName$$&&($ctor_proto$$.__getters__||($ctor_proto$$.__getters__={}),$ctor_proto$$.__getters__[$getterName$$]=$prop$$);$setterName$$&&($ctor_proto$$.__setters__||($ctor_proto$$.__setters__={}),$ctor_proto$$.__setters__[$setterName$$]=$prop$$)};
cc.clone=function $cc$clone$($obj$$){var $newObj$$=$obj$$.constructor?new $obj$$.constructor:{},$key$$;for($key$$ in $obj$$){var $copy$$=$obj$$[$key$$];$newObj$$[$key$$]="object"!=typeof $copy$$||!$copy$$||$copy$$ instanceof cc.Node||$copy$$ instanceof HTMLElement?$copy$$:cc.clone($copy$$)}return $newObj$$};cc.Point=function $cc$Point$($x$$,$y$$){this.x=$x$$||0;this.y=$y$$||0};cc.p=function $cc$p$($x$$,$y$$){return void 0==$x$$?{x:0,y:0}:void 0==$y$$?{x:$x$$.x,y:$x$$.y}:{x:$x$$,y:$y$$}};
cc.pointEqualToPoint=function $cc$pointEqualToPoint$($point1$$,$point2$$){return $point1$$&&$point2$$&&$point1$$.x===$point2$$.x&&$point1$$.y===$point2$$.y};cc.Size=function $cc$Size$($width$$,$height$$){this.width=$width$$||0;this.height=$height$$||0};cc.size=function $cc$size$($w$$,$h$$){return void 0===$w$$?{width:0,height:0}:void 0===$h$$?{width:$w$$.width,height:$w$$.height}:{width:$w$$,height:$h$$}};
cc.sizeEqualToSize=function $cc$sizeEqualToSize$($size1$$,$size2$$){return $size1$$&&$size2$$&&$size1$$.width==$size2$$.width&&$size1$$.height==$size2$$.height};cc.Rect=function $cc$Rect$($x$$,$y$$,$width$$,$height$$){this.x=$x$$||0;this.y=$y$$||0;this.width=$width$$||0;this.height=$height$$||0};cc.rect=function $cc$rect$($x$$,$y$$,$w$$,$h$$){return void 0===$x$$?{x:0,y:0,width:0,height:0}:void 0===$y$$?{x:$x$$.x,y:$x$$.y,width:$x$$.width,height:$x$$.height}:{x:$x$$,y:$y$$,width:$w$$,height:$h$$}};
cc.rectEqualToRect=function $cc$rectEqualToRect$($rect1$$,$rect2$$){return $rect1$$&&$rect2$$&&$rect1$$.x===$rect2$$.x&&$rect1$$.y===$rect2$$.y&&$rect1$$.width===$rect2$$.width&&$rect1$$.height===$rect2$$.height};cc._rectEqualToZero=function $cc$_rectEqualToZero$($rect$$){return $rect$$&&0===$rect$$.x&&0===$rect$$.y&&0===$rect$$.width&&0===$rect$$.height};
cc.rectContainsRect=function $cc$rectContainsRect$($rect1$$,$rect2$$){return $rect1$$&&$rect2$$?!($rect1$$.x>=$rect2$$.x||$rect1$$.y>=$rect2$$.y||$rect1$$.x+$rect1$$.width<=$rect2$$.x+$rect2$$.width||$rect1$$.y+$rect1$$.height<=$rect2$$.y+$rect2$$.height):!1};cc.rectGetMaxX=function $cc$rectGetMaxX$($rect$$){return $rect$$.x+$rect$$.width};cc.rectGetMidX=function $cc$rectGetMidX$($rect$$){return $rect$$.x+$rect$$.width/2};cc.rectGetMinX=function $cc$rectGetMinX$($rect$$){return $rect$$.x};
cc.rectGetMaxY=function $cc$rectGetMaxY$($rect$$){return $rect$$.y+$rect$$.height};cc.rectGetMidY=function $cc$rectGetMidY$($rect$$){return $rect$$.y+$rect$$.height/2};cc.rectGetMinY=function $cc$rectGetMinY$($rect$$){return $rect$$.y};cc.rectContainsPoint=function $cc$rectContainsPoint$($rect$$,$point$$){return $point$$.x>=cc.rectGetMinX($rect$$)&&$point$$.x<=cc.rectGetMaxX($rect$$)&&$point$$.y>=cc.rectGetMinY($rect$$)&&$point$$.y<=cc.rectGetMaxY($rect$$)};
cc.rectIntersectsRect=function $cc$rectIntersectsRect$($ra$$,$rb$$){var $maxay$$=$ra$$.y+$ra$$.height,$maxbx$$=$rb$$.x+$rb$$.width,$maxby$$=$rb$$.y+$rb$$.height;return!($ra$$.x+$ra$$.width<$rb$$.x||$maxbx$$<$ra$$.x||$maxay$$<$rb$$.y||$maxby$$<$ra$$.y)};cc.rectOverlapsRect=function $cc$rectOverlapsRect$($rectA$$,$rectB$$){return!($rectA$$.x+$rectA$$.width<$rectB$$.x||$rectB$$.x+$rectB$$.width<$rectA$$.x||$rectA$$.y+$rectA$$.height<$rectB$$.y||$rectB$$.y+$rectB$$.height<$rectA$$.y)};
cc.rectUnion=function $cc$rectUnion$($rectA$$,$rectB$$){var $rect$$=cc.rect(0,0,0,0);$rect$$.x=Math.min($rectA$$.x,$rectB$$.x);$rect$$.y=Math.min($rectA$$.y,$rectB$$.y);$rect$$.width=Math.max($rectA$$.x+$rectA$$.width,$rectB$$.x+$rectB$$.width)-$rect$$.x;$rect$$.height=Math.max($rectA$$.y+$rectA$$.height,$rectB$$.y+$rectB$$.height)-$rect$$.y;return $rect$$};
cc.rectIntersection=function $cc$rectIntersection$($rectA$$,$rectB$$){var $intersection$$=cc.rect(Math.max(cc.rectGetMinX($rectA$$),cc.rectGetMinX($rectB$$)),Math.max(cc.rectGetMinY($rectA$$),cc.rectGetMinY($rectB$$)),0,0);$intersection$$.width=Math.min(cc.rectGetMaxX($rectA$$),cc.rectGetMaxX($rectB$$))-cc.rectGetMinX($intersection$$);$intersection$$.height=Math.min(cc.rectGetMaxY($rectA$$),cc.rectGetMaxY($rectB$$))-cc.rectGetMinY($intersection$$);return $intersection$$};
cc.SAXParser=cc.Class.extend({_parser:null,_isSupportDOMParser:null,ctor:function(){window.DOMParser?(this._isSupportDOMParser=!0,this._parser=new DOMParser):this._isSupportDOMParser=!1},parse:function($xmlTxt$$){return this._parseXML($xmlTxt$$)},_parseXML:function($textxml$$){var $xmlDoc$$;this._isSupportDOMParser?$xmlDoc$$=this._parser.parseFromString($textxml$$,"text/xml"):($xmlDoc$$=new ActiveXObject("Microsoft.XMLDOM"),$xmlDoc$$.async="false",$xmlDoc$$.loadXML($textxml$$));return $xmlDoc$$}});
cc.PlistParser=cc.SAXParser.extend({parse:function($plist_xmlTxt$$){$plist_xmlTxt$$=this._parseXML($plist_xmlTxt$$).documentElement;if("plist"!=$plist_xmlTxt$$.tagName)throw"Not a plist file!";for(var $node$$=null,$i$$=0,$len$$=$plist_xmlTxt$$.childNodes.length;$i$$<$len$$&&($node$$=$plist_xmlTxt$$.childNodes[$i$$],1!=$node$$.nodeType);$i$$++);return this._parseNode($node$$)},_parseNode:function($node$$){var $data$$=null,$i$$29_tagName$$=$node$$.tagName;if("dict"==$i$$29_tagName$$)$data$$=this._parseDict($node$$);
else if("array"==$i$$29_tagName$$)$data$$=this._parseArray($node$$);else if("string"==$i$$29_tagName$$)if(1==$node$$.childNodes.length)$data$$=$node$$.firstChild.nodeValue;else for($data$$="",$i$$29_tagName$$=0;$i$$29_tagName$$<$node$$.childNodes.length;$i$$29_tagName$$++)$data$$+=$node$$.childNodes[$i$$29_tagName$$].nodeValue;else"false"==$i$$29_tagName$$?$data$$=!1:"true"==$i$$29_tagName$$?$data$$=!0:"real"==$i$$29_tagName$$?$data$$=parseFloat($node$$.firstChild.nodeValue):"integer"==$i$$29_tagName$$&&
($data$$=parseInt($node$$.firstChild.nodeValue,10));return $data$$},_parseArray:function($node$$){for(var $data$$=[],$i$$=0,$len$$=$node$$.childNodes.length;$i$$<$len$$;$i$$++){var $child$$=$node$$.childNodes[$i$$];1==$child$$.nodeType&&$data$$.push(this._parseNode($child$$))}return $data$$},_parseDict:function($node$$){for(var $data$$={},$key$$=null,$i$$=0,$len$$=$node$$.childNodes.length;$i$$<$len$$;$i$$++){var $child$$=$node$$.childNodes[$i$$];1==$child$$.nodeType&&("key"==$child$$.tagName?$key$$=
$child$$.firstChild.nodeValue:$data$$[$key$$]=this._parseNode($child$$))}return $data$$}});cc._txtLoader={load:function $cc$_txtLoader$load$($realUrl$$,$url$$,$res$$,$cb$$){cc.loader.loadTxt($realUrl$$,$cb$$)}};cc.loader.register(["txt","xml","vsh","fsh","atlas"],cc._txtLoader);cc._jsonLoader={load:function $cc$_jsonLoader$load$($realUrl$$,$url$$,$res$$,$cb$$){cc.loader.loadJson($realUrl$$,$cb$$)}};cc.loader.register(["json","ExportJson"],cc._jsonLoader);
cc._imgLoader={load:function $cc$_imgLoader$load$($realUrl$$,$url$$,$res$$,$cb$$){cc.loader.cache[$url$$]=cc.loader.loadImg($realUrl$$,function($err$$,$img$$){if($err$$)return $cb$$($err$$);cc.textureCache.handleLoadedTexture($url$$);$cb$$(null,$img$$)})}};cc.loader.register("png jpg bmp jpeg gif ico".split(" "),cc._imgLoader);
cc._serverImgLoader={load:function $cc$_serverImgLoader$load$($realUrl$$,$url$$,$res$$,$cb$$){cc.loader.cache[$url$$]=cc.loader.loadImg($res$$.src,function($err$$,$img$$){if($err$$)return $cb$$($err$$);cc.textureCache.handleLoadedTexture($url$$);$cb$$(null,$img$$)})}};cc.loader.register(["serverImg"],cc._serverImgLoader);
cc._plistLoader={load:function $cc$_plistLoader$load$($realUrl$$,$url$$,$res$$,$cb$$){cc.loader.loadTxt($realUrl$$,function($err$$,$txt$$){if($err$$)return $cb$$($err$$);$cb$$(null,cc.plistParser.parse($txt$$))})}};cc.loader.register(["plist"],cc._plistLoader);
cc._fontLoader={TYPE:{".eot":"embedded-opentype",".ttf":"truetype",".woff":"woff",".svg":"svg"},_loadFont:function $cc$_fontLoader$_loadFont$($name$$,$preloadDiv_srcs$$,$_divStyle_type$$){var $doc$$=document,$path$$=cc.path,$TYPE$$=this.TYPE,$fontStyle$$=cc.newElement("style");$fontStyle$$.type="text/css";$doc$$.body.appendChild($fontStyle$$);var $fontStr$$="@font-face { font-family:"+$name$$+"; src:";if($preloadDiv_srcs$$ instanceof Array)for(var $i$$=0,$li$$=$preloadDiv_srcs$$.length;$i$$<$li$$;$i$$++)$_divStyle_type$$=
$path$$.extname($preloadDiv_srcs$$[$i$$]).toLowerCase(),$fontStr$$+="url('"+$preloadDiv_srcs$$[$i$$]+"') format('"+$TYPE$$[$_divStyle_type$$]+"')",$fontStr$$+=$i$$==$li$$-1?";":",";else $fontStr$$+="url('"+$preloadDiv_srcs$$+"') format('"+$TYPE$$[$_divStyle_type$$]+"');";$fontStyle$$.textContent+=$fontStr$$+"};";$preloadDiv_srcs$$=cc.newElement("div");$_divStyle_type$$=$preloadDiv_srcs$$.style;$_divStyle_type$$.fontFamily=$name$$;$preloadDiv_srcs$$.innerHTML=".";$_divStyle_type$$.position="absolute";
$_divStyle_type$$.left="-100px";$_divStyle_type$$.top="-100px";$doc$$.body.appendChild($preloadDiv_srcs$$)},load:function $cc$_fontLoader$load$($name$$52_realUrl$$,$srcs$$1_type$$83_url$$,$res$$,$cb$$){$srcs$$1_type$$83_url$$=$res$$.type;$name$$52_realUrl$$=$res$$.name;$srcs$$1_type$$83_url$$=$res$$.srcs;cc.isString($res$$)?($srcs$$1_type$$83_url$$=cc.path.extname($res$$),$name$$52_realUrl$$=cc.path.basename($res$$,$srcs$$1_type$$83_url$$),this._loadFont($name$$52_realUrl$$,$res$$,$srcs$$1_type$$83_url$$)):
this._loadFont($name$$52_realUrl$$,$srcs$$1_type$$83_url$$);$cb$$(null,!0)}};cc.loader.register(["font","eot","ttf","woff","svg"],cc._fontLoader);cc._binaryLoader={load:function $cc$_binaryLoader$load$($realUrl$$,$url$$,$res$$,$cb$$){cc.loader.loadBinary($realUrl$$,$cb$$)}};cc._csbLoader={load:function $cc$_csbLoader$load$($realUrl$$,$url$$,$res$$,$cb$$){cc.loader.loadCsb($realUrl$$,$cb$$)}};cc.loader.register(["csb"],cc._csbLoader);window.CocosEngine=cc.ENGINE_VERSION="Cocos2d-JS v3.1";
cc.FIX_ARTIFACTS_BY_STRECHING_TEXEL=0;cc.DIRECTOR_STATS_POSITION=cc.p(0,0);cc.DIRECTOR_FPS_INTERVAL=.5;cc.COCOSNODE_RENDER_SUBPIXEL=1;cc.SPRITEBATCHNODE_RENDER_SUBPIXEL=1;cc.OPTIMIZE_BLEND_FUNC_FOR_PREMULTIPLIED_ALPHA=0;cc.TEXTURE_ATLAS_USE_TRIANGLE_STRIP=0;cc.TEXTURE_ATLAS_USE_VAO=0;cc.TEXTURE_NPOT_SUPPORT=0;cc.RETINA_DISPLAY_SUPPORT=1;cc.RETINA_DISPLAY_FILENAME_SUFFIX="-hd";cc.USE_LA88_LABELS=1;cc.SPRITE_DEBUG_DRAW=0;cc.SPRITEBATCHNODE_DEBUG_DRAW=0;cc.LABELBMFONT_DEBUG_DRAW=0;
cc.LABELATLAS_DEBUG_DRAW=0;cc.IS_RETINA_DISPLAY_SUPPORTED=1;cc.DEFAULT_ENGINE=cc.ENGINE_VERSION+"-canvas";cc.ENABLE_STACKABLE_ACTIONS=1;cc.ENABLE_GL_STATE_CACHE=1;
cc.$=function $cc$$$($el$$1_x$$){var $parent$$=this==cc?document:this;if($el$$1_x$$=$el$$1_x$$ instanceof HTMLElement?$el$$1_x$$:$parent$$.querySelector($el$$1_x$$))$el$$1_x$$.find=$el$$1_x$$.find||cc.$,$el$$1_x$$.hasClass=$el$$1_x$$.hasClass||function($cls$$){return this.className.match(new RegExp("(\\s|^)"+$cls$$+"(\\s|$)"))},$el$$1_x$$.addClass=$el$$1_x$$.addClass||function($cls$$){this.hasClass($cls$$)||(this.className&&(this.className+=" "),this.className+=$cls$$);return this},$el$$1_x$$.removeClass=
$el$$1_x$$.removeClass||function($cls$$){this.hasClass($cls$$)&&(this.className=this.className.replace($cls$$,""));return this},$el$$1_x$$.remove=$el$$1_x$$.remove||function(){this.parentNode&&this.parentNode.removeChild(this);return this},$el$$1_x$$.appendTo=$el$$1_x$$.appendTo||function($x$$){$x$$.appendChild(this);return this},$el$$1_x$$.prependTo=$el$$1_x$$.prependTo||function($x$$){$x$$.childNodes[0]?$x$$.insertBefore(this,$x$$.childNodes[0]):$x$$.appendChild(this);return this},$el$$1_x$$.transforms=
$el$$1_x$$.transforms||function(){this.style[cc.$.trans]=cc.$.translate(this.position)+cc.$.rotate(this.rotation)+cc.$.scale(this.scale)+cc.$.skew(this.skew);return this},$el$$1_x$$.position=$el$$1_x$$.position||{x:0,y:0},$el$$1_x$$.rotation=$el$$1_x$$.rotation||0,$el$$1_x$$.scale=$el$$1_x$$.scale||{x:1,y:1},$el$$1_x$$.skew=$el$$1_x$$.skew||{x:0,y:0},$el$$1_x$$.translates=function $$el$$1_x$$$translates$($x$$,$y$$){this.position.x=$x$$;this.position.y=$y$$;this.transforms();return this},$el$$1_x$$.rotate=
function $$el$$1_x$$$rotate$($x$$){this.rotation=$x$$;this.transforms();return this},$el$$1_x$$.resize=function $$el$$1_x$$$resize$($x$$,$y$$){this.scale.x=$x$$;this.scale.y=$y$$;this.transforms();return this},$el$$1_x$$.setSkew=function $$el$$1_x$$$setSkew$($x$$,$y$$){this.skew.x=$x$$;this.skew.y=$y$$;this.transforms();return this};return $el$$1_x$$};
switch(cc.sys.browserType){case cc.sys.BROWSER_TYPE_FIREFOX:cc.$.pfx="Moz";cc.$.hd=!0;break;case cc.sys.BROWSER_TYPE_CHROME:case cc.sys.BROWSER_TYPE_SAFARI:cc.$.pfx="webkit";cc.$.hd=!0;break;case cc.sys.BROWSER_TYPE_OPERA:cc.$.pfx="O";cc.$.hd=!1;break;case cc.sys.BROWSER_TYPE_IE:cc.$.pfx="ms";cc.$.hd=!1;break;default:cc.$.pfx="webkit",cc.$.hd=!0}cc.$.trans=cc.$.pfx+"Transform";
cc.$.translate=cc.$.hd?function($a$$){return"translate3d("+$a$$.x+"px, "+$a$$.y+"px, 0) "}:function($a$$){return"translate("+$a$$.x+"px, "+$a$$.y+"px) "};cc.$.rotate=cc.$.hd?function($a$$){return"rotateZ("+$a$$+"deg) "}:function($a$$){return"rotate("+$a$$+"deg) "};cc.$.scale=function $cc$$$scale$($a$$){return"scale("+$a$$.x+", "+$a$$.y+") "};cc.$.skew=function $cc$$$skew$($a$$){return"skewX("+-$a$$.x+"deg) skewY("+$a$$.y+"deg)"};cc.$new=function $cc$$new$($x$$){return cc.$(document.createElement($x$$))};
cc.$.findpos=function $cc$$$findpos$($obj$$){var $curleft$$=0,$curtop$$=0;do $curleft$$+=$obj$$.offsetLeft,$curtop$$+=$obj$$.offsetTop;while($obj$$=$obj$$.offsetParent);return{x:$curleft$$,y:$curtop$$}};cc.INVALID_INDEX=-1;cc.PI=Math.PI;cc.FLT_MAX=parseFloat("3.402823466e+38F");cc.FLT_MIN=parseFloat("1.175494351e-38F");cc.RAD=cc.PI/180;cc.DEG=180/cc.PI;cc.UINT_MAX=4294967295;
cc.swap=function $cc$swap$($x$$,$y$$,$ref$$){if(!cc.isObject($ref$$)||cc.isUndefined($ref$$.x)||cc.isUndefined($ref$$.y))cc.log(cc._LogInfos.swap);else{var $tmp$$=$ref$$[$x$$];$ref$$[$x$$]=$ref$$[$y$$];$ref$$[$y$$]=$tmp$$}};cc.lerp=function $cc$lerp$($a$$,$b$$,$r$$){return $a$$+($b$$-$a$$)*$r$$};cc.rand=function $cc$rand$(){return 16777215*Math.random()};cc.randomMinus1To1=function $cc$randomMinus1To1$(){return 2*(Math.random()-.5)};cc.random0To1=Math.random;
cc.degreesToRadians=function $cc$degreesToRadians$($angle$$){return $angle$$*cc.RAD};cc.radiansToDegrees=function $cc$radiansToDegrees$($angle$$){return $angle$$*cc.DEG};cc.radiansToDegress=function $cc$radiansToDegress$($angle$$){cc.log(cc._LogInfos.radiansToDegress);return $angle$$*cc.DEG};cc.REPEAT_FOREVER=Number.MAX_VALUE-1;cc.BLEND_SRC=cc.OPTIMIZE_BLEND_FUNC_FOR_PREMULTIPLIED_ALPHA?1:770;cc.BLEND_DST=771;
cc.nodeDrawSetup=function $cc$nodeDrawSetup$($node$$){$node$$._shaderProgram&&($node$$._shaderProgram.use(),$node$$._shaderProgram.setUniformForModelViewAndProjectionMatrixWithMat4())};cc.enableDefaultGLStates=function $cc$enableDefaultGLStates$(){};cc.disableDefaultGLStates=function $cc$disableDefaultGLStates$(){};cc.incrementGLDraws=function $cc$incrementGLDraws$($addNumber$$){cc.g_NumberOfDraws+=$addNumber$$};cc.FLT_EPSILON=1.192092896E-7;
cc.contentScaleFactor=cc.IS_RETINA_DISPLAY_SUPPORTED?function(){return cc.director.getContentScaleFactor()}:function(){return 1};cc.pointPointsToPixels=function $cc$pointPointsToPixels$($points$$){var $scale$$=cc.contentScaleFactor();return cc.p($points$$.x*$scale$$,$points$$.y*$scale$$)};cc.pointPixelsToPoints=function $cc$pointPixelsToPoints$($pixels$$){var $scale$$=cc.contentScaleFactor();return cc.p($pixels$$.x/$scale$$,$pixels$$.y/$scale$$)};
cc._pointPixelsToPointsOut=function $cc$_pointPixelsToPointsOut$($pixels$$,$outPoint$$){var $scale$$=cc.contentScaleFactor();$outPoint$$.x=$pixels$$.x/$scale$$;$outPoint$$.y=$pixels$$.y/$scale$$};cc.sizePointsToPixels=function $cc$sizePointsToPixels$($sizeInPoints$$){var $scale$$=cc.contentScaleFactor();return cc.size($sizeInPoints$$.width*$scale$$,$sizeInPoints$$.height*$scale$$)};
cc.sizePixelsToPoints=function $cc$sizePixelsToPoints$($sizeInPixels$$){var $scale$$=cc.contentScaleFactor();return cc.size($sizeInPixels$$.width/$scale$$,$sizeInPixels$$.height/$scale$$)};cc._sizePixelsToPointsOut=function $cc$_sizePixelsToPointsOut$($sizeInPixels$$,$outSize$$){var $scale$$=cc.contentScaleFactor();$outSize$$.width=$sizeInPixels$$.width/$scale$$;$outSize$$.height=$sizeInPixels$$.height/$scale$$};
cc.rectPixelsToPoints=cc.IS_RETINA_DISPLAY_SUPPORTED?function($pixel$$){var $scale$$=cc.contentScaleFactor();return cc.rect($pixel$$.x/$scale$$,$pixel$$.y/$scale$$,$pixel$$.width/$scale$$,$pixel$$.height/$scale$$)}:function($p$$){return $p$$};cc.rectPointsToPixels=cc.IS_RETINA_DISPLAY_SUPPORTED?function($point$$){var $scale$$=cc.contentScaleFactor();return cc.rect($point$$.x*$scale$$,$point$$.y*$scale$$,$point$$.width*$scale$$,$point$$.height*$scale$$)}:function($p$$){return $p$$};cc.ONE=1;
cc.ZERO=0;cc.SRC_ALPHA=770;cc.SRC_ALPHA_SATURATE=776;cc.SRC_COLOR=768;cc.DST_ALPHA=772;cc.DST_COLOR=774;cc.ONE_MINUS_SRC_ALPHA=771;cc.ONE_MINUS_SRC_COLOR=769;cc.ONE_MINUS_DST_ALPHA=773;cc.ONE_MINUS_DST_COLOR=775;cc.ONE_MINUS_CONSTANT_ALPHA=32772;cc.ONE_MINUS_CONSTANT_COLOR=32770;cc.checkGLErrorDebug=function $cc$checkGLErrorDebug$(){if(cc.renderMode==cc._RENDER_TYPE_WEBGL){var $_error$$=cc._renderContext.getError();$_error$$&&cc.log(cc._LogInfos.checkGLErrorDebug,$_error$$)}};
cc.DEVICE_ORIENTATION_PORTRAIT=0;cc.DEVICE_ORIENTATION_LANDSCAPE_LEFT=1;cc.DEVICE_ORIENTATION_PORTRAIT_UPSIDE_DOWN=2;cc.DEVICE_ORIENTATION_LANDSCAPE_RIGHT=3;cc.DEVICE_MAX_ORIENTATIONS=2;cc.VERTEX_ATTRIB_FLAG_NONE=0;cc.VERTEX_ATTRIB_FLAG_POSITION=1;cc.VERTEX_ATTRIB_FLAG_COLOR=2;cc.VERTEX_ATTRIB_FLAG_TEX_COORDS=4;cc.VERTEX_ATTRIB_FLAG_POS_COLOR_TEX=cc.VERTEX_ATTRIB_FLAG_POSITION|cc.VERTEX_ATTRIB_FLAG_COLOR|cc.VERTEX_ATTRIB_FLAG_TEX_COORDS;cc.GL_ALL=0;cc.VERTEX_ATTRIB_POSITION=0;
cc.VERTEX_ATTRIB_COLOR=1;cc.VERTEX_ATTRIB_TEX_COORDS=2;cc.VERTEX_ATTRIB_MAX=3;cc.UNIFORM_PMATRIX=0;cc.UNIFORM_MVMATRIX=1;cc.UNIFORM_MVPMATRIX=2;cc.UNIFORM_TIME=3;cc.UNIFORM_SINTIME=4;cc.UNIFORM_COSTIME=5;cc.UNIFORM_RANDOM01=6;cc.UNIFORM_SAMPLER=7;cc.UNIFORM_MAX=8;cc.SHADER_POSITION_TEXTURECOLOR="ShaderPositionTextureColor";cc.SHADER_POSITION_TEXTURECOLORALPHATEST="ShaderPositionTextureColorAlphaTest";cc.SHADER_POSITION_COLOR="ShaderPositionColor";cc.SHADER_POSITION_TEXTURE="ShaderPositionTexture";
cc.SHADER_POSITION_TEXTURE_UCOLOR="ShaderPositionTexture_uColor";cc.SHADER_POSITION_TEXTUREA8COLOR="ShaderPositionTextureA8Color";cc.SHADER_POSITION_UCOLOR="ShaderPosition_uColor";cc.SHADER_POSITION_LENGTHTEXTURECOLOR="ShaderPositionLengthTextureColor";cc.UNIFORM_PMATRIX_S="CC_PMatrix";cc.UNIFORM_MVMATRIX_S="CC_MVMatrix";cc.UNIFORM_MVPMATRIX_S="CC_MVPMatrix";cc.UNIFORM_TIME_S="CC_Time";cc.UNIFORM_SINTIME_S="CC_SinTime";cc.UNIFORM_COSTIME_S="CC_CosTime";cc.UNIFORM_RANDOM01_S="CC_Random01";
cc.UNIFORM_SAMPLER_S="CC_Texture0";cc.UNIFORM_ALPHA_TEST_VALUE_S="CC_alpha_value";cc.ATTRIBUTE_NAME_COLOR="a_color";cc.ATTRIBUTE_NAME_POSITION="a_position";cc.ATTRIBUTE_NAME_TEX_COORD="a_texCoord";cc.ITEM_SIZE=32;cc.CURRENT_ITEM=3233828865;cc.ZOOM_ACTION_TAG=3233828866;cc.NORMAL_TAG=8801;cc.SELECTED_TAG=8802;cc.DISABLE_TAG=8803;
cc.arrayVerifyType=function $cc$arrayVerifyType$($arr$$,$type$$){if($arr$$&&0<$arr$$.length)for(var $i$$=0;$i$$<$arr$$.length;$i$$++)if(!($arr$$[$i$$]instanceof $type$$))return cc.log("element type is wrong!"),!1;return!0};cc.arrayRemoveObject=function $cc$arrayRemoveObject$($arr$$,$delObj$$){for(var $i$$=0,$l$$=$arr$$.length;$i$$<$l$$;$i$$++)if($arr$$[$i$$]==$delObj$$){$arr$$.splice($i$$,1);break}};
cc.arrayRemoveArray=function $cc$arrayRemoveArray$($arr$$,$minusArr$$){for(var $i$$=0,$l$$=$minusArr$$.length;$i$$<$l$$;$i$$++)cc.arrayRemoveObject($arr$$,$minusArr$$[$i$$])};cc.arrayAppendObjectsToIndex=function $cc$arrayAppendObjectsToIndex$($arr$$,$addObjs$$,$index$$){$arr$$.splice.apply($arr$$,[$index$$,0].concat($addObjs$$));return $arr$$};
cc.copyArray=function $cc$copyArray$($arr$$){var $i$$,$len$$=$arr$$.length,$arr_clone$$=Array($len$$);for($i$$=0;$i$$<$len$$;$i$$+=1)$arr_clone$$[$i$$]=$arr$$[$i$$];return $arr_clone$$};
cc._tmp.PrototypeColor=function $cc$_tmp$PrototypeColor$(){var $_p$$=cc.color;$_p$$._getWhite=function $$_p$$$_getWhite$(){return $_p$$(255,255,255)};$_p$$._getYellow=function $$_p$$$_getYellow$(){return $_p$$(255,255,0)};$_p$$._getBlue=function $$_p$$$_getBlue$(){return $_p$$(0,0,255)};$_p$$._getGreen=function $$_p$$$_getGreen$(){return $_p$$(0,255,0)};$_p$$._getRed=function $$_p$$$_getRed$(){return $_p$$(255,0,0)};$_p$$._getMagenta=function $$_p$$$_getMagenta$(){return $_p$$(255,0,255)};$_p$$._getBlack=
function $$_p$$$_getBlack$(){return $_p$$(0,0,0)};$_p$$._getOrange=function $$_p$$$_getOrange$(){return $_p$$(255,127,0)};$_p$$._getGray=function $$_p$$$_getGray$(){return $_p$$(166,166,166)};$_p$$.WHITE;cc.defineGetterSetter($_p$$,"WHITE",$_p$$._getWhite);$_p$$.YELLOW;cc.defineGetterSetter($_p$$,"YELLOW",$_p$$._getYellow);$_p$$.BLUE;cc.defineGetterSetter($_p$$,"BLUE",$_p$$._getBlue);$_p$$.GREEN;cc.defineGetterSetter($_p$$,"GREEN",$_p$$._getGreen);$_p$$.RED;cc.defineGetterSetter($_p$$,"RED",$_p$$._getRed);
$_p$$.MAGENTA;cc.defineGetterSetter($_p$$,"MAGENTA",$_p$$._getMagenta);$_p$$.BLACK;cc.defineGetterSetter($_p$$,"BLACK",$_p$$._getBlack);$_p$$.ORANGE;cc.defineGetterSetter($_p$$,"ORANGE",$_p$$._getOrange);$_p$$.GRAY;cc.defineGetterSetter($_p$$,"GRAY",$_p$$._getGray);cc.BlendFunc._disable=function $cc$BlendFunc$_disable$(){return new cc.BlendFunc(cc.ONE,cc.ZERO)};cc.BlendFunc._alphaPremultiplied=function $cc$BlendFunc$_alphaPremultiplied$(){return new cc.BlendFunc(cc.ONE,cc.ONE_MINUS_SRC_ALPHA)};cc.BlendFunc._alphaNonPremultiplied=
function $cc$BlendFunc$_alphaNonPremultiplied$(){return new cc.BlendFunc(cc.SRC_ALPHA,cc.ONE_MINUS_SRC_ALPHA)};cc.BlendFunc._additive=function $cc$BlendFunc$_additive$(){return new cc.BlendFunc(cc.SRC_ALPHA,cc.ONE)};cc.BlendFunc.DISABLE;cc.defineGetterSetter(cc.BlendFunc,"DISABLE",cc.BlendFunc._disable);cc.BlendFunc.ALPHA_PREMULTIPLIED;cc.defineGetterSetter(cc.BlendFunc,"ALPHA_PREMULTIPLIED",cc.BlendFunc._alphaPremultiplied);cc.BlendFunc.ALPHA_NON_PREMULTIPLIED;cc.defineGetterSetter(cc.BlendFunc,
"ALPHA_NON_PREMULTIPLIED",cc.BlendFunc._alphaNonPremultiplied);cc.BlendFunc.ADDITIVE;cc.defineGetterSetter(cc.BlendFunc,"ADDITIVE",cc.BlendFunc._additive)};cc.Color=function $cc$Color$($r$$,$g$$,$b$$,$a$$){this.r=$r$$||0;this.g=$g$$||0;this.b=$b$$||0;this.a=null==$a$$?255:$a$$};
cc.color=function $cc$color$($r$$,$g$$,$b$$,$a$$){return void 0===$r$$?{r:0,g:0,b:0,a:255}:cc.isString($r$$)?cc.hexToColor($r$$):cc.isObject($r$$)?{r:$r$$.r,g:$r$$.g,b:$r$$.b,a:null==$r$$.a?255:$r$$.a}:{r:$r$$,g:$g$$,b:$b$$,a:null==$a$$?255:$a$$}};cc.colorEqual=function $cc$colorEqual$($color1$$,$color2$$){return $color1$$.r===$color2$$.r&&$color1$$.g===$color2$$.g&&$color1$$.b===$color2$$.b};
cc.Acceleration=function $cc$Acceleration$($x$$,$y$$,$z$$,$timestamp$$){this.x=$x$$||0;this.y=$y$$||0;this.z=$z$$||0;this.timestamp=$timestamp$$||0};cc.Vertex2F=function $cc$Vertex2F$($x1$$,$y1$$){this.x=$x1$$||0;this.y=$y1$$||0};cc.vertex2=function $cc$vertex2$($x$$,$y$$){return new cc.Vertex2F($x$$,$y$$)};cc.Vertex3F=function $cc$Vertex3F$($x1$$,$y1$$,$z1$$){this.x=$x1$$||0;this.y=$y1$$||0;this.z=$z1$$||0};cc.vertex3=function $cc$vertex3$($x$$,$y$$,$z$$){return new cc.Vertex3F($x$$,$y$$,$z$$)};
cc.Tex2F=function $cc$Tex2F$($u1$$,$v1$$){this.u=$u1$$||0;this.v=$v1$$||0};cc.tex2=function $cc$tex2$($u$$,$v$$){return new cc.Tex2F($u$$,$v$$)};cc.BlendFunc=function $cc$BlendFunc$($src1$$,$dst1$$){this.src=$src1$$;this.dst=$dst1$$};cc.blendFuncDisable=function $cc$blendFuncDisable$(){return new cc.BlendFunc(cc.ONE,cc.ZERO)};cc.hexToColor=function $cc$hexToColor$($c$$){$c$$=$c$$.replace(/^#?/,"0x");$c$$=parseInt($c$$);return cc.color($c$$>>16,($c$$>>8)%256,$c$$%256)};
cc.colorToHex=function $cc$colorToHex$($color$$){var $hR$$=$color$$.r.toString(16),$hG$$=$color$$.g.toString(16),$hB$$=$color$$.b.toString(16);return"#"+(16>$color$$.r?"0"+$hR$$:$hR$$)+(16>$color$$.g?"0"+$hG$$:$hG$$)+(16>$color$$.b?"0"+$hB$$:$hB$$)};cc.TEXT_ALIGNMENT_LEFT=0;cc.TEXT_ALIGNMENT_CENTER=1;cc.TEXT_ALIGNMENT_RIGHT=2;cc.VERTICAL_TEXT_ALIGNMENT_TOP=0;cc.VERTICAL_TEXT_ALIGNMENT_CENTER=1;cc.VERTICAL_TEXT_ALIGNMENT_BOTTOM=2;
cc._Dictionary=cc.Class.extend({_keyMapTb:null,_valueMapTb:null,__currId:0,ctor:function(){this._keyMapTb={};this._valueMapTb={};this.__currId=2<<(0|10*Math.random())},__getKey:function(){this.__currId++;return"key_"+this.__currId},setObject:function($value$$,$key$$){if(null!=$key$$){var $keyId$$=this.__getKey();this._keyMapTb[$keyId$$]=$key$$;this._valueMapTb[$keyId$$]=$value$$}},objectForKey:function($key$$){if(null==$key$$)return null;var $locKeyMapTb$$=this._keyMapTb,$keyId$$;for($keyId$$ in $locKeyMapTb$$)if($locKeyMapTb$$[$keyId$$]===
$key$$)return this._valueMapTb[$keyId$$];return null},valueForKey:function($key$$){return this.objectForKey($key$$)},removeObjectForKey:function($key$$){if(null!=$key$$){var $locKeyMapTb$$=this._keyMapTb,$keyId$$;for($keyId$$ in $locKeyMapTb$$)if($locKeyMapTb$$[$keyId$$]===$key$$){delete this._valueMapTb[$keyId$$];delete $locKeyMapTb$$[$keyId$$];break}}},removeObjectsForKeys:function($keys$$){if(null!=$keys$$)for(var $i$$=0;$i$$<$keys$$.length;$i$$++)this.removeObjectForKey($keys$$[$i$$])},allKeys:function(){var $keyArr$$=
[],$locKeyMapTb$$=this._keyMapTb,$key$$;for($key$$ in $locKeyMapTb$$)$keyArr$$.push($locKeyMapTb$$[$key$$]);return $keyArr$$},removeAllObjects:function(){this._keyMapTb={};this._valueMapTb={}},count:function(){return this.allKeys().length}});
cc.FontDefinition=function $cc$FontDefinition$(){this.fontName="Arial";this.fontSize=12;this.textAlign=cc.TEXT_ALIGNMENT_CENTER;this.verticalAlign=cc.VERTICAL_TEXT_ALIGNMENT_TOP;this.fillStyle=cc.color(255,255,255,255);this.boundingHeight=this.boundingWidth=0;this.strokeEnabled=!1;this.strokeStyle=cc.color(255,255,255,255);this.lineWidth=1;this.shadowEnabled=!1;this.shadowBlur=this.shadowOffsetY=this.shadowOffsetX=0;this.shadowOpacity=1};
cc._renderType===cc._RENDER_TYPE_WEBGL&&(cc.assert(cc.isFunction(cc._tmp.WebGLColor),cc._LogInfos.MissingFile,"CCTypesWebGL.js"),cc._tmp.WebGLColor(),delete cc._tmp.WebGLColor);cc.assert(cc.isFunction(cc._tmp.PrototypeColor),cc._LogInfos.MissingFile,"CCTypesPropertyDefine.js");cc._tmp.PrototypeColor();delete cc._tmp.PrototypeColor;cc.Touches=[];cc.TouchesIntergerDict={};cc.DENSITYDPI_DEVICE="device-dpi";cc.DENSITYDPI_HIGH="high-dpi";cc.DENSITYDPI_MEDIUM="medium-dpi";cc.DENSITYDPI_LOW="low-dpi";
cc.EGLView=cc.Class.extend({_delegate:null,_frameSize:null,_designResolutionSize:null,_originalDesignResolutionSize:null,_viewPortRect:null,_visibleRect:null,_retinaEnabled:!1,_autoFullScreen:!0,_devicePixelRatio:1,_viewName:"",_resizeCallback:null,_scaleX:1,_originalScaleX:1,_scaleY:1,_originalScaleY:1,_indexBitsUsed:0,_maxTouches:5,_resolutionPolicy:null,_rpExactFit:null,_rpShowAll:null,_rpNoBorder:null,_rpFixedHeight:null,_rpFixedWidth:null,_initialized:!1,_captured:!1,_wnd:null,_hDC:null,_hRC:null,
_supportTouch:!1,_contentTranslateLeftTop:null,_frame:null,_frameZoomFactor:1,__resizeWithBrowserSize:!1,_isAdjustViewPort:!0,_targetDensityDPI:null,ctor:function(){var $d$$2_sys$$1_w$$=document,$_strategyer$$=cc.ContainerStrategy,$_strategy$$=cc.ContentStrategy;this._frame=cc.container.parentNode===$d$$2_sys$$1_w$$.body?$d$$2_sys$$1_w$$.documentElement:cc.container.parentNode;this._frameSize=cc.size(0,0);this._initFrameSize();var $d$$2_sys$$1_w$$=cc._canvas.width,$h$$=cc._canvas.height;this._designResolutionSize=
cc.size($d$$2_sys$$1_w$$,$h$$);this._originalDesignResolutionSize=cc.size($d$$2_sys$$1_w$$,$h$$);this._viewPortRect=cc.rect(0,0,$d$$2_sys$$1_w$$,$h$$);this._visibleRect=cc.rect(0,0,$d$$2_sys$$1_w$$,$h$$);this._contentTranslateLeftTop={left:0,top:0};this._viewName="Cocos2dHTML5";$d$$2_sys$$1_w$$=cc.sys;this.enableRetina($d$$2_sys$$1_w$$.os==$d$$2_sys$$1_w$$.OS_IOS||$d$$2_sys$$1_w$$.os==$d$$2_sys$$1_w$$.OS_OSX);cc.visibleRect&&cc.visibleRect.init(this._visibleRect);this._rpExactFit=new cc.ResolutionPolicy($_strategyer$$.EQUAL_TO_FRAME,
$_strategy$$.EXACT_FIT);this._rpShowAll=new cc.ResolutionPolicy($_strategyer$$.PROPORTION_TO_FRAME,$_strategy$$.SHOW_ALL);this._rpNoBorder=new cc.ResolutionPolicy($_strategyer$$.EQUAL_TO_FRAME,$_strategy$$.NO_BORDER);this._rpFixedHeight=new cc.ResolutionPolicy($_strategyer$$.EQUAL_TO_FRAME,$_strategy$$.FIXED_HEIGHT);this._rpFixedWidth=new cc.ResolutionPolicy($_strategyer$$.EQUAL_TO_FRAME,$_strategy$$.FIXED_WIDTH);this._hDC=cc._canvas;this._hRC=cc._renderContext;this._targetDensityDPI=cc.DENSITYDPI_HIGH},
_resizeEvent:function(){var $width$$=this._originalDesignResolutionSize.width,$height$$=this._originalDesignResolutionSize.height;this._resizeCallback&&(this._initFrameSize(),this._resizeCallback.call());0<$width$$&&this.setDesignResolutionSize($width$$,$height$$,this._resolutionPolicy)},setTargetDensityDPI:function($densityDPI$$){this._targetDensityDPI=$densityDPI$$;this._setViewPortMeta()},getTargetDensityDPI:function(){return this._targetDensityDPI},resizeWithBrowserSize:function($adjustSize_enabled$$){$adjustSize_enabled$$?
this.__resizeWithBrowserSize||(this.__resizeWithBrowserSize=!0,$adjustSize_enabled$$=this._resizeEvent.bind(this),cc._addEventListener(window,"resize",$adjustSize_enabled$$,!1)):this.__resizeWithBrowserSize&&(this.__resizeWithBrowserSize=!0,$adjustSize_enabled$$=this._resizeEvent.bind(this),window.removeEventListener("resize",$adjustSize_enabled$$,!1))},setResizeCallback:function($callback$$){if(cc.isFunction($callback$$)||null==$callback$$)this._resizeCallback=$callback$$},_initFrameSize:function(){var $locFrameSize$$=
this._frameSize;$locFrameSize$$.width=this._frame.clientWidth;$locFrameSize$$.height=this._frame.clientHeight},_adjustSizeKeepCanvasSize:function(){var $designWidth$$=this._originalDesignResolutionSize.width,$designHeight$$=this._originalDesignResolutionSize.height;0<$designWidth$$&&this.setDesignResolutionSize($designWidth$$,$designHeight$$,this._resolutionPolicy)},_setViewPortMeta:function(){if(this._isAdjustViewPort){var $elems_vp$$=document.getElementById("cocosMetaElement");$elems_vp$$&&document.head.removeChild($elems_vp$$);
var $viewportMetas$$,$currentVP$$=($elems_vp$$=document.getElementsByName("viewport"))?$elems_vp$$[0]:null,$content$$,$elems_vp$$=cc.newElement("meta");$elems_vp$$.id="cocosMetaElement";$elems_vp$$.name="viewport";$elems_vp$$.content="";$viewportMetas$$=cc.sys.isMobile&&cc.sys.browserType==cc.sys.BROWSER_TYPE_FIREFOX?{width:"device-width","initial-scale":"1.0"}:{width:"device-width","user-scalable":"no","maximum-scale":"1.0","initial-scale":"1.0"};cc.sys.isMobile&&($viewportMetas$$["target-densitydpi"]=
this._targetDensityDPI);$content$$=$currentVP$$?$currentVP$$.content:"";for(var $key$$ in $viewportMetas$$)(new RegExp($key$$)).test($content$$)||($content$$+=","+$key$$+"="+$viewportMetas$$[$key$$]);""!=$content$$&&($content$$=$content$$.substr(1));$elems_vp$$.content=$content$$;$currentVP$$&&($currentVP$$.content=$content$$);document.head.appendChild($elems_vp$$)}},_setScaleXYForRenderTexture:function(){var $scaleFactor$$=cc.contentScaleFactor();this._scaleY=this._scaleX=$scaleFactor$$},_resetScale:function(){this._scaleX=
this._originalScaleX;this._scaleY=this._originalScaleY},_adjustSizeToBrowser:function(){},initialize:function(){this._initialized=!0},adjustViewPort:function($enabled$$){this._isAdjustViewPort=$enabled$$},enableRetina:function($enabled$$){this._retinaEnabled=$enabled$$?!0:!1},isRetinaEnabled:function(){return this._retinaEnabled},enableAutoFullScreen:function($enabled$$){this._autoFullScreen=$enabled$$?!0:!1},isAutoFullScreenEnabled:function(){return this._autoFullScreen},end:function(){},isOpenGLReady:function(){return null!=
this._hDC&&null!=this._hRC},setFrameZoomFactor:function($zoomFactor$$){this._frameZoomFactor=$zoomFactor$$;this.centerWindow();cc.director.setProjection(cc.director.getProjection())},swapBuffers:function(){},setIMEKeyboardState:function($isOpen$$){},setContentTranslateLeftTop:function($offsetLeft$$,$offsetTop$$){this._contentTranslateLeftTop={left:$offsetLeft$$,top:$offsetTop$$}},getContentTranslateLeftTop:function(){return this._contentTranslateLeftTop},getFrameSize:function(){return cc.size(this._frameSize.width,
this._frameSize.height)},setFrameSize:function($width$$,$height$$){this._frameSize.width=$width$$;this._frameSize.height=$height$$;this._frame.style.width=$width$$+"px";this._frame.style.height=$height$$+"px";this._resizeEvent();cc.director.setProjection(cc.director.getProjection())},centerWindow:function(){},getVisibleSize:function(){return cc.size(this._visibleRect.width,this._visibleRect.height)},getVisibleOrigin:function(){return cc.p(this._visibleRect.x,this._visibleRect.y)},canSetContentScaleFactor:function(){return!0},
getResolutionPolicy:function(){return this._resolutionPolicy},setResolutionPolicy:function($resolutionPolicy$$){if($resolutionPolicy$$ instanceof cc.ResolutionPolicy)this._resolutionPolicy=$resolutionPolicy$$;else{var $_locPolicy$$=cc.ResolutionPolicy;$resolutionPolicy$$===$_locPolicy$$.EXACT_FIT&&(this._resolutionPolicy=this._rpExactFit);$resolutionPolicy$$===$_locPolicy$$.SHOW_ALL&&(this._resolutionPolicy=this._rpShowAll);$resolutionPolicy$$===$_locPolicy$$.NO_BORDER&&(this._resolutionPolicy=this._rpNoBorder);
$resolutionPolicy$$===$_locPolicy$$.FIXED_HEIGHT&&(this._resolutionPolicy=this._rpFixedHeight);$resolutionPolicy$$===$_locPolicy$$.FIXED_WIDTH&&(this._resolutionPolicy=this._rpFixedWidth)}},setDesignResolutionSize:function($director$$1_result$$3_vp$$1_width$$,$height$$,$policy_resolutionPolicy$$){isNaN($director$$1_result$$3_vp$$1_width$$)||0==$director$$1_result$$3_vp$$1_width$$||isNaN($height$$)||0==$height$$?cc.log(cc._LogInfos.EGLView_setDesignResolutionSize):(this.setResolutionPolicy($policy_resolutionPolicy$$),
($policy_resolutionPolicy$$=this._resolutionPolicy)?($policy_resolutionPolicy$$.preApply(this),cc.sys.isMobile&&this._setViewPortMeta(),this._initFrameSize(),this._designResolutionSize=cc.size($director$$1_result$$3_vp$$1_width$$,$height$$),this._originalDesignResolutionSize=cc.size($director$$1_result$$3_vp$$1_width$$,$height$$),$director$$1_result$$3_vp$$1_width$$=$policy_resolutionPolicy$$.apply(this,this._designResolutionSize),$director$$1_result$$3_vp$$1_width$$.scale&&2==$director$$1_result$$3_vp$$1_width$$.scale.length&&
(this._scaleX=$director$$1_result$$3_vp$$1_width$$.scale[0],this._scaleY=$director$$1_result$$3_vp$$1_width$$.scale[1]),$director$$1_result$$3_vp$$1_width$$.viewport&&($director$$1_result$$3_vp$$1_width$$=this._viewPortRect=$director$$1_result$$3_vp$$1_width$$.viewport,$height$$=this._visibleRect,$height$$.width=cc._canvas.width/this._scaleX,$height$$.height=cc._canvas.height/this._scaleY,$height$$.x=-$director$$1_result$$3_vp$$1_width$$.x/this._scaleX,$height$$.y=-$director$$1_result$$3_vp$$1_width$$.y/
this._scaleY),$director$$1_result$$3_vp$$1_width$$=cc.director,$director$$1_result$$3_vp$$1_width$$._winSizeInPoints.width=this._designResolutionSize.width,$director$$1_result$$3_vp$$1_width$$._winSizeInPoints.height=this._designResolutionSize.height,$policy_resolutionPolicy$$.postApply(this),cc.winSize.width=$director$$1_result$$3_vp$$1_width$$._winSizeInPoints.width,cc.winSize.height=$director$$1_result$$3_vp$$1_width$$._winSizeInPoints.height,cc._renderType==cc._RENDER_TYPE_WEBGL&&($director$$1_result$$3_vp$$1_width$$._createStatsLabel(),
$director$$1_result$$3_vp$$1_width$$.setGLDefaultValues()),this._originalScaleX=this._scaleX,this._originalScaleY=this._scaleY,cc.DOM&&cc.DOM._resetEGLViewDiv(),cc.visibleRect&&cc.visibleRect.init(this._visibleRect)):cc.log(cc._LogInfos.EGLView_setDesignResolutionSize_2))},getDesignResolutionSize:function(){return cc.size(this._designResolutionSize.width,this._designResolutionSize.height)},setViewPortInPoints:function($x$$,$y$$,$w$$,$h$$){var $locFrameZoomFactor$$=this._frameZoomFactor,$locScaleX$$=
this._scaleX,$locScaleY$$=this._scaleY;cc._renderContext.viewport($x$$*$locScaleX$$*$locFrameZoomFactor$$+this._viewPortRect.x*$locFrameZoomFactor$$,$y$$*$locScaleY$$*$locFrameZoomFactor$$+this._viewPortRect.y*$locFrameZoomFactor$$,$w$$*$locScaleX$$*$locFrameZoomFactor$$,$h$$*$locScaleY$$*$locFrameZoomFactor$$)},setScissorInPoints:function($x$$,$y$$,$w$$,$h$$){var $locFrameZoomFactor$$=this._frameZoomFactor,$locScaleX$$=this._scaleX,$locScaleY$$=this._scaleY;cc._renderContext.scissor($x$$*$locScaleX$$*
$locFrameZoomFactor$$+this._viewPortRect.x*$locFrameZoomFactor$$,$y$$*$locScaleY$$*$locFrameZoomFactor$$+this._viewPortRect.y*$locFrameZoomFactor$$,$w$$*$locScaleX$$*$locFrameZoomFactor$$,$h$$*$locScaleY$$*$locFrameZoomFactor$$)},isScissorEnabled:function(){var $gl$$=cc._renderContext;return $gl$$.isEnabled($gl$$.SCISSOR_TEST)},getScissorRect:function(){var $boxArr_gl$$=cc._renderContext,$scaleX$$=this._scaleX,$scaleY$$=this._scaleY,$boxArr_gl$$=$boxArr_gl$$.getParameter($boxArr_gl$$.SCISSOR_BOX);
return cc.rect(($boxArr_gl$$[0]-this._viewPortRect.x)/$scaleX$$,($boxArr_gl$$[1]-this._viewPortRect.y)/$scaleY$$,$boxArr_gl$$[2]/$scaleX$$,$boxArr_gl$$[3]/$scaleY$$)},setViewName:function($viewName$$){null!=$viewName$$&&0<$viewName$$.length&&(this._viewName=$viewName$$)},getViewName:function(){return this._viewName},getViewPortRect:function(){return this._viewPortRect},getScaleX:function(){return this._scaleX},getScaleY:function(){return this._scaleY},getDevicePixelRatio:function(){return this._devicePixelRatio},
convertToLocationInView:function($tx$$,$ty$$,$relatedPos$$){return{x:this._devicePixelRatio*($tx$$-$relatedPos$$.left),y:this._devicePixelRatio*($relatedPos$$.top+$relatedPos$$.height-$ty$$)}},_convertMouseToLocationInView:function($point$$,$relatedPos$$){var $locViewPortRect$$=this._viewPortRect;$point$$.x=(this._devicePixelRatio*($point$$.x-$relatedPos$$.left)-$locViewPortRect$$.x)/this._scaleX;$point$$.y=(this._devicePixelRatio*($relatedPos$$.top+$relatedPos$$.height-$point$$.y)-$locViewPortRect$$.y)/
this._scaleY},_convertTouchesWithScale:function($touches$$){for(var $locViewPortRect$$=this._viewPortRect,$locScaleX$$=this._scaleX,$locScaleY$$=this._scaleY,$selTouch$$,$selPoint$$,$selPrePoint$$,$i$$=0;$i$$<$touches$$.length;$i$$++)$selTouch$$=$touches$$[$i$$],$selPoint$$=$selTouch$$._point,$selPrePoint$$=$selTouch$$._prevPoint,$selTouch$$._setPoint(($selPoint$$.x-$locViewPortRect$$.x)/$locScaleX$$,($selPoint$$.y-$locViewPortRect$$.y)/$locScaleY$$),$selTouch$$._setPrevPoint(($selPrePoint$$.x-$locViewPortRect$$.x)/
$locScaleX$$,($selPrePoint$$.y-$locViewPortRect$$.y)/$locScaleY$$)}});cc.EGLView._getInstance=function $cc$EGLView$_getInstance$(){this._instance||(this._instance=this._instance||new cc.EGLView,this._instance.initialize());return this._instance};
cc.ContainerStrategy=cc.Class.extend({preApply:function($view$$){},apply:function($view$$,$designedResolution$$){},postApply:function($view$$){},_setupContainer:function($body$$1_view$$,$w$$,$h$$){var $frame$$=$body$$1_view$$._frame;cc.view._autoFullScreen&&cc.sys.isMobile&&$frame$$==document.documentElement&&cc.screen.autoFullScreen($frame$$);var $frame$$=cc._canvas,$devicePixelRatio_locContainer$$=cc.container;$devicePixelRatio_locContainer$$.style.width=$frame$$.style.width=$w$$+"px";$devicePixelRatio_locContainer$$.style.height=
$frame$$.style.height=$h$$+"px";$devicePixelRatio_locContainer$$=$body$$1_view$$._devicePixelRatio=1;$body$$1_view$$.isRetinaEnabled()&&($devicePixelRatio_locContainer$$=$body$$1_view$$._devicePixelRatio=window.devicePixelRatio||1);$frame$$.width=$w$$*$devicePixelRatio_locContainer$$;$frame$$.height=$h$$*$devicePixelRatio_locContainer$$;$body$$1_view$$=document.body;var $style$$;$body$$1_view$$&&($style$$=$body$$1_view$$.style)&&($style$$.paddingTop=$style$$.paddingTop||"0px",$style$$.paddingRight=
$style$$.paddingRight||"0px",$style$$.paddingBottom=$style$$.paddingBottom||"0px",$style$$.paddingLeft=$style$$.paddingLeft||"0px",$style$$.borderTop=$style$$.borderTop||"0px",$style$$.borderRight=$style$$.borderRight||"0px",$style$$.borderBottom=$style$$.borderBottom||"0px",$style$$.borderLeft=$style$$.borderLeft||"0px",$style$$.marginTop=$style$$.marginTop||"0px",$style$$.marginRight=$style$$.marginRight||"0px",$style$$.marginBottom=$style$$.marginBottom||"0px",$style$$.marginLeft=$style$$.marginLeft||
"0px")},_fixContainer:function(){document.body.insertBefore(cc.container,document.body.firstChild);var $bs_contStyle$$=document.body.style;$bs_contStyle$$.width=window.innerWidth+"px";$bs_contStyle$$.height=window.innerHeight+"px";$bs_contStyle$$.overflow="hidden";$bs_contStyle$$=cc.container.style;$bs_contStyle$$.position="fixed";$bs_contStyle$$.left=$bs_contStyle$$.top="0px";document.body.scrollTop=0}});
cc.ContentStrategy=cc.Class.extend({_result:{scale:[1,1],viewport:null},_buildResult:function($containerW_viewport$$,$containerH$$,$contentW$$,$contentH$$,$scaleX$$,$scaleY$$){2>Math.abs($containerW_viewport$$-$contentW$$)&&($contentW$$=$containerW_viewport$$);2>Math.abs($containerH$$-$contentH$$)&&($contentH$$=$containerH$$);$containerW_viewport$$=cc.rect(Math.round(($containerW_viewport$$-$contentW$$)/2),Math.round(($containerH$$-$contentH$$)/2),$contentW$$,$contentH$$);cc._renderType==cc._RENDER_TYPE_CANVAS&&
cc._renderContext.translate($containerW_viewport$$.x,$containerW_viewport$$.y+$contentH$$);this._result.scale=[$scaleX$$,$scaleY$$];this._result.viewport=$containerW_viewport$$;return this._result},preApply:function($view$$){},apply:function($view$$,$designedResolution$$){return{scale:[1,1]}},postApply:function($view$$){}});
(function(){var $EqualToFrame_ExactFit$$=cc.ContainerStrategy.extend({apply:function($view$$){this._setupContainer($view$$,$view$$._frameSize.width,$view$$._frameSize.height)}}),$ProportionalToFrame_ShowAll$$=cc.ContainerStrategy.extend({apply:function($view$$,$designedResolution$$){var $frameW$$=$view$$._frameSize.width,$frameH$$=$view$$._frameSize.height,$containerStyle$$=cc.container.style,$designW_offx$$=$designedResolution$$.width,$designH$$=$designedResolution$$.height,$scaleX$$=$frameW$$/$designW_offx$$,
$scaleY$$=$frameH$$/$designH$$,$containerW$$,$containerH$$;$scaleX$$<$scaleY$$?($containerW$$=$frameW$$,$containerH$$=$designH$$*$scaleX$$):($containerW$$=$designW_offx$$*$scaleY$$,$containerH$$=$frameH$$);$designW_offx$$=Math.round(($frameW$$-$containerW$$)/2);$containerH$$=Math.round(($frameH$$-$containerH$$)/2);this._setupContainer($view$$,$frameW$$-2*$designW_offx$$,$frameH$$-2*$containerH$$);$containerStyle$$.marginLeft=$designW_offx$$+"px";$containerStyle$$.marginRight=$designW_offx$$+"px";
$containerStyle$$.marginTop=$containerH$$+"px";$containerStyle$$.marginBottom=$containerH$$+"px"}});$EqualToFrame_ExactFit$$.extend({preApply:function($view$$){this._super($view$$);$view$$._frame=document.documentElement},apply:function($view$$){this._super($view$$);this._fixContainer()}});$ProportionalToFrame_ShowAll$$.extend({preApply:function($view$$){this._super($view$$);$view$$._frame=document.documentElement},apply:function($view$$,$designedResolution$$){this._super($view$$,$designedResolution$$);
this._fixContainer()}});var $NoBorder_OriginalContainer$$=cc.ContainerStrategy.extend({apply:function($view$$){this._setupContainer($view$$,cc._canvas.width,cc._canvas.height)}});cc.ContainerStrategy.EQUAL_TO_FRAME=new $EqualToFrame_ExactFit$$;cc.ContainerStrategy.PROPORTION_TO_FRAME=new $ProportionalToFrame_ShowAll$$;cc.ContainerStrategy.ORIGINAL_CONTAINER=new $NoBorder_OriginalContainer$$;var $EqualToFrame_ExactFit$$=cc.ContentStrategy.extend({apply:function($view$$,$designedResolution$$){var $containerW$$=
cc._canvas.width,$containerH$$=cc._canvas.height;return this._buildResult($containerW$$,$containerH$$,$containerW$$,$containerH$$,$containerW$$/$designedResolution$$.width,$containerH$$/$designedResolution$$.height)}}),$ProportionalToFrame_ShowAll$$=cc.ContentStrategy.extend({apply:function($view$$,$designedResolution$$){var $containerW$$=cc._canvas.width,$containerH$$=cc._canvas.height,$designW$$=$designedResolution$$.width,$designH$$=$designedResolution$$.height,$scaleX$$=$containerW$$/$designW$$,
$scaleY$$=$containerH$$/$designH$$,$scale$$=0,$contentW$$,$contentH$$;$scaleX$$<$scaleY$$?($scale$$=$scaleX$$,$contentW$$=$containerW$$,$contentH$$=$designH$$*$scale$$):($scale$$=$scaleY$$,$contentW$$=$designW$$*$scale$$,$contentH$$=$containerH$$);return this._buildResult($containerW$$,$containerH$$,$contentW$$,$contentH$$,$scale$$,$scale$$)}}),$NoBorder_OriginalContainer$$=cc.ContentStrategy.extend({apply:function($view$$,$designedResolution$$){var $containerW$$=cc._canvas.width,$containerH$$=cc._canvas.height,
$designW$$=$designedResolution$$.width,$designH$$=$designedResolution$$.height,$scaleX$$=$containerW$$/$designW$$,$scaleY$$=$containerH$$/$designH$$,$scale$$,$contentW$$,$contentH$$;$scaleX$$<$scaleY$$?($scale$$=$scaleY$$,$contentW$$=$designW$$*$scale$$,$contentH$$=$containerH$$):($scale$$=$scaleX$$,$contentW$$=$containerW$$,$contentH$$=$designH$$*$scale$$);return this._buildResult($containerW$$,$containerH$$,$contentW$$,$contentH$$,$scale$$,$scale$$)}}),$FixedHeight$$=cc.ContentStrategy.extend({apply:function($view$$,
$designedResolution$$){var $containerW$$=cc._canvas.width,$containerH$$=cc._canvas.height,$scale$$=$containerH$$/$designedResolution$$.height;return this._buildResult($containerW$$,$containerH$$,$containerW$$,$containerH$$,$scale$$,$scale$$)},postApply:function($view$$){cc.director._winSizeInPoints=$view$$.getVisibleSize()}}),$FixedWidth$$=cc.ContentStrategy.extend({apply:function($view$$,$designedResolution$$){var $containerW$$=cc._canvas.width,$containerH$$=cc._canvas.height,$scale$$=$containerW$$/
$designedResolution$$.width;return this._buildResult($containerW$$,$containerH$$,$containerW$$,$containerH$$,$scale$$,$scale$$)},postApply:function($view$$){cc.director._winSizeInPoints=$view$$.getVisibleSize()}});cc.ContentStrategy.EXACT_FIT=new $EqualToFrame_ExactFit$$;cc.ContentStrategy.SHOW_ALL=new $ProportionalToFrame_ShowAll$$;cc.ContentStrategy.NO_BORDER=new $NoBorder_OriginalContainer$$;cc.ContentStrategy.FIXED_HEIGHT=new $FixedHeight$$;cc.ContentStrategy.FIXED_WIDTH=new $FixedWidth$$})();
cc.ResolutionPolicy=cc.Class.extend({_containerStrategy:null,_contentStrategy:null,ctor:function($containerStg$$,$contentStg$$){this.setContainerStrategy($containerStg$$);this.setContentStrategy($contentStg$$)},preApply:function($view$$){this._containerStrategy.preApply($view$$);this._contentStrategy.preApply($view$$)},apply:function($view$$,$designedResolution$$){this._containerStrategy.apply($view$$,$designedResolution$$);return this._contentStrategy.apply($view$$,$designedResolution$$)},postApply:function($view$$){this._containerStrategy.postApply($view$$);
this._contentStrategy.postApply($view$$)},setContainerStrategy:function($containerStg$$){$containerStg$$ instanceof cc.ContainerStrategy&&(this._containerStrategy=$containerStg$$)},setContentStrategy:function($contentStg$$){$contentStg$$ instanceof cc.ContentStrategy&&(this._contentStrategy=$contentStg$$)}});cc.ResolutionPolicy.EXACT_FIT=0;cc.ResolutionPolicy.NO_BORDER=1;cc.ResolutionPolicy.SHOW_ALL=2;cc.ResolutionPolicy.FIXED_HEIGHT=3;cc.ResolutionPolicy.FIXED_WIDTH=4;
cc.ResolutionPolicy.UNKNOWN=5;
cc.screen={_supportsFullScreen:!1,_preOnFullScreenChange:null,_touchEvent:"",_fn:null,_fnMap:[["requestFullscreen","exitFullscreen","fullscreenchange","fullscreenEnabled","fullscreenElement"],["requestFullScreen","exitFullScreen","fullScreenchange","fullScreenEnabled","fullScreenElement"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitfullscreenchange","webkitIsFullScreen","webkitCurrentFullScreenElement"],["mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozFullScreen",
"mozFullScreenElement"],["msRequestFullscreen","msExitFullscreen","MSFullscreenChange","msFullscreenEnabled","msFullscreenElement"]],init:function $cc$screen$init$(){this._fn={};var $i$$,$val$$,$map$$=this._fnMap,$valL$$;$i$$=0;for(l=$map$$.length;$i$$<l;$i$$++)if(($val$$=$map$$[$i$$])&&$val$$[1]in document){$i$$=0;for($valL$$=$val$$.length;$i$$<$valL$$;$i$$++)this._fn[$map$$[0][$i$$]]=$val$$[$i$$];break}this._supportsFullScreen=void 0!=this._fn.requestFullscreen;this._touchEvent="ontouchstart"in
window?"touchstart":"mousedown"},fullScreen:function $cc$screen$fullScreen$(){return this._supportsFullScreen&&document[this._fn.fullscreenEnabled]},requestFullScreen:function $cc$screen$requestFullScreen$($element$$,$onFullScreenChange$$){if(this._supportsFullScreen){$element$$=$element$$||document.documentElement;$element$$[this._fn.requestFullscreen]();if($onFullScreenChange$$){var $eventName$$=this._fn.fullscreenchange;this._preOnFullScreenChange&&document.removeEventListener($eventName$$,this._preOnFullScreenChange);
this._preOnFullScreenChange=$onFullScreenChange$$;cc._addEventListener(document,$eventName$$,$onFullScreenChange$$,!1)}return $element$$[this._fn.requestFullscreen]()}},exitFullScreen:function $cc$screen$exitFullScreen$(){return this._supportsFullScreen?document[this._fn.exitFullscreen]():!0},autoFullScreen:function $cc$screen$autoFullScreen$($element$$,$onFullScreenChange$$){function $callback$$(){$theScreen$$.requestFullScreen($element$$,$onFullScreenChange$$);$touchTarget$$.removeEventListener($theScreen$$._touchEvent,
$callback$$)}$element$$=$element$$||document.body;var $touchTarget$$=cc._canvas||$element$$,$theScreen$$=this;this.requestFullScreen($element$$,$onFullScreenChange$$);cc._addEventListener($touchTarget$$,this._touchEvent,$callback$$)}};cc.screen.init();
cc.visibleRect={topLeft:cc.p(0,0),topRight:cc.p(0,0),top:cc.p(0,0),bottomLeft:cc.p(0,0),bottomRight:cc.p(0,0),bottom:cc.p(0,0),center:cc.p(0,0),left:cc.p(0,0),right:cc.p(0,0),width:0,height:0,init:function $cc$visibleRect$init$($b$$){var $w$$=this.width=$b$$.width,$h$$=this.height=$b$$.height,$l$$=$b$$.x;$b$$=$b$$.y;var $t$$=$b$$+$h$$,$r$$=$l$$+$w$$;this.topLeft.x=$l$$;this.topLeft.y=$t$$;this.topRight.x=$r$$;this.topRight.y=$t$$;this.top.x=$l$$+$w$$/2;this.top.y=$t$$;this.bottomLeft.x=$l$$;this.bottomLeft.y=
$b$$;this.bottomRight.x=$r$$;this.bottomRight.y=$b$$;this.bottom.x=$l$$+$w$$/2;this.bottom.y=$b$$;this.center.x=$l$$+$w$$/2;this.center.y=$b$$+$h$$/2;this.left.x=$l$$;this.left.y=$b$$+$h$$/2;this.right.x=$r$$;this.right.y=$b$$+$h$$/2}};cc.UIInterfaceOrientationLandscapeLeft=-90;cc.UIInterfaceOrientationLandscapeRight=90;cc.UIInterfaceOrientationPortraitUpsideDown=180;cc.UIInterfaceOrientationPortrait=0;
cc.inputManager={_mousePressed:!1,_isRegisterEvent:!1,_preTouchPoint:cc.p(0,0),_prevMousePoint:cc.p(0,0),_preTouchPool:[],_preTouchPoolPointer:0,_touches:[],_touchesIntegerDict:{},_indexBitsUsed:0,_maxTouches:5,_accelEnabled:!1,_accelInterval:1/30,_accelMinus:1,_accelCurTime:0,_acceleration:null,_accelDeviceEvent:null,_getUnUsedIndex:function $cc$inputManager$_getUnUsedIndex$(){for(var $temp$$=this._indexBitsUsed,$i$$=0;$i$$<this._maxTouches;$i$$++){if(!($temp$$&1))return this._indexBitsUsed|=1<<
$i$$,$i$$;$temp$$>>=1}return-1},_removeUsedIndexBit:function $cc$inputManager$_removeUsedIndexBit$($index$$58_temp$$){0>$index$$58_temp$$||$index$$58_temp$$>=this._maxTouches||($index$$58_temp$$=~(1<<$index$$58_temp$$),this._indexBitsUsed&=$index$$58_temp$$)},_glView:null,handleTouchesBegin:function $cc$inputManager$handleTouchesBegin$($touchEvent_touches$$){for(var $selTouch$$,$curTouch_index$$,$touchID$$,$handleTouches$$=[],$locTouchIntDict$$=this._touchesIntegerDict,$i$$=0,$len$$=$touchEvent_touches$$.length;$i$$<
$len$$;$i$$++)if($selTouch$$=$touchEvent_touches$$[$i$$],$touchID$$=$selTouch$$.getID(),$curTouch_index$$=$locTouchIntDict$$[$touchID$$],null==$curTouch_index$$){var $unusedIndex$$=this._getUnUsedIndex();-1==$unusedIndex$$?cc.log(cc._LogInfos.inputManager_handleTouchesBegin,$unusedIndex$$):($curTouch_index$$=this._touches[$unusedIndex$$]=new cc.Touch($selTouch$$._point.x,$selTouch$$._point.y,$selTouch$$.getID()),$curTouch_index$$._setPrevPoint($selTouch$$._prevPoint),$locTouchIntDict$$[$touchID$$]=
$unusedIndex$$,$handleTouches$$.push($curTouch_index$$))}0<$handleTouches$$.length&&(this._glView._convertTouchesWithScale($handleTouches$$),$touchEvent_touches$$=new cc.EventTouch($handleTouches$$),$touchEvent_touches$$._eventCode=cc.EventTouch.EventCode.BEGAN,cc.eventManager.dispatchEvent($touchEvent_touches$$))},handleTouchesMove:function $cc$inputManager$handleTouchesMove$($touchEvent$$1_touches$$){for(var $selTouch$$,$index$$60_touchID$$,$handleTouches$$=[],$locTouches$$=this._touches,$i$$=0,
$len$$=$touchEvent$$1_touches$$.length;$i$$<$len$$;$i$$++)$selTouch$$=$touchEvent$$1_touches$$[$i$$],$index$$60_touchID$$=$selTouch$$.getID(),$index$$60_touchID$$=this._touchesIntegerDict[$index$$60_touchID$$],null!=$index$$60_touchID$$&&$locTouches$$[$index$$60_touchID$$]&&($locTouches$$[$index$$60_touchID$$]._setPoint($selTouch$$._point),$locTouches$$[$index$$60_touchID$$]._setPrevPoint($selTouch$$._prevPoint),$handleTouches$$.push($locTouches$$[$index$$60_touchID$$]));0<$handleTouches$$.length&&
(this._glView._convertTouchesWithScale($handleTouches$$),$touchEvent$$1_touches$$=new cc.EventTouch($handleTouches$$),$touchEvent$$1_touches$$._eventCode=cc.EventTouch.EventCode.MOVED,cc.eventManager.dispatchEvent($touchEvent$$1_touches$$))},handleTouchesEnd:function $cc$inputManager$handleTouchesEnd$($handleTouches$$2_touchEvent$$2_touches$$){$handleTouches$$2_touchEvent$$2_touches$$=this.getSetOfTouchesEndOrCancel($handleTouches$$2_touchEvent$$2_touches$$);0<$handleTouches$$2_touchEvent$$2_touches$$.length&&
(this._glView._convertTouchesWithScale($handleTouches$$2_touchEvent$$2_touches$$),$handleTouches$$2_touchEvent$$2_touches$$=new cc.EventTouch($handleTouches$$2_touchEvent$$2_touches$$),$handleTouches$$2_touchEvent$$2_touches$$._eventCode=cc.EventTouch.EventCode.ENDED,cc.eventManager.dispatchEvent($handleTouches$$2_touchEvent$$2_touches$$))},handleTouchesCancel:function $cc$inputManager$handleTouchesCancel$($handleTouches$$3_touchEvent$$3_touches$$){$handleTouches$$3_touchEvent$$3_touches$$=this.getSetOfTouchesEndOrCancel($handleTouches$$3_touchEvent$$3_touches$$);
0<$handleTouches$$3_touchEvent$$3_touches$$.length&&(this._glView._convertTouchesWithScale($handleTouches$$3_touchEvent$$3_touches$$),$handleTouches$$3_touchEvent$$3_touches$$=new cc.EventTouch($handleTouches$$3_touchEvent$$3_touches$$),$handleTouches$$3_touchEvent$$3_touches$$._eventCode=cc.EventTouch.EventCode.CANCELLED,cc.eventManager.dispatchEvent($handleTouches$$3_touchEvent$$3_touches$$))},getSetOfTouchesEndOrCancel:function $cc$inputManager$getSetOfTouchesEndOrCancel$($touches$$){for(var $selTouch$$,
$index$$,$touchID$$,$handleTouches$$=[],$locTouches$$=this._touches,$locTouchesIntDict$$=this._touchesIntegerDict,$i$$=0,$len$$=$touches$$.length;$i$$<$len$$;$i$$++)$selTouch$$=$touches$$[$i$$],$touchID$$=$selTouch$$.getID(),$index$$=$locTouchesIntDict$$[$touchID$$],null!=$index$$&&$locTouches$$[$index$$]&&($locTouches$$[$index$$]._setPoint($selTouch$$._point),$locTouches$$[$index$$]._setPrevPoint($selTouch$$._prevPoint),$handleTouches$$.push($locTouches$$[$index$$]),this._removeUsedIndexBit($index$$),
delete $locTouchesIntDict$$[$touchID$$]);return $handleTouches$$},getHTMLElementPosition:function $cc$inputManager$getHTMLElementPosition$($element$$){var $docElem$$=document.documentElement,$win$$=window,$box$$=null,$box$$=cc.isFunction($element$$.getBoundingClientRect)?$element$$.getBoundingClientRect():$element$$ instanceof HTMLCanvasElement?{left:0,top:0,width:$element$$.width,height:$element$$.height}:{left:0,top:0,width:parseInt($element$$.style.width),height:parseInt($element$$.style.height)};
return{left:$box$$.left+$win$$.pageXOffset-$docElem$$.clientLeft,top:$box$$.top+$win$$.pageYOffset-$docElem$$.clientTop,width:$box$$.width,height:$box$$.height}},getPreTouch:function $cc$inputManager$getPreTouch$($touch$$){for(var $preTouch$$=null,$locPreTouchPool$$=this._preTouchPool,$id$$=$touch$$.getID(),$i$$=$locPreTouchPool$$.length-1;0<=$i$$;$i$$--)if($locPreTouchPool$$[$i$$].getID()==$id$$){$preTouch$$=$locPreTouchPool$$[$i$$];break}$preTouch$$||($preTouch$$=$touch$$);return $preTouch$$},setPreTouch:function $cc$inputManager$setPreTouch$($touch$$){for(var $find$$=
!1,$locPreTouchPool$$=this._preTouchPool,$id$$=$touch$$.getID(),$i$$=$locPreTouchPool$$.length-1;0<=$i$$;$i$$--)if($locPreTouchPool$$[$i$$].getID()==$id$$){$locPreTouchPool$$[$i$$]=$touch$$;$find$$=!0;break}$find$$||(50>=$locPreTouchPool$$.length?$locPreTouchPool$$.push($touch$$):($locPreTouchPool$$[this._preTouchPoolPointer]=$touch$$,this._preTouchPoolPointer=(this._preTouchPoolPointer+1)%50))},getTouchByXY:function $cc$inputManager$getTouchByXY$($location$$21_tx$$,$touch$$2_ty$$,$pos$$){var $locPreTouch$$=
this._preTouchPoint;$location$$21_tx$$=this._glView.convertToLocationInView($location$$21_tx$$,$touch$$2_ty$$,$pos$$);$touch$$2_ty$$=new cc.Touch($location$$21_tx$$.x,$location$$21_tx$$.y);$touch$$2_ty$$._setPrevPoint($locPreTouch$$.x,$locPreTouch$$.y);$locPreTouch$$.x=$location$$21_tx$$.x;$locPreTouch$$.y=$location$$21_tx$$.y;return $touch$$2_ty$$},getMouseEvent:function $cc$inputManager$getMouseEvent$($location$$,$mouseEvent_pos$$,$eventType$$){var $locPreMouse$$=this._prevMousePoint;this._glView._convertMouseToLocationInView($location$$,
$mouseEvent_pos$$);$mouseEvent_pos$$=new cc.EventMouse($eventType$$);$mouseEvent_pos$$.setLocation($location$$.x,$location$$.y);$mouseEvent_pos$$._setPrevCursor($locPreMouse$$.x,$locPreMouse$$.y);$locPreMouse$$.x=$location$$.x;$locPreMouse$$.y=$location$$.y;return $mouseEvent_pos$$},getPointByEvent:function $cc$inputManager$getPointByEvent$($event$$,$pos$$){if(null!=$event$$.pageX)return{x:$event$$.pageX,y:$event$$.pageY};$pos$$.left-=document.body.scrollLeft;$pos$$.top-=document.body.scrollTop;return{x:$event$$.clientX,
y:$event$$.clientY}},getTouchesByEvent:function $cc$inputManager$getTouchesByEvent$($event$$,$pos$$){for(var $touchArr$$=[],$locView$$=this._glView,$touch$$,$preLocation$$,$locPreTouch$$=this._preTouchPoint,$length$$=$event$$.changedTouches.length,$i$$=0;$i$$<$length$$;$i$$++)if($touch$$=$event$$.changedTouches[$i$$]){var $location$$;$location$$=cc.sys.BROWSER_TYPE_FIREFOX===cc.sys.browserType?$locView$$.convertToLocationInView($touch$$.pageX,$touch$$.pageY,$pos$$):$locView$$.convertToLocationInView($touch$$.clientX,
$touch$$.clientY,$pos$$);null!=$touch$$.identifier?($touch$$=new cc.Touch($location$$.x,$location$$.y,$touch$$.identifier),$preLocation$$=this.getPreTouch($touch$$).getLocation(),$touch$$._setPrevPoint($preLocation$$.x,$preLocation$$.y),this.setPreTouch($touch$$)):($touch$$=new cc.Touch($location$$.x,$location$$.y),$touch$$._setPrevPoint($locPreTouch$$.x,$locPreTouch$$.y));$locPreTouch$$.x=$location$$.x;$locPreTouch$$.y=$location$$.y;$touchArr$$.push($touch$$)}return $touchArr$$},registerSystemEvent:function $cc$inputManager$registerSystemEvent$($element$$){if(!this._isRegisterEvent){this._glView=
cc.view;var $selfPointer$$=this,$supportTouches$$="touches"in cc.sys.capabilities;"mouse"in cc.sys.capabilities&&(cc._addEventListener(window,"mousedown",function(){$selfPointer$$._mousePressed=!0},!1),cc._addEventListener(window,"mouseup",function($event$$){var $mouseEvent$$1_pos$$=$selfPointer$$._mousePressed;$selfPointer$$._mousePressed=!1;if($mouseEvent$$1_pos$$){var $mouseEvent$$1_pos$$=$selfPointer$$.getHTMLElementPosition($element$$),$location$$=$selfPointer$$.getPointByEvent($event$$,$mouseEvent$$1_pos$$);
cc.rectContainsPoint(new cc.Rect($mouseEvent$$1_pos$$.left,$mouseEvent$$1_pos$$.top,$mouseEvent$$1_pos$$.width,$mouseEvent$$1_pos$$.height),$location$$)||($supportTouches$$||$selfPointer$$.handleTouchesEnd([$selfPointer$$.getTouchByXY($location$$.x,$location$$.y,$mouseEvent$$1_pos$$)]),$mouseEvent$$1_pos$$=$selfPointer$$.getMouseEvent($location$$,$mouseEvent$$1_pos$$,cc.EventMouse.UP),$mouseEvent$$1_pos$$.setButton($event$$.button),cc.eventManager.dispatchEvent($mouseEvent$$1_pos$$))}},!1),cc._addEventListener($element$$,
"mousedown",function($event$$){$selfPointer$$._mousePressed=!0;var $mouseEvent$$2_pos$$=$selfPointer$$.getHTMLElementPosition($element$$),$location$$=$selfPointer$$.getPointByEvent($event$$,$mouseEvent$$2_pos$$);$supportTouches$$||$selfPointer$$.handleTouchesBegin([$selfPointer$$.getTouchByXY($location$$.x,$location$$.y,$mouseEvent$$2_pos$$)]);$mouseEvent$$2_pos$$=$selfPointer$$.getMouseEvent($location$$,$mouseEvent$$2_pos$$,cc.EventMouse.DOWN);$mouseEvent$$2_pos$$.setButton($event$$.button);cc.eventManager.dispatchEvent($mouseEvent$$2_pos$$);
$event$$.stopPropagation();$event$$.preventDefault();$element$$.focus()},!1),cc._addEventListener($element$$,"mouseup",function($event$$){$selfPointer$$._mousePressed=!1;var $mouseEvent$$3_pos$$=$selfPointer$$.getHTMLElementPosition($element$$),$location$$=$selfPointer$$.getPointByEvent($event$$,$mouseEvent$$3_pos$$);$supportTouches$$||$selfPointer$$.handleTouchesEnd([$selfPointer$$.getTouchByXY($location$$.x,$location$$.y,$mouseEvent$$3_pos$$)]);$mouseEvent$$3_pos$$=$selfPointer$$.getMouseEvent($location$$,
$mouseEvent$$3_pos$$,cc.EventMouse.UP);$mouseEvent$$3_pos$$.setButton($event$$.button);cc.eventManager.dispatchEvent($mouseEvent$$3_pos$$);$event$$.stopPropagation();$event$$.preventDefault()},!1),cc._addEventListener($element$$,"mousemove",function($event$$){var $mouseEvent$$4_pos$$=$selfPointer$$.getHTMLElementPosition($element$$),$location$$=$selfPointer$$.getPointByEvent($event$$,$mouseEvent$$4_pos$$);$supportTouches$$||$selfPointer$$.handleTouchesMove([$selfPointer$$.getTouchByXY($location$$.x,
$location$$.y,$mouseEvent$$4_pos$$)]);$mouseEvent$$4_pos$$=$selfPointer$$.getMouseEvent($location$$,$mouseEvent$$4_pos$$,cc.EventMouse.MOVE);$selfPointer$$._mousePressed?$mouseEvent$$4_pos$$.setButton($event$$.button):$mouseEvent$$4_pos$$.setButton(null);cc.eventManager.dispatchEvent($mouseEvent$$4_pos$$);$event$$.stopPropagation();$event$$.preventDefault()},!1),cc._addEventListener($element$$,"mousewheel",function($event$$){var $mouseEvent$$5_pos$$=$selfPointer$$.getHTMLElementPosition($element$$),
$location$$=$selfPointer$$.getPointByEvent($event$$,$mouseEvent$$5_pos$$),$mouseEvent$$5_pos$$=$selfPointer$$.getMouseEvent($location$$,$mouseEvent$$5_pos$$,cc.EventMouse.SCROLL);$mouseEvent$$5_pos$$.setButton($event$$.button);$mouseEvent$$5_pos$$.setScrollData(0,$event$$.wheelDelta);cc.eventManager.dispatchEvent($mouseEvent$$5_pos$$);$event$$.stopPropagation();$event$$.preventDefault()},!1),cc._addEventListener($element$$,"DOMMouseScroll",function($event$$){var $mouseEvent$$6_pos$$=$selfPointer$$.getHTMLElementPosition($element$$),
$location$$=$selfPointer$$.getPointByEvent($event$$,$mouseEvent$$6_pos$$),$mouseEvent$$6_pos$$=$selfPointer$$.getMouseEvent($location$$,$mouseEvent$$6_pos$$,cc.EventMouse.SCROLL);$mouseEvent$$6_pos$$.setButton($event$$.button);$mouseEvent$$6_pos$$.setScrollData(0,-120*$event$$.detail);cc.eventManager.dispatchEvent($mouseEvent$$6_pos$$);$event$$.stopPropagation();$event$$.preventDefault()},!1));if(window.navigator.msPointerEnabled){var $_pointerEventsMap$$={MSPointerDown:$selfPointer$$.handleTouchesBegin,
MSPointerMove:$selfPointer$$.handleTouchesMove,MSPointerUp:$selfPointer$$.handleTouchesEnd,MSPointerCancel:$selfPointer$$.handleTouchesCancel},$eventName$$;for($eventName$$ in $_pointerEventsMap$$)(function($_pointerEvent$$,$_touchEvent$$){cc._addEventListener($element$$,$_pointerEvent$$,function($event$$){var $pos$$=$selfPointer$$.getHTMLElementPosition($element$$);$pos$$.left-=document.documentElement.scrollLeft;$pos$$.top-=document.documentElement.scrollTop;$_touchEvent$$.call($selfPointer$$,[$selfPointer$$.getTouchByXY($event$$.clientX,
$event$$.clientY,$pos$$)]);$event$$.stopPropagation()},!1)})($eventName$$,$_pointerEventsMap$$[$eventName$$])}$supportTouches$$&&(cc._addEventListener($element$$,"touchstart",function($event$$){if($event$$.changedTouches){var $pos$$=$selfPointer$$.getHTMLElementPosition($element$$);$pos$$.left-=document.body.scrollLeft;$pos$$.top-=document.body.scrollTop;$selfPointer$$.handleTouchesBegin($selfPointer$$.getTouchesByEvent($event$$,$pos$$));$event$$.stopPropagation();$event$$.preventDefault();$element$$.focus()}},
!1),cc._addEventListener($element$$,"touchmove",function($event$$){if($event$$.changedTouches){var $pos$$=$selfPointer$$.getHTMLElementPosition($element$$);$pos$$.left-=document.body.scrollLeft;$pos$$.top-=document.body.scrollTop;$selfPointer$$.handleTouchesMove($selfPointer$$.getTouchesByEvent($event$$,$pos$$));$event$$.stopPropagation();$event$$.preventDefault()}},!1),cc._addEventListener($element$$,"touchend",function($event$$){if($event$$.changedTouches){var $pos$$=$selfPointer$$.getHTMLElementPosition($element$$);
$pos$$.left-=document.body.scrollLeft;$pos$$.top-=document.body.scrollTop;$selfPointer$$.handleTouchesEnd($selfPointer$$.getTouchesByEvent($event$$,$pos$$));$event$$.stopPropagation();$event$$.preventDefault()}},!1),cc._addEventListener($element$$,"touchcancel",function($event$$){if($event$$.changedTouches){var $pos$$=$selfPointer$$.getHTMLElementPosition($element$$);$pos$$.left-=document.body.scrollLeft;$pos$$.top-=document.body.scrollTop;$selfPointer$$.handleTouchesCancel($selfPointer$$.getTouchesByEvent($event$$,
$pos$$));$event$$.stopPropagation();$event$$.preventDefault()}},!1));this._registerKeyboardEvent();this._registerAccelerometerEvent();this._isRegisterEvent=!0}},_registerKeyboardEvent:function $cc$inputManager$_registerKeyboardEvent$(){},_registerAccelerometerEvent:function $cc$inputManager$_registerAccelerometerEvent$(){},update:function $cc$inputManager$update$($dt$$){this._accelCurTime>this._accelInterval&&(this._accelCurTime-=this._accelInterval,cc.eventManager.dispatchEvent(new cc.EventAcceleration(this._acceleration)));
this._accelCurTime+=$dt$$}};cc.AffineTransform=function $cc$AffineTransform$($a$$,$b$$,$c$$,$d$$,$tx$$,$ty$$){this.a=$a$$;this.b=$b$$;this.c=$c$$;this.d=$d$$;this.tx=$tx$$;this.ty=$ty$$};cc.affineTransformMake=function $cc$affineTransformMake$($a$$,$b$$,$c$$,$d$$,$tx$$,$ty$$){return{a:$a$$,b:$b$$,c:$c$$,d:$d$$,tx:$tx$$,ty:$ty$$}};
cc.pointApplyAffineTransform=function $cc$pointApplyAffineTransform$($point$$,$t$$){return{x:$t$$.a*$point$$.x+$t$$.c*$point$$.y+$t$$.tx,y:$t$$.b*$point$$.x+$t$$.d*$point$$.y+$t$$.ty}};cc._pointApplyAffineTransform=function $cc$_pointApplyAffineTransform$($x$$,$y$$,$t$$){return{x:$t$$.a*$x$$+$t$$.c*$y$$+$t$$.tx,y:$t$$.b*$x$$+$t$$.d*$y$$+$t$$.ty}};
cc.sizeApplyAffineTransform=function $cc$sizeApplyAffineTransform$($size$$,$t$$){return{width:$t$$.a*$size$$.width+$t$$.c*$size$$.height,height:$t$$.b*$size$$.width+$t$$.d*$size$$.height}};cc.affineTransformMakeIdentity=function $cc$affineTransformMakeIdentity$(){return{a:1,b:0,c:0,d:1,tx:0,ty:0}};cc.affineTransformIdentity=function $cc$affineTransformIdentity$(){return{a:1,b:0,c:0,d:1,tx:0,ty:0}};
cc.rectApplyAffineTransform=function $cc$rectApplyAffineTransform$($rect$$,$anAffineTransform$$){var $top$$=cc.rectGetMinY($rect$$),$bottomLeft_left$$=cc.rectGetMinX($rect$$),$minX_right$$=cc.rectGetMaxX($rect$$),$bottom$$=cc.rectGetMaxY($rect$$),$maxY_topLeft$$=cc._pointApplyAffineTransform($bottomLeft_left$$,$top$$,$anAffineTransform$$),$top$$=cc._pointApplyAffineTransform($minX_right$$,$top$$,$anAffineTransform$$),$bottomLeft_left$$=cc._pointApplyAffineTransform($bottomLeft_left$$,$bottom$$,$anAffineTransform$$),
$bottomRight$$=cc._pointApplyAffineTransform($minX_right$$,$bottom$$,$anAffineTransform$$),$minX_right$$=Math.min($maxY_topLeft$$.x,$top$$.x,$bottomLeft_left$$.x,$bottomRight$$.x),$bottom$$=Math.max($maxY_topLeft$$.x,$top$$.x,$bottomLeft_left$$.x,$bottomRight$$.x),$minY$$=Math.min($maxY_topLeft$$.y,$top$$.y,$bottomLeft_left$$.y,$bottomRight$$.y),$maxY_topLeft$$=Math.max($maxY_topLeft$$.y,$top$$.y,$bottomLeft_left$$.y,$bottomRight$$.y);return cc.rect($minX_right$$,$minY$$,$bottom$$-$minX_right$$,$maxY_topLeft$$-
$minY$$)};
cc._rectApplyAffineTransformIn=function $cc$_rectApplyAffineTransformIn$($rect$$,$anAffineTransform$$){var $top$$3_topRight$$=cc.rectGetMinY($rect$$),$bottomLeft$$1_left$$=cc.rectGetMinX($rect$$),$minX$$1_right$$=cc.rectGetMaxX($rect$$),$bottom$$2_maxX$$=cc.rectGetMaxY($rect$$),$maxY$$1_topLeft$$=cc._pointApplyAffineTransform($bottomLeft$$1_left$$,$top$$3_topRight$$,$anAffineTransform$$),$top$$3_topRight$$=cc._pointApplyAffineTransform($minX$$1_right$$,$top$$3_topRight$$,$anAffineTransform$$),$bottomLeft$$1_left$$=
cc._pointApplyAffineTransform($bottomLeft$$1_left$$,$bottom$$2_maxX$$,$anAffineTransform$$),$bottomRight$$=cc._pointApplyAffineTransform($minX$$1_right$$,$bottom$$2_maxX$$,$anAffineTransform$$),$minX$$1_right$$=Math.min($maxY$$1_topLeft$$.x,$top$$3_topRight$$.x,$bottomLeft$$1_left$$.x,$bottomRight$$.x),$bottom$$2_maxX$$=Math.max($maxY$$1_topLeft$$.x,$top$$3_topRight$$.x,$bottomLeft$$1_left$$.x,$bottomRight$$.x),$minY$$=Math.min($maxY$$1_topLeft$$.y,$top$$3_topRight$$.y,$bottomLeft$$1_left$$.y,$bottomRight$$.y),
$maxY$$1_topLeft$$=Math.max($maxY$$1_topLeft$$.y,$top$$3_topRight$$.y,$bottomLeft$$1_left$$.y,$bottomRight$$.y);$rect$$.x=$minX$$1_right$$;$rect$$.y=$minY$$;$rect$$.width=$bottom$$2_maxX$$-$minX$$1_right$$;$rect$$.height=$maxY$$1_topLeft$$-$minY$$;return $rect$$};cc.affineTransformTranslate=function $cc$affineTransformTranslate$($t$$,$tx$$,$ty$$){return{a:$t$$.a,b:$t$$.b,c:$t$$.c,d:$t$$.d,tx:$t$$.tx+$t$$.a*$tx$$+$t$$.c*$ty$$,ty:$t$$.ty+$t$$.b*$tx$$+$t$$.d*$ty$$}};
cc.affineTransformScale=function $cc$affineTransformScale$($t$$,$sx$$,$sy$$){return{a:$t$$.a*$sx$$,b:$t$$.b*$sx$$,c:$t$$.c*$sy$$,d:$t$$.d*$sy$$,tx:$t$$.tx,ty:$t$$.ty}};
cc.affineTransformRotate=function $cc$affineTransformRotate$($aTransform$$,$anAngle$$){var $fSin$$=Math.sin($anAngle$$),$fCos$$=Math.cos($anAngle$$);return{a:$aTransform$$.a*$fCos$$+$aTransform$$.c*$fSin$$,b:$aTransform$$.b*$fCos$$+$aTransform$$.d*$fSin$$,c:$aTransform$$.c*$fCos$$-$aTransform$$.a*$fSin$$,d:$aTransform$$.d*$fCos$$-$aTransform$$.b*$fSin$$,tx:$aTransform$$.tx,ty:$aTransform$$.ty}};
cc.affineTransformConcat=function $cc$affineTransformConcat$($t1$$,$t2$$){return{a:$t1$$.a*$t2$$.a+$t1$$.b*$t2$$.c,b:$t1$$.a*$t2$$.b+$t1$$.b*$t2$$.d,c:$t1$$.c*$t2$$.a+$t1$$.d*$t2$$.c,d:$t1$$.c*$t2$$.b+$t1$$.d*$t2$$.d,tx:$t1$$.tx*$t2$$.a+$t1$$.ty*$t2$$.c+$t2$$.tx,ty:$t1$$.tx*$t2$$.b+$t1$$.ty*$t2$$.d+$t2$$.ty}};
cc.affineTransformEqualToTransform=function $cc$affineTransformEqualToTransform$($t1$$,$t2$$){return $t1$$.a===$t2$$.a&&$t1$$.b===$t2$$.b&&$t1$$.c===$t2$$.c&&$t1$$.d===$t2$$.d&&$t1$$.tx===$t2$$.tx&&$t1$$.ty===$t2$$.ty};
cc.affineTransformInvert=function $cc$affineTransformInvert$($t$$){var $determinant$$=1/($t$$.a*$t$$.d-$t$$.b*$t$$.c);return{a:$determinant$$*$t$$.d,b:-$determinant$$*$t$$.b,c:-$determinant$$*$t$$.c,d:$determinant$$*$t$$.a,tx:$determinant$$*($t$$.c*$t$$.ty-$t$$.d*$t$$.tx),ty:$determinant$$*($t$$.b*$t$$.tx-$t$$.a*$t$$.ty)}};cc.POINT_EPSILON=parseFloat("1.192092896e-07F");cc.pNeg=function $cc$pNeg$($point$$){return cc.p(-$point$$.x,-$point$$.y)};
cc.pAdd=function $cc$pAdd$($v1$$,$v2$$){return cc.p($v1$$.x+$v2$$.x,$v1$$.y+$v2$$.y)};cc.pSub=function $cc$pSub$($v1$$,$v2$$){return cc.p($v1$$.x-$v2$$.x,$v1$$.y-$v2$$.y)};cc.pMult=function $cc$pMult$($point$$,$floatVar$$){return cc.p($point$$.x*$floatVar$$,$point$$.y*$floatVar$$)};cc.pMidpoint=function $cc$pMidpoint$($v1$$,$v2$$){return cc.pMult(cc.pAdd($v1$$,$v2$$),.5)};cc.pDot=function $cc$pDot$($v1$$,$v2$$){return $v1$$.x*$v2$$.x+$v1$$.y*$v2$$.y};
cc.pCross=function $cc$pCross$($v1$$,$v2$$){return $v1$$.x*$v2$$.y-$v1$$.y*$v2$$.x};cc.pPerp=function $cc$pPerp$($point$$){return cc.p(-$point$$.y,$point$$.x)};cc.pRPerp=function $cc$pRPerp$($point$$){return cc.p($point$$.y,-$point$$.x)};cc.pProject=function $cc$pProject$($v1$$,$v2$$){return cc.pMult($v2$$,cc.pDot($v1$$,$v2$$)/cc.pDot($v2$$,$v2$$))};cc.pRotate=function $cc$pRotate$($v1$$,$v2$$){return cc.p($v1$$.x*$v2$$.x-$v1$$.y*$v2$$.y,$v1$$.x*$v2$$.y+$v1$$.y*$v2$$.x)};
cc.pUnrotate=function $cc$pUnrotate$($v1$$,$v2$$){return cc.p($v1$$.x*$v2$$.x+$v1$$.y*$v2$$.y,$v1$$.y*$v2$$.x-$v1$$.x*$v2$$.y)};cc.pLengthSQ=function $cc$pLengthSQ$($v$$){return cc.pDot($v$$,$v$$)};cc.pDistanceSQ=function $cc$pDistanceSQ$($point1$$,$point2$$){return cc.pLengthSQ(cc.pSub($point1$$,$point2$$))};cc.pLength=function $cc$pLength$($v$$){return Math.sqrt(cc.pLengthSQ($v$$))};cc.pDistance=function $cc$pDistance$($v1$$,$v2$$){return cc.pLength(cc.pSub($v1$$,$v2$$))};
cc.pNormalize=function $cc$pNormalize$($v$$){return cc.pMult($v$$,1/cc.pLength($v$$))};cc.pForAngle=function $cc$pForAngle$($a$$){return cc.p(Math.cos($a$$),Math.sin($a$$))};cc.pToAngle=function $cc$pToAngle$($v$$){return Math.atan2($v$$.y,$v$$.x)};
cc.clampf=function $cc$clampf$($value$$,$min_inclusive$$,$max_inclusive$$){if($min_inclusive$$>$max_inclusive$$){var $temp$$=$min_inclusive$$;$min_inclusive$$=$max_inclusive$$;$max_inclusive$$=$temp$$}return $value$$<$min_inclusive$$?$min_inclusive$$:$value$$<$max_inclusive$$?$value$$:$max_inclusive$$};cc.pClamp=function $cc$pClamp$($p$$,$min_inclusive$$,$max_inclusive$$){return cc.p(cc.clampf($p$$.x,$min_inclusive$$.x,$max_inclusive$$.x),cc.clampf($p$$.y,$min_inclusive$$.y,$max_inclusive$$.y))};
cc.pFromSize=function $cc$pFromSize$($s$$){return cc.p($s$$.width,$s$$.height)};cc.pCompOp=function $cc$pCompOp$($p$$,$opFunc$$){return cc.p($opFunc$$($p$$.x),$opFunc$$($p$$.y))};cc.pLerp=function $cc$pLerp$($a$$,$b$$,$alpha$$){return cc.pAdd(cc.pMult($a$$,1-$alpha$$),cc.pMult($b$$,$alpha$$))};cc.pFuzzyEqual=function $cc$pFuzzyEqual$($a$$,$b$$,$variance$$){return $a$$.x-$variance$$<=$b$$.x&&$b$$.x<=$a$$.x+$variance$$&&$a$$.y-$variance$$<=$b$$.y&&$b$$.y<=$a$$.y+$variance$$?!0:!1};
cc.pCompMult=function $cc$pCompMult$($a$$,$b$$){return cc.p($a$$.x*$b$$.x,$a$$.y*$b$$.y)};cc.pAngleSigned=function $cc$pAngleSigned$($a$$,$b$$){var $a2$$1_angle$$=cc.pNormalize($a$$),$b2$$=cc.pNormalize($b$$),$a2$$1_angle$$=Math.atan2($a2$$1_angle$$.x*$b2$$.y-$a2$$1_angle$$.y*$b2$$.x,cc.pDot($a2$$1_angle$$,$b2$$));return Math.abs($a2$$1_angle$$)<cc.POINT_EPSILON?0:$a2$$1_angle$$};
cc.pAngle=function $cc$pAngle$($a$$,$b$$){var $angle$$=Math.acos(cc.pDot(cc.pNormalize($a$$),cc.pNormalize($b$$)));return Math.abs($angle$$)<cc.POINT_EPSILON?0:$angle$$};cc.pRotateByAngle=function $cc$pRotateByAngle$($r$$7_v$$,$pivot$$,$angle$$){$r$$7_v$$=cc.pSub($r$$7_v$$,$pivot$$);var $cosa$$=Math.cos($angle$$);$angle$$=Math.sin($angle$$);var $t$$=$r$$7_v$$.x;$r$$7_v$$.x=$t$$*$cosa$$-$r$$7_v$$.y*$angle$$+$pivot$$.x;$r$$7_v$$.y=$t$$*$angle$$+$r$$7_v$$.y*$cosa$$+$pivot$$.y;return $r$$7_v$$};
cc.pLineIntersect=function $cc$pLineIntersect$($A_ACy$$,$B_BAy$$,$C_denom$$,$D_DCy$$,$retP$$){if($A_ACy$$.x==$B_BAy$$.x&&$A_ACy$$.y==$B_BAy$$.y||$C_denom$$.x==$D_DCy$$.x&&$C_denom$$.y==$D_DCy$$.y)return!1;var $BAx$$=$B_BAy$$.x-$A_ACy$$.x;$B_BAy$$=$B_BAy$$.y-$A_ACy$$.y;var $DCx$$=$D_DCy$$.x-$C_denom$$.x;$D_DCy$$=$D_DCy$$.y-$C_denom$$.y;var $ACx$$=$A_ACy$$.x-$C_denom$$.x;$A_ACy$$=$A_ACy$$.y-$C_denom$$.y;$C_denom$$=$D_DCy$$*$BAx$$-$DCx$$*$B_BAy$$;$retP$$.x=$DCx$$*$A_ACy$$-$D_DCy$$*$ACx$$;$retP$$.y=$BAx$$*
$A_ACy$$-$B_BAy$$*$ACx$$;if(0==$C_denom$$)return 0==$retP$$.x||0==$retP$$.y?!0:!1;$retP$$.x/=$C_denom$$;$retP$$.y/=$C_denom$$;return!0};cc.pSegmentIntersect=function $cc$pSegmentIntersect$($A$$,$B$$,$C$$,$D$$){var $retP$$=cc.p(0,0);return cc.pLineIntersect($A$$,$B$$,$C$$,$D$$,$retP$$)&&0<=$retP$$.x&&1>=$retP$$.x&&0<=$retP$$.y&&1>=$retP$$.y?!0:!1};
cc.pIntersectPoint=function $cc$pIntersectPoint$($A$$,$B$$,$C$$,$D$$){var $retP$$=cc.p(0,0);return cc.pLineIntersect($A$$,$B$$,$C$$,$D$$,$retP$$)?($C$$=cc.p(0,0),$C$$.x=$A$$.x+$retP$$.x*($B$$.x-$A$$.x),$C$$.y=$A$$.y+$retP$$.x*($B$$.y-$A$$.y),$C$$):cc.p(0,0)};cc.pSameAs=function $cc$pSameAs$($A$$,$B$$){return null!=$A$$&&null!=$B$$?$A$$.x==$B$$.x&&$A$$.y==$B$$.y:!1};cc.pZeroIn=function $cc$pZeroIn$($v$$){$v$$.x=0;$v$$.y=0};cc.pIn=function $cc$pIn$($v1$$,$v2$$){$v1$$.x=$v2$$.x;$v1$$.y=$v2$$.y};
cc.pMultIn=function $cc$pMultIn$($point$$,$floatVar$$){$point$$.x*=$floatVar$$;$point$$.y*=$floatVar$$};cc.pSubIn=function $cc$pSubIn$($v1$$,$v2$$){$v1$$.x-=$v2$$.x;$v1$$.y-=$v2$$.y};cc.pAddIn=function $cc$pAddIn$($v1$$,$v2$$){$v1$$.x+=$v2$$.x;$v1$$.y+=$v2$$.y};cc.pNormalizeIn=function $cc$pNormalizeIn$($v$$){cc.pMultIn($v$$,1/Math.sqrt($v$$.x*$v$$.x+$v$$.y*$v$$.y))};
cc.Touch=cc.Class.extend({_point:null,_prevPoint:null,_id:0,_startPointCaptured:!1,_startPoint:null,ctor:function($x$$,$y$$,$id$$){this._point=cc.p($x$$||0,$y$$||0);this._id=$id$$||0},getLocation:function(){return{x:this._point.x,y:this._point.y}},getLocationX:function(){return this._point.x},getLocationY:function(){return this._point.y},getPreviousLocation:function(){return{x:this._prevPoint.x,y:this._prevPoint.y}},getStartLocation:function(){return{x:this._startPoint.x,y:this._startPoint.y}},getDelta:function(){return cc.pSub(this._point,
this._prevPoint)},getLocationInView:function(){return{x:this._point.x,y:this._point.y}},getPreviousLocationInView:function(){return{x:this._prevPoint.x,y:this._prevPoint.y}},getStartLocationInView:function(){return{x:this._startPoint.x,y:this._startPoint.y}},getID:function(){return this._id},getId:function(){cc.log("getId is deprecated. Please use getID instead.");return this._id},setTouchInfo:function($id$$,$x$$,$y$$){this._prevPoint=this._point;this._point=cc.p($x$$||0,$y$$||0);this._id=$id$$;this._startPointCaptured||
(this._startPoint=cc.p(this._point),this._startPointCaptured=!0)},_setPoint:function($x$$,$y$$){void 0===$y$$?(this._point.x=$x$$.x,this._point.y=$x$$.y):(this._point.x=$x$$,this._point.y=$y$$)},_setPrevPoint:function($x$$,$y$$){this._prevPoint=void 0===$y$$?cc.p($x$$.x,$x$$.y):cc.p($x$$||0,$y$$||0)}});
cc.Event=cc.Class.extend({_type:0,_isStopped:!1,_currentTarget:null,_setCurrentTarget:function($target$$){this._currentTarget=$target$$},ctor:function($type$$){this._type=$type$$},getType:function(){return this._type},stopPropagation:function(){this._isStopped=!0},isStopped:function(){return this._isStopped},getCurrentTarget:function(){return this._currentTarget}});cc.Event.TOUCH=0;cc.Event.KEYBOARD=1;cc.Event.ACCELERATION=2;cc.Event.MOUSE=3;cc.Event.CUSTOM=4;
cc.EventCustom=cc.Event.extend({_eventName:null,_userData:null,ctor:function($eventName$$){cc.Event.prototype.ctor.call(this,cc.Event.CUSTOM);this._eventName=$eventName$$},setUserData:function($data$$){this._userData=$data$$},getUserData:function(){return this._userData},getEventName:function(){return this._eventName}});
cc.EventMouse=cc.Event.extend({_eventType:0,_button:0,_x:0,_y:0,_prevX:0,_prevY:0,_scrollX:0,_scrollY:0,ctor:function($eventType$$){cc.Event.prototype.ctor.call(this,cc.Event.MOUSE);this._eventType=$eventType$$},setScrollData:function($scrollX$$,$scrollY$$){this._scrollX=$scrollX$$;this._scrollY=$scrollY$$},getScrollX:function(){return this._scrollX},getScrollY:function(){return this._scrollY},setLocation:function($x$$,$y$$){this._x=$x$$;this._y=$y$$},getLocation:function(){return{x:this._x,y:this._y}},
getLocationInView:function(){return{x:this._x,y:cc.view._designResolutionSize.height-this._y}},_setPrevCursor:function($x$$,$y$$){this._prevX=$x$$;this._prevY=$y$$},getDelta:function(){return{x:this._x-this._prevX,y:this._y-this._prevY}},getDeltaX:function(){return this._x-this._prevX},getDeltaY:function(){return this._y-this._prevY},setButton:function($button$$){this._button=$button$$},getButton:function(){return this._button},getLocationX:function(){return this._x},getLocationY:function(){return this._y}});
cc.EventMouse.NONE=0;cc.EventMouse.DOWN=1;cc.EventMouse.UP=2;cc.EventMouse.MOVE=3;cc.EventMouse.SCROLL=4;cc.EventMouse.BUTTON_LEFT=0;cc.EventMouse.BUTTON_RIGHT=2;cc.EventMouse.BUTTON_MIDDLE=1;cc.EventMouse.BUTTON_4=3;cc.EventMouse.BUTTON_5=4;cc.EventMouse.BUTTON_6=5;cc.EventMouse.BUTTON_7=6;cc.EventMouse.BUTTON_8=7;
cc.EventTouch=cc.Event.extend({_eventCode:0,_touches:null,ctor:function($arr$$){cc.Event.prototype.ctor.call(this,cc.Event.TOUCH);this._touches=$arr$$||[]},getEventCode:function(){return this._eventCode},getTouches:function(){return this._touches},_setEventCode:function($eventCode$$){this._eventCode=$eventCode$$},_setTouches:function($touches$$){this._touches=$touches$$}});cc.EventTouch.MAX_TOUCHES=5;cc.EventTouch.EventCode={BEGAN:0,MOVED:1,ENDED:2,CANCELLED:3};
cc.EventListener=cc.Class.extend({_onEvent:null,_type:0,_listenerID:null,_registered:!1,_fixedPriority:0,_node:null,_paused:!0,_isEnabled:!0,ctor:function($type$$,$listenerID$$,$callback$$){this._onEvent=$callback$$;this._type=$type$$||0;this._listenerID=$listenerID$$||""},_setPaused:function($paused$$){this._paused=$paused$$},_isPaused:function(){return this._paused},_setRegistered:function($registered$$){this._registered=$registered$$},_isRegistered:function(){return this._registered},_getType:function(){return this._type},
_getListenerID:function(){return this._listenerID},_setFixedPriority:function($fixedPriority$$){this._fixedPriority=$fixedPriority$$},_getFixedPriority:function(){return this._fixedPriority},_setSceneGraphPriority:function($node$$){this._node=$node$$},_getSceneGraphPriority:function(){return this._node},checkAvailable:function(){return null!=this._onEvent},clone:function(){return null},setEnabled:function($enabled$$){this._isEnabled=$enabled$$},isEnabled:function(){return this._isEnabled},retain:function(){},
release:function(){}});cc.EventListener.UNKNOWN=0;cc.EventListener.TOUCH_ONE_BY_ONE=1;cc.EventListener.TOUCH_ALL_AT_ONCE=2;cc.EventListener.KEYBOARD=3;cc.EventListener.MOUSE=4;cc.EventListener.ACCELERATION=5;cc.EventListener.CUSTOM=6;
cc._EventListenerCustom=cc.EventListener.extend({_onCustomEvent:null,ctor:function($listenerId$$,$callback$$){this._onCustomEvent=$callback$$;var $selfPointer$$=this;cc.EventListener.prototype.ctor.call(this,cc.EventListener.CUSTOM,$listenerId$$,function($event$$){null!=$selfPointer$$._onCustomEvent&&$selfPointer$$._onCustomEvent($event$$)})},checkAvailable:function(){return cc.EventListener.prototype.checkAvailable.call(this)&&null!=this._onCustomEvent},clone:function(){return new cc._EventListenerCustom(this._listenerID,
this._onCustomEvent)}});cc._EventListenerCustom.create=function $cc$_EventListenerCustom$create$($eventName$$,$callback$$){return new cc._EventListenerCustom($eventName$$,$callback$$)};
cc._EventListenerMouse=cc.EventListener.extend({onMouseDown:null,onMouseUp:null,onMouseMove:null,onMouseScroll:null,ctor:function(){var $selfPointer$$=this;cc.EventListener.prototype.ctor.call(this,cc.EventListener.MOUSE,cc._EventListenerMouse.LISTENER_ID,function($event$$){var $eventType$$=cc.EventMouse;switch($event$$._eventType){case $eventType$$.DOWN:if($selfPointer$$.onMouseDown)$selfPointer$$.onMouseDown($event$$);break;case $eventType$$.UP:if($selfPointer$$.onMouseUp)$selfPointer$$.onMouseUp($event$$);
break;case $eventType$$.MOVE:if($selfPointer$$.onMouseMove)$selfPointer$$.onMouseMove($event$$);break;case $eventType$$.SCROLL:if($selfPointer$$.onMouseScroll)$selfPointer$$.onMouseScroll($event$$)}})},clone:function(){var $eventListener$$=new cc._EventListenerMouse;$eventListener$$.onMouseDown=this.onMouseDown;$eventListener$$.onMouseUp=this.onMouseUp;$eventListener$$.onMouseMove=this.onMouseMove;$eventListener$$.onMouseScroll=this.onMouseScroll;return $eventListener$$},checkAvailable:function(){return!0}});
cc._EventListenerMouse.LISTENER_ID="__cc_mouse";cc._EventListenerMouse.create=function $cc$_EventListenerMouse$create$(){return new cc._EventListenerMouse};
cc._EventListenerTouchOneByOne=cc.EventListener.extend({_claimedTouches:null,swallowTouches:!1,onTouchBegan:null,onTouchMoved:null,onTouchEnded:null,onTouchCancelled:null,ctor:function(){cc.EventListener.prototype.ctor.call(this,cc.EventListener.TOUCH_ONE_BY_ONE,cc._EventListenerTouchOneByOne.LISTENER_ID,null);this._claimedTouches=[]},setSwallowTouches:function($needSwallow$$){this.swallowTouches=$needSwallow$$},clone:function(){var $eventListener$$=new cc._EventListenerTouchOneByOne;$eventListener$$.onTouchBegan=
this.onTouchBegan;$eventListener$$.onTouchMoved=this.onTouchMoved;$eventListener$$.onTouchEnded=this.onTouchEnded;$eventListener$$.onTouchCancelled=this.onTouchCancelled;$eventListener$$.swallowTouches=this.swallowTouches;return $eventListener$$},checkAvailable:function(){return this.onTouchBegan?!0:(cc.log(cc._LogInfos._EventListenerTouchOneByOne_checkAvailable),!1)}});cc._EventListenerTouchOneByOne.LISTENER_ID="__cc_touch_one_by_one";cc._EventListenerTouchOneByOne.create=function $cc$_EventListenerTouchOneByOne$create$(){return new cc._EventListenerTouchOneByOne};
cc._EventListenerTouchAllAtOnce=cc.EventListener.extend({onTouchesBegan:null,onTouchesMoved:null,onTouchesEnded:null,onTouchesCancelled:null,ctor:function(){cc.EventListener.prototype.ctor.call(this,cc.EventListener.TOUCH_ALL_AT_ONCE,cc._EventListenerTouchAllAtOnce.LISTENER_ID,null)},clone:function(){var $eventListener$$=new cc._EventListenerTouchAllAtOnce;$eventListener$$.onTouchesBegan=this.onTouchesBegan;$eventListener$$.onTouchesMoved=this.onTouchesMoved;$eventListener$$.onTouchesEnded=this.onTouchesEnded;
$eventListener$$.onTouchesCancelled=this.onTouchesCancelled;return $eventListener$$},checkAvailable:function(){return null==this.onTouchesBegan&&null==this.onTouchesMoved&&null==this.onTouchesEnded&&null==this.onTouchesCancelled?(cc.log(cc._LogInfos._EventListenerTouchAllAtOnce_checkAvailable),!1):!0}});cc._EventListenerTouchAllAtOnce.LISTENER_ID="__cc_touch_all_at_once";cc._EventListenerTouchAllAtOnce.create=function $cc$_EventListenerTouchAllAtOnce$create$(){return new cc._EventListenerTouchAllAtOnce};
cc.EventListener.create=function $cc$EventListener$create$($argObj$$){cc.assert($argObj$$&&$argObj$$.event,cc._LogInfos.EventListener_create);var $listenerType$$=$argObj$$.event;delete $argObj$$.event;var $listener$$=null;$listenerType$$===cc.EventListener.TOUCH_ONE_BY_ONE?$listener$$=new cc._EventListenerTouchOneByOne:$listenerType$$===cc.EventListener.TOUCH_ALL_AT_ONCE?$listener$$=new cc._EventListenerTouchAllAtOnce:$listenerType$$===cc.EventListener.MOUSE?$listener$$=new cc._EventListenerMouse:
$listenerType$$===cc.EventListener.CUSTOM?($listener$$=new cc._EventListenerCustom($argObj$$.eventName,$argObj$$.callback),delete $argObj$$.eventName,delete $argObj$$.callback):$listenerType$$===cc.EventListener.KEYBOARD?$listener$$=new cc._EventListenerKeyboard:$listenerType$$===cc.EventListener.ACCELERATION&&($listener$$=new cc._EventListenerAcceleration($argObj$$.callback),delete $argObj$$.callback);for(var $key$$ in $argObj$$)$listener$$[$key$$]=$argObj$$[$key$$];return $listener$$};
cc._EventListenerVector=cc.Class.extend({_fixedListeners:null,_sceneGraphListeners:null,gt0Index:0,ctor:function(){this._fixedListeners=[];this._sceneGraphListeners=[]},size:function(){return this._fixedListeners.length+this._sceneGraphListeners.length},empty:function(){return 0===this._fixedListeners.length&&0===this._sceneGraphListeners.length},push:function($listener$$){0==$listener$$._getFixedPriority()?this._sceneGraphListeners.push($listener$$):this._fixedListeners.push($listener$$)},clearSceneGraphListeners:function(){this._sceneGraphListeners.length=
0},clearFixedListeners:function(){this._fixedListeners.length=0},clear:function(){this._sceneGraphListeners.length=0;this._fixedListeners.length=0},getFixedPriorityListeners:function(){return this._fixedListeners},getSceneGraphPriorityListeners:function(){return this._sceneGraphListeners}});
cc.__getListenerID=function $cc$__getListenerID$($event$$){var $eventType$$=cc.Event,$getType$$=$event$$.getType();if($getType$$===$eventType$$.ACCELERATION)return cc._EventListenerAcceleration.LISTENER_ID;if($getType$$===$eventType$$.CUSTOM)return $event$$.getEventName();if($getType$$===$eventType$$.KEYBOARD)return cc._EventListenerKeyboard.LISTENER_ID;if($getType$$===$eventType$$.MOUSE)return cc._EventListenerMouse.LISTENER_ID;$getType$$===$eventType$$.TOUCH&&cc.log(cc._LogInfos.__getListenerID);
return""};
cc.eventManager={DIRTY_NONE:0,DIRTY_FIXED_PRIORITY:1,DIRTY_SCENE_GRAPH_PRIORITY:2,DIRTY_ALL:3,_listenersMap:{},_priorityDirtyFlagMap:{},_nodeListenersMap:{},_nodePriorityMap:{},_globalZOrderNodeMap:{},_toAddedListeners:[],_dirtyNodes:[],_inDispatch:0,_isEnabled:!1,_nodePriorityIndex:0,_internalCustomListenerIDs:[cc.game.EVENT_HIDE,cc.game.EVENT_SHOW],_setDirtyForNode:function $cc$eventManager$_setDirtyForNode$($_children_node$$){null!=this._nodeListenersMap[$_children_node$$.__instanceId]&&this._dirtyNodes.push($_children_node$$);
$_children_node$$=$_children_node$$.getChildren();for(var $i$$=0,$len$$=$_children_node$$.length;$i$$<$len$$;$i$$++)this._setDirtyForNode($_children_node$$[$i$$])},pauseTarget:function $cc$eventManager$pauseTarget$($node$$,$recursive$$){var $listeners_locChildren$$=this._nodeListenersMap[$node$$.__instanceId],$i$$,$len$$;if($listeners_locChildren$$)for($i$$=0,$len$$=$listeners_locChildren$$.length;$i$$<$len$$;$i$$++)$listeners_locChildren$$[$i$$]._setPaused(!0);if(!0===$recursive$$)for($listeners_locChildren$$=
$node$$.getChildren(),$i$$=0,$len$$=$listeners_locChildren$$.length;$i$$<$len$$;$i$$++)this.pauseTarget($listeners_locChildren$$[$i$$],!0)},resumeTarget:function $cc$eventManager$resumeTarget$($node$$,$recursive$$){var $listeners$$1_locChildren$$=this._nodeListenersMap[$node$$.__instanceId],$i$$,$len$$;if($listeners$$1_locChildren$$)for($i$$=0,$len$$=$listeners$$1_locChildren$$.length;$i$$<$len$$;$i$$++)$listeners$$1_locChildren$$[$i$$]._setPaused(!1);this._setDirtyForNode($node$$);if(!0===$recursive$$)for($listeners$$1_locChildren$$=
$node$$.getChildren(),$i$$=0,$len$$=$listeners$$1_locChildren$$.length;$i$$<$len$$;$i$$++)this.resumeTarget($listeners$$1_locChildren$$[$i$$],!0)},_addListener:function $cc$eventManager$_addListener$($listener$$){0===this._inDispatch?this._forceAddEventListener($listener$$):this._toAddedListeners.push($listener$$)},_forceAddEventListener:function $cc$eventManager$_forceAddEventListener$($listener$$){var $listenerID$$1_node$$=$listener$$._getListenerID(),$listeners$$=this._listenersMap[$listenerID$$1_node$$];
$listeners$$||($listeners$$=new cc._EventListenerVector,this._listenersMap[$listenerID$$1_node$$]=$listeners$$);$listeners$$.push($listener$$);0==$listener$$._getFixedPriority()?(this._setDirty($listenerID$$1_node$$,this.DIRTY_SCENE_GRAPH_PRIORITY),$listenerID$$1_node$$=$listener$$._getSceneGraphPriority(),null==$listenerID$$1_node$$&&cc.log(cc._LogInfos.eventManager__forceAddEventListener),this._associateNodeAndEventListener($listenerID$$1_node$$,$listener$$),$listenerID$$1_node$$.isRunning()&&this.resumeTarget($listenerID$$1_node$$)):
this._setDirty($listenerID$$1_node$$,this.DIRTY_FIXED_PRIORITY)},_getListeners:function $cc$eventManager$_getListeners$($listenerID$$){return this._listenersMap[$listenerID$$]},_updateDirtyFlagForSceneGraph:function $cc$eventManager$_updateDirtyFlagForSceneGraph$(){if(0!=this._dirtyNodes.length){for(var $locDirtyNodes$$=this._dirtyNodes,$selListeners$$,$selListener$$,$locNodeListenersMap$$=this._nodeListenersMap,$i$$=0,$len$$=$locDirtyNodes$$.length;$i$$<$len$$;$i$$++)if($selListeners$$=$locNodeListenersMap$$[$locDirtyNodes$$[$i$$].__instanceId])for(var $j$$=
0,$listenersLen$$=$selListeners$$.length;$j$$<$listenersLen$$;$j$$++)($selListener$$=$selListeners$$[$j$$])&&this._setDirty($selListener$$._getListenerID(),this.DIRTY_SCENE_GRAPH_PRIORITY);this._dirtyNodes.length=0}},_removeAllListenersInVector:function $cc$eventManager$_removeAllListenersInVector$($listenerVector$$){if($listenerVector$$)for(var $selListener$$,$i$$=0;$i$$<$listenerVector$$.length;)$selListener$$=$listenerVector$$[$i$$],$selListener$$._setRegistered(!1),null!=$selListener$$._getSceneGraphPriority()&&
(this._dissociateNodeAndEventListener($selListener$$._getSceneGraphPriority(),$selListener$$),$selListener$$._setSceneGraphPriority(null)),0===this._inDispatch?cc.arrayRemoveObject($listenerVector$$,$selListener$$):++$i$$},_removeListenersForListenerID:function $cc$eventManager$_removeListenersForListenerID$($listenerID$$){var $i$$52_listeners$$=this._listenersMap[$listenerID$$];if($i$$52_listeners$$){var $fixedPriorityListeners_locToAddedListeners$$=$i$$52_listeners$$.getFixedPriorityListeners(),
$listener$$=$i$$52_listeners$$.getSceneGraphPriorityListeners();this._removeAllListenersInVector($listener$$);this._removeAllListenersInVector($fixedPriorityListeners_locToAddedListeners$$);delete this._priorityDirtyFlagMap[$listenerID$$];this._inDispatch||($i$$52_listeners$$.clear(),delete this._listenersMap[$listenerID$$])}$fixedPriorityListeners_locToAddedListeners$$=this._toAddedListeners;for($i$$52_listeners$$=0;$i$$52_listeners$$<$fixedPriorityListeners_locToAddedListeners$$.length;)($listener$$=
$fixedPriorityListeners_locToAddedListeners$$[$i$$52_listeners$$])&&$listener$$._getListenerID()==$listenerID$$?cc.arrayRemoveObject($fixedPriorityListeners_locToAddedListeners$$,$listener$$):++$i$$52_listeners$$},_sortEventListeners:function $cc$eventManager$_sortEventListeners$($listenerID$$){var $dirtyFlag_rootNode$$=this.DIRTY_NONE,$locFlagMap$$=this._priorityDirtyFlagMap;$locFlagMap$$[$listenerID$$]&&($dirtyFlag_rootNode$$=$locFlagMap$$[$listenerID$$]);$dirtyFlag_rootNode$$!=this.DIRTY_NONE&&
($locFlagMap$$[$listenerID$$]=this.DIRTY_NONE,$dirtyFlag_rootNode$$&this.DIRTY_FIXED_PRIORITY&&this._sortListenersOfFixedPriority($listenerID$$),$dirtyFlag_rootNode$$&this.DIRTY_SCENE_GRAPH_PRIORITY&&(($dirtyFlag_rootNode$$=cc.director.getRunningScene())?this._sortListenersOfSceneGraphPriority($listenerID$$,$dirtyFlag_rootNode$$):$locFlagMap$$[$listenerID$$]=this.DIRTY_SCENE_GRAPH_PRIORITY))},_sortListenersOfSceneGraphPriority:function $cc$eventManager$_sortListenersOfSceneGraphPriority$($listenerID$$,
$rootNode$$){var $listeners$$=this._getListeners($listenerID$$);if($listeners$$){var $sceneGraphListener$$=$listeners$$.getSceneGraphPriorityListeners();$sceneGraphListener$$&&0!==$sceneGraphListener$$.length&&(this._nodePriorityIndex=0,this._nodePriorityMap={},this._visitTarget($rootNode$$,!0),$listeners$$.getSceneGraphPriorityListeners().sort(this._sortEventListenersOfSceneGraphPriorityDes))}},_sortEventListenersOfSceneGraphPriorityDes:function $cc$eventManager$_sortEventListenersOfSceneGraphPriorityDes$($l1$$,
$l2$$){var $locNodePriorityMap$$=cc.eventManager._nodePriorityMap;return $l1$$&&$l2$$&&$l1$$._getSceneGraphPriority()&&$l2$$._getSceneGraphPriority()?$locNodePriorityMap$$[$l2$$._getSceneGraphPriority().__instanceId]-$locNodePriorityMap$$[$l1$$._getSceneGraphPriority().__instanceId]:-1},_sortListenersOfFixedPriority:function $cc$eventManager$_sortListenersOfFixedPriority$($listenerID$$6_listeners$$){if($listenerID$$6_listeners$$=this._listenersMap[$listenerID$$6_listeners$$]){var $fixedListeners$$=
$listenerID$$6_listeners$$.getFixedPriorityListeners();if($fixedListeners$$&&0!==$fixedListeners$$.length){$fixedListeners$$.sort(this._sortListenersOfFixedPriorityAsc);for(var $index$$=0,$len$$=$fixedListeners$$.length;$index$$<$len$$&&!(0<=$fixedListeners$$[$index$$]._getFixedPriority());)++$index$$;$listenerID$$6_listeners$$.gt0Index=$index$$}}},_sortListenersOfFixedPriorityAsc:function $cc$eventManager$_sortListenersOfFixedPriorityAsc$($l1$$,$l2$$){return $l1$$._getFixedPriority()-$l2$$._getFixedPriority()},
_onUpdateListeners:function $cc$eventManager$_onUpdateListeners$($listenerID$$7_listeners$$){if($listenerID$$7_listeners$$=this._listenersMap[$listenerID$$7_listeners$$]){var $fixedPriorityListeners$$=$listenerID$$7_listeners$$.getFixedPriorityListeners(),$sceneGraphPriorityListeners$$=$listenerID$$7_listeners$$.getSceneGraphPriorityListeners(),$i$$,$selListener$$;if($sceneGraphPriorityListeners$$)for($i$$=0;$i$$<$sceneGraphPriorityListeners$$.length;)$selListener$$=$sceneGraphPriorityListeners$$[$i$$],
$selListener$$._isRegistered()?++$i$$:cc.arrayRemoveObject($sceneGraphPriorityListeners$$,$selListener$$);if($fixedPriorityListeners$$)for($i$$=0;$i$$<$fixedPriorityListeners$$.length;)$selListener$$=$fixedPriorityListeners$$[$i$$],$selListener$$._isRegistered()?++$i$$:cc.arrayRemoveObject($fixedPriorityListeners$$,$selListener$$);$sceneGraphPriorityListeners$$&&0===$sceneGraphPriorityListeners$$.length&&$listenerID$$7_listeners$$.clearSceneGraphListeners();$fixedPriorityListeners$$&&0===$fixedPriorityListeners$$.length&&
$listenerID$$7_listeners$$.clearFixedListeners()}},_updateListeners:function $cc$eventManager$_updateListeners$($event$$17_i$$){var $len$$=this._inDispatch;cc.assert(0<$len$$,cc._LogInfos.EventManager__updateListeners);$event$$17_i$$.getType()==cc.Event.TOUCH?(this._onUpdateListeners(cc._EventListenerTouchOneByOne.LISTENER_ID),this._onUpdateListeners(cc._EventListenerTouchAllAtOnce.LISTENER_ID)):this._onUpdateListeners(cc.__getListenerID($event$$17_i$$));if(!(1<$len$$)){cc.assert(1==$len$$,cc._LogInfos.EventManager__updateListeners_2);
$event$$17_i$$=this._listenersMap;var $len$$=this._priorityDirtyFlagMap,$locToAddedListeners$$1_selKey$$;for($locToAddedListeners$$1_selKey$$ in $event$$17_i$$)$event$$17_i$$[$locToAddedListeners$$1_selKey$$].empty()&&(delete $len$$[$locToAddedListeners$$1_selKey$$],delete $event$$17_i$$[$locToAddedListeners$$1_selKey$$]);$locToAddedListeners$$1_selKey$$=this._toAddedListeners;if(0!==$locToAddedListeners$$1_selKey$$.length){$event$$17_i$$=0;for($len$$=$locToAddedListeners$$1_selKey$$.length;$event$$17_i$$<
$len$$;$event$$17_i$$++)this._forceAddEventListener($locToAddedListeners$$1_selKey$$[$event$$17_i$$]);this._toAddedListeners.length=0}}},_onTouchEventCallback:function $cc$eventManager$_onTouchEventCallback$($listener$$,$argsObj$$){if(!$listener$$._isRegistered)return!1;var $event$$=$argsObj$$.event,$selTouch$$=$argsObj$$.selTouch;$event$$._setCurrentTarget($listener$$._node);var $isClaimed$$=!1,$removedIdx$$,$getCode$$=$event$$.getEventCode(),$eventCode$$=cc.EventTouch.EventCode;if($getCode$$==$eventCode$$.BEGAN)$listener$$.onTouchBegan&&
($isClaimed$$=$listener$$.onTouchBegan($selTouch$$,$event$$))&&$listener$$._registered&&$listener$$._claimedTouches.push($selTouch$$);else if(0<$listener$$._claimedTouches.length&&-1!=($removedIdx$$=$listener$$._claimedTouches.indexOf($selTouch$$)))if($isClaimed$$=!0,$getCode$$===$eventCode$$.MOVED&&$listener$$.onTouchMoved)$listener$$.onTouchMoved($selTouch$$,$event$$);else if($getCode$$===$eventCode$$.ENDED){if($listener$$.onTouchEnded)$listener$$.onTouchEnded($selTouch$$,$event$$);$listener$$._registered&&
$listener$$._claimedTouches.splice($removedIdx$$,1)}else if($getCode$$===$eventCode$$.CANCELLED){if($listener$$.onTouchCancelled)$listener$$.onTouchCancelled($selTouch$$,$event$$);$listener$$._registered&&$listener$$._claimedTouches.splice($removedIdx$$,1)}return $event$$.isStopped()?(cc.eventManager._updateListeners($event$$),!0):$isClaimed$$&&$listener$$._registered&&$listener$$.swallowTouches?($argsObj$$.needsMutableSet&&$argsObj$$.touches.splice($selTouch$$,1),!0):!1},_dispatchTouchEvent:function $cc$eventManager$_dispatchTouchEvent$($event$$){this._sortEventListeners(cc._EventListenerTouchOneByOne.LISTENER_ID);
this._sortEventListeners(cc._EventListenerTouchAllAtOnce.LISTENER_ID);var $oneByOneListeners$$=this._getListeners(cc._EventListenerTouchOneByOne.LISTENER_ID),$allAtOnceListeners$$=this._getListeners(cc._EventListenerTouchAllAtOnce.LISTENER_ID);if(null!=$oneByOneListeners$$||null!=$allAtOnceListeners$$){var $originalTouches$$=$event$$.getTouches(),$mutableTouches$$=cc.copyArray($originalTouches$$),$oneByOneArgsObj$$={event:$event$$,needsMutableSet:$oneByOneListeners$$&&$allAtOnceListeners$$,touches:$mutableTouches$$,
selTouch:null};if($oneByOneListeners$$)for(var $i$$=0;$i$$<$originalTouches$$.length;$i$$++)if($oneByOneArgsObj$$.selTouch=$originalTouches$$[$i$$],this._dispatchEventToListeners($oneByOneListeners$$,this._onTouchEventCallback,$oneByOneArgsObj$$),$event$$.isStopped())return;if($allAtOnceListeners$$&&0<$mutableTouches$$.length&&(this._dispatchEventToListeners($allAtOnceListeners$$,this._onTouchesEventCallback,{event:$event$$,touches:$mutableTouches$$}),$event$$.isStopped()))return;this._updateListeners($event$$)}},
_onTouchesEventCallback:function $cc$eventManager$_onTouchesEventCallback$($listener$$,$callbackParams$$){if(!$listener$$._registered)return!1;var $eventCode$$=cc.EventTouch.EventCode,$event$$=$callbackParams$$.event,$touches$$=$callbackParams$$.touches,$getCode$$=$event$$.getEventCode();$event$$._setCurrentTarget($listener$$._node);if($getCode$$==$eventCode$$.BEGAN&&$listener$$.onTouchesBegan)$listener$$.onTouchesBegan($touches$$,$event$$);else if($getCode$$==$eventCode$$.MOVED&&$listener$$.onTouchesMoved)$listener$$.onTouchesMoved($touches$$,
$event$$);else if($getCode$$==$eventCode$$.ENDED&&$listener$$.onTouchesEnded)$listener$$.onTouchesEnded($touches$$,$event$$);else if($getCode$$==$eventCode$$.CANCELLED&&$listener$$.onTouchesCancelled)$listener$$.onTouchesCancelled($touches$$,$event$$);return $event$$.isStopped()?(cc.eventManager._updateListeners($event$$),!0):!1},_associateNodeAndEventListener:function $cc$eventManager$_associateNodeAndEventListener$($node$$,$listener$$){var $listeners$$=this._nodeListenersMap[$node$$.__instanceId];
$listeners$$||($listeners$$=[],this._nodeListenersMap[$node$$.__instanceId]=$listeners$$);$listeners$$.push($listener$$)},_dissociateNodeAndEventListener:function $cc$eventManager$_dissociateNodeAndEventListener$($node$$,$listener$$){var $listeners$$=this._nodeListenersMap[$node$$.__instanceId];$listeners$$&&(cc.arrayRemoveObject($listeners$$,$listener$$),0===$listeners$$.length&&delete this._nodeListenersMap[$node$$.__instanceId])},_dispatchEventToListeners:function $cc$eventManager$_dispatchEventToListeners$($j$$2_listeners$$,
$onEvent$$,$eventOrArgs$$){var $shouldStopPropagation$$=!1,$fixedPriorityListeners$$=$j$$2_listeners$$.getFixedPriorityListeners(),$sceneGraphPriorityListeners$$=$j$$2_listeners$$.getSceneGraphPriorityListeners(),$i$$=0,$selListener$$;if($fixedPriorityListeners$$&&0!==$fixedPriorityListeners$$.length)for(;$i$$<$j$$2_listeners$$.gt0Index;++$i$$)if($selListener$$=$fixedPriorityListeners$$[$i$$],$selListener$$.isEnabled()&&!$selListener$$._isPaused()&&$selListener$$._isRegistered()&&$onEvent$$($selListener$$,
$eventOrArgs$$)){$shouldStopPropagation$$=!0;break}if($sceneGraphPriorityListeners$$&&!$shouldStopPropagation$$)for($j$$2_listeners$$=0;$j$$2_listeners$$<$sceneGraphPriorityListeners$$.length;$j$$2_listeners$$++)if($selListener$$=$sceneGraphPriorityListeners$$[$j$$2_listeners$$],$selListener$$.isEnabled()&&!$selListener$$._isPaused()&&$selListener$$._isRegistered()&&$onEvent$$($selListener$$,$eventOrArgs$$)){$shouldStopPropagation$$=!0;break}if($fixedPriorityListeners$$&&!$shouldStopPropagation$$)for(;$i$$<
$fixedPriorityListeners$$.length&&($selListener$$=$fixedPriorityListeners$$[$i$$],!$selListener$$.isEnabled()||$selListener$$._isPaused()||!$selListener$$._isRegistered()||!$onEvent$$($selListener$$,$eventOrArgs$$));++$i$$);},_setDirty:function $cc$eventManager$_setDirty$($listenerID$$,$flag$$){var $locDirtyFlagMap$$=this._priorityDirtyFlagMap;$locDirtyFlagMap$$[$listenerID$$]=null==$locDirtyFlagMap$$[$listenerID$$]?$flag$$:$flag$$|$locDirtyFlagMap$$[$listenerID$$]},_visitTarget:function $cc$eventManager$_visitTarget$($node$$,
$isRootNode$$){var $children$$=$node$$.getChildren(),$i$$=0,$childrenCount_selZOrders$$=$children$$.length,$locGlobalZOrderNodeMap$$=this._globalZOrderNodeMap,$j$$3_locNodeListenersMap$$=this._nodeListenersMap;if(0<$childrenCount_selZOrders$$){for(var $child$$4_locNodePriorityMap$$;$i$$<$childrenCount_selZOrders$$;$i$$++)if(($child$$4_locNodePriorityMap$$=$children$$[$i$$])&&0>$child$$4_locNodePriorityMap$$.getLocalZOrder())this._visitTarget($child$$4_locNodePriorityMap$$,!1);else break;null!=$j$$3_locNodeListenersMap$$[$node$$.__instanceId]&&
($locGlobalZOrderNodeMap$$[$node$$.getGlobalZOrder()]||($locGlobalZOrderNodeMap$$[$node$$.getGlobalZOrder()]=[]),$locGlobalZOrderNodeMap$$[$node$$.getGlobalZOrder()].push($node$$.__instanceId));for(;$i$$<$childrenCount_selZOrders$$;$i$$++)($child$$4_locNodePriorityMap$$=$children$$[$i$$])&&this._visitTarget($child$$4_locNodePriorityMap$$,!1)}else null!=$j$$3_locNodeListenersMap$$[$node$$.__instanceId]&&($locGlobalZOrderNodeMap$$[$node$$.getGlobalZOrder()]||($locGlobalZOrderNodeMap$$[$node$$.getGlobalZOrder()]=
[]),$locGlobalZOrderNodeMap$$[$node$$.getGlobalZOrder()].push($node$$.__instanceId));if($isRootNode$$){var $children$$=[],$selKey$$;for($selKey$$ in $locGlobalZOrderNodeMap$$)$children$$.push($selKey$$);$children$$.sort(this._sortNumberAsc);$selKey$$=$children$$.length;$child$$4_locNodePriorityMap$$=this._nodePriorityMap;for($i$$=0;$i$$<$selKey$$;$i$$++)for($childrenCount_selZOrders$$=$locGlobalZOrderNodeMap$$[$children$$[$i$$]],$j$$3_locNodeListenersMap$$=0;$j$$3_locNodeListenersMap$$<$childrenCount_selZOrders$$.length;$j$$3_locNodeListenersMap$$++)$child$$4_locNodePriorityMap$$[$childrenCount_selZOrders$$[$j$$3_locNodeListenersMap$$]]=
++this._nodePriorityIndex;this._globalZOrderNodeMap={}}},_sortNumberAsc:function $cc$eventManager$_sortNumberAsc$($a$$,$b$$){return $a$$-$b$$},addListener:function $cc$eventManager$addListener$($listener$$,$nodeOrPriority$$){cc.assert($listener$$&&$nodeOrPriority$$,cc._LogInfos.eventManager_addListener_2);if(!($listener$$ instanceof cc.EventListener))cc.assert(!cc.isNumber($nodeOrPriority$$),cc._LogInfos.eventManager_addListener_3),$listener$$=cc.EventListener.create($listener$$);else if($listener$$._isRegistered()){cc.log(cc._LogInfos.eventManager_addListener_4);
return}if($listener$$.checkAvailable()){if(cc.isNumber($nodeOrPriority$$)){if(0==$nodeOrPriority$$){cc.log(cc._LogInfos.eventManager_addListener);return}$listener$$._setSceneGraphPriority(null);$listener$$._setFixedPriority($nodeOrPriority$$);$listener$$._setRegistered(!0);$listener$$._setPaused(!1)}else $listener$$._setSceneGraphPriority($nodeOrPriority$$),$listener$$._setFixedPriority(0),$listener$$._setRegistered(!0);this._addListener($listener$$);return $listener$$}},addCustomListener:function $cc$eventManager$addCustomListener$($eventName$$,
$callback$$){var $listener$$=new cc._EventListenerCustom($eventName$$,$callback$$);this.addListener($listener$$,1);return $listener$$},removeListener:function $cc$eventManager$removeListener$($listener$$){if(null!=$listener$$){var $isFound_sceneGraphPriorityListeners$$,$locListener_locToAddedListeners$$=this._listenersMap,$i$$58_selKey$$;for($i$$58_selKey$$ in $locListener_locToAddedListeners$$){var $len$$19_listeners$$=$locListener_locToAddedListeners$$[$i$$58_selKey$$],$fixedPriorityListeners$$3_selListener$$=
$len$$19_listeners$$.getFixedPriorityListeners();$isFound_sceneGraphPriorityListeners$$=$len$$19_listeners$$.getSceneGraphPriorityListeners();($isFound_sceneGraphPriorityListeners$$=this._removeListenerInVector($isFound_sceneGraphPriorityListeners$$,$listener$$))?this._setDirty($listener$$._getListenerID(),this.DIRTY_SCENE_GRAPH_PRIORITY):($isFound_sceneGraphPriorityListeners$$=this._removeListenerInVector($fixedPriorityListeners$$3_selListener$$,$listener$$))&&this._setDirty($listener$$._getListenerID(),
this.DIRTY_FIXED_PRIORITY);$len$$19_listeners$$.empty()&&(delete this._priorityDirtyFlagMap[$listener$$._getListenerID()],delete $locListener_locToAddedListeners$$[$i$$58_selKey$$]);if($isFound_sceneGraphPriorityListeners$$)break}if(!$isFound_sceneGraphPriorityListeners$$)for($locListener_locToAddedListeners$$=this._toAddedListeners,$i$$58_selKey$$=0,$len$$19_listeners$$=$locListener_locToAddedListeners$$.length;$i$$58_selKey$$<$len$$19_listeners$$;$i$$58_selKey$$++)if($fixedPriorityListeners$$3_selListener$$=
$locListener_locToAddedListeners$$[$i$$58_selKey$$],$fixedPriorityListeners$$3_selListener$$==$listener$$){cc.arrayRemoveObject($locListener_locToAddedListeners$$,$fixedPriorityListeners$$3_selListener$$);break}}},_removeListenerInVector:function $cc$eventManager$_removeListenerInVector$($listeners$$,$listener$$){if(null==$listeners$$)return!1;for(var $i$$=0,$len$$=$listeners$$.length;$i$$<$len$$;$i$$++){var $selListener$$=$listeners$$[$i$$];if($selListener$$==$listener$$)return $selListener$$._setRegistered(!1),
null!=$selListener$$._getSceneGraphPriority()&&(this._dissociateNodeAndEventListener($selListener$$._getSceneGraphPriority(),$selListener$$),$selListener$$._setSceneGraphPriority(null)),0==this._inDispatch&&cc.arrayRemoveObject($listeners$$,$selListener$$),!0}return!1},removeListeners:function $cc$eventManager$removeListeners$($listenerType$$,$recursive$$){if($listenerType$$ instanceof cc.Node){delete this._nodePriorityMap[$listenerType$$.__instanceId];cc.arrayRemoveObject(this._dirtyNodes,$listenerType$$);
var $i$$60_listeners$$=this._nodeListenersMap[$listenerType$$.__instanceId];if($i$$60_listeners$$){for(var $listenersCopy_locChildren$$6_locToAddedListeners$$=cc.copyArray($i$$60_listeners$$),$i$$60_listeners$$=0;$i$$60_listeners$$<$listenersCopy_locChildren$$6_locToAddedListeners$$.length;$i$$60_listeners$$++)this.removeListener($listenersCopy_locChildren$$6_locToAddedListeners$$[$i$$60_listeners$$]);$listenersCopy_locChildren$$6_locToAddedListeners$$.length=0}$listenersCopy_locChildren$$6_locToAddedListeners$$=
this._toAddedListeners;for($i$$60_listeners$$=0;$i$$60_listeners$$<$listenersCopy_locChildren$$6_locToAddedListeners$$.length;){var $len$$21_listener$$=$listenersCopy_locChildren$$6_locToAddedListeners$$[$i$$60_listeners$$];$len$$21_listener$$._getSceneGraphPriority()==$listenerType$$?($len$$21_listener$$._setSceneGraphPriority(null),$len$$21_listener$$._setRegistered(!1),$listenersCopy_locChildren$$6_locToAddedListeners$$.splice($i$$60_listeners$$,1)):++$i$$60_listeners$$}if(!0===$recursive$$)for($listenersCopy_locChildren$$6_locToAddedListeners$$=
$listenerType$$.getChildren(),$i$$60_listeners$$=0,$len$$21_listener$$=$listenersCopy_locChildren$$6_locToAddedListeners$$.length;$i$$60_listeners$$<$len$$21_listener$$;$i$$60_listeners$$++)this.removeListeners($listenersCopy_locChildren$$6_locToAddedListeners$$[$i$$60_listeners$$],!0)}else $listenerType$$==cc.EventListener.TOUCH_ONE_BY_ONE?this._removeListenersForListenerID(cc._EventListenerTouchOneByOne.LISTENER_ID):$listenerType$$==cc.EventListener.TOUCH_ALL_AT_ONCE?this._removeListenersForListenerID(cc._EventListenerTouchAllAtOnce.LISTENER_ID):
$listenerType$$==cc.EventListener.MOUSE?this._removeListenersForListenerID(cc._EventListenerMouse.LISTENER_ID):$listenerType$$==cc.EventListener.ACCELERATION?this._removeListenersForListenerID(cc._EventListenerAcceleration.LISTENER_ID):$listenerType$$==cc.EventListener.KEYBOARD?this._removeListenersForListenerID(cc._EventListenerKeyboard.LISTENER_ID):cc.log(cc._LogInfos.eventManager_removeListeners)},removeCustomListeners:function $cc$eventManager$removeCustomListeners$($customEventName$$){this._removeListenersForListenerID($customEventName$$)},
removeAllListeners:function $cc$eventManager$removeAllListeners$(){var $locListeners$$=this._listenersMap,$locInternalCustomEventIDs$$=this._internalCustomListenerIDs,$selKey$$;for($selKey$$ in $locListeners$$)-1===$locInternalCustomEventIDs$$.indexOf($selKey$$)&&this._removeListenersForListenerID($selKey$$)},setPriority:function $cc$eventManager$setPriority$($listener$$,$fixedPriority$$){if(null!=$listener$$){var $locListeners$$=this._listenersMap,$selKey$$;for($selKey$$ in $locListeners$$){var $fixedPriorityListeners$$=
$locListeners$$[$selKey$$].getFixedPriorityListeners();if($fixedPriorityListeners$$&&-1!=$fixedPriorityListeners$$.indexOf($listener$$)){null!=$listener$$._getSceneGraphPriority()&&cc.log(cc._LogInfos.eventManager_setPriority);$listener$$._getFixedPriority()!==$fixedPriority$$&&($listener$$._setFixedPriority($fixedPriority$$),this._setDirty($listener$$._getListenerID(),this.DIRTY_FIXED_PRIORITY));break}}}},setEnabled:function $cc$eventManager$setEnabled$($enabled$$){this._isEnabled=$enabled$$},isEnabled:function $cc$eventManager$isEnabled$(){return this._isEnabled},
dispatchEvent:function $cc$eventManager$dispatchEvent$($event$$){if(this._isEnabled){this._updateDirtyFlagForSceneGraph();this._inDispatch++;if(!$event$$||!$event$$.getType)throw"event is undefined";if($event$$.getType()==cc.Event.TOUCH)this._dispatchTouchEvent($event$$);else{var $listenerID$$9_selListeners$$=cc.__getListenerID($event$$);this._sortEventListeners($listenerID$$9_selListeners$$);$listenerID$$9_selListeners$$=this._listenersMap[$listenerID$$9_selListeners$$];null!=$listenerID$$9_selListeners$$&&
this._dispatchEventToListeners($listenerID$$9_selListeners$$,this._onListenerCallback,$event$$);this._updateListeners($event$$)}this._inDispatch--}},_onListenerCallback:function $cc$eventManager$_onListenerCallback$($listener$$,$event$$){$event$$._setCurrentTarget($listener$$._getSceneGraphPriority());$listener$$._onEvent($event$$);return $event$$.isStopped()},dispatchCustomEvent:function $cc$eventManager$dispatchCustomEvent$($eventName$$,$optionalUserData$$){var $ev$$=new cc.EventCustom($eventName$$);
$ev$$.setUserData($optionalUserData$$);this.dispatchEvent($ev$$)}};cc.EventHelper=function $cc$EventHelper$(){};
cc.EventHelper.prototype={constructor:cc.EventHelper,apply:function $cc$EventHelper$$apply$($object$$){$object$$.addEventListener=cc.EventHelper.prototype.addEventListener;$object$$.hasEventListener=cc.EventHelper.prototype.hasEventListener;$object$$.removeEventListener=cc.EventHelper.prototype.removeEventListener;$object$$.dispatchEvent=cc.EventHelper.prototype.dispatchEvent},addEventListener:function $cc$EventHelper$$addEventListener$($type$$,$listener$$,$target$$){void 0===this._listeners&&(this._listeners=
{});var $listeners$$=this._listeners;void 0===$listeners$$[$type$$]&&($listeners$$[$type$$]=[]);this.hasEventListener($type$$,$listener$$,$target$$)||$listeners$$[$type$$].push({callback:$listener$$,eventTarget:$target$$})},hasEventListener:function $cc$EventHelper$$hasEventListener$($i$$61_type$$,$listener$$,$target$$){if(void 0===this._listeners)return!1;var $listeners$$=this._listeners;if(void 0!==$listeners$$[$i$$61_type$$]){$i$$61_type$$=0;for(var $len$$=$listeners$$.length;$i$$61_type$$<$len$$;$i$$61_type$$++){var $selListener$$=
$listeners$$[$i$$61_type$$];if($selListener$$.callback==$listener$$&&$selListener$$.eventTarget==$target$$)return!0}}return!1},removeEventListener:function $cc$EventHelper$$removeEventListener$($type$$,$target$$){if(void 0!==this._listeners){var $listenerArray$$=this._listeners[$type$$];if(void 0!==$listenerArray$$)for(var $i$$=0;$i$$<$listenerArray$$.length;)$listenerArray$$[$i$$].eventTarget==$target$$?$listenerArray$$.splice($i$$,1):$i$$++}},dispatchEvent:function $cc$EventHelper$$dispatchEvent$($event$$,
$clearAfterDispatch$$){if(void 0!==this._listeners){null==$clearAfterDispatch$$&&($clearAfterDispatch$$=!0);var $listenerArray$$=this._listeners[$event$$];if(void 0!==$listenerArray$$){for(var $array$$=[],$length$$=$listenerArray$$.length,$i$$=0;$i$$<$length$$;$i$$++)$array$$[$i$$]=$listenerArray$$[$i$$];for($i$$=0;$i$$<$length$$;$i$$++)$array$$[$i$$].callback.call($array$$[$i$$].eventTarget,this);$clearAfterDispatch$$&&($listenerArray$$.length=0)}}}};
cc._tmp.PrototypeCCNode=function $cc$_tmp$PrototypeCCNode$(){var $_p$$=cc.Node.prototype;cc.defineGetterSetter($_p$$,"x",$_p$$.getPositionX,$_p$$.setPositionX);cc.defineGetterSetter($_p$$,"y",$_p$$.getPositionY,$_p$$.setPositionY);$_p$$.width;cc.defineGetterSetter($_p$$,"width",$_p$$._getWidth,$_p$$._setWidth);$_p$$.height;cc.defineGetterSetter($_p$$,"height",$_p$$._getHeight,$_p$$._setHeight);$_p$$.anchorX;cc.defineGetterSetter($_p$$,"anchorX",$_p$$._getAnchorX,$_p$$._setAnchorX);$_p$$.anchorY;cc.defineGetterSetter($_p$$,
"anchorY",$_p$$._getAnchorY,$_p$$._setAnchorY);$_p$$.skewX;cc.defineGetterSetter($_p$$,"skewX",$_p$$.getSkewX,$_p$$.setSkewX);$_p$$.skewY;cc.defineGetterSetter($_p$$,"skewY",$_p$$.getSkewY,$_p$$.setSkewY);$_p$$.zIndex;cc.defineGetterSetter($_p$$,"zIndex",$_p$$.getLocalZOrder,$_p$$.setLocalZOrder);$_p$$.vertexZ;cc.defineGetterSetter($_p$$,"vertexZ",$_p$$.getVertexZ,$_p$$.setVertexZ);$_p$$.rotation;cc.defineGetterSetter($_p$$,"rotation",$_p$$.getRotation,$_p$$.setRotation);$_p$$.rotationX;cc.defineGetterSetter($_p$$,
"rotationX",$_p$$.getRotationX,$_p$$.setRotationX);$_p$$.rotationY;cc.defineGetterSetter($_p$$,"rotationY",$_p$$.getRotationY,$_p$$.setRotationY);$_p$$.scale;cc.defineGetterSetter($_p$$,"scale",$_p$$.getScale,$_p$$.setScale);$_p$$.scaleX;cc.defineGetterSetter($_p$$,"scaleX",$_p$$.getScaleX,$_p$$.setScaleX);$_p$$.scaleY;cc.defineGetterSetter($_p$$,"scaleY",$_p$$.getScaleY,$_p$$.setScaleY);$_p$$.children;cc.defineGetterSetter($_p$$,"children",$_p$$.getChildren);$_p$$.childrenCount;cc.defineGetterSetter($_p$$,
"childrenCount",$_p$$.getChildrenCount);$_p$$.parent;cc.defineGetterSetter($_p$$,"parent",$_p$$.getParent,$_p$$.setParent);$_p$$.visible;cc.defineGetterSetter($_p$$,"visible",$_p$$.isVisible,$_p$$.setVisible);$_p$$.running;cc.defineGetterSetter($_p$$,"running",$_p$$.isRunning);$_p$$.ignoreAnchor;cc.defineGetterSetter($_p$$,"ignoreAnchor",$_p$$.isIgnoreAnchorPointForPosition,$_p$$.ignoreAnchorPointForPosition);$_p$$.tag;$_p$$.userData;$_p$$.userObject;$_p$$.arrivalOrder;$_p$$.actionManager;cc.defineGetterSetter($_p$$,
"actionManager",$_p$$.getActionManager,$_p$$.setActionManager);$_p$$.scheduler;cc.defineGetterSetter($_p$$,"scheduler",$_p$$.getScheduler,$_p$$.setScheduler);$_p$$.shaderProgram;cc.defineGetterSetter($_p$$,"shaderProgram",$_p$$.getShaderProgram,$_p$$.setShaderProgram);$_p$$.opacity;cc.defineGetterSetter($_p$$,"opacity",$_p$$.getOpacity,$_p$$.setOpacity);$_p$$.opacityModifyRGB;cc.defineGetterSetter($_p$$,"opacityModifyRGB",$_p$$.isOpacityModifyRGB);$_p$$.cascadeOpacity;cc.defineGetterSetter($_p$$,
"cascadeOpacity",$_p$$.isCascadeOpacityEnabled,$_p$$.setCascadeOpacityEnabled);$_p$$.color;cc.defineGetterSetter($_p$$,"color",$_p$$.getColor,$_p$$.setColor);$_p$$.cascadeColor;cc.defineGetterSetter($_p$$,"cascadeColor",$_p$$.isCascadeColorEnabled,$_p$$.setCascadeColorEnabled)};cc.NODE_TAG_INVALID=-1;cc.s_globalOrderOfArrival=1;
cc.Node=cc.Class.extend({_localZOrder:0,_globalZOrder:0,_vertexZ:0,_rotationX:0,_rotationY:0,_scaleX:1,_scaleY:1,_position:null,_normalizedPosition:null,_usingNormalizedPosition:!1,_normalizedPositionDirty:!1,_skewX:0,_skewY:0,_children:null,_visible:!0,_anchorPoint:null,_anchorPointInPoints:null,_contentSize:null,_running:!1,_parent:null,_ignoreAnchorPointForPosition:!1,tag:cc.NODE_TAG_INVALID,userData:null,userObject:null,_transformDirty:!0,_inverseDirty:!0,_cacheDirty:!1,_cachedParent:null,_transformGLDirty:null,
_transform:null,_transformWorld:null,_inverse:null,_reorderChildDirty:!1,_shaderProgram:null,arrivalOrder:0,_actionManager:null,_scheduler:null,_eventDispatcher:null,_initializedNode:!1,_additionalTransformDirty:!1,_additionalTransform:null,_componentContainer:null,_isTransitionFinished:!1,_rotationRadiansX:0,_rotationRadiansY:0,_className:"Node",_showNode:!1,_name:"",_displayedOpacity:255,_realOpacity:255,_displayedColor:null,_realColor:null,_cascadeColorEnabled:!1,_cascadeOpacityEnabled:!1,_hashOfName:0,
_curLevel:-1,_rendererCmd:null,_renderCmdDirty:!1,_initNode:function(){this._anchorPoint=cc.p(0,0);this._anchorPointInPoints=cc.p(0,0);this._contentSize=cc.size(0,0);this._position=cc.p(0,0);this._normalizedPosition=cc.p(0,0);this._children=[];this._transform={a:1,b:0,c:0,d:1,tx:0,ty:0};this._transformWorld={a:1,b:0,c:0,d:1,tx:0,ty:0};var $director$$=cc.director;this._actionManager=$director$$.getActionManager();this._scheduler=$director$$.getScheduler();this._initializedNode=!0;this._additionalTransform=
cc.affineTransformMakeIdentity();cc.ComponentContainer&&(this._componentContainer=new cc.ComponentContainer(this));this._realOpacity=this._displayedOpacity=255;this._displayedColor=cc.color(255,255,255,255);this._realColor=cc.color(255,255,255,255);this._cascadeOpacityEnabled=this._cascadeColorEnabled=!1},init:function(){!1===this._initializedNode&&this._initNode();return!0},_arrayMakeObjectsPerformSelector:function($array$$,$callbackType$$){if($array$$&&0!==$array$$.length){var $i$$,$len$$=$array$$.length,
$node$$;$i$$=cc.Node._StateCallbackType;switch($callbackType$$){case $i$$.onEnter:for($i$$=0;$i$$<$len$$;$i$$++)if($node$$=$array$$[$i$$])$node$$.onEnter();break;case $i$$.onExit:for($i$$=0;$i$$<$len$$;$i$$++)if($node$$=$array$$[$i$$])$node$$.onExit();break;case $i$$.onEnterTransitionDidFinish:for($i$$=0;$i$$<$len$$;$i$$++)if($node$$=$array$$[$i$$])$node$$.onEnterTransitionDidFinish();break;case $i$$.cleanup:for($i$$=0;$i$$<$len$$;$i$$++)($node$$=$array$$[$i$$])&&$node$$.cleanup();break;case $i$$.updateTransform:for($i$$=
0;$i$$<$len$$;$i$$++)($node$$=$array$$[$i$$])&&$node$$.updateTransform();break;case $i$$.onExitTransitionDidStart:for($i$$=0;$i$$<$len$$;$i$$++)if($node$$=$array$$[$i$$])$node$$.onExitTransitionDidStart();break;case $i$$.sortAllChildren:for($i$$=0;$i$$<$len$$;$i$$++)($node$$=$array$$[$i$$])&&$node$$.sortAllChildren();break;default:cc.assert(0,cc._LogInfos.Node__arrayMakeObjectsPerformSelector)}}},setNodeDirty:null,attr:function($attrs$$){for(var $key$$ in $attrs$$)this[$key$$]=$attrs$$[$key$$]},getSkewX:function(){return this._skewX},
setSkewX:function($newSkewX$$){this._skewX=$newSkewX$$;this.setNodeDirty()},getSkewY:function(){return this._skewY},setSkewY:function($newSkewY$$){this._skewY=$newSkewY$$;this.setNodeDirty()},setLocalZOrder:function($localZOrder$$){this._localZOrder=$localZOrder$$;this._parent&&this._parent.reorderChild(this,$localZOrder$$);cc.eventManager._setDirtyForNode(this)},_setLocalZOrder:function($localZOrder$$){this._localZOrder=$localZOrder$$},getLocalZOrder:function(){return this._localZOrder},getZOrder:function(){cc.log(cc._LogInfos.Node_getZOrder);
return this.getLocalZOrder()},setZOrder:function($z$$){cc.log(cc._LogInfos.Node_setZOrder);this.setLocalZOrder($z$$)},setGlobalZOrder:function($globalZOrder$$){this._globalZOrder!=$globalZOrder$$&&(this._globalZOrder=$globalZOrder$$,cc.eventManager._setDirtyForNode(this))},getGlobalZOrder:function(){return this._globalZOrder},getVertexZ:function(){return this._vertexZ},setVertexZ:function($Var$$){this._vertexZ=$Var$$},getRotation:function(){this._rotationX!==this._rotationY&&cc.log(cc._LogInfos.Node_getRotation);
return this._rotationX},setRotation:function($newRotation$$){this._rotationX=this._rotationY=$newRotation$$;this._rotationRadiansX=.017453292519943295*this._rotationX;this._rotationRadiansY=.017453292519943295*this._rotationY;this.setNodeDirty()},getRotationX:function(){return this._rotationX},setRotationX:function($rotationX$$){this._rotationX=$rotationX$$;this._rotationRadiansX=.017453292519943295*this._rotationX;this.setNodeDirty()},getRotationY:function(){return this._rotationY},setRotationY:function($rotationY$$){this._rotationY=
$rotationY$$;this._rotationRadiansY=.017453292519943295*this._rotationY;this.setNodeDirty()},getScale:function(){this._scaleX!==this._scaleY&&cc.log(cc._LogInfos.Node_getScale);return this._scaleX},setScale:function($scale$$,$scaleY$$){this._scaleX=$scale$$;this._scaleY=$scaleY$$||0===$scaleY$$?$scaleY$$:$scale$$;this.setNodeDirty()},getScaleX:function(){return this._scaleX},setScaleX:function($newScaleX$$){this._scaleX=$newScaleX$$;this.setNodeDirty()},getScaleY:function(){return this._scaleY},setScaleY:function($newScaleY$$){this._scaleY=
$newScaleY$$;this.setNodeDirty()},setPosition:function($newPosOrxValue$$,$yValue$$){var $locPosition$$=this._position;void 0===$yValue$$?($locPosition$$.x=$newPosOrxValue$$.x,$locPosition$$.y=$newPosOrxValue$$.y):($locPosition$$.x=$newPosOrxValue$$,$locPosition$$.y=$yValue$$);this.setNodeDirty();this._usingNormalizedPosition=!1},setNormalizedPosition:function($posOrX$$,$y$$){var $locPosition$$=this._normalizedPosition;void 0===$y$$?($locPosition$$.x=$posOrX$$.x,$locPosition$$.y=$posOrX$$.y):($locPosition$$.x=
$posOrX$$,$locPosition$$.y=$y$$);this.setNodeDirty();this._normalizedPositionDirty=this._usingNormalizedPosition=!0},getPosition:function(){return cc.p(this._position)},getNormalizedPosition:function(){return cc.p(this._normalizedPosition)},getPositionX:function(){return this._position.x},setPositionX:function($x$$){this._position.x=$x$$;this.setNodeDirty()},getPositionY:function(){return this._position.y},setPositionY:function($y$$){this._position.y=$y$$;this.setNodeDirty()},getChildrenCount:function(){return this._children.length},
getChildren:function(){return this._children},isVisible:function(){return this._visible},setVisible:function($visible$$){this._visible!=$visible$$&&((this._visible=$visible$$)&&this.setNodeDirty(),cc.renderer.childrenOrderDirty=!0)},getAnchorPoint:function(){return cc.p(this._anchorPoint)},setAnchorPoint:function($point$$,$y$$){var $locAnchorPoint$$=this._anchorPoint;if(void 0===$y$$){if($point$$.x===$locAnchorPoint$$.x&&$point$$.y===$locAnchorPoint$$.y)return;$locAnchorPoint$$.x=$point$$.x;$locAnchorPoint$$.y=
$point$$.y}else{if($point$$===$locAnchorPoint$$.x&&$y$$===$locAnchorPoint$$.y)return;$locAnchorPoint$$.x=$point$$;$locAnchorPoint$$.y=$y$$}var $locAPP$$=this._anchorPointInPoints,$locSize$$=this._contentSize;$locAPP$$.x=$locSize$$.width*$locAnchorPoint$$.x;$locAPP$$.y=$locSize$$.height*$locAnchorPoint$$.y;this.setNodeDirty()},_getAnchor:function(){return this._anchorPoint},_setAnchor:function($p$$5_y$$){var $x$$=$p$$5_y$$.x;$p$$5_y$$=$p$$5_y$$.y;this._anchorPoint.x!==$x$$&&(this._anchorPoint.x=$x$$,
this._anchorPointInPoints.x=this._contentSize.width*$x$$);this._anchorPoint.y!==$p$$5_y$$&&(this._anchorPoint.y=$p$$5_y$$,this._anchorPointInPoints.y=this._contentSize.height*$p$$5_y$$);this.setNodeDirty()},_getAnchorX:function(){return this._anchorPoint.x},_setAnchorX:function($x$$){this._anchorPoint.x!==$x$$&&(this._anchorPoint.x=$x$$,this._anchorPointInPoints.x=this._contentSize.width*$x$$,this.setNodeDirty())},_getAnchorY:function(){return this._anchorPoint.y},_setAnchorY:function($y$$){this._anchorPoint.y!==
$y$$&&(this._anchorPoint.y=$y$$,this._anchorPointInPoints.y=this._contentSize.height*$y$$,this.setNodeDirty())},getAnchorPointInPoints:function(){return cc.p(this._anchorPointInPoints)},_getWidth:function(){return this._contentSize.width},_setWidth:function($width$$){this._contentSize.width=$width$$;this._anchorPointInPoints.x=$width$$*this._anchorPoint.x;this.setNodeDirty()},_getHeight:function(){return this._contentSize.height},_setHeight:function($height$$){this._contentSize.height=$height$$;this._anchorPointInPoints.y=
$height$$*this._anchorPoint.y;this.setNodeDirty()},getContentSize:function(){return cc.size(this._contentSize)},setContentSize:function($size$$,$height$$){var $locContentSize$$=this._contentSize;if(void 0===$height$$){if($size$$.width===$locContentSize$$.width&&$size$$.height===$locContentSize$$.height)return;$locContentSize$$.width=$size$$.width;$locContentSize$$.height=$size$$.height}else{if($size$$===$locContentSize$$.width&&$height$$===$locContentSize$$.height)return;$locContentSize$$.width=$size$$;
$locContentSize$$.height=$height$$}var $locAPP$$=this._anchorPointInPoints,$locAnchorPoint$$=this._anchorPoint;$locAPP$$.x=$locContentSize$$.width*$locAnchorPoint$$.x;$locAPP$$.y=$locContentSize$$.height*$locAnchorPoint$$.y;this.setNodeDirty()},isRunning:function(){return this._running},getParent:function(){return this._parent},setParent:function($parent$$){this._parent=$parent$$},isIgnoreAnchorPointForPosition:function(){return this._ignoreAnchorPointForPosition},ignoreAnchorPointForPosition:function($newValue$$){$newValue$$!=
this._ignoreAnchorPointForPosition&&(this._ignoreAnchorPointForPosition=$newValue$$,this.setNodeDirty())},getTag:function(){return this.tag},setTag:function($tag$$){this.tag=$tag$$},setName:function($name$$){this._name=$name$$},getName:function(){return this._name},getUserData:function(){return this.userData},setUserData:function($Var$$){this.userData=$Var$$},getUserObject:function(){return this.userObject},setUserObject:function($newValue$$){this.userObject!=$newValue$$&&(this.userObject=$newValue$$)},
getOrderOfArrival:function(){return this.arrivalOrder},setOrderOfArrival:function($Var$$){this.arrivalOrder=$Var$$},getActionManager:function(){this._actionManager||(this._actionManager=cc.director.getActionManager());return this._actionManager},setActionManager:function($actionManager$$){this._actionManager!=$actionManager$$&&(this.stopAllActions(),this._actionManager=$actionManager$$)},getScheduler:function(){this._scheduler||(this._scheduler=cc.director.getScheduler());return this._scheduler},
setScheduler:function($scheduler$$){this._scheduler!=$scheduler$$&&(this.unscheduleAllCallbacks(),this._scheduler=$scheduler$$)},boundingBox:function(){cc.log(cc._LogInfos.Node_boundingBox);return this.getBoundingBox()},getBoundingBox:function(){var $rect$$=cc.rect(0,0,this._contentSize.width,this._contentSize.height);return cc._rectApplyAffineTransformIn($rect$$,this.getNodeToParentTransform())},cleanup:function(){this.stopAllActions();this.unscheduleAllCallbacks();cc.eventManager.removeListeners(this);
this._arrayMakeObjectsPerformSelector(this._children,cc.Node._StateCallbackType.cleanup)},getChildByTag:function($aTag$$){var $__children$$=this._children;if(null!=$__children$$)for(var $i$$=0;$i$$<$__children$$.length;$i$$++){var $node$$=$__children$$[$i$$];if($node$$&&$node$$.tag==$aTag$$)return $node$$}return null},getChildByName:function($name$$){if(!$name$$)return cc.log("Invalid name"),null;for(var $locChildren$$=this._children,$i$$=0,$len$$=$locChildren$$.length;$i$$<$len$$;$i$$++)if($locChildren$$[$i$$]._name==
$name$$)return $locChildren$$[$i$$];return null},addChild:function($child$$,$localZOrder$$,$tag$$){$localZOrder$$=void 0===$localZOrder$$?$child$$._localZOrder:$localZOrder$$;var $name$$,$setTag$$=!1;cc.isUndefined($tag$$)?($tag$$=void 0,$name$$=$child$$._name):cc.isString($tag$$)?($name$$=$tag$$,$tag$$=void 0):cc.isNumber($tag$$)&&($setTag$$=!0,$name$$="");cc.assert($child$$,cc._LogInfos.Node_addChild_3);cc.assert(null===$child$$._parent,"child already added. It can't be added again");this._addChildHelper($child$$,
$localZOrder$$,$tag$$,$name$$,$setTag$$)},_addChildHelper:function($child$$,$localZOrder$$,$tag$$,$name$$,$setTag$$){this._children||(this._children=[]);this._insertChild($child$$,$localZOrder$$);$setTag$$?$child$$.setTag($tag$$):$child$$.setName($name$$);$child$$.setParent(this);$child$$.setOrderOfArrival(cc.s_globalOrderOfArrival++);if(this._running&&($child$$.onEnter(),this._isTransitionFinished))$child$$.onEnterTransitionDidFinish();this._cascadeColorEnabled&&this._enableCascadeColor();this._cascadeOpacityEnabled&&
this._enableCascadeOpacity()},removeFromParent:function($cleanup$$){this._parent&&(null==$cleanup$$&&($cleanup$$=!0),this._parent.removeChild(this,$cleanup$$))},removeFromParentAndCleanup:function($cleanup$$){cc.log(cc._LogInfos.Node_removeFromParentAndCleanup);this.removeFromParent($cleanup$$)},removeChild:function($child$$,$cleanup$$){0!==this._children.length&&(null==$cleanup$$&&($cleanup$$=!0),-1<this._children.indexOf($child$$)&&this._detachChild($child$$,$cleanup$$),this.setNodeDirty(),cc.renderer.childrenOrderDirty=
!0)},removeChildByTag:function($tag$$,$cleanup$$){$tag$$===cc.NODE_TAG_INVALID&&cc.log(cc._LogInfos.Node_removeChildByTag);var $child$$=this.getChildByTag($tag$$);null==$child$$?cc.log(cc._LogInfos.Node_removeChildByTag_2,$tag$$):this.removeChild($child$$,$cleanup$$)},removeAllChildrenWithCleanup:function($cleanup$$){this.removeAllChildren($cleanup$$)},removeAllChildren:function($cleanup$$){var $__children$$=this._children;if(null!=$__children$$){null==$cleanup$$&&($cleanup$$=!0);for(var $i$$=0;$i$$<
$__children$$.length;$i$$++){var $node$$=$__children$$[$i$$];$node$$&&(this._running&&($node$$.onExitTransitionDidStart(),$node$$.onExit()),$cleanup$$&&$node$$.cleanup(),$node$$.parent=null)}this._children.length=0}},_detachChild:function($child$$,$doCleanup$$){this._running&&($child$$.onExitTransitionDidStart(),$child$$.onExit());$doCleanup$$&&$child$$.cleanup();$child$$.parent=null;$child$$._cachedParent=null;cc.arrayRemoveObject(this._children,$child$$)},_insertChild:function($child$$,$z$$){cc.renderer.childrenOrderDirty=
this._reorderChildDirty=!0;this._children.push($child$$);$child$$._setLocalZOrder($z$$)},reorderChild:function($child$$,$zOrder$$){cc.assert($child$$,cc._LogInfos.Node_reorderChild);cc.renderer.childrenOrderDirty=this._reorderChildDirty=!0;$child$$.arrivalOrder=cc.s_globalOrderOfArrival;cc.s_globalOrderOfArrival++;$child$$._setLocalZOrder($zOrder$$);this.setNodeDirty()},sortAllChildren:function(){if(this._reorderChildDirty){var $_children$$=this._children,$len$$=$_children$$.length,$i$$,$j$$,$tmp$$;
for($i$$=1;$i$$<$len$$;$i$$++){$tmp$$=$_children$$[$i$$];for($j$$=$i$$-1;0<=$j$$;){if($tmp$$._localZOrder<$_children$$[$j$$]._localZOrder)$_children$$[$j$$+1]=$_children$$[$j$$];else if($tmp$$._localZOrder===$_children$$[$j$$]._localZOrder&&$tmp$$.arrivalOrder<$_children$$[$j$$].arrivalOrder)$_children$$[$j$$+1]=$_children$$[$j$$];else break;$j$$--}$_children$$[$j$$+1]=$tmp$$}this._reorderChildDirty=!1}},draw:function($ctx$$){},transformAncestors:function(){null!=this._parent&&(this._parent.transformAncestors(),
this._parent.transform())},onEnter:function(){this._isTransitionFinished=!1;this._running=!0;this._arrayMakeObjectsPerformSelector(this._children,cc.Node._StateCallbackType.onEnter);this.resume()},onEnterTransitionDidFinish:function(){this._isTransitionFinished=!0;this._arrayMakeObjectsPerformSelector(this._children,cc.Node._StateCallbackType.onEnterTransitionDidFinish)},onExitTransitionDidStart:function(){this._arrayMakeObjectsPerformSelector(this._children,cc.Node._StateCallbackType.onExitTransitionDidStart)},
onExit:function(){this._running=!1;this.pause();this._arrayMakeObjectsPerformSelector(this._children,cc.Node._StateCallbackType.onExit);this.removeAllComponents()},runAction:function($action$$){cc.assert($action$$,cc._LogInfos.Node_runAction);this.actionManager.addAction($action$$,this,!this._running);return $action$$},stopAllActions:function(){this.actionManager&&this.actionManager.removeAllActionsFromTarget(this)},stopAction:function($action$$){this.actionManager.removeAction($action$$)},stopActionByTag:function($tag$$){$tag$$===
cc.ACTION_TAG_INVALID?cc.log(cc._LogInfos.Node_stopActionByTag):this.actionManager.removeActionByTag($tag$$,this)},getActionByTag:function($tag$$){return $tag$$===cc.ACTION_TAG_INVALID?(cc.log(cc._LogInfos.Node_getActionByTag),null):this.actionManager.getActionByTag($tag$$,this)},getNumberOfRunningActions:function(){return this.actionManager.numberOfRunningActionsInTarget(this)},scheduleUpdate:function(){this.scheduleUpdateWithPriority(0)},scheduleUpdateWithPriority:function($priority$$){this.scheduler.scheduleUpdateForTarget(this,
$priority$$,!this._running)},unscheduleUpdate:function(){this.scheduler.unscheduleUpdateForTarget(this)},schedule:function($callback_fn$$,$interval$$,$repeat$$,$delay$$){$interval$$=$interval$$||0;cc.assert($callback_fn$$,cc._LogInfos.Node_schedule);cc.assert(0<=$interval$$,cc._LogInfos.Node_schedule_2);$repeat$$=null==$repeat$$?cc.REPEAT_FOREVER:$repeat$$;this.scheduler.scheduleCallbackForTarget(this,$callback_fn$$,$interval$$,$repeat$$,$delay$$||0,!this._running)},scheduleOnce:function($callback_fn$$,
$delay$$){this.schedule($callback_fn$$,0,0,$delay$$)},unschedule:function($callback_fn$$){$callback_fn$$&&this.scheduler.unscheduleCallbackForTarget(this,$callback_fn$$)},unscheduleAllCallbacks:function(){this.scheduler.unscheduleAllCallbacksForTarget(this)},resumeSchedulerAndActions:function(){cc.log(cc._LogInfos.Node_resumeSchedulerAndActions);this.resume()},resume:function(){this.scheduler.resumeTarget(this);this.actionManager&&this.actionManager.resumeTarget(this);cc.eventManager.resumeTarget(this)},
pauseSchedulerAndActions:function(){cc.log(cc._LogInfos.Node_pauseSchedulerAndActions);this.pause()},pause:function(){this.scheduler.pauseTarget(this);this.actionManager&&this.actionManager.pauseTarget(this);cc.eventManager.pauseTarget(this)},setAdditionalTransform:function($additionalTransform$$){this._additionalTransform=$additionalTransform$$;this._additionalTransformDirty=this._transformDirty=!0},getParentToNodeTransform:function(){this._inverseDirty&&(this._inverse=cc.affineTransformInvert(this.getNodeToParentTransform()),
this._inverseDirty=!1);return this._inverse},parentToNodeTransform:function(){return this.getParentToNodeTransform()},getNodeToWorldTransform:function(){for(var $t$$=this.getNodeToParentTransform(),$p$$=this._parent;null!=$p$$;$p$$=$p$$.parent)$t$$=cc.affineTransformConcat($t$$,$p$$.getNodeToParentTransform());return $t$$},nodeToWorldTransform:function(){return this.getNodeToWorldTransform()},getWorldToNodeTransform:function(){return cc.affineTransformInvert(this.getNodeToWorldTransform())},worldToNodeTransform:function(){return this.getWorldToNodeTransform()},
convertToNodeSpace:function($worldPoint$$){return cc.pointApplyAffineTransform($worldPoint$$,this.getWorldToNodeTransform())},convertToWorldSpace:function($nodePoint$$){$nodePoint$$=$nodePoint$$||cc.p(0,0);return cc.pointApplyAffineTransform($nodePoint$$,this.getNodeToWorldTransform())},convertToNodeSpaceAR:function($worldPoint$$){return cc.pSub(this.convertToNodeSpace($worldPoint$$),this._anchorPointInPoints)},convertToWorldSpaceAR:function($nodePoint$$){$nodePoint$$=$nodePoint$$||cc.p(0,0);$nodePoint$$=
cc.pAdd($nodePoint$$,this._anchorPointInPoints);return this.convertToWorldSpace($nodePoint$$)},_convertToWindowSpace:function($nodePoint$$2_worldPoint$$){$nodePoint$$2_worldPoint$$=this.convertToWorldSpace($nodePoint$$2_worldPoint$$);return cc.director.convertToUI($nodePoint$$2_worldPoint$$)},convertTouchToNodeSpace:function($point$$11_touch$$){$point$$11_touch$$=$point$$11_touch$$.getLocation();return this.convertToNodeSpace($point$$11_touch$$)},convertTouchToNodeSpaceAR:function($point$$12_touch$$){$point$$12_touch$$=
$point$$12_touch$$.getLocation();$point$$12_touch$$=cc.director.convertToGL($point$$12_touch$$);return this.convertToNodeSpaceAR($point$$12_touch$$)},update:function($dt$$){this._componentContainer&&!this._componentContainer.isEmpty()&&this._componentContainer.visit($dt$$)},updateTransform:function(){this._arrayMakeObjectsPerformSelector(this._children,cc.Node._StateCallbackType.updateTransform)},retain:function(){},release:function(){},getComponent:function($name$$){return this._componentContainer?
this._componentContainer.getComponent($name$$):null},addComponent:function($component$$){this._componentContainer&&this._componentContainer.add($component$$)},removeComponent:function($component$$){return this._componentContainer?this._componentContainer.remove($component$$):!1},removeAllComponents:function(){this._componentContainer&&this._componentContainer.removeAll()},grid:null,ctor:null,visit:null,transform:null,nodeToParentTransform:function(){return this.getNodeToParentTransform()},getNodeToParentTransform:null,
_setNodeDirtyForCache:function(){if(!1===this._cacheDirty){this._cacheDirty=!0;var $cachedP$$=this._cachedParent;$cachedP$$&&$cachedP$$!=this&&$cachedP$$._setNodeDirtyForCache()}},_setCachedParent:function($cachedParent$$){if(this._cachedParent!=$cachedParent$$){this._cachedParent=$cachedParent$$;for(var $children$$=this._children,$i$$=0,$len$$=$children$$.length;$i$$<$len$$;$i$$++)$children$$[$i$$]._setCachedParent($cachedParent$$)}},getCamera:function(){this._camera||(this._camera=new cc.Camera);
return this._camera},getGrid:function(){return this.grid},setGrid:function($grid$$){this.grid=$grid$$},getShaderProgram:function(){return this._shaderProgram},setShaderProgram:function($newShaderProgram$$){this._shaderProgram=$newShaderProgram$$},getGLServerState:function(){return this._glServerState},setGLServerState:function($state$$){this._glServerState=$state$$},getBoundingBoxToWorld:function(){var $rect$$=cc.rect(0,0,this._contentSize.width,this._contentSize.height),$trans$$=this.getNodeToWorldTransform(),
$rect$$=cc.rectApplyAffineTransform($rect$$,this.getNodeToWorldTransform());if(!this._children)return $rect$$;for(var $locChildren$$=this._children,$i$$=0;$i$$<$locChildren$$.length;$i$$++){var $child$$=$locChildren$$[$i$$];$child$$&&$child$$._visible&&($child$$=$child$$._getBoundingBoxToCurrentNode($trans$$))&&($rect$$=cc.rectUnion($rect$$,$child$$))}return $rect$$},_getBoundingBoxToCurrentNode:function($parentTransform_trans$$){var $rect$$=cc.rect(0,0,this._contentSize.width,this._contentSize.height);
$parentTransform_trans$$=null==$parentTransform_trans$$?this.getNodeToParentTransform():cc.affineTransformConcat(this.getNodeToParentTransform(),$parentTransform_trans$$);$rect$$=cc.rectApplyAffineTransform($rect$$,$parentTransform_trans$$);if(!this._children)return $rect$$;for(var $locChildren$$=this._children,$i$$=0;$i$$<$locChildren$$.length;$i$$++){var $child$$13_childRect$$=$locChildren$$[$i$$];$child$$13_childRect$$&&$child$$13_childRect$$._visible&&($child$$13_childRect$$=$child$$13_childRect$$._getBoundingBoxToCurrentNode($parentTransform_trans$$))&&
($rect$$=cc.rectUnion($rect$$,$child$$13_childRect$$))}return $rect$$},_getNodeToParentTransformForWebGL:function(){if(this._usingNormalizedPosition&&this._parent){var $conSize_x$$=this._parent._contentSize;this._position.x=this._normalizedPosition.x*$conSize_x$$.width;this._position.y=this._normalizedPosition.y*$conSize_x$$.height;this._normalizedPositionDirty=!1}if(this._transformDirty){var $conSize_x$$=this._position.x,$y$$=this._position.y,$apx$$=this._anchorPointInPoints.x,$napx$$=-$apx$$,$apy$$=
this._anchorPointInPoints.y,$napy$$=-$apy$$,$scx$$=this._scaleX,$scy$$=this._scaleY;this._ignoreAnchorPointForPosition&&($conSize_x$$+=$apx$$,$y$$+=$apy$$);var $cx$$=1,$sx$$=0,$cy$$=1,$sy$$=0;if(0!==this._rotationX||0!==this._rotationY)$cx$$=Math.cos(-this._rotationRadiansX),$sx$$=Math.sin(-this._rotationRadiansX),$cy$$=Math.cos(-this._rotationRadiansY),$sy$$=Math.sin(-this._rotationRadiansY);var $needsSkewMatrix$$=this._skewX||this._skewY;$needsSkewMatrix$$||0===$apx$$&&0===$apy$$||($conSize_x$$+=
$cy$$*$napx$$*$scx$$+-$sx$$*$napy$$*$scy$$,$y$$+=$sy$$*$napx$$*$scx$$+$cx$$*$napy$$*$scy$$);var $t$$=this._transform;$t$$.a=$cy$$*$scx$$;$t$$.b=$sy$$*$scx$$;$t$$.c=-$sx$$*$scy$$;$t$$.d=$cx$$*$scy$$;$t$$.tx=$conSize_x$$;$t$$.ty=$y$$;$needsSkewMatrix$$&&($t$$=cc.affineTransformConcat({a:1,b:Math.tan(cc.degreesToRadians(this._skewY)),c:Math.tan(cc.degreesToRadians(this._skewX)),d:1,tx:0,ty:0},$t$$),0!==$apx$$||0!==$apy$$)&&($t$$=cc.affineTransformTranslate($t$$,$napx$$,$napy$$));this._additionalTransformDirty&&
($t$$=cc.affineTransformConcat($t$$,this._additionalTransform),this._additionalTransformDirty=!1);this._transform=$t$$;this._transformDirty=!1}return this._transform},_updateColor:function(){},getOpacity:function(){return this._realOpacity},getDisplayedOpacity:function(){return this._displayedOpacity},setOpacity:function($opacity$$){this._displayedOpacity=this._realOpacity=$opacity$$;var $parentOpacity$$=255,$locParent$$=this._parent;$locParent$$&&$locParent$$.cascadeOpacity&&($parentOpacity$$=$locParent$$.getDisplayedOpacity());
this.updateDisplayedOpacity($parentOpacity$$);this._displayedColor.a=this._realColor.a=$opacity$$},updateDisplayedOpacity:function($parentOpacity$$){this._displayedOpacity=this._realOpacity*$parentOpacity$$/255;this._rendererCmd&&void 0!==this._rendererCmd._opacity&&(this._rendererCmd._opacity=this._displayedOpacity/255);if(this._cascadeOpacityEnabled){$parentOpacity$$=this._children;for(var $i$$=0;$i$$<$parentOpacity$$.length;$i$$++){var $item$$=$parentOpacity$$[$i$$];$item$$&&$item$$.updateDisplayedOpacity(this._displayedOpacity)}}},
isCascadeOpacityEnabled:function(){return this._cascadeOpacityEnabled},setCascadeOpacityEnabled:function($cascadeOpacityEnabled$$){this._cascadeOpacityEnabled!==$cascadeOpacityEnabled$$&&((this._cascadeOpacityEnabled=$cascadeOpacityEnabled$$)?this._enableCascadeOpacity():this._disableCascadeOpacity())},_enableCascadeOpacity:function(){var $parentOpacity$$=255,$locParent$$=this._parent;$locParent$$&&$locParent$$.cascadeOpacity&&($parentOpacity$$=$locParent$$.getDisplayedOpacity());this.updateDisplayedOpacity($parentOpacity$$)},
_disableCascadeOpacity:function(){this._displayedOpacity=this._realOpacity;for(var $selChildren$$=this._children,$i$$=0;$i$$<$selChildren$$.length;$i$$++){var $item$$=$selChildren$$[$i$$];$item$$&&$item$$.updateDisplayedOpacity(255)}},getColor:function(){var $locRealColor$$=this._realColor;return cc.color($locRealColor$$.r,$locRealColor$$.g,$locRealColor$$.b,$locRealColor$$.a)},getDisplayedColor:function(){var $tmpColor$$=this._displayedColor;return cc.color($tmpColor$$.r,$tmpColor$$.g,$tmpColor$$.b,
$tmpColor$$.a)},setColor:function($color$$6_locParent$$3_parentColor$$){var $locDisplayedColor$$=this._displayedColor,$locRealColor$$=this._realColor;$locDisplayedColor$$.r=$locRealColor$$.r=$color$$6_locParent$$3_parentColor$$.r;$locDisplayedColor$$.g=$locRealColor$$.g=$color$$6_locParent$$3_parentColor$$.g;$locDisplayedColor$$.b=$locRealColor$$.b=$color$$6_locParent$$3_parentColor$$.b;$color$$6_locParent$$3_parentColor$$=($color$$6_locParent$$3_parentColor$$=this._parent)&&$color$$6_locParent$$3_parentColor$$.cascadeColor?
$color$$6_locParent$$3_parentColor$$.getDisplayedColor():cc.color.WHITE;this.updateDisplayedColor($color$$6_locParent$$3_parentColor$$)},updateDisplayedColor:function($parentColor$$2_selChildren$$){var $locDispColor$$=this._displayedColor,$i$$74_locRealColor$$=this._realColor;$locDispColor$$.r=0|$i$$74_locRealColor$$.r*$parentColor$$2_selChildren$$.r/255;$locDispColor$$.g=0|$i$$74_locRealColor$$.g*$parentColor$$2_selChildren$$.g/255;$locDispColor$$.b=0|$i$$74_locRealColor$$.b*$parentColor$$2_selChildren$$.b/
255;if(this._cascadeColorEnabled)for($parentColor$$2_selChildren$$=this._children,$i$$74_locRealColor$$=0;$i$$74_locRealColor$$<$parentColor$$2_selChildren$$.length;$i$$74_locRealColor$$++){var $item$$=$parentColor$$2_selChildren$$[$i$$74_locRealColor$$];$item$$&&$item$$.updateDisplayedColor($locDispColor$$)}},isCascadeColorEnabled:function(){return this._cascadeColorEnabled},setCascadeColorEnabled:function($cascadeColorEnabled$$){this._cascadeColorEnabled!==$cascadeColorEnabled$$&&((this._cascadeColorEnabled=
$cascadeColorEnabled$$)?this._enableCascadeColor():this._disableCascadeColor())},_enableCascadeColor:function(){var $locParent$$4_parentColor$$;$locParent$$4_parentColor$$=($locParent$$4_parentColor$$=this._parent)&&$locParent$$4_parentColor$$.cascadeColor?$locParent$$4_parentColor$$.getDisplayedColor():cc.color.WHITE;this.updateDisplayedColor($locParent$$4_parentColor$$)},_disableCascadeColor:function(){var $locDisplayedColor$$3_selChildren$$=this._displayedColor,$locRealColor$$=this._realColor;
$locDisplayedColor$$3_selChildren$$.r=$locRealColor$$.r;$locDisplayedColor$$3_selChildren$$.g=$locRealColor$$.g;$locDisplayedColor$$3_selChildren$$.b=$locRealColor$$.b;for(var $locDisplayedColor$$3_selChildren$$=this._children,$locRealColor$$=cc.color.WHITE,$i$$=0;$i$$<$locDisplayedColor$$3_selChildren$$.length;$i$$++){var $item$$=$locDisplayedColor$$3_selChildren$$[$i$$];$item$$&&$item$$.updateDisplayedColor($locRealColor$$)}},setOpacityModifyRGB:function($opacityValue$$){},isOpacityModifyRGB:function(){return!1},
_initRendererCmd:function(){},_transformForRenderer:null});cc.Node.create=function $cc$Node$create$(){return new cc.Node};cc.Node._StateCallbackType={onEnter:1,onExit:2,cleanup:3,onEnterTransitionDidFinish:4,updateTransform:5,onExitTransitionDidStart:6,sortAllChildren:7};
if(cc._renderType===cc._RENDER_TYPE_CANVAS){var _p=cc.Node.prototype;_p.ctor=function $_p$ctor$(){this._initNode();this._initRendererCmd()};_p.setNodeDirty=function $_p$setNodeDirty$(){!1===this._transformDirty&&(this._setNodeDirtyForCache(),this._renderCmdDiry=this._transformDirty=this._inverseDirty=!0,cc.renderer.pushDirtyNode(this))};_p.visit=function $_p$visit$($ctx$$19_i$$){if(this._visible){this._parent&&(this._curLevel=this._parent._curLevel+1);var $children$$=this._children,$child$$;this.transform();
var $len$$=$children$$.length;if(0<$len$$){this.sortAllChildren();for($ctx$$19_i$$=0;$ctx$$19_i$$<$len$$;$ctx$$19_i$$++)if($child$$=$children$$[$ctx$$19_i$$],0>$child$$._localZOrder)$child$$.visit();else break;for(this._rendererCmd&&cc.renderer.pushRenderCommand(this._rendererCmd);$ctx$$19_i$$<$len$$;$ctx$$19_i$$++)$children$$[$ctx$$19_i$$].visit()}else this._rendererCmd&&cc.renderer.pushRenderCommand(this._rendererCmd);this._cacheDirty=!1}};_p._transformForRenderer=function $_p$_transformForRenderer$(){var $i$$77_t$$=
this.nodeToParentTransform(),$len$$=this._transformWorld;if(this._parent){var $locChildren$$10_pt$$=this._parent._transformWorld;$len$$.a=$i$$77_t$$.a*$locChildren$$10_pt$$.a+$i$$77_t$$.b*$locChildren$$10_pt$$.c;$len$$.b=$i$$77_t$$.a*$locChildren$$10_pt$$.b+$i$$77_t$$.b*$locChildren$$10_pt$$.d;$len$$.c=$i$$77_t$$.c*$locChildren$$10_pt$$.a+$i$$77_t$$.d*$locChildren$$10_pt$$.c;$len$$.d=$i$$77_t$$.c*$locChildren$$10_pt$$.b+$i$$77_t$$.d*$locChildren$$10_pt$$.d;if(!this._skewX||this._skewY){var $plt$$=
this._parent._transform,$yOffset$$=-($plt$$.b+$plt$$.c)*$i$$77_t$$.tx;$len$$.tx=$i$$77_t$$.tx*$locChildren$$10_pt$$.a+$i$$77_t$$.ty*$locChildren$$10_pt$$.c+$locChildren$$10_pt$$.tx+-($plt$$.b+$plt$$.c)*$i$$77_t$$.ty;$len$$.ty=$i$$77_t$$.tx*$locChildren$$10_pt$$.b+$i$$77_t$$.ty*$locChildren$$10_pt$$.d+$locChildren$$10_pt$$.ty+$yOffset$$}else $len$$.tx=$i$$77_t$$.tx*$locChildren$$10_pt$$.a+$i$$77_t$$.ty*$locChildren$$10_pt$$.c+$locChildren$$10_pt$$.tx,$len$$.ty=$i$$77_t$$.tx*$locChildren$$10_pt$$.b+
$i$$77_t$$.ty*$locChildren$$10_pt$$.d+$locChildren$$10_pt$$.ty}else $len$$.a=$i$$77_t$$.a,$len$$.b=$i$$77_t$$.b,$len$$.c=$i$$77_t$$.c,$len$$.d=$i$$77_t$$.d,$len$$.tx=$i$$77_t$$.tx,$len$$.ty=$i$$77_t$$.ty;this._renderCmdDiry=!1;if(this._children&&0!==this._children.length)for($locChildren$$10_pt$$=this._children,$i$$77_t$$=0,$len$$=$locChildren$$10_pt$$.length;$i$$77_t$$<$len$$;$i$$77_t$$++)$locChildren$$10_pt$$[$i$$77_t$$]._transformForRenderer()};_p.transform=function $_p$transform$($ctx$$20_t$$){$ctx$$20_t$$=
this.getNodeToParentTransform();var $worldT$$=this._transformWorld;if(this._parent){var $pt$$=this._parent._transformWorld;$worldT$$.a=$ctx$$20_t$$.a*$pt$$.a+$ctx$$20_t$$.b*$pt$$.c;$worldT$$.b=$ctx$$20_t$$.a*$pt$$.b+$ctx$$20_t$$.b*$pt$$.d;$worldT$$.c=$ctx$$20_t$$.c*$pt$$.a+$ctx$$20_t$$.d*$pt$$.c;$worldT$$.d=$ctx$$20_t$$.c*$pt$$.b+$ctx$$20_t$$.d*$pt$$.d;var $plt$$=this._parent._transform,$yOffset$$=-($plt$$.b+$plt$$.c)*$ctx$$20_t$$.tx;$worldT$$.tx=$ctx$$20_t$$.tx*$pt$$.a+$ctx$$20_t$$.ty*$pt$$.c+$pt$$.tx+
-($plt$$.b+$plt$$.c)*$ctx$$20_t$$.ty;$worldT$$.ty=$ctx$$20_t$$.tx*$pt$$.b+$ctx$$20_t$$.ty*$pt$$.d+$pt$$.ty+$yOffset$$}else $worldT$$.a=$ctx$$20_t$$.a,$worldT$$.b=$ctx$$20_t$$.b,$worldT$$.c=$ctx$$20_t$$.c,$worldT$$.d=$ctx$$20_t$$.d,$worldT$$.tx=$ctx$$20_t$$.tx,$worldT$$.ty=$ctx$$20_t$$.ty};_p.getNodeToParentTransform=function $_p$getNodeToParentTransform$(){if(this._usingNormalizedPosition&&this._parent){var $conSize$$1_t$$=this._parent._contentSize;this._position.x=this._normalizedPosition.x*$conSize$$1_t$$.width;
this._position.y=this._normalizedPosition.y*$conSize$$1_t$$.height;this._normalizedPositionDirty=!1}if(this._transformDirty){$conSize$$1_t$$=this._transform;$conSize$$1_t$$.tx=this._position.x;$conSize$$1_t$$.ty=this._position.y;var $Cos$$=1,$Sin$$=0;this._rotationX&&($Cos$$=Math.cos(this._rotationRadiansX),$Sin$$=Math.sin(this._rotationRadiansX));$conSize$$1_t$$.a=$conSize$$1_t$$.d=$Cos$$;$conSize$$1_t$$.b=-$Sin$$;$conSize$$1_t$$.c=$Sin$$;var $lScaleX$$=this._scaleX,$lScaleY$$=this._scaleY,$appX$$=
this._anchorPointInPoints.x,$appY$$=this._anchorPointInPoints.y,$sx$$=1E-6>$lScaleX$$&&-1E-6<$lScaleX$$?1E-6:$lScaleX$$,$sy$$=1E-6>$lScaleY$$&&-1E-6<$lScaleY$$?1E-6:$lScaleY$$;if(this._skewX||this._skewY){var $skx$$=Math.tan(-this._skewX*Math.PI/180),$sky$$=Math.tan(-this._skewY*Math.PI/180);Infinity===$skx$$&&($skx$$=99999999);Infinity===$sky$$&&($sky$$=99999999);var $xx$$=$appY$$*$skx$$*$sx$$,$yy$$=$appX$$*$sky$$*$sy$$;$conSize$$1_t$$.a=$Cos$$+-$Sin$$*$sky$$;$conSize$$1_t$$.b=$Cos$$*$skx$$+-$Sin$$;
$conSize$$1_t$$.c=$Sin$$+$Cos$$*$sky$$;$conSize$$1_t$$.d=$Sin$$*$skx$$+$Cos$$;$conSize$$1_t$$.tx+=$Cos$$*$xx$$+-$Sin$$*$yy$$;$conSize$$1_t$$.ty+=$Sin$$*$xx$$+$Cos$$*$yy$$}if(1!==$lScaleX$$||1!==$lScaleY$$)$conSize$$1_t$$.a*=$sx$$,$conSize$$1_t$$.c*=$sx$$,$conSize$$1_t$$.b*=$sy$$,$conSize$$1_t$$.d*=$sy$$;$conSize$$1_t$$.tx+=$Cos$$*-$appX$$*$sx$$+-$Sin$$*$appY$$*$sy$$;$conSize$$1_t$$.ty-=$Sin$$*-$appX$$*$sx$$+$Cos$$*$appY$$*$sy$$;this._ignoreAnchorPointForPosition&&($conSize$$1_t$$.tx+=$appX$$,$conSize$$1_t$$.ty+=
$appY$$);this._additionalTransformDirty&&(this._transform=cc.affineTransformConcat($conSize$$1_t$$,this._additionalTransform),this._additionalTransformDirty=!1);this._transformDirty=!1}return this._transform};_p=null}else cc.assert(cc.isFunction(cc._tmp.WebGLCCNode),cc._LogInfos.MissingFile,"BaseNodesWebGL.js"),cc._tmp.WebGLCCNode(),delete cc._tmp.WebGLCCNode;cc.assert(cc.isFunction(cc._tmp.PrototypeCCNode),cc._LogInfos.MissingFile,"BaseNodesPropertyDefine.js");cc._tmp.PrototypeCCNode();delete cc._tmp.PrototypeCCNode;
cc._tmp.PrototypeTexture2D=function $cc$_tmp$PrototypeTexture2D$(){var $_c$$=cc.Texture2D;$_c$$.PVRImagesHavePremultipliedAlpha=function $$_c$$$PVRImagesHavePremultipliedAlpha$($haveAlphaPremultiplied$$){cc.PVRHaveAlphaPremultiplied_=$haveAlphaPremultiplied$$};$_c$$.PIXEL_FORMAT_RGBA8888=2;$_c$$.PIXEL_FORMAT_RGB888=3;$_c$$.PIXEL_FORMAT_RGB565=4;$_c$$.PIXEL_FORMAT_A8=5;$_c$$.PIXEL_FORMAT_I8=6;$_c$$.PIXEL_FORMAT_AI88=7;$_c$$.PIXEL_FORMAT_RGBA4444=8;$_c$$.PIXEL_FORMAT_RGB5A1=7;$_c$$.PIXEL_FORMAT_PVRTC4=
9;$_c$$.PIXEL_FORMAT_PVRTC2=10;$_c$$.PIXEL_FORMAT_DEFAULT=$_c$$.PIXEL_FORMAT_RGBA8888;var $_B__M__p$$=cc.Texture2D._M={};$_B__M__p$$[$_c$$.PIXEL_FORMAT_RGBA8888]="RGBA8888";$_B__M__p$$[$_c$$.PIXEL_FORMAT_RGB888]="RGB888";$_B__M__p$$[$_c$$.PIXEL_FORMAT_RGB565]="RGB565";$_B__M__p$$[$_c$$.PIXEL_FORMAT_A8]="A8";$_B__M__p$$[$_c$$.PIXEL_FORMAT_I8]="I8";$_B__M__p$$[$_c$$.PIXEL_FORMAT_AI88]="AI88";$_B__M__p$$[$_c$$.PIXEL_FORMAT_RGBA4444]="RGBA4444";$_B__M__p$$[$_c$$.PIXEL_FORMAT_RGB5A1]="RGB5A1";$_B__M__p$$[$_c$$.PIXEL_FORMAT_PVRTC4]=
"PVRTC4";$_B__M__p$$[$_c$$.PIXEL_FORMAT_PVRTC2]="PVRTC2";$_B__M__p$$=cc.Texture2D._B={};$_B__M__p$$[$_c$$.PIXEL_FORMAT_RGBA8888]=32;$_B__M__p$$[$_c$$.PIXEL_FORMAT_RGB888]=24;$_B__M__p$$[$_c$$.PIXEL_FORMAT_RGB565]=16;$_B__M__p$$[$_c$$.PIXEL_FORMAT_A8]=8;$_B__M__p$$[$_c$$.PIXEL_FORMAT_I8]=8;$_B__M__p$$[$_c$$.PIXEL_FORMAT_AI88]=16;$_B__M__p$$[$_c$$.PIXEL_FORMAT_RGBA4444]=16;$_B__M__p$$[$_c$$.PIXEL_FORMAT_RGB5A1]=16;$_B__M__p$$[$_c$$.PIXEL_FORMAT_PVRTC4]=4;$_B__M__p$$[$_c$$.PIXEL_FORMAT_PVRTC2]=3;$_B__M__p$$=
cc.Texture2D.prototype;$_B__M__p$$.name;cc.defineGetterSetter($_B__M__p$$,"name",$_B__M__p$$.getName);$_B__M__p$$.pixelFormat;cc.defineGetterSetter($_B__M__p$$,"pixelFormat",$_B__M__p$$.getPixelFormat);$_B__M__p$$.pixelsWidth;cc.defineGetterSetter($_B__M__p$$,"pixelsWidth",$_B__M__p$$.getPixelsWide);$_B__M__p$$.pixelsHeight;cc.defineGetterSetter($_B__M__p$$,"pixelsHeight",$_B__M__p$$.getPixelsHigh);$_B__M__p$$.width;cc.defineGetterSetter($_B__M__p$$,"width",$_B__M__p$$._getWidth);$_B__M__p$$.height;
cc.defineGetterSetter($_B__M__p$$,"height",$_B__M__p$$._getHeight);$_c$$.defaultPixelFormat=$_c$$.PIXEL_FORMAT_DEFAULT};cc._tmp.PrototypeTextureAtlas=function $cc$_tmp$PrototypeTextureAtlas$(){var $_p$$=cc.TextureAtlas.prototype;$_p$$.totalQuads;cc.defineGetterSetter($_p$$,"totalQuads",$_p$$.getTotalQuads);$_p$$.capacity;cc.defineGetterSetter($_p$$,"capacity",$_p$$.getCapacity);$_p$$.quads;cc.defineGetterSetter($_p$$,"quads",$_p$$.getQuads,$_p$$.setQuads)};cc.ALIGN_CENTER=51;cc.ALIGN_TOP=19;
cc.ALIGN_TOP_RIGHT=18;cc.ALIGN_RIGHT=50;cc.ALIGN_BOTTOM_RIGHT=34;cc.ALIGN_BOTTOM=35;cc.ALIGN_BOTTOM_LEFT=33;cc.ALIGN_LEFT=49;cc.ALIGN_TOP_LEFT=17;cc.PVRHaveAlphaPremultiplied_=!1;
cc._renderType===cc._RENDER_TYPE_CANVAS?cc.Texture2D=cc.Class.extend({_contentSize:null,_isLoaded:!1,_htmlElementObj:null,url:null,ctor:function(){this._contentSize=cc.size(0,0);this._isLoaded=!1;this._htmlElementObj=null},getPixelsWide:function(){return this._contentSize.width},getPixelsHigh:function(){return this._contentSize.height},getContentSize:function(){var $locScaleFactor$$=cc.contentScaleFactor();return cc.size(this._contentSize.width/$locScaleFactor$$,this._contentSize.height/$locScaleFactor$$)},
_getWidth:function(){return this._contentSize.width/cc.contentScaleFactor()},_getHeight:function(){return this._contentSize.height/cc.contentScaleFactor()},getContentSizeInPixels:function(){return this._contentSize},initWithElement:function($element$$){$element$$&&(this._htmlElementObj=$element$$)},getHtmlElementObj:function(){return this._htmlElementObj},isLoaded:function(){return this._isLoaded},handleLoadedTexture:function(){if(!this._isLoaded){if(!this._htmlElementObj){var $img$$=cc.loader.getRes(this.url);
if(!$img$$)return;this.initWithElement($img$$)}this._isLoaded=!0;$img$$=this._htmlElementObj;this._contentSize.width=$img$$.width;this._contentSize.height=$img$$.height;this.dispatchEvent("load")}},description:function(){return"<cc.Texture2D | width = "+this._contentSize.width+" height "+this._contentSize.height+">"},initWithData:function($data$$,$pixelFormat$$,$pixelsWide$$,$pixelsHigh$$,$contentSize$$){return!1},initWithImage:function($uiImage$$){return!1},initWithString:function($text$$,$fontName$$,
$fontSize$$,$dimensions$$,$hAlignment$$,$vAlignment$$){return!1},releaseTexture:function(){},getName:function(){return null},getMaxS:function(){return 1},setMaxS:function($maxS$$){},getMaxT:function(){return 1},setMaxT:function($maxT$$){},getPixelFormat:function(){return null},getShaderProgram:function(){return null},setShaderProgram:function($shaderProgram$$){},hasPremultipliedAlpha:function(){return!1},hasMipmaps:function(){return!1},releaseData:function($data$$){},keepData:function($data$$,$length$$){return $data$$},
drawAtPoint:function($point$$){},drawInRect:function($rect$$){},initWithETCFile:function($file$$){cc.log(cc._LogInfos.Texture2D_initWithETCFile);return!1},initWithPVRFile:function($file$$){cc.log(cc._LogInfos.Texture2D_initWithPVRFile);return!1},initWithPVRTCData:function($data$$,$level$$,$bpp$$,$hasAlpha$$,$length$$,$pixelFormat$$){cc.log(cc._LogInfos.Texture2D_initWithPVRTCData);return!1},setTexParameters:function($texParams$$){},setAntiAliasTexParameters:function(){},setAliasTexParameters:function(){},
generateMipmap:function(){},stringForFormat:function(){return""},bitsPerPixelForFormat:function($format$$){return-1},addLoadedEventListener:function($callback$$,$target$$){this.addEventListener("load",$callback$$,$target$$)},removeLoadedEventListener:function($target$$){this.removeEventListener("load",$target$$)}}):(cc.assert(cc.isFunction(cc._tmp.WebGLTexture2D),cc._LogInfos.MissingFile,"TexturesWebGL.js"),cc._tmp.WebGLTexture2D(),delete cc._tmp.WebGLTexture2D);cc.EventHelper.prototype.apply(cc.Texture2D.prototype);
cc.assert(cc.isFunction(cc._tmp.PrototypeTexture2D),cc._LogInfos.MissingFile,"TexturesPropertyDefine.js");cc._tmp.PrototypeTexture2D();delete cc._tmp.PrototypeTexture2D;
cc.textureCache={_textures:{},_textureColorsCache:{},_textureKeySeq:0|1E3*Math.random(),_loadedTexturesBefore:{},_initializingRenderer:function $cc$textureCache$_initializingRenderer$(){var $selPath$$,$locLoadedTexturesBefore$$=this._loadedTexturesBefore,$locTextures$$=this._textures;for($selPath$$ in $locLoadedTexturesBefore$$){var $tex2d$$=$locLoadedTexturesBefore$$[$selPath$$];$tex2d$$.handleLoadedTexture();$locTextures$$[$selPath$$]=$tex2d$$}this._loadedTexturesBefore={}},addPVRTCImage:function $cc$textureCache$addPVRTCImage$($filename$$){cc.log(cc._LogInfos.textureCache_addPVRTCImage)},
addETCImage:function $cc$textureCache$addETCImage$($filename$$){cc.log(cc._LogInfos.textureCache_addETCImage)},description:function $cc$textureCache$description$(){return"<TextureCache | Number of textures = "+this._textures.length+">"},textureForKey:function $cc$textureCache$textureForKey$($textureKeyName$$){cc.log(cc._LogInfos.textureCache_textureForKey);return this.getTextureForKey($textureKeyName$$)},getTextureForKey:function $cc$textureCache$getTextureForKey$($textureKeyName$$){return this._textures[$textureKeyName$$]||
this._textures[cc.loader._aliases[$textureKeyName$$]]},getKeyByTexture:function $cc$textureCache$getKeyByTexture$($texture$$){for(var $key$$ in this._textures)if(this._textures[$key$$]==$texture$$)return $key$$;return null},_generalTextureKey:function $cc$textureCache$_generalTextureKey$(){this._textureKeySeq++;return"_textureKey_"+this._textureKeySeq},getTextureColors:function $cc$textureCache$getTextureColors$($texture$$){var $key$$=this.getKeyByTexture($texture$$);$key$$||($key$$=$texture$$ instanceof
HTMLImageElement?$texture$$.src:this._generalTextureKey());this._textureColorsCache[$key$$]||(this._textureColorsCache[$key$$]=cc.generateTextureCacheForColor($texture$$));return this._textureColorsCache[$key$$]},addPVRImage:function $cc$textureCache$addPVRImage$($path$$){cc.log(cc._LogInfos.textureCache_addPVRImage)},removeAllTextures:function $cc$textureCache$removeAllTextures$(){var $locTextures$$=this._textures,$selKey$$;for($selKey$$ in $locTextures$$)$locTextures$$[$selKey$$]&&$locTextures$$[$selKey$$].releaseTexture();
this._textures={}},removeTexture:function $cc$textureCache$removeTexture$($texture$$){if($texture$$){var $locTextures$$=this._textures,$selKey$$;for($selKey$$ in $locTextures$$)$locTextures$$[$selKey$$]==$texture$$&&($locTextures$$[$selKey$$].releaseTexture(),delete $locTextures$$[$selKey$$])}},removeTextureForKey:function $cc$textureCache$removeTextureForKey$($textureKeyName$$){null!=$textureKeyName$$&&this._textures[$textureKeyName$$]&&delete this._textures[$textureKeyName$$]},cacheImage:function $cc$textureCache$cacheImage$($path$$,
$texture$$){if($texture$$ instanceof cc.Texture2D)this._textures[$path$$]=$texture$$;else{var $texture2d$$=new cc.Texture2D;$texture2d$$.initWithElement($texture$$);$texture2d$$.handleLoadedTexture();this._textures[$path$$]=$texture2d$$}},addUIImage:function $cc$textureCache$addUIImage$($image$$,$key$$){cc.assert($image$$,cc._LogInfos.textureCache_addUIImage_2);if($key$$&&this._textures[$key$$])return this._textures[$key$$];var $texture$$=new cc.Texture2D;$texture$$.initWithImage($image$$);null!=
$key$$&&null!=$texture$$?this._textures[$key$$]=$texture$$:cc.log(cc._LogInfos.textureCache_addUIImage);return $texture$$},dumpCachedTextureInfo:function $cc$textureCache$dumpCachedTextureInfo$(){var $count$$=0,$totalBytes$$=0,$locTextureColorsCache_locTextures$$=this._textures,$key$$;for($key$$ in $locTextureColorsCache_locTextures$$){var $selCanvasColorsArr_selTexture$$=$locTextureColorsCache_locTextures$$[$key$$];$count$$++;$selCanvasColorsArr_selTexture$$.getHtmlElementObj()instanceof HTMLImageElement?
cc.log(cc._LogInfos.textureCache_dumpCachedTextureInfo,$key$$,$selCanvasColorsArr_selTexture$$.getHtmlElementObj().src,$selCanvasColorsArr_selTexture$$.pixelsWidth,$selCanvasColorsArr_selTexture$$.pixelsHeight):cc.log(cc._LogInfos.textureCache_dumpCachedTextureInfo_2,$key$$,$selCanvasColorsArr_selTexture$$.pixelsWidth,$selCanvasColorsArr_selTexture$$.pixelsHeight);$totalBytes$$+=$selCanvasColorsArr_selTexture$$.pixelsWidth*$selCanvasColorsArr_selTexture$$.pixelsHeight*4}$locTextureColorsCache_locTextures$$=
this._textureColorsCache;for($key$$ in $locTextureColorsCache_locTextures$$){var $selCanvasColorsArr_selTexture$$=$locTextureColorsCache_locTextures$$[$key$$],$selCanvasKey$$;for($selCanvasKey$$ in $selCanvasColorsArr_selTexture$$){var $selCanvas$$=$selCanvasColorsArr_selTexture$$[$selCanvasKey$$];$count$$++;cc.log(cc._LogInfos.textureCache_dumpCachedTextureInfo_2,$key$$,$selCanvas$$.width,$selCanvas$$.height);$totalBytes$$+=$selCanvas$$.width*$selCanvas$$.height*4}}cc.log(cc._LogInfos.textureCache_dumpCachedTextureInfo_3,
$count$$,$totalBytes$$/1024,($totalBytes$$/1048576).toFixed(2))},_clear:function $cc$textureCache$_clear$(){this._textures={};this._textureColorsCache={};this._textureKeySeq=0|1E3*Math.random();this._loadedTexturesBefore={}}};
cc._renderType===cc._RENDER_TYPE_CANVAS?(_p=cc.textureCache,_p.handleLoadedTexture=function $_p$handleLoadedTexture$($url$$){var $locTexs$$=this._textures,$tex$$=$locTexs$$[$url$$];$tex$$||($tex$$=$locTexs$$[$url$$]=new cc.Texture2D,$tex$$.url=$url$$);$tex$$.handleLoadedTexture()},_p.addImage=function $_p$addImage$($url$$,$cb$$,$target$$){cc.assert($url$$,cc._LogInfos.Texture2D_addImage);var $locTexs$$=this._textures,$tex$$=$locTexs$$[$url$$]||$locTexs$$[cc.loader._aliases[$url$$]];if($tex$$)return $cb$$&&
$cb$$.call($target$$,$tex$$),$tex$$;$tex$$=$locTexs$$[$url$$]=new cc.Texture2D;$tex$$.url=$url$$;cc.loader.getRes($url$$)?$tex$$.handleLoadedTexture():cc.loader._checkIsImageURL($url$$)?cc.loader.load($url$$,function($err$$){$cb$$&&$cb$$.call($target$$)}):cc.loader.loadImg($url$$,function($err$$,$img$$){if($err$$)return $cb$$?$cb$$($err$$):$err$$;cc.loader.cache[$url$$]=$img$$;cc.textureCache.handleLoadedTexture($url$$);$cb$$&&$cb$$.call($target$$,$tex$$)});return $tex$$},_p=null):(cc.assert(cc.isFunction(cc._tmp.WebGLTextureCache),
cc._LogInfos.MissingFile,"TexturesWebGL.js"),cc._tmp.WebGLTextureCache(),delete cc._tmp.WebGLTextureCache);cc.Scene=cc.Node.extend({_className:"Scene",ctor:function(){cc.Node.prototype.ctor.call(this);this._ignoreAnchorPointForPosition=!0;this.setAnchorPoint(.5,.5);this.setContentSize(cc.director.getWinSize())}});cc.Scene.create=function $cc$Scene$create$(){return new cc.Scene};
cc.LoaderScene=cc.Scene.extend({_interval:null,_label:null,_className:"LoaderScene",init:function(){var $self$$=this,$logoHeight$$=200,$bgLayer$$=$self$$._bgLayer=new cc.LayerColor(cc.color(32,32,32,255));$bgLayer$$.setPosition(cc.visibleRect.bottomLeft);$self$$.addChild($bgLayer$$,0);var $fontSize$$3_label$$=24,$lblHeight$$=-$logoHeight$$/2+100;cc._loaderImage&&(cc.loader.loadImg(cc._loaderImage,{isCrossOrigin:!1},function($err$$,$img$$){$logoHeight$$=$img$$.height;$self$$._initStage($img$$,cc.visibleRect.center)}),
$fontSize$$3_label$$=14,$lblHeight$$=-$logoHeight$$/2-10);$fontSize$$3_label$$=$self$$._label=new cc.LabelTTF("Loading... 0%","Arial",$fontSize$$3_label$$);$fontSize$$3_label$$.setPosition(cc.pAdd(cc.visibleRect.center,cc.p(0,$lblHeight$$)));$fontSize$$3_label$$.setColor(cc.color(180,180,180));$bgLayer$$.addChild(this._label,10);return!0},_initStage:function($img$$,$centerPos$$){var $logo_texture2d$$=this._texture2d=new cc.Texture2D;$logo_texture2d$$.initWithElement($img$$);$logo_texture2d$$.handleLoadedTexture();
$logo_texture2d$$=this._logo=new cc.Sprite($logo_texture2d$$);$logo_texture2d$$.setScale(cc.contentScaleFactor());$logo_texture2d$$.x=$centerPos$$.x;$logo_texture2d$$.y=$centerPos$$.y;this._bgLayer.addChild($logo_texture2d$$,10)},onEnter:function(){cc.Node.prototype.onEnter.call(this);this.schedule(this._startLoading,.3)},onExit:function(){cc.Node.prototype.onExit.call(this);this._label.setString("Loading... 0%")},initWithResources:function($resources$$,$cb$$){cc.isString($resources$$)&&($resources$$=
[$resources$$]);this.resources=$resources$$||[];this.cb=$cb$$},_startLoading:function(){var $self$$=this;$self$$.unschedule($self$$._startLoading);cc.loader.load($self$$.resources,function($percent$$1_result$$,$count$$,$loadedCount$$){$percent$$1_result$$=Math.min($loadedCount$$/$count$$*100|0,100);$self$$._label.setString("Loading... "+$percent$$1_result$$+"%")},function(){$self$$.cb&&$self$$.cb()})}});
cc.LoaderScene.preload=function $cc$LoaderScene$preload$($resources$$,$cb$$){var $_cc$$=cc;$_cc$$.loaderScene||($_cc$$.loaderScene=new cc.LoaderScene,$_cc$$.loaderScene.init());$_cc$$.loaderScene.initWithResources($resources$$,$cb$$);cc.director.runScene($_cc$$.loaderScene);return $_cc$$.loaderScene};
cc._tmp.PrototypeLayerColor=function $cc$_tmp$PrototypeLayerColor$(){var $_p$$=cc.LayerColor.prototype;cc.defineGetterSetter($_p$$,"width",$_p$$._getWidth,$_p$$._setWidth);cc.defineGetterSetter($_p$$,"height",$_p$$._getHeight,$_p$$._setHeight)};
cc._tmp.PrototypeLayerGradient=function $cc$_tmp$PrototypeLayerGradient$(){var $_p$$=cc.LayerGradient.prototype;$_p$$.startColor;cc.defineGetterSetter($_p$$,"startColor",$_p$$.getStartColor,$_p$$.setStartColor);$_p$$.endColor;cc.defineGetterSetter($_p$$,"endColor",$_p$$.getEndColor,$_p$$.setEndColor);$_p$$.startOpacity;cc.defineGetterSetter($_p$$,"startOpacity",$_p$$.getStartOpacity,$_p$$.setStartOpacity);$_p$$.endOpacity;cc.defineGetterSetter($_p$$,"endOpacity",$_p$$.getEndOpacity,$_p$$.setEndOpacity);
$_p$$.vector;cc.defineGetterSetter($_p$$,"vector",$_p$$.getVector,$_p$$.setVector)};
cc.Layer=cc.Node.extend({_isBaked:!1,_bakeSprite:null,_bakeRenderCmd:null,_className:"Layer",ctor:function(){var $nodep$$=cc.Node.prototype;$nodep$$.ctor.call(this);this._ignoreAnchorPointForPosition=!0;$nodep$$.setAnchorPoint.call(this,.5,.5);$nodep$$.setContentSize.call(this,cc.winSize)},init:function(){this._ignoreAnchorPointForPosition=!0;this.setAnchorPoint(.5,.5);this.setContentSize(cc.winSize);this.cascadeColor=this.cascadeOpacity=!1;return!0},bake:null,unbake:null,_bakeRendering:null,isBaked:function(){return this._isBaked},
visit:null});cc.Layer.create=function $cc$Layer$create$(){return new cc.Layer};
if(cc._renderType===cc._RENDER_TYPE_CANVAS){var p=cc.Layer.prototype;p.bake=function $p$bake$(){if(!this._isBaked){this._isBaked=this._cacheDirty=cc.renderer.childrenOrderDirty=!0;!this._bakeRenderCmd&&this._bakeRendering&&(this._bakeRenderCmd=new cc.CustomRenderCmdCanvas(this,this._bakeRendering));this._cachedParent=this;for(var $children$$=this._children,$i$$=0,$len$$=$children$$.length;$i$$<$len$$;$i$$++)$children$$[$i$$]._setCachedParent(this);this._bakeSprite||(this._bakeSprite=new cc.BakeSprite,
this._bakeSprite._parent=this)}};p.unbake=function $p$unbake$(){if(this._isBaked){cc.renderer.childrenOrderDirty=!0;this._isBaked=!1;this._cacheDirty=!0;this._cachedParent=null;for(var $children$$=this._children,$i$$=0,$len$$=$children$$.length;$i$$<$len$$;$i$$++)$children$$[$i$$]._setCachedParent(null)}};p.addChild=function $p$addChild$($child$$,$localZOrder$$,$tag$$){cc.Node.prototype.addChild.call(this,$child$$,$localZOrder$$,$tag$$);$child$$._parent==this&&this._isBaked&&$child$$._setCachedParent(this)};
p._bakeRendering=function $p$_bakeRendering$(){if(this._cacheDirty){var $children$$=this._children,$i$$=this._bakeSprite,$boundingBox_len$$=this._getBoundingBoxForBake();$boundingBox_len$$.width|=0;$boundingBox_len$$.height|=0;var $bakeContext$$=$i$$.getCacheContext();$i$$.resetCanvasSize($boundingBox_len$$.width,$boundingBox_len$$.height);$bakeContext$$.translate(0-$boundingBox_len$$.x,$boundingBox_len$$.height+$boundingBox_len$$.y);var $anchor_t$$=cc.affineTransformInvert(this._transformWorld),
$scaleX$$=cc.view.getScaleX(),$scaleY$$=cc.view.getScaleY();$bakeContext$$.transform($anchor_t$$.a,$anchor_t$$.c,$anchor_t$$.b,$anchor_t$$.d,$anchor_t$$.tx*$scaleX$$,-$anchor_t$$.ty*$scaleY$$);$anchor_t$$=$i$$.getAnchorPointInPoints();$i$$.setPosition($anchor_t$$.x+$boundingBox_len$$.x,$anchor_t$$.y+$boundingBox_len$$.y);this.sortAllChildren();cc.renderer._turnToCacheMode(this.__instanceId);$i$$=0;for($boundingBox_len$$=$children$$.length;$i$$<$boundingBox_len$$;$i$$++)$children$$[$i$$].visit($bakeContext$$);
cc.renderer._renderingToCacheCanvas($bakeContext$$,this.__instanceId);this._cacheDirty=!1}};p.visit=function $p$visit$($context$$9_ctx$$){if(this._isBaked){$context$$9_ctx$$=$context$$9_ctx$$||cc._renderContext;var $len$$=this._children.length;this._visible&&0!==$len$$&&(this.transform($context$$9_ctx$$),this._bakeRenderCmd&&cc.renderer.pushRenderCommand(this._bakeRenderCmd),this._bakeSprite.visit($context$$9_ctx$$))}else cc.Node.prototype.visit.call(this,$context$$9_ctx$$)};p._getBoundingBoxForBake=
function $p$_getBoundingBoxForBake$(){var $rect$$=null;if(!this._children||0===this._children.length)return cc.rect(0,0,10,10);for(var $locChildren$$=this._children,$i$$=0;$i$$<$locChildren$$.length;$i$$++){var $child$$16_childRect$$=$locChildren$$[$i$$];$child$$16_childRect$$&&$child$$16_childRect$$._visible&&($rect$$?($child$$16_childRect$$=$child$$16_childRect$$._getBoundingBoxToCurrentNode())&&($rect$$=cc.rectUnion($rect$$,$child$$16_childRect$$)):$rect$$=$child$$16_childRect$$._getBoundingBoxToCurrentNode())}return $rect$$};
p=null}else cc.assert(cc.isFunction(cc._tmp.LayerDefineForWebGL),cc._LogInfos.MissingFile,"CCLayerWebGL.js"),cc._tmp.LayerDefineForWebGL(),delete cc._tmp.LayerDefineForWebGL;
cc.LayerColor=cc.Layer.extend({_blendFunc:null,_className:"LayerColor",getBlendFunc:function(){return this._blendFunc},changeWidthAndHeight:function($w$$,$h$$){this.width=$w$$;this.height=$h$$},changeWidth:function($w$$){this.width=$w$$},changeHeight:function($h$$){this.height=$h$$},setOpacityModifyRGB:function($value$$){},isOpacityModifyRGB:function(){return!1},setColor:function($color$$){cc.Layer.prototype.setColor.call(this,$color$$);this._updateColor()},setOpacity:function($opacity$$){cc.Layer.prototype.setOpacity.call(this,
$opacity$$);this._updateColor()},_blendFuncStr:"source",ctor:null,init:function($color$$8_proto$$,$width$$,$height$$){cc._renderType!==cc._RENDER_TYPE_CANVAS&&(this.shaderProgram=cc.shaderCache.programForKey(cc.SHADER_POSITION_COLOR));var $locDisplayedColor$$4_locRealColor$$=cc.director.getWinSize();$color$$8_proto$$=$color$$8_proto$$||cc.color(0,0,0,255);$width$$=void 0===$width$$?$locDisplayedColor$$4_locRealColor$$.width:$width$$;$height$$=void 0===$height$$?$locDisplayedColor$$4_locRealColor$$.height:
$height$$;$locDisplayedColor$$4_locRealColor$$=this._displayedColor;$locDisplayedColor$$4_locRealColor$$.r=$color$$8_proto$$.r;$locDisplayedColor$$4_locRealColor$$.g=$color$$8_proto$$.g;$locDisplayedColor$$4_locRealColor$$.b=$color$$8_proto$$.b;$locDisplayedColor$$4_locRealColor$$=this._realColor;$locDisplayedColor$$4_locRealColor$$.r=$color$$8_proto$$.r;$locDisplayedColor$$4_locRealColor$$.g=$color$$8_proto$$.g;$locDisplayedColor$$4_locRealColor$$.b=$color$$8_proto$$.b;this._realOpacity=this._displayedOpacity=
$color$$8_proto$$.a;$color$$8_proto$$=cc.LayerColor.prototype;$color$$8_proto$$.setContentSize.call(this,$width$$,$height$$);$color$$8_proto$$._updateColor.call(this);return!0},setBlendFunc:function($src$$,$dst$$){var $locBlendFunc$$=this._blendFunc;void 0===$dst$$?($locBlendFunc$$.src=$src$$.src,$locBlendFunc$$.dst=$src$$.dst):($locBlendFunc$$.src=$src$$,$locBlendFunc$$.dst=$dst$$);cc._renderType===cc._RENDER_TYPE_CANVAS&&(this._blendFuncStr=cc._getCompositeOperationByBlendFunc($locBlendFunc$$))},
_setWidth:null,_setHeight:null,_updateColor:null,updateDisplayedColor:function($parentColor$$){cc.Layer.prototype.updateDisplayedColor.call(this,$parentColor$$);this._updateColor()},updateDisplayedOpacity:function($parentOpacity$$){cc.Layer.prototype.updateDisplayedOpacity.call(this,$parentOpacity$$);this._updateColor()},draw:null});cc.LayerColor.create=function $cc$LayerColor$create$($color$$,$width$$,$height$$){return new cc.LayerColor($color$$,$width$$,$height$$)};
cc._renderType===cc._RENDER_TYPE_CANVAS?(_p=cc.LayerColor.prototype,_p.ctor=function $_p$ctor$($color$$,$width$$,$height$$){cc.Layer.prototype.ctor.call(this);this._blendFunc=new cc.BlendFunc(cc.BLEND_SRC,cc.BLEND_DST);cc.LayerColor.prototype.init.call(this,$color$$,$width$$,$height$$)},_p._initRendererCmd=function $_p$_initRendererCmd$(){this._rendererCmd=new cc.RectRenderCmdCanvas(this)},_p._setWidth=function $_p$_setWidth$($width$$){cc.Node.prototype._setWidth.call(this,$width$$)},_p._setHeight=
function $_p$_setHeight$($height$$){cc.Node.prototype._setHeight.call(this,$height$$)},_p._updateColor=function $_p$_updateColor$(){var $locCmd$$=this._rendererCmd;if($locCmd$$&&$locCmd$$._color){var $locColor$$=this._displayedColor;$locCmd$$._color.r=$locColor$$.r;$locCmd$$._color.g=$locColor$$.g;$locCmd$$._color.b=$locColor$$.b;$locCmd$$._color.a=this._displayedOpacity/255}},_p.draw=function $_p$draw$($context$$10_ctx$$){$context$$10_ctx$$=$context$$10_ctx$$||cc._renderContext;var $locEGLViewer$$=
cc.view,$locDisplayedColor$$=this._displayedColor;$context$$10_ctx$$.fillStyle="rgba("+(0|$locDisplayedColor$$.r)+","+(0|$locDisplayedColor$$.g)+","+(0|$locDisplayedColor$$.b)+","+this._displayedOpacity/255+")";$context$$10_ctx$$.fillRect(0,0,this.width*$locEGLViewer$$.getScaleX(),-this.height*$locEGLViewer$$.getScaleY());cc.g_NumberOfDraws++},_p._bakeRendering=function $_p$_bakeRendering$(){if(this._cacheDirty){var $i$$82_locBakeSprite$$1_t$$=this._bakeSprite,$children$$=this._children,$len$$=$children$$.length,
$boundingBox$$1_child$$17_scaleX$$=this._getBoundingBoxForBake();$boundingBox$$1_child$$17_scaleX$$.width|=0;$boundingBox$$1_child$$17_scaleX$$.height|=0;var $bakeContext$$=$i$$82_locBakeSprite$$1_t$$.getCacheContext();$i$$82_locBakeSprite$$1_t$$.resetCanvasSize($boundingBox$$1_child$$17_scaleX$$.width,$boundingBox$$1_child$$17_scaleX$$.height);var $anchor$$1_scaleY$$=$i$$82_locBakeSprite$$1_t$$.getAnchorPointInPoints(),$JSCompiler_object_inline_y_97_locPos$$=this._position;if(this._ignoreAnchorPointForPosition)$bakeContext$$.translate(0-
$boundingBox$$1_child$$17_scaleX$$.x+$JSCompiler_object_inline_y_97_locPos$$.x,$boundingBox$$1_child$$17_scaleX$$.height+$boundingBox$$1_child$$17_scaleX$$.y-$JSCompiler_object_inline_y_97_locPos$$.y),$i$$82_locBakeSprite$$1_t$$.setPosition($anchor$$1_scaleY$$.x+$boundingBox$$1_child$$17_scaleX$$.x-$JSCompiler_object_inline_y_97_locPos$$.x,$anchor$$1_scaleY$$.y+$boundingBox$$1_child$$17_scaleX$$.y-$JSCompiler_object_inline_y_97_locPos$$.y);else{var $selfAnchor$$=this.getAnchorPointInPoints(),$JSCompiler_object_inline_x_96$$=
$JSCompiler_object_inline_y_97_locPos$$.x-$selfAnchor$$.x,$JSCompiler_object_inline_y_97_locPos$$=$JSCompiler_object_inline_y_97_locPos$$.y-$selfAnchor$$.y;$bakeContext$$.translate(0-$boundingBox$$1_child$$17_scaleX$$.x+$JSCompiler_object_inline_x_96$$,$boundingBox$$1_child$$17_scaleX$$.height+$boundingBox$$1_child$$17_scaleX$$.y-$JSCompiler_object_inline_y_97_locPos$$);$i$$82_locBakeSprite$$1_t$$.setPosition($anchor$$1_scaleY$$.x+$boundingBox$$1_child$$17_scaleX$$.x-$JSCompiler_object_inline_x_96$$,
$anchor$$1_scaleY$$.y+$boundingBox$$1_child$$17_scaleX$$.y-$JSCompiler_object_inline_y_97_locPos$$)}$i$$82_locBakeSprite$$1_t$$=cc.affineTransformInvert(this._transformWorld);$boundingBox$$1_child$$17_scaleX$$=cc.view.getScaleX();$anchor$$1_scaleY$$=cc.view.getScaleY();$bakeContext$$.transform($i$$82_locBakeSprite$$1_t$$.a,$i$$82_locBakeSprite$$1_t$$.c,$i$$82_locBakeSprite$$1_t$$.b,$i$$82_locBakeSprite$$1_t$$.d,$i$$82_locBakeSprite$$1_t$$.tx*$boundingBox$$1_child$$17_scaleX$$,-$i$$82_locBakeSprite$$1_t$$.ty*
$anchor$$1_scaleY$$);cc.renderer._turnToCacheMode(this.__instanceId);if(0<$len$$){this.sortAllChildren();for($i$$82_locBakeSprite$$1_t$$=0;$i$$82_locBakeSprite$$1_t$$<$len$$;$i$$82_locBakeSprite$$1_t$$++)if($boundingBox$$1_child$$17_scaleX$$=$children$$[$i$$82_locBakeSprite$$1_t$$],0>$boundingBox$$1_child$$17_scaleX$$._localZOrder)$boundingBox$$1_child$$17_scaleX$$.visit($bakeContext$$);else break;for(this._rendererCmd&&cc.renderer.pushRenderCommand(this._rendererCmd);$i$$82_locBakeSprite$$1_t$$<
$len$$;$i$$82_locBakeSprite$$1_t$$++)$children$$[$i$$82_locBakeSprite$$1_t$$].visit($bakeContext$$)}else this._rendererCmd&&cc.renderer.pushRenderCommand(this._rendererCmd);cc.renderer._renderingToCacheCanvas($bakeContext$$,this.__instanceId);this._cacheDirty=!1}},_p.visit=function $_p$visit$($context$$11_ctx$$){this._isBaked?($context$$11_ctx$$=$context$$11_ctx$$||cc._renderContext,this._visible&&(this.transform($context$$11_ctx$$),this._bakeRenderCmd&&cc.renderer.pushRenderCommand(this._bakeRenderCmd),
this._bakeSprite.visit($context$$11_ctx$$))):cc.Node.prototype.visit.call(this,$context$$11_ctx$$)},_p._getBoundingBoxForBake=function $_p$_getBoundingBoxForBake$(){var $rect$$=cc.rect(0,0,this._contentSize.width,this._contentSize.height),$trans$$=this.nodeToWorldTransform(),$rect$$=cc.rectApplyAffineTransform($rect$$,this.nodeToWorldTransform());if(!this._children||0===this._children.length)return $rect$$;for(var $locChildren$$=this._children,$i$$=0;$i$$<$locChildren$$.length;$i$$++){var $child$$18_childRect$$=
$locChildren$$[$i$$];$child$$18_childRect$$&&$child$$18_childRect$$._visible&&($child$$18_childRect$$=$child$$18_childRect$$._getBoundingBoxToCurrentNode($trans$$),$rect$$=cc.rectUnion($rect$$,$child$$18_childRect$$))}return $rect$$},_p=null):(cc.assert(cc.isFunction(cc._tmp.WebGLLayerColor),cc._LogInfos.MissingFile,"CCLayerWebGL.js"),cc._tmp.WebGLLayerColor(),delete cc._tmp.WebGLLayerColor);cc.assert(cc.isFunction(cc._tmp.PrototypeLayerColor),cc._LogInfos.MissingFile,"CCLayerPropertyDefine.js");
cc._tmp.PrototypeLayerColor();delete cc._tmp.PrototypeLayerColor;
cc.LayerGradient=cc.LayerColor.extend({_endColor:null,_startOpacity:255,_endOpacity:255,_alongVector:null,_compressedInterpolation:!1,_className:"LayerGradient",ctor:function($start$$,$end$$,$v$$){cc.LayerColor.prototype.ctor.call(this);this._endColor=cc.color(0,0,0,255);this._alongVector=cc.p(0,-1);this._endOpacity=this._startOpacity=255;cc.LayerGradient.prototype.init.call(this,$start$$,$end$$,$v$$)},_initRendererCmd:function(){this._rendererCmd=new cc.GradientRectRenderCmdCanvas(this)},init:function($start$$,
$end$$,$v$$){$start$$=$start$$||cc.color(0,0,0,255);$end$$=$end$$||cc.color(0,0,0,255);$v$$=$v$$||cc.p(0,-1);var $locEndColor$$=this._endColor;this._startOpacity=$start$$.a;$locEndColor$$.r=$end$$.r;$locEndColor$$.g=$end$$.g;$locEndColor$$.b=$end$$.b;this._endOpacity=$end$$.a;this._alongVector=$v$$;this._compressedInterpolation=!0;cc.LayerColor.prototype.init.call(this,cc.color($start$$.r,$start$$.g,$start$$.b,255));cc.LayerGradient.prototype._updateColor.call(this);return!0},setContentSize:function($size$$,
$height$$){cc.LayerColor.prototype.setContentSize.call(this,$size$$,$height$$);this._updateColor()},_setWidth:function($width$$){cc.LayerColor.prototype._setWidth.call(this,$width$$);this._updateColor()},_setHeight:function($height$$){cc.LayerColor.prototype._setHeight.call(this,$height$$);this._updateColor()},getStartColor:function(){return this._realColor},setStartColor:function($color$$){this.color=$color$$},setEndColor:function($color$$){this._endColor=$color$$;this._updateColor()},getEndColor:function(){return this._endColor},
setStartOpacity:function($o$$){this._startOpacity=$o$$;this._updateColor()},getStartOpacity:function(){return this._startOpacity},setEndOpacity:function($o$$){this._endOpacity=$o$$;this._updateColor()},getEndOpacity:function(){return this._endOpacity},setVector:function($Var$$){this._alongVector.x=$Var$$.x;this._alongVector.y=$Var$$.y;this._updateColor()},getVector:function(){return cc.p(this._alongVector.x,this._alongVector.y)},isCompressedInterpolation:function(){return this._compressedInterpolation},
setCompressedInterpolation:function($compress$$){this._compressedInterpolation=$compress$$;this._updateColor()},_draw:null,_updateColor:null});cc.LayerGradient.create=function $cc$LayerGradient$create$($start$$,$end$$,$v$$){return new cc.LayerGradient($start$$,$end$$,$v$$)};
cc._renderType===cc._RENDER_TYPE_CANVAS?(_p=cc.LayerGradient.prototype,_p._updateColor=function $_p$_updateColor$(){var $locAlongVector$$=this._alongVector,$locEndColor$$=.5*this.width,$startOpacity_tHeight$$=.5*this.height,$locCmd$$=this._rendererCmd;$locCmd$$._startPoint.x=$locEndColor$$*-$locAlongVector$$.x+$locEndColor$$;$locCmd$$._startPoint.y=$startOpacity_tHeight$$*$locAlongVector$$.y-$startOpacity_tHeight$$;$locCmd$$._endPoint.x=$locEndColor$$*$locAlongVector$$.x+$locEndColor$$;$locCmd$$._endPoint.y=
$startOpacity_tHeight$$*-$locAlongVector$$.y-$startOpacity_tHeight$$;var $locAlongVector$$=this._displayedColor,$locEndColor$$=this._endColor,$startOpacity_tHeight$$=this._startOpacity,$endOpacity$$=this._endOpacity;$locCmd$$._startStopStr="rgba("+Math.round($locAlongVector$$.r)+","+Math.round($locAlongVector$$.g)+","+Math.round($locAlongVector$$.b)+","+$startOpacity_tHeight$$.toFixed(4)+")";$locCmd$$._endStopStr="rgba("+Math.round($locEndColor$$.r)+","+Math.round($locEndColor$$.g)+","+Math.round($locEndColor$$.b)+
","+$endOpacity$$.toFixed(4)+")"},_p=null):(cc.assert(cc.isFunction(cc._tmp.WebGLLayerGradient),cc._LogInfos.MissingFile,"CCLayerWebGL.js"),cc._tmp.WebGLLayerGradient(),delete cc._tmp.WebGLLayerGradient);cc.assert(cc.isFunction(cc._tmp.PrototypeLayerGradient),cc._LogInfos.MissingFile,"CCLayerPropertyDefine.js");cc._tmp.PrototypeLayerGradient();delete cc._tmp.PrototypeLayerGradient;
cc.LayerMultiplex=cc.Layer.extend({_enabledLayer:0,_layers:null,_className:"LayerMultiplex",ctor:function($layers$$){cc.Layer.prototype.ctor.call(this);$layers$$ instanceof Array?cc.LayerMultiplex.prototype.initWithLayers.call(this,$layers$$):cc.LayerMultiplex.prototype.initWithLayers.call(this,Array.prototype.slice.call(arguments))},initWithLayers:function($layers$$){0<$layers$$.length&&null==$layers$$[$layers$$.length-1]&&cc.log(cc._LogInfos.LayerMultiplex_initWithLayers);this._layers=$layers$$;
this._enabledLayer=0;this.addChild(this._layers[this._enabledLayer]);return!0},switchTo:function($n$$){$n$$>=this._layers.length?cc.log(cc._LogInfos.LayerMultiplex_switchTo):(this.removeChild(this._layers[this._enabledLayer],!0),this._enabledLayer=$n$$,this.addChild(this._layers[$n$$]))},switchToAndReleaseMe:function($n$$){$n$$>=this._layers.length?cc.log(cc._LogInfos.LayerMultiplex_switchToAndReleaseMe):(this.removeChild(this._layers[this._enabledLayer],!0),this._layers[this._enabledLayer]=null,
this._enabledLayer=$n$$,this.addChild(this._layers[$n$$]))},addLayer:function($layer$$){$layer$$?this._layers.push($layer$$):cc.log(cc._LogInfos.LayerMultiplex_addLayer)}});cc.LayerMultiplex.create=function $cc$LayerMultiplex$create$(){return new cc.LayerMultiplex(Array.prototype.slice.call(arguments))};
cc._tmp.PrototypeSprite=function $cc$_tmp$PrototypeSprite$(){var $_p$$=cc.Sprite.prototype;cc.defineGetterSetter($_p$$,"opacityModifyRGB",$_p$$.isOpacityModifyRGB,$_p$$.setOpacityModifyRGB);cc.defineGetterSetter($_p$$,"opacity",$_p$$.getOpacity,$_p$$.setOpacity);cc.defineGetterSetter($_p$$,"color",$_p$$.getColor,$_p$$.setColor);$_p$$.dirty;$_p$$.flippedX;cc.defineGetterSetter($_p$$,"flippedX",$_p$$.isFlippedX,$_p$$.setFlippedX);$_p$$.flippedY;cc.defineGetterSetter($_p$$,"flippedY",$_p$$.isFlippedY,
$_p$$.setFlippedY);$_p$$.offsetX;cc.defineGetterSetter($_p$$,"offsetX",$_p$$._getOffsetX);$_p$$.offsetY;cc.defineGetterSetter($_p$$,"offsetY",$_p$$._getOffsetY);$_p$$.atlasIndex;$_p$$.texture;cc.defineGetterSetter($_p$$,"texture",$_p$$.getTexture,$_p$$.setTexture);$_p$$.textureRectRotated;cc.defineGetterSetter($_p$$,"textureRectRotated",$_p$$.isTextureRectRotated);$_p$$.textureAtlas;$_p$$.batchNode;cc.defineGetterSetter($_p$$,"batchNode",$_p$$.getBatchNode,$_p$$.setBatchNode);$_p$$.quad;cc.defineGetterSetter($_p$$,
"quad",$_p$$.getQuad)};
cc.generateTintImageWithMultiply=function $cc$generateTintImageWithMultiply$($image$$,$color$$,$rect$$,$renderCanvas$$){$renderCanvas$$=$renderCanvas$$||cc.newElement("canvas");$rect$$=$rect$$||cc.rect(0,0,$image$$.width,$image$$.height);var $context$$=$renderCanvas$$.getContext("2d");$renderCanvas$$.width!=$rect$$.width||$renderCanvas$$.height!=$rect$$.height?($renderCanvas$$.width=$rect$$.width,$renderCanvas$$.height=$rect$$.height):$context$$.globalCompositeOperation="source-over";$context$$.fillStyle=
"rgb("+(0|$color$$.r)+","+(0|$color$$.g)+","+(0|$color$$.b)+")";$context$$.fillRect(0,0,$rect$$.width,$rect$$.height);$context$$.globalCompositeOperation="multiply";$context$$.drawImage($image$$,$rect$$.x,$rect$$.y,$rect$$.width,$rect$$.height,0,0,$rect$$.width,$rect$$.height);$context$$.globalCompositeOperation="destination-atop";$context$$.drawImage($image$$,$rect$$.x,$rect$$.y,$rect$$.width,$rect$$.height,0,0,$rect$$.width,$rect$$.height);return $renderCanvas$$};
cc.generateTintImage=function $cc$generateTintImage$($r$$8_texture$$,$tintedImgCache$$,$b$$16_color$$,$rect$$,$buff_renderCanvas$$){$rect$$||($rect$$=cc.rect(0,0,$r$$8_texture$$.width,$r$$8_texture$$.height));$r$$8_texture$$=$b$$16_color$$.r/255;var $g$$=$b$$16_color$$.g/255;$b$$16_color$$=$b$$16_color$$.b/255;var $w$$=Math.min($rect$$.width,$tintedImgCache$$[0].width),$h$$=Math.min($rect$$.height,$tintedImgCache$$[0].height),$ctx$$;$buff_renderCanvas$$?($ctx$$=$buff_renderCanvas$$.getContext("2d"),
$ctx$$.clearRect(0,0,$w$$,$h$$)):($buff_renderCanvas$$=cc.newElement("canvas"),$buff_renderCanvas$$.width=$w$$,$buff_renderCanvas$$.height=$h$$,$ctx$$=$buff_renderCanvas$$.getContext("2d"));$ctx$$.save();$ctx$$.globalCompositeOperation="lighter";var $a$$=$ctx$$.globalAlpha;0<$r$$8_texture$$&&($ctx$$.globalAlpha=$r$$8_texture$$*$a$$,$ctx$$.drawImage($tintedImgCache$$[0],$rect$$.x,$rect$$.y,$w$$,$h$$,0,0,$w$$,$h$$));0<$g$$&&($ctx$$.globalAlpha=$g$$*$a$$,$ctx$$.drawImage($tintedImgCache$$[1],$rect$$.x,
$rect$$.y,$w$$,$h$$,0,0,$w$$,$h$$));0<$b$$16_color$$&&($ctx$$.globalAlpha=$b$$16_color$$*$a$$,$ctx$$.drawImage($tintedImgCache$$[2],$rect$$.x,$rect$$.y,$w$$,$h$$,0,0,$w$$,$h$$));1>$r$$8_texture$$+$g$$+$b$$16_color$$&&($ctx$$.globalAlpha=$a$$,$ctx$$.drawImage($tintedImgCache$$[3],$rect$$.x,$rect$$.y,$w$$,$h$$,0,0,$w$$,$h$$));$ctx$$.restore();return $buff_renderCanvas$$};
cc.generateTextureCacheForColor=function $cc$generateTextureCacheForColor$($texture$$){function $renderToCache$$(){var $ref$$=cc.generateTextureCacheForColor,$w$$=$texture$$.width,$h$$=$texture$$.height;$textureCache$$[0].width=$w$$;$textureCache$$[0].height=$h$$;$textureCache$$[1].width=$w$$;$textureCache$$[1].height=$h$$;$textureCache$$[2].width=$w$$;$textureCache$$[2].height=$h$$;$textureCache$$[3].width=$w$$;$textureCache$$[3].height=$h$$;$ref$$.canvas.width=$w$$;$ref$$.canvas.height=$h$$;var $ctx$$25_pixels$$=
$ref$$.canvas.getContext("2d");$ctx$$25_pixels$$.drawImage($texture$$,0,0);$ref$$.tempCanvas.width=$w$$;$ref$$.tempCanvas.height=$h$$;for(var $ctx$$25_pixels$$=$ctx$$25_pixels$$.getImageData(0,0,$w$$,$h$$).data,$rgbI$$=0;4>$rgbI$$;$rgbI$$++){var $cacheCtx$$=$textureCache$$[$rgbI$$].getContext("2d");$cacheCtx$$.getImageData(0,0,$w$$,$h$$).data;$ref$$.tempCtx.drawImage($texture$$,0,0);for(var $to$$=$ref$$.tempCtx.getImageData(0,0,$w$$,$h$$),$toData$$=$to$$.data,$i$$=0;$i$$<$ctx$$25_pixels$$.length;$i$$+=
4)$toData$$[$i$$]=0===$rgbI$$?$ctx$$25_pixels$$[$i$$]:0,$toData$$[$i$$+1]=1===$rgbI$$?$ctx$$25_pixels$$[$i$$+1]:0,$toData$$[$i$$+2]=2===$rgbI$$?$ctx$$25_pixels$$[$i$$+2]:0,$toData$$[$i$$+3]=$ctx$$25_pixels$$[$i$$+3];$cacheCtx$$.putImageData($to$$,0,0)}$texture$$.onload=null}if($texture$$.channelCache)return $texture$$.channelCache;var $textureCache$$=[cc.newElement("canvas"),cc.newElement("canvas"),cc.newElement("canvas"),cc.newElement("canvas")];try{$renderToCache$$()}catch($e$$){$texture$$.onload=
$renderToCache$$}return $texture$$.channelCache=$textureCache$$};cc.generateTextureCacheForColor.canvas=cc.newElement("canvas");cc.generateTextureCacheForColor.tempCanvas=cc.newElement("canvas");cc.generateTextureCacheForColor.tempCtx=cc.generateTextureCacheForColor.tempCanvas.getContext("2d");
cc.cutRotateImageToCanvas=function $cc$cutRotateImageToCanvas$($texture$$,$rect$$){if(!$texture$$)return null;if(!$rect$$)return $texture$$;var $nCanvas$$=cc.newElement("canvas");$nCanvas$$.width=$rect$$.width;$nCanvas$$.height=$rect$$.height;var $ctx$$=$nCanvas$$.getContext("2d");$ctx$$.translate($nCanvas$$.width/2,$nCanvas$$.height/2);$ctx$$.rotate(-1.5707963267948966);$ctx$$.drawImage($texture$$,$rect$$.x,$rect$$.y,$rect$$.height,$rect$$.width,-$rect$$.height/2,-$rect$$.width/2,$rect$$.height,
$rect$$.width);return $nCanvas$$};cc._getCompositeOperationByBlendFunc=function $cc$_getCompositeOperationByBlendFunc$($blendFunc$$){return $blendFunc$$?$blendFunc$$.src==cc.SRC_ALPHA&&$blendFunc$$.dst==cc.ONE||$blendFunc$$.src==cc.ONE&&$blendFunc$$.dst==cc.ONE?"lighter":$blendFunc$$.src==cc.ZERO&&$blendFunc$$.dst==cc.SRC_ALPHA?"destination-in":$blendFunc$$.src==cc.ZERO&&$blendFunc$$.dst==cc.ONE_MINUS_SRC_ALPHA?"destination-out":"source":"source"};
cc.Sprite=cc.Node.extend({dirty:!1,atlasIndex:0,textureAtlas:null,_batchNode:null,_recursiveDirty:null,_hasChildren:null,_shouldBeHidden:!1,_transformToBatch:null,_blendFunc:null,_texture:null,_rect:null,_rectRotated:!1,_offsetPosition:null,_unflippedOffsetPositionFromCenter:null,_opacityModifyRGB:!1,_flippedX:!1,_flippedY:!1,_textureLoaded:!1,_newTextureWhenChangeColor:null,_className:"Sprite",_oldDisplayColor:cc.color.WHITE,textureLoaded:function(){return this._textureLoaded},addLoadedEventListener:function($callback$$,
$target$$){this.addEventListener("load",$callback$$,$target$$)},isDirty:function(){return this.dirty},setDirty:function($bDirty$$){this.dirty=$bDirty$$},isTextureRectRotated:function(){return this._rectRotated},getAtlasIndex:function(){return this.atlasIndex},setAtlasIndex:function($atlasIndex$$){this.atlasIndex=$atlasIndex$$},getTextureRect:function(){return cc.rect(this._rect)},getTextureAtlas:function(){return this.textureAtlas},setTextureAtlas:function($textureAtlas$$){this.textureAtlas=$textureAtlas$$},
getOffsetPosition:function(){return cc.p(this._offsetPosition)},_getOffsetX:function(){return this._offsetPosition.x},_getOffsetY:function(){return this._offsetPosition.y},getBlendFunc:function(){return this._blendFunc},initWithSpriteFrame:function($spriteFrame$$){cc.assert($spriteFrame$$,cc._LogInfos.Sprite_initWithSpriteFrame);$spriteFrame$$.textureLoaded()||(this._textureLoaded=!1,$spriteFrame$$.addEventListener("load",this._spriteFrameLoadedCallback,this));var $ret$$2_rotated$$=cc._renderType===
cc._RENDER_TYPE_CANVAS?!1:$spriteFrame$$._rotated,$ret$$2_rotated$$=this.initWithTexture($spriteFrame$$.getTexture(),$spriteFrame$$.getRect(),$ret$$2_rotated$$);this.setSpriteFrame($spriteFrame$$);return $ret$$2_rotated$$},_spriteFrameLoadedCallback:null,initWithSpriteFrameName:function($spriteFrameName$$){cc.assert($spriteFrameName$$,cc._LogInfos.Sprite_initWithSpriteFrameName);var $frame$$=cc.spriteFrameCache.getSpriteFrame($spriteFrameName$$);cc.assert($frame$$,$spriteFrameName$$+cc._LogInfos.Sprite_initWithSpriteFrameName1);
return this.initWithSpriteFrame($frame$$)},useBatchNode:function($batchNode$$){this.textureAtlas=$batchNode$$.textureAtlas;this._batchNode=$batchNode$$},setVertexRect:function($rect$$){var $locRect$$=this._rect;$locRect$$.x=$rect$$.x;$locRect$$.y=$rect$$.y;$locRect$$.width=$rect$$.width;$locRect$$.height=$rect$$.height},sortAllChildren:function(){if(this._reorderChildDirty){var $_children$$=this._children,$len$$=$_children$$.length,$i$$,$j$$,$tmp$$;for($i$$=1;$i$$<$len$$;$i$$++){$tmp$$=$_children$$[$i$$];
for($j$$=$i$$-1;0<=$j$$;){if($tmp$$._localZOrder<$_children$$[$j$$]._localZOrder)$_children$$[$j$$+1]=$_children$$[$j$$];else if($tmp$$._localZOrder===$_children$$[$j$$]._localZOrder&&$tmp$$.arrivalOrder<$_children$$[$j$$].arrivalOrder)$_children$$[$j$$+1]=$_children$$[$j$$];else break;$j$$--}$_children$$[$j$$+1]=$tmp$$}this._batchNode&&this._arrayMakeObjectsPerformSelector($_children$$,cc.Node._StateCallbackType.sortAllChildren);this._reorderChildDirty=!1}},reorderChild:function($child$$,$zOrder$$){cc.assert($child$$,
cc._LogInfos.Sprite_reorderChild_2);-1===this._children.indexOf($child$$)?cc.log(cc._LogInfos.Sprite_reorderChild):$zOrder$$!==$child$$.zIndex&&(this._batchNode&&!this._reorderChildDirty&&(this._setReorderChildDirtyRecursively(),this._batchNode.reorderBatch(!0)),cc.Node.prototype.reorderChild.call(this,$child$$,$zOrder$$))},removeChild:function($child$$,$cleanup$$){this._batchNode&&this._batchNode.removeSpriteFromAtlas($child$$);cc.Node.prototype.removeChild.call(this,$child$$,$cleanup$$)},setVisible:function($visible$$){cc.Node.prototype.setVisible.call(this,
$visible$$);this.setDirtyRecursively(!0)},removeAllChildren:function($cleanup$$){var $locChildren$$=this._children,$locBatchNode$$=this._batchNode;if($locBatchNode$$&&null!=$locChildren$$)for(var $i$$=0,$len$$=$locChildren$$.length;$i$$<$len$$;$i$$++)$locBatchNode$$.removeSpriteFromAtlas($locChildren$$[$i$$]);cc.Node.prototype.removeAllChildren.call(this,$cleanup$$);this._hasChildren=!1},setDirtyRecursively:function($locChildren$$14_value$$){this.dirty=this._recursiveDirty=$locChildren$$14_value$$;
$locChildren$$14_value$$=this._children;for(var $child$$,$l$$=$locChildren$$14_value$$?$locChildren$$14_value$$.length:0,$i$$=0;$i$$<$l$$;$i$$++)$child$$=$locChildren$$14_value$$[$i$$],$child$$ instanceof cc.Sprite&&$child$$.setDirtyRecursively(!0)},setNodeDirty:function($norecursive$$){cc.Node.prototype.setNodeDirty.call(this);$norecursive$$||!this._batchNode||this._recursiveDirty||(this._hasChildren?this.setDirtyRecursively(!0):this.dirty=this._recursiveDirty=!0)},ignoreAnchorPointForPosition:function($relative$$){this._batchNode?
cc.log(cc._LogInfos.Sprite_ignoreAnchorPointForPosition):cc.Node.prototype.ignoreAnchorPointForPosition.call(this,$relative$$)},setFlippedX:function($flippedX$$){this._flippedX!=$flippedX$$&&(this._flippedX=$flippedX$$,this.setTextureRect(this._rect,this._rectRotated,this._contentSize),this.setNodeDirty(!0))},setFlippedY:function($flippedY$$){this._flippedY!=$flippedY$$&&(this._flippedY=$flippedY$$,this.setTextureRect(this._rect,this._rectRotated,this._contentSize),this.setNodeDirty(!0))},isFlippedX:function(){return this._flippedX},
isFlippedY:function(){return this._flippedY},setOpacityModifyRGB:null,isOpacityModifyRGB:function(){return this._opacityModifyRGB},updateDisplayedOpacity:null,setDisplayFrameWithAnimationName:function($animationName$$,$frameIndex$$){cc.assert($animationName$$,cc._LogInfos.Sprite_setDisplayFrameWithAnimationName_3);var $animFrame_cache$$=cc.animationCache.getAnimation($animationName$$);$animFrame_cache$$?($animFrame_cache$$=$animFrame_cache$$.getFrames()[$frameIndex$$])?this.setSpriteFrame($animFrame_cache$$.getSpriteFrame()):
cc.log(cc._LogInfos.Sprite_setDisplayFrameWithAnimationName_2):cc.log(cc._LogInfos.Sprite_setDisplayFrameWithAnimationName)},getBatchNode:function(){return this._batchNode},_setReorderChildDirtyRecursively:function(){if(!this._reorderChildDirty){this._reorderChildDirty=!0;for(var $pNode$$=this._parent;$pNode$$&&$pNode$$!=this._batchNode;)$pNode$$._setReorderChildDirtyRecursively(),$pNode$$=$pNode$$.parent}},getTexture:function(){return this._texture},_quad:null,_quadWebBuffer:null,_quadDirty:!1,_colorized:!1,
_blendFuncStr:"source",_originalTexture:null,_drawSize_Canvas:null,ctor:null,_softInit:function($fileName$$2_frameName_spriteFrame$$,$rect$$26_texture2d$$,$rotated$$){if(void 0===$fileName$$2_frameName_spriteFrame$$)cc.Sprite.prototype.init.call(this);else if(cc.isString($fileName$$2_frameName_spriteFrame$$))"#"===$fileName$$2_frameName_spriteFrame$$[0]?($fileName$$2_frameName_spriteFrame$$=$fileName$$2_frameName_spriteFrame$$.substr(1,$fileName$$2_frameName_spriteFrame$$.length-1),$fileName$$2_frameName_spriteFrame$$=
cc.spriteFrameCache.getSpriteFrame($fileName$$2_frameName_spriteFrame$$),this.initWithSpriteFrame($fileName$$2_frameName_spriteFrame$$)):cc.Sprite.prototype.init.call(this,$fileName$$2_frameName_spriteFrame$$,$rect$$26_texture2d$$);else if(cc.isObject($fileName$$2_frameName_spriteFrame$$))if($fileName$$2_frameName_spriteFrame$$ instanceof cc.Texture2D)this.initWithTexture($fileName$$2_frameName_spriteFrame$$,$rect$$26_texture2d$$,$rotated$$);else if($fileName$$2_frameName_spriteFrame$$ instanceof
cc.SpriteFrame)this.initWithSpriteFrame($fileName$$2_frameName_spriteFrame$$);else if($fileName$$2_frameName_spriteFrame$$ instanceof HTMLImageElement||$fileName$$2_frameName_spriteFrame$$ instanceof HTMLCanvasElement)$rect$$26_texture2d$$=new cc.Texture2D,$rect$$26_texture2d$$.initWithElement($fileName$$2_frameName_spriteFrame$$),$rect$$26_texture2d$$.handleLoadedTexture(),this.initWithTexture($rect$$26_texture2d$$)},getQuad:function(){return this._quad},setBlendFunc:null,init:null,initWithFile:function($filename$$,
$rect$$){cc.assert($filename$$,cc._LogInfos.Sprite_initWithFile);var $tex$$=cc.textureCache.getTextureForKey($filename$$);if($tex$$){if(!$rect$$){var $size$$=$tex$$.getContentSize();$rect$$=cc.rect(0,0,$size$$.width,$size$$.height)}return this.initWithTexture($tex$$,$rect$$)}$tex$$=cc.textureCache.addImage($filename$$);return this.initWithTexture($tex$$,$rect$$||cc.rect(0,0,$tex$$._contentSize.width,$tex$$._contentSize.height))},initWithTexture:null,_textureLoadedCallback:null,setTextureRect:null,
updateTransform:null,addChild:null,updateColor:function(){var $color4_locDisplayedColor$$=this._displayedColor,$locDisplayedOpacity$$1_locQuad$$=this._displayedOpacity,$color4_locDisplayedColor$$={r:$color4_locDisplayedColor$$.r,g:$color4_locDisplayedColor$$.g,b:$color4_locDisplayedColor$$.b,a:$locDisplayedOpacity$$1_locQuad$$};this._opacityModifyRGB&&($color4_locDisplayedColor$$.r*=$locDisplayedOpacity$$1_locQuad$$/255,$color4_locDisplayedColor$$.g*=$locDisplayedOpacity$$1_locQuad$$/255,$color4_locDisplayedColor$$.b*=
$locDisplayedOpacity$$1_locQuad$$/255);$locDisplayedOpacity$$1_locQuad$$=this._quad;$locDisplayedOpacity$$1_locQuad$$.bl.colors=$color4_locDisplayedColor$$;$locDisplayedOpacity$$1_locQuad$$.br.colors=$color4_locDisplayedColor$$;$locDisplayedOpacity$$1_locQuad$$.tl.colors=$color4_locDisplayedColor$$;$locDisplayedOpacity$$1_locQuad$$.tr.colors=$color4_locDisplayedColor$$;this._batchNode&&(this.atlasIndex!=cc.Sprite.INDEX_NOT_INITIALIZED?this.textureAtlas.updateQuad($locDisplayedOpacity$$1_locQuad$$,
this.atlasIndex):this.dirty=!0);this._quadDirty=!0},setOpacity:null,setColor:null,updateDisplayedColor:null,setSpriteFrame:null,setDisplayFrame:function($newFrame$$){cc.log(cc._LogInfos.Sprite_setDisplayFrame);this.setSpriteFrame($newFrame$$)},isFrameDisplayed:null,displayFrame:function(){return new cc.SpriteFrame(this._texture,cc.rectPointsToPixels(this._rect),this._rectRotated,cc.pointPointsToPixels(this._unflippedOffsetPositionFromCenter),cc.sizePointsToPixels(this._contentSize))},setBatchNode:null,
setTexture:null,_updateBlendFunc:function(){this._batchNode?cc.log(cc._LogInfos.Sprite__updateBlendFunc):this._texture&&this._texture.hasPremultipliedAlpha()?(this._blendFunc.src=cc.BLEND_SRC,this._blendFunc.dst=cc.BLEND_DST,this.opacityModifyRGB=!0):(this._blendFunc.src=cc.SRC_ALPHA,this._blendFunc.dst=cc.ONE_MINUS_SRC_ALPHA,this.opacityModifyRGB=!1)},_changeTextureColor:function(){var $locElement$$,$locTexture$$=this._texture,$locRect$$=this._rendererCmd._textureCoord;$locTexture$$&&$locRect$$.validRect&&
this._originalTexture&&($locElement$$=$locTexture$$.getHtmlElementObj())&&(this._colorized=!0,$locElement$$ instanceof HTMLCanvasElement&&!this._rectRotated&&!this._newTextureWhenChangeColor&&this._originalTexture._htmlElementObj!=$locElement$$?cc.generateTintImageWithMultiply(this._originalTexture._htmlElementObj,this._displayedColor,$locRect$$,$locElement$$):($locElement$$=cc.generateTintImageWithMultiply(this._originalTexture._htmlElementObj,this._displayedColor,$locRect$$),$locTexture$$=new cc.Texture2D,
$locTexture$$.initWithElement($locElement$$),$locTexture$$.handleLoadedTexture(),this.texture=$locTexture$$))},_setTextureCoords:function($bottom$$3_rect$$){$bottom$$3_rect$$=cc.rectPointsToPixels($bottom$$3_rect$$);var $left$$5_tex$$=this._batchNode?this.textureAtlas.texture:this._texture;if($left$$5_tex$$){var $atlasWidth_right$$=$left$$5_tex$$.pixelsWidth,$atlasHeight_tempSwap$$=$left$$5_tex$$.pixelsHeight,$top$$,$locQuad$$=this._quad;this._rectRotated?(cc.FIX_ARTIFACTS_BY_STRECHING_TEXEL?($left$$5_tex$$=
(2*$bottom$$3_rect$$.x+1)/(2*$atlasWidth_right$$),$atlasWidth_right$$=$left$$5_tex$$+(2*$bottom$$3_rect$$.height-2)/(2*$atlasWidth_right$$),$top$$=(2*$bottom$$3_rect$$.y+1)/(2*$atlasHeight_tempSwap$$),$bottom$$3_rect$$=$top$$+(2*$bottom$$3_rect$$.width-2)/(2*$atlasHeight_tempSwap$$)):($left$$5_tex$$=$bottom$$3_rect$$.x/$atlasWidth_right$$,$atlasWidth_right$$=($bottom$$3_rect$$.x+$bottom$$3_rect$$.height)/$atlasWidth_right$$,$top$$=$bottom$$3_rect$$.y/$atlasHeight_tempSwap$$,$bottom$$3_rect$$=($bottom$$3_rect$$.y+
$bottom$$3_rect$$.width)/$atlasHeight_tempSwap$$),this._flippedX&&($atlasHeight_tempSwap$$=$top$$,$top$$=$bottom$$3_rect$$,$bottom$$3_rect$$=$atlasHeight_tempSwap$$),this._flippedY&&($atlasHeight_tempSwap$$=$left$$5_tex$$,$left$$5_tex$$=$atlasWidth_right$$,$atlasWidth_right$$=$atlasHeight_tempSwap$$),$locQuad$$.bl.texCoords.u=$left$$5_tex$$,$locQuad$$.bl.texCoords.v=$top$$,$locQuad$$.br.texCoords.u=$left$$5_tex$$,$locQuad$$.br.texCoords.v=$bottom$$3_rect$$,$locQuad$$.tl.texCoords.u=$atlasWidth_right$$,
$locQuad$$.tl.texCoords.v=$top$$,$locQuad$$.tr.texCoords.u=$atlasWidth_right$$,$locQuad$$.tr.texCoords.v=$bottom$$3_rect$$):(cc.FIX_ARTIFACTS_BY_STRECHING_TEXEL?($left$$5_tex$$=(2*$bottom$$3_rect$$.x+1)/(2*$atlasWidth_right$$),$atlasWidth_right$$=$left$$5_tex$$+(2*$bottom$$3_rect$$.width-2)/(2*$atlasWidth_right$$),$top$$=(2*$bottom$$3_rect$$.y+1)/(2*$atlasHeight_tempSwap$$),$bottom$$3_rect$$=$top$$+(2*$bottom$$3_rect$$.height-2)/(2*$atlasHeight_tempSwap$$)):($left$$5_tex$$=$bottom$$3_rect$$.x/$atlasWidth_right$$,
$atlasWidth_right$$=($bottom$$3_rect$$.x+$bottom$$3_rect$$.width)/$atlasWidth_right$$,$top$$=$bottom$$3_rect$$.y/$atlasHeight_tempSwap$$,$bottom$$3_rect$$=($bottom$$3_rect$$.y+$bottom$$3_rect$$.height)/$atlasHeight_tempSwap$$),this._flippedX&&($atlasHeight_tempSwap$$=$left$$5_tex$$,$left$$5_tex$$=$atlasWidth_right$$,$atlasWidth_right$$=$atlasHeight_tempSwap$$),this._flippedY&&($atlasHeight_tempSwap$$=$top$$,$top$$=$bottom$$3_rect$$,$bottom$$3_rect$$=$atlasHeight_tempSwap$$),$locQuad$$.bl.texCoords.u=
$left$$5_tex$$,$locQuad$$.bl.texCoords.v=$bottom$$3_rect$$,$locQuad$$.br.texCoords.u=$atlasWidth_right$$,$locQuad$$.br.texCoords.v=$bottom$$3_rect$$,$locQuad$$.tl.texCoords.u=$left$$5_tex$$,$locQuad$$.tl.texCoords.v=$top$$,$locQuad$$.tr.texCoords.u=$atlasWidth_right$$,$locQuad$$.tr.texCoords.v=$top$$);this._quadDirty=!0}}});cc.Sprite.create=function $cc$Sprite$create$($fileName$$,$rect$$,$rotated$$){return new cc.Sprite($fileName$$,$rect$$,$rotated$$)};cc.Sprite.createWithTexture=cc.Sprite.create;
cc.Sprite.createWithSpriteFrameName=cc.Sprite.create;cc.Sprite.createWithSpriteFrame=cc.Sprite.create;cc.Sprite.INDEX_NOT_INITIALIZED=-1;
cc._renderType===cc._RENDER_TYPE_CANVAS?(_p=cc.Sprite.prototype,_p._spriteFrameLoadedCallback=function $_p$_spriteFrameLoadedCallback$($curColor_spriteFrame$$){this.setNodeDirty(!0);this.setTextureRect($curColor_spriteFrame$$.getRect(),$curColor_spriteFrame$$.isRotated(),$curColor_spriteFrame$$.getOriginalSize());$curColor_spriteFrame$$=this.color;255===$curColor_spriteFrame$$.r&&255===$curColor_spriteFrame$$.g&&255===$curColor_spriteFrame$$.b||this._changeTextureColor();this.dispatchEvent("load")},
_p.setOpacityModifyRGB=function $_p$setOpacityModifyRGB$($modify$$){this._opacityModifyRGB!==$modify$$&&(this._opacityModifyRGB=$modify$$,this.setNodeDirty(!0))},_p.updateDisplayedOpacity=function $_p$updateDisplayedOpacity$($parentOpacity$$){cc.Node.prototype.updateDisplayedOpacity.call(this,$parentOpacity$$);this._setNodeDirtyForCache()},_p.ctor=function $_p$ctor$($fileName$$,$rect$$,$rotated$$){cc.Node.prototype.ctor.call(this);this._shouldBeHidden=!1;this._offsetPosition=cc.p(0,0);this._unflippedOffsetPositionFromCenter=
cc.p(0,0);this._blendFunc={src:cc.BLEND_SRC,dst:cc.BLEND_DST};this._rect=cc.rect(0,0,0,0);this._newTextureWhenChangeColor=!1;this._textureLoaded=!0;this._drawSize_Canvas=cc.size(0,0);this._softInit($fileName$$,$rect$$,$rotated$$)},_p._initRendererCmd=function $_p$_initRendererCmd$(){this._rendererCmd=new cc.TextureRenderCmdCanvas(this)},_p.setBlendFunc=function $_p$setBlendFunc$($src$$,$dst$$){var $locBlendFunc$$=this._blendFunc;void 0===$dst$$?($locBlendFunc$$.src=$src$$.src,$locBlendFunc$$.dst=
$src$$.dst):($locBlendFunc$$.src=$src$$,$locBlendFunc$$.dst=$dst$$);cc._renderType===cc._RENDER_TYPE_CANVAS&&(this._blendFuncStr=cc._getCompositeOperationByBlendFunc($locBlendFunc$$))},_p.init=function $_p$init$(){if(0<arguments.length)return this.initWithFile(arguments[0],arguments[1]);cc.Node.prototype.init.call(this);this.dirty=this._recursiveDirty=!1;this._blendFunc.src=cc.BLEND_SRC;this._blendFunc.dst=cc.BLEND_DST;this.texture=null;this._textureLoaded=!0;this._flippedX=this._flippedY=!1;this.anchorY=
this.anchorX=.5;this._offsetPosition.x=0;this._offsetPosition.y=0;this._hasChildren=!1;this.setTextureRect(cc.rect(0,0,0,0),!1,cc.size(0,0));return!0},_p.initWithTexture=function $_p$initWithTexture$($texture$$,$rect$$,$rotated$$){cc.assert(0!=arguments.length,cc._LogInfos.CCSpriteBatchNode_initWithTexture);if(($rotated$$=$rotated$$||!1)&&$texture$$.isLoaded()){var $_y$$1_locTextureLoaded$$=$texture$$.getHtmlElementObj(),$_y$$1_locTextureLoaded$$=cc.cutRotateImageToCanvas($_y$$1_locTextureLoaded$$,
$rect$$),$tempTexture$$=new cc.Texture2D;$tempTexture$$.initWithElement($_y$$1_locTextureLoaded$$);$tempTexture$$.handleLoadedTexture();$texture$$=$tempTexture$$;this._rect=cc.rect(0,0,$rect$$.width,$rect$$.height)}if(!cc.Node.prototype.init.call(this))return!1;this._batchNode=null;this.dirty=this._recursiveDirty=!1;this._opacityModifyRGB=!0;this._blendFunc.src=cc.BLEND_SRC;this._blendFunc.dst=cc.BLEND_DST;this._flippedX=this._flippedY=!1;this.anchorY=this.anchorX=.5;this._offsetPosition.x=0;this._offsetPosition.y=
0;this._hasChildren=!1;this._textureLoaded=$_y$$1_locTextureLoaded$$=$texture$$.isLoaded();if(!$_y$$1_locTextureLoaded$$)return this._rectRotated=$rotated$$,$rect$$&&(this._rect.x=$rect$$.x,this._rect.y=$rect$$.y,this._rect.width=$rect$$.width,this._rect.height=$rect$$.height),this.texture&&this.texture.removeEventListener("load",this),$texture$$.addEventListener("load",this._textureLoadedCallback,this),this.texture=$texture$$,!0;$rect$$||($rect$$=cc.rect(0,0,$texture$$.width,$texture$$.height));
$texture$$&&$texture$$.url&&($_y$$1_locTextureLoaded$$=$rect$$.y+$rect$$.height,$rect$$.x+$rect$$.width>$texture$$.width&&cc.error(cc._LogInfos.RectWidth,$texture$$.url),$_y$$1_locTextureLoaded$$>$texture$$.height&&cc.error(cc._LogInfos.RectHeight,$texture$$.url));this.texture=this._originalTexture=$texture$$;this.setTextureRect($rect$$,$rotated$$);this.batchNode=null;return!0},_p._textureLoadedCallback=function $_p$_textureLoadedCallback$($locColor$$1_sender$$){if(!this._textureLoaded){this._textureLoaded=
!0;var $locRect$$=this._rect;$locRect$$?cc._rectEqualToZero($locRect$$)&&($locRect$$.width=$locColor$$1_sender$$.width,$locRect$$.height=$locColor$$1_sender$$.height):$locRect$$=cc.rect(0,0,$locColor$$1_sender$$.width,$locColor$$1_sender$$.height);this.texture=this._originalTexture=$locColor$$1_sender$$;this.setTextureRect($locRect$$,this._rectRotated);$locColor$$1_sender$$=this._displayedColor;255==$locColor$$1_sender$$.r&&255==$locColor$$1_sender$$.g&&255==$locColor$$1_sender$$.b||this._changeTextureColor();
this.batchNode=this._batchNode;this.dispatchEvent("load")}},_p.setTextureRect=function $_p$setTextureRect$($rect$$32_relativeOffset$$,$locTextureRect_rotated$$,$scaleFactor$$1_untrimmedSize$$){this._rectRotated=$locTextureRect_rotated$$||!1;this.setContentSize($scaleFactor$$1_untrimmedSize$$||$rect$$32_relativeOffset$$);this.setVertexRect($rect$$32_relativeOffset$$);$locTextureRect_rotated$$=this._rendererCmd._textureCoord;$scaleFactor$$1_untrimmedSize$$=cc.contentScaleFactor();$locTextureRect_rotated$$.renderX=
$locTextureRect_rotated$$.x=0|$rect$$32_relativeOffset$$.x*$scaleFactor$$1_untrimmedSize$$;$locTextureRect_rotated$$.renderY=$locTextureRect_rotated$$.y=0|$rect$$32_relativeOffset$$.y*$scaleFactor$$1_untrimmedSize$$;$locTextureRect_rotated$$.width=0|$rect$$32_relativeOffset$$.width*$scaleFactor$$1_untrimmedSize$$;$locTextureRect_rotated$$.height=0|$rect$$32_relativeOffset$$.height*$scaleFactor$$1_untrimmedSize$$;$locTextureRect_rotated$$.validRect=!(0===$locTextureRect_rotated$$.width||0===$locTextureRect_rotated$$.height||
0>$locTextureRect_rotated$$.x||0>$locTextureRect_rotated$$.y);$rect$$32_relativeOffset$$=this._unflippedOffsetPositionFromCenter;this._flippedX&&($rect$$32_relativeOffset$$.x=-$rect$$32_relativeOffset$$.x);this._flippedY&&($rect$$32_relativeOffset$$.y=-$rect$$32_relativeOffset$$.y);this._offsetPosition.x=$rect$$32_relativeOffset$$.x+(this._contentSize.width-this._rect.width)/2;this._offsetPosition.y=$rect$$32_relativeOffset$$.y+(this._contentSize.height-this._rect.height)/2;this._batchNode&&(this.dirty=
!0)},_p.updateTransform=function $_p$updateTransform$(){if(this.dirty){var $locParent$$=this._parent;!this._visible||$locParent$$&&$locParent$$!=this._batchNode&&$locParent$$._shouldBeHidden?this._shouldBeHidden=!0:(this._shouldBeHidden=!1,this._transformToBatch=$locParent$$&&$locParent$$!=this._batchNode?cc.affineTransformConcat(this.nodeToParentTransform(),$locParent$$._transformToBatch):this.nodeToParentTransform());this.dirty=this._recursiveDirty=!1}this._hasChildren&&this._arrayMakeObjectsPerformSelector(this._children,
cc.Node._StateCallbackType.updateTransform)},_p.addChild=function $_p$addChild$($child$$,$localZOrder$$,$tag$$){cc.assert($child$$,cc._LogInfos.CCSpriteBatchNode_addChild_2);null==$localZOrder$$&&($localZOrder$$=$child$$._localZOrder);null==$tag$$&&($tag$$=$child$$.tag);cc.Node.prototype.addChild.call(this,$child$$,$localZOrder$$,$tag$$);this._hasChildren=!0},_p.setOpacity=function $_p$setOpacity$($opacity$$){cc.Node.prototype.setOpacity.call(this,$opacity$$);this._setNodeDirtyForCache()},_p.setColor=
function $_p$setColor$($color3$$){var $curColor$$=this.color;this._oldDisplayColor=$curColor$$;$curColor$$.r===$color3$$.r&&$curColor$$.g===$color3$$.g&&$curColor$$.b===$color3$$.b||cc.Node.prototype.setColor.call(this,$color3$$)},_p.updateDisplayedColor=function $_p$updateDisplayedColor$($oColor_parentColor$$){cc.Node.prototype.updateDisplayedColor.call(this,$oColor_parentColor$$);$oColor_parentColor$$=this._oldDisplayColor;var $nColor$$=this._displayedColor;if($oColor_parentColor$$.r!==$nColor$$.r||
$oColor_parentColor$$.g!==$nColor$$.g||$oColor_parentColor$$.b!==$nColor$$.b)this._changeTextureColor(),this._setNodeDirtyForCache()},_p.setSpriteFrame=function $_p$setSpriteFrame$($curColor$$2_newFrame$$){var $_t$$=this;cc.isString($curColor$$2_newFrame$$)&&($curColor$$2_newFrame$$=cc.spriteFrameCache.getSpriteFrame($curColor$$2_newFrame$$),cc.assert($curColor$$2_newFrame$$,cc._LogInfos.CCSpriteBatchNode_setSpriteFrame));$_t$$.setNodeDirty(!0);var $frameOffset$$1_pNewTexture$$=$curColor$$2_newFrame$$.getOffset();
$_t$$._unflippedOffsetPositionFromCenter.x=$frameOffset$$1_pNewTexture$$.x;$_t$$._unflippedOffsetPositionFromCenter.y=$frameOffset$$1_pNewTexture$$.y;$_t$$._rectRotated=$curColor$$2_newFrame$$.isRotated();var $frameOffset$$1_pNewTexture$$=$curColor$$2_newFrame$$.getTexture(),$locTextureLoaded$$=$curColor$$2_newFrame$$.textureLoaded();$locTextureLoaded$$||($_t$$._textureLoaded=!1,$curColor$$2_newFrame$$.addEventListener("load",function($sender$$){$_t$$._textureLoaded=!0;var $locNewTexture$$=$sender$$.getTexture();
$locNewTexture$$!=$_t$$._texture&&($_t$$.texture=$locNewTexture$$);$_t$$.setTextureRect($sender$$.getRect(),$sender$$.isRotated(),$sender$$.getOriginalSize());$_t$$.dispatchEvent("load")},$_t$$));$frameOffset$$1_pNewTexture$$!=$_t$$._texture&&($_t$$.texture=$frameOffset$$1_pNewTexture$$);$_t$$._rectRotated&&($_t$$._originalTexture=$frameOffset$$1_pNewTexture$$);$_t$$.setTextureRect($curColor$$2_newFrame$$.getRect(),$_t$$._rectRotated,$curColor$$2_newFrame$$.getOriginalSize());$_t$$._colorized=!1;
$_t$$._rendererCmd._textureCoord.renderX=$_t$$._rendererCmd._textureCoord.x;$_t$$._rendererCmd._textureCoord.renderY=$_t$$._rendererCmd._textureCoord.y;$locTextureLoaded$$&&($curColor$$2_newFrame$$=$_t$$.color,255===$curColor$$2_newFrame$$.r&&255===$curColor$$2_newFrame$$.g&&255===$curColor$$2_newFrame$$.b||$_t$$._changeTextureColor())},_p.isFrameDisplayed=function $_p$isFrameDisplayed$($frame$$){return $frame$$.getTexture()!=this._texture?!1:cc.rectEqualToRect($frame$$.getRect(),this._rect)},_p.setBatchNode=
function $_p$setBatchNode$($spriteBatchNode$$){(this._batchNode=$spriteBatchNode$$)?(this._transformToBatch=cc.affineTransformIdentity(),this.textureAtlas=this._batchNode.textureAtlas):(this.atlasIndex=cc.Sprite.INDEX_NOT_INITIALIZED,this.textureAtlas=null,this.dirty=this._recursiveDirty=!1)},_p.setTexture=function $_p$setTexture$($texture$$){var $_t$$=this;if($texture$$&&cc.isString($texture$$)){$texture$$=cc.textureCache.addImage($texture$$);$_t$$.setTexture($texture$$);var $size$$0$$=$texture$$.getContentSize();
$_t$$.setTextureRect(cc.rect(0,0,$size$$0$$.width,$size$$0$$.height));$texture$$._isLoaded||$texture$$.addEventListener("load",function(){var $size$$=$texture$$.getContentSize();$_t$$.setTextureRect(cc.rect(0,0,$size$$.width,$size$$.height))},this)}else cc.assert(!$texture$$||$texture$$ instanceof cc.Texture2D,cc._LogInfos.CCSpriteBatchNode_setTexture),$_t$$._texture!=$texture$$&&($texture$$&&$texture$$.getHtmlElementObj()instanceof HTMLImageElement&&($_t$$._originalTexture=$texture$$),$_t$$._texture=
$texture$$)},cc.sys._supportCanvasNewBlendModes||(_p._changeTextureColor=function $_p$_changeTextureColor$(){var $locElement$$,$cacheTextureForColor_locTexture$$=this._texture,$locRect$$=this._rendererCmd._textureCoord;$cacheTextureForColor_locTexture$$&&$locRect$$.validRect&&this._originalTexture&&($locElement$$=$cacheTextureForColor_locTexture$$.getHtmlElementObj())&&($cacheTextureForColor_locTexture$$=cc.textureCache.getTextureColors(this._originalTexture.getHtmlElementObj()))&&(this._colorized=
!0,$locElement$$ instanceof HTMLCanvasElement&&!this._rectRotated&&!this._newTextureWhenChangeColor?cc.generateTintImage($locElement$$,$cacheTextureForColor_locTexture$$,this._displayedColor,$locRect$$,$locElement$$):($locElement$$=cc.generateTintImage($locElement$$,$cacheTextureForColor_locTexture$$,this._displayedColor,$locRect$$),$cacheTextureForColor_locTexture$$=new cc.Texture2D,$cacheTextureForColor_locTexture$$.initWithElement($locElement$$),$cacheTextureForColor_locTexture$$.handleLoadedTexture(),
this.texture=$cacheTextureForColor_locTexture$$))}),_p=null):(cc.assert(cc.isFunction(cc._tmp.WebGLSprite),cc._LogInfos.MissingFile,"SpritesWebGL.js"),cc._tmp.WebGLSprite(),delete cc._tmp.WebGLSprite);cc.EventHelper.prototype.apply(cc.Sprite.prototype);cc.assert(cc.isFunction(cc._tmp.PrototypeSprite),cc._LogInfos.MissingFile,"SpritesPropertyDefine.js");cc._tmp.PrototypeSprite();delete cc._tmp.PrototypeSprite;
cc.BakeSprite=cc.Sprite.extend({_cacheCanvas:null,_cacheContext:null,ctor:function(){cc.Sprite.prototype.ctor.call(this);var $canvasElement$$=document.createElement("canvas");$canvasElement$$.width=$canvasElement$$.height=10;this._cacheCanvas=$canvasElement$$;this._cacheContext=$canvasElement$$.getContext("2d");var $texture$$=new cc.Texture2D;$texture$$.initWithElement($canvasElement$$);$texture$$.handleLoadedTexture();this.setTexture($texture$$)},getCacheContext:function(){return this._cacheContext},
getCacheCanvas:function(){return this._cacheCanvas},resetCanvasSize:function($sizeOrWidth$$,$height$$){void 0===$height$$&&($height$$=$sizeOrWidth$$.height,$sizeOrWidth$$=$sizeOrWidth$$.width);var $locCanvas$$=this._cacheCanvas;$locCanvas$$.width=$sizeOrWidth$$;$locCanvas$$.height=$height$$;this.getTexture().handleLoadedTexture();this.setTextureRect(cc.rect(0,0,$sizeOrWidth$$,$height$$),!1)}});
cc.AnimationFrame=cc.Class.extend({_spriteFrame:null,_delayPerUnit:0,_userInfo:null,ctor:function($spriteFrame$$,$delayUnits$$,$userInfo$$){this._spriteFrame=$spriteFrame$$||null;this._delayPerUnit=$delayUnits$$||0;this._userInfo=$userInfo$$||null},clone:function(){var $frame$$=new cc.AnimationFrame;$frame$$.initWithSpriteFrame(this._spriteFrame.clone(),this._delayPerUnit,this._userInfo);return $frame$$},copyWithZone:function($pZone$$){return cc.clone(this)},copy:function($newFrame$$3_pZone$$){$newFrame$$3_pZone$$=
new cc.AnimationFrame;$newFrame$$3_pZone$$.initWithSpriteFrame(this._spriteFrame.clone(),this._delayPerUnit,this._userInfo);return $newFrame$$3_pZone$$},initWithSpriteFrame:function($spriteFrame$$,$delayUnits$$,$userInfo$$){this._spriteFrame=$spriteFrame$$;this._delayPerUnit=$delayUnits$$;this._userInfo=$userInfo$$;return!0},getSpriteFrame:function(){return this._spriteFrame},setSpriteFrame:function($spriteFrame$$){this._spriteFrame=$spriteFrame$$},getDelayUnits:function(){return this._delayPerUnit},
setDelayUnits:function($delayUnits$$){this._delayPerUnit=$delayUnits$$},getUserInfo:function(){return this._userInfo},setUserInfo:function($userInfo$$){this._userInfo=$userInfo$$}});cc.AnimationFrame.create=function $cc$AnimationFrame$create$($spriteFrame$$,$delayUnits$$,$userInfo$$){return new cc.AnimationFrame($spriteFrame$$,$delayUnits$$,$userInfo$$)};
cc.Animation=cc.Class.extend({_frames:null,_loops:0,_restoreOriginalFrame:!1,_duration:0,_delayPerUnit:0,_totalDelayUnits:0,ctor:function($frames$$,$delay$$,$loops$$){this._frames=[];if(void 0===$frames$$)this.initWithSpriteFrames(null,0);else{var $frame0$$=$frames$$[0];$frame0$$&&($frame0$$ instanceof cc.SpriteFrame?this.initWithSpriteFrames($frames$$,$delay$$,$loops$$):$frame0$$ instanceof cc.AnimationFrame&&this.initWithAnimationFrames($frames$$,$delay$$,$loops$$))}},getFrames:function(){return this._frames},
setFrames:function($frames$$){this._frames=$frames$$},addSpriteFrame:function($frame$$){var $animFrame$$=new cc.AnimationFrame;$animFrame$$.initWithSpriteFrame($frame$$,1,null);this._frames.push($animFrame$$);this._totalDelayUnits++},addSpriteFrameWithFile:function($fileName$$5_frame$$6_texture$$){$fileName$$5_frame$$6_texture$$=cc.textureCache.addImage($fileName$$5_frame$$6_texture$$);var $rect$$=cc.rect(0,0,0,0);$rect$$.width=$fileName$$5_frame$$6_texture$$.width;$rect$$.height=$fileName$$5_frame$$6_texture$$.height;
$fileName$$5_frame$$6_texture$$=new cc.SpriteFrame($fileName$$5_frame$$6_texture$$,$rect$$);this.addSpriteFrame($fileName$$5_frame$$6_texture$$)},addSpriteFrameWithTexture:function($texture$$,$rect$$){var $pFrame$$=new cc.SpriteFrame($texture$$,$rect$$);this.addSpriteFrame($pFrame$$)},initWithAnimationFrames:function($arrayOfAnimationFrames$$,$delayPerUnit_locFrames$$,$i$$88_loops$$){cc.arrayVerifyType($arrayOfAnimationFrames$$,cc.AnimationFrame);this._delayPerUnit=$delayPerUnit_locFrames$$;this._loops=
void 0===$i$$88_loops$$?1:$i$$88_loops$$;this._totalDelayUnits=0;$delayPerUnit_locFrames$$=this._frames;for($i$$88_loops$$=$delayPerUnit_locFrames$$.length=0;$i$$88_loops$$<$arrayOfAnimationFrames$$.length;$i$$88_loops$$++){var $animFrame$$=$arrayOfAnimationFrames$$[$i$$88_loops$$];$delayPerUnit_locFrames$$.push($animFrame$$);this._totalDelayUnits+=$animFrame$$.getDelayUnits()}return!0},clone:function(){var $animation$$=new cc.Animation;$animation$$.initWithAnimationFrames(this._copyFrames(),this._delayPerUnit,
this._loops);$animation$$.setRestoreOriginalFrame(this._restoreOriginalFrame);return $animation$$},copyWithZone:function($pCopy_pZone$$){$pCopy_pZone$$=new cc.Animation;$pCopy_pZone$$.initWithAnimationFrames(this._copyFrames(),this._delayPerUnit,this._loops);$pCopy_pZone$$.setRestoreOriginalFrame(this._restoreOriginalFrame);return $pCopy_pZone$$},_copyFrames:function(){for(var $copyFrames$$=[],$i$$=0;$i$$<this._frames.length;$i$$++)$copyFrames$$.push(this._frames[$i$$].clone());return $copyFrames$$},
copy:function($pZone$$){return this.copyWithZone(null)},getLoops:function(){return this._loops},setLoops:function($value$$){this._loops=$value$$},setRestoreOriginalFrame:function($restOrigFrame$$){this._restoreOriginalFrame=$restOrigFrame$$},getRestoreOriginalFrame:function(){return this._restoreOriginalFrame},getDuration:function(){return this._totalDelayUnits*this._delayPerUnit},getDelayPerUnit:function(){return this._delayPerUnit},setDelayPerUnit:function($delayPerUnit$$){this._delayPerUnit=$delayPerUnit$$},
getTotalDelayUnits:function(){return this._totalDelayUnits},initWithSpriteFrames:function($frames$$,$delay$$5_locFrames$$,$i$$90_loops$$){cc.arrayVerifyType($frames$$,cc.SpriteFrame);this._loops=void 0===$i$$90_loops$$?1:$i$$90_loops$$;this._delayPerUnit=$delay$$5_locFrames$$||0;this._totalDelayUnits=0;$delay$$5_locFrames$$=this._frames;$delay$$5_locFrames$$.length=0;if($frames$$){for($i$$90_loops$$=0;$i$$90_loops$$<$frames$$.length;$i$$90_loops$$++){var $frame$$=$frames$$[$i$$90_loops$$],$animFrame$$=
new cc.AnimationFrame;$animFrame$$.initWithSpriteFrame($frame$$,1,null);$delay$$5_locFrames$$.push($animFrame$$)}this._totalDelayUnits+=$frames$$.length}return!0},retain:function(){},release:function(){}});cc.Animation.create=function $cc$Animation$create$($frames$$,$delay$$,$loops$$){return new cc.Animation($frames$$,$delay$$,$loops$$)};cc.Animation.createWithAnimationFrames=cc.Animation.create;
cc.animationCache={_animations:{},addAnimation:function $cc$animationCache$addAnimation$($animation$$,$name$$){this._animations[$name$$]=$animation$$},removeAnimation:function $cc$animationCache$removeAnimation$($name$$){$name$$&&this._animations[$name$$]&&delete this._animations[$name$$]},getAnimation:function $cc$animationCache$getAnimation$($name$$){return this._animations[$name$$]?this._animations[$name$$]:null},_addAnimationsWithDictionary:function $cc$animationCache$_addAnimationsWithDictionary$($dictionary$$,
$plist$$){var $animations$$=$dictionary$$.animations;if($animations$$){var $version$$=1,$properties_spritesheets$$=$dictionary$$.properties;if($properties_spritesheets$$)for(var $version$$=null!=$properties_spritesheets$$.format?parseInt($properties_spritesheets$$.format):$version$$,$properties_spritesheets$$=$properties_spritesheets$$.spritesheets,$spriteFrameCache$$=cc.spriteFrameCache,$path$$=cc.path,$i$$=0;$i$$<$properties_spritesheets$$.length;$i$$++)$spriteFrameCache$$.addSpriteFrames($path$$.changeBasename($plist$$,
$properties_spritesheets$$[$i$$]));switch($version$$){case 1:this._parseVersion1($animations$$);break;case 2:this._parseVersion2($animations$$);break;default:cc.log(cc._LogInfos.animationCache__addAnimationsWithDictionary_2)}}else cc.log(cc._LogInfos.animationCache__addAnimationsWithDictionary)},addAnimations:function $cc$animationCache$addAnimations$($plist$$){cc.assert($plist$$,cc._LogInfos.animationCache_addAnimations_2);var $dict$$=cc.loader.getRes($plist$$);$dict$$?this._addAnimationsWithDictionary($dict$$,
$plist$$):cc.log(cc._LogInfos.animationCache_addAnimations)},_parseVersion1:function $cc$animationCache$_parseVersion1$($animations$$){var $frameCache$$=cc.spriteFrameCache,$key$$;for($key$$ in $animations$$){var $animationDict_delay$$=$animations$$[$key$$],$frameNames$$=$animationDict_delay$$.frames,$animationDict_delay$$=parseFloat($animationDict_delay$$.delay)||0,$animation$$2_frames$$=null;if($frameNames$$){for(var $animation$$2_frames$$=[],$i$$=0;$i$$<$frameNames$$.length;$i$$++){var $spriteFrame$$=
$frameCache$$.getSpriteFrame($frameNames$$[$i$$]);if($spriteFrame$$){var $animFrame$$=new cc.AnimationFrame;$animFrame$$.initWithSpriteFrame($spriteFrame$$,1,null);$animation$$2_frames$$.push($animFrame$$)}else cc.log(cc._LogInfos.animationCache__parseVersion1_2,$key$$,$frameNames$$[$i$$])}0===$animation$$2_frames$$.length?cc.log(cc._LogInfos.animationCache__parseVersion1_3,$key$$):($animation$$2_frames$$.length!=$frameNames$$.length&&cc.log(cc._LogInfos.animationCache__parseVersion1_4,$key$$),$animation$$2_frames$$=
new cc.Animation($animation$$2_frames$$,$animationDict_delay$$,1),cc.animationCache.addAnimation($animation$$2_frames$$,$key$$))}else cc.log(cc._LogInfos.animationCache__parseVersion1,$key$$)}},_parseVersion2:function $cc$animationCache$_parseVersion2$($animations$$){var $frameCache$$=cc.spriteFrameCache,$key$$;for($key$$ in $animations$$){var $animationDict$$1_delayPerUnit$$=$animations$$[$key$$],$isLoop_loops$$=$animationDict$$1_delayPerUnit$$.loop,$loopsTemp_restoreOriginalFrame$$=parseInt($animationDict$$1_delayPerUnit$$.loops),
$isLoop_loops$$=$isLoop_loops$$?cc.REPEAT_FOREVER:isNaN($loopsTemp_restoreOriginalFrame$$)?1:$loopsTemp_restoreOriginalFrame$$,$loopsTemp_restoreOriginalFrame$$=$animationDict$$1_delayPerUnit$$.restoreOriginalFrame&&1==$animationDict$$1_delayPerUnit$$.restoreOriginalFrame?!0:!1,$animation$$=$animationDict$$1_delayPerUnit$$.frames;if($animation$$){for(var $arr$$=[],$i$$=0;$i$$<$animation$$.length;$i$$++){var $entry_userInfo$$=$animation$$[$i$$],$delayUnits$$4_spriteFrameName$$=$entry_userInfo$$.spriteframe,
$spriteFrame$$=$frameCache$$.getSpriteFrame($delayUnits$$4_spriteFrameName$$);if($spriteFrame$$){var $delayUnits$$4_spriteFrameName$$=parseFloat($entry_userInfo$$.delayUnits)||0,$entry_userInfo$$=$entry_userInfo$$.notification,$animFrame$$=new cc.AnimationFrame;$animFrame$$.initWithSpriteFrame($spriteFrame$$,$delayUnits$$4_spriteFrameName$$,$entry_userInfo$$);$arr$$.push($animFrame$$)}else cc.log(cc._LogInfos.animationCache__parseVersion2_2,$key$$,$delayUnits$$4_spriteFrameName$$)}$animationDict$$1_delayPerUnit$$=
parseFloat($animationDict$$1_delayPerUnit$$.delayPerUnit)||0;$animation$$=new cc.Animation;$animation$$.initWithAnimationFrames($arr$$,$animationDict$$1_delayPerUnit$$,$isLoop_loops$$);$animation$$.setRestoreOriginalFrame($loopsTemp_restoreOriginalFrame$$);cc.animationCache.addAnimation($animation$$,$key$$)}else cc.log(cc._LogInfos.animationCache__parseVersion2,$key$$)}},_clear:function $cc$animationCache$_clear$(){this._animations={}}};
cc.SpriteFrame=cc.Class.extend({_offset:null,_originalSize:null,_rectInPixels:null,_rotated:!1,_rect:null,_offsetInPixels:null,_originalSizeInPixels:null,_texture:null,_textureFilename:"",_textureLoaded:!1,ctor:function($filename$$,$rect$$,$rotated$$,$offset$$,$originalSize$$){this._offset=cc.p(0,0);this._offsetInPixels=cc.p(0,0);this._originalSize=cc.size(0,0);this._rotated=!1;this._originalSizeInPixels=cc.size(0,0);this._textureFilename="";this._texture=null;this._textureLoaded=!1;void 0!==$filename$$&&
void 0!==$rect$$&&(void 0===$rotated$$||void 0===$offset$$||void 0===$originalSize$$?this.initWithTexture($filename$$,$rect$$):this.initWithTexture($filename$$,$rect$$,$rotated$$,$offset$$,$originalSize$$))},textureLoaded:function(){return this._textureLoaded},addLoadedEventListener:function($callback$$,$target$$){this.addEventListener("load",$callback$$,$target$$)},getRectInPixels:function(){var $locRectInPixels$$=this._rectInPixels;return cc.rect($locRectInPixels$$.x,$locRectInPixels$$.y,$locRectInPixels$$.width,
$locRectInPixels$$.height)},setRectInPixels:function($rectInPixels$$){this._rectInPixels||(this._rectInPixels=cc.rect(0,0,0,0));this._rectInPixels.x=$rectInPixels$$.x;this._rectInPixels.y=$rectInPixels$$.y;this._rectInPixels.width=$rectInPixels$$.width;this._rectInPixels.height=$rectInPixels$$.height;this._rect=cc.rectPixelsToPoints($rectInPixels$$)},isRotated:function(){return this._rotated},setRotated:function($bRotated$$){this._rotated=$bRotated$$},getRect:function(){var $locRect$$=this._rect;
return cc.rect($locRect$$.x,$locRect$$.y,$locRect$$.width,$locRect$$.height)},setRect:function($rect$$){this._rect||(this._rect=cc.rect(0,0,0,0));this._rect.x=$rect$$.x;this._rect.y=$rect$$.y;this._rect.width=$rect$$.width;this._rect.height=$rect$$.height;this._rectInPixels=cc.rectPointsToPixels(this._rect)},getOffsetInPixels:function(){return cc.p(this._offsetInPixels)},setOffsetInPixels:function($offsetInPixels$$){this._offsetInPixels.x=$offsetInPixels$$.x;this._offsetInPixels.y=$offsetInPixels$$.y;
cc._pointPixelsToPointsOut(this._offsetInPixels,this._offset)},getOriginalSizeInPixels:function(){return cc.size(this._originalSizeInPixels)},setOriginalSizeInPixels:function($sizeInPixels$$){this._originalSizeInPixels.width=$sizeInPixels$$.width;this._originalSizeInPixels.height=$sizeInPixels$$.height},getOriginalSize:function(){return cc.size(this._originalSize)},setOriginalSize:function($sizeInPixels$$){this._originalSize.width=$sizeInPixels$$.width;this._originalSize.height=$sizeInPixels$$.height},
getTexture:function(){if(this._texture)return this._texture;if(""!==this._textureFilename){var $locTexture$$=cc.textureCache.addImage(this._textureFilename);$locTexture$$&&(this._textureLoaded=$locTexture$$.isLoaded());return $locTexture$$}return null},setTexture:function($texture$$){if(this._texture!=$texture$$){var $locLoaded$$=$texture$$.isLoaded();this._textureLoaded=$locLoaded$$;this._texture=$texture$$;$locLoaded$$||$texture$$.addEventListener("load",function($h$$16_sender$$){this._textureLoaded=
!0;if(this._rotated&&cc._renderType===cc._RENDER_TYPE_CANVAS){var $locRect$$8_rect$$37_tempElement$$1_w$$=$h$$16_sender$$.getHtmlElementObj(),$locRect$$8_rect$$37_tempElement$$1_w$$=cc.cutRotateImageToCanvas($locRect$$8_rect$$37_tempElement$$1_w$$,this.getRect()),$tempTexture$$=new cc.Texture2D;$tempTexture$$.initWithElement($locRect$$8_rect$$37_tempElement$$1_w$$);$tempTexture$$.handleLoadedTexture();this.setTexture($tempTexture$$);$locRect$$8_rect$$37_tempElement$$1_w$$=this.getRect();this.setRect(cc.rect(0,
0,$locRect$$8_rect$$37_tempElement$$1_w$$.width,$locRect$$8_rect$$37_tempElement$$1_w$$.height))}$locRect$$8_rect$$37_tempElement$$1_w$$=this._rect;0===$locRect$$8_rect$$37_tempElement$$1_w$$.width&&0===$locRect$$8_rect$$37_tempElement$$1_w$$.height&&($locRect$$8_rect$$37_tempElement$$1_w$$=$h$$16_sender$$.width,$h$$16_sender$$=$h$$16_sender$$.height,this._rect.width=$locRect$$8_rect$$37_tempElement$$1_w$$,this._rect.height=$h$$16_sender$$,this._rectInPixels=cc.rectPointsToPixels(this._rect),this._originalSizeInPixels.width=
this._rectInPixels.width,this._originalSizeInPixels.height=this._rectInPixels.height,this._originalSize.width=$locRect$$8_rect$$37_tempElement$$1_w$$,this._originalSize.height=$h$$16_sender$$);this.dispatchEvent("load")},this)}},getOffset:function(){return cc.p(this._offset)},setOffset:function($offsets$$){this._offset.x=$offsets$$.x;this._offset.y=$offsets$$.y},clone:function(){var $frame$$=new cc.SpriteFrame;$frame$$.initWithTexture(this._textureFilename,this._rectInPixels,this._rotated,this._offsetInPixels,
this._originalSizeInPixels);$frame$$.setTexture(this._texture);return $frame$$},copyWithZone:function(){var $copy$$=new cc.SpriteFrame;$copy$$.initWithTexture(this._textureFilename,this._rectInPixels,this._rotated,this._offsetInPixels,this._originalSizeInPixels);$copy$$.setTexture(this._texture);return $copy$$},copy:function(){return this.copyWithZone()},initWithTexture:function($texture$$,$rect$$,$rotated$$,$offset$$,$originalSize$$){2===arguments.length&&($rect$$=cc.rectPointsToPixels($rect$$));
$offset$$=$offset$$||cc.p(0,0);$originalSize$$=$originalSize$$||$rect$$;$rotated$$=$rotated$$||!1;cc.isString($texture$$)?(this._texture=null,this._textureFilename=$texture$$):$texture$$ instanceof cc.Texture2D&&this.setTexture($texture$$);$texture$$=this.getTexture();this._rectInPixels=$rect$$;$rect$$=this._rect=cc.rectPixelsToPoints($rect$$);if($texture$$&&$texture$$.url&&$texture$$.isLoaded()){var $_x$$,$_y$$;$rotated$$?($_x$$=$rect$$.x+$rect$$.height,$_y$$=$rect$$.y+$rect$$.width):($_x$$=$rect$$.x+
$rect$$.width,$_y$$=$rect$$.y+$rect$$.height);$_x$$>$texture$$.getPixelsWide()&&cc.error(cc._LogInfos.RectWidth,$texture$$.url);$_y$$>$texture$$.getPixelsHigh()&&cc.error(cc._LogInfos.RectHeight,$texture$$.url)}this._offsetInPixels.x=$offset$$.x;this._offsetInPixels.y=$offset$$.y;cc._pointPixelsToPointsOut($offset$$,this._offset);this._originalSizeInPixels.width=$originalSize$$.width;this._originalSizeInPixels.height=$originalSize$$.height;cc._sizePixelsToPointsOut($originalSize$$,this._originalSize);
this._rotated=$rotated$$;return!0}});cc.EventHelper.prototype.apply(cc.SpriteFrame.prototype);cc.SpriteFrame.create=function $cc$SpriteFrame$create$($filename$$,$rect$$,$rotated$$,$offset$$,$originalSize$$){return new cc.SpriteFrame($filename$$,$rect$$,$rotated$$,$offset$$,$originalSize$$)};cc.SpriteFrame.createWithTexture=cc.SpriteFrame.create;
cc.SpriteFrame._frameWithTextureForCanvas=function $cc$SpriteFrame$_frameWithTextureForCanvas$($texture$$,$rect$$,$rotated$$,$offset$$,$originalSize$$){var $spriteFrame$$=new cc.SpriteFrame;$spriteFrame$$._texture=$texture$$;$spriteFrame$$._rectInPixels=$rect$$;$spriteFrame$$._rect=cc.rectPixelsToPoints($rect$$);$spriteFrame$$._offsetInPixels.x=$offset$$.x;$spriteFrame$$._offsetInPixels.y=$offset$$.y;cc._pointPixelsToPointsOut($spriteFrame$$._offsetInPixels,$spriteFrame$$._offset);$spriteFrame$$._originalSizeInPixels.width=
$originalSize$$.width;$spriteFrame$$._originalSizeInPixels.height=$originalSize$$.height;cc._sizePixelsToPointsOut($spriteFrame$$._originalSizeInPixels,$spriteFrame$$._originalSize);$spriteFrame$$._rotated=$rotated$$;return $spriteFrame$$};
cc.spriteFrameCache={_CCNS_REG1:/^\s*\{\s*([\-]?\d+[.]?\d*)\s*,\s*([\-]?\d+[.]?\d*)\s*\}\s*$/,_CCNS_REG2:/^\s*\{\s*\{\s*([\-]?\d+[.]?\d*)\s*,\s*([\-]?\d+[.]?\d*)\s*\}\s*,\s*\{\s*([\-]?\d+[.]?\d*)\s*,\s*([\-]?\d+[.]?\d*)\s*\}\s*\}\s*$/,_spriteFrames:{},_spriteFramesAliases:{},_frameConfigCache:{},_rectFromString:function $cc$spriteFrameCache$_rectFromString$($content$$1_result$$){return($content$$1_result$$=this._CCNS_REG2.exec($content$$1_result$$))?cc.rect(parseFloat($content$$1_result$$[1]),parseFloat($content$$1_result$$[2]),
parseFloat($content$$1_result$$[3]),parseFloat($content$$1_result$$[4])):cc.rect(0,0,0,0)},_pointFromString:function $cc$spriteFrameCache$_pointFromString$($content$$2_result$$){return($content$$2_result$$=this._CCNS_REG1.exec($content$$2_result$$))?cc.p(parseFloat($content$$2_result$$[1]),parseFloat($content$$2_result$$[2])):cc.p(0,0)},_sizeFromString:function $cc$spriteFrameCache$_sizeFromString$($content$$3_result$$){return($content$$3_result$$=this._CCNS_REG1.exec($content$$3_result$$))?cc.size(parseFloat($content$$3_result$$[1]),
parseFloat($content$$3_result$$[2])):cc.size(0,0)},_getFrameConfig:function $cc$spriteFrameCache$_getFrameConfig$($url$$){var $dict$$3_frames$$=cc.loader.getRes($url$$);cc.assert($dict$$3_frames$$,cc._LogInfos.spriteFrameCache__getFrameConfig_2,$url$$);cc.loader.release($url$$);if($dict$$3_frames$$._inited)return this._frameConfigCache[$url$$]=$dict$$3_frames$$;var $tempFrames$$=$dict$$3_frames$$.frames,$tempFrame_tempMeta$$=$dict$$3_frames$$.metadata||$dict$$3_frames$$.meta,$dict$$3_frames$$={},
$meta$$={},$format$$=0;$tempFrame_tempMeta$$&&($format$$=$tempFrame_tempMeta$$.format,$format$$=1>=$format$$.length?parseInt($format$$):$format$$,$meta$$.image=$tempFrame_tempMeta$$.textureFileName||$tempFrame_tempMeta$$.textureFileName||$tempFrame_tempMeta$$.image);for(var $key$$ in $tempFrames$$){var $frameDict_oh$$=$tempFrames$$[$key$$];if($frameDict_oh$$){$tempFrame_tempMeta$$={};if(0==$format$$){$tempFrame_tempMeta$$.rect=cc.rect($frameDict_oh$$.x,$frameDict_oh$$.y,$frameDict_oh$$.width,$frameDict_oh$$.height);
$tempFrame_tempMeta$$.rotated=!1;$tempFrame_tempMeta$$.offset=cc.p($frameDict_oh$$.offsetX,$frameDict_oh$$.offsetY);var $ow_spriteSize_tmpFrame$$=$frameDict_oh$$.originalWidth,$frameDict_oh$$=$frameDict_oh$$.originalHeight;$ow_spriteSize_tmpFrame$$&&$frameDict_oh$$||cc.log(cc._LogInfos.spriteFrameCache__getFrameConfig);$ow_spriteSize_tmpFrame$$=Math.abs($ow_spriteSize_tmpFrame$$);$frameDict_oh$$=Math.abs($frameDict_oh$$);$tempFrame_tempMeta$$.size=cc.size($ow_spriteSize_tmpFrame$$,$frameDict_oh$$)}else if(1==
$format$$||2==$format$$)$tempFrame_tempMeta$$.rect=this._rectFromString($frameDict_oh$$.frame),$tempFrame_tempMeta$$.rotated=$frameDict_oh$$.rotated||!1,$tempFrame_tempMeta$$.offset=this._pointFromString($frameDict_oh$$.offset),$tempFrame_tempMeta$$.size=this._sizeFromString($frameDict_oh$$.sourceSize);else if(3==$format$$){var $ow_spriteSize_tmpFrame$$=this._sizeFromString($frameDict_oh$$.spriteSize),$textureRect_tmpSourceSize$$=this._rectFromString($frameDict_oh$$.textureRect);$ow_spriteSize_tmpFrame$$&&
($textureRect_tmpSourceSize$$=cc.rect($textureRect_tmpSourceSize$$.x,$textureRect_tmpSourceSize$$.y,$ow_spriteSize_tmpFrame$$.width,$ow_spriteSize_tmpFrame$$.height));$tempFrame_tempMeta$$.rect=$textureRect_tmpSourceSize$$;$tempFrame_tempMeta$$.rotated=$frameDict_oh$$.textureRotated||!1;$tempFrame_tempMeta$$.offset=this._pointFromString($frameDict_oh$$.spriteOffset);$tempFrame_tempMeta$$.size=this._sizeFromString($frameDict_oh$$.spriteSourceSize);$tempFrame_tempMeta$$.aliases=$frameDict_oh$$.aliases}else $ow_spriteSize_tmpFrame$$=
$frameDict_oh$$.frame,$textureRect_tmpSourceSize$$=$frameDict_oh$$.sourceSize,$key$$=$frameDict_oh$$.filename||$key$$,$tempFrame_tempMeta$$.rect=cc.rect($ow_spriteSize_tmpFrame$$.x,$ow_spriteSize_tmpFrame$$.y,$ow_spriteSize_tmpFrame$$.w,$ow_spriteSize_tmpFrame$$.h),$tempFrame_tempMeta$$.rotated=$frameDict_oh$$.rotated||!1,$tempFrame_tempMeta$$.offset=cc.p(0,0),$tempFrame_tempMeta$$.size=cc.size($textureRect_tmpSourceSize$$.w,$textureRect_tmpSourceSize$$.h);$dict$$3_frames$$[$key$$]=$tempFrame_tempMeta$$}}return this._frameConfigCache[$url$$]=
{_inited:!0,frames:$dict$$3_frames$$,meta:$meta$$}},addSpriteFrames:function $cc$spriteFrameCache$addSpriteFrames$($url$$,$texture$$){cc.assert($url$$,cc._LogInfos.spriteFrameCache_addSpriteFrames_2);var $dict$$4_frames$$=this._frameConfigCache[$url$$]||cc.loader.getRes($url$$);if($dict$$4_frames$$&&$dict$$4_frames$$.frames){var $frameConfig_meta$$=this._frameConfigCache[$url$$]||this._getFrameConfig($url$$),$dict$$4_frames$$=$frameConfig_meta$$.frames,$frameConfig_meta$$=$frameConfig_meta$$.meta;
$texture$$?$texture$$ instanceof cc.Texture2D||(cc.isString($texture$$)?$texture$$=cc.textureCache.addImage($texture$$):cc.assert(0,cc._LogInfos.spriteFrameCache_addSpriteFrames_3)):($frameConfig_meta$$=cc.path.changeBasename($url$$,$frameConfig_meta$$.image||".png"),$texture$$=cc.textureCache.addImage($frameConfig_meta$$));var $frameConfig_meta$$=this._spriteFramesAliases,$spriteFrames$$=this._spriteFrames,$key$$;for($key$$ in $dict$$4_frames$$){var $aliases$$3_frame$$9_rect$$41_tempElement$$=$dict$$4_frames$$[$key$$],
$spriteFrame$$=$spriteFrames$$[$key$$];if(!$spriteFrame$$){$spriteFrame$$=new cc.SpriteFrame($texture$$,$aliases$$3_frame$$9_rect$$41_tempElement$$.rect,$aliases$$3_frame$$9_rect$$41_tempElement$$.rotated,$aliases$$3_frame$$9_rect$$41_tempElement$$.offset,$aliases$$3_frame$$9_rect$$41_tempElement$$.size);if($aliases$$3_frame$$9_rect$$41_tempElement$$=$aliases$$3_frame$$9_rect$$41_tempElement$$.aliases)for(var $i$$94_tempTexture$$=0,$li$$=$aliases$$3_frame$$9_rect$$41_tempElement$$.length;$i$$94_tempTexture$$<
$li$$;$i$$94_tempTexture$$++){var $alias$$=$aliases$$3_frame$$9_rect$$41_tempElement$$[$i$$94_tempTexture$$];$frameConfig_meta$$[$alias$$]&&cc.log(cc._LogInfos.spriteFrameCache_addSpriteFrames,$alias$$);$frameConfig_meta$$[$alias$$]=$key$$}cc._renderType===cc._RENDER_TYPE_CANVAS&&$spriteFrame$$.isRotated()&&$spriteFrame$$.getTexture().isLoaded()&&($aliases$$3_frame$$9_rect$$41_tempElement$$=$spriteFrame$$.getTexture().getHtmlElementObj(),$aliases$$3_frame$$9_rect$$41_tempElement$$=cc.cutRotateImageToCanvas($aliases$$3_frame$$9_rect$$41_tempElement$$,
$spriteFrame$$.getRectInPixels()),$i$$94_tempTexture$$=new cc.Texture2D,$i$$94_tempTexture$$.initWithElement($aliases$$3_frame$$9_rect$$41_tempElement$$),$i$$94_tempTexture$$.handleLoadedTexture(),$spriteFrame$$.setTexture($i$$94_tempTexture$$),$aliases$$3_frame$$9_rect$$41_tempElement$$=$spriteFrame$$._rect,$spriteFrame$$.setRect(cc.rect(0,0,$aliases$$3_frame$$9_rect$$41_tempElement$$.width,$aliases$$3_frame$$9_rect$$41_tempElement$$.height)));$spriteFrames$$[$key$$]=$spriteFrame$$}}}},_checkConflict:function $cc$spriteFrameCache$_checkConflict$($dictionary$$){$dictionary$$=
$dictionary$$.frames;for(var $key$$ in $dictionary$$)this._spriteFrames[$key$$]&&cc.log(cc._LogInfos.spriteFrameCache__checkConflict,$key$$)},addSpriteFrame:function $cc$spriteFrameCache$addSpriteFrame$($frame$$,$frameName$$){this._spriteFrames[$frameName$$]=$frame$$},removeSpriteFrames:function $cc$spriteFrameCache$removeSpriteFrames$(){this._spriteFrames={};this._spriteFramesAliases={}},removeSpriteFrameByName:function $cc$spriteFrameCache$removeSpriteFrameByName$($name$$){$name$$&&(this._spriteFramesAliases[$name$$]&&
delete this._spriteFramesAliases[$name$$],this._spriteFrames[$name$$]&&delete this._spriteFrames[$name$$])},removeSpriteFramesFromFile:function $cc$spriteFrameCache$removeSpriteFramesFromFile$($cfg$$2_frames$$7_url$$){var $spriteFrames$$=this._spriteFrames,$aliases$$=this._spriteFramesAliases;if($cfg$$2_frames$$7_url$$=this._frameConfigCache[$cfg$$2_frames$$7_url$$]){$cfg$$2_frames$$7_url$$=$cfg$$2_frames$$7_url$$.frames;for(var $key$$ in $cfg$$2_frames$$7_url$$)if($spriteFrames$$[$key$$]){delete $spriteFrames$$[$key$$];
for(var $alias$$ in $aliases$$)$aliases$$[$alias$$]==$key$$&&delete $aliases$$[$alias$$]}}},removeSpriteFramesFromTexture:function $cc$spriteFrameCache$removeSpriteFramesFromTexture$($texture$$){var $spriteFrames$$=this._spriteFrames,$aliases$$=this._spriteFramesAliases,$key$$;for($key$$ in $spriteFrames$$){var $frame$$=$spriteFrames$$[$key$$];if($frame$$&&$frame$$.getTexture()==$texture$$){delete $spriteFrames$$[$key$$];for(var $alias$$ in $aliases$$)$aliases$$[$alias$$]==$key$$&&delete $aliases$$[$alias$$]}}},
getSpriteFrame:function $cc$spriteFrameCache$getSpriteFrame$($name$$){var $frame$$=this._spriteFrames[$name$$];if(!$frame$$){var $key$$=this._spriteFramesAliases[$name$$];$key$$&&(($frame$$=this._spriteFrames[$key$$.toString()])||delete this._spriteFramesAliases[$name$$])}$frame$$||cc.log(cc._LogInfos.spriteFrameCache_getSpriteFrame,$name$$);return $frame$$},_clear:function $cc$spriteFrameCache$_clear$(){this._spriteFrames={};this._spriteFramesAliases={};this._frameConfigCache={}}};
cc.g_NumberOfDraws=0;cc.GLToClipTransform=function $cc$GLToClipTransform$($transformOut$$){var $projection$$=new cc.kmMat4;cc.kmGLGetMatrix(cc.KM_GL_PROJECTION,$projection$$);var $modelview$$=new cc.kmMat4;cc.kmGLGetMatrix(cc.KM_GL_MODELVIEW,$modelview$$);cc.kmMat4Multiply($transformOut$$,$projection$$,$modelview$$)};
cc.Director=cc.Class.extend({_landscape:!1,_nextDeltaTimeZero:!1,_paused:!1,_purgeDirectorInNextLoop:!1,_sendCleanupToScene:!1,_animationInterval:0,_oldAnimationInterval:0,_projection:0,_accumDt:0,_contentScaleFactor:1,_displayStats:!1,_deltaTime:0,_frameRate:0,_FPSLabel:null,_SPFLabel:null,_drawsLabel:null,_winSizeInPoints:null,_lastUpdate:null,_nextScene:null,_notificationNode:null,_openGLView:null,_scenesStack:null,_projectionDelegate:null,_runningScene:null,_frames:0,_totalFrames:0,_secondsPerFrame:0,
_dirtyRegion:null,_scheduler:null,_actionManager:null,_eventProjectionChanged:null,_eventAfterDraw:null,_eventAfterVisit:null,_eventAfterUpdate:null,ctor:function(){var $self$$=this;$self$$._lastUpdate=Date.now();cc.eventManager.addCustomListener(cc.game.EVENT_SHOW,function(){$self$$._lastUpdate=Date.now()})},init:function(){this._oldAnimationInterval=this._animationInterval=1/cc.defaultFPS;this._scenesStack=[];this._projection=cc.Director.PROJECTION_DEFAULT;this._projectionDelegate=null;this._frameRate=
this._accumDt=0;this._displayStats=!1;this._totalFrames=this._frames=0;this._lastUpdate=Date.now();this._purgeDirectorInNextLoop=this._paused=!1;this._winSizeInPoints=cc.size(0,0);this._openGLView=null;this._contentScaleFactor=1;this._scheduler=new cc.Scheduler;this._actionManager=cc.ActionManager?new cc.ActionManager:null;this._scheduler.scheduleUpdateForTarget(this._actionManager,cc.Scheduler.PRIORITY_SYSTEM,!1);this._eventAfterDraw=new cc.EventCustom(cc.Director.EVENT_AFTER_DRAW);this._eventAfterDraw.setUserData(this);
this._eventAfterVisit=new cc.EventCustom(cc.Director.EVENT_AFTER_VISIT);this._eventAfterVisit.setUserData(this);this._eventAfterUpdate=new cc.EventCustom(cc.Director.EVENT_AFTER_UPDATE);this._eventAfterUpdate.setUserData(this);this._eventProjectionChanged=new cc.EventCustom(cc.Director.EVENT_PROJECTION_CHANGED);this._eventProjectionChanged.setUserData(this);return!0},calculateDeltaTime:function(){var $now$$=Date.now();this._nextDeltaTimeZero?(this._deltaTime=0,this._nextDeltaTimeZero=!1):this._deltaTime=
($now$$-this._lastUpdate)/1E3;0<cc.game.config[cc.game.CONFIG_KEY.debugMode]&&.2<this._deltaTime&&(this._deltaTime=1/60);this._lastUpdate=$now$$},convertToGL:null,convertToUI:null,drawScene:function(){var $renderer$$=cc.renderer;this.calculateDeltaTime();this._paused||(this._scheduler.update(this._deltaTime),cc.eventManager.dispatchEvent(this._eventAfterUpdate));this._clear();this._nextScene&&this.setNextScene();this._beforeVisitScene&&this._beforeVisitScene();this._runningScene&&(!0===$renderer$$.childrenOrderDirty?
(cc.renderer.clearRenderCommands(),this._runningScene._curLevel=0,this._runningScene.visit(),$renderer$$.resetFlag()):!0===$renderer$$.transformDirty()&&$renderer$$.transform(),cc.eventManager.dispatchEvent(this._eventAfterVisit));this._notificationNode&&this._notificationNode.visit();this._displayStats&&this._showStats();this._afterVisitScene&&this._afterVisitScene();$renderer$$.rendering(cc._renderContext);cc.eventManager.dispatchEvent(this._eventAfterDraw);this._totalFrames++;this._displayStats&&
this._calculateMPF()},_beforeVisitScene:null,_afterVisitScene:null,end:function(){this._purgeDirectorInNextLoop=!0},getContentScaleFactor:function(){return this._contentScaleFactor},getNotificationNode:function(){return this._notificationNode},getWinSize:function(){return cc.size(this._winSizeInPoints)},getWinSizeInPixels:function(){return cc.size(this._winSizeInPoints.width*this._contentScaleFactor,this._winSizeInPoints.height*this._contentScaleFactor)},getVisibleSize:null,getVisibleOrigin:null,
getZEye:null,pause:function(){this._paused||(this._oldAnimationInterval=this._animationInterval,this.setAnimationInterval(.25),this._paused=!0)},popScene:function(){cc.assert(this._runningScene,cc._LogInfos.Director_popScene);this._scenesStack.pop();var $c$$=this._scenesStack.length;0==$c$$?this.end():(this._sendCleanupToScene=!0,this._nextScene=this._scenesStack[$c$$-1])},purgeCachedData:function(){cc.animationCache._clear();cc.spriteFrameCache._clear();cc.textureCache._clear()},purgeDirector:function(){this.getScheduler().unscheduleAllCallbacks();
cc.eventManager&&cc.eventManager.setEnabled(!1);this._runningScene&&(this._runningScene.onExitTransitionDidStart(),this._runningScene.onExit(),this._runningScene.cleanup());this._nextScene=this._runningScene=null;this._scenesStack.length=0;this.stopAnimation();this.purgeCachedData();cc.checkGLErrorDebug()},pushScene:function($scene$$){cc.assert($scene$$,cc._LogInfos.Director_pushScene);this._sendCleanupToScene=!1;this._scenesStack.push($scene$$);this._nextScene=$scene$$},runScene:function($scene$$){cc.assert($scene$$,
cc._LogInfos.Director_pushScene);if(this._runningScene){var $i$$=this._scenesStack.length;0===$i$$?(this._sendCleanupToScene=!0,this._scenesStack[$i$$]=$scene$$):(this._sendCleanupToScene=!0,this._scenesStack[$i$$-1]=$scene$$);this._nextScene=$scene$$}else this.pushScene($scene$$),this.startAnimation()},resume:function(){this._paused&&(this.setAnimationInterval(this._oldAnimationInterval),(this._lastUpdate=Date.now())||cc.log(cc._LogInfos.Director_resume),this._paused=!1,this._deltaTime=0)},setContentScaleFactor:function($scaleFactor$$){$scaleFactor$$!=
this._contentScaleFactor&&(this._contentScaleFactor=$scaleFactor$$,this._createStatsLabel())},setDepthTest:null,setDefaultValues:function(){},setNextDeltaTimeZero:function($nextDeltaTimeZero$$){this._nextDeltaTimeZero=$nextDeltaTimeZero$$},setNextScene:function(){var $runningIsTransition$$=!1,$locRunningScene_newIsTransition$$=!1;cc.TransitionScene&&($runningIsTransition$$=this._runningScene?this._runningScene instanceof cc.TransitionScene:!1,$locRunningScene_newIsTransition$$=this._nextScene?this._nextScene instanceof
cc.TransitionScene:!1);if(!$locRunningScene_newIsTransition$$){if($locRunningScene_newIsTransition$$=this._runningScene)$locRunningScene_newIsTransition$$.onExitTransitionDidStart(),$locRunningScene_newIsTransition$$.onExit();this._sendCleanupToScene&&$locRunningScene_newIsTransition$$&&$locRunningScene_newIsTransition$$.cleanup()}this._runningScene=this._nextScene;cc.renderer.childrenOrderDirty=!0;this._nextScene=null;$runningIsTransition$$||null==this._runningScene||(this._runningScene.onEnter(),
this._runningScene.onEnterTransitionDidFinish())},setNotificationNode:function($node$$){this._notificationNode=$node$$},getDelegate:function(){return this._projectionDelegate},setDelegate:function($delegate$$){this._projectionDelegate=$delegate$$},setOpenGLView:null,setProjection:null,setViewport:null,getOpenGLView:null,getProjection:null,setAlphaBlending:null,_showStats:function(){this._frames++;this._accumDt+=this._deltaTime;this._FPSLabel&&this._SPFLabel&&this._drawsLabel?(this._accumDt>cc.DIRECTOR_FPS_INTERVAL&&
(this._SPFLabel.string=this._secondsPerFrame.toFixed(3),this._frameRate=this._frames/this._accumDt,this._accumDt=this._frames=0,this._FPSLabel.string=this._frameRate.toFixed(1),this._drawsLabel.string=(0|cc.g_NumberOfDraws).toString()),this._FPSLabel.visit(),this._SPFLabel.visit(),this._drawsLabel.visit()):this._createStatsLabel();cc.g_NumberOfDraws=0},isSendCleanupToScene:function(){return this._sendCleanupToScene},getRunningScene:function(){return this._runningScene},getAnimationInterval:function(){return this._animationInterval},
isDisplayStats:function(){return this._displayStats},setDisplayStats:function($displayStats$$){this._displayStats=$displayStats$$},getSecondsPerFrame:function(){return this._secondsPerFrame},isNextDeltaTimeZero:function(){return this._nextDeltaTimeZero},isPaused:function(){return this._paused},getTotalFrames:function(){return this._totalFrames},popToRootScene:function(){this.popToSceneStackLevel(1)},popToSceneStackLevel:function($level$$){cc.assert(this._runningScene,cc._LogInfos.Director_popToSceneStackLevel_2);
var $locScenesStack$$=this._scenesStack,$c$$=$locScenesStack$$.length;if(0==$c$$)this.end();else if(!($level$$>$c$$)){for(;$c$$>$level$$;){var $current$$=$locScenesStack$$.pop();$current$$.running&&($current$$.onExitTransitionDidStart(),$current$$.onExit());$current$$.cleanup();$c$$--}this._nextScene=$locScenesStack$$[$locScenesStack$$.length-1];this._sendCleanupToScene=!1}},getScheduler:function(){return this._scheduler},setScheduler:function($scheduler$$){this._scheduler!=$scheduler$$&&(this._scheduler=
$scheduler$$)},getActionManager:function(){return this._actionManager},setActionManager:function($actionManager$$){this._actionManager!=$actionManager$$&&(this._actionManager=$actionManager$$)},getDeltaTime:function(){return this._deltaTime},_createStatsLabel:null,_calculateMPF:function(){this._secondsPerFrame=(Date.now()-this._lastUpdate)/1E3}});cc.Director.EVENT_PROJECTION_CHANGED="director_projection_changed";cc.Director.EVENT_AFTER_DRAW="director_after_draw";cc.Director.EVENT_AFTER_VISIT="director_after_visit";
cc.Director.EVENT_AFTER_UPDATE="director_after_update";cc.DisplayLinkDirector=cc.Director.extend({invalid:!1,startAnimation:function(){this._nextDeltaTimeZero=!0;this.invalid=!1},mainLoop:function(){this._purgeDirectorInNextLoop?(this._purgeDirectorInNextLoop=!1,this.purgeDirector()):this.invalid||this.drawScene()},stopAnimation:function(){this.invalid=!0},setAnimationInterval:function($value$$){this._animationInterval=$value$$;this.invalid||(this.stopAnimation(),this.startAnimation())}});
cc.Director.sharedDirector=null;cc.Director.firstUseDirector=!0;cc.Director._getInstance=function $cc$Director$_getInstance$(){cc.Director.firstUseDirector&&(cc.Director.firstUseDirector=!1,cc.Director.sharedDirector=new cc.DisplayLinkDirector,cc.Director.sharedDirector.init());return cc.Director.sharedDirector};cc.defaultFPS=60;cc.Director.PROJECTION_2D=0;cc.Director.PROJECTION_3D=1;cc.Director.PROJECTION_CUSTOM=3;cc.Director.PROJECTION_DEFAULT=cc.Director.PROJECTION_3D;
cc._renderType===cc._RENDER_TYPE_CANVAS?(_p=cc.Director.prototype,_p.setProjection=function $_p$setProjection$($projection$$){this._projection=$projection$$;cc.eventManager.dispatchEvent(this._eventProjectionChanged)},_p.setDepthTest=function $_p$setDepthTest$(){},_p.setOpenGLView=function $_p$setOpenGLView$($openGLView$$){this._winSizeInPoints.width=cc._canvas.width;this._winSizeInPoints.height=cc._canvas.height;this._openGLView=$openGLView$$||cc.view;cc.eventManager&&cc.eventManager.setEnabled(!0)},
_p._clear=function $_p$_clear$(){var $viewport$$=this._openGLView.getViewPortRect();cc._renderContext.clearRect(-$viewport$$.x,$viewport$$.y,$viewport$$.width,-$viewport$$.height)},_p._createStatsLabel=function $_p$_createStatsLabel$(){var $fontSize$$4_locStatsPosition$$=0,$fontSize$$4_locStatsPosition$$=this._winSizeInPoints.width>this._winSizeInPoints.height?0|this._winSizeInPoints.height/320*24:0|this._winSizeInPoints.width/320*24;this._FPSLabel=new cc.LabelTTF("000.0","Arial",$fontSize$$4_locStatsPosition$$);
this._SPFLabel=new cc.LabelTTF("0.000","Arial",$fontSize$$4_locStatsPosition$$);this._drawsLabel=new cc.LabelTTF("0000","Arial",$fontSize$$4_locStatsPosition$$);$fontSize$$4_locStatsPosition$$=cc.DIRECTOR_STATS_POSITION;this._drawsLabel.setPosition(this._drawsLabel.width/2+$fontSize$$4_locStatsPosition$$.x,5*this._drawsLabel.height/2+$fontSize$$4_locStatsPosition$$.y);this._SPFLabel.setPosition(this._SPFLabel.width/2+$fontSize$$4_locStatsPosition$$.x,3*this._SPFLabel.height/2+$fontSize$$4_locStatsPosition$$.y);
this._FPSLabel.setPosition(this._FPSLabel.width/2+$fontSize$$4_locStatsPosition$$.x,this._FPSLabel.height/2+$fontSize$$4_locStatsPosition$$.y)},_p.getVisibleSize=function $_p$getVisibleSize$(){return this.getWinSize()},_p.getVisibleOrigin=function $_p$getVisibleOrigin$(){return cc.p(0,0)}):(cc.Director._fpsImage=new Image,cc._addEventListener(cc.Director._fpsImage,"load",function(){cc.Director._fpsImageLoaded=!0}),cc._fpsImage&&(cc.Director._fpsImage.src=cc._fpsImage),cc.assert(cc.isFunction(cc._tmp.DirectorWebGL),
cc._LogInfos.MissingFile,"CCDirectorWebGL.js"),cc._tmp.DirectorWebGL(),delete cc._tmp.DirectorWebGL);cc.PRIORITY_NON_SYSTEM=cc.PRIORITY_SYSTEM+1;cc.ListEntry=function $cc$ListEntry$($prev$$,$next$$,$target$$,$priority$$,$paused$$,$markedForDeletion$$){this.prev=$prev$$;this.next=$next$$;this.target=$target$$;this.priority=$priority$$;this.paused=$paused$$;this.markedForDeletion=$markedForDeletion$$};
cc.HashUpdateEntry=function $cc$HashUpdateEntry$($list$$,$entry$$,$target$$,$hh$$){this.list=$list$$;this.entry=$entry$$;this.target=$target$$;this.hh=$hh$$};cc.HashTimerEntry=function $cc$HashTimerEntry$($timers$$,$target$$,$timerIndex$$,$currentTimer$$,$currentTimerSalvaged$$,$paused$$,$hh$$){this.timers=$timers$$;this.target=$target$$;this.timerIndex=$timerIndex$$;this.currentTimer=$currentTimer$$;this.currentTimerSalvaged=$currentTimerSalvaged$$;this.paused=$paused$$;this.hh=$hh$$};
cc.Timer=cc.Class.extend({_interval:0,_callback:null,_target:null,_elapsed:0,_runForever:!1,_useDelay:!1,_timesExecuted:0,_repeat:0,_delay:0,getInterval:function(){return this._interval},setInterval:function($interval$$){this._interval=$interval$$},getCallback:function(){return this._callback},ctor:function($target$$,$callback$$,$interval$$,$repeat$$,$delay$$){this._target=$target$$;this._callback=$callback$$;this._elapsed=-1;this._interval=$interval$$||0;this._delay=$delay$$||0;this._useDelay=0<
this._delay;this._repeat=null==$repeat$$?cc.REPEAT_FOREVER:$repeat$$;this._runForever=this._repeat==cc.REPEAT_FOREVER},_doCallback:function(){if(cc.isString(this._callback))this._target[this._callback](this._elapsed);else this._callback.call(this._target,this._elapsed)},update:function($dt$$){if(-1==this._elapsed)this._timesExecuted=this._elapsed=0;else{var $locTarget$$=this._target,$locCallback$$=this._callback;this._elapsed+=$dt$$;this._runForever&&!this._useDelay?this._elapsed>=this._interval&&
($locTarget$$&&$locCallback$$&&this._doCallback(),this._elapsed=0):(this._useDelay?this._elapsed>=this._delay&&($locTarget$$&&$locCallback$$&&this._doCallback(),this._elapsed-=this._delay,this._timesExecuted+=1,this._useDelay=!1):this._elapsed>=this._interval&&($locTarget$$&&$locCallback$$&&this._doCallback(),this._elapsed=0,this._timesExecuted+=1),this._timesExecuted>this._repeat&&cc.director.getScheduler().unscheduleCallbackForTarget($locTarget$$,$locCallback$$))}}});
cc.Scheduler=cc.Class.extend({_timeScale:1,_updates:null,_hashForUpdates:null,_arrayForUpdates:null,_hashForTimers:null,_arrayForTimes:null,_currentTarget:null,_currentTargetSalvaged:!1,_updateHashLocked:!1,ctor:function(){this._timeScale=1;this._updates=[[],[],[]];this._hashForUpdates={};this._arrayForUpdates=[];this._hashForTimers={};this._arrayForTimers=[];this._currentTarget=null;this._updateHashLocked=this._currentTargetSalvaged=!1},_removeHashElement:function($element$$){delete this._hashForTimers[$element$$.target.__instanceId];
cc.arrayRemoveObject(this._arrayForTimers,$element$$);$element$$.Timer=null;$element$$.target=null},_removeUpdateFromHash:function($element$$13_entry$$){if($element$$13_entry$$=this._hashForUpdates[$element$$13_entry$$.target.__instanceId])cc.arrayRemoveObject($element$$13_entry$$.list,$element$$13_entry$$.entry),delete this._hashForUpdates[$element$$13_entry$$.target.__instanceId],cc.arrayRemoveObject(this._arrayForUpdates,$element$$13_entry$$),$element$$13_entry$$.entry=null,$element$$13_entry$$.target=
null},_priorityIn:function($ppList$$,$target$$,$hashElement_priority$$,$listElement_paused$$){$listElement_paused$$=new cc.ListEntry(null,null,$target$$,$hashElement_priority$$,$listElement_paused$$,!1);if($ppList$$){for(var $index2Insert$$=$ppList$$.length-1,$i$$=0;$i$$<=$index2Insert$$&&!($hashElement_priority$$<$ppList$$[$i$$].priority);$i$$++);$ppList$$.splice($i$$,0,$listElement_paused$$)}else $ppList$$=[],$ppList$$.push($listElement_paused$$);$hashElement_priority$$=new cc.HashUpdateEntry($ppList$$,
$listElement_paused$$,$target$$,null);this._arrayForUpdates.push($hashElement_priority$$);this._hashForUpdates[$target$$.__instanceId]=$hashElement_priority$$;return $ppList$$},_appendIn:function($hashElement$$1_ppList$$,$target$$,$listElement$$1_paused$$){$listElement$$1_paused$$=new cc.ListEntry(null,null,$target$$,0,$listElement$$1_paused$$,!1);$hashElement$$1_ppList$$.push($listElement$$1_paused$$);$hashElement$$1_ppList$$=new cc.HashUpdateEntry($hashElement$$1_ppList$$,$listElement$$1_paused$$,
$target$$,null);this._arrayForUpdates.push($hashElement$$1_ppList$$);this._hashForUpdates[$target$$.__instanceId]=$hashElement$$1_ppList$$},setTimeScale:function($timeScale$$){this._timeScale=$timeScale$$},getTimeScale:function(){return this._timeScale},update:function($dt$$){var $locUpdates$$=this._updates,$locArrayForTimers$$=this._arrayForTimers,$elt$$,$i$$,$li$$;this._updateHashLocked=!0;1!=this._timeScale&&($dt$$*=this._timeScale);$i$$=0;for($li$$=$locUpdates$$.length;$i$$<$li$$&&0<=$i$$;$i$$++)for(var $update$$=
this._updates[$i$$],$j$$=0,$lj$$=$update$$.length;$j$$<$lj$$;$j$$++)$elt$$=$update$$[$j$$],$elt$$.paused||$elt$$.markedForDeletion||$elt$$.target.update($dt$$);$i$$=0;for($li$$=$locArrayForTimers$$.length;$i$$<$li$$;$i$$++){$elt$$=$locArrayForTimers$$[$i$$];if(!$elt$$)break;this._currentTarget=$elt$$;this._currentTargetSalvaged=!1;if(!$elt$$.paused)for($elt$$.timerIndex=0;$elt$$.timerIndex<$elt$$.timers.length;$elt$$.timerIndex++)$elt$$.currentTimer=$elt$$.timers[$elt$$.timerIndex],$elt$$.currentTimerSalvaged=
!1,$elt$$.currentTimer.update($dt$$),$elt$$.currentTimer=null;this._currentTargetSalvaged&&0==$elt$$.timers.length&&(this._removeHashElement($elt$$),$i$$--)}$i$$=0;for($li$$=$locUpdates$$.length;$i$$<$li$$;$i$$++)for($update$$=this._updates[$i$$],$j$$=0,$lj$$=$update$$.length;$j$$<$lj$$;){$elt$$=$update$$[$j$$];if(!$elt$$)break;$elt$$.markedForDeletion?this._removeUpdateFromHash($elt$$):$j$$++}this._updateHashLocked=!1;this._currentTarget=null},scheduleCallbackForTarget:function($target$$,$callback_fn$$,
$interval$$,$repeat$$,$delay$$,$paused$$){cc.assert($callback_fn$$,cc._LogInfos.Scheduler_scheduleCallbackForTarget_2);cc.assert($target$$,cc._LogInfos.Scheduler_scheduleCallbackForTarget_3);$interval$$=$interval$$||0;$repeat$$=null==$repeat$$?cc.REPEAT_FOREVER:$repeat$$;$delay$$=$delay$$||0;$paused$$=$paused$$||!1;var $element$$=this._hashForTimers[$target$$.__instanceId];$element$$||($element$$=new cc.HashTimerEntry(null,$target$$,0,null,null,$paused$$,null),this._arrayForTimers.push($element$$),
this._hashForTimers[$target$$.__instanceId]=$element$$);if(null==$element$$.timers)$element$$.timers=[];else for(var $i$$=0;$i$$<$element$$.timers.length;$i$$++)if($paused$$=$element$$.timers[$i$$],$callback_fn$$==$paused$$._callback){cc.log(cc._LogInfos.Scheduler_scheduleCallbackForTarget,$paused$$.getInterval().toFixed(4),$interval$$.toFixed(4));$paused$$._interval=$interval$$;return}$paused$$=new cc.Timer($target$$,$callback_fn$$,$interval$$,$repeat$$,$delay$$);$element$$.timers.push($paused$$)},
scheduleUpdateForTarget:function($target$$,$priority$$,$paused$$){if(null!==$target$$){var $locUpdates$$=this._updates,$hashElement$$=this._hashForUpdates[$target$$.__instanceId];$hashElement$$?$hashElement$$.entry.markedForDeletion=!1:0==$priority$$?this._appendIn($locUpdates$$[1],$target$$,$paused$$):0>$priority$$?$locUpdates$$[0]=this._priorityIn($locUpdates$$[0],$target$$,$priority$$,$paused$$):$locUpdates$$[2]=this._priorityIn($locUpdates$$[2],$target$$,$priority$$,$paused$$)}},unscheduleCallbackForTarget:function($target$$,
$callback_fn$$){if(null!=$target$$&&null!=$callback_fn$$){var $element$$=this._hashForTimers[$target$$.__instanceId];if($element$$)for(var $timers$$=$element$$.timers,$i$$=0,$li$$=$timers$$.length;$i$$<$li$$;$i$$++){var $timer$$=$timers$$[$i$$];if($callback_fn$$==$timer$$._callback){$timer$$!=$element$$.currentTimer||$element$$.currentTimerSalvaged||($element$$.currentTimerSalvaged=!0);$timers$$.splice($i$$,1);$element$$.timerIndex>=$i$$&&$element$$.timerIndex--;0==$timers$$.length&&(this._currentTarget==
$element$$?this._currentTargetSalvaged=!0:this._removeHashElement($element$$));break}}}},unscheduleUpdateForTarget:function($element$$16_target$$){null!=$element$$16_target$$&&($element$$16_target$$=this._hashForUpdates[$element$$16_target$$.__instanceId],null!=$element$$16_target$$&&(this._updateHashLocked?$element$$16_target$$.entry.markedForDeletion=!0:this._removeUpdateFromHash($element$$16_target$$.entry)))},unscheduleAllCallbacksForTarget:function($target$$){if(null!=$target$$){var $element$$=
this._hashForTimers[$target$$.__instanceId];if($element$$){var $timers$$=$element$$.timers;!$element$$.currentTimerSalvaged&&0<=$timers$$.indexOf($element$$.currentTimer)&&($element$$.currentTimerSalvaged=!0);$timers$$.length=0;this._currentTarget==$element$$?this._currentTargetSalvaged=!0:this._removeHashElement($element$$)}this.unscheduleUpdateForTarget($target$$)}},unscheduleAllCallbacks:function(){this.unscheduleAllCallbacksWithMinPriority(cc.Scheduler.PRIORITY_SYSTEM)},unscheduleAllCallbacksWithMinPriority:function($minPriority$$){for(var $locArrayForTimers$$=
this._arrayForTimers,$locUpdates$$=this._updates,$i$$=0,$j$$7_li$$=$locArrayForTimers$$.length;$i$$<$j$$7_li$$;$i$$++)this.unscheduleAllCallbacksForTarget($locArrayForTimers$$[$i$$].target);for($i$$=2;0<=$i$$;$i$$--)if(!(1==$i$$&&0<$minPriority$$||0==$i$$&&0<=$minPriority$$))for(var $locArrayForTimers$$=$locUpdates$$[$i$$],$j$$7_li$$=0,$lj$$=$locArrayForTimers$$.length;$j$$7_li$$<$lj$$;$j$$7_li$$++)this.unscheduleUpdateForTarget($locArrayForTimers$$[$j$$7_li$$].target)},pauseAllTargets:function(){return this.pauseAllTargetsWithMinPriority(cc.Scheduler.PRIORITY_SYSTEM)},
pauseAllTargetsWithMinPriority:function($idsWithSelectors_minPriority$$){$idsWithSelectors_minPriority$$=[];for(var $element$$,$locArrayForTimers$$2_updates$$=this._arrayForTimers,$locUpdates$$=this._updates,$i$$=0,$li$$=$locArrayForTimers$$2_updates$$.length;$i$$<$li$$;$i$$++)if($element$$=$locArrayForTimers$$2_updates$$[$i$$])$element$$.paused=!0,$idsWithSelectors_minPriority$$.push($element$$.target);$i$$=0;for($li$$=$locUpdates$$.length;$i$$<$li$$;$i$$++)for(var $locArrayForTimers$$2_updates$$=
$locUpdates$$[$i$$],$j$$=0,$lj$$=$locArrayForTimers$$2_updates$$.length;$j$$<$lj$$;$j$$++)if($element$$=$locArrayForTimers$$2_updates$$[$j$$])$element$$.paused=!0,$idsWithSelectors_minPriority$$.push($element$$.target);return $idsWithSelectors_minPriority$$},resumeTargets:function($targetsToResume$$){if($targetsToResume$$)for(var $i$$=0;$i$$<$targetsToResume$$.length;$i$$++)this.resumeTarget($targetsToResume$$[$i$$])},pauseTarget:function($elementUpdate_target$$){cc.assert($elementUpdate_target$$,
cc._LogInfos.Scheduler_pauseTarget);var $element$$=this._hashForTimers[$elementUpdate_target$$.__instanceId];$element$$&&($element$$.paused=!0);if($elementUpdate_target$$=this._hashForUpdates[$elementUpdate_target$$.__instanceId])$elementUpdate_target$$.entry.paused=!0},resumeTarget:function($elementUpdate$$1_target$$){cc.assert($elementUpdate$$1_target$$,cc._LogInfos.Scheduler_resumeTarget);var $element$$=this._hashForTimers[$elementUpdate$$1_target$$.__instanceId];$element$$&&($element$$.paused=
!1);if($elementUpdate$$1_target$$=this._hashForUpdates[$elementUpdate$$1_target$$.__instanceId])$elementUpdate$$1_target$$.entry.paused=!1},isTargetPaused:function($element$$21_target$$){cc.assert($element$$21_target$$,cc._LogInfos.Scheduler_isTargetPaused);return($element$$21_target$$=this._hashForTimers[$element$$21_target$$.__instanceId])?$element$$21_target$$.paused:!1}});cc.Scheduler.PRIORITY_SYSTEM=-2147483648;
cc._tmp.PrototypeLabelTTF=function $cc$_tmp$PrototypeLabelTTF$(){var $_p$$=cc.LabelTTF.prototype;cc.defineGetterSetter($_p$$,"color",$_p$$.getColor,$_p$$.setColor);cc.defineGetterSetter($_p$$,"opacity",$_p$$.getOpacity,$_p$$.setOpacity);$_p$$.string;cc.defineGetterSetter($_p$$,"string",$_p$$.getString,$_p$$.setString);$_p$$.textAlign;cc.defineGetterSetter($_p$$,"textAlign",$_p$$.getHorizontalAlignment,$_p$$.setHorizontalAlignment);$_p$$.verticalAlign;cc.defineGetterSetter($_p$$,"verticalAlign",$_p$$.getVerticalAlignment,
$_p$$.setVerticalAlignment);$_p$$.fontSize;cc.defineGetterSetter($_p$$,"fontSize",$_p$$.getFontSize,$_p$$.setFontSize);$_p$$.fontName;cc.defineGetterSetter($_p$$,"fontName",$_p$$.getFontName,$_p$$.setFontName);$_p$$.font;cc.defineGetterSetter($_p$$,"font",$_p$$._getFont,$_p$$._setFont);$_p$$.boundingSize;$_p$$.boundingWidth;cc.defineGetterSetter($_p$$,"boundingWidth",$_p$$._getBoundingWidth,$_p$$._setBoundingWidth);$_p$$.boundingHeight;cc.defineGetterSetter($_p$$,"boundingHeight",$_p$$._getBoundingHeight,
$_p$$._setBoundingHeight);$_p$$.fillStyle;cc.defineGetterSetter($_p$$,"fillStyle",$_p$$._getFillStyle,$_p$$.setFontFillColor);$_p$$.strokeStyle;cc.defineGetterSetter($_p$$,"strokeStyle",$_p$$._getStrokeStyle,$_p$$._setStrokeStyle);$_p$$.lineWidth;cc.defineGetterSetter($_p$$,"lineWidth",$_p$$._getLineWidth,$_p$$._setLineWidth);$_p$$.shadowOffset;$_p$$.shadowOffsetX;cc.defineGetterSetter($_p$$,"shadowOffsetX",$_p$$._getShadowOffsetX,$_p$$._setShadowOffsetX);$_p$$.shadowOffsetY;cc.defineGetterSetter($_p$$,
"shadowOffsetY",$_p$$._getShadowOffsetY,$_p$$._setShadowOffsetY);$_p$$.shadowOpacity;cc.defineGetterSetter($_p$$,"shadowOpacity",$_p$$._getShadowOpacity,$_p$$._setShadowOpacity);$_p$$.shadowBlur;cc.defineGetterSetter($_p$$,"shadowBlur",$_p$$._getShadowBlur,$_p$$._setShadowBlur)};
cc.LabelTTF=cc.Sprite.extend({_dimensions:null,_hAlignment:cc.TEXT_ALIGNMENT_CENTER,_vAlignment:cc.VERTICAL_TEXT_ALIGNMENT_TOP,_fontName:null,_fontSize:0,_string:"",_originalText:null,_isMultiLine:!1,_fontStyleStr:null,_shadowEnabled:!1,_shadowOffset:null,_shadowOpacity:0,_shadowBlur:0,_shadowColorStr:null,_shadowColor:null,_strokeEnabled:!1,_strokeColor:null,_strokeSize:0,_strokeColorStr:null,_textFillColor:null,_fillColorStr:null,_strokeShadowOffsetX:0,_strokeShadowOffsetY:0,_needUpdateTexture:!1,
_labelCanvas:null,_labelContext:null,_lineWidths:null,_className:"LabelTTF",initWithString:function($label$$,$fontName$$,$fontSize$$,$dimensions$$,$hAlignment$$,$vAlignment$$){$label$$=$label$$?$label$$+"":"";$fontSize$$=$fontSize$$||16;$dimensions$$=$dimensions$$||cc.size(0,0);$hAlignment$$=$hAlignment$$||cc.TEXT_ALIGNMENT_LEFT;$vAlignment$$=$vAlignment$$||cc.VERTICAL_TEXT_ALIGNMENT_TOP;this._opacityModifyRGB=!1;this._dimensions=cc.size($dimensions$$.width,$dimensions$$.height);this._fontName=$fontName$$||
"Arial";this._hAlignment=$hAlignment$$;this._vAlignment=$vAlignment$$;this._fontSize=$fontSize$$;this._fontStyleStr=this._fontSize+"px '"+$fontName$$+"'";this._fontClientHeight=cc.LabelTTF.__getFontHeightByDiv($fontName$$,this._fontSize);this.string=$label$$;this._setColorsString();this._updateTexture();this._setUpdateTextureDirty();return!0},_setUpdateTextureDirty:function(){this._renderCmdDiry=this._needUpdateTexture=!0;cc.renderer.pushDirtyNode(this)},ctor:function($text$$,$fontName$$,$fontSize$$,
$dimensions$$,$hAlignment$$,$vAlignment$$){cc.Sprite.prototype.ctor.call(this);this._dimensions=cc.size(0,0);this._hAlignment=cc.TEXT_ALIGNMENT_LEFT;this._vAlignment=cc.VERTICAL_TEXT_ALIGNMENT_TOP;this._opacityModifyRGB=!1;this._fontStyleStr="";this._fontName="Arial";this._shadowEnabled=this._isMultiLine=!1;this._shadowOffset=cc.p(0,0);this._shadowBlur=this._shadowOpacity=0;this._shadowColorStr="rgba(128, 128, 128, 0.5)";this._strokeEnabled=!1;this._strokeColor=cc.color(255,255,255,255);this._strokeSize=
0;this._strokeColorStr="";this._textFillColor=cc.color(255,255,255,255);this._fillColorStr="rgba(255,255,255,1)";this._strokeShadowOffsetY=this._strokeShadowOffsetX=0;this._needUpdateTexture=!1;this._lineWidths=[];this._setColorsString();$fontName$$&&$fontName$$ instanceof cc.FontDefinition?this.initWithStringAndTextDefinition($text$$,$fontName$$):cc.LabelTTF.prototype.initWithString.call(this,$text$$,$fontName$$,$fontSize$$,$dimensions$$,$hAlignment$$,$vAlignment$$)},init:function(){return this.initWithString(" ",
this._fontName,this._fontSize)},_measureConfig:function(){this._getLabelContext().font=this._fontStyleStr},_measure:function($text$$){return this._getLabelContext().measureText($text$$).width},description:function(){return"<cc.LabelTTF | FontName ="+this._fontName+" FontSize = "+this._fontSize.toFixed(1)+">"},setColor:null,_setColorsString:null,updateDisplayedColor:null,setOpacity:null,updateDisplayedOpacity:null,updateDisplayedOpacityForCanvas:function($parentOpacity$$){cc.Node.prototype.updateDisplayedOpacity.call(this,
$parentOpacity$$);this._setColorsString()},getString:function(){return this._string},getHorizontalAlignment:function(){return this._hAlignment},getVerticalAlignment:function(){return this._vAlignment},getDimensions:function(){return cc.size(this._dimensions)},getFontSize:function(){return this._fontSize},getFontName:function(){return this._fontName},initWithStringAndTextDefinition:null,setTextDefinition:function($theDefinition$$){$theDefinition$$&&this._updateWithTextDefinition($theDefinition$$,!0)},
getTextDefinition:function(){return this._prepareTextDefinition(!1)},enableShadow:function($a$$,$b$$,$c$$,$d$$){null!=$a$$.r&&null!=$a$$.g&&null!=$a$$.b&&null!=$a$$.a?this._enableShadow($a$$,$b$$,$c$$):this._enableShadowNoneColor($a$$,$b$$,$c$$,$d$$)},_enableShadowNoneColor:function($shadowOffsetX$$,$shadowOffsetY$$,$shadowOpacity$$,$shadowBlur$$){$shadowOpacity$$=$shadowOpacity$$||.5;!1===this._shadowEnabled&&(this._shadowEnabled=!0);var $locShadowOffset$$=this._shadowOffset;if($locShadowOffset$$&&
$locShadowOffset$$.x!=$shadowOffsetX$$||$locShadowOffset$$._y!=$shadowOffsetY$$)$locShadowOffset$$.x=$shadowOffsetX$$,$locShadowOffset$$.y=$shadowOffsetY$$;this._shadowOpacity!=$shadowOpacity$$&&(this._shadowOpacity=$shadowOpacity$$);this._setColorsString();this._shadowBlur!=$shadowBlur$$&&(this._shadowBlur=$shadowBlur$$);this._setUpdateTextureDirty()},_enableShadow:function($shadowColor$$,$offset$$,$blurRadius$$){this._shadowColor||(this._shadowColor=cc.color(255,255,255,128));this._shadowColor.r=
$shadowColor$$.r;this._shadowColor.g=$shadowColor$$.g;this._shadowColor.b=$shadowColor$$.b;this._enableShadowNoneColor($offset$$.width||$offset$$.x||0,$offset$$.height||$offset$$.y||0,null!=$shadowColor$$.a?$shadowColor$$.a/255:.5,$blurRadius$$)},_getShadowOffsetX:function(){return this._shadowOffset.x},_setShadowOffsetX:function($x$$){!1===this._shadowEnabled&&(this._shadowEnabled=!0);this._shadowOffset.x!=$x$$&&(this._shadowOffset.x=$x$$,this._setUpdateTextureDirty())},_getShadowOffsetY:function(){return this._shadowOffset._y},
_setShadowOffsetY:function($y$$){!1===this._shadowEnabled&&(this._shadowEnabled=!0);this._shadowOffset._y!=$y$$&&(this._shadowOffset._y=$y$$,this._setUpdateTextureDirty())},_getShadowOffset:function(){return cc.p(this._shadowOffset.x,this._shadowOffset.y)},_setShadowOffset:function($offset$$){!1===this._shadowEnabled&&(this._shadowEnabled=!0);if(this._shadowOffset.x!=$offset$$.x||this._shadowOffset.y!=$offset$$.y)this._shadowOffset.x=$offset$$.x,this._shadowOffset.y=$offset$$.y,this._setUpdateTextureDirty()},
_getShadowOpacity:function(){return this._shadowOpacity},_setShadowOpacity:function($shadowOpacity$$){!1===this._shadowEnabled&&(this._shadowEnabled=!0);this._shadowOpacity!=$shadowOpacity$$&&(this._shadowOpacity=$shadowOpacity$$,this._setColorsString(),this._setUpdateTextureDirty())},_getShadowBlur:function(){return this._shadowBlur},_setShadowBlur:function($shadowBlur$$){!1===this._shadowEnabled&&(this._shadowEnabled=!0);this._shadowBlur!=$shadowBlur$$&&(this._shadowBlur=$shadowBlur$$,this._setUpdateTextureDirty())},
disableShadow:function(){this._shadowEnabled&&(this._shadowEnabled=!1,this._setUpdateTextureDirty())},enableStroke:function($strokeColor$$,$strokeSize$$){!1===this._strokeEnabled&&(this._strokeEnabled=!0);var $locStrokeColor$$=this._strokeColor;if($locStrokeColor$$.r!==$strokeColor$$.r||$locStrokeColor$$.g!==$strokeColor$$.g||$locStrokeColor$$.b!==$strokeColor$$.b)$locStrokeColor$$.r=$strokeColor$$.r,$locStrokeColor$$.g=$strokeColor$$.g,$locStrokeColor$$.b=$strokeColor$$.b,this._setColorsString();
this._strokeSize!==$strokeSize$$&&(this._strokeSize=$strokeSize$$||0);this._setUpdateTextureDirty()},_getStrokeStyle:function(){return this._strokeColor},_setStrokeStyle:function($strokeStyle$$){!1===this._strokeEnabled&&(this._strokeEnabled=!0);var $locStrokeColor$$=this._strokeColor;if($locStrokeColor$$.r!==$strokeStyle$$.r||$locStrokeColor$$.g!==$strokeStyle$$.g||$locStrokeColor$$.b!==$strokeStyle$$.b)$locStrokeColor$$.r=$strokeStyle$$.r,$locStrokeColor$$.g=$strokeStyle$$.g,$locStrokeColor$$.b=
$strokeStyle$$.b,this._setColorsString(),this._setUpdateTextureDirty()},_getLineWidth:function(){return this._strokeSize},_setLineWidth:function($lineWidth$$){!1===this._strokeEnabled&&(this._strokeEnabled=!0);this._strokeSize!==$lineWidth$$&&(this._strokeSize=$lineWidth$$||0,this._setUpdateTextureDirty())},disableStroke:function(){this._strokeEnabled&&(this._strokeEnabled=!1,this._setUpdateTextureDirty())},setFontFillColor:null,_getFillStyle:function(){return this._textFillColor},_updateWithTextDefinition:function($textDefinition$$,
$mustUpdateTexture$$){$textDefinition$$.fontDimensions?(this._dimensions.width=$textDefinition$$.boundingWidth,this._dimensions.height=$textDefinition$$.boundingHeight):(this._dimensions.width=0,this._dimensions.height=0);this._hAlignment=$textDefinition$$.textAlign;this._vAlignment=$textDefinition$$.verticalAlign;this._fontName=$textDefinition$$.fontName;this._fontSize=$textDefinition$$.fontSize||12;this._fontStyleStr=this._fontSize+"px '"+this._fontName+"'";this._fontClientHeight=cc.LabelTTF.__getFontHeightByDiv(this._fontName,
this._fontSize);$textDefinition$$.shadowEnabled&&this.enableShadow($textDefinition$$.shadowOffsetX,$textDefinition$$.shadowOffsetY,$textDefinition$$.shadowOpacity,$textDefinition$$.shadowBlur);$textDefinition$$.strokeEnabled&&this.enableStroke($textDefinition$$.strokeStyle,$textDefinition$$.lineWidth);this.setFontFillColor($textDefinition$$.fillStyle);$mustUpdateTexture$$&&this._updateTexture()},_prepareTextDefinition:function($adjustForResolution_locTextFillColor$$){var $texDef$$=new cc.FontDefinition;
$adjustForResolution_locTextFillColor$$?($texDef$$.fontSize=this._fontSize,$texDef$$.boundingWidth=cc.contentScaleFactor()*this._dimensions.width,$texDef$$.boundingHeight=cc.contentScaleFactor()*this._dimensions.height):($texDef$$.fontSize=this._fontSize,$texDef$$.boundingWidth=this._dimensions.width,$texDef$$.boundingHeight=this._dimensions.height);$texDef$$.fontName=this._fontName;$texDef$$.textAlign=this._hAlignment;$texDef$$.verticalAlign=this._vAlignment;if(this._strokeEnabled){$texDef$$.strokeEnabled=
!0;var $locStrokeColor$$=this._strokeColor;$texDef$$.strokeStyle=cc.color($locStrokeColor$$.r,$locStrokeColor$$.g,$locStrokeColor$$.b);$texDef$$.lineWidth=this._strokeSize}else $texDef$$.strokeEnabled=!1;this._shadowEnabled?($texDef$$.shadowEnabled=!0,$texDef$$.shadowBlur=this._shadowBlur,$texDef$$.shadowOpacity=this._shadowOpacity,$texDef$$.shadowOffsetX=($adjustForResolution_locTextFillColor$$?cc.contentScaleFactor():1)*this._shadowOffset.x,$texDef$$.shadowOffsetY=($adjustForResolution_locTextFillColor$$?
cc.contentScaleFactor():1)*this._shadowOffset.y):$texDef$$._shadowEnabled=!1;$adjustForResolution_locTextFillColor$$=this._textFillColor;$texDef$$.fillStyle=cc.color($adjustForResolution_locTextFillColor$$.r,$adjustForResolution_locTextFillColor$$.g,$adjustForResolution_locTextFillColor$$.b);return $texDef$$},_fontClientHeight:18,setString:function($text$$){$text$$=String($text$$);this._originalText!=$text$$&&(this._originalText=$text$$+"",this._updateString(),this._setUpdateTextureDirty())},_updateString:function(){this._string=
this._originalText},setHorizontalAlignment:function($alignment$$){$alignment$$!==this._hAlignment&&(this._hAlignment=$alignment$$,this._setUpdateTextureDirty())},setVerticalAlignment:function($verticalAlignment$$){$verticalAlignment$$!=this._vAlignment&&(this._vAlignment=$verticalAlignment$$,this._setUpdateTextureDirty())},setDimensions:function($dim$$,$height$$){var $width$$;void 0===$height$$?($width$$=$dim$$.width,$height$$=$dim$$.height):$width$$=$dim$$;if($width$$!=this._dimensions.width||$height$$!=
this._dimensions.height)this._dimensions.width=$width$$,this._dimensions.height=$height$$,this._updateString(),this._setUpdateTextureDirty()},_getBoundingWidth:function(){return this._dimensions.width},_setBoundingWidth:function($width$$){$width$$!=this._dimensions.width&&(this._dimensions.width=$width$$,this._updateString(),this._setUpdateTextureDirty())},_getBoundingHeight:function(){return this._dimensions.height},_setBoundingHeight:function($height$$){$height$$!=this._dimensions.height&&(this._dimensions.height=
$height$$,this._updateString(),this._setUpdateTextureDirty())},setFontSize:function($fontSize$$){this._fontSize!==$fontSize$$&&(this._fontSize=$fontSize$$,this._fontStyleStr=$fontSize$$+"px '"+this._fontName+"'",this._fontClientHeight=cc.LabelTTF.__getFontHeightByDiv(this._fontName,$fontSize$$),this._setUpdateTextureDirty())},setFontName:function($fontName$$){this._fontName&&this._fontName!=$fontName$$&&(this._fontName=$fontName$$,this._fontStyleStr=this._fontSize+"px '"+$fontName$$+"'",this._fontClientHeight=
cc.LabelTTF.__getFontHeightByDiv($fontName$$,this._fontSize),this._setUpdateTextureDirty())},_getFont:function(){return this._fontStyleStr},_setFont:function($fontStyle$$){var $res$$=cc.LabelTTF._fontStyleRE.exec($fontStyle$$);$res$$&&(this._fontSize=parseInt($res$$[1]),this._fontName=$res$$[2],this._fontStyleStr=$fontStyle$$,this._fontClientHeight=cc.LabelTTF.__getFontHeightByDiv(this._fontName,this._fontSize),this._setUpdateTextureDirty())},_drawTTFInCanvas:function($context$$){if($context$$){var $line_locContentWidth_locStrokeShadowOffsetX$$=
this._strokeShadowOffsetX,$locStrokeShadowOffsetY_xOffset$$=this._strokeShadowOffsetY,$locContentSizeHeight$$=this._contentSize.height-$locStrokeShadowOffsetY_xOffset$$,$i$$=this._vAlignment,$locHAlignment_locStrLen$$=this._hAlignment,$locFontHeight$$=this._fontClientHeight,$locShadowOffset$$=this._strokeSize;$context$$.setTransform(1,0,0,1,0+.5*$line_locContentWidth_locStrokeShadowOffsetX$$,$locContentSizeHeight$$+.5*$locStrokeShadowOffsetY_xOffset$$);$context$$.font!=this._fontStyleStr&&($context$$.font=
this._fontStyleStr);$context$$.fillStyle=this._fillColorStr;var $yOffset$$=$locStrokeShadowOffsetY_xOffset$$=0,$locStrokeEnabled$$=this._strokeEnabled;$locStrokeEnabled$$&&($context$$.lineWidth=2*$locShadowOffset$$,$context$$.strokeStyle=this._strokeColorStr);this._shadowEnabled&&($locShadowOffset$$=this._shadowOffset,$context$$.shadowColor=this._shadowColorStr,$context$$.shadowOffsetX=$locShadowOffset$$.x,$context$$.shadowOffsetY=-$locShadowOffset$$.y,$context$$.shadowBlur=this._shadowBlur);$context$$.textBaseline=
cc.LabelTTF._textBaseline[$i$$];$context$$.textAlign=cc.LabelTTF._textAlign[$locHAlignment_locStrLen$$];$line_locContentWidth_locStrokeShadowOffsetX$$=this._contentSize.width-$line_locContentWidth_locStrokeShadowOffsetX$$;$locStrokeShadowOffsetY_xOffset$$=$locHAlignment_locStrLen$$===cc.TEXT_ALIGNMENT_RIGHT?$locStrokeShadowOffsetY_xOffset$$+$line_locContentWidth_locStrokeShadowOffsetX$$:$locHAlignment_locStrLen$$===cc.TEXT_ALIGNMENT_CENTER?$locStrokeShadowOffsetY_xOffset$$+$line_locContentWidth_locStrokeShadowOffsetX$$/
2:$locStrokeShadowOffsetY_xOffset$$+0;if(this._isMultiLine)for($locHAlignment_locStrLen$$=this._strings.length,$i$$===cc.VERTICAL_TEXT_ALIGNMENT_BOTTOM?$yOffset$$=$locFontHeight$$+$locContentSizeHeight$$-$locFontHeight$$*$locHAlignment_locStrLen$$:$i$$===cc.VERTICAL_TEXT_ALIGNMENT_CENTER&&($yOffset$$=$locFontHeight$$/2+($locContentSizeHeight$$-$locFontHeight$$*$locHAlignment_locStrLen$$)/2),$i$$=0;$i$$<$locHAlignment_locStrLen$$;$i$$++)$line_locContentWidth_locStrokeShadowOffsetX$$=this._strings[$i$$],
$locShadowOffset$$=-$locContentSizeHeight$$+$locFontHeight$$*$i$$+$yOffset$$,$locStrokeEnabled$$&&$context$$.strokeText($line_locContentWidth_locStrokeShadowOffsetX$$,$locStrokeShadowOffsetY_xOffset$$,$locShadowOffset$$),$context$$.fillText($line_locContentWidth_locStrokeShadowOffsetX$$,$locStrokeShadowOffsetY_xOffset$$,$locShadowOffset$$);else $i$$!==cc.VERTICAL_TEXT_ALIGNMENT_BOTTOM&&($yOffset$$=$i$$===cc.VERTICAL_TEXT_ALIGNMENT_TOP?$yOffset$$-$locContentSizeHeight$$:$yOffset$$-.5*$locContentSizeHeight$$),
$locStrokeEnabled$$&&$context$$.strokeText(this._string,$locStrokeShadowOffsetY_xOffset$$,$yOffset$$),$context$$.fillText(this._string,$locStrokeShadowOffsetY_xOffset$$,$yOffset$$)}},_getLabelContext:function(){if(this._labelContext)return this._labelContext;if(!this._labelCanvas){var $locCanvas$$=cc.newElement("canvas"),$labelTexture$$=new cc.Texture2D;$labelTexture$$.initWithElement($locCanvas$$);this.texture=$labelTexture$$;this._labelCanvas=$locCanvas$$}return this._labelContext=this._labelCanvas.getContext("2d")},
_checkWarp:function($strArr$$,$i$$,$maxWidth_sText$$){var $text$$=$strArr$$[$i$$],$allWidth_result$$=this._measure($text$$);if($allWidth_result$$>$maxWidth_sText$$&&1<$text$$.length){for(var $fuzzyLen$$=$maxWidth_sText$$/$allWidth_result$$*$text$$.length|0,$tmpText$$=$text$$.substr($fuzzyLen$$),$width$$=$allWidth_result$$-this._measure($tmpText$$),$exec_sLine$$,$pushNum$$=0,$checkWhile$$=0;$width$$>$maxWidth_sText$$&&100>$checkWhile$$++;)$fuzzyLen$$*=$maxWidth_sText$$/$width$$,$fuzzyLen$$|=0,$tmpText$$=
$text$$.substr($fuzzyLen$$),$width$$=$allWidth_result$$-this._measure($tmpText$$);for($checkWhile$$=0;$width$$<$maxWidth_sText$$&&100>$checkWhile$$++;)$tmpText$$&&($pushNum$$=($exec_sLine$$=cc.LabelTTF._wordRex.exec($tmpText$$))?$exec_sLine$$[0].length:1,$exec_sLine$$=$tmpText$$),$fuzzyLen$$+=$pushNum$$,$tmpText$$=$text$$.substr($fuzzyLen$$),$width$$=$allWidth_result$$-this._measure($tmpText$$);$fuzzyLen$$-=$pushNum$$;$maxWidth_sText$$=$text$$.substr(0,$fuzzyLen$$);cc.LabelTTF.wrapInspection&&cc.LabelTTF._symbolRex.test($exec_sLine$$||
$tmpText$$)&&($allWidth_result$$=cc.LabelTTF._lastWordRex.exec($maxWidth_sText$$),$fuzzyLen$$-=$allWidth_result$$?$allWidth_result$$[0].length:0,$exec_sLine$$=$text$$.substr($fuzzyLen$$),$maxWidth_sText$$=$text$$.substr(0,$fuzzyLen$$));cc.LabelTTF._firsrEnglish.test($exec_sLine$$)&&($allWidth_result$$=cc.LabelTTF._lastEnglish.exec($maxWidth_sText$$))&&$maxWidth_sText$$!==$allWidth_result$$[0]&&($fuzzyLen$$-=$allWidth_result$$[0].length,$exec_sLine$$=$text$$.substr($fuzzyLen$$),$maxWidth_sText$$=$text$$.substr(0,
$fuzzyLen$$));$strArr$$[$i$$]=$exec_sLine$$||$tmpText$$;$strArr$$.splice($i$$,0,$maxWidth_sText$$)}},_updateTTF:function(){var $locDimensionsWidth_locSize$$=this._dimensions.width,$i$$105_locStrokeShadowOffsetX$$,$locStrokeShadowOffsetY$$,$locAP_locLineWidth$$=this._lineWidths;$locAP_locLineWidth$$.length=0;this._isMultiLine=!1;this._measureConfig();if(0!==$locDimensionsWidth_locSize$$)for(this._strings=this._string.split("\n"),$i$$105_locStrokeShadowOffsetX$$=0;$i$$105_locStrokeShadowOffsetX$$<this._strings.length;$i$$105_locStrokeShadowOffsetX$$++)this._checkWarp(this._strings,
$i$$105_locStrokeShadowOffsetX$$,$locDimensionsWidth_locSize$$);else for(this._strings=this._string.split("\n"),$i$$105_locStrokeShadowOffsetX$$=0,$locStrokeShadowOffsetY$$=this._strings.length;$i$$105_locStrokeShadowOffsetX$$<$locStrokeShadowOffsetY$$;$i$$105_locStrokeShadowOffsetX$$++)$locAP_locLineWidth$$.push(this._measure(this._strings[$i$$105_locStrokeShadowOffsetX$$]));0<this._strings.length&&(this._isMultiLine=!0);$locStrokeShadowOffsetY$$=$i$$105_locStrokeShadowOffsetX$$=0;this._strokeEnabled&&
($i$$105_locStrokeShadowOffsetX$$=$locStrokeShadowOffsetY$$=2*this._strokeSize);if(this._shadowEnabled){var $locOffsetSize$$=this._shadowOffset;$i$$105_locStrokeShadowOffsetX$$+=2*Math.abs($locOffsetSize$$.x);$locStrokeShadowOffsetY$$+=2*Math.abs($locOffsetSize$$.y)}$locDimensionsWidth_locSize$$=0===$locDimensionsWidth_locSize$$?this._isMultiLine?cc.size(0|Math.max.apply(Math,$locAP_locLineWidth$$)+$i$$105_locStrokeShadowOffsetX$$,0|this._fontClientHeight*this._strings.length+$locStrokeShadowOffsetY$$):
cc.size(0|this._measure(this._string)+$i$$105_locStrokeShadowOffsetX$$,0|this._fontClientHeight+$locStrokeShadowOffsetY$$):0===this._dimensions.height?this._isMultiLine?cc.size(0|$locDimensionsWidth_locSize$$+$i$$105_locStrokeShadowOffsetX$$,0|this._fontClientHeight*this._strings.length+$locStrokeShadowOffsetY$$):cc.size(0|$locDimensionsWidth_locSize$$+$i$$105_locStrokeShadowOffsetX$$,0|this._fontClientHeight+$locStrokeShadowOffsetY$$):cc.size(0|$locDimensionsWidth_locSize$$+$i$$105_locStrokeShadowOffsetX$$,
0|this._dimensions.height+$locStrokeShadowOffsetY$$);this.setContentSize($locDimensionsWidth_locSize$$);this._strokeShadowOffsetX=$i$$105_locStrokeShadowOffsetX$$;this._strokeShadowOffsetY=$locStrokeShadowOffsetY$$;$locAP_locLineWidth$$=this._anchorPoint;this._anchorPointInPoints.x=.5*$i$$105_locStrokeShadowOffsetX$$+($locDimensionsWidth_locSize$$.width-$i$$105_locStrokeShadowOffsetX$$)*$locAP_locLineWidth$$.x;this._anchorPointInPoints.y=.5*$locStrokeShadowOffsetY$$+($locDimensionsWidth_locSize$$.height-
$locStrokeShadowOffsetY$$)*$locAP_locLineWidth$$.y},getContentSize:function(){this._needUpdateTexture&&this._updateTTF();return cc.Sprite.prototype.getContentSize.call(this)},_getWidth:function(){this._needUpdateTexture&&this._updateTTF();return cc.Sprite.prototype._getWidth.call(this)},_getHeight:function(){this._needUpdateTexture&&this._updateTTF();return cc.Sprite.prototype._getHeight.call(this)},_updateTexture:function(){var $locContext$$=this._getLabelContext(),$locLabelCanvas$$=this._labelCanvas,
$height$$33_locContentSize$$=this._contentSize;if(0===this._string.length)return $locLabelCanvas$$.width=1,$locLabelCanvas$$.height=$height$$33_locContentSize$$.height||1,this._texture&&this._texture.handleLoadedTexture(),this.setTextureRect(cc.rect(0,0,1,$height$$33_locContentSize$$.height)),!0;$locContext$$.font=this._fontStyleStr;this._updateTTF();var $width$$=$height$$33_locContentSize$$.width,$height$$33_locContentSize$$=$height$$33_locContentSize$$.height,$flag$$=$locLabelCanvas$$.width==$width$$&&
$locLabelCanvas$$.height==$height$$33_locContentSize$$;$locLabelCanvas$$.width=$width$$;$locLabelCanvas$$.height=$height$$33_locContentSize$$;$flag$$&&$locContext$$.clearRect(0,0,$width$$,$height$$33_locContentSize$$);this._drawTTFInCanvas($locContext$$);this._texture&&this._texture.handleLoadedTexture();this.setTextureRect(cc.rect(0,0,$width$$,$height$$33_locContentSize$$));return!0},visit:function($ctx$$){this._string&&""!=this._string&&(this._needUpdateTexture&&(this._needUpdateTexture=!1,this._updateTexture()),
cc.Sprite.prototype.visit.call(this,$ctx$$||cc._renderContext))},draw:null,_setTextureCoords:function($bottom$$4_rect$$){var $left$$6_tex$$=this._batchNode?this.textureAtlas.texture:this._texture;if($left$$6_tex$$){var $atlasWidth$$1_right$$=$left$$6_tex$$.pixelsWidth,$atlasHeight$$1_tempSwap$$=$left$$6_tex$$.pixelsHeight,$top$$,$locQuad$$=this._quad;this._rectRotated?(cc.FIX_ARTIFACTS_BY_STRECHING_TEXEL?($left$$6_tex$$=(2*$bottom$$4_rect$$.x+1)/(2*$atlasWidth$$1_right$$),$atlasWidth$$1_right$$=$left$$6_tex$$+
(2*$bottom$$4_rect$$.height-2)/(2*$atlasWidth$$1_right$$),$top$$=(2*$bottom$$4_rect$$.y+1)/(2*$atlasHeight$$1_tempSwap$$),$bottom$$4_rect$$=$top$$+(2*$bottom$$4_rect$$.width-2)/(2*$atlasHeight$$1_tempSwap$$)):($left$$6_tex$$=$bottom$$4_rect$$.x/$atlasWidth$$1_right$$,$atlasWidth$$1_right$$=($bottom$$4_rect$$.x+$bottom$$4_rect$$.height)/$atlasWidth$$1_right$$,$top$$=$bottom$$4_rect$$.y/$atlasHeight$$1_tempSwap$$,$bottom$$4_rect$$=($bottom$$4_rect$$.y+$bottom$$4_rect$$.width)/$atlasHeight$$1_tempSwap$$),
this._flippedX&&($atlasHeight$$1_tempSwap$$=$top$$,$top$$=$bottom$$4_rect$$,$bottom$$4_rect$$=$atlasHeight$$1_tempSwap$$),this._flippedY&&($atlasHeight$$1_tempSwap$$=$left$$6_tex$$,$left$$6_tex$$=$atlasWidth$$1_right$$,$atlasWidth$$1_right$$=$atlasHeight$$1_tempSwap$$),$locQuad$$.bl.texCoords.u=$left$$6_tex$$,$locQuad$$.bl.texCoords.v=$top$$,$locQuad$$.br.texCoords.u=$left$$6_tex$$,$locQuad$$.br.texCoords.v=$bottom$$4_rect$$,$locQuad$$.tl.texCoords.u=$atlasWidth$$1_right$$,$locQuad$$.tl.texCoords.v=
$top$$,$locQuad$$.tr.texCoords.u=$atlasWidth$$1_right$$,$locQuad$$.tr.texCoords.v=$bottom$$4_rect$$):(cc.FIX_ARTIFACTS_BY_STRECHING_TEXEL?($left$$6_tex$$=(2*$bottom$$4_rect$$.x+1)/(2*$atlasWidth$$1_right$$),$atlasWidth$$1_right$$=$left$$6_tex$$+(2*$bottom$$4_rect$$.width-2)/(2*$atlasWidth$$1_right$$),$top$$=(2*$bottom$$4_rect$$.y+1)/(2*$atlasHeight$$1_tempSwap$$),$bottom$$4_rect$$=$top$$+(2*$bottom$$4_rect$$.height-2)/(2*$atlasHeight$$1_tempSwap$$)):($left$$6_tex$$=$bottom$$4_rect$$.x/$atlasWidth$$1_right$$,
$atlasWidth$$1_right$$=($bottom$$4_rect$$.x+$bottom$$4_rect$$.width)/$atlasWidth$$1_right$$,$top$$=$bottom$$4_rect$$.y/$atlasHeight$$1_tempSwap$$,$bottom$$4_rect$$=($bottom$$4_rect$$.y+$bottom$$4_rect$$.height)/$atlasHeight$$1_tempSwap$$),this._flippedX&&($atlasHeight$$1_tempSwap$$=$left$$6_tex$$,$left$$6_tex$$=$atlasWidth$$1_right$$,$atlasWidth$$1_right$$=$atlasHeight$$1_tempSwap$$),this._flippedY&&($atlasHeight$$1_tempSwap$$=$top$$,$top$$=$bottom$$4_rect$$,$bottom$$4_rect$$=$atlasHeight$$1_tempSwap$$),
$locQuad$$.bl.texCoords.u=$left$$6_tex$$,$locQuad$$.bl.texCoords.v=$bottom$$4_rect$$,$locQuad$$.br.texCoords.u=$atlasWidth$$1_right$$,$locQuad$$.br.texCoords.v=$bottom$$4_rect$$,$locQuad$$.tl.texCoords.u=$left$$6_tex$$,$locQuad$$.tl.texCoords.v=$top$$,$locQuad$$.tr.texCoords.u=$atlasWidth$$1_right$$,$locQuad$$.tr.texCoords.v=$top$$);this._quadDirty=!0}}});
cc._renderType===cc._RENDER_TYPE_CANVAS?(_p=cc.LabelTTF.prototype,_p.setColor=function $_p$setColor$($color3$$){cc.Node.prototype.setColor.call(this,$color3$$);this._setColorsString()},_p._transformForRenderer=function $_p$_transformForRenderer$(){this._needUpdateTexture&&(this._needUpdateTexture=!1,this._updateTexture());cc.Node.prototype._transformForRenderer.call(this)},_p._setColorsString=function $_p$_setColorsString$(){this._setUpdateTextureDirty();var $locDisplayColor$$=this._displayedColor,
$locDisplayedOpacity$$=this._displayedOpacity,$locShadowColor$$=this._shadowColor||this._displayedColor,$locStrokeColor$$=this._strokeColor,$locFontFillColor$$=this._textFillColor;this._shadowColorStr="rgba("+(0|.5*$locShadowColor$$.r)+","+(0|.5*$locShadowColor$$.g)+","+(0|.5*$locShadowColor$$.b)+","+this._shadowOpacity+")";this._fillColorStr="rgba("+(0|$locDisplayColor$$.r/255*$locFontFillColor$$.r)+","+(0|$locDisplayColor$$.g/255*$locFontFillColor$$.g)+","+(0|$locDisplayColor$$.b/255*$locFontFillColor$$.b)+
", "+$locDisplayedOpacity$$/255+")";this._strokeColorStr="rgba("+(0|$locDisplayColor$$.r/255*$locStrokeColor$$.r)+","+(0|$locDisplayColor$$.g/255*$locStrokeColor$$.g)+","+(0|$locDisplayColor$$.b/255*$locStrokeColor$$.b)+", "+$locDisplayedOpacity$$/255+")"},_p.updateDisplayedColor=function $_p$updateDisplayedColor$($parentColor$$){cc.Node.prototype.updateDisplayedColor.call(this,$parentColor$$);this._setColorsString()},_p.setOpacity=function $_p$setOpacity$($opacity$$){this._opacity!==$opacity$$&&
(cc.Sprite.prototype.setOpacity.call(this,$opacity$$),this._setColorsString(),this._setUpdateTextureDirty())},_p.updateDisplayedOpacity=cc.Sprite.prototype.updateDisplayedOpacity,_p.initWithStringAndTextDefinition=function $_p$initWithStringAndTextDefinition$($text$$,$textDefinition$$){this._updateWithTextDefinition($textDefinition$$,!1);this.string=$text$$;return!0},_p.setFontFillColor=function $_p$setFontFillColor$($tintColor$$){var $locTextFillColor$$=this._textFillColor;if($locTextFillColor$$.r!=
$tintColor$$.r||$locTextFillColor$$.g!=$tintColor$$.g||$locTextFillColor$$.b!=$tintColor$$.b)$locTextFillColor$$.r=$tintColor$$.r,$locTextFillColor$$.g=$tintColor$$.g,$locTextFillColor$$.b=$tintColor$$.b,this._setColorsString(),this._setUpdateTextureDirty()},_p.draw=cc.Sprite.prototype.draw,_p.setTextureRect=function $_p$setTextureRect$($rect$$43_relativeOffset$$,$locTextureCoordRect_rotated$$,$untrimmedSize$$){this._rectRotated=$locTextureCoordRect_rotated$$||!1;this.setContentSize($untrimmedSize$$||
$rect$$43_relativeOffset$$);this.setVertexRect($rect$$43_relativeOffset$$);$locTextureCoordRect_rotated$$=this._rendererCmd._textureCoord;$locTextureCoordRect_rotated$$.x=$rect$$43_relativeOffset$$.x;$locTextureCoordRect_rotated$$.y=$rect$$43_relativeOffset$$.y;$locTextureCoordRect_rotated$$.renderX=$rect$$43_relativeOffset$$.x;$locTextureCoordRect_rotated$$.renderY=$rect$$43_relativeOffset$$.y;$locTextureCoordRect_rotated$$.width=$rect$$43_relativeOffset$$.width;$locTextureCoordRect_rotated$$.height=
$rect$$43_relativeOffset$$.height;$locTextureCoordRect_rotated$$.validRect=!(0===$locTextureCoordRect_rotated$$.width||0===$locTextureCoordRect_rotated$$.height||0>$locTextureCoordRect_rotated$$.x||0>$locTextureCoordRect_rotated$$.y);$rect$$43_relativeOffset$$=this._unflippedOffsetPositionFromCenter;this._flippedX&&($rect$$43_relativeOffset$$.x=-$rect$$43_relativeOffset$$.x);this._flippedY&&($rect$$43_relativeOffset$$.y=-$rect$$43_relativeOffset$$.y);this._offsetPosition.x=$rect$$43_relativeOffset$$.x+
(this._contentSize.width-this._rect.width)/2;this._offsetPosition.y=$rect$$43_relativeOffset$$.y+(this._contentSize.height-this._rect.height)/2;this._batchNode&&(this.dirty=!0)},_p=null):(cc.assert(cc.isFunction(cc._tmp.WebGLLabelTTF),cc._LogInfos.MissingFile,"LabelTTFWebGL.js"),cc._tmp.WebGLLabelTTF(),delete cc._tmp.WebGLLabelTTF);cc.assert(cc.isFunction(cc._tmp.PrototypeLabelTTF),cc._LogInfos.MissingFile,"LabelTTFPropertyDefine.js");cc._tmp.PrototypeLabelTTF();delete cc._tmp.PrototypeLabelTTF;
cc.LabelTTF._textAlign=["left","center","right"];cc.LabelTTF._textBaseline=["top","middle","bottom"];cc.LabelTTF.wrapInspection=!0;cc.LabelTTF._wordRex=/([a-zA-Z0-9ÄÖÜäöüßéèçàùêâîôû]+|\S)/;cc.LabelTTF._symbolRex=/^[!,.:;}\]%\?>、‘“》？。，！]/;cc.LabelTTF._lastWordRex=/([a-zA-Z0-9ÄÖÜäöüßéèçàùêâîôû]+|\S)$/;cc.LabelTTF._lastEnglish=/[a-zA-Z0-9ÄÖÜäöüßéèçàùêâîôû]+$/;cc.LabelTTF._firsrEnglish=/^[a-zA-Z0-9ÄÖÜäöüßéèçàùêâîôû]/;cc.LabelTTF._fontStyleRE=/^(\d+)px\s+['"]?([\w\s\d]+)['"]?$/;
cc.LabelTTF.create=function $cc$LabelTTF$create$($text$$,$fontName$$,$fontSize$$,$dimensions$$,$hAlignment$$,$vAlignment$$){return new cc.LabelTTF($text$$,$fontName$$,$fontSize$$,$dimensions$$,$hAlignment$$,$vAlignment$$)};cc.LabelTTF.createWithFontDefinition=cc.LabelTTF.create;cc.LabelTTF._SHADER_PROGRAM=cc.USE_LA88_LABELS?cc.SHADER_POSITION_TEXTURECOLOR:cc.SHADER_POSITION_TEXTUREA8COLOR;cc.LabelTTF.__labelHeightDiv=cc.newElement("div");cc.LabelTTF.__labelHeightDiv.style.fontFamily="Arial";
cc.LabelTTF.__labelHeightDiv.style.position="absolute";cc.LabelTTF.__labelHeightDiv.style.left="-100px";cc.LabelTTF.__labelHeightDiv.style.top="-100px";cc.LabelTTF.__labelHeightDiv.style.lineHeight="normal";document.body?document.body.appendChild(cc.LabelTTF.__labelHeightDiv):cc._addEventListener(window,"load",function(){this.removeEventListener("load",arguments.callee,!1);document.body.appendChild(cc.LabelTTF.__labelHeightDiv)},!1);
cc.LabelTTF.__getFontHeightByDiv=function $cc$LabelTTF$__getFontHeightByDiv$($fontName$$,$fontSize$$){var $clientHeight$$=cc.LabelTTF.__fontHeightCache[$fontName$$+"."+$fontSize$$];if(0<$clientHeight$$)return $clientHeight$$;var $labelDiv$$=cc.LabelTTF.__labelHeightDiv;$labelDiv$$.innerHTML="ajghl~!";$labelDiv$$.style.fontFamily=$fontName$$;$labelDiv$$.style.fontSize=$fontSize$$+"px";$clientHeight$$=$labelDiv$$.clientHeight;cc.LabelTTF.__fontHeightCache[$fontName$$+"."+$fontSize$$]=$clientHeight$$;
$labelDiv$$.innerHTML="";return $clientHeight$$};cc.LabelTTF.__fontHeightCache={};cc=cc||{};cc._tmp=cc._tmp||{};cc.associateWithNative=function $cc$associateWithNative$($jsObj$$,$superclass$$){};
cc.KEY={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pause:19,capslock:20,escape:27,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,Delete:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,num0:96,num1:97,num2:98,num3:99,num4:100,num5:101,num6:102,num7:103,num8:104,num9:105,"*":106,"+":107,"-":109,numdel:110,"/":111,f1:112,f2:113,
f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,numlock:144,scrolllock:145,semicolon:186,",":186,equal:187,"=":187,";":188,comma:188,dash:189,".":190,period:190,forwardslash:191,grave:192,"[":219,openbracket:219,"]":221,closebracket:221,backslash:220,quote:222,space:32};cc.FMT_JPG=0;cc.FMT_PNG=1;cc.FMT_TIFF=2;cc.FMT_RAWDATA=3;cc.FMT_WEBP=4;cc.FMT_UNKNOWN=5;
cc.getImageFormatByData=function $cc$getImageFormatByData$($imgData$$){return 8<$imgData$$.length&&137==$imgData$$[0]&&80==$imgData$$[1]&&78==$imgData$$[2]&&71==$imgData$$[3]&&13==$imgData$$[4]&&10==$imgData$$[5]&&26==$imgData$$[6]&&10==$imgData$$[7]?cc.FMT_PNG:2<$imgData$$.length&&(73==$imgData$$[0]&&73==$imgData$$[1]||77==$imgData$$[0]&&77==$imgData$$[1]||255==$imgData$$[0]&&216==$imgData$$[1])?cc.FMT_TIFF:cc.FMT_UNKNOWN};
cc.inherits=function $cc$inherits$($childCtor$$,$parentCtor$$){function $tempCtor$$(){}$tempCtor$$.prototype=$parentCtor$$.prototype;$childCtor$$.superClass_=$parentCtor$$.prototype;$childCtor$$.prototype=new $tempCtor$$;$childCtor$$.prototype.constructor=$childCtor$$};
cc.base=function $cc$base$($me$$,$opt_methodName$$,$var_args$$){var $caller$$=arguments.callee.caller;if($caller$$.superClass_)return ret=$caller$$.superClass_.constructor.apply($me$$,Array.prototype.slice.call(arguments,1));for(var $args$$=Array.prototype.slice.call(arguments,2),$foundCaller$$=!1,$ctor$$=$me$$.constructor;$ctor$$;$ctor$$=$ctor$$.superClass_&&$ctor$$.superClass_.constructor)if($ctor$$.prototype[$opt_methodName$$]===$caller$$)$foundCaller$$=!0;else if($foundCaller$$)return $ctor$$.prototype[$opt_methodName$$].apply($me$$,
$args$$);if($me$$[$opt_methodName$$]===$caller$$)return $me$$.constructor.prototype[$opt_methodName$$].apply($me$$,$args$$);throw Error("cc.base called from a method of one name to a method of a different name");};
cc._renderType===cc._RENDER_TYPE_CANVAS&&(cc.rendererCanvas={childrenOrderDirty:!0,_transformNodePool:[],_renderCmds:[],_isCacheToCanvasOn:!1,_cacheToCanvasCmds:{},_cacheInstanceIds:[],_currentID:0,rendering:function $cc$rendererCanvas$rendering$($ctx$$28_i$$){var $locCmds$$=this._renderCmds,$len$$,$scaleX$$=cc.view.getScaleX(),$scaleY$$=cc.view.getScaleY(),$context$$=$ctx$$28_i$$||cc._renderContext;$ctx$$28_i$$=0;for($len$$=$locCmds$$.length;$ctx$$28_i$$<$len$$;$ctx$$28_i$$++)$locCmds$$[$ctx$$28_i$$].rendering($context$$,
$scaleX$$,$scaleY$$)},_renderingToCacheCanvas:function $cc$rendererCanvas$_renderingToCacheCanvas$($ctx$$,$instanceID$$){$ctx$$||cc.log("The context of RenderTexture is invalid.");$instanceID$$=$instanceID$$||this._currentID;var $locCmds$$3_locIDs$$=this._cacheToCanvasCmds[$instanceID$$],$i$$,$len$$;$i$$=0;for($len$$=$locCmds$$3_locIDs$$.length;$i$$<$len$$;$i$$++)$locCmds$$3_locIDs$$[$i$$].rendering($ctx$$,1,1);$locCmds$$3_locIDs$$.length=0;$locCmds$$3_locIDs$$=this._cacheInstanceIds;delete this._cacheToCanvasCmds[$instanceID$$];
cc.arrayRemoveObject($locCmds$$3_locIDs$$,$instanceID$$);0===$locCmds$$3_locIDs$$.length?this._isCacheToCanvasOn=!1:this._currentID=$locCmds$$3_locIDs$$[$locCmds$$3_locIDs$$.length-1]},_turnToCacheMode:function $cc$rendererCanvas$_turnToCacheMode$($renderTextureID$$){this._isCacheToCanvasOn=!0;$renderTextureID$$=$renderTextureID$$||0;this._cacheToCanvasCmds[$renderTextureID$$]=[];this._cacheInstanceIds.push($renderTextureID$$);this._currentID=$renderTextureID$$},_turnToNormalMode:function $cc$rendererCanvas$_turnToNormalMode$(){this._isCacheToCanvasOn=
!1},resetFlag:function $cc$rendererCanvas$resetFlag$(){this.childrenOrderDirty=!1;this._transformNodePool.length=0},transform:function $cc$rendererCanvas$transform$(){var $locPool$$=this._transformNodePool;$locPool$$.sort(this._sortNodeByLevelAsc);for(var $i$$=0,$len$$=$locPool$$.length;$i$$<$len$$;$i$$++)$locPool$$[$i$$]._renderCmdDiry&&$locPool$$[$i$$]._transformForRenderer();$locPool$$.length=0},transformDirty:function $cc$rendererCanvas$transformDirty$(){return 0<this._transformNodePool.length},
_sortNodeByLevelAsc:function $cc$rendererCanvas$_sortNodeByLevelAsc$($n1$$,$n2$$){return $n1$$._curLevel-$n2$$._curLevel},pushDirtyNode:function $cc$rendererCanvas$pushDirtyNode$($node$$){this._transformNodePool.push($node$$)},clearRenderCommands:function $cc$rendererCanvas$clearRenderCommands$(){this._renderCmds.length=0},pushRenderCommand:function $cc$rendererCanvas$pushRenderCommand$($cmd$$){if(this._isCacheToCanvasOn){var $cmdList$$=this._cacheToCanvasCmds[this._currentID];-1===$cmdList$$.indexOf($cmd$$)&&
$cmdList$$.push($cmd$$)}else-1===this._renderCmds.indexOf($cmd$$)&&this._renderCmds.push($cmd$$)}},cc.renderer=cc.rendererCanvas,cc.TextureRenderCmdCanvas=function $cc$TextureRenderCmdCanvas$($node$$){this._node=$node$$;this._textureCoord={renderX:0,renderY:0,x:0,y:0,width:0,height:0,validRect:!1}},cc.TextureRenderCmdCanvas.prototype.rendering=function $cc$TextureRenderCmdCanvas$$rendering$($context$$16_ctx$$,$scaleX$$,$scaleY$$){var $curColor$$3_node$$=this._node;$context$$16_ctx$$=$context$$16_ctx$$||
cc._renderContext;var $locTextureCoord$$=this._textureCoord;if(!$curColor$$3_node$$._texture||0!==$locTextureCoord$$.width&&0!==$locTextureCoord$$.height)if($locTextureCoord$$.validRect||0!==$curColor$$3_node$$._displayedOpacity)if(!$curColor$$3_node$$._texture||$curColor$$3_node$$._texture._isLoaded){var $t$$=$curColor$$3_node$$._transformWorld,$locX$$=$curColor$$3_node$$._offsetPosition.x,$locY$$=-$curColor$$3_node$$._offsetPosition.y-$curColor$$3_node$$._rect.height,$contentSize$$=$curColor$$3_node$$._rect.width,
$locHeight$$=$curColor$$3_node$$._rect.height,$alpha$$4_image$$,$blendChange$$="source"!==$curColor$$3_node$$._blendFuncStr;$alpha$$4_image$$=$curColor$$3_node$$._displayedOpacity/255;1!==$t$$.a||0!==$t$$.b||0!==$t$$.c||1!==$t$$.d||$curColor$$3_node$$._flippedX||$curColor$$3_node$$._flippedY?($context$$16_ctx$$.save(),$context$$16_ctx$$.globalAlpha=$alpha$$4_image$$,$context$$16_ctx$$.transform($t$$.a,$t$$.c,$t$$.b,$t$$.d,$t$$.tx*$scaleX$$,-$t$$.ty*$scaleY$$),$blendChange$$&&($context$$16_ctx$$.globalCompositeOperation=
$curColor$$3_node$$._blendFuncStr),$curColor$$3_node$$._flippedX&&($locX$$=-$locX$$-$contentSize$$,$context$$16_ctx$$.scale(-1,1)),$curColor$$3_node$$._flippedY&&($locY$$=$curColor$$3_node$$._offsetPosition.y,$context$$16_ctx$$.scale(1,-1)),$curColor$$3_node$$._texture?($alpha$$4_image$$=$curColor$$3_node$$._texture._htmlElementObj,$curColor$$3_node$$._colorized?$context$$16_ctx$$.drawImage($alpha$$4_image$$,0,0,$locTextureCoord$$.width,$locTextureCoord$$.height,$locX$$*$scaleX$$,$locY$$*$scaleY$$,
$contentSize$$*$scaleX$$,$locHeight$$*$scaleY$$):$context$$16_ctx$$.drawImage($alpha$$4_image$$,$locTextureCoord$$.renderX,$locTextureCoord$$.renderY,$locTextureCoord$$.width,$locTextureCoord$$.height,$locX$$*$scaleX$$,$locY$$*$scaleY$$,$contentSize$$*$scaleX$$,$locHeight$$*$scaleY$$)):($contentSize$$=$curColor$$3_node$$._contentSize,$locTextureCoord$$.validRect&&($curColor$$3_node$$=$curColor$$3_node$$._displayedColor,$context$$16_ctx$$.fillStyle="rgba("+$curColor$$3_node$$.r+","+$curColor$$3_node$$.g+
","+$curColor$$3_node$$.b+",1)",$context$$16_ctx$$.fillRect($locX$$*$scaleX$$,$locY$$*$scaleY$$,$contentSize$$.width*$scaleX$$,$contentSize$$.height*$scaleY$$))),$context$$16_ctx$$.restore()):($blendChange$$&&($context$$16_ctx$$.save(),$context$$16_ctx$$.globalCompositeOperation=$curColor$$3_node$$._blendFuncStr),$context$$16_ctx$$.globalAlpha=$alpha$$4_image$$,$curColor$$3_node$$._texture?($alpha$$4_image$$=$curColor$$3_node$$._texture.getHtmlElementObj(),$curColor$$3_node$$._colorized?$context$$16_ctx$$.drawImage($alpha$$4_image$$,
0,0,$locTextureCoord$$.width,$locTextureCoord$$.height,($t$$.tx+$locX$$)*$scaleX$$,(-$t$$.ty+$locY$$)*$scaleY$$,$contentSize$$*$scaleX$$,$locHeight$$*$scaleY$$):$context$$16_ctx$$.drawImage($alpha$$4_image$$,$locTextureCoord$$.renderX,$locTextureCoord$$.renderY,$locTextureCoord$$.width,$locTextureCoord$$.height,($t$$.tx+$locX$$)*$scaleX$$,(-$t$$.ty+$locY$$)*$scaleY$$,$contentSize$$*$scaleX$$,$locHeight$$*$scaleY$$)):($contentSize$$=$curColor$$3_node$$._contentSize,$locTextureCoord$$.validRect&&($curColor$$3_node$$=
$curColor$$3_node$$._displayedColor,$context$$16_ctx$$.fillStyle="rgba("+$curColor$$3_node$$.r+","+$curColor$$3_node$$.g+","+$curColor$$3_node$$.b+",1)",$context$$16_ctx$$.fillRect(($t$$.tx+$locX$$)*$scaleX$$,(-$t$$.ty+$locY$$)*$scaleY$$,$contentSize$$.width*$scaleX$$,$contentSize$$.height*$scaleY$$))),$blendChange$$&&$context$$16_ctx$$.restore());cc.g_NumberOfDraws++}},cc.RectRenderCmdCanvas=function $cc$RectRenderCmdCanvas$($node$$){this._node=$node$$},cc.RectRenderCmdCanvas.prototype.rendering=
function $cc$RectRenderCmdCanvas$$rendering$($context$$17_ctx$$,$scaleX$$,$scaleY$$){$context$$17_ctx$$=$context$$17_ctx$$||cc._renderContext;var $node$$=this._node,$t$$=$node$$._transformWorld,$curColor$$=$node$$._displayedColor,$opacity$$=$node$$._displayedOpacity/255,$locWidth$$=$node$$._contentSize.width,$locHeight$$=$node$$._contentSize.height;if(0!==$opacity$$){var $needTransform$$=1!==$t$$.a||0!==$t$$.b||0!==$t$$.c||1!==$t$$.d,$needRestore$$="source"!==$node$$._blendFuncStr||$needTransform$$;
$needRestore$$&&($context$$17_ctx$$.save(),$context$$17_ctx$$.globalCompositeOperation=$node$$._blendFuncStr);$context$$17_ctx$$.globalAlpha=$opacity$$;$context$$17_ctx$$.fillStyle="rgba("+(0|$curColor$$.r)+","+(0|$curColor$$.g)+","+(0|$curColor$$.b)+", 1)";$needTransform$$?($context$$17_ctx$$.transform($t$$.a,$t$$.c,$t$$.b,$t$$.d,$t$$.tx*$scaleX$$,-$t$$.ty*$scaleY$$),$context$$17_ctx$$.fillRect(0,0,$locWidth$$*$scaleX$$,-$locHeight$$*$scaleY$$)):$context$$17_ctx$$.fillRect($t$$.tx*$scaleX$$,-$t$$.ty*
$scaleY$$,$locWidth$$*$scaleX$$,-$locHeight$$*$scaleY$$);$needRestore$$&&$context$$17_ctx$$.restore();cc.g_NumberOfDraws++}},cc.GradientRectRenderCmdCanvas=function $cc$GradientRectRenderCmdCanvas$($node$$){this._node=$node$$;this._startPoint=cc.p(0,0);this._endPoint=cc.p(0,0);this._endStopStr=this._startStopStr=null},cc.GradientRectRenderCmdCanvas.prototype.rendering=function $cc$GradientRectRenderCmdCanvas$$rendering$($context$$18_ctx$$,$scaleX$$,$scaleY$$){$context$$18_ctx$$=$context$$18_ctx$$||
cc._renderContext;var $locHeight$$2_node$$=this._node,$locWidth$$2_opacity$$=$locHeight$$2_node$$._displayedOpacity/255,$t$$=$locHeight$$2_node$$._transformWorld;if(0!==$locWidth$$2_opacity$$){var $needTransform$$=1!==$t$$.a||0!==$t$$.b||0!==$t$$.c||1!==$t$$.d,$needRestore$$="source"!==$locHeight$$2_node$$._blendFuncStr||$needTransform$$;$needRestore$$&&($context$$18_ctx$$.save(),$context$$18_ctx$$.globalCompositeOperation=$locHeight$$2_node$$._blendFuncStr);$context$$18_ctx$$.globalAlpha=$locWidth$$2_opacity$$;
var $locWidth$$2_opacity$$=$locHeight$$2_node$$._contentSize.width,$locHeight$$2_node$$=$locHeight$$2_node$$._contentSize.height,$gradient$$=$context$$18_ctx$$.createLinearGradient(this._startPoint.x,this._startPoint.y,this._endPoint.x,this._endPoint.y);$gradient$$.addColorStop(0,this._startStopStr);$gradient$$.addColorStop(1,this._endStopStr);$context$$18_ctx$$.fillStyle=$gradient$$;$needTransform$$?($context$$18_ctx$$.transform($t$$.a,$t$$.c,$t$$.b,$t$$.d,$t$$.tx*$scaleX$$,-$t$$.ty*$scaleY$$),$context$$18_ctx$$.fillRect(0,
0,$locWidth$$2_opacity$$*$scaleX$$,-$locHeight$$2_node$$*$scaleY$$)):$context$$18_ctx$$.fillRect($t$$.tx*$scaleX$$,-$t$$.ty*$scaleY$$,$locWidth$$2_opacity$$*$scaleX$$,-$locHeight$$2_node$$*$scaleY$$);$needRestore$$&&$context$$18_ctx$$.restore();cc.g_NumberOfDraws++}},cc.ParticleRenderCmdCanvas=function $cc$ParticleRenderCmdCanvas$($node$$){this._node=$node$$},cc.ParticleRenderCmdCanvas.prototype.rendering=function $cc$ParticleRenderCmdCanvas$$rendering$($context$$19_ctx$$,$particleCount_scaleX$$,
$particles_scaleY$$){$context$$19_ctx$$=$context$$19_ctx$$||cc._renderContext;var $i$$109_node$$=this._node,$particle_t$$=$i$$109_node$$._transformWorld,$lpx_pointRect$$=$i$$109_node$$._pointRect;$context$$19_ctx$$.save();$context$$19_ctx$$.transform($particle_t$$.a,$particle_t$$.c,$particle_t$$.b,$particle_t$$.d,$particle_t$$.tx*$particleCount_scaleX$$,-$particle_t$$.ty*$particles_scaleY$$);$i$$109_node$$.isBlendAdditive()?$context$$19_ctx$$.globalCompositeOperation="lighter":$context$$19_ctx$$.globalCompositeOperation=
"source-over";var $alpha$$5_w$$;$particleCount_scaleX$$=this._node.particleCount;$particles_scaleY$$=this._node._particles;if(cc.ParticleSystem.SHAPE_MODE==cc.ParticleSystem.TEXTURE_MODE){if(!$i$$109_node$$._texture||!$i$$109_node$$._texture._isLoaded){$context$$19_ctx$$.restore();return}var $drawTool_element$$=$i$$109_node$$._texture.getHtmlElementObj();if(!$drawTool_element$$.width||!$drawTool_element$$.height){$context$$19_ctx$$.restore();return}for(var $textureCache$$=cc.textureCache,$drawElement$$=
$drawTool_element$$,$i$$109_node$$=0;$i$$109_node$$<$particleCount_scaleX$$;$i$$109_node$$++)if($particle_t$$=$particles_scaleY$$[$i$$109_node$$],$alpha$$5_w$$=$particle_t$$.color.a/255,0!==$alpha$$5_w$$){$context$$19_ctx$$.globalAlpha=$alpha$$5_w$$;$context$$19_ctx$$.save();$context$$19_ctx$$.translate(0|$particle_t$$.drawPos.x,-(0|$particle_t$$.drawPos.y));var $cacheTextureForColor$$1_size$$=4*Math.floor($particle_t$$.size/4);$alpha$$5_w$$=$lpx_pointRect$$.width;var $h$$=$lpx_pointRect$$.height;
$context$$19_ctx$$.scale(Math.max(1/$alpha$$5_w$$*$cacheTextureForColor$$1_size$$,1E-6),Math.max(1/$h$$*$cacheTextureForColor$$1_size$$,1E-6));$particle_t$$.rotation&&$context$$19_ctx$$.rotate(cc.degreesToRadians($particle_t$$.rotation));$particle_t$$.isChangeColor&&($cacheTextureForColor$$1_size$$=$textureCache$$.getTextureColors($drawTool_element$$))&&($cacheTextureForColor$$1_size$$.tintCache||($cacheTextureForColor$$1_size$$.tintCache=cc.newElement("canvas"),$cacheTextureForColor$$1_size$$.tintCache.width=
$drawTool_element$$.width,$cacheTextureForColor$$1_size$$.tintCache.height=$drawTool_element$$.height),cc.generateTintImage($drawTool_element$$,$cacheTextureForColor$$1_size$$,$particle_t$$.color,this._pointRect,$cacheTextureForColor$$1_size$$.tintCache),$drawElement$$=$cacheTextureForColor$$1_size$$.tintCache);$context$$19_ctx$$.drawImage($drawElement$$,-(0|$alpha$$5_w$$/2),-(0|$h$$/2));$context$$19_ctx$$.restore()}}else for($drawTool_element$$=cc._drawingUtil,$i$$109_node$$=0;$i$$109_node$$<$particleCount_scaleX$$;$i$$109_node$$++)$particle_t$$=
$particles_scaleY$$[$i$$109_node$$],$lpx_pointRect$$=0|.5*$particle_t$$.size,$alpha$$5_w$$=$particle_t$$.color.a/255,0!==$alpha$$5_w$$&&($context$$19_ctx$$.globalAlpha=$alpha$$5_w$$,$context$$19_ctx$$.save(),$context$$19_ctx$$.translate(0|$particle_t$$.drawPos.x,-(0|$particle_t$$.drawPos.y)),cc.ParticleSystem.BALL_SHAPE==cc.ParticleSystem.STAR_SHAPE?($particle_t$$.rotation&&$context$$19_ctx$$.rotate(cc.degreesToRadians($particle_t$$.rotation)),$drawTool_element$$.drawStar($context$$19_ctx$$,$lpx_pointRect$$,
$particle_t$$.color)):$drawTool_element$$.drawColorBall($context$$19_ctx$$,$lpx_pointRect$$,$particle_t$$.color),$context$$19_ctx$$.restore());$context$$19_ctx$$.restore();cc.g_NumberOfDraws++},cc.ProgressRenderCmdCanvas=function $cc$ProgressRenderCmdCanvas$($node$$){this._PI180=Math.PI/180;this._node=$node$$;this._sprite=null;this._type=cc.ProgressTimer.TYPE_RADIAL;this._barRect=cc.rect(0,0,0,0);this._origin=cc.p(0,0);this._radius=0;this._endAngle=this._startAngle=270;this._counterClockWise=!1},
cc.ProgressRenderCmdCanvas.prototype.rendering=function $cc$ProgressRenderCmdCanvas$$rendering$($context$$20_ctx$$,$locOriginX_scaleX$$,$image$$5_scaleY$$){$context$$20_ctx$$=$context$$20_ctx$$||cc._renderContext;var $flipXOffset_node$$52_t$$=this._node,$locSprite$$=this._sprite,$locTextureCoord$$=$locSprite$$._rendererCmd._textureCoord,$alpha$$=$locSprite$$._displayedOpacity/255;if(0!==$locTextureCoord$$.width&&0!==$locTextureCoord$$.height&&$locSprite$$._texture&&$locTextureCoord$$.validRect&&0!==
$alpha$$){$flipXOffset_node$$52_t$$=$flipXOffset_node$$52_t$$._transformWorld;$context$$20_ctx$$.save();$context$$20_ctx$$.transform($flipXOffset_node$$52_t$$.a,$flipXOffset_node$$52_t$$.c,$flipXOffset_node$$52_t$$.b,$flipXOffset_node$$52_t$$.d,$flipXOffset_node$$52_t$$.tx*$locOriginX_scaleX$$,-$flipXOffset_node$$52_t$$.ty*$image$$5_scaleY$$);"source"!=$locSprite$$._blendFuncStr&&($context$$20_ctx$$.globalCompositeOperation=$locSprite$$._blendFuncStr);$context$$20_ctx$$.globalAlpha=$alpha$$;var $locBarRect_locOriginY_locRect$$=
$locSprite$$._rect,$locOffsetPosition$$=$locSprite$$._offsetPosition,$alpha$$=$locSprite$$._drawSize_Canvas,$flipXOffset_node$$52_t$$=0|$locOffsetPosition$$.x,$flipYOffset$$=-$locOffsetPosition$$.y-$locBarRect_locOriginY_locRect$$.height;$alpha$$.width=$locBarRect_locOriginY_locRect$$.width*$locOriginX_scaleX$$;$alpha$$.height=$locBarRect_locOriginY_locRect$$.height*$image$$5_scaleY$$;$locSprite$$._flippedX&&($flipXOffset_node$$52_t$$=-$locOffsetPosition$$.x-$locBarRect_locOriginY_locRect$$.width,
$context$$20_ctx$$.scale(-1,1));$locSprite$$._flippedY&&($flipYOffset$$=$locOffsetPosition$$.y,$context$$20_ctx$$.scale(1,-1));$flipXOffset_node$$52_t$$*=$locOriginX_scaleX$$;$flipYOffset$$*=$image$$5_scaleY$$;this._type==cc.ProgressTimer.TYPE_BAR?($locBarRect_locOriginY_locRect$$=this._barRect,$context$$20_ctx$$.beginPath(),$context$$20_ctx$$.rect($locBarRect_locOriginY_locRect$$.x*$locOriginX_scaleX$$,$locBarRect_locOriginY_locRect$$.y*$image$$5_scaleY$$,$locBarRect_locOriginY_locRect$$.width*$locOriginX_scaleX$$,
$locBarRect_locOriginY_locRect$$.height*$image$$5_scaleY$$),$context$$20_ctx$$.clip(),$context$$20_ctx$$.closePath()):this._type==cc.ProgressTimer.TYPE_RADIAL&&($locOriginX_scaleX$$*=this._origin.x,$locBarRect_locOriginY_locRect$$=this._origin.y*$image$$5_scaleY$$,$context$$20_ctx$$.beginPath(),$context$$20_ctx$$.arc($locOriginX_scaleX$$,$locBarRect_locOriginY_locRect$$,this._radius*$image$$5_scaleY$$,this._PI180*this._startAngle,this._PI180*this._endAngle,this._counterClockWise),$context$$20_ctx$$.lineTo($locOriginX_scaleX$$,
$locBarRect_locOriginY_locRect$$),$context$$20_ctx$$.clip(),$context$$20_ctx$$.closePath());$image$$5_scaleY$$=$locSprite$$._texture.getHtmlElementObj();$context$$20_ctx$$.drawImage($image$$5_scaleY$$,$locTextureCoord$$.renderX,$locTextureCoord$$.renderY,$locTextureCoord$$.width,$locTextureCoord$$.height,$flipXOffset_node$$52_t$$,$flipYOffset$$,$alpha$$.width,$alpha$$.height);$context$$20_ctx$$.restore();cc.g_NumberOfDraws++}},cc.DrawNodeRenderCmdCanvas=function $cc$DrawNodeRenderCmdCanvas$($node$$){this._node=
$node$$;this._blendFunc=this._drawColor=this._buffer=null},cc.DrawNodeRenderCmdCanvas.prototype.rendering=function $cc$DrawNodeRenderCmdCanvas$$rendering$($ctx$$,$scaleX$$,$scaleY$$){var $context$$=$ctx$$||cc._renderContext,$i$$110_node$$54_t$$=this._node,$alpha$$7_len$$=$i$$110_node$$54_t$$._displayedOpacity/255;if(0!==$alpha$$7_len$$){$context$$.globalAlpha=$alpha$$7_len$$;$i$$110_node$$54_t$$=$i$$110_node$$54_t$$._transformWorld;$context$$.save();$ctx$$.transform($i$$110_node$$54_t$$.a,$i$$110_node$$54_t$$.c,
$i$$110_node$$54_t$$.b,$i$$110_node$$54_t$$.d,$i$$110_node$$54_t$$.tx*$scaleX$$,-$i$$110_node$$54_t$$.ty*$scaleY$$);this._blendFunc&&this._blendFunc.src==cc.SRC_ALPHA&&this._blendFunc.dst==cc.ONE&&($context$$.globalCompositeOperation="lighter");$ctx$$=this._buffer;$i$$110_node$$54_t$$=0;for($alpha$$7_len$$=$ctx$$.length;$i$$110_node$$54_t$$<$alpha$$7_len$$;$i$$110_node$$54_t$$++){var $element$$=$ctx$$[$i$$110_node$$54_t$$];switch($element$$.type){case cc.DrawNode.TYPE_DOT:this._drawDot($context$$,
$element$$,$scaleX$$,$scaleY$$);break;case cc.DrawNode.TYPE_SEGMENT:this._drawSegment($context$$,$element$$,$scaleX$$,$scaleY$$);break;case cc.DrawNode.TYPE_POLY:this._drawPoly($context$$,$element$$,$scaleX$$,$scaleY$$)}}$context$$.restore()}},cc.DrawNodeRenderCmdCanvas.prototype._drawDot=function $cc$DrawNodeRenderCmdCanvas$$_drawDot$($ctx$$,$element$$,$scaleX$$,$scaleY$$){var $locColor$$=$element$$.fillColor,$locPos$$=$element$$.verts[0];$element$$=$element$$.lineWidth;$ctx$$.fillStyle="rgba("+
(0|$locColor$$.r)+","+(0|$locColor$$.g)+","+(0|$locColor$$.b)+","+$locColor$$.a/255+")";$ctx$$.beginPath();$ctx$$.arc($locPos$$.x*$scaleX$$,-$locPos$$.y*$scaleY$$,$element$$*$scaleX$$,0,2*Math.PI,!1);$ctx$$.closePath();$ctx$$.fill()},cc.DrawNodeRenderCmdCanvas.prototype._drawSegment=function $cc$DrawNodeRenderCmdCanvas$$_drawSegment$($ctx$$,$element$$,$scaleX$$,$scaleY$$){var $locColor$$=$element$$.lineColor,$locFrom$$=$element$$.verts[0],$locTo$$=$element$$.verts[1],$locLineWidth$$=$element$$.lineWidth;
$element$$=$element$$.lineCap;$ctx$$.strokeStyle="rgba("+(0|$locColor$$.r)+","+(0|$locColor$$.g)+","+(0|$locColor$$.b)+","+$locColor$$.a/255+")";$ctx$$.lineWidth=$locLineWidth$$*$scaleX$$;$ctx$$.beginPath();$ctx$$.lineCap=$element$$;$ctx$$.moveTo($locFrom$$.x*$scaleX$$,-$locFrom$$.y*$scaleY$$);$ctx$$.lineTo($locTo$$.x*$scaleX$$,-$locTo$$.y*$scaleY$$);$ctx$$.stroke()},cc.DrawNodeRenderCmdCanvas.prototype._drawPoly=function $cc$DrawNodeRenderCmdCanvas$$_drawPoly$($ctx$$,$element$$,$scaleX$$,$scaleY$$){var $locVertices$$=
$element$$.verts,$i$$111_locLineCap$$=$element$$.lineCap,$len$$=$element$$.fillColor,$locLineWidth$$=$element$$.lineWidth,$locLineColor$$=$element$$.lineColor,$locIsClosePolygon$$=$element$$.isClosePolygon,$locIsFill$$=$element$$.isFill;$element$$=$element$$.isStroke;if(null!=$locVertices$$){var $firstPoint$$=$locVertices$$[0];$ctx$$.lineCap=$i$$111_locLineCap$$;$len$$&&($ctx$$.fillStyle="rgba("+(0|$len$$.r)+","+(0|$len$$.g)+","+(0|$len$$.b)+","+$len$$.a/255+")");$locLineWidth$$&&($ctx$$.lineWidth=
$locLineWidth$$*$scaleX$$);$locLineColor$$&&($ctx$$.strokeStyle="rgba("+(0|$locLineColor$$.r)+","+(0|$locLineColor$$.g)+","+(0|$locLineColor$$.b)+","+$locLineColor$$.a/255+")");$ctx$$.beginPath();$ctx$$.moveTo($firstPoint$$.x*$scaleX$$,-$firstPoint$$.y*$scaleY$$);$i$$111_locLineCap$$=1;for($len$$=$locVertices$$.length;$i$$111_locLineCap$$<$len$$;$i$$111_locLineCap$$++)$ctx$$.lineTo($locVertices$$[$i$$111_locLineCap$$].x*$scaleX$$,-$locVertices$$[$i$$111_locLineCap$$].y*$scaleY$$);$locIsClosePolygon$$&&
$ctx$$.closePath();$locIsFill$$&&$ctx$$.fill();$element$$&&$ctx$$.stroke()}},cc.ClippingNodeSaveRenderCmdCanvas=function $cc$ClippingNodeSaveRenderCmdCanvas$($node$$){this._node=$node$$},cc.ClippingNodeSaveRenderCmdCanvas.prototype.rendering=function $cc$ClippingNodeSaveRenderCmdCanvas$$rendering$($context$$22_ctx$$,$locCache$$1_scaleX$$,$canvas$$2_scaleY$$){var $node$$56_t$$=this._node;$context$$22_ctx$$=$context$$22_ctx$$||cc._renderContext;$node$$56_t$$._clipElemType?($locCache$$1_scaleX$$=cc.ClippingNode._getSharedCache(),
$canvas$$2_scaleY$$=$context$$22_ctx$$.canvas,$locCache$$1_scaleX$$.width=$canvas$$2_scaleY$$.width,$locCache$$1_scaleX$$.height=$canvas$$2_scaleY$$.height,$locCache$$1_scaleX$$.getContext("2d").drawImage($canvas$$2_scaleY$$,0,0),$context$$22_ctx$$.save()):($node$$56_t$$.transform(),$node$$56_t$$=$node$$56_t$$._transformWorld,$context$$22_ctx$$.save(),$context$$22_ctx$$.save(),$context$$22_ctx$$.transform($node$$56_t$$.a,$node$$56_t$$.c,$node$$56_t$$.b,$node$$56_t$$.d,$node$$56_t$$.tx*$locCache$$1_scaleX$$,
-$node$$56_t$$.ty*$canvas$$2_scaleY$$))},cc.ClippingNodeClipRenderCmdCanvas=function $cc$ClippingNodeClipRenderCmdCanvas$($node$$){this._node=$node$$},cc.ClippingNodeClipRenderCmdCanvas.prototype.rendering=function $cc$ClippingNodeClipRenderCmdCanvas$$rendering$($context$$23_ctx$$,$canvas$$3_scaleX$$,$scaleY$$){var $node$$58_t$$=this._node;$context$$23_ctx$$=$context$$23_ctx$$||cc._renderContext;$node$$58_t$$._clipElemType?($context$$23_ctx$$.globalCompositeOperation=$node$$58_t$$.inverted?"destination-out":
"destination-in",$node$$58_t$$=$node$$58_t$$._transformWorld,$context$$23_ctx$$.transform($node$$58_t$$.a,$node$$58_t$$.c,$node$$58_t$$.b,$node$$58_t$$.d,$node$$58_t$$.tx*$canvas$$3_scaleX$$,-$node$$58_t$$.ty*$scaleY$$)):($context$$23_ctx$$.restore(),$node$$58_t$$.inverted&&($canvas$$3_scaleX$$=$context$$23_ctx$$.canvas,$context$$23_ctx$$.save(),$context$$23_ctx$$.setTransform(1,0,0,1,0,0),$context$$23_ctx$$.moveTo(0,0),$context$$23_ctx$$.lineTo(0,$canvas$$3_scaleX$$.height),$context$$23_ctx$$.lineTo($canvas$$3_scaleX$$.width,
$canvas$$3_scaleX$$.height),$context$$23_ctx$$.lineTo($canvas$$3_scaleX$$.width,0),$context$$23_ctx$$.lineTo(0,0),$context$$23_ctx$$.restore()),$context$$23_ctx$$.clip())},cc.ClippingNodeRestoreRenderCmdCanvas=function $cc$ClippingNodeRestoreRenderCmdCanvas$($node$$){this._node=$node$$},cc.ClippingNodeRestoreRenderCmdCanvas.prototype.rendering=function $cc$ClippingNodeRestoreRenderCmdCanvas$$rendering$($context$$24_ctx$$,$node$$60_scaleX$$,$locCache$$2_scaleY$$){$node$$60_scaleX$$=this._node;$locCache$$2_scaleY$$=
cc.ClippingNode._getSharedCache();$context$$24_ctx$$=$context$$24_ctx$$||cc._renderContext;$node$$60_scaleX$$._clipElemType&&($context$$24_ctx$$.restore(),$context$$24_ctx$$.save(),$context$$24_ctx$$.setTransform(1,0,0,1,0,0),$context$$24_ctx$$.globalCompositeOperation="destination-over",$context$$24_ctx$$.drawImage($locCache$$2_scaleY$$,0,0));$context$$24_ctx$$.restore()},cc.PhysicsDebugNodeRenderCmdCanvas=function $cc$PhysicsDebugNodeRenderCmdCanvas$($node$$){this._node=$node$$;this._buffer=$node$$._buffer},
cc.PhysicsDebugNodeRenderCmdCanvas.prototype.rendering=function $cc$PhysicsDebugNodeRenderCmdCanvas$$rendering$($ctx$$,$scaleX$$,$scaleY$$){var $_node$$=this._node;$_node$$._space&&($_node$$._space.eachShape(cc.DrawShape.bind($_node$$)),$_node$$._space.eachConstraint(cc.DrawConstraint.bind($_node$$)),cc.DrawNodeRenderCmdCanvas.prototype.rendering.call(this,$ctx$$,$scaleX$$,$scaleY$$),$_node$$.clear())},cc.PhysicsDebugNodeRenderCmdCanvas.prototype._drawDot=cc.DrawNodeRenderCmdCanvas.prototype._drawDot,
cc.PhysicsDebugNodeRenderCmdCanvas.prototype._drawSegment=cc.DrawNodeRenderCmdCanvas.prototype._drawSegment,cc.PhysicsDebugNodeRenderCmdCanvas.prototype._drawPoly=cc.DrawNodeRenderCmdCanvas.prototype._drawPoly,cc.TMXLayerRenderCmdCanvas=function $cc$TMXLayerRenderCmdCanvas$($tmxLayer$$){this._node=$tmxLayer$$;this._childrenRenderCmds=[]},cc.TMXLayerRenderCmdCanvas.prototype._copyRendererCmds=function $cc$TMXLayerRenderCmdCanvas$$_copyRendererCmds$($rendererCmds$$){if($rendererCmds$$)for(var $locCacheCmds$$=
this._childrenRenderCmds,$i$$=$locCacheCmds$$.length=0,$len$$=$rendererCmds$$.length;$i$$<$len$$;$i$$++)$locCacheCmds$$[$i$$]=$rendererCmds$$[$i$$]},cc.TMXLayerRenderCmdCanvas.prototype._renderingChildToCache=function $cc$TMXLayerRenderCmdCanvas$$_renderingChildToCache$($scaleX$$,$scaleY$$){var $locNode$$=this._node;if($locNode$$._cacheDirty){var $locCacheCmds$$=this._childrenRenderCmds,$locCacheContext$$=$locNode$$._cacheContext,$i$$113_locCanvas$$2_t$$=$locNode$$._cacheCanvas;$locCacheContext$$.save();
$locCacheContext$$.clearRect(0,0,$i$$113_locCanvas$$2_t$$.width,-$i$$113_locCanvas$$2_t$$.height);$i$$113_locCanvas$$2_t$$=cc.affineTransformInvert($locNode$$._transformWorld);$locCacheContext$$.transform($i$$113_locCanvas$$2_t$$.a,$i$$113_locCanvas$$2_t$$.c,$i$$113_locCanvas$$2_t$$.b,$i$$113_locCanvas$$2_t$$.d,$i$$113_locCanvas$$2_t$$.tx*$scaleX$$,-$i$$113_locCanvas$$2_t$$.ty*$scaleY$$);for(var $i$$113_locCanvas$$2_t$$=0,$len$$=$locCacheCmds$$.length;$i$$113_locCanvas$$2_t$$<$len$$;$i$$113_locCanvas$$2_t$$++)$locCacheCmds$$[$i$$113_locCanvas$$2_t$$].rendering($locCacheContext$$,
$scaleX$$,$scaleY$$),$locCacheCmds$$[$i$$113_locCanvas$$2_t$$]._node&&($locCacheCmds$$[$i$$113_locCanvas$$2_t$$]._node._cacheDirty=!1);$locCacheContext$$.restore();$locNode$$._cacheDirty=!1}},cc.TMXLayerRenderCmdCanvas.prototype.rendering=function $cc$TMXLayerRenderCmdCanvas$$rendering$($context$$25_ctx$$,$scaleX$$,$scaleY$$){var $node$$=this._node,$alpha$$=$node$$._displayedOpacity/255;if(!(0>=$alpha$$)){this._renderingChildToCache($scaleX$$,$scaleY$$);$context$$25_ctx$$=$context$$25_ctx$$||cc._renderContext;
$context$$25_ctx$$.globalAlpha=$alpha$$;var $alpha$$=0|-$node$$._anchorPointInPoints.x,$posY$$=0|-$node$$._anchorPointInPoints.y,$locCacheCanvas$$=$node$$._cacheCanvas,$locCanvasHeight_t$$=$node$$._transformWorld;$locCacheCanvas$$&&0!==$locCacheCanvas$$.width&&0!==$locCacheCanvas$$.height&&($context$$25_ctx$$.save(),$context$$25_ctx$$.transform($locCanvasHeight_t$$.a,$locCanvasHeight_t$$.c,$locCanvasHeight_t$$.b,$locCanvasHeight_t$$.d,$locCanvasHeight_t$$.tx*$scaleX$$,-$locCanvasHeight_t$$.ty*$scaleY$$),
$locCanvasHeight_t$$=$locCacheCanvas$$.height*$scaleY$$,$node$$.layerOrientation===cc.TMX_ORIENTATION_HEX?$context$$25_ctx$$.drawImage($locCacheCanvas$$,0,0,$locCacheCanvas$$.width,$locCacheCanvas$$.height,$alpha$$,-($posY$$+$locCanvasHeight_t$$)+.5*$node$$._mapTileSize.height*$scaleY$$,$locCacheCanvas$$.width*$scaleX$$,$locCanvasHeight_t$$):$context$$25_ctx$$.drawImage($locCacheCanvas$$,0,0,$locCacheCanvas$$.width,$locCacheCanvas$$.height,$alpha$$,-($posY$$+$locCanvasHeight_t$$),$locCacheCanvas$$.width*
$scaleX$$,$locCanvasHeight_t$$),$context$$25_ctx$$.restore());cc.g_NumberOfDraws++}},cc.CustomRenderCmdCanvas=function $cc$CustomRenderCmdCanvas$($node$$,$func$$){this._node=$node$$;this._callback=$func$$},cc.CustomRenderCmdCanvas.prototype.rendering=function $cc$CustomRenderCmdCanvas$$rendering$($ctx$$,$scaleX$$,$scaleY$$){this._callback&&this._callback.call(this._node,$ctx$$,$scaleX$$,$scaleY$$)},cc.SkeletonRenderCmdCanvas=function $cc$SkeletonRenderCmdCanvas$($node$$){this._node=$node$$},cc.SkeletonRenderCmdCanvas.prototype.rendering=
function $cc$SkeletonRenderCmdCanvas$$rendering$($ctx$$,$locSkeleton$$1_scaleX$$,$i$$114_scaleY$$){var $bone$$1_node$$=this._node;$ctx$$=$ctx$$||cc._renderContext;if($bone$$1_node$$._debugSlots||$bone$$1_node$$._debugBones){var $n$$7_t$$=$bone$$1_node$$._transformWorld;$ctx$$.save();$ctx$$.transform($n$$7_t$$.a,$n$$7_t$$.c,$n$$7_t$$.b,$n$$7_t$$.d,$n$$7_t$$.tx*$locSkeleton$$1_scaleX$$,-$n$$7_t$$.ty*$i$$114_scaleY$$);$locSkeleton$$1_scaleX$$=$bone$$1_node$$._skeleton;var $attachment$$,$slot$$,$drawingUtil$$=
cc._drawingUtil;if($bone$$1_node$$._debugSlots){$drawingUtil$$.setDrawColor(0,0,255,255);$drawingUtil$$.setLineWidth(1);var $points$$=[];$i$$114_scaleY$$=0;for($n$$7_t$$=$locSkeleton$$1_scaleX$$.slots.length;$i$$114_scaleY$$<$n$$7_t$$;$i$$114_scaleY$$++)$slot$$=$locSkeleton$$1_scaleX$$.drawOrder[$i$$114_scaleY$$],$slot$$.attachment&&$slot$$.attachment.type==sp.ATTACHMENT_TYPE.REGION&&($attachment$$=$slot$$.attachment,sp._regionAttachment_updateSlotForCanvas($attachment$$,$slot$$,$points$$),$drawingUtil$$.drawPoly($points$$,
4,!0))}if($bone$$1_node$$._debugBones){$drawingUtil$$.setLineWidth(2);$drawingUtil$$.setDrawColor(255,0,0,255);$i$$114_scaleY$$=0;for($n$$7_t$$=$locSkeleton$$1_scaleX$$.bones.length;$i$$114_scaleY$$<$n$$7_t$$;$i$$114_scaleY$$++)$bone$$1_node$$=$locSkeleton$$1_scaleX$$.bones[$i$$114_scaleY$$],$drawingUtil$$.drawLine({x:$bone$$1_node$$.worldX,y:$bone$$1_node$$.worldY},{x:$bone$$1_node$$.data.length*$bone$$1_node$$.m00+$bone$$1_node$$.worldX,y:$bone$$1_node$$.data.length*$bone$$1_node$$.m10+$bone$$1_node$$.worldY});
$drawingUtil$$.setPointSize(4);$drawingUtil$$.setDrawColor(0,0,255,255);$i$$114_scaleY$$=0;for($n$$7_t$$=$locSkeleton$$1_scaleX$$.bones.length;$i$$114_scaleY$$<$n$$7_t$$;$i$$114_scaleY$$++)$bone$$1_node$$=$locSkeleton$$1_scaleX$$.bones[$i$$114_scaleY$$],$drawingUtil$$.drawPoint({x:$bone$$1_node$$.worldX,y:$bone$$1_node$$.worldY}),0===$i$$114_scaleY$$&&$drawingUtil$$.setDrawColor(0,255,0,255)}$ctx$$.restore()}});_p=cc.inputManager;
_p.setAccelerometerEnabled=function $_p$setAccelerometerEnabled$($isEnable_scheduler$$){this._accelEnabled!==$isEnable_scheduler$$&&(this._accelEnabled=$isEnable_scheduler$$,$isEnable_scheduler$$=cc.director.getScheduler(),this._accelEnabled?(this._accelCurTime=0,$isEnable_scheduler$$.scheduleUpdateForTarget(this)):(this._accelCurTime=0,$isEnable_scheduler$$.unscheduleUpdateForTarget(this)))};
_p.setAccelerometerInterval=function $_p$setAccelerometerInterval$($interval$$){this._accelInterval!==$interval$$&&(this._accelInterval=$interval$$)};
_p._registerKeyboardEvent=function $_p$_registerKeyboardEvent$(){cc._addEventListener(cc._canvas,"keydown",function($e$$){cc.eventManager.dispatchEvent(new cc.EventKeyboard($e$$.keyCode,!0));$e$$.stopPropagation();$e$$.preventDefault()},!1);cc._addEventListener(cc._canvas,"keyup",function($e$$){cc.eventManager.dispatchEvent(new cc.EventKeyboard($e$$.keyCode,!1));$e$$.stopPropagation();$e$$.preventDefault()},!1)};
_p._registerAccelerometerEvent=function $_p$_registerAccelerometerEvent$(){var $w$$=window;this._acceleration=new cc.Acceleration;this._accelDeviceEvent=$w$$.DeviceMotionEvent||$w$$.DeviceOrientationEvent;cc.sys.browserType==cc.sys.BROWSER_TYPE_MOBILE_QQ&&(this._accelDeviceEvent=window.DeviceOrientationEvent);var $_deviceEventType$$=this._accelDeviceEvent==$w$$.DeviceMotionEvent?"devicemotion":"deviceorientation",$ua$$=navigator.userAgent;if(/Android/.test($ua$$)||/Adr/.test($ua$$)&&cc.sys.browserType==
cc.BROWSER_TYPE_UC)this._minus=-1;cc._addEventListener($w$$,$_deviceEventType$$,this.didAccelerate.bind(this),!1)};
_p.didAccelerate=function $_p$didAccelerate$($eventData_tmpX$$){var $w$$=window;if(this._accelEnabled){var $mAcceleration$$=this._acceleration,$x$$,$y$$,$eventAcceleration_z$$;this._accelDeviceEvent==window.DeviceMotionEvent?($eventAcceleration_z$$=$eventData_tmpX$$.accelerationIncludingGravity,$x$$=this._accelMinus*$eventAcceleration_z$$.x*.1,$y$$=this._accelMinus*$eventAcceleration_z$$.y*.1,$eventAcceleration_z$$=.1*$eventAcceleration_z$$.z):($x$$=$eventData_tmpX$$.gamma/90*.981,$y$$=.981*-($eventData_tmpX$$.beta/
90),$eventAcceleration_z$$=$eventData_tmpX$$.alpha/90*.981);cc.sys.os===cc.sys.OS_ANDROID?($mAcceleration$$.x=-$x$$,$mAcceleration$$.y=-$y$$):($mAcceleration$$.x=$x$$,$mAcceleration$$.y=$y$$);$mAcceleration$$.z=$eventAcceleration_z$$;$mAcceleration$$.timestamp=$eventData_tmpX$$.timeStamp||Date.now();$eventData_tmpX$$=$mAcceleration$$.x;$w$$.orientation===cc.UIInterfaceOrientationLandscapeRight?($mAcceleration$$.x=-$mAcceleration$$.y,$mAcceleration$$.y=$eventData_tmpX$$):$w$$.orientation===cc.UIInterfaceOrientationLandscapeLeft?
($mAcceleration$$.x=$mAcceleration$$.y,$mAcceleration$$.y=-$eventData_tmpX$$):$w$$.orientation===cc.UIInterfaceOrientationPortraitUpsideDown&&($mAcceleration$$.x=-$mAcceleration$$.x,$mAcceleration$$.y=-$mAcceleration$$.y)}};delete _p;
cc.vertexLineToPolygon=function $cc$vertexLineToPolygon$($idx1_points$$,$fixVertexResult_stroke_v1$$,$vertices$$,$offset$$,$nuPoints_v2$$){$nuPoints_v2$$+=$offset$$;if(!(1>=$nuPoints_v2$$)){$fixVertexResult_stroke_v1$$*=.5;for(var $idx$$,$nuPointsMinus$$=$nuPoints_v2$$-1,$i$$=$offset$$;$i$$<$nuPoints_v2$$;$i$$++){$idx$$=2*$i$$;var $p1$$=cc.p($idx1_points$$[2*$i$$],$idx1_points$$[2*$i$$+1]),$p0_perpVector$$;if(0===$i$$)$p0_perpVector$$=cc.pPerp(cc.pNormalize(cc.pSub($p1$$,cc.p($idx1_points$$[2*($i$$+
1)],$idx1_points$$[2*($i$$+1)+1]))));else if($i$$===$nuPointsMinus$$)$p0_perpVector$$=cc.pPerp(cc.pNormalize(cc.pSub(cc.p($idx1_points$$[2*($i$$-1)],$idx1_points$$[2*($i$$-1)+1]),$p1$$)));else{$p0_perpVector$$=cc.p($idx1_points$$[2*($i$$-1)],$idx1_points$$[2*($i$$-1)+1]);var $p2$$=cc.p($idx1_points$$[2*($i$$+1)],$idx1_points$$[2*($i$$+1)+1]),$p2p1$$=cc.pNormalize(cc.pSub($p2$$,$p1$$)),$p0p1$$=cc.pNormalize(cc.pSub($p0_perpVector$$,$p1$$)),$angle$$=Math.acos(cc.pDot($p2p1$$,$p0p1$$));$p0_perpVector$$=
$angle$$<cc.degreesToRadians(70)?cc.pPerp(cc.pNormalize(cc.pMidpoint($p2p1$$,$p0p1$$))):$angle$$<cc.degreesToRadians(170)?cc.pNormalize(cc.pMidpoint($p2p1$$,$p0p1$$)):cc.pPerp(cc.pNormalize(cc.pSub($p2$$,$p0_perpVector$$)))}$p0_perpVector$$=cc.pMult($p0_perpVector$$,$fixVertexResult_stroke_v1$$);$vertices$$[2*$idx$$]=$p1$$.x+$p0_perpVector$$.x;$vertices$$[2*$idx$$+1]=$p1$$.y+$p0_perpVector$$.y;$vertices$$[2*($idx$$+1)]=$p1$$.x-$p0_perpVector$$.x;$vertices$$[2*($idx$$+1)+1]=$p1$$.y-$p0_perpVector$$.y}for($i$$=
0==$offset$$?0:$offset$$-1;$i$$<$nuPointsMinus$$;$i$$++)$idx$$=2*$i$$,$idx1_points$$=$idx$$+2,$fixVertexResult_stroke_v1$$=cc.vertex2($vertices$$[2*$idx$$],$vertices$$[2*$idx$$+1]),$nuPoints_v2$$=cc.vertex2($vertices$$[2*($idx$$+1)],$vertices$$[2*($idx$$+1)+1]),$idx$$=cc.vertex2($vertices$$[2*$idx1_points$$],$vertices$$[2*$idx1_points$$]),$offset$$=cc.vertex2($vertices$$[2*($idx1_points$$+1)],$vertices$$[2*($idx1_points$$+1)+1]),$fixVertexResult_stroke_v1$$=!cc.vertexLineIntersect($fixVertexResult_stroke_v1$$.x,
$fixVertexResult_stroke_v1$$.y,$offset$$.x,$offset$$.y,$nuPoints_v2$$.x,$nuPoints_v2$$.y,$idx$$.x,$idx$$.y),!$fixVertexResult_stroke_v1$$.isSuccess&&(0>$fixVertexResult_stroke_v1$$.value||1<$fixVertexResult_stroke_v1$$.value)&&($fixVertexResult_stroke_v1$$.isSuccess=!0),$fixVertexResult_stroke_v1$$.isSuccess&&($vertices$$[2*$idx1_points$$]=$offset$$.x,$vertices$$[2*$idx1_points$$+1]=$offset$$.y,$vertices$$[2*($idx1_points$$+1)]=$idx$$.x,$vertices$$[2*($idx1_points$$+1)+1]=$idx$$.y)}};
cc.vertexLineIntersect=function $cc$vertexLineIntersect$($Ax_distAB$$,$Ay_newX$$,$Bx_theCos$$,$By_theSin$$,$Cx$$,$Cy$$,$Dx$$,$Dy$$){if($Ax_distAB$$==$Bx_theCos$$&&$Ay_newX$$==$By_theSin$$||$Cx$$==$Dx$$&&$Cy$$==$Dy$$)return{isSuccess:!1,value:0};$Bx_theCos$$-=$Ax_distAB$$;$By_theSin$$-=$Ay_newX$$;$Cx$$-=$Ax_distAB$$;$Cy$$-=$Ay_newX$$;$Dx$$-=$Ax_distAB$$;$Dy$$-=$Ay_newX$$;$Ax_distAB$$=Math.sqrt($Bx_theCos$$*$Bx_theCos$$+$By_theSin$$*$By_theSin$$);$Bx_theCos$$/=$Ax_distAB$$;$By_theSin$$/=$Ax_distAB$$;
$Ay_newX$$=$Cx$$*$Bx_theCos$$+$Cy$$*$By_theSin$$;$Cy$$=$Cy$$*$Bx_theCos$$-$Cx$$*$By_theSin$$;$Cx$$=$Ay_newX$$;$Ay_newX$$=$Dx$$*$Bx_theCos$$+$Dy$$*$By_theSin$$;$Dy$$=$Dy$$*$Bx_theCos$$-$Dx$$*$By_theSin$$;$Dx$$=$Ay_newX$$;return $Cy$$==$Dy$$?{isSuccess:!1,value:0}:{isSuccess:!0,value:($Dx$$+($Cx$$-$Dx$$)*$Dy$$/($Dy$$-$Cy$$))/$Ax_distAB$$}};
cc.vertexListIsClockwise=function $cc$vertexListIsClockwise$($verts$$){for(var $i$$=0,$len$$=$verts$$.length;$i$$<$len$$;$i$$++){var $b$$=$verts$$[($i$$+1)%$len$$],$c$$=$verts$$[($i$$+2)%$len$$];if(0<cc.pCross(cc.pSub($b$$,$verts$$[$i$$]),cc.pSub($c$$,$b$$)))return!1}return!0};
cc.CGAffineToGL=function $cc$CGAffineToGL$($trans$$,$mat$$){$mat$$[2]=$mat$$[3]=$mat$$[6]=$mat$$[7]=$mat$$[8]=$mat$$[9]=$mat$$[11]=$mat$$[14]=0;$mat$$[10]=$mat$$[15]=1;$mat$$[0]=$trans$$.a;$mat$$[4]=$trans$$.c;$mat$$[12]=$trans$$.tx;$mat$$[1]=$trans$$.b;$mat$$[5]=$trans$$.d;$mat$$[13]=$trans$$.ty};cc.GLToCGAffine=function $cc$GLToCGAffine$($mat$$,$trans$$){$trans$$.a=$mat$$[0];$trans$$.c=$mat$$[4];$trans$$.tx=$mat$$[12];$trans$$.b=$mat$$[1];$trans$$.d=$mat$$[5];$trans$$.ty=$mat$$[13]};
cc.EventAcceleration=cc.Event.extend({_acc:null,ctor:function($acc$$){cc.Event.prototype.ctor.call(this,cc.Event.ACCELERATION);this._acc=$acc$$}});cc.EventKeyboard=cc.Event.extend({_keyCode:0,_isPressed:!1,ctor:function($keyCode$$,$isPressed$$){cc.Event.prototype.ctor.call(this,cc.Event.KEYBOARD);this._keyCode=$keyCode$$;this._isPressed=$isPressed$$}});
cc._EventListenerAcceleration=cc.EventListener.extend({_onAccelerationEvent:null,ctor:function($callback$$){this._onAccelerationEvent=$callback$$;var $selfPointer$$=this;cc.EventListener.prototype.ctor.call(this,cc.EventListener.ACCELERATION,cc._EventListenerAcceleration.LISTENER_ID,function($event$$){$selfPointer$$._onAccelerationEvent($event$$._acc,$event$$)})},checkAvailable:function(){cc.assert(this._onAccelerationEvent,cc._LogInfos._EventListenerAcceleration_checkAvailable);return!0},clone:function(){return new cc._EventListenerAcceleration(this._onAccelerationEvent)}});
cc._EventListenerAcceleration.LISTENER_ID="__cc_acceleration";cc._EventListenerAcceleration.create=function $cc$_EventListenerAcceleration$create$($callback$$){return new cc._EventListenerAcceleration($callback$$)};
cc._EventListenerKeyboard=cc.EventListener.extend({onKeyPressed:null,onKeyReleased:null,ctor:function(){var $selfPointer$$=this;cc.EventListener.prototype.ctor.call(this,cc.EventListener.KEYBOARD,cc._EventListenerKeyboard.LISTENER_ID,function($event$$){if($event$$._isPressed){if($selfPointer$$.onKeyPressed)$selfPointer$$.onKeyPressed($event$$._keyCode,$event$$)}else if($selfPointer$$.onKeyReleased)$selfPointer$$.onKeyReleased($event$$._keyCode,$event$$)})},clone:function(){var $eventListener$$=new cc._EventListenerKeyboard;
$eventListener$$.onKeyPressed=this.onKeyPressed;$eventListener$$.onKeyReleased=this.onKeyReleased;return $eventListener$$},checkAvailable:function(){return null==this.onKeyPressed&&null==this.onKeyReleased?(cc.log(cc._LogInfos._EventListenerKeyboard_checkAvailable),!1):!0}});cc._EventListenerKeyboard.LISTENER_ID="__cc_keyboard";cc._EventListenerKeyboard.create=function $cc$_EventListenerKeyboard$create$(){return new cc._EventListenerKeyboard};
cc.AtlasNode=cc.Node.extend({textureAtlas:null,quadsToDraw:0,_itemsPerRow:0,_itemsPerColumn:0,_itemWidth:0,_itemHeight:0,_colorUnmodified:null,_opacityModifyRGB:!1,_blendFunc:null,_ignoreContentScaleFactor:!1,_className:"AtlasNode",ctor:function($tile$$,$tileWidth$$,$tileHeight$$,$itemsToRender$$){cc.Node.prototype.ctor.call(this);this._colorUnmodified=cc.color.WHITE;this._blendFunc={src:cc.BLEND_SRC,dst:cc.BLEND_DST};this._ignoreContentScaleFactor=!1;void 0!==$itemsToRender$$&&this.initWithTileFile($tile$$,
$tileWidth$$,$tileHeight$$,$itemsToRender$$)},_initRendererCmd:function(){cc._renderType===cc._RENDER_TYPE_WEBGL&&(this._rendererCmd=new cc.AtlasNodeRenderCmdWebGL(this))},updateAtlasValues:function(){cc.log(cc._LogInfos.AtlasNode_updateAtlasValues)},getColor:function(){return this._opacityModifyRGB?this._colorUnmodified:cc.Node.prototype.getColor.call(this)},setOpacityModifyRGB:function($value$$){var $oldColor$$=this.color;this._opacityModifyRGB=$value$$;this.color=$oldColor$$},isOpacityModifyRGB:function(){return this._opacityModifyRGB},
getBlendFunc:function(){return this._blendFunc},setBlendFunc:function($src$$,$dst$$){this._blendFunc=void 0===$dst$$?$src$$:{src:$src$$,dst:$dst$$}},setTextureAtlas:function($value$$){this.textureAtlas=$value$$},getTextureAtlas:function(){return this.textureAtlas},getQuadsToDraw:function(){return this.quadsToDraw},setQuadsToDraw:function($quadsToDraw$$){this.quadsToDraw=$quadsToDraw$$},_textureForCanvas:null,_originalTexture:null,_uniformColor:null,_colorF32Array:null,initWithTileFile:function($texture$$26_tile$$,
$tileWidth$$,$tileHeight$$,$itemsToRender$$){if(!$texture$$26_tile$$)throw"cc.AtlasNode.initWithTileFile(): title should not be null";$texture$$26_tile$$=cc.textureCache.addImage($texture$$26_tile$$);return this.initWithTexture($texture$$26_tile$$,$tileWidth$$,$tileHeight$$,$itemsToRender$$)},initWithTexture:null,_initWithTextureForCanvas:function($texture$$,$tileWidth$$,$tileHeight$$,$itemsToRender$$){this._itemWidth=$tileWidth$$;this._itemHeight=$tileHeight$$;this._opacityModifyRGB=!0;this._originalTexture=
$texture$$;if(!this._originalTexture)return cc.log(cc._LogInfos.AtlasNode__initWithTexture),!1;this._textureForCanvas=this._originalTexture;this._calculateMaxItems();this.quadsToDraw=$itemsToRender$$;return!0},_initWithTextureForWebGL:function($texture$$,$locRealColor$$5_tileWidth$$,$tileHeight$$,$itemsToRender$$){this._itemWidth=$locRealColor$$5_tileWidth$$;this._itemHeight=$tileHeight$$;this._colorUnmodified=cc.color.WHITE;this._opacityModifyRGB=!0;this._blendFunc.src=cc.BLEND_SRC;this._blendFunc.dst=
cc.BLEND_DST;$locRealColor$$5_tileWidth$$=this._realColor;this._colorF32Array=new Float32Array([$locRealColor$$5_tileWidth$$.r/255,$locRealColor$$5_tileWidth$$.g/255,$locRealColor$$5_tileWidth$$.b/255,this._realOpacity/255]);this.textureAtlas=new cc.TextureAtlas;this.textureAtlas.initWithTexture($texture$$,$itemsToRender$$);if(!this.textureAtlas)return cc.log(cc._LogInfos.AtlasNode__initWithTexture),!1;this._updateBlendFunc();this._updateOpacityModifyRGB();this._calculateMaxItems();this.quadsToDraw=
$itemsToRender$$;this.shaderProgram=cc.shaderCache.programForKey(cc.SHADER_POSITION_TEXTURE_UCOLOR);this._uniformColor=cc._renderContext.getUniformLocation(this.shaderProgram.getProgram(),"u_color");return!0},draw:null,_drawForWebGL:function($context$$26_ctx$$){$context$$26_ctx$$=$context$$26_ctx$$||cc._renderContext;cc.nodeDrawSetup(this);cc.glBlendFunc(this._blendFunc.src,this._blendFunc.dst);this._uniformColor&&this._colorF32Array&&($context$$26_ctx$$.uniform4fv(this._uniformColor,this._colorF32Array),
this.textureAtlas.drawNumberOfQuads(this.quadsToDraw,0))},setColor:null,_setColorForCanvas:function($color3$$3_locDisplayedOpacity$$){var $locRealColor$$6_temp$$=this._realColor;if($locRealColor$$6_temp$$.r!=$color3$$3_locDisplayedOpacity$$.r||$locRealColor$$6_temp$$.g!=$color3$$3_locDisplayedOpacity$$.g||$locRealColor$$6_temp$$.b!=$color3$$3_locDisplayedOpacity$$.b)$locRealColor$$6_temp$$=cc.color($color3$$3_locDisplayedOpacity$$.r,$color3$$3_locDisplayedOpacity$$.g,$color3$$3_locDisplayedOpacity$$.b),
this._colorUnmodified=$color3$$3_locDisplayedOpacity$$,this._opacityModifyRGB&&($color3$$3_locDisplayedOpacity$$=this._displayedOpacity,$locRealColor$$6_temp$$.r=$locRealColor$$6_temp$$.r*$color3$$3_locDisplayedOpacity$$/255,$locRealColor$$6_temp$$.g=$locRealColor$$6_temp$$.g*$color3$$3_locDisplayedOpacity$$/255,$locRealColor$$6_temp$$.b=$locRealColor$$6_temp$$.b*$color3$$3_locDisplayedOpacity$$/255),this._changeTextureColor()},_changeTextureColor:function(){var $locTexture$$7_textureRect$$=this.getTexture();
if($locTexture$$7_textureRect$$&&this._originalTexture){var $element$$=this._originalTexture.getHtmlElementObj();if($element$$){var $locElement$$=$locTexture$$7_textureRect$$.getHtmlElementObj(),$locTexture$$7_textureRect$$=cc.rect(0,0,$element$$.width,$element$$.height);$locElement$$ instanceof HTMLCanvasElement?cc.generateTintImageWithMultiply($element$$,this._colorUnmodified,$locTexture$$7_textureRect$$,$locElement$$):($locElement$$=cc.generateTintImageWithMultiply($element$$,this._colorUnmodified,
$locTexture$$7_textureRect$$),$locTexture$$7_textureRect$$=new cc.Texture2D,$locTexture$$7_textureRect$$.initWithElement($locElement$$),$locTexture$$7_textureRect$$.handleLoadedTexture(),this.setTexture($locTexture$$7_textureRect$$))}}},_setColorForWebGL:function($color3$$4_locDisplayedColor$$){var $temp$$=cc.color($color3$$4_locDisplayedColor$$.r,$color3$$4_locDisplayedColor$$.g,$color3$$4_locDisplayedColor$$.b);this._colorUnmodified=$color3$$4_locDisplayedColor$$;var $locDisplayedOpacity$$=this._displayedOpacity;
this._opacityModifyRGB&&($temp$$.r=$temp$$.r*$locDisplayedOpacity$$/255,$temp$$.g=$temp$$.g*$locDisplayedOpacity$$/255,$temp$$.b=$temp$$.b*$locDisplayedOpacity$$/255);cc.Node.prototype.setColor.call(this,$color3$$4_locDisplayedColor$$);$color3$$4_locDisplayedColor$$=this._displayedColor;this._colorF32Array=new Float32Array([$color3$$4_locDisplayedColor$$.r/255,$color3$$4_locDisplayedColor$$.g/255,$color3$$4_locDisplayedColor$$.b/255,$locDisplayedOpacity$$/255])},setOpacity:function($opacity$$){},
_setOpacityForCanvas:function($opacity$$){cc.Node.prototype.setOpacity.call(this,$opacity$$);this._opacityModifyRGB&&(this.color=this._colorUnmodified)},_setOpacityForWebGL:function($locDisplayedColor$$8_opacity$$){cc.Node.prototype.setOpacity.call(this,$locDisplayedColor$$8_opacity$$);this._opacityModifyRGB?this.color=this._colorUnmodified:($locDisplayedColor$$8_opacity$$=this._displayedColor,this._colorF32Array=new Float32Array([$locDisplayedColor$$8_opacity$$.r/255,$locDisplayedColor$$8_opacity$$.g/
255,$locDisplayedColor$$8_opacity$$.b/255,this._displayedOpacity/255]))},getTexture:null,_getTextureForCanvas:function(){return this._textureForCanvas},_getTextureForWebGL:function(){return this.textureAtlas.texture},setTexture:null,_setTextureForCanvas:function($texture$$){this._textureForCanvas=$texture$$},_setTextureForWebGL:function($texture$$){this.textureAtlas.texture=$texture$$;this._updateBlendFunc();this._updateOpacityModifyRGB()},_calculateMaxItems:null,_calculateMaxItemsForCanvas:function(){var $size$$=
this.texture.getContentSize();this._itemsPerColumn=0|$size$$.height/this._itemHeight;this._itemsPerRow=0|$size$$.width/this._itemWidth},_calculateMaxItemsForWebGL:function(){var $selTexture$$=this.texture,$size$$=$selTexture$$.getContentSize();this._ignoreContentScaleFactor&&($size$$=$selTexture$$.getContentSizeInPixels());this._itemsPerColumn=0|$size$$.height/this._itemHeight;this._itemsPerRow=0|$size$$.width/this._itemWidth},_updateBlendFunc:function(){this.textureAtlas.texture.hasPremultipliedAlpha()||
(this._blendFunc.src=cc.SRC_ALPHA,this._blendFunc.dst=cc.ONE_MINUS_SRC_ALPHA)},_updateOpacityModifyRGB:function(){this._opacityModifyRGB=this.textureAtlas.texture.hasPremultipliedAlpha()},_setIgnoreContentScaleFactor:function($ignoreContentScaleFactor$$){this._ignoreContentScaleFactor=$ignoreContentScaleFactor$$}});_p=cc.AtlasNode.prototype;
cc._renderType===cc._RENDER_TYPE_WEBGL?(_p.initWithTexture=_p._initWithTextureForWebGL,_p.draw=_p._drawForWebGL,_p.setColor=_p._setColorForWebGL,_p.setOpacity=_p._setOpacityForWebGL,_p.getTexture=_p._getTextureForWebGL,_p.setTexture=_p._setTextureForWebGL,_p._calculateMaxItems=_p._calculateMaxItemsForWebGL):(_p.initWithTexture=_p._initWithTextureForCanvas,_p.draw=cc.Node.prototype.draw,_p.setColor=_p._setColorForCanvas,_p.setOpacity=_p._setOpacityForCanvas,_p.getTexture=_p._getTextureForCanvas,_p.setTexture=
_p._setTextureForCanvas,_p._calculateMaxItems=_p._calculateMaxItemsForCanvas,cc.sys._supportCanvasNewBlendModes||(_p._changeTextureColor=function $_p$_changeTextureColor$(){var $locElement$$,$cacheTextureForColor$$2_locTexture$$=this.getTexture();if($cacheTextureForColor$$2_locTexture$$&&this._originalTexture&&($locElement$$=$cacheTextureForColor$$2_locTexture$$.getHtmlElementObj())){var $element$$28_textureRect$$=this._originalTexture.getHtmlElementObj();if($cacheTextureForColor$$2_locTexture$$=
cc.textureCache.getTextureColors($element$$28_textureRect$$))$element$$28_textureRect$$=cc.rect(0,0,$element$$28_textureRect$$.width,$element$$28_textureRect$$.height),$locElement$$ instanceof HTMLCanvasElement?cc.generateTintImage($locElement$$,$cacheTextureForColor$$2_locTexture$$,this._displayedColor,$element$$28_textureRect$$,$locElement$$):($locElement$$=cc.generateTintImage($locElement$$,$cacheTextureForColor$$2_locTexture$$,this._displayedColor,$element$$28_textureRect$$),$cacheTextureForColor$$2_locTexture$$=
new cc.Texture2D,$cacheTextureForColor$$2_locTexture$$.initWithElement($locElement$$),$cacheTextureForColor$$2_locTexture$$.handleLoadedTexture(),this.setTexture($cacheTextureForColor$$2_locTexture$$))}}));cc.defineGetterSetter(_p,"opacity",_p.getOpacity,_p.setOpacity);cc.defineGetterSetter(_p,"color",_p.getColor,_p.setColor);_p.texture;cc.defineGetterSetter(_p,"texture",_p.getTexture,_p.setTexture);_p.textureAtlas;_p.quadsToDraw;
cc.AtlasNode.create=function $cc$AtlasNode$create$($tile$$,$tileWidth$$,$tileHeight$$,$itemsToRender$$){return new cc.AtlasNode($tile$$,$tileWidth$$,$tileHeight$$,$itemsToRender$$)};
cc.TextureAtlas=cc.Class.extend({dirty:!1,texture:null,_indices:null,_buffersVBO:null,_capacity:0,_quads:null,_quadsArrayBuffer:null,_quadsWebBuffer:null,_quadsReader:null,ctor:function($fileName$$,$capacity$$){this._buffersVBO=[];cc.isString($fileName$$)?this.initWithFile($fileName$$,$capacity$$):$fileName$$ instanceof cc.Texture2D&&this.initWithTexture($fileName$$,$capacity$$)},getTotalQuads:function(){return this._totalQuads},getCapacity:function(){return this._capacity},getTexture:function(){return this.texture},
setTexture:function($texture$$){this.texture=$texture$$},setDirty:function($dirty$$){this.dirty=$dirty$$},isDirty:function(){return this.dirty},getQuads:function(){return this._quads},setQuads:function($quads$$){this._quads=$quads$$},_copyQuadsToTextureAtlas:function($quads$$,$index$$){if($quads$$)for(var $i$$=0;$i$$<$quads$$.length;$i$$++)this._setQuadToArray($quads$$[$i$$],$index$$+$i$$)},_setQuadToArray:function($quad$$,$index$$){var $locQuads$$=this._quads;$locQuads$$[$index$$]?($locQuads$$[$index$$].bl=
$quad$$.bl,$locQuads$$[$index$$].br=$quad$$.br,$locQuads$$[$index$$].tl=$quad$$.tl,$locQuads$$[$index$$].tr=$quad$$.tr):$locQuads$$[$index$$]=new cc.V3F_C4B_T2F_Quad($quad$$.tl,$quad$$.bl,$quad$$.tr,$quad$$.br,this._quadsArrayBuffer,$index$$*cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT)},description:function(){return"<cc.TextureAtlas | totalQuads ="+this._totalQuads+">"},_setupIndices:function(){if(0!==this._capacity)for(var $locIndices$$=this._indices,$locCapacity$$=this._capacity,$i$$=0;$i$$<$locCapacity$$;$i$$++)cc.TEXTURE_ATLAS_USE_TRIANGLE_STRIP?
($locIndices$$[6*$i$$+0]=4*$i$$+0,$locIndices$$[6*$i$$+1]=4*$i$$+0,$locIndices$$[6*$i$$+2]=4*$i$$+2,$locIndices$$[6*$i$$+3]=4*$i$$+1,$locIndices$$[6*$i$$+4]=4*$i$$+3,$locIndices$$[6*$i$$+5]=4*$i$$+3):($locIndices$$[6*$i$$+0]=4*$i$$+0,$locIndices$$[6*$i$$+1]=4*$i$$+1,$locIndices$$[6*$i$$+2]=4*$i$$+2,$locIndices$$[6*$i$$+3]=4*$i$$+3,$locIndices$$[6*$i$$+4]=4*$i$$+2,$locIndices$$[6*$i$$+5]=4*$i$$+1)},_setupVBO:function(){var $gl$$=cc._renderContext;this._buffersVBO[0]=$gl$$.createBuffer();this._buffersVBO[1]=
$gl$$.createBuffer();this._quadsWebBuffer=$gl$$.createBuffer();this._mapBuffers()},_mapBuffers:function(){var $gl$$=cc._renderContext;$gl$$.bindBuffer($gl$$.ARRAY_BUFFER,this._quadsWebBuffer);$gl$$.bufferData($gl$$.ARRAY_BUFFER,this._quadsArrayBuffer,$gl$$.DYNAMIC_DRAW);$gl$$.bindBuffer($gl$$.ELEMENT_ARRAY_BUFFER,this._buffersVBO[1]);$gl$$.bufferData($gl$$.ELEMENT_ARRAY_BUFFER,this._indices,$gl$$.STATIC_DRAW)},initWithFile:function($file$$,$capacity$$){var $texture$$=cc.textureCache.addImage($file$$);
if($texture$$)return this.initWithTexture($texture$$,$capacity$$);cc.log(cc._LogInfos.TextureAtlas_initWithFile,$file$$);return!1},initWithTexture:function($texture$$,$capacity$$){cc.assert($texture$$,cc._LogInfos.TextureAtlas_initWithTexture);this._capacity=$capacity$$|=0;this._totalQuads=0;this.texture=$texture$$;this._quads=[];this._indices=new Uint16Array(6*$capacity$$);var $quadSize$$=cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT;this._quadsArrayBuffer=new ArrayBuffer($quadSize$$*$capacity$$);this._quadsReader=
new Uint8Array(this._quadsArrayBuffer);if((!this._quads||!this._indices)&&0<$capacity$$)return!1;for(var $locQuads$$=this._quads,$i$$=0;$i$$<$capacity$$;$i$$++)$locQuads$$[$i$$]=new cc.V3F_C4B_T2F_Quad(null,null,null,null,this._quadsArrayBuffer,$i$$*$quadSize$$);this._setupIndices();this._setupVBO();return this.dirty=!0},updateQuad:function($quad$$,$index$$){cc.assert($quad$$,cc._LogInfos.TextureAtlas_updateQuad);cc.assert(0<=$index$$&&$index$$<this._capacity,cc._LogInfos.TextureAtlas_updateQuad_2);
this._totalQuads=Math.max($index$$+1,this._totalQuads);this._setQuadToArray($quad$$,$index$$);this.dirty=!0},insertQuad:function($quad$$,$index$$){cc.assert($index$$<this._capacity,cc._LogInfos.TextureAtlas_insertQuad_2);this._totalQuads++;if(this._totalQuads>this._capacity)cc.log(cc._LogInfos.TextureAtlas_insertQuad);else{var $quadSize$$=cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT,$startOffset$$=$index$$*$quadSize$$,$moveLength$$=(this._totalQuads-1-$index$$)*$quadSize$$;this._quads[this._totalQuads-1]=
new cc.V3F_C4B_T2F_Quad(null,null,null,null,this._quadsArrayBuffer,(this._totalQuads-1)*$quadSize$$);this._quadsReader.set(this._quadsReader.subarray($startOffset$$,$startOffset$$+$moveLength$$),$startOffset$$+$quadSize$$);this._setQuadToArray($quad$$,$index$$);this.dirty=!0}},insertQuads:function($quads$$,$index$$,$amount$$){$amount$$=$amount$$||$quads$$.length;cc.assert($index$$+$amount$$<=this._capacity,cc._LogInfos.TextureAtlas_insertQuads);var $quadSize$$=cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT;
this._totalQuads+=$amount$$;if(this._totalQuads>this._capacity)cc.log(cc._LogInfos.TextureAtlas_insertQuad);else{var $startOffset$$=$index$$*$quadSize$$,$moveLength$$=(this._totalQuads-1-$index$$-$amount$$)*$quadSize$$,$lastIndex$$=this._totalQuads-1-$amount$$,$i$$;for($i$$=0;$i$$<$amount$$;$i$$++)this._quads[$lastIndex$$+$i$$]=new cc.V3F_C4B_T2F_Quad(null,null,null,null,this._quadsArrayBuffer,(this._totalQuads-1)*$quadSize$$);this._quadsReader.set(this._quadsReader.subarray($startOffset$$,$startOffset$$+
$moveLength$$),$startOffset$$+$quadSize$$*$amount$$);for($i$$=0;$i$$<$amount$$;$i$$++)this._setQuadToArray($quads$$[$i$$],$index$$+$i$$);this.dirty=!0}},insertQuadFromIndex:function($fromIndex$$,$newIndex$$){if($fromIndex$$!==$newIndex$$){cc.assert(0<=$newIndex$$||$newIndex$$<this._totalQuads,cc._LogInfos.TextureAtlas_insertQuadFromIndex);cc.assert(0<=$fromIndex$$||$fromIndex$$<this._totalQuads,cc._LogInfos.TextureAtlas_insertQuadFromIndex_2);var $quadSize$$=cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT,
$locQuadsReader$$=this._quadsReader,$sourceArr$$=$locQuadsReader$$.subarray($fromIndex$$*$quadSize$$,$quadSize$$),$startOffset$$;$fromIndex$$>$newIndex$$?($startOffset$$=$newIndex$$*$quadSize$$,$locQuadsReader$$.set($locQuadsReader$$.subarray($startOffset$$,$startOffset$$+($fromIndex$$-$newIndex$$)*$quadSize$$),$startOffset$$+$quadSize$$),$locQuadsReader$$.set($sourceArr$$,$startOffset$$)):($startOffset$$=($fromIndex$$+1)*$quadSize$$,$locQuadsReader$$.set($locQuadsReader$$.subarray($startOffset$$,
$startOffset$$+($newIndex$$-$fromIndex$$)*$quadSize$$),$startOffset$$-$quadSize$$),$locQuadsReader$$.set($sourceArr$$,$newIndex$$*$quadSize$$));this.dirty=!0}},removeQuadAtIndex:function($index$$){cc.assert($index$$<this._totalQuads,cc._LogInfos.TextureAtlas_removeQuadAtIndex);var $quadSize$$=cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT;this._totalQuads--;this._quads.length=this._totalQuads;if($index$$!==this._totalQuads){var $startOffset$$=($index$$+1)*$quadSize$$;this._quadsReader.set(this._quadsReader.subarray($startOffset$$,
$startOffset$$+(this._totalQuads-$index$$)*$quadSize$$),$startOffset$$-$quadSize$$)}this.dirty=!0},removeQuadsAtIndex:function($index$$,$amount$$){cc.assert($index$$+$amount$$<=this._totalQuads,cc._LogInfos.TextureAtlas_removeQuadsAtIndex);this._totalQuads-=$amount$$;if($index$$!==this._totalQuads){var $quadSize$$=cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT,$srcOffset$$=($index$$+$amount$$)*$quadSize$$,$dstOffset$$=$index$$*$quadSize$$;this._quadsReader.set(this._quadsReader.subarray($srcOffset$$,$srcOffset$$+
(this._totalQuads-$index$$)*$quadSize$$),$dstOffset$$)}this.dirty=!0},removeAllQuads:function(){this._totalQuads=this._quads.length=0},_setDirty:function($dirty$$){this.dirty=$dirty$$},resizeCapacity:function($i$$){if($i$$==this._capacity)return!0;var $quadSize$$=cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT,$oldCapacity$$=this._capacity;this._totalQuads=Math.min(this._totalQuads,$i$$);var $capacity$$=this._capacity=0|$i$$,$count$$=this._totalQuads;if(null==this._quads)for(this._quads=[],this._quadsArrayBuffer=
new ArrayBuffer($quadSize$$*$capacity$$),this._quadsReader=new Uint8Array(this._quadsArrayBuffer),$i$$=0;$i$$<$capacity$$;$i$$++)this._quads=new cc.V3F_C4B_T2F_Quad(null,null,null,null,this._quadsArrayBuffer,$i$$*$quadSize$$);else{var $newQuads$$,$newArrayBuffer$$,$quads$$=this._quads;if($capacity$$>$oldCapacity$$){$newQuads$$=[];$newArrayBuffer$$=new ArrayBuffer($quadSize$$*$capacity$$);for($i$$=0;$i$$<$count$$;$i$$++)$newQuads$$[$i$$]=new cc.V3F_C4B_T2F_Quad($quads$$[$i$$].tl,$quads$$[$i$$].bl,
$quads$$[$i$$].tr,$quads$$[$i$$].br,$newArrayBuffer$$,$i$$*$quadSize$$);for(;$i$$<$capacity$$;$i$$++)$newQuads$$[$i$$]=new cc.V3F_C4B_T2F_Quad(null,null,null,null,$newArrayBuffer$$,$i$$*$quadSize$$)}else for($count$$=Math.max($count$$,$capacity$$),$newQuads$$=[],$newArrayBuffer$$=new ArrayBuffer($quadSize$$*$capacity$$),$i$$=0;$i$$<$count$$;$i$$++)$newQuads$$[$i$$]=new cc.V3F_C4B_T2F_Quad($quads$$[$i$$].tl,$quads$$[$i$$].bl,$quads$$[$i$$].tr,$quads$$[$i$$].br,$newArrayBuffer$$,$i$$*$quadSize$$);this._quadsReader=
new Uint8Array($newArrayBuffer$$);this._quads=$newQuads$$;this._quadsArrayBuffer=$newArrayBuffer$$}null==this._indices?this._indices=new Uint16Array(6*$capacity$$):$capacity$$>$oldCapacity$$?($quadSize$$=new Uint16Array(6*$capacity$$),$quadSize$$.set(this._indices,0),this._indices=$quadSize$$):this._indices=this._indices.subarray(0,6*$capacity$$);this._setupIndices();this._mapBuffers();return this.dirty=!0},increaseTotalQuadsWith:function($amount$$){this._totalQuads+=$amount$$},moveQuadsFromIndex:function($oldIndex$$,
$amount$$,$newIndex$$){if(void 0===$newIndex$$){if($newIndex$$=$amount$$,$amount$$=this._totalQuads-$oldIndex$$,cc.assert($newIndex$$+(this._totalQuads-$oldIndex$$)<=this._capacity,cc._LogInfos.TextureAtlas_moveQuadsFromIndex),0===$amount$$)return}else if(cc.assert($newIndex$$+$amount$$<=this._totalQuads,cc._LogInfos.TextureAtlas_moveQuadsFromIndex_2),cc.assert($oldIndex$$<this._totalQuads,cc._LogInfos.TextureAtlas_moveQuadsFromIndex_3),$oldIndex$$==$newIndex$$)return;var $quadSize$$=cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT,
$srcOffset$$=$oldIndex$$*$quadSize$$,$srcLength$$=$amount$$*$quadSize$$,$locQuadsReader$$=this._quadsReader,$sourceArr$$=$locQuadsReader$$.subarray($srcOffset$$,$srcOffset$$+$srcLength$$),$dstOffset$$=$newIndex$$*$quadSize$$;$newIndex$$<$oldIndex$$?($amount$$=$newIndex$$*$quadSize$$,$locQuadsReader$$.set($locQuadsReader$$.subarray($amount$$,$amount$$+($oldIndex$$-$newIndex$$)*$quadSize$$),$amount$$+$srcLength$$)):($amount$$=($oldIndex$$+$amount$$)*$quadSize$$,$locQuadsReader$$.set($locQuadsReader$$.subarray($amount$$,
$amount$$+($newIndex$$-$oldIndex$$)*$quadSize$$),$srcOffset$$));$locQuadsReader$$.set($sourceArr$$,$dstOffset$$);this.dirty=!0},fillWithEmptyQuadsFromIndex:function($index$$,$amount$$){for(var $count$$=$amount$$*cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT,$clearReader$$=new Uint8Array(this._quadsArrayBuffer,$index$$*cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT,$count$$),$i$$=0;$i$$<$count$$;$i$$++)$clearReader$$[$i$$]=0},drawQuads:function(){this.drawNumberOfQuads(this._totalQuads,0)},_releaseBuffer:function(){var $gl$$=
cc._renderContext;this._buffersVBO&&(this._buffersVBO[0]&&$gl$$.deleteBuffer(this._buffersVBO[0]),this._buffersVBO[1]&&$gl$$.deleteBuffer(this._buffersVBO[1]));this._quadsWebBuffer&&$gl$$.deleteBuffer(this._quadsWebBuffer)}});_p=cc.TextureAtlas.prototype;_p.totalQuads;cc.defineGetterSetter(_p,"totalQuads",_p.getTotalQuads);_p.capacity;cc.defineGetterSetter(_p,"capacity",_p.getCapacity);_p.quads;cc.defineGetterSetter(_p,"quads",_p.getQuads,_p.setQuads);
cc.TextureAtlas.create=function $cc$TextureAtlas$create$($fileName$$,$capacity$$){return new cc.TextureAtlas($fileName$$,$capacity$$)};cc.TextureAtlas.createWithTexture=cc.TextureAtlas.create;cc._renderType===cc._RENDER_TYPE_WEBGL&&(cc.assert(cc.isFunction(cc._tmp.WebGLTextureAtlas),cc._LogInfos.MissingFile,"TexturesWebGL.js"),cc._tmp.WebGLTextureAtlas(),delete cc._tmp.WebGLTextureAtlas);cc.assert(cc.isFunction(cc._tmp.PrototypeTextureAtlas),cc._LogInfos.MissingFile,"TexturesPropertyDefine.js");cc._tmp.PrototypeTextureAtlas();
delete cc._tmp.PrototypeTextureAtlas;
cc.Camera=cc.Class.extend({_eyeX:null,_eyeY:null,_eyeZ:null,_centerX:null,_centerY:null,_centerZ:null,_upX:null,_upY:null,_upZ:null,_dirty:null,_lookupMatrix:null,ctor:function(){this._lookupMatrix=new cc.kmMat4;this.restore()},description:function(){return"<CCCamera | center =("+this._centerX+","+this._centerY+","+this._centerZ+")>"},setDirty:function($value$$){this._dirty=$value$$},isDirty:function(){return this._dirty},restore:function(){this._eyeX=this._eyeY=0;this._eyeZ=cc.Camera.getZEye();this._upX=
this._centerX=this._centerY=this._centerZ=0;this._upY=1;this._upZ=0;cc.kmMat4Identity(this._lookupMatrix);this._dirty=!1},locate:function(){if(this._dirty){var $eye$$=new cc.kmVec3,$center$$=new cc.kmVec3,$up$$=new cc.kmVec3;cc.kmVec3Fill($eye$$,this._eyeX,this._eyeY,this._eyeZ);cc.kmVec3Fill($center$$,this._centerX,this._centerY,this._centerZ);cc.kmVec3Fill($up$$,this._upX,this._upY,this._upZ);cc.kmMat4LookAt(this._lookupMatrix,$eye$$,$center$$,$up$$);this._dirty=!1}cc.kmGLMultMatrix(this._lookupMatrix)},
_locateForRenderer:function($matrix$$){if(this._dirty){var $eye$$=new cc.kmVec3,$center$$=new cc.kmVec3,$up$$=new cc.kmVec3;cc.kmVec3Fill($eye$$,this._eyeX,this._eyeY,this._eyeZ);cc.kmVec3Fill($center$$,this._centerX,this._centerY,this._centerZ);cc.kmVec3Fill($up$$,this._upX,this._upY,this._upZ);cc.kmMat4LookAt(this._lookupMatrix,$eye$$,$center$$,$up$$);this._dirty=!1}cc.kmMat4Multiply($matrix$$,$matrix$$,this._lookupMatrix)},setEyeXYZ:function($eyeX$$,$eyeY$$,$eyeZ$$){this.setEye($eyeX$$,$eyeY$$,
$eyeZ$$)},setEye:function($eyeX$$,$eyeY$$,$eyeZ$$){this._eyeX=$eyeX$$;this._eyeY=$eyeY$$;this._eyeZ=$eyeZ$$;this._dirty=!0},setCenterXYZ:function($centerX$$,$centerY$$,$centerZ$$){this.setCenter($centerX$$,$centerY$$,$centerZ$$)},setCenter:function($centerX$$,$centerY$$,$centerZ$$){this._centerX=$centerX$$;this._centerY=$centerY$$;this._centerZ=$centerZ$$;this._dirty=!0},setUpXYZ:function($upX$$,$upY$$,$upZ$$){this.setUp($upX$$,$upY$$,$upZ$$)},setUp:function($upX$$,$upY$$,$upZ$$){this._upX=$upX$$;
this._upY=$upY$$;this._upZ=$upZ$$;this._dirty=!0},getEyeXYZ:function($eyeX$$,$eyeY$$,$eyeZ$$){return{x:this._eyeX,y:this._eyeY,z:this._eyeZ}},getEye:function(){return{x:this._eyeX,y:this._eyeY,z:this._eyeZ}},getCenterXYZ:function($centerX$$,$centerY$$,$centerZ$$){return{x:this._centerX,y:this._centerY,z:this._centerZ}},getCenter:function(){return{x:this._centerX,y:this._centerY,z:this._centerZ}},getUpXYZ:function($upX$$,$upY$$,$upZ$$){return{x:this._upX,y:this._upY,z:this._upZ}},getUp:function(){return{x:this._upX,
y:this._upY,z:this._upZ}},_DISALLOW_COPY_AND_ASSIGN:function($CCCamera$$){}});cc.Camera.getZEye=function $cc$Camera$getZEye$(){return cc.FLT_EPSILON};cc.PI2=2*Math.PI;
cc.DrawingPrimitiveCanvas=cc.Class.extend({_cacheArray:[],_renderContext:null,ctor:function($renderContext$$){this._renderContext=$renderContext$$},drawPoint:function($point$$,$size$$){$size$$||($size$$=1);var $locScaleX$$=cc.view.getScaleX(),$locScaleY$$=cc.view.getScaleY(),$locScaleY$$=cc.p($point$$.x*$locScaleX$$,$point$$.y*$locScaleY$$);this._renderContext.beginPath();this._renderContext.arc($locScaleY$$.x,-$locScaleY$$.y,$size$$*$locScaleX$$,0,2*Math.PI,!1);this._renderContext.closePath();this._renderContext.fill()},
drawPoints:function($points$$,$locContext$$,$size$$){if(null!=$points$$){$size$$||($size$$=1);$locContext$$=this._renderContext;var $locScaleX$$=cc.view.getScaleX(),$locScaleY$$=cc.view.getScaleY();$locContext$$.beginPath();for(var $i$$=0,$len$$=$points$$.length;$i$$<$len$$;$i$$++)$locContext$$.arc($points$$[$i$$].x*$locScaleX$$,-$points$$[$i$$].y*$locScaleY$$,$size$$*$locScaleX$$,0,2*Math.PI,!1);$locContext$$.closePath();$locContext$$.fill()}},drawLine:function($origin$$,$destination$$){var $locContext$$=
this._renderContext,$locScaleX$$=cc.view.getScaleX(),$locScaleY$$=cc.view.getScaleY();$locContext$$.beginPath();$locContext$$.moveTo($origin$$.x*$locScaleX$$,-$origin$$.y*$locScaleY$$);$locContext$$.lineTo($destination$$.x*$locScaleX$$,-$destination$$.y*$locScaleY$$);$locContext$$.closePath();$locContext$$.stroke()},drawRect:function($origin$$,$destination$$){this.drawLine(cc.p($origin$$.x,$origin$$.y),cc.p($destination$$.x,$origin$$.y));this.drawLine(cc.p($destination$$.x,$origin$$.y),cc.p($destination$$.x,
$destination$$.y));this.drawLine(cc.p($destination$$.x,$destination$$.y),cc.p($origin$$.x,$destination$$.y));this.drawLine(cc.p($origin$$.x,$destination$$.y),cc.p($origin$$.x,$origin$$.y))},drawSolidRect:function($origin$$2_vertices$$,$destination$$,$color$$){$origin$$2_vertices$$=[$origin$$2_vertices$$,cc.p($destination$$.x,$origin$$2_vertices$$.y),$destination$$,cc.p($origin$$2_vertices$$.x,$destination$$.y)];this.drawSolidPoly($origin$$2_vertices$$,4,$color$$)},drawPoly:function($vertices$$,$locContext$$,
$closePolygon$$,$fill$$){$fill$$=$fill$$||!1;if(null!=$vertices$$){if(3>$vertices$$.length)throw Error("Polygon's point must greater than 2");var $firstPoint$$1_i$$=$vertices$$[0];$locContext$$=this._renderContext;var $locScaleX$$=cc.view.getScaleX(),$locScaleY$$=cc.view.getScaleY();$locContext$$.beginPath();$locContext$$.moveTo($firstPoint$$1_i$$.x*$locScaleX$$,-$firstPoint$$1_i$$.y*$locScaleY$$);for(var $firstPoint$$1_i$$=1,$len$$=$vertices$$.length;$firstPoint$$1_i$$<$len$$;$firstPoint$$1_i$$++)$locContext$$.lineTo($vertices$$[$firstPoint$$1_i$$].x*
$locScaleX$$,-$vertices$$[$firstPoint$$1_i$$].y*$locScaleY$$);$closePolygon$$&&$locContext$$.closePath();$fill$$?$locContext$$.fill():$locContext$$.stroke()}},drawSolidPoly:function($polygons$$,$numberOfPoints$$,$color$$){this.setDrawColor($color$$.r,$color$$.g,$color$$.b,$color$$.a);this.drawPoly($polygons$$,$numberOfPoints$$,!0,!0)},drawCircle:function($center$$,$radius$$,$angle$$,$locContext$$,$drawLineToCenter$$){$drawLineToCenter$$=$drawLineToCenter$$||!1;$locContext$$=this._renderContext;var $locScaleX$$=
cc.view.getScaleX(),$locScaleY$$=cc.view.getScaleY();$locContext$$.beginPath();$locContext$$.arc(0|$center$$.x*$locScaleX$$,0|-($center$$.y*$locScaleY$$),$radius$$*$locScaleX$$,-$angle$$,-($angle$$-2*Math.PI),!1);$drawLineToCenter$$&&$locContext$$.lineTo(0|$center$$.x*$locScaleX$$,0|-($center$$.y*$locScaleY$$));$locContext$$.stroke()},drawQuadBezier:function($origin$$,$control$$,$destination$$,$segments$$){for(var $vertices$$=this._cacheArray,$t$$=$vertices$$.length=0,$i$$=0;$i$$<$segments$$;$i$$++){var $x$$=
Math.pow(1-$t$$,2)*$origin$$.x+2*(1-$t$$)*$t$$*$control$$.x+$t$$*$t$$*$destination$$.x,$y$$=Math.pow(1-$t$$,2)*$origin$$.y+2*(1-$t$$)*$t$$*$control$$.y+$t$$*$t$$*$destination$$.y;$vertices$$.push(cc.p($x$$,$y$$));$t$$+=1/$segments$$}$vertices$$.push(cc.p($destination$$.x,$destination$$.y));this.drawPoly($vertices$$,$segments$$+1,!1,!1)},drawCubicBezier:function($origin$$,$control1$$,$control2$$,$destination$$,$segments$$){for(var $vertices$$=this._cacheArray,$t$$=$vertices$$.length=0,$i$$=0;$i$$<
$segments$$;$i$$++){var $x$$=Math.pow(1-$t$$,3)*$origin$$.x+3*Math.pow(1-$t$$,2)*$t$$*$control1$$.x+3*(1-$t$$)*$t$$*$t$$*$control2$$.x+$t$$*$t$$*$t$$*$destination$$.x,$y$$=Math.pow(1-$t$$,3)*$origin$$.y+3*Math.pow(1-$t$$,2)*$t$$*$control1$$.y+3*(1-$t$$)*$t$$*$t$$*$control2$$.y+$t$$*$t$$*$t$$*$destination$$.y;$vertices$$.push(cc.p($x$$,$y$$));$t$$+=1/$segments$$}$vertices$$.push(cc.p($destination$$.x,$destination$$.y));this.drawPoly($vertices$$,$segments$$+1,!1,!1)},drawCatmullRom:function($points$$,
$segments$$){this.drawCardinalSpline($points$$,.5,$segments$$)},drawCardinalSpline:function($config$$,$tension$$,$segments$$){cc._renderContext.strokeStyle="rgba(255,255,255,1)";var $points$$=this._cacheArray;$points$$.length=0;for(var $newPos_p$$,$dt$$,$deltaT$$=1/$config$$.length,$i$$=0;$i$$<$segments$$+1;$i$$++)$dt$$=$i$$/$segments$$,1==$dt$$?($newPos_p$$=$config$$.length-1,$dt$$=1):($newPos_p$$=0|$dt$$/$deltaT$$,$dt$$=($dt$$-$deltaT$$*$newPos_p$$)/$deltaT$$),$newPos_p$$=cc.CardinalSplineAt(cc.getControlPointAt($config$$,
$newPos_p$$-1),cc.getControlPointAt($config$$,$newPos_p$$-0),cc.getControlPointAt($config$$,$newPos_p$$+1),cc.getControlPointAt($config$$,$newPos_p$$+2),$tension$$,$dt$$),$points$$.push($newPos_p$$);this.drawPoly($points$$,$segments$$+1,!1,!1)},drawImage:function($image$$,$sourcePoint$$,$sourceSize$$,$destPoint$$,$destSize$$){switch(arguments.length){case 2:this._renderContext.drawImage($image$$,$sourcePoint$$.x,-($sourcePoint$$.y+$image$$.height));break;case 3:this._renderContext.drawImage($image$$,
$sourcePoint$$.x,-($sourcePoint$$.y+$sourceSize$$.height),$sourceSize$$.width,$sourceSize$$.height);break;case 5:this._renderContext.drawImage($image$$,$sourcePoint$$.x,$sourcePoint$$.y,$sourceSize$$.width,$sourceSize$$.height,$destPoint$$.x,-($destPoint$$.y+$destSize$$.height),$destSize$$.width,$destSize$$.height);break;default:throw Error("Argument must be non-nil");}},drawStar:function($context$$27_ctx$$,$radius$$,$color$$){$context$$27_ctx$$=$context$$27_ctx$$||this._renderContext;$radius$$*=
cc.view.getScaleX();$color$$="rgba("+(0|$color$$.r)+","+(0|$color$$.g)+","+(0|$color$$.b);$context$$27_ctx$$.fillStyle=$color$$+",1)";var $subRadius$$=$radius$$/10;$context$$27_ctx$$.beginPath();$context$$27_ctx$$.moveTo(-$radius$$,$radius$$);$context$$27_ctx$$.lineTo(0,$subRadius$$);$context$$27_ctx$$.lineTo($radius$$,$radius$$);$context$$27_ctx$$.lineTo($subRadius$$,0);$context$$27_ctx$$.lineTo($radius$$,-$radius$$);$context$$27_ctx$$.lineTo(0,-$subRadius$$);$context$$27_ctx$$.lineTo(-$radius$$,
-$radius$$);$context$$27_ctx$$.lineTo(-$subRadius$$,0);$context$$27_ctx$$.lineTo(-$radius$$,$radius$$);$context$$27_ctx$$.closePath();$context$$27_ctx$$.fill();var $g1$$=$context$$27_ctx$$.createRadialGradient(0,0,$subRadius$$,0,0,$radius$$);$g1$$.addColorStop(0,$color$$+", 1)");$g1$$.addColorStop(.3,$color$$+", 0.8)");$g1$$.addColorStop(1,$color$$+", 0.0)");$context$$27_ctx$$.fillStyle=$g1$$;$context$$27_ctx$$.beginPath();$context$$27_ctx$$.arc(0,0,$radius$$-$subRadius$$,0,cc.PI2,!1);$context$$27_ctx$$.closePath();
$context$$27_ctx$$.fill()},drawColorBall:function($context$$28_ctx$$,$radius$$,$color$$18_colorStr$$){$context$$28_ctx$$=$context$$28_ctx$$||this._renderContext;$radius$$*=cc.view.getScaleX();$color$$18_colorStr$$="rgba("+(0|$color$$18_colorStr$$.r)+","+(0|$color$$18_colorStr$$.g)+","+(0|$color$$18_colorStr$$.b);var $g1$$=$context$$28_ctx$$.createRadialGradient(0,0,$radius$$/10,0,0,$radius$$);$g1$$.addColorStop(0,$color$$18_colorStr$$+", 1)");$g1$$.addColorStop(.3,$color$$18_colorStr$$+", 0.8)");
$g1$$.addColorStop(.6,$color$$18_colorStr$$+", 0.4)");$g1$$.addColorStop(1,$color$$18_colorStr$$+", 0.0)");$context$$28_ctx$$.fillStyle=$g1$$;$context$$28_ctx$$.beginPath();$context$$28_ctx$$.arc(0,0,$radius$$,0,cc.PI2,!1);$context$$28_ctx$$.closePath();$context$$28_ctx$$.fill()},fillText:function($strText$$,$x$$,$y$$){this._renderContext.fillText($strText$$,$x$$,-$y$$)},setDrawColor:function($r$$,$g$$,$b$$,$a$$){this._renderContext.fillStyle="rgba("+$r$$+","+$g$$+","+$b$$+","+$a$$/255+")";this._renderContext.strokeStyle=
"rgba("+$r$$+","+$g$$+","+$b$$+","+$a$$/255+")"},setPointSize:function($pointSize$$){},setLineWidth:function($width$$){this._renderContext.lineWidth=$width$$*cc.view.getScaleX()}});
cc.DrawingPrimitiveWebGL=cc.Class.extend({_renderContext:null,_initialized:!1,_shader:null,_colorLocation:-1,_colorArray:null,_pointSizeLocation:-1,_pointSize:-1,ctor:function($ctx$$){null==$ctx$$&&($ctx$$=cc._renderContext);if(!$ctx$$ instanceof WebGLRenderingContext)throw"Can't initialise DrawingPrimitiveWebGL. context need is WebGLRenderingContext";this._renderContext=$ctx$$;this._colorArray=new Float32Array([1,1,1,1])},lazy_init:function(){this._initialized||(this._shader=cc.shaderCache.programForKey(cc.SHADER_POSITION_UCOLOR),
this._colorLocation=this._renderContext.getUniformLocation(this._shader.getProgram(),"u_color"),this._pointSizeLocation=this._renderContext.getUniformLocation(this._shader.getProgram(),"u_pointSize"),this._initialized=!0)},drawInit:function(){this._initialized=!1},drawPoint:function($point$$){this.lazy_init();var $glContext$$=this._renderContext;this._shader.use();this._shader.setUniformForModelViewAndProjectionMatrixWithMat4();cc.glEnableVertexAttribs(cc.VERTEX_ATTRIB_FLAG_POSITION);$glContext$$.uniform4fv(this._colorLocation,
this._colorArray);this._shader.setUniformLocationWith1f(this._pointSizeLocation,this._pointSize);var $pointBuffer$$=$glContext$$.createBuffer();$glContext$$.bindBuffer($glContext$$.ARRAY_BUFFER,$pointBuffer$$);$glContext$$.bufferData($glContext$$.ARRAY_BUFFER,new Float32Array([$point$$.x,$point$$.y]),$glContext$$.STATIC_DRAW);$glContext$$.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,2,$glContext$$.FLOAT,!1,0,0);$glContext$$.drawArrays($glContext$$.POINTS,0,1);$glContext$$.deleteBuffer($pointBuffer$$);
cc.incrementGLDraws(1)},drawPoints:function($points$$,$numberOfPoints$$){if($points$$&&0!=$points$$.length){this.lazy_init();var $glContext$$=this._renderContext;this._shader.use();this._shader.setUniformForModelViewAndProjectionMatrixWithMat4();cc.glEnableVertexAttribs(cc.VERTEX_ATTRIB_FLAG_POSITION);$glContext$$.uniform4fv(this._colorLocation,this._colorArray);this._shader.setUniformLocationWith1f(this._pointSizeLocation,this._pointSize);var $pointBuffer$$=$glContext$$.createBuffer();$glContext$$.bindBuffer($glContext$$.ARRAY_BUFFER,
$pointBuffer$$);$glContext$$.bufferData($glContext$$.ARRAY_BUFFER,this._pointsToTypeArray($points$$),$glContext$$.STATIC_DRAW);$glContext$$.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,2,$glContext$$.FLOAT,!1,0,0);$glContext$$.drawArrays($glContext$$.POINTS,0,$points$$.length);$glContext$$.deleteBuffer($pointBuffer$$);cc.incrementGLDraws(1)}},_pointsToTypeArray:function($points$$){for(var $typeArr$$=new Float32Array(2*$points$$.length),$i$$=0;$i$$<$points$$.length;$i$$++)$typeArr$$[2*$i$$]=$points$$[$i$$].x,
$typeArr$$[2*$i$$+1]=$points$$[$i$$].y;return $typeArr$$},drawLine:function($origin$$,$destination$$){this.lazy_init();var $glContext$$=this._renderContext;this._shader.use();this._shader.setUniformForModelViewAndProjectionMatrixWithMat4();cc.glEnableVertexAttribs(cc.VERTEX_ATTRIB_FLAG_POSITION);$glContext$$.uniform4fv(this._colorLocation,this._colorArray);var $pointBuffer$$=$glContext$$.createBuffer();$glContext$$.bindBuffer($glContext$$.ARRAY_BUFFER,$pointBuffer$$);$glContext$$.bufferData($glContext$$.ARRAY_BUFFER,
this._pointsToTypeArray([$origin$$,$destination$$]),$glContext$$.STATIC_DRAW);$glContext$$.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,2,$glContext$$.FLOAT,!1,0,0);$glContext$$.drawArrays($glContext$$.LINES,0,2);$glContext$$.deleteBuffer($pointBuffer$$);cc.incrementGLDraws(1)},drawRect:function($origin$$,$destination$$){this.drawLine(cc.p($origin$$.x,$origin$$.y),cc.p($destination$$.x,$origin$$.y));this.drawLine(cc.p($destination$$.x,$origin$$.y),cc.p($destination$$.x,$destination$$.y));this.drawLine(cc.p($destination$$.x,
$destination$$.y),cc.p($origin$$.x,$destination$$.y));this.drawLine(cc.p($origin$$.x,$destination$$.y),cc.p($origin$$.x,$origin$$.y))},drawSolidRect:function($origin$$7_vertices$$,$destination$$,$color$$){$origin$$7_vertices$$=[$origin$$7_vertices$$,cc.p($destination$$.x,$origin$$7_vertices$$.y),$destination$$,cc.p($origin$$7_vertices$$.x,$destination$$.y)];this.drawSolidPoly($origin$$7_vertices$$,4,$color$$)},drawPoly:function($vertices$$,$glContext$$5_numOfVertices$$,$closePolygon$$){this.lazy_init();
$glContext$$5_numOfVertices$$=this._renderContext;this._shader.use();this._shader.setUniformForModelViewAndProjectionMatrixWithMat4();cc.glEnableVertexAttribs(cc.VERTEX_ATTRIB_FLAG_POSITION);$glContext$$5_numOfVertices$$.uniform4fv(this._colorLocation,this._colorArray);var $pointBuffer$$=$glContext$$5_numOfVertices$$.createBuffer();$glContext$$5_numOfVertices$$.bindBuffer($glContext$$5_numOfVertices$$.ARRAY_BUFFER,$pointBuffer$$);$glContext$$5_numOfVertices$$.bufferData($glContext$$5_numOfVertices$$.ARRAY_BUFFER,
this._pointsToTypeArray($vertices$$),$glContext$$5_numOfVertices$$.STATIC_DRAW);$glContext$$5_numOfVertices$$.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,2,$glContext$$5_numOfVertices$$.FLOAT,!1,0,0);$closePolygon$$?$glContext$$5_numOfVertices$$.drawArrays($glContext$$5_numOfVertices$$.LINE_LOOP,0,$vertices$$.length):$glContext$$5_numOfVertices$$.drawArrays($glContext$$5_numOfVertices$$.LINE_STRIP,0,$vertices$$.length);$glContext$$5_numOfVertices$$.deleteBuffer($pointBuffer$$);cc.incrementGLDraws(1)},
drawSolidPoly:function($poli$$,$glContext$$6_numberOfPoints$$,$color$$20_pointBuffer$$){this.lazy_init();$color$$20_pointBuffer$$&&this.setDrawColor($color$$20_pointBuffer$$.r,$color$$20_pointBuffer$$.g,$color$$20_pointBuffer$$.b,$color$$20_pointBuffer$$.a);$glContext$$6_numberOfPoints$$=this._renderContext;this._shader.use();this._shader.setUniformForModelViewAndProjectionMatrixWithMat4();cc.glEnableVertexAttribs(cc.VERTEX_ATTRIB_FLAG_POSITION);$glContext$$6_numberOfPoints$$.uniform4fv(this._colorLocation,
this._colorArray);$color$$20_pointBuffer$$=$glContext$$6_numberOfPoints$$.createBuffer();$glContext$$6_numberOfPoints$$.bindBuffer($glContext$$6_numberOfPoints$$.ARRAY_BUFFER,$color$$20_pointBuffer$$);$glContext$$6_numberOfPoints$$.bufferData($glContext$$6_numberOfPoints$$.ARRAY_BUFFER,this._pointsToTypeArray($poli$$),$glContext$$6_numberOfPoints$$.STATIC_DRAW);$glContext$$6_numberOfPoints$$.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,2,$glContext$$6_numberOfPoints$$.FLOAT,!1,0,0);$glContext$$6_numberOfPoints$$.drawArrays($glContext$$6_numberOfPoints$$.TRIANGLE_FAN,
0,$poli$$.length);$glContext$$6_numberOfPoints$$.deleteBuffer($color$$20_pointBuffer$$);cc.incrementGLDraws(1)},drawCircle:function($center$$4_glContext$$,$pointBuffer$$5_radius$$,$angle$$,$segments$$,$drawLineToCenter$$1_vertices$$){this.lazy_init();var $additionalSegment$$=1;$drawLineToCenter$$1_vertices$$&&$additionalSegment$$++;var $coef$$=2*Math.PI/$segments$$;if($drawLineToCenter$$1_vertices$$=new Float32Array(2*($segments$$+2))){for(var $i$$=0;$i$$<=$segments$$;$i$$++){var $k_rads$$=$i$$*$coef$$,
$j$$=$pointBuffer$$5_radius$$*Math.cos($k_rads$$+$angle$$)+$center$$4_glContext$$.x,$k_rads$$=$pointBuffer$$5_radius$$*Math.sin($k_rads$$+$angle$$)+$center$$4_glContext$$.y;$drawLineToCenter$$1_vertices$$[2*$i$$]=$j$$;$drawLineToCenter$$1_vertices$$[2*$i$$+1]=$k_rads$$}$drawLineToCenter$$1_vertices$$[2*($segments$$+1)]=$center$$4_glContext$$.x;$drawLineToCenter$$1_vertices$$[2*($segments$$+1)+1]=$center$$4_glContext$$.y;$center$$4_glContext$$=this._renderContext;this._shader.use();this._shader.setUniformForModelViewAndProjectionMatrixWithMat4();
cc.glEnableVertexAttribs(cc.VERTEX_ATTRIB_FLAG_POSITION);$center$$4_glContext$$.uniform4fv(this._colorLocation,this._colorArray);$pointBuffer$$5_radius$$=$center$$4_glContext$$.createBuffer();$center$$4_glContext$$.bindBuffer($center$$4_glContext$$.ARRAY_BUFFER,$pointBuffer$$5_radius$$);$center$$4_glContext$$.bufferData($center$$4_glContext$$.ARRAY_BUFFER,$drawLineToCenter$$1_vertices$$,$center$$4_glContext$$.STATIC_DRAW);$center$$4_glContext$$.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,2,$center$$4_glContext$$.FLOAT,
!1,0,0);$center$$4_glContext$$.drawArrays($center$$4_glContext$$.LINE_STRIP,0,$segments$$+$additionalSegment$$);$center$$4_glContext$$.deleteBuffer($pointBuffer$$5_radius$$);cc.incrementGLDraws(1)}},drawQuadBezier:function($glContext$$8_origin$$,$control$$1_pointBuffer$$,$destination$$,$segments$$){this.lazy_init();for(var $vertices$$=new Float32Array(2*($segments$$+1)),$t$$=0,$i$$=0;$i$$<$segments$$;$i$$++)$vertices$$[2*$i$$]=Math.pow(1-$t$$,2)*$glContext$$8_origin$$.x+2*(1-$t$$)*$t$$*$control$$1_pointBuffer$$.x+
$t$$*$t$$*$destination$$.x,$vertices$$[2*$i$$+1]=Math.pow(1-$t$$,2)*$glContext$$8_origin$$.y+2*(1-$t$$)*$t$$*$control$$1_pointBuffer$$.y+$t$$*$t$$*$destination$$.y,$t$$+=1/$segments$$;$vertices$$[2*$segments$$]=$destination$$.x;$vertices$$[2*$segments$$+1]=$destination$$.y;$glContext$$8_origin$$=this._renderContext;this._shader.use();this._shader.setUniformForModelViewAndProjectionMatrixWithMat4();cc.glEnableVertexAttribs(cc.VERTEX_ATTRIB_FLAG_POSITION);$glContext$$8_origin$$.uniform4fv(this._colorLocation,
this._colorArray);$control$$1_pointBuffer$$=$glContext$$8_origin$$.createBuffer();$glContext$$8_origin$$.bindBuffer($glContext$$8_origin$$.ARRAY_BUFFER,$control$$1_pointBuffer$$);$glContext$$8_origin$$.bufferData($glContext$$8_origin$$.ARRAY_BUFFER,$vertices$$,$glContext$$8_origin$$.STATIC_DRAW);$glContext$$8_origin$$.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,2,$glContext$$8_origin$$.FLOAT,!1,0,0);$glContext$$8_origin$$.drawArrays($glContext$$8_origin$$.LINE_STRIP,0,$segments$$+1);$glContext$$8_origin$$.deleteBuffer($control$$1_pointBuffer$$);
cc.incrementGLDraws(1)},drawCubicBezier:function($glContext$$9_origin$$,$control1$$1_pointBuffer$$,$control2$$,$destination$$,$segments$$){this.lazy_init();for(var $vertices$$=new Float32Array(2*($segments$$+1)),$t$$=0,$i$$=0;$i$$<$segments$$;$i$$++)$vertices$$[2*$i$$]=Math.pow(1-$t$$,3)*$glContext$$9_origin$$.x+3*Math.pow(1-$t$$,2)*$t$$*$control1$$1_pointBuffer$$.x+3*(1-$t$$)*$t$$*$t$$*$control2$$.x+$t$$*$t$$*$t$$*$destination$$.x,$vertices$$[2*$i$$+1]=Math.pow(1-$t$$,3)*$glContext$$9_origin$$.y+
3*Math.pow(1-$t$$,2)*$t$$*$control1$$1_pointBuffer$$.y+3*(1-$t$$)*$t$$*$t$$*$control2$$.y+$t$$*$t$$*$t$$*$destination$$.y,$t$$+=1/$segments$$;$vertices$$[2*$segments$$]=$destination$$.x;$vertices$$[2*$segments$$+1]=$destination$$.y;$glContext$$9_origin$$=this._renderContext;this._shader.use();this._shader.setUniformForModelViewAndProjectionMatrixWithMat4();cc.glEnableVertexAttribs(cc.VERTEX_ATTRIB_FLAG_POSITION);$glContext$$9_origin$$.uniform4fv(this._colorLocation,this._colorArray);$control1$$1_pointBuffer$$=
$glContext$$9_origin$$.createBuffer();$glContext$$9_origin$$.bindBuffer($glContext$$9_origin$$.ARRAY_BUFFER,$control1$$1_pointBuffer$$);$glContext$$9_origin$$.bufferData($glContext$$9_origin$$.ARRAY_BUFFER,$vertices$$,$glContext$$9_origin$$.STATIC_DRAW);$glContext$$9_origin$$.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,2,$glContext$$9_origin$$.FLOAT,!1,0,0);$glContext$$9_origin$$.drawArrays($glContext$$9_origin$$.LINE_STRIP,0,$segments$$+1);$glContext$$9_origin$$.deleteBuffer($control1$$1_pointBuffer$$);
cc.incrementGLDraws(1)},drawCatmullRom:function($points$$,$segments$$){this.drawCardinalSpline($points$$,.5,$segments$$)},drawCardinalSpline:function($config$$6_glContext$$,$pointBuffer$$8_tension$$,$segments$$){this.lazy_init();for(var $vertices$$=new Float32Array(2*($segments$$+1)),$newPos$$1_p$$,$dt$$5_lt$$,$deltaT$$=1/$config$$6_glContext$$.length,$i$$=0;$i$$<$segments$$+1;$i$$++)$dt$$5_lt$$=$i$$/$segments$$,1==$dt$$5_lt$$?($newPos$$1_p$$=$config$$6_glContext$$.length-1,$dt$$5_lt$$=1):($newPos$$1_p$$=
0|$dt$$5_lt$$/$deltaT$$,$dt$$5_lt$$=($dt$$5_lt$$-$deltaT$$*$newPos$$1_p$$)/$deltaT$$),$newPos$$1_p$$=cc.CardinalSplineAt(cc.getControlPointAt($config$$6_glContext$$,$newPos$$1_p$$-1),cc.getControlPointAt($config$$6_glContext$$,$newPos$$1_p$$),cc.getControlPointAt($config$$6_glContext$$,$newPos$$1_p$$+1),cc.getControlPointAt($config$$6_glContext$$,$newPos$$1_p$$+2),$pointBuffer$$8_tension$$,$dt$$5_lt$$),$vertices$$[2*$i$$]=$newPos$$1_p$$.x,$vertices$$[2*$i$$+1]=$newPos$$1_p$$.y;$config$$6_glContext$$=
this._renderContext;this._shader.use();this._shader.setUniformForModelViewAndProjectionMatrixWithMat4();cc.glEnableVertexAttribs(cc.VERTEX_ATTRIB_FLAG_POSITION);$config$$6_glContext$$.uniform4fv(this._colorLocation,this._colorArray);$pointBuffer$$8_tension$$=$config$$6_glContext$$.createBuffer();$config$$6_glContext$$.bindBuffer($config$$6_glContext$$.ARRAY_BUFFER,$pointBuffer$$8_tension$$);$config$$6_glContext$$.bufferData($config$$6_glContext$$.ARRAY_BUFFER,$vertices$$,$config$$6_glContext$$.STATIC_DRAW);
$config$$6_glContext$$.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,2,$config$$6_glContext$$.FLOAT,!1,0,0);$config$$6_glContext$$.drawArrays($config$$6_glContext$$.LINE_STRIP,0,$segments$$+1);$config$$6_glContext$$.deleteBuffer($pointBuffer$$8_tension$$);cc.incrementGLDraws(1)},setDrawColor:function($r$$,$g$$,$b$$,$a$$){this._colorArray[0]=$r$$/255;this._colorArray[1]=$g$$/255;this._colorArray[2]=$b$$/255;this._colorArray[3]=$a$$/255},setPointSize:function($pointSize$$){this._pointSize=$pointSize$$*
cc.contentScaleFactor()},setLineWidth:function($width$$){this._renderContext.lineWidth&&this._renderContext.lineWidth($width$$)}});
cc._LogInfos={ActionManager_addAction:"cc.ActionManager.addAction(): action must be non-null",ActionManager_removeAction:"cocos2d: removeAction: Target not found",ActionManager_removeActionByTag:"cc.ActionManager.removeActionByTag(): an invalid tag",ActionManager_removeActionByTag_2:"cc.ActionManager.removeActionByTag(): target must be non-null",ActionManager_getActionByTag:"cc.ActionManager.getActionByTag(): an invalid tag",ActionManager_getActionByTag_2:"cocos2d : getActionByTag(tag = %s): Action not found",
configuration_dumpInfo:"cocos2d: **** WARNING **** CC_ENABLE_PROFILERS is defined. Disable it when you finish profiling (from ccConfig.js)",configuration_loadConfigFile:"Expected 'data' dict, but not found. Config file: %s",configuration_loadConfigFile_2:"Please load the resource first : %s",Director_resume:"cocos2d: Director: Error in gettimeofday",Director_setProjection:"cocos2d: Director: unrecognized projection",Director_popToSceneStackLevel:"cocos2d: Director: unrecognized projection",Director_popToSceneStackLevel_2:"cocos2d: Director: Error in gettimeofday",
Director_popScene:"running scene should not null",Director_pushScene:"the scene should not null",arrayVerifyType:"element type is wrong!",Scheduler_scheduleCallbackForTarget:"CCSheduler#scheduleCallback. Callback already scheduled. Updating interval from:%s to %s",Scheduler_scheduleCallbackForTarget_2:"cc.scheduler.scheduleCallbackForTarget(): callback_fn should be non-null.",Scheduler_scheduleCallbackForTarget_3:"cc.scheduler.scheduleCallbackForTarget(): target should be non-null.",Scheduler_pauseTarget:"cc.Scheduler.pauseTarget():target should be non-null",
Scheduler_resumeTarget:"cc.Scheduler.resumeTarget():target should be non-null",Scheduler_isTargetPaused:"cc.Scheduler.isTargetPaused():target should be non-null",Node_getZOrder:"getZOrder is deprecated. Please use getLocalZOrder instead.",Node_setZOrder:"setZOrder is deprecated. Please use setLocalZOrder instead.",Node_getRotation:"RotationX != RotationY. Don't know which one to return",Node_getScale:"ScaleX != ScaleY. Don't know which one to return",Node_addChild:"An Node can't be added as a child of itself.",
Node_addChild_2:"child already added. It can't be added again",Node_addChild_3:"child must be non-null",Node_removeFromParentAndCleanup:"removeFromParentAndCleanup is deprecated. Use removeFromParent instead",Node_boundingBox:"boundingBox is deprecated. Use getBoundingBox instead",Node_removeChildByTag:"argument tag is an invalid tag",Node_removeChildByTag_2:"cocos2d: removeChildByTag(tag = %s): child not found!",Node_removeAllChildrenWithCleanup:"removeAllChildrenWithCleanup is deprecated. Use removeAllChildren instead",
Node_stopActionByTag:"cc.Node.stopActionBy(): argument tag an invalid tag",Node_getActionByTag:"cc.Node.getActionByTag(): argument tag is an invalid tag",Node_resumeSchedulerAndActions:"resumeSchedulerAndActions is deprecated, please use resume instead.",Node_pauseSchedulerAndActions:"pauseSchedulerAndActions is deprecated, please use pause instead.",Node__arrayMakeObjectsPerformSelector:"Unknown callback function",Node_reorderChild:"child must be non-null",Node_runAction:"cc.Node.runAction(): action must be non-null",
Node_schedule:"callback function must be non-null",Node_schedule_2:"interval must be positive",Node_initWithTexture:"cocos2d: Could not initialize cc.AtlasNode. Invalid Texture.",AtlasNode_updateAtlasValues:"cc.AtlasNode.updateAtlasValues(): Shall be overridden in subclasses",AtlasNode_initWithTileFile:"",AtlasNode__initWithTexture:"cocos2d: Could not initialize cc.AtlasNode. Invalid Texture.",_EventListenerKeyboard_checkAvailable:"cc._EventListenerKeyboard.checkAvailable(): Invalid EventListenerKeyboard!",
_EventListenerTouchOneByOne_checkAvailable:"cc._EventListenerTouchOneByOne.checkAvailable(): Invalid EventListenerTouchOneByOne!",_EventListenerTouchAllAtOnce_checkAvailable:"cc._EventListenerTouchAllAtOnce.checkAvailable(): Invalid EventListenerTouchAllAtOnce!",_EventListenerAcceleration_checkAvailable:"cc._EventListenerAcceleration.checkAvailable(): _onAccelerationEvent must be non-nil",EventListener_create:"Invalid parameter.",__getListenerID:"Don't call this method if the event is for touch.",
eventManager__forceAddEventListener:"Invalid scene graph priority!",eventManager_addListener:"0 priority is forbidden for fixed priority since it's used for scene graph based priority.",eventManager_removeListeners:"Invalid listener type!",eventManager_setPriority:"Can't set fixed priority with scene graph based listener.",eventManager_addListener_2:"Invalid parameters.",eventManager_addListener_3:"listener must be a cc.EventListener object when adding a fixed priority listener",eventManager_addListener_4:"The listener has been registered, please don't register it again.",
LayerMultiplex_initWithLayers:"parameters should not be ending with null in Javascript",LayerMultiplex_switchTo:"Invalid index in MultiplexLayer switchTo message",LayerMultiplex_switchToAndReleaseMe:"Invalid index in MultiplexLayer switchTo message",LayerMultiplex_addLayer:"cc.Layer.addLayer(): layer should be non-null",EGLView_setDesignResolutionSize:"Resolution not valid",EGLView_setDesignResolutionSize_2:"should set resolutionPolicy",inputManager_handleTouchesBegin:"The touches is more than MAX_TOUCHES, nUnusedIndex = %s",
swap:"cc.swap is being modified from original macro, please check usage",checkGLErrorDebug:"WebGL error %s",animationCache__addAnimationsWithDictionary:"cocos2d: cc.AnimationCache: No animations were found in provided dictionary.",animationCache__addAnimationsWithDictionary_2:"cc.AnimationCache. Invalid animation format",animationCache_addAnimations:"cc.AnimationCache.addAnimations(): File could not be found",animationCache__parseVersion1:"cocos2d: cc.AnimationCache: Animation '%s' found in dictionary without any frames - cannot add to animation cache.",
animationCache__parseVersion1_2:"cocos2d: cc.AnimationCache: Animation '%s' refers to frame '%s' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.",animationCache__parseVersion1_3:"cocos2d: cc.AnimationCache: None of the frames for animation '%s' were found in the cc.SpriteFrameCache. Animation is not being added to the Animation Cache.",animationCache__parseVersion1_4:"cocos2d: cc.AnimationCache: An animation in your dictionary refers to a frame which is not in the cc.SpriteFrameCache. Some or all of the frames for the animation '%s' may be missing.",
animationCache__parseVersion2:"cocos2d: CCAnimationCache: Animation '%s' found in dictionary without any frames - cannot add to animation cache.",animationCache__parseVersion2_2:"cocos2d: cc.AnimationCache: Animation '%s' refers to frame '%s' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.",animationCache_addAnimations_2:"cc.AnimationCache.addAnimations(): Invalid texture file name",Sprite_reorderChild:"cc.Sprite.reorderChild(): this child is not in children list",
Sprite_ignoreAnchorPointForPosition:"cc.Sprite.ignoreAnchorPointForPosition(): it is invalid in cc.Sprite when using SpriteBatchNode",Sprite_setDisplayFrameWithAnimationName:"cc.Sprite.setDisplayFrameWithAnimationName(): Frame not found",Sprite_setDisplayFrameWithAnimationName_2:"cc.Sprite.setDisplayFrameWithAnimationName(): Invalid frame index",Sprite_setDisplayFrame:"setDisplayFrame is deprecated, please use setSpriteFrame instead.",Sprite__updateBlendFunc:"cc.Sprite._updateBlendFunc(): _updateBlendFunc doesn't work when the sprite is rendered using a cc.CCSpriteBatchNode",
Sprite_initWithSpriteFrame:"cc.Sprite.initWithSpriteFrame(): spriteFrame should be non-null",Sprite_initWithSpriteFrameName:"cc.Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null",Sprite_initWithSpriteFrameName1:" is null, please check.",Sprite_initWithFile:"cc.Sprite.initWithFile(): filename should be non-null",Sprite_setDisplayFrameWithAnimationName_3:"cc.Sprite.setDisplayFrameWithAnimationName(): animationName must be non-null",Sprite_reorderChild_2:"cc.Sprite.reorderChild(): child should be non-null",
Sprite_addChild:"cc.Sprite.addChild(): cc.Sprite only supports cc.Sprites as children when using cc.SpriteBatchNode",Sprite_addChild_2:"cc.Sprite.addChild(): cc.Sprite only supports a sprite using same texture as children when using cc.SpriteBatchNode",Sprite_addChild_3:"cc.Sprite.addChild(): child should be non-null",Sprite_setTexture:"cc.Sprite.texture setter: Batched sprites should use the same texture as the batchnode",Sprite_updateQuadFromSprite:"cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children",
Sprite_insertQuadFromSprite:"cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children",Sprite_addChild_4:"cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children",Sprite_addChild_5:"cc.SpriteBatchNode.addChild(): cc.Sprite is not using the same texture",Sprite_initWithTexture:"Sprite.initWithTexture(): Argument must be non-nil ",Sprite_setSpriteFrame:"Invalid spriteFrameName",Sprite_setTexture_2:"Invalid argument: cc.Sprite.texture setter expects a CCTexture2D.",
Sprite_updateQuadFromSprite_2:"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null",Sprite_insertQuadFromSprite_2:"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null",Sprite_addChild_6:"cc.SpriteBatchNode.addChild(): child should be non-null",SpriteBatchNode_addSpriteWithoutQuad:"cc.SpriteBatchNode.addQuadFromSprite(): SpriteBatchNode only supports cc.Sprites as children",SpriteBatchNode_increaseAtlasCapacity:"cocos2d: CCSpriteBatchNode: resizing TextureAtlas capacity from %s to %s.",
SpriteBatchNode_increaseAtlasCapacity_2:"cocos2d: WARNING: Not enough memory to resize the atlas",SpriteBatchNode_reorderChild:"cc.SpriteBatchNode.addChild(): Child doesn't belong to Sprite",SpriteBatchNode_removeChild:"cc.SpriteBatchNode.addChild(): sprite batch node should contain the child",SpriteBatchNode_addSpriteWithoutQuad_2:"cc.SpriteBatchNode.addQuadFromSprite(): child should be non-null",SpriteBatchNode_reorderChild_2:"cc.SpriteBatchNode.addChild():child should be non-null",spriteFrameCache__getFrameConfig:"cocos2d: WARNING: originalWidth/Height not found on the cc.SpriteFrame. AnchorPoint won't work as expected. Regenrate the .plist",
spriteFrameCache_addSpriteFrames:"cocos2d: WARNING: an alias with name %s already exists",spriteFrameCache__checkConflict:"cocos2d: WARNING: Sprite frame: %s has already been added by another source, please fix name conflit",spriteFrameCache_getSpriteFrame:"cocos2d: cc.SpriteFrameCahce: Frame %s not found",spriteFrameCache__getFrameConfig_2:"Please load the resource first : %s",spriteFrameCache_addSpriteFrames_2:"cc.SpriteFrameCache.addSpriteFrames(): plist should be non-null",spriteFrameCache_addSpriteFrames_3:"Argument must be non-nil",
CCSpriteBatchNode_updateQuadFromSprite:"cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children",CCSpriteBatchNode_insertQuadFromSprite:"cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children",CCSpriteBatchNode_addChild:"cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children",CCSpriteBatchNode_initWithTexture:"Sprite.initWithTexture(): Argument must be non-nil ",CCSpriteBatchNode_addChild_2:"cc.Sprite.addChild(): child should be non-null",
CCSpriteBatchNode_setSpriteFrame:"Invalid spriteFrameName",CCSpriteBatchNode_setTexture:"Invalid argument: cc.Sprite texture setter expects a CCTexture2D.",CCSpriteBatchNode_updateQuadFromSprite_2:"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null",CCSpriteBatchNode_insertQuadFromSprite_2:"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null",CCSpriteBatchNode_addChild_3:"cc.SpriteBatchNode.addChild(): child should be non-null",TextureAtlas_initWithFile:"cocos2d: Could not open file: %s",
TextureAtlas_insertQuad:"cc.TextureAtlas.insertQuad(): invalid totalQuads",TextureAtlas_initWithTexture:"cc.TextureAtlas.initWithTexture():texture should be non-null",TextureAtlas_updateQuad:"cc.TextureAtlas.updateQuad(): quad should be non-null",TextureAtlas_updateQuad_2:"cc.TextureAtlas.updateQuad(): Invalid index",TextureAtlas_insertQuad_2:"cc.TextureAtlas.insertQuad(): Invalid index",TextureAtlas_insertQuads:"cc.TextureAtlas.insertQuad(): Invalid index + amount",TextureAtlas_insertQuadFromIndex:"cc.TextureAtlas.insertQuadFromIndex(): Invalid newIndex",
TextureAtlas_insertQuadFromIndex_2:"cc.TextureAtlas.insertQuadFromIndex(): Invalid fromIndex",TextureAtlas_removeQuadAtIndex:"cc.TextureAtlas.removeQuadAtIndex(): Invalid index",TextureAtlas_removeQuadsAtIndex:"cc.TextureAtlas.removeQuadsAtIndex(): index + amount out of bounds",TextureAtlas_moveQuadsFromIndex:"cc.TextureAtlas.moveQuadsFromIndex(): move is out of bounds",TextureAtlas_moveQuadsFromIndex_2:"cc.TextureAtlas.moveQuadsFromIndex(): Invalid newIndex",TextureAtlas_moveQuadsFromIndex_3:"cc.TextureAtlas.moveQuadsFromIndex(): Invalid oldIndex",
textureCache_addPVRTCImage:"TextureCache:addPVRTCImage does not support on HTML5",textureCache_addETCImage:"TextureCache:addPVRTCImage does not support on HTML5",textureCache_textureForKey:"textureForKey is deprecated. Please use getTextureForKey instead.",textureCache_addPVRImage:"addPVRImage does not support on HTML5",textureCache_addUIImage:"cocos2d: Couldn't add UIImage in TextureCache",textureCache_dumpCachedTextureInfo:"cocos2d: '%s' id=%s %s x %s",textureCache_dumpCachedTextureInfo_2:"cocos2d: '%s' id= HTMLCanvasElement %s x %s",
textureCache_dumpCachedTextureInfo_3:"cocos2d: TextureCache dumpDebugInfo: %s textures, HTMLCanvasElement for %s KB (%s MB)",textureCache_addUIImage_2:"cc.Texture.addUIImage(): image should be non-null",Texture2D_initWithETCFile:"initWithETCFile does not support on HTML5",Texture2D_initWithPVRFile:"initWithPVRFile does not support on HTML5",Texture2D_initWithPVRTCData:"initWithPVRTCData does not support on HTML5",Texture2D_addImage:"cc.Texture.addImage(): path should be non-null",Texture2D_initWithImage:"cocos2d: cc.Texture2D. Can't create Texture. UIImage is nil",
Texture2D_initWithImage_2:"cocos2d: WARNING: Image (%s x %s) is bigger than the supported %s x %s",Texture2D_initWithString:"initWithString isn't supported on cocos2d-html5",Texture2D_initWithETCFile_2:"initWithETCFile does not support on HTML5",Texture2D_initWithPVRFile_2:"initWithPVRFile does not support on HTML5",Texture2D_initWithPVRTCData_2:"initWithPVRTCData does not support on HTML5",Texture2D_bitsPerPixelForFormat:"bitsPerPixelForFormat: %s, cannot give useful result, it's a illegal pixel format",
Texture2D__initPremultipliedATextureWithImage:"cocos2d: cc.Texture2D: Using RGB565 texture since image has no alpha",Texture2D_addImage_2:"cc.Texture.addImage(): path should be non-null",Texture2D_initWithData:"NSInternalInconsistencyException",MissingFile:"Missing file: %s",radiansToDegress:"cc.radiansToDegress() should be called cc.radiansToDegrees()",RectWidth:"Rect width exceeds maximum margin: %s",RectHeight:"Rect height exceeds maximum margin: %s",EventManager__updateListeners:"If program goes here, there should be event in dispatch.",
EventManager__updateListeners_2:"_inDispatch should be 1 here."};
cc._logToWebPage=function $cc$_logToWebPage$($msg$$){if(cc._canvas){var $logDivStyle_logList$$=cc._logList,$doc$$=document;if(!$logDivStyle_logList$$){var $logDiv$$=$doc$$.createElement("Div"),$logDivStyle_logList$$=$logDiv$$.style;$logDiv$$.setAttribute("id","logInfoDiv");cc._canvas.parentNode.appendChild($logDiv$$);$logDiv$$.setAttribute("width","200");$logDiv$$.setAttribute("height",cc._canvas.height);$logDivStyle_logList$$.zIndex="99999";$logDivStyle_logList$$.position="absolute";$logDivStyle_logList$$.top=
"0";$logDivStyle_logList$$.left="0";$logDivStyle_logList$$=cc._logList=$doc$$.createElement("textarea");$doc$$=$logDivStyle_logList$$.style;$logDivStyle_logList$$.setAttribute("rows","20");$logDivStyle_logList$$.setAttribute("cols","30");$logDivStyle_logList$$.setAttribute("disabled",!0);$logDiv$$.appendChild($logDivStyle_logList$$);$doc$$.backgroundColor="transparent";$doc$$.borderBottom="1px solid #cccccc";$doc$$.borderRightWidth="0px";$doc$$.borderLeftWidth="0px";$doc$$.borderTopWidth="0px";$doc$$.borderTopStyle=
"none";$doc$$.borderRightStyle="none";$doc$$.borderLeftStyle="none";$doc$$.padding="0px";$doc$$.margin=0}$logDivStyle_logList$$.value=$logDivStyle_logList$$.value+$msg$$+"\r\n";$logDivStyle_logList$$.scrollTop=$logDivStyle_logList$$.scrollHeight}};cc._formatString=function $cc$_formatString$($arg$$){if(cc.isObject($arg$$))try{return JSON.stringify($arg$$)}catch($err$$){return""}else return $arg$$};
cc._initDebugSetting=function $cc$_initDebugSetting$($mode$$){var $ccGame$$=cc.game;if($mode$$!=$ccGame$$.DEBUG_MODE_NONE){var $locLog$$;$mode$$>$ccGame$$.DEBUG_MODE_ERROR?($locLog$$=cc._logToWebPage.bind(cc),cc.error=function $cc$error$(){$locLog$$("ERROR :  "+cc.formatStr.apply(cc,arguments))},cc.assert=function $cc$assert$($cond$$,$msg$$){if(!$cond$$&&$msg$$){for(var $i$$=2;$i$$<arguments.length;$i$$++)$msg$$=$msg$$.replace(/(%s)|(%d)/,cc._formatString(arguments[$i$$]));$locLog$$("Assert: "+$msg$$)}},
$mode$$!=$ccGame$$.DEBUG_MODE_ERROR_FOR_WEB_PAGE&&(cc.warn=function $cc$warn$(){$locLog$$("WARN :  "+cc.formatStr.apply(cc,arguments))}),$mode$$==$ccGame$$.DEBUG_MODE_INFO_FOR_WEB_PAGE&&(cc.log=function $cc$log$(){$locLog$$(cc.formatStr.apply(cc,arguments))})):console&&(cc.error=function $cc$error$(){return console.error.apply(console,arguments)},cc.assert=function $cc$assert$($cond$$,$msg$$){if(!$cond$$&&$msg$$){for(var $i$$=2;$i$$<arguments.length;$i$$++)$msg$$=$msg$$.replace(/(%s)|(%d)/,cc._formatString(arguments[$i$$]));
throw $msg$$;}},$mode$$!=$ccGame$$.DEBUG_MODE_ERROR&&(cc.warn=function $cc$warn$(){return console.warn.apply(console,arguments)}),$mode$$==$ccGame$$.DEBUG_MODE_INFO&&(cc.log=function $cc$log$(){return console.log.apply(console,arguments)}))}};cc._initDebugSetting(cc.game.config[cc.game.CONFIG_KEY.debugMode]);
cc.HashElement=cc.Class.extend({actions:null,target:null,actionIndex:0,currentAction:null,currentActionSalvaged:!1,paused:!1,hh:null,ctor:function(){this.actions=[];this.target=null;this.actionIndex=0;this.currentAction=null;this.paused=this.currentActionSalvaged=!1;this.hh=null}});
cc.ActionManager=cc.Class.extend({_hashTargets:null,_arrayTargets:null,_currentTarget:null,_currentTargetSalvaged:!1,_searchElementByTarget:function($arr$$,$target$$){for(var $k$$=0;$k$$<$arr$$.length;$k$$++)if($target$$==$arr$$[$k$$].target)return $arr$$[$k$$];return null},ctor:function(){this._hashTargets={};this._arrayTargets=[];this._currentTarget=null;this._currentTargetSalvaged=!1},addAction:function($action$$,$target$$,$paused$$){if(!$action$$)throw"cc.ActionManager.addAction(): action must be non-null";
if(!$target$$)throw"cc.ActionManager.addAction(): action must be non-null";var $element$$=this._hashTargets[$target$$.__instanceId];$element$$||($element$$=new cc.HashElement,$element$$.paused=$paused$$,$element$$.target=$target$$,this._hashTargets[$target$$.__instanceId]=$element$$,this._arrayTargets.push($element$$));this._actionAllocWithHashElement($element$$);$element$$.actions.push($action$$);$action$$.startWithTarget($target$$)},removeAllActions:function(){for(var $locTargets$$=this._arrayTargets,
$i$$=0;$i$$<$locTargets$$.length;$i$$++){var $element$$=$locTargets$$[$i$$];$element$$&&this.removeAllActionsFromTarget($element$$.target,!0)}},removeAllActionsFromTarget:function($target$$,$forceDelete$$){if(null!=$target$$){var $element$$=this._hashTargets[$target$$.__instanceId];$element$$&&(-1===$element$$.actions.indexOf($element$$.currentAction)||$element$$.currentActionSalvaged||($element$$.currentActionSalvaged=!0),$element$$.actions.length=0,this._currentTarget!=$element$$||$forceDelete$$?
this._deleteHashElement($element$$):this._currentTargetSalvaged=!0)}},removeAction:function($action$$){if(null!=$action$$){var $element$$32_target$$=$action$$.getOriginalTarget();if($element$$32_target$$=this._hashTargets[$element$$32_target$$.__instanceId])for(var $i$$=0;$i$$<$element$$32_target$$.actions.length;$i$$++){if($element$$32_target$$.actions[$i$$]==$action$$){$element$$32_target$$.actions.splice($i$$,1);break}}else cc.log(cc._LogInfos.ActionManager_removeAction)}},removeActionByTag:function($tag$$,
$target$$){$tag$$==cc.ACTION_TAG_INVALID&&cc.log(cc._LogInfos.ActionManager_addAction);cc.assert($target$$,cc._LogInfos.ActionManager_addAction);var $element$$=this._hashTargets[$target$$.__instanceId];if($element$$)for(var $limit$$=$element$$.actions.length,$i$$=0;$i$$<$limit$$;++$i$$){var $action$$=$element$$.actions[$i$$];if($action$$&&$action$$.getTag()===$tag$$&&$action$$.getOriginalTarget()==$target$$){this._removeActionAtIndex($i$$,$element$$);break}}},getActionByTag:function($tag$$,$target$$){$tag$$==
cc.ACTION_TAG_INVALID&&cc.log(cc._LogInfos.ActionManager_getActionByTag);var $element$$=this._hashTargets[$target$$.__instanceId];if($element$$){if(null!=$element$$.actions)for(var $i$$=0;$i$$<$element$$.actions.length;++$i$$){var $action$$=$element$$.actions[$i$$];if($action$$&&$action$$.getTag()===$tag$$)return $action$$}cc.log(cc._LogInfos.ActionManager_getActionByTag_2,$tag$$)}return null},numberOfRunningActionsInTarget:function($element$$35_target$$){return($element$$35_target$$=this._hashTargets[$element$$35_target$$.__instanceId])?
$element$$35_target$$.actions?$element$$35_target$$.actions.length:0:0},pauseTarget:function($element$$36_target$$){if($element$$36_target$$=this._hashTargets[$element$$36_target$$.__instanceId])$element$$36_target$$.paused=!0},resumeTarget:function($element$$37_target$$){if($element$$37_target$$=this._hashTargets[$element$$37_target$$.__instanceId])$element$$37_target$$.paused=!1},pauseAllRunningActions:function(){for(var $idsWithActions$$=[],$locTargets$$=this._arrayTargets,$i$$=0;$i$$<$locTargets$$.length;$i$$++){var $element$$=
$locTargets$$[$i$$];$element$$&&!$element$$.paused&&($element$$.paused=!0,$idsWithActions$$.push($element$$.target))}return $idsWithActions$$},resumeTargets:function($targetsToResume$$){if($targetsToResume$$)for(var $i$$=0;$i$$<$targetsToResume$$.length;$i$$++)$targetsToResume$$[$i$$]&&this.resumeTarget($targetsToResume$$[$i$$])},purgeSharedManager:function(){cc.director.getScheduler().unscheduleUpdateForTarget(this)},_removeActionAtIndex:function($index$$,$element$$){$element$$.actions[$index$$]!=
$element$$.currentAction||$element$$.currentActionSalvaged||($element$$.currentActionSalvaged=!0);$element$$.actions.splice($index$$,1);$element$$.actionIndex>=$index$$&&$element$$.actionIndex--;0==$element$$.actions.length&&(this._currentTarget==$element$$?this._currentTargetSalvaged=!0:this._deleteHashElement($element$$))},_deleteHashElement:function($element$$){$element$$&&(delete this._hashTargets[$element$$.target.__instanceId],cc.arrayRemoveObject(this._arrayTargets,$element$$),$element$$.actions=
null,$element$$.target=null)},_actionAllocWithHashElement:function($element$$){null==$element$$.actions&&($element$$.actions=[])},update:function($dt$$){for(var $locTargets$$=this._arrayTargets,$locCurrTarget$$,$elt$$=0;$elt$$<$locTargets$$.length;$elt$$++){$locCurrTarget$$=this._currentTarget=$locTargets$$[$elt$$];if(!$locCurrTarget$$.paused)for($locCurrTarget$$.actionIndex=0;$locCurrTarget$$.actionIndex<$locCurrTarget$$.actions.length;$locCurrTarget$$.actionIndex++)if($locCurrTarget$$.currentAction=
$locCurrTarget$$.actions[$locCurrTarget$$.actionIndex],$locCurrTarget$$.currentAction){$locCurrTarget$$.currentActionSalvaged=!1;$locCurrTarget$$.currentAction.step($dt$$*($locCurrTarget$$.currentAction._speedMethod?$locCurrTarget$$.currentAction._speed:1));if($locCurrTarget$$.currentActionSalvaged)$locCurrTarget$$.currentAction=null;else if($locCurrTarget$$.currentAction.isDone()){$locCurrTarget$$.currentAction.stop();var $action$$=$locCurrTarget$$.currentAction;$locCurrTarget$$.currentAction=null;
this.removeAction($action$$)}$locCurrTarget$$.currentAction=null}this._currentTargetSalvaged&&0===$locCurrTarget$$.actions.length&&this._deleteHashElement($locCurrTarget$$)}}});cc.ACTION_TAG_INVALID=-1;
cc.Action=cc.Class.extend({originalTarget:null,target:null,tag:cc.ACTION_TAG_INVALID,ctor:function(){this.target=this.originalTarget=null;this.tag=cc.ACTION_TAG_INVALID},copy:function(){cc.log("copy is deprecated. Please use clone instead.");return this.clone()},clone:function(){var $action$$=new cc.Action;$action$$.originalTarget=null;$action$$.target=null;$action$$.tag=this.tag;return $action$$},isDone:function(){return!0},startWithTarget:function($target$$){this.target=this.originalTarget=$target$$},
stop:function(){this.target=null},step:function($dt$$){cc.log("[Action step]. override me")},update:function($dt$$){cc.log("[Action update]. override me")},getTarget:function(){return this.target},setTarget:function($target$$){this.target=$target$$},getOriginalTarget:function(){return this.originalTarget},setOriginalTarget:function($originalTarget$$){this.originalTarget=$originalTarget$$},getTag:function(){return this.tag},setTag:function($tag$$){this.tag=$tag$$},retain:function(){},release:function(){}});
cc.action=function $cc$action$(){return new cc.Action};cc.Action.create=cc.action;cc.FiniteTimeAction=cc.Action.extend({_duration:0,ctor:function(){cc.Action.prototype.ctor.call(this);this._duration=0},getDuration:function(){return this._duration*(this._times||1)},setDuration:function($duration$$){this._duration=$duration$$},reverse:function(){cc.log("cocos2d: FiniteTimeAction#reverse: Implement me");return null},clone:function(){return new cc.FiniteTimeAction}});
cc.Speed=cc.Action.extend({_speed:0,_innerAction:null,ctor:function($action$$,$speed$$){cc.Action.prototype.ctor.call(this);this._speed=0;this._innerAction=null;$action$$&&this.initWithAction($action$$,$speed$$)},getSpeed:function(){return this._speed},setSpeed:function($speed$$){this._speed=$speed$$},initWithAction:function($action$$,$speed$$){if(!$action$$)throw"cc.Speed.initWithAction(): action must be non nil";this._innerAction=$action$$;this._speed=$speed$$;return!0},clone:function(){var $action$$=
new cc.Speed;$action$$.initWithAction(this._innerAction.clone(),this._speed);return $action$$},startWithTarget:function($target$$){cc.Action.prototype.startWithTarget.call(this,$target$$);this._innerAction.startWithTarget($target$$)},stop:function(){this._innerAction.stop();cc.Action.prototype.stop.call(this)},step:function($dt$$){this._innerAction.step($dt$$*this._speed)},isDone:function(){return this._innerAction.isDone()},reverse:function(){return new cc.Speed(this._innerAction.reverse(),this._speed)},
setInnerAction:function($action$$){this._innerAction!=$action$$&&(this._innerAction=$action$$)},getInnerAction:function(){return this._innerAction}});cc.speed=function $cc$speed$($action$$,$speed$$){return new cc.Speed($action$$,$speed$$)};cc.Speed.create=cc.speed;
cc.Follow=cc.Action.extend({_followedNode:null,_boundarySet:!1,_boundaryFullyCovered:!1,_halfScreenSize:null,_fullScreenSize:null,_worldRect:null,leftBoundary:0,rightBoundary:0,topBoundary:0,bottomBoundary:0,ctor:function($followedNode$$,$rect$$){cc.Action.prototype.ctor.call(this);this._followedNode=null;this._boundaryFullyCovered=this._boundarySet=!1;this._fullScreenSize=this._halfScreenSize=null;this.bottomBoundary=this.topBoundary=this.rightBoundary=this.leftBoundary=0;this._worldRect=cc.rect(0,
0,0,0);$followedNode$$&&($rect$$?this.initWithTarget($followedNode$$,$rect$$):this.initWithTarget($followedNode$$))},clone:function(){var $action$$=new cc.Follow,$locRect$$10_rect$$=this._worldRect,$locRect$$10_rect$$=new cc.Rect($locRect$$10_rect$$.x,$locRect$$10_rect$$.y,$locRect$$10_rect$$.width,$locRect$$10_rect$$.height);$action$$.initWithTarget(this._followedNode,$locRect$$10_rect$$);return $action$$},isBoundarySet:function(){return this._boundarySet},setBoudarySet:function($value$$){this._boundarySet=
$value$$},initWithTarget:function($followedNode$$,$rect$$){if(!$followedNode$$)throw"cc.Follow.initWithAction(): followedNode must be non nil";$rect$$=$rect$$||cc.rect(0,0,0,0);this._followedNode=$followedNode$$;this._worldRect=$rect$$;this._boundarySet=!cc._rectEqualToZero($rect$$);this._boundaryFullyCovered=!1;var $winSize$$=cc.director.getWinSize();this._fullScreenSize=cc.p($winSize$$.width,$winSize$$.height);this._halfScreenSize=cc.pMult(this._fullScreenSize,.5);this._boundarySet&&(this.leftBoundary=
-($rect$$.x+$rect$$.width-this._fullScreenSize.x),this.rightBoundary=-$rect$$.x,this.topBoundary=-$rect$$.y,this.bottomBoundary=-($rect$$.y+$rect$$.height-this._fullScreenSize.y),this.rightBoundary<this.leftBoundary&&(this.rightBoundary=this.leftBoundary=(this.leftBoundary+this.rightBoundary)/2),this.topBoundary<this.bottomBoundary&&(this.topBoundary=this.bottomBoundary=(this.topBoundary+this.bottomBoundary)/2),this.topBoundary==this.bottomBoundary&&this.leftBoundary==this.rightBoundary&&(this._boundaryFullyCovered=
!0));return!0},step:function($dt$$){$dt$$=this._followedNode.x;var $tempPosY$$=this._followedNode.y;$dt$$=this._halfScreenSize.x-$dt$$;$tempPosY$$=this._halfScreenSize.y-$tempPosY$$;this._boundarySet?this._boundaryFullyCovered||this.target.setPosition(cc.clampf($dt$$,this.leftBoundary,this.rightBoundary),cc.clampf($tempPosY$$,this.bottomBoundary,this.topBoundary)):this.target.setPosition($dt$$,$tempPosY$$)},isDone:function(){return!this._followedNode.running},stop:function(){this.target=null;cc.Action.prototype.stop.call(this)}});
cc.follow=function $cc$follow$($followedNode$$,$rect$$){return new cc.Follow($followedNode$$,$rect$$)};cc.Follow.create=cc.follow;
cc.ActionInterval=cc.FiniteTimeAction.extend({_elapsed:0,_firstTick:!1,_easeList:null,_times:1,_repeatForever:!1,_repeatMethod:!1,_speed:1,_speedMethod:!1,ctor:function($d$$){this._times=this._speed=1;this._repeatForever=!1;this.MAX_VALUE=2;this._speedMethod=this._repeatMethod=!1;cc.FiniteTimeAction.prototype.ctor.call(this);void 0!==$d$$&&this.initWithDuration($d$$)},getElapsed:function(){return this._elapsed},initWithDuration:function($d$$){this._duration=0===$d$$?cc.FLT_EPSILON:$d$$;this._elapsed=
0;return this._firstTick=!0},isDone:function(){return this._elapsed>=this._duration},_cloneDecoration:function($action$$){$action$$._repeatForever=this._repeatForever;$action$$._speed=this._speed;$action$$._times=this._times;$action$$._easeList=this._easeList;$action$$._speedMethod=this._speedMethod;$action$$._repeatMethod=this._repeatMethod},_reverseEaseList:function($action$$){if(this._easeList){$action$$._easeList=[];for(var $i$$=0;$i$$<this._easeList.length;$i$$++)$action$$._easeList.push(this._easeList[$i$$].reverse())}},
clone:function(){var $action$$=new cc.ActionInterval(this._duration);this._cloneDecoration($action$$);return $action$$},easing:function($easeObj$$){this._easeList?this._easeList.length=0:this._easeList=[];for(var $i$$=0;$i$$<arguments.length;$i$$++)this._easeList.push(arguments[$i$$]);return this},_computeEaseTime:function($dt$$){var $locList$$=this._easeList;if(!$locList$$||0===$locList$$.length)return $dt$$;for(var $i$$=0,$n$$=$locList$$.length;$i$$<$n$$;$i$$++)$dt$$=$locList$$[$i$$].easing($dt$$);
return $dt$$},step:function($dt$$12_t$$){this._firstTick?(this._firstTick=!1,this._elapsed=0):this._elapsed+=$dt$$12_t$$;$dt$$12_t$$=this._elapsed/(1.192092896E-7<this._duration?this._duration:1.192092896E-7);$dt$$12_t$$=1>$dt$$12_t$$?$dt$$12_t$$:1;this.update(0<$dt$$12_t$$?$dt$$12_t$$:0);this._repeatMethod&&1<this._times&&this.isDone()&&(this._repeatForever||this._times--,this.startWithTarget(this.target),this.step(this._elapsed-this._duration))},startWithTarget:function($target$$){cc.Action.prototype.startWithTarget.call(this,
$target$$);this._elapsed=0;this._firstTick=!0},reverse:function(){cc.log("cc.IntervalAction: reverse not implemented.");return null},setAmplitudeRate:function($amp$$){cc.log("cc.ActionInterval.setAmplitudeRate(): it should be overridden in subclass.")},getAmplitudeRate:function(){cc.log("cc.ActionInterval.getAmplitudeRate(): it should be overridden in subclass.");return 0},speed:function($speed$$){if(0>=$speed$$)return cc.log("The speed parameter error"),this;this._speedMethod=!0;this._speed*=$speed$$;
return this},getSpeed:function(){return this._speed},setSpeed:function($speed$$){this._speed=$speed$$;return this},repeat:function($times$$){$times$$=Math.round($times$$);if(isNaN($times$$)||1>$times$$)return cc.log("The repeat parameter error"),this;this._repeatMethod=!0;this._times*=$times$$;return this},repeatForever:function(){this._repeatMethod=!0;this._times=this.MAX_VALUE;this._repeatForever=!0;return this}});cc.actionInterval=function $cc$actionInterval$($d$$){return new cc.ActionInterval($d$$)};
cc.ActionInterval.create=cc.actionInterval;
cc.Sequence=cc.ActionInterval.extend({_actions:null,_split:null,_last:0,ctor:function($tempArray$$){cc.ActionInterval.prototype.ctor.call(this);this._actions=[];var $paramArray$$=$tempArray$$ instanceof Array?$tempArray$$:arguments,$last$$=$paramArray$$.length-1;0<=$last$$&&null==$paramArray$$[$last$$]&&cc.log("parameters should not be ending with null in Javascript");if(0<=$last$$){for(var $action1_prev$$=$paramArray$$[0],$i$$=1;$i$$<$last$$;$i$$++)$paramArray$$[$i$$]&&($action1_prev$$=cc.Sequence._actionOneTwo($action1_prev$$,
$paramArray$$[$i$$]));this.initWithTwoActions($action1_prev$$,$paramArray$$[$last$$])}},initWithTwoActions:function($actionOne$$,$actionTwo$$){if(!$actionOne$$||!$actionTwo$$)throw"cc.Sequence.initWithTwoActions(): arguments must all be non nil";this.initWithDuration($actionOne$$._duration+$actionTwo$$._duration);this._actions[0]=$actionOne$$;this._actions[1]=$actionTwo$$;return!0},clone:function(){var $action$$=new cc.Sequence;this._cloneDecoration($action$$);$action$$.initWithTwoActions(this._actions[0].clone(),
this._actions[1].clone());return $action$$},startWithTarget:function($target$$){cc.ActionInterval.prototype.startWithTarget.call(this,$target$$);this._split=this._actions[0]._duration/this._duration;this._last=-1},stop:function(){-1!==this._last&&this._actions[this._last].stop();cc.Action.prototype.stop.call(this)},update:function($dt$$){$dt$$=this._computeEaseTime($dt$$);var $found$$=0,$locSplit$$=this._split,$locActions$$=this._actions,$locLast$$=this._last;$dt$$<$locSplit$$?($dt$$=0!==$locSplit$$?
$dt$$/$locSplit$$:1,0===$found$$&&1===$locLast$$&&($locActions$$[1].update(0),$locActions$$[1].stop())):($found$$=1,$dt$$=1===$locSplit$$?1:($dt$$-$locSplit$$)/(1-$locSplit$$),-1===$locLast$$&&($locActions$$[0].startWithTarget(this.target),$locActions$$[0].update(1),$locActions$$[0].stop()),$locLast$$||($locActions$$[0].update(1),$locActions$$[0].stop()));$locLast$$===$found$$&&$locActions$$[$found$$].isDone()||($locLast$$!==$found$$&&$locActions$$[$found$$].startWithTarget(this.target),$locActions$$[$found$$].update($dt$$),
this._last=$found$$)},reverse:function(){var $action$$=cc.Sequence._actionOneTwo(this._actions[1].reverse(),this._actions[0].reverse());this._cloneDecoration($action$$);this._reverseEaseList($action$$);return $action$$}});
cc.sequence=function $cc$sequence$($tempArray$$){var $paramArray$$=$tempArray$$ instanceof Array?$tempArray$$:arguments;0<$paramArray$$.length&&null==$paramArray$$[$paramArray$$.length-1]&&cc.log("parameters should not be ending with null in Javascript");for(var $prev$$=$paramArray$$[0],$i$$=1;$i$$<$paramArray$$.length;$i$$++)$paramArray$$[$i$$]&&($prev$$=cc.Sequence._actionOneTwo($prev$$,$paramArray$$[$i$$]));return $prev$$};cc.Sequence.create=cc.sequence;
cc.Sequence._actionOneTwo=function $cc$Sequence$_actionOneTwo$($actionOne$$,$actionTwo$$){var $sequence$$=new cc.Sequence;$sequence$$.initWithTwoActions($actionOne$$,$actionTwo$$);return $sequence$$};
cc.Repeat=cc.ActionInterval.extend({_times:0,_total:0,_nextDt:0,_actionInstant:!1,_innerAction:null,ctor:function($action$$,$times$$){cc.ActionInterval.prototype.ctor.call(this);void 0!==$times$$&&this.initWithAction($action$$,$times$$)},initWithAction:function($action$$,$times$$){return this.initWithDuration($action$$._duration*$times$$)?(this._times=$times$$,this._innerAction=$action$$,$action$$ instanceof cc.ActionInstant&&(this._actionInstant=!0,--this._times),this._total=0,!0):!1},clone:function(){var $action$$=
new cc.Repeat;this._cloneDecoration($action$$);$action$$.initWithAction(this._innerAction.clone(),this._times);return $action$$},startWithTarget:function($target$$){this._total=0;this._nextDt=this._innerAction._duration/this._duration;cc.ActionInterval.prototype.startWithTarget.call(this,$target$$);this._innerAction.startWithTarget($target$$)},stop:function(){this._innerAction.stop();cc.Action.prototype.stop.call(this)},update:function($dt$$){$dt$$=this._computeEaseTime($dt$$);var $locInnerAction$$=
this._innerAction,$locDuration$$=this._duration,$locTimes$$=this._times,$locNextDt$$=this._nextDt;if($dt$$>=$locNextDt$$){for(;$dt$$>$locNextDt$$&&this._total<$locTimes$$;)$locInnerAction$$.update(1),this._total++,$locInnerAction$$.stop(),$locInnerAction$$.startWithTarget(this.target),this._nextDt=$locNextDt$$+=$locInnerAction$$._duration/$locDuration$$;1<=$dt$$&&this._total<$locTimes$$&&this._total++;this._actionInstant||(this._total===$locTimes$$?($locInnerAction$$.update(1),$locInnerAction$$.stop()):
$locInnerAction$$.update($dt$$-($locNextDt$$-$locInnerAction$$._duration/$locDuration$$)))}else $locInnerAction$$.update($dt$$*$locTimes$$%1)},isDone:function(){return this._total==this._times},reverse:function(){var $action$$=new cc.Repeat(this._innerAction.reverse(),this._times);this._cloneDecoration($action$$);this._reverseEaseList($action$$);return $action$$},setInnerAction:function($action$$){this._innerAction!=$action$$&&(this._innerAction=$action$$)},getInnerAction:function(){return this._innerAction}});
cc.repeat=function $cc$repeat$($action$$,$times$$){return new cc.Repeat($action$$,$times$$)};cc.Repeat.create=cc.repeat;
cc.RepeatForever=cc.ActionInterval.extend({_innerAction:null,ctor:function($action$$){cc.ActionInterval.prototype.ctor.call(this);this._innerAction=null;$action$$&&this.initWithAction($action$$)},initWithAction:function($action$$){if(!$action$$)throw"cc.RepeatForever.initWithAction(): action must be non null";this._innerAction=$action$$;return!0},clone:function(){var $action$$=new cc.RepeatForever;this._cloneDecoration($action$$);$action$$.initWithAction(this._innerAction.clone());return $action$$},
startWithTarget:function($target$$){cc.ActionInterval.prototype.startWithTarget.call(this,$target$$);this._innerAction.startWithTarget($target$$)},step:function($dt$$){var $locInnerAction$$=this._innerAction;$locInnerAction$$.step($dt$$);$locInnerAction$$.isDone()&&($locInnerAction$$.startWithTarget(this.target),$locInnerAction$$.step($locInnerAction$$.getElapsed()-$locInnerAction$$._duration))},isDone:function(){return!1},reverse:function(){var $action$$=new cc.RepeatForever(this._innerAction.reverse());
this._cloneDecoration($action$$);this._reverseEaseList($action$$);return $action$$},setInnerAction:function($action$$){this._innerAction!=$action$$&&(this._innerAction=$action$$)},getInnerAction:function(){return this._innerAction}});cc.repeatForever=function $cc$repeatForever$($action$$){return new cc.RepeatForever($action$$)};cc.RepeatForever.create=cc.repeatForever;
cc.Spawn=cc.ActionInterval.extend({_one:null,_two:null,ctor:function($tempArray$$){cc.ActionInterval.prototype.ctor.call(this);this._two=this._one=null;var $paramArray$$=$tempArray$$ instanceof Array?$tempArray$$:arguments,$last$$=$paramArray$$.length-1;0<=$last$$&&null==$paramArray$$[$last$$]&&cc.log("parameters should not be ending with null in Javascript");if(0<=$last$$){for(var $action1$$1_prev$$=$paramArray$$[0],$i$$=1;$i$$<$last$$;$i$$++)$paramArray$$[$i$$]&&($action1$$1_prev$$=cc.Spawn._actionOneTwo($action1$$1_prev$$,
$paramArray$$[$i$$]));this.initWithTwoActions($action1$$1_prev$$,$paramArray$$[$last$$])}},initWithTwoActions:function($action1$$,$action2$$){if(!$action1$$||!$action2$$)throw"cc.Spawn.initWithTwoActions(): arguments must all be non null";var $ret$$=!1,$d1$$=$action1$$._duration,$d2$$=$action2$$._duration;this.initWithDuration(Math.max($d1$$,$d2$$))&&(this._one=$action1$$,this._two=$action2$$,$d1$$>$d2$$?this._two=cc.Sequence._actionOneTwo($action2$$,cc.delayTime($d1$$-$d2$$)):$d1$$<$d2$$&&(this._one=
cc.Sequence._actionOneTwo($action1$$,cc.delayTime($d2$$-$d1$$))),$ret$$=!0);return $ret$$},clone:function(){var $action$$=new cc.Spawn;this._cloneDecoration($action$$);$action$$.initWithTwoActions(this._one.clone(),this._two.clone());return $action$$},startWithTarget:function($target$$){cc.ActionInterval.prototype.startWithTarget.call(this,$target$$);this._one.startWithTarget($target$$);this._two.startWithTarget($target$$)},stop:function(){this._one.stop();this._two.stop();cc.Action.prototype.stop.call(this)},
update:function($dt$$){$dt$$=this._computeEaseTime($dt$$);this._one&&this._one.update($dt$$);this._two&&this._two.update($dt$$)},reverse:function(){var $action$$=cc.Spawn._actionOneTwo(this._one.reverse(),this._two.reverse());this._cloneDecoration($action$$);this._reverseEaseList($action$$);return $action$$}});
cc.spawn=function $cc$spawn$($tempArray$$){var $paramArray$$=$tempArray$$ instanceof Array?$tempArray$$:arguments;0<$paramArray$$.length&&null==$paramArray$$[$paramArray$$.length-1]&&cc.log("parameters should not be ending with null in Javascript");for(var $prev$$=$paramArray$$[0],$i$$=1;$i$$<$paramArray$$.length;$i$$++)null!=$paramArray$$[$i$$]&&($prev$$=cc.Spawn._actionOneTwo($prev$$,$paramArray$$[$i$$]));return $prev$$};cc.Spawn.create=cc.spawn;
cc.Spawn._actionOneTwo=function $cc$Spawn$_actionOneTwo$($action1$$,$action2$$){var $pSpawn$$=new cc.Spawn;$pSpawn$$.initWithTwoActions($action1$$,$action2$$);return $pSpawn$$};
cc.RotateTo=cc.ActionInterval.extend({_dstAngleX:0,_startAngleX:0,_diffAngleX:0,_dstAngleY:0,_startAngleY:0,_diffAngleY:0,ctor:function($duration$$,$deltaAngleX$$,$deltaAngleY$$){cc.ActionInterval.prototype.ctor.call(this);void 0!==$deltaAngleX$$&&this.initWithDuration($duration$$,$deltaAngleX$$,$deltaAngleY$$)},initWithDuration:function($duration$$,$deltaAngleX$$,$deltaAngleY$$){return cc.ActionInterval.prototype.initWithDuration.call(this,$duration$$)?(this._dstAngleX=$deltaAngleX$$||0,this._dstAngleY=
$deltaAngleY$$||this._dstAngleX,!0):!1},clone:function(){var $action$$=new cc.RotateTo;this._cloneDecoration($action$$);$action$$.initWithDuration(this._duration,this._dstAngleX,this._dstAngleY);return $action$$},startWithTarget:function($locDiffAngleY_target$$){cc.ActionInterval.prototype.startWithTarget.call(this,$locDiffAngleY_target$$);var $locStartAngleX$$=$locDiffAngleY_target$$.rotationX%360,$locDiffAngleX$$=this._dstAngleX-$locStartAngleX$$;180<$locDiffAngleX$$&&($locDiffAngleX$$-=360);-180>
$locDiffAngleX$$&&($locDiffAngleX$$+=360);this._startAngleX=$locStartAngleX$$;this._diffAngleX=$locDiffAngleX$$;this._startAngleY=$locDiffAngleY_target$$.rotationY%360;$locDiffAngleY_target$$=this._dstAngleY-this._startAngleY;180<$locDiffAngleY_target$$&&($locDiffAngleY_target$$-=360);-180>$locDiffAngleY_target$$&&($locDiffAngleY_target$$+=360);this._diffAngleY=$locDiffAngleY_target$$},reverse:function(){cc.log("cc.RotateTo.reverse(): it should be overridden in subclass.")},update:function($dt$$){$dt$$=
this._computeEaseTime($dt$$);this.target&&(this.target.rotationX=this._startAngleX+this._diffAngleX*$dt$$,this.target.rotationY=this._startAngleY+this._diffAngleY*$dt$$)}});cc.rotateTo=function $cc$rotateTo$($duration$$,$deltaAngleX$$,$deltaAngleY$$){return new cc.RotateTo($duration$$,$deltaAngleX$$,$deltaAngleY$$)};cc.RotateTo.create=cc.rotateTo;
cc.RotateBy=cc.ActionInterval.extend({_angleX:0,_startAngleX:0,_angleY:0,_startAngleY:0,ctor:function($duration$$,$deltaAngleX$$,$deltaAngleY$$){cc.ActionInterval.prototype.ctor.call(this);void 0!==$deltaAngleX$$&&this.initWithDuration($duration$$,$deltaAngleX$$,$deltaAngleY$$)},initWithDuration:function($duration$$,$deltaAngleX$$,$deltaAngleY$$){return cc.ActionInterval.prototype.initWithDuration.call(this,$duration$$)?(this._angleX=$deltaAngleX$$||0,this._angleY=$deltaAngleY$$||this._angleX,!0):
!1},clone:function(){var $action$$=new cc.RotateBy;this._cloneDecoration($action$$);$action$$.initWithDuration(this._duration,this._angleX,this._angleY);return $action$$},startWithTarget:function($target$$){cc.ActionInterval.prototype.startWithTarget.call(this,$target$$);this._startAngleX=$target$$.rotationX;this._startAngleY=$target$$.rotationY},update:function($dt$$){$dt$$=this._computeEaseTime($dt$$);this.target&&(this.target.rotationX=this._startAngleX+this._angleX*$dt$$,this.target.rotationY=
this._startAngleY+this._angleY*$dt$$)},reverse:function(){var $action$$=new cc.RotateBy(this._duration,-this._angleX,-this._angleY);this._cloneDecoration($action$$);this._reverseEaseList($action$$);return $action$$}});cc.rotateBy=function $cc$rotateBy$($duration$$,$deltaAngleX$$,$deltaAngleY$$){return new cc.RotateBy($duration$$,$deltaAngleX$$,$deltaAngleY$$)};cc.RotateBy.create=cc.rotateBy;
cc.MoveBy=cc.ActionInterval.extend({_positionDelta:null,_startPosition:null,_previousPosition:null,ctor:function($duration$$,$deltaPos$$,$deltaY$$){cc.ActionInterval.prototype.ctor.call(this);this._positionDelta=cc.p(0,0);this._startPosition=cc.p(0,0);this._previousPosition=cc.p(0,0);void 0!==$deltaPos$$&&this.initWithDuration($duration$$,$deltaPos$$,$deltaY$$)},initWithDuration:function($duration$$,$position$$,$y$$){return cc.ActionInterval.prototype.initWithDuration.call(this,$duration$$)?(void 0!==
$position$$.x&&($y$$=$position$$.y,$position$$=$position$$.x),this._positionDelta.x=$position$$,this._positionDelta.y=$y$$,!0):!1},clone:function(){var $action$$=new cc.MoveBy;this._cloneDecoration($action$$);$action$$.initWithDuration(this._duration,this._positionDelta);return $action$$},startWithTarget:function($locPosY_target$$){cc.ActionInterval.prototype.startWithTarget.call(this,$locPosY_target$$);var $locPosX$$=$locPosY_target$$.getPositionX();$locPosY_target$$=$locPosY_target$$.getPositionY();
this._previousPosition.x=$locPosX$$;this._previousPosition.y=$locPosY_target$$;this._startPosition.x=$locPosX$$;this._startPosition.y=$locPosY_target$$},update:function($dt$$19_y$$){$dt$$19_y$$=this._computeEaseTime($dt$$19_y$$);if(this.target){var $x$$=this._positionDelta.x*$dt$$19_y$$;$dt$$19_y$$*=this._positionDelta.y;var $locStartPosition$$=this._startPosition;if(cc.ENABLE_STACKABLE_ACTIONS){var $targetX$$=this.target.getPositionX(),$targetY$$=this.target.getPositionY(),$locPreviousPosition$$=
this._previousPosition;$locStartPosition$$.x=$locStartPosition$$.x+$targetX$$-$locPreviousPosition$$.x;$locStartPosition$$.y=$locStartPosition$$.y+$targetY$$-$locPreviousPosition$$.y;$x$$+=$locStartPosition$$.x;$dt$$19_y$$+=$locStartPosition$$.y;$locPreviousPosition$$.x=$x$$;$locPreviousPosition$$.y=$dt$$19_y$$;this.target.setPosition($x$$,$dt$$19_y$$)}else this.target.setPosition($locStartPosition$$.x+$x$$,$locStartPosition$$.y+$dt$$19_y$$)}},reverse:function(){var $action$$=new cc.MoveBy(this._duration,
cc.p(-this._positionDelta.x,-this._positionDelta.y));this._cloneDecoration($action$$);this._reverseEaseList($action$$);return $action$$}});cc.moveBy=function $cc$moveBy$($duration$$,$deltaPos$$,$deltaY$$){return new cc.MoveBy($duration$$,$deltaPos$$,$deltaY$$)};cc.MoveBy.create=cc.moveBy;
cc.MoveTo=cc.MoveBy.extend({_endPosition:null,ctor:function($duration$$,$position$$,$y$$){cc.MoveBy.prototype.ctor.call(this);this._endPosition=cc.p(0,0);void 0!==$position$$&&this.initWithDuration($duration$$,$position$$,$y$$)},initWithDuration:function($duration$$,$position$$,$y$$){return cc.MoveBy.prototype.initWithDuration.call(this,$duration$$,$position$$,$y$$)?(void 0!==$position$$.x&&($y$$=$position$$.y,$position$$=$position$$.x),this._endPosition.x=$position$$,this._endPosition.y=$y$$,!0):
!1},clone:function(){var $action$$=new cc.MoveTo;this._cloneDecoration($action$$);$action$$.initWithDuration(this._duration,this._endPosition);return $action$$},startWithTarget:function($target$$){cc.MoveBy.prototype.startWithTarget.call(this,$target$$);this._positionDelta.x=this._endPosition.x-$target$$.getPositionX();this._positionDelta.y=this._endPosition.y-$target$$.getPositionY()}});cc.moveTo=function $cc$moveTo$($duration$$,$position$$,$y$$){return new cc.MoveTo($duration$$,$position$$,$y$$)};
cc.MoveTo.create=cc.moveTo;
cc.SkewTo=cc.ActionInterval.extend({_skewX:0,_skewY:0,_startSkewX:0,_startSkewY:0,_endSkewX:0,_endSkewY:0,_deltaX:0,_deltaY:0,ctor:function($t$$,$sx$$,$sy$$){cc.ActionInterval.prototype.ctor.call(this);void 0!==$sy$$&&this.initWithDuration($t$$,$sx$$,$sy$$)},initWithDuration:function($t$$,$sx$$,$sy$$){var $ret$$=!1;cc.ActionInterval.prototype.initWithDuration.call(this,$t$$)&&(this._endSkewX=$sx$$,this._endSkewY=$sy$$,$ret$$=!0);return $ret$$},clone:function(){var $action$$=new cc.SkewTo;this._cloneDecoration($action$$);
$action$$.initWithDuration(this._duration,this._endSkewX,this._endSkewY);return $action$$},startWithTarget:function($target$$){cc.ActionInterval.prototype.startWithTarget.call(this,$target$$);this._startSkewX=$target$$.skewX%180;this._deltaX=this._endSkewX-this._startSkewX;180<this._deltaX&&(this._deltaX-=360);-180>this._deltaX&&(this._deltaX+=360);this._startSkewY=$target$$.skewY%360;this._deltaY=this._endSkewY-this._startSkewY;180<this._deltaY&&(this._deltaY-=360);-180>this._deltaY&&(this._deltaY+=
360)},update:function($dt$$){$dt$$=this._computeEaseTime($dt$$);this.target.skewX=this._startSkewX+this._deltaX*$dt$$;this.target.skewY=this._startSkewY+this._deltaY*$dt$$}});cc.skewTo=function $cc$skewTo$($t$$,$sx$$,$sy$$){return new cc.SkewTo($t$$,$sx$$,$sy$$)};cc.SkewTo.create=cc.skewTo;
cc.SkewBy=cc.SkewTo.extend({ctor:function($t$$,$sx$$,$sy$$){cc.SkewTo.prototype.ctor.call(this);void 0!==$sy$$&&this.initWithDuration($t$$,$sx$$,$sy$$)},initWithDuration:function($t$$,$deltaSkewX$$,$deltaSkewY$$){var $ret$$=!1;cc.SkewTo.prototype.initWithDuration.call(this,$t$$,$deltaSkewX$$,$deltaSkewY$$)&&(this._skewX=$deltaSkewX$$,this._skewY=$deltaSkewY$$,$ret$$=!0);return $ret$$},clone:function(){var $action$$=new cc.SkewBy;this._cloneDecoration($action$$);$action$$.initWithDuration(this._duration,
this._skewX,this._skewY);return $action$$},startWithTarget:function($target$$){cc.SkewTo.prototype.startWithTarget.call(this,$target$$);this._deltaX=this._skewX;this._deltaY=this._skewY;this._endSkewX=this._startSkewX+this._deltaX;this._endSkewY=this._startSkewY+this._deltaY},reverse:function(){var $action$$=new cc.SkewBy(this._duration,-this._skewX,-this._skewY);this._cloneDecoration($action$$);this._reverseEaseList($action$$);return $action$$}});
cc.skewBy=function $cc$skewBy$($t$$,$sx$$,$sy$$){return new cc.SkewBy($t$$,$sx$$,$sy$$)};cc.SkewBy.create=cc.skewBy;
cc.JumpBy=cc.ActionInterval.extend({_startPosition:null,_delta:null,_height:0,_jumps:0,_previousPosition:null,ctor:function($duration$$,$position$$,$y$$,$height$$,$jumps$$){cc.ActionInterval.prototype.ctor.call(this);this._startPosition=cc.p(0,0);this._previousPosition=cc.p(0,0);this._delta=cc.p(0,0);void 0!==$height$$&&this.initWithDuration($duration$$,$position$$,$y$$,$height$$,$jumps$$)},initWithDuration:function($duration$$,$position$$,$y$$,$height$$,$jumps$$){return cc.ActionInterval.prototype.initWithDuration.call(this,
$duration$$)?(void 0===$jumps$$&&($jumps$$=$height$$,$height$$=$y$$,$y$$=$position$$.y,$position$$=$position$$.x),this._delta.x=$position$$,this._delta.y=$y$$,this._height=$height$$,this._jumps=$jumps$$,!0):!1},clone:function(){var $action$$=new cc.JumpBy;this._cloneDecoration($action$$);$action$$.initWithDuration(this._duration,this._delta,this._height,this._jumps);return $action$$},startWithTarget:function($locPosY$$1_target$$){cc.ActionInterval.prototype.startWithTarget.call(this,$locPosY$$1_target$$);
var $locPosX$$=$locPosY$$1_target$$.getPositionX();$locPosY$$1_target$$=$locPosY$$1_target$$.getPositionY();this._previousPosition.x=$locPosX$$;this._previousPosition.y=$locPosY$$1_target$$;this._startPosition.x=$locPosX$$;this._startPosition.y=$locPosY$$1_target$$},update:function($dt$$21_x$$){$dt$$21_x$$=this._computeEaseTime($dt$$21_x$$);if(this.target){var $frac_y$$=$dt$$21_x$$*this._jumps%1,$frac_y$$=4*this._height*$frac_y$$*(1-$frac_y$$),$frac_y$$=$frac_y$$+this._delta.y*$dt$$21_x$$;$dt$$21_x$$*=
this._delta.x;var $locStartPosition$$=this._startPosition;if(cc.ENABLE_STACKABLE_ACTIONS){var $targetX$$=this.target.getPositionX(),$targetY$$=this.target.getPositionY(),$locPreviousPosition$$=this._previousPosition;$locStartPosition$$.x=$locStartPosition$$.x+$targetX$$-$locPreviousPosition$$.x;$locStartPosition$$.y=$locStartPosition$$.y+$targetY$$-$locPreviousPosition$$.y;$dt$$21_x$$+=$locStartPosition$$.x;$frac_y$$+=$locStartPosition$$.y;$locPreviousPosition$$.x=$dt$$21_x$$;$locPreviousPosition$$.y=
$frac_y$$;this.target.setPosition($dt$$21_x$$,$frac_y$$)}else this.target.setPosition($locStartPosition$$.x+$dt$$21_x$$,$locStartPosition$$.y+$frac_y$$)}},reverse:function(){var $action$$=new cc.JumpBy(this._duration,cc.p(-this._delta.x,-this._delta.y),this._height,this._jumps);this._cloneDecoration($action$$);this._reverseEaseList($action$$);return $action$$}});
cc.jumpBy=function $cc$jumpBy$($duration$$,$position$$,$y$$,$height$$,$jumps$$){return new cc.JumpBy($duration$$,$position$$,$y$$,$height$$,$jumps$$)};cc.JumpBy.create=cc.jumpBy;
cc.JumpTo=cc.JumpBy.extend({_endPosition:null,ctor:function($duration$$,$position$$,$y$$,$height$$,$jumps$$){cc.JumpBy.prototype.ctor.call(this);this._endPosition=cc.p(0,0);void 0!==$height$$&&this.initWithDuration($duration$$,$position$$,$y$$,$height$$,$jumps$$)},initWithDuration:function($duration$$,$position$$,$y$$,$height$$,$jumps$$){return cc.JumpBy.prototype.initWithDuration.call(this,$duration$$,$position$$,$y$$,$height$$,$jumps$$)?(void 0===$jumps$$&&($y$$=$position$$.y,$position$$=$position$$.x),
this._endPosition.x=$position$$,this._endPosition.y=$y$$,!0):!1},startWithTarget:function($target$$){cc.JumpBy.prototype.startWithTarget.call(this,$target$$);this._delta.x=this._endPosition.x-this._startPosition.x;this._delta.y=this._endPosition.y-this._startPosition.y},clone:function(){var $action$$=new cc.JumpTo;this._cloneDecoration($action$$);$action$$.initWithDuration(this._duration,this._endPosition,this._height,this._jumps);return $action$$}});
cc.jumpTo=function $cc$jumpTo$($duration$$,$position$$,$y$$,$height$$,$jumps$$){return new cc.JumpTo($duration$$,$position$$,$y$$,$height$$,$jumps$$)};cc.JumpTo.create=cc.jumpTo;cc.bezierAt=function $cc$bezierAt$($a$$,$b$$,$c$$,$d$$,$t$$){return Math.pow(1-$t$$,3)*$a$$+3*$t$$*Math.pow(1-$t$$,2)*$b$$+3*Math.pow($t$$,2)*(1-$t$$)*$c$$+Math.pow($t$$,3)*$d$$};
cc.BezierBy=cc.ActionInterval.extend({_config:null,_startPosition:null,_previousPosition:null,ctor:function($t$$,$c$$){cc.ActionInterval.prototype.ctor.call(this);this._config=[];this._startPosition=cc.p(0,0);this._previousPosition=cc.p(0,0);$c$$&&this.initWithDuration($t$$,$c$$)},initWithDuration:function($t$$,$c$$){return cc.ActionInterval.prototype.initWithDuration.call(this,$t$$)?(this._config=$c$$,!0):!1},clone:function(){var $action$$=new cc.BezierBy;this._cloneDecoration($action$$);for(var $newConfigs$$=
[],$i$$=0;$i$$<this._config.length;$i$$++){var $selConf$$=this._config[$i$$];$newConfigs$$.push(cc.p($selConf$$.x,$selConf$$.y))}$action$$.initWithDuration(this._duration,$newConfigs$$);return $action$$},startWithTarget:function($locPosY$$2_target$$){cc.ActionInterval.prototype.startWithTarget.call(this,$locPosY$$2_target$$);var $locPosX$$=$locPosY$$2_target$$.getPositionX();$locPosY$$2_target$$=$locPosY$$2_target$$.getPositionY();this._previousPosition.x=$locPosX$$;this._previousPosition.y=$locPosY$$2_target$$;
this._startPosition.x=$locPosX$$;this._startPosition.y=$locPosY$$2_target$$},update:function($dt$$22_y$$){$dt$$22_y$$=this._computeEaseTime($dt$$22_y$$);if(this.target){var $locConfig_x$$=this._config,$locStartPosition$$=$locConfig_x$$[0].y,$targetX$$=$locConfig_x$$[1].y,$targetY$$=$locConfig_x$$[2].y,$locConfig_x$$=cc.bezierAt(0,$locConfig_x$$[0].x,$locConfig_x$$[1].x,$locConfig_x$$[2].x,$dt$$22_y$$);$dt$$22_y$$=cc.bezierAt(0,$locStartPosition$$,$targetX$$,$targetY$$,$dt$$22_y$$);$locStartPosition$$=
this._startPosition;if(cc.ENABLE_STACKABLE_ACTIONS){var $targetX$$=this.target.getPositionX(),$targetY$$=this.target.getPositionY(),$locPreviousPosition$$=this._previousPosition;$locStartPosition$$.x=$locStartPosition$$.x+$targetX$$-$locPreviousPosition$$.x;$locStartPosition$$.y=$locStartPosition$$.y+$targetY$$-$locPreviousPosition$$.y;$locConfig_x$$+=$locStartPosition$$.x;$dt$$22_y$$+=$locStartPosition$$.y;$locPreviousPosition$$.x=$locConfig_x$$;$locPreviousPosition$$.y=$dt$$22_y$$;this.target.setPosition($locConfig_x$$,
$dt$$22_y$$)}else this.target.setPosition($locStartPosition$$.x+$locConfig_x$$,$locStartPosition$$.y+$dt$$22_y$$)}},reverse:function(){var $action$$47_locConfig$$1_r$$=this._config,$action$$47_locConfig$$1_r$$=[cc.pAdd($action$$47_locConfig$$1_r$$[1],cc.pNeg($action$$47_locConfig$$1_r$$[2])),cc.pAdd($action$$47_locConfig$$1_r$$[0],cc.pNeg($action$$47_locConfig$$1_r$$[2])),cc.pNeg($action$$47_locConfig$$1_r$$[2])],$action$$47_locConfig$$1_r$$=new cc.BezierBy(this._duration,$action$$47_locConfig$$1_r$$);
this._cloneDecoration($action$$47_locConfig$$1_r$$);this._reverseEaseList($action$$47_locConfig$$1_r$$);return $action$$47_locConfig$$1_r$$}});cc.bezierBy=function $cc$bezierBy$($t$$,$c$$){return new cc.BezierBy($t$$,$c$$)};cc.BezierBy.create=cc.bezierBy;
cc.BezierTo=cc.BezierBy.extend({_toConfig:null,ctor:function($t$$,$c$$){cc.BezierBy.prototype.ctor.call(this);this._toConfig=[];$c$$&&this.initWithDuration($t$$,$c$$)},initWithDuration:function($t$$,$c$$){return cc.ActionInterval.prototype.initWithDuration.call(this,$t$$)?(this._toConfig=$c$$,!0):!1},clone:function(){var $action$$=new cc.BezierTo;this._cloneDecoration($action$$);$action$$.initWithDuration(this._duration,this._toConfig);return $action$$},startWithTarget:function($locStartPos_target$$){cc.BezierBy.prototype.startWithTarget.call(this,
$locStartPos_target$$);$locStartPos_target$$=this._startPosition;var $locToConfig$$=this._toConfig,$locConfig$$=this._config;$locConfig$$[0]=cc.pSub($locToConfig$$[0],$locStartPos_target$$);$locConfig$$[1]=cc.pSub($locToConfig$$[1],$locStartPos_target$$);$locConfig$$[2]=cc.pSub($locToConfig$$[2],$locStartPos_target$$)}});cc.bezierTo=function $cc$bezierTo$($t$$,$c$$){return new cc.BezierTo($t$$,$c$$)};cc.BezierTo.create=cc.bezierTo;
cc.ScaleTo=cc.ActionInterval.extend({_scaleX:1,_scaleY:1,_startScaleX:1,_startScaleY:1,_endScaleX:0,_endScaleY:0,_deltaX:0,_deltaY:0,ctor:function($duration$$,$sx$$,$sy$$){cc.ActionInterval.prototype.ctor.call(this);void 0!==$sx$$&&this.initWithDuration($duration$$,$sx$$,$sy$$)},initWithDuration:function($duration$$,$sx$$,$sy$$){return cc.ActionInterval.prototype.initWithDuration.call(this,$duration$$)?(this._endScaleX=$sx$$,this._endScaleY=null!=$sy$$?$sy$$:$sx$$,!0):!1},clone:function(){var $action$$=
new cc.ScaleTo;this._cloneDecoration($action$$);$action$$.initWithDuration(this._duration,this._endScaleX,this._endScaleY);return $action$$},startWithTarget:function($target$$){cc.ActionInterval.prototype.startWithTarget.call(this,$target$$);this._startScaleX=$target$$.scaleX;this._startScaleY=$target$$.scaleY;this._deltaX=this._endScaleX-this._startScaleX;this._deltaY=this._endScaleY-this._startScaleY},update:function($dt$$){$dt$$=this._computeEaseTime($dt$$);this.target&&(this.target.scaleX=this._startScaleX+
this._deltaX*$dt$$,this.target.scaleY=this._startScaleY+this._deltaY*$dt$$)}});cc.scaleTo=function $cc$scaleTo$($duration$$,$sx$$,$sy$$){return new cc.ScaleTo($duration$$,$sx$$,$sy$$)};cc.ScaleTo.create=cc.scaleTo;
cc.ScaleBy=cc.ScaleTo.extend({startWithTarget:function($target$$){cc.ScaleTo.prototype.startWithTarget.call(this,$target$$);this._deltaX=this._startScaleX*this._endScaleX-this._startScaleX;this._deltaY=this._startScaleY*this._endScaleY-this._startScaleY},reverse:function(){var $action$$=new cc.ScaleBy(this._duration,1/this._endScaleX,1/this._endScaleY);this._cloneDecoration($action$$);this._reverseEaseList($action$$);return $action$$},clone:function(){var $action$$=new cc.ScaleBy;this._cloneDecoration($action$$);
$action$$.initWithDuration(this._duration,this._endScaleX,this._endScaleY);return $action$$}});cc.scaleBy=function $cc$scaleBy$($duration$$,$sx$$,$sy$$){return new cc.ScaleBy($duration$$,$sx$$,$sy$$)};cc.ScaleBy.create=cc.scaleBy;
cc.Blink=cc.ActionInterval.extend({_times:0,_originalState:!1,ctor:function($duration$$,$blinks$$){cc.ActionInterval.prototype.ctor.call(this);void 0!==$blinks$$&&this.initWithDuration($duration$$,$blinks$$)},initWithDuration:function($duration$$,$blinks$$){return cc.ActionInterval.prototype.initWithDuration.call(this,$duration$$)?(this._times=$blinks$$,!0):!1},clone:function(){var $action$$=new cc.Blink;this._cloneDecoration($action$$);$action$$.initWithDuration(this._duration,this._times);return $action$$},
update:function($dt$$){$dt$$=this._computeEaseTime($dt$$);if(this.target&&!this.isDone()){var $slice$$=1/this._times;this.target.visible=$dt$$%$slice$$>$slice$$/2}},startWithTarget:function($target$$){cc.ActionInterval.prototype.startWithTarget.call(this,$target$$);this._originalState=$target$$.visible},stop:function(){this.target.visible=this._originalState;cc.ActionInterval.prototype.stop.call(this)},reverse:function(){var $action$$=new cc.Blink(this._duration,this._times);this._cloneDecoration($action$$);
this._reverseEaseList($action$$);return $action$$}});cc.blink=function $cc$blink$($duration$$,$blinks$$){return new cc.Blink($duration$$,$blinks$$)};cc.Blink.create=cc.blink;
cc.FadeTo=cc.ActionInterval.extend({_toOpacity:0,_fromOpacity:0,ctor:function($duration$$,$opacity$$){cc.ActionInterval.prototype.ctor.call(this);void 0!==$opacity$$&&this.initWithDuration($duration$$,$opacity$$)},initWithDuration:function($duration$$,$opacity$$){return cc.ActionInterval.prototype.initWithDuration.call(this,$duration$$)?(this._toOpacity=$opacity$$,!0):!1},clone:function(){var $action$$=new cc.FadeTo;this._cloneDecoration($action$$);$action$$.initWithDuration(this._duration,this._toOpacity);
return $action$$},update:function($time$$){$time$$=this._computeEaseTime($time$$);var $fromOpacity$$=void 0!==this._fromOpacity?this._fromOpacity:255;this.target.opacity=$fromOpacity$$+(this._toOpacity-$fromOpacity$$)*$time$$},startWithTarget:function($target$$){cc.ActionInterval.prototype.startWithTarget.call(this,$target$$);this._fromOpacity=$target$$.opacity}});cc.fadeTo=function $cc$fadeTo$($duration$$,$opacity$$){return new cc.FadeTo($duration$$,$opacity$$)};cc.FadeTo.create=cc.fadeTo;
cc.FadeIn=cc.FadeTo.extend({_reverseAction:null,ctor:function($duration$$){cc.FadeTo.prototype.ctor.call(this);$duration$$&&this.initWithDuration($duration$$,255)},reverse:function(){var $action$$=new cc.FadeOut;$action$$.initWithDuration(this._duration,0);this._cloneDecoration($action$$);this._reverseEaseList($action$$);return $action$$},clone:function(){var $action$$=new cc.FadeIn;this._cloneDecoration($action$$);$action$$.initWithDuration(this._duration,this._toOpacity);return $action$$},startWithTarget:function($target$$){this._reverseAction&&
(this._toOpacity=this._reverseAction._fromOpacity);cc.FadeTo.prototype.startWithTarget.call(this,$target$$)}});cc.fadeIn=function $cc$fadeIn$($duration$$){return new cc.FadeIn($duration$$)};cc.FadeIn.create=cc.fadeIn;
cc.FadeOut=cc.FadeTo.extend({ctor:function($duration$$){cc.FadeTo.prototype.ctor.call(this);$duration$$&&this.initWithDuration($duration$$,0)},reverse:function(){var $action$$=new cc.FadeIn;$action$$._reverseAction=this;$action$$.initWithDuration(this._duration,255);this._cloneDecoration($action$$);this._reverseEaseList($action$$);return $action$$},clone:function(){var $action$$=new cc.FadeOut;this._cloneDecoration($action$$);$action$$.initWithDuration(this._duration,this._toOpacity);return $action$$}});
cc.fadeOut=function $cc$fadeOut$($d$$){return new cc.FadeOut($d$$)};cc.FadeOut.create=cc.fadeOut;
cc.TintTo=cc.ActionInterval.extend({_to:null,_from:null,ctor:function($duration$$,$red$$,$green$$,$blue$$){cc.ActionInterval.prototype.ctor.call(this);this._to=cc.color(0,0,0);this._from=cc.color(0,0,0);void 0!==$blue$$&&this.initWithDuration($duration$$,$red$$,$green$$,$blue$$)},initWithDuration:function($duration$$,$red$$,$green$$,$blue$$){return cc.ActionInterval.prototype.initWithDuration.call(this,$duration$$)?(this._to=cc.color($red$$,$green$$,$blue$$),!0):!1},clone:function(){var $action$$=
new cc.TintTo;this._cloneDecoration($action$$);var $locTo$$=this._to;$action$$.initWithDuration(this._duration,$locTo$$.r,$locTo$$.g,$locTo$$.b);return $action$$},startWithTarget:function($target$$){cc.ActionInterval.prototype.startWithTarget.call(this,$target$$);this._from=this.target.color},update:function($dt$$){$dt$$=this._computeEaseTime($dt$$);var $locFrom$$=this._from,$locTo$$=this._to;$locFrom$$&&(this.target.color=cc.color($locFrom$$.r+($locTo$$.r-$locFrom$$.r)*$dt$$,$locFrom$$.g+($locTo$$.g-
$locFrom$$.g)*$dt$$,$locFrom$$.b+($locTo$$.b-$locFrom$$.b)*$dt$$))}});cc.tintTo=function $cc$tintTo$($duration$$,$red$$,$green$$,$blue$$){return new cc.TintTo($duration$$,$red$$,$green$$,$blue$$)};cc.TintTo.create=cc.tintTo;
cc.TintBy=cc.ActionInterval.extend({_deltaR:0,_deltaG:0,_deltaB:0,_fromR:0,_fromG:0,_fromB:0,ctor:function($duration$$,$deltaRed$$,$deltaGreen$$,$deltaBlue$$){cc.ActionInterval.prototype.ctor.call(this);void 0!==$deltaBlue$$&&this.initWithDuration($duration$$,$deltaRed$$,$deltaGreen$$,$deltaBlue$$)},initWithDuration:function($duration$$,$deltaRed$$,$deltaGreen$$,$deltaBlue$$){return cc.ActionInterval.prototype.initWithDuration.call(this,$duration$$)?(this._deltaR=$deltaRed$$,this._deltaG=$deltaGreen$$,
this._deltaB=$deltaBlue$$,!0):!1},clone:function(){var $action$$=new cc.TintBy;this._cloneDecoration($action$$);$action$$.initWithDuration(this._duration,this._deltaR,this._deltaG,this._deltaB);return $action$$},startWithTarget:function($color$$21_target$$){cc.ActionInterval.prototype.startWithTarget.call(this,$color$$21_target$$);$color$$21_target$$=$color$$21_target$$.color;this._fromR=$color$$21_target$$.r;this._fromG=$color$$21_target$$.g;this._fromB=$color$$21_target$$.b},update:function($dt$$){$dt$$=
this._computeEaseTime($dt$$);this.target.color=cc.color(this._fromR+this._deltaR*$dt$$,this._fromG+this._deltaG*$dt$$,this._fromB+this._deltaB*$dt$$)},reverse:function(){var $action$$=new cc.TintBy(this._duration,-this._deltaR,-this._deltaG,-this._deltaB);this._cloneDecoration($action$$);this._reverseEaseList($action$$);return $action$$}});cc.tintBy=function $cc$tintBy$($duration$$,$deltaRed$$,$deltaGreen$$,$deltaBlue$$){return new cc.TintBy($duration$$,$deltaRed$$,$deltaGreen$$,$deltaBlue$$)};
cc.TintBy.create=cc.tintBy;cc.DelayTime=cc.ActionInterval.extend({update:function($dt$$){},reverse:function(){var $action$$=new cc.DelayTime(this._duration);this._cloneDecoration($action$$);this._reverseEaseList($action$$);return $action$$},clone:function(){var $action$$=new cc.DelayTime;this._cloneDecoration($action$$);$action$$.initWithDuration(this._duration);return $action$$}});cc.delayTime=function $cc$delayTime$($d$$){return new cc.DelayTime($d$$)};cc.DelayTime.create=cc.delayTime;
cc.ReverseTime=cc.ActionInterval.extend({_other:null,ctor:function($action$$){cc.ActionInterval.prototype.ctor.call(this);this._other=null;$action$$&&this.initWithAction($action$$)},initWithAction:function($action$$){if(!$action$$)throw"cc.ReverseTime.initWithAction(): action must be non null";if($action$$==this._other)throw"cc.ReverseTime.initWithAction(): the action was already passed in.";return cc.ActionInterval.prototype.initWithDuration.call(this,$action$$._duration)?(this._other=$action$$,
!0):!1},clone:function(){var $action$$=new cc.ReverseTime;this._cloneDecoration($action$$);$action$$.initWithAction(this._other.clone());return $action$$},startWithTarget:function($target$$){cc.ActionInterval.prototype.startWithTarget.call(this,$target$$);this._other.startWithTarget($target$$)},update:function($dt$$){$dt$$=this._computeEaseTime($dt$$);this._other&&this._other.update(1-$dt$$)},reverse:function(){return this._other.clone()},stop:function(){this._other.stop();cc.Action.prototype.stop.call(this)}});
cc.reverseTime=function $cc$reverseTime$($action$$){return new cc.ReverseTime($action$$)};cc.ReverseTime.create=cc.reverseTime;
cc.Animate=cc.ActionInterval.extend({_animation:null,_nextFrame:0,_origFrame:null,_executedLoops:0,_splitTimes:null,ctor:function($animation$$){cc.ActionInterval.prototype.ctor.call(this);this._splitTimes=[];$animation$$&&this.initWithAnimation($animation$$)},getAnimation:function(){return this._animation},setAnimation:function($animation$$){this._animation=$animation$$},initWithAnimation:function($animation$$6_frames$$){if(!$animation$$6_frames$$)throw"cc.Animate.initWithAnimation(): animation must be non-NULL";
var $singleDuration$$=$animation$$6_frames$$.getDuration();if(this.initWithDuration($singleDuration$$*$animation$$6_frames$$.getLoops())){this._nextFrame=0;this.setAnimation($animation$$6_frames$$);this._origFrame=null;this._executedLoops=0;var $locTimes$$=this._splitTimes,$accumUnitsOfTime$$=$locTimes$$.length=0,$newUnitOfTimeValue$$=$singleDuration$$/$animation$$6_frames$$.getTotalDelayUnits();$animation$$6_frames$$=$animation$$6_frames$$.getFrames();cc.arrayVerifyType($animation$$6_frames$$,cc.AnimationFrame);
for(var $i$$=0;$i$$<$animation$$6_frames$$.length;$i$$++){var $value$$=$accumUnitsOfTime$$*$newUnitOfTimeValue$$/$singleDuration$$,$accumUnitsOfTime$$=$accumUnitsOfTime$$+$animation$$6_frames$$[$i$$].getDelayUnits();$locTimes$$.push($value$$)}return!0}return!1},clone:function(){var $action$$=new cc.Animate;this._cloneDecoration($action$$);$action$$.initWithAnimation(this._animation.clone());return $action$$},startWithTarget:function($target$$){cc.ActionInterval.prototype.startWithTarget.call(this,
$target$$);this._animation.getRestoreOriginalFrame()&&(this._origFrame=$target$$.displayFrame());this._executedLoops=this._nextFrame=0},update:function($dt$$){$dt$$=this._computeEaseTime($dt$$);1>$dt$$&&($dt$$*=this._animation.getLoops(),(0|$dt$$)>this._executedLoops&&(this._nextFrame=0,this._executedLoops++),$dt$$%=1);for(var $frames$$=this._animation.getFrames(),$numberOfFrames$$=$frames$$.length,$locSplitTimes$$=this._splitTimes,$i$$=this._nextFrame;$i$$<$numberOfFrames$$;$i$$++)if($locSplitTimes$$[$i$$]<=
$dt$$)this.target.setSpriteFrame($frames$$[$i$$].getSpriteFrame()),this._nextFrame=$i$$+1;else break},reverse:function(){var $action$$=this._animation,$newAnim_oldArray$$=$action$$.getFrames(),$newArray$$=[];cc.arrayVerifyType($newAnim_oldArray$$,cc.AnimationFrame);if(0<$newAnim_oldArray$$.length)for(var $i$$=$newAnim_oldArray$$.length-1;0<=$i$$;$i$$--){var $element$$=$newAnim_oldArray$$[$i$$];if(!$element$$)break;$newArray$$.push($element$$.clone())}$newAnim_oldArray$$=new cc.Animation($newArray$$,
$action$$.getDelayPerUnit(),$action$$.getLoops());$newAnim_oldArray$$.setRestoreOriginalFrame($action$$.getRestoreOriginalFrame());$action$$=new cc.Animate($newAnim_oldArray$$);this._cloneDecoration($action$$);this._reverseEaseList($action$$);return $action$$},stop:function(){this._animation.getRestoreOriginalFrame()&&this.target&&this.target.setSpriteFrame(this._origFrame);cc.Action.prototype.stop.call(this)}});cc.animate=function $cc$animate$($animation$$){return new cc.Animate($animation$$)};
cc.Animate.create=cc.animate;
cc.TargetedAction=cc.ActionInterval.extend({_action:null,_forcedTarget:null,ctor:function($target$$,$action$$){cc.ActionInterval.prototype.ctor.call(this);$action$$&&this.initWithTarget($target$$,$action$$)},initWithTarget:function($target$$,$action$$){return this.initWithDuration($action$$._duration)?(this._forcedTarget=$target$$,this._action=$action$$,!0):!1},clone:function(){var $action$$=new cc.TargetedAction;this._cloneDecoration($action$$);$action$$.initWithTarget(this._forcedTarget,this._action.clone());
return $action$$},startWithTarget:function($target$$){cc.ActionInterval.prototype.startWithTarget.call(this,$target$$);this._action.startWithTarget(this._forcedTarget)},stop:function(){this._action.stop()},update:function($dt$$){$dt$$=this._computeEaseTime($dt$$);this._action.update($dt$$)},getForcedTarget:function(){return this._forcedTarget},setForcedTarget:function($forcedTarget$$){this._forcedTarget!=$forcedTarget$$&&(this._forcedTarget=$forcedTarget$$)}});
cc.targetedAction=function $cc$targetedAction$($target$$,$action$$){return new cc.TargetedAction($target$$,$action$$)};cc.TargetedAction.create=cc.targetedAction;cc.ActionInstant=cc.FiniteTimeAction.extend({isDone:function(){return!0},step:function($dt$$){this.update(1)},update:function($dt$$){},reverse:function(){return this.clone()},clone:function(){return new cc.ActionInstant}});
cc.Show=cc.ActionInstant.extend({update:function($dt$$){this.target.visible=!0},reverse:function(){return new cc.Hide},clone:function(){return new cc.Show}});cc.show=function $cc$show$(){return new cc.Show};cc.Show.create=cc.show;cc.Hide=cc.ActionInstant.extend({update:function($dt$$){this.target.visible=!1},reverse:function(){return new cc.Show},clone:function(){return new cc.Hide}});cc.hide=function $cc$hide$(){return new cc.Hide};cc.Hide.create=cc.hide;
cc.ToggleVisibility=cc.ActionInstant.extend({update:function($dt$$){this.target.visible=!this.target.visible},reverse:function(){return new cc.ToggleVisibility},clone:function(){return new cc.ToggleVisibility}});cc.toggleVisibility=function $cc$toggleVisibility$(){return new cc.ToggleVisibility};cc.ToggleVisibility.create=cc.toggleVisibility;
cc.RemoveSelf=cc.ActionInstant.extend({_isNeedCleanUp:!0,ctor:function($isNeedCleanUp$$){cc.FiniteTimeAction.prototype.ctor.call(this);void 0!==$isNeedCleanUp$$&&this.init($isNeedCleanUp$$)},update:function($dt$$){this.target.removeFromParent(this._isNeedCleanUp)},init:function($isNeedCleanUp$$){this._isNeedCleanUp=$isNeedCleanUp$$;return!0},reverse:function(){return new cc.RemoveSelf(this._isNeedCleanUp)},clone:function(){return new cc.RemoveSelf(this._isNeedCleanUp)}});cc.removeSelf=function $cc$removeSelf$($isNeedCleanUp$$){return new cc.RemoveSelf($isNeedCleanUp$$)};
cc.RemoveSelf.create=cc.removeSelf;cc.FlipX=cc.ActionInstant.extend({_flippedX:!1,ctor:function($flip$$){cc.FiniteTimeAction.prototype.ctor.call(this);this._flippedX=!1;void 0!==$flip$$&&this.initWithFlipX($flip$$)},initWithFlipX:function($flip$$){this._flippedX=$flip$$;return!0},update:function($dt$$){this.target.flippedX=this._flippedX},reverse:function(){return new cc.FlipX(!this._flippedX)},clone:function(){var $action$$=new cc.FlipX;$action$$.initWithFlipX(this._flippedX);return $action$$}});
cc.flipX=function $cc$flipX$($flip$$){return new cc.FlipX($flip$$)};cc.FlipX.create=cc.flipX;
cc.FlipY=cc.ActionInstant.extend({_flippedY:!1,ctor:function($flip$$){cc.FiniteTimeAction.prototype.ctor.call(this);this._flippedY=!1;void 0!==$flip$$&&this.initWithFlipY($flip$$)},initWithFlipY:function($flip$$){this._flippedY=$flip$$;return!0},update:function($dt$$){this.target.flippedY=this._flippedY},reverse:function(){return new cc.FlipY(!this._flippedY)},clone:function(){var $action$$=new cc.FlipY;$action$$.initWithFlipY(this._flippedY);return $action$$}});cc.flipY=function $cc$flipY$($flip$$){return new cc.FlipY($flip$$)};
cc.FlipY.create=cc.flipY;cc.Place=cc.ActionInstant.extend({_x:0,_y:0,ctor:function($pos$$,$y$$){cc.FiniteTimeAction.prototype.ctor.call(this);this._y=this._x=0;void 0!==$pos$$&&(void 0!==$pos$$.x&&($y$$=$pos$$.y,$pos$$=$pos$$.x),this.initWithPosition($pos$$,$y$$))},initWithPosition:function($x$$,$y$$){this._x=$x$$;this._y=$y$$;return!0},update:function($dt$$){this.target.setPosition(this._x,this._y)},clone:function(){var $action$$=new cc.Place;$action$$.initWithPosition(this._x,this._y);return $action$$}});
cc.place=function $cc$place$($pos$$,$y$$){return new cc.Place($pos$$,$y$$)};cc.Place.create=cc.place;
cc.CallFunc=cc.ActionInstant.extend({_selectorTarget:null,_callFunc:null,_function:null,_data:null,ctor:function($selector$$,$selectorTarget$$,$data$$){cc.FiniteTimeAction.prototype.ctor.call(this);void 0!==$selector$$&&(void 0===$selectorTarget$$?this.initWithFunction($selector$$):this.initWithFunction($selector$$,$selectorTarget$$,$data$$))},initWithFunction:function($selector$$,$selectorTarget$$,$data$$){$selectorTarget$$?(this._data=$data$$,this._callFunc=$selector$$,this._selectorTarget=$selectorTarget$$):
$selector$$&&(this._function=$selector$$);return!0},execute:function(){null!=this._callFunc?this._callFunc.call(this._selectorTarget,this.target,this._data):this._function&&this._function.call(null,this.target)},update:function($dt$$){this.execute()},getTargetCallback:function(){return this._selectorTarget},setTargetCallback:function($sel$$){$sel$$!=this._selectorTarget&&(this._selectorTarget&&(this._selectorTarget=null),this._selectorTarget=$sel$$)},clone:function(){var $action$$=new cc.CallFunc;
this._selectorTarget?$action$$.initWithFunction(this._callFunc,this._selectorTarget,this._data):this._function&&$action$$.initWithFunction(this._function);return $action$$}});cc.callFunc=function $cc$callFunc$($selector$$,$selectorTarget$$,$data$$){return new cc.CallFunc($selector$$,$selectorTarget$$,$data$$)};cc.CallFunc.create=cc.callFunc;
cc.ActionCamera=cc.ActionInterval.extend({_centerXOrig:0,_centerYOrig:0,_centerZOrig:0,_eyeXOrig:0,_eyeYOrig:0,_eyeZOrig:0,_upXOrig:0,_upYOrig:0,_upZOrig:0,ctor:function(){cc.ActionInterval.prototype.ctor.call(this);this._upZOrig=this._upYOrig=this._upXOrig=this._eyeZOrig=this._eyeYOrig=this._eyeXOrig=this._centerZOrig=this._centerYOrig=this._centerXOrig=0},startWithTarget:function($camera_target$$){cc.ActionInterval.prototype.startWithTarget.call(this,$camera_target$$);$camera_target$$=$camera_target$$.getCamera();
var $centerXYZ_eyeXYZ$$=$camera_target$$.getCenter();this._centerXOrig=$centerXYZ_eyeXYZ$$.x;this._centerYOrig=$centerXYZ_eyeXYZ$$.y;this._centerZOrig=$centerXYZ_eyeXYZ$$.z;$centerXYZ_eyeXYZ$$=$camera_target$$.getEye();this._eyeXOrig=$centerXYZ_eyeXYZ$$.x;this._eyeYOrig=$centerXYZ_eyeXYZ$$.y;this._eyeZOrig=$centerXYZ_eyeXYZ$$.z;$camera_target$$=$camera_target$$.getUp();this._upXOrig=$camera_target$$.x;this._upYOrig=$camera_target$$.y;this._upZOrig=$camera_target$$.z},clone:function(){return new cc.ActionCamera},
reverse:function(){return new cc.ReverseTime(this)}});
cc.OrbitCamera=cc.ActionCamera.extend({_radius:0,_deltaRadius:0,_angleZ:0,_deltaAngleZ:0,_angleX:0,_deltaAngleX:0,_radZ:0,_radDeltaZ:0,_radX:0,_radDeltaX:0,ctor:function($t$$,$radius$$,$deltaRadius$$,$angleZ$$,$deltaAngleZ$$,$angleX$$,$deltaAngleX$$){cc.ActionCamera.prototype.ctor.call(this);void 0!==$deltaAngleX$$&&this.initWithDuration($t$$,$radius$$,$deltaRadius$$,$angleZ$$,$deltaAngleZ$$,$angleX$$,$deltaAngleX$$)},initWithDuration:function($t$$,$radius$$,$deltaRadius$$,$angleZ$$,$deltaAngleZ$$,
$angleX$$,$deltaAngleX$$){return cc.ActionInterval.prototype.initWithDuration.call(this,$t$$)?(this._radius=$radius$$,this._deltaRadius=$deltaRadius$$,this._angleZ=$angleZ$$,this._deltaAngleZ=$deltaAngleZ$$,this._angleX=$angleX$$,this._deltaAngleX=$deltaAngleX$$,this._radDeltaZ=cc.degreesToRadians($deltaAngleZ$$),this._radDeltaX=cc.degreesToRadians($deltaAngleX$$),!0):!1},sphericalRadius:function(){var $centerXYZ$$1_z$$,$azimuth_camera$$1_x$$;$azimuth_camera$$1_x$$=this.target.getCamera();var $eyeXYZ$$1_r$$=
$azimuth_camera$$1_x$$.getEye();$centerXYZ$$1_z$$=$azimuth_camera$$1_x$$.getCenter();$azimuth_camera$$1_x$$=$eyeXYZ$$1_r$$.x-$centerXYZ$$1_z$$.x;var $y$$=$eyeXYZ$$1_r$$.y-$centerXYZ$$1_z$$.y;$centerXYZ$$1_z$$=$eyeXYZ$$1_r$$.z-$centerXYZ$$1_z$$.z;var $eyeXYZ$$1_r$$=Math.sqrt(Math.pow($azimuth_camera$$1_x$$,2)+Math.pow($y$$,2)+Math.pow($centerXYZ$$1_z$$,2)),$s$$=Math.sqrt(Math.pow($azimuth_camera$$1_x$$,2)+Math.pow($y$$,2));0===$s$$&&($s$$=cc.FLT_EPSILON);0===$eyeXYZ$$1_r$$&&($eyeXYZ$$1_r$$=cc.FLT_EPSILON);
$centerXYZ$$1_z$$=Math.acos($centerXYZ$$1_z$$/$eyeXYZ$$1_r$$);$azimuth_camera$$1_x$$=0>$azimuth_camera$$1_x$$?Math.PI-Math.asin($y$$/$s$$):Math.asin($y$$/$s$$);return{newRadius:$eyeXYZ$$1_r$$/cc.Camera.getZEye(),zenith:$centerXYZ$$1_z$$,azimuth:$azimuth_camera$$1_x$$}},startWithTarget:function($retValue_target$$){cc.ActionInterval.prototype.startWithTarget.call(this,$retValue_target$$);$retValue_target$$=this.sphericalRadius();isNaN(this._radius)&&(this._radius=$retValue_target$$.newRadius);isNaN(this._angleZ)&&
(this._angleZ=cc.radiansToDegrees($retValue_target$$.zenith));isNaN(this._angleX)&&(this._angleX=cc.radiansToDegrees($retValue_target$$.azimuth));this._radZ=cc.degreesToRadians(this._angleZ);this._radX=cc.degreesToRadians(this._angleX)},clone:function(){var $a$$=new cc.OrbitCamera;$a$$.initWithDuration(this._duration,this._radius,this._deltaRadius,this._angleZ,this._deltaAngleZ,this._angleX,this._deltaAngleX);return $a$$},update:function($dt$$41_i$$){$dt$$41_i$$=this._computeEaseTime($dt$$41_i$$);
var $k$$2_r$$=(this._radius+this._deltaRadius*$dt$$41_i$$)*cc.Camera.getZEye(),$za$$=this._radZ+this._radDeltaZ*$dt$$41_i$$,$j$$10_xa$$=this._radX+this._radDeltaX*$dt$$41_i$$;$dt$$41_i$$=Math.sin($za$$)*Math.cos($j$$10_xa$$)*$k$$2_r$$+this._centerXOrig;$j$$10_xa$$=Math.sin($za$$)*Math.sin($j$$10_xa$$)*$k$$2_r$$+this._centerYOrig;$k$$2_r$$=Math.cos($za$$)*$k$$2_r$$+this._centerZOrig;this.target.getCamera().setEye($dt$$41_i$$,$j$$10_xa$$,$k$$2_r$$);this.target.setNodeDirty()}});
cc.orbitCamera=function $cc$orbitCamera$($t$$,$radius$$,$deltaRadius$$,$angleZ$$,$deltaAngleZ$$,$angleX$$,$deltaAngleX$$){return new cc.OrbitCamera($t$$,$radius$$,$deltaRadius$$,$angleZ$$,$deltaAngleZ$$,$angleX$$,$deltaAngleX$$)};cc.OrbitCamera.create=cc.orbitCamera;
cc.ActionEase=cc.ActionInterval.extend({_inner:null,ctor:function($action$$){cc.ActionInterval.prototype.ctor.call(this);$action$$&&this.initWithAction($action$$)},initWithAction:function($action$$){if(!$action$$)throw"cc.ActionEase.initWithAction(): action must be non nil";return this.initWithDuration($action$$.getDuration())?(this._inner=$action$$,!0):!1},clone:function(){var $action$$=new cc.ActionEase;$action$$.initWithAction(this._inner.clone());return $action$$},startWithTarget:function($target$$){cc.ActionInterval.prototype.startWithTarget.call(this,
$target$$);this._inner.startWithTarget(this.target)},stop:function(){this._inner.stop();cc.ActionInterval.prototype.stop.call(this)},update:function($dt$$){this._inner.update($dt$$)},reverse:function(){return new cc.ActionEase(this._inner.reverse())},getInnerAction:function(){return this._inner}});cc.actionEase=function $cc$actionEase$($action$$){return new cc.ActionEase($action$$)};cc.ActionEase.create=cc.actionEase;
cc.EaseRateAction=cc.ActionEase.extend({_rate:0,ctor:function($action$$,$rate$$){cc.ActionEase.prototype.ctor.call(this);void 0!==$rate$$&&this.initWithAction($action$$,$rate$$)},setRate:function($rate$$){this._rate=$rate$$},getRate:function(){return this._rate},initWithAction:function($action$$,$rate$$){return cc.ActionEase.prototype.initWithAction.call(this,$action$$)?(this._rate=$rate$$,!0):!1},clone:function(){var $action$$=new cc.EaseRateAction;$action$$.initWithAction(this._inner.clone(),this._rate);
return $action$$},reverse:function(){return new cc.EaseRateAction(this._inner.reverse(),1/this._rate)}});cc.easeRateAction=function $cc$easeRateAction$($action$$,$rate$$){return new cc.EaseRateAction($action$$,$rate$$)};cc.EaseRateAction.create=cc.easeRateAction;
cc.EaseIn=cc.EaseRateAction.extend({update:function($dt$$){this._inner.update(Math.pow($dt$$,this._rate))},reverse:function(){return new cc.EaseIn(this._inner.reverse(),1/this._rate)},clone:function(){var $action$$=new cc.EaseIn;$action$$.initWithAction(this._inner.clone(),this._rate);return $action$$}});cc.EaseIn.create=function $cc$EaseIn$create$($action$$,$rate$$){return new cc.EaseIn($action$$,$rate$$)};
cc.easeIn=function $cc$easeIn$($rate$$){return{_rate:$rate$$,easing:function($dt$$){return Math.pow($dt$$,this._rate)},reverse:function(){return cc.easeIn(1/this._rate)}}};cc.EaseOut=cc.EaseRateAction.extend({update:function($dt$$){this._inner.update(Math.pow($dt$$,1/this._rate))},reverse:function(){return new cc.EaseOut(this._inner.reverse(),1/this._rate)},clone:function(){var $action$$=new cc.EaseOut;$action$$.initWithAction(this._inner.clone(),this._rate);return $action$$}});
cc.EaseOut.create=function $cc$EaseOut$create$($action$$,$rate$$){return new cc.EaseOut($action$$,$rate$$)};cc.easeOut=function $cc$easeOut$($rate$$){return{_rate:$rate$$,easing:function($dt$$){return Math.pow($dt$$,1/this._rate)},reverse:function(){return cc.easeOut(1/this._rate)}}};
cc.EaseInOut=cc.EaseRateAction.extend({update:function($dt$$){$dt$$*=2;1>$dt$$?this._inner.update(.5*Math.pow($dt$$,this._rate)):this._inner.update(1-.5*Math.pow(2-$dt$$,this._rate))},clone:function(){var $action$$=new cc.EaseInOut;$action$$.initWithAction(this._inner.clone(),this._rate);return $action$$},reverse:function(){return new cc.EaseInOut(this._inner.reverse(),this._rate)}});cc.EaseInOut.create=function $cc$EaseInOut$create$($action$$,$rate$$){return new cc.EaseInOut($action$$,$rate$$)};
cc.easeInOut=function $cc$easeInOut$($rate$$){return{_rate:$rate$$,easing:function($dt$$){$dt$$*=2;return 1>$dt$$?.5*Math.pow($dt$$,this._rate):1-.5*Math.pow(2-$dt$$,this._rate)},reverse:function(){return cc.easeInOut(this._rate)}}};
cc.EaseExponentialIn=cc.ActionEase.extend({update:function($dt$$){this._inner.update(0===$dt$$?0:Math.pow(2,10*($dt$$-1)))},reverse:function(){return new cc.EaseExponentialOut(this._inner.reverse())},clone:function(){var $action$$=new cc.EaseExponentialIn;$action$$.initWithAction(this._inner.clone());return $action$$}});cc.EaseExponentialIn.create=function $cc$EaseExponentialIn$create$($action$$){return new cc.EaseExponentialIn($action$$)};
cc._easeExponentialInObj={easing:function $cc$_easeExponentialInObj$easing$($dt$$){return 0===$dt$$?0:Math.pow(2,10*($dt$$-1))},reverse:function $cc$_easeExponentialInObj$reverse$(){return cc._easeExponentialOutObj}};cc.easeExponentialIn=function $cc$easeExponentialIn$(){return cc._easeExponentialInObj};
cc.EaseExponentialOut=cc.ActionEase.extend({update:function($dt$$){this._inner.update(1==$dt$$?1:-Math.pow(2,-10*$dt$$)+1)},reverse:function(){return new cc.EaseExponentialIn(this._inner.reverse())},clone:function(){var $action$$=new cc.EaseExponentialOut;$action$$.initWithAction(this._inner.clone());return $action$$}});cc.EaseExponentialOut.create=function $cc$EaseExponentialOut$create$($action$$){return new cc.EaseExponentialOut($action$$)};
cc._easeExponentialOutObj={easing:function $cc$_easeExponentialOutObj$easing$($dt$$){return 1==$dt$$?1:-Math.pow(2,-10*$dt$$)+1},reverse:function $cc$_easeExponentialOutObj$reverse$(){return cc._easeExponentialInObj}};cc.easeExponentialOut=function $cc$easeExponentialOut$(){return cc._easeExponentialOutObj};
cc.EaseExponentialInOut=cc.ActionEase.extend({update:function($dt$$){1!=$dt$$&&0!==$dt$$&&($dt$$*=2,$dt$$=1>$dt$$?.5*Math.pow(2,10*($dt$$-1)):.5*(-Math.pow(2,-10*($dt$$-1))+2));this._inner.update($dt$$)},reverse:function(){return new cc.EaseExponentialInOut(this._inner.reverse())},clone:function(){var $action$$=new cc.EaseExponentialInOut;$action$$.initWithAction(this._inner.clone());return $action$$}});cc.EaseExponentialInOut.create=function $cc$EaseExponentialInOut$create$($action$$){return new cc.EaseExponentialInOut($action$$)};
cc._easeExponentialInOutObj={easing:function $cc$_easeExponentialInOutObj$easing$($dt$$){return 1!==$dt$$&&0!==$dt$$?($dt$$*=2,1>$dt$$?.5*Math.pow(2,10*($dt$$-1)):.5*(-Math.pow(2,-10*($dt$$-1))+2)):$dt$$},reverse:function $cc$_easeExponentialInOutObj$reverse$(){return cc._easeExponentialInOutObj}};cc.easeExponentialInOut=function $cc$easeExponentialInOut$(){return cc._easeExponentialInOutObj};
cc.EaseSineIn=cc.ActionEase.extend({update:function($dt$$){$dt$$=0===$dt$$||1===$dt$$?$dt$$:-1*Math.cos($dt$$*Math.PI/2)+1;this._inner.update($dt$$)},reverse:function(){return new cc.EaseSineOut(this._inner.reverse())},clone:function(){var $action$$=new cc.EaseSineIn;$action$$.initWithAction(this._inner.clone());return $action$$}});cc.EaseSineIn.create=function $cc$EaseSineIn$create$($action$$){return new cc.EaseSineIn($action$$)};
cc._easeSineInObj={easing:function $cc$_easeSineInObj$easing$($dt$$){return 0===$dt$$||1===$dt$$?$dt$$:-1*Math.cos($dt$$*Math.PI/2)+1},reverse:function $cc$_easeSineInObj$reverse$(){return cc._easeSineOutObj}};cc.easeSineIn=function $cc$easeSineIn$(){return cc._easeSineInObj};
cc.EaseSineOut=cc.ActionEase.extend({update:function($dt$$){$dt$$=0===$dt$$||1===$dt$$?$dt$$:Math.sin($dt$$*Math.PI/2);this._inner.update($dt$$)},reverse:function(){return new cc.EaseSineIn(this._inner.reverse())},clone:function(){var $action$$=new cc.EaseSineOut;$action$$.initWithAction(this._inner.clone());return $action$$}});cc.EaseSineOut.create=function $cc$EaseSineOut$create$($action$$){return new cc.EaseSineOut($action$$)};
cc._easeSineOutObj={easing:function $cc$_easeSineOutObj$easing$($dt$$){return 0===$dt$$||1==$dt$$?$dt$$:Math.sin($dt$$*Math.PI/2)},reverse:function $cc$_easeSineOutObj$reverse$(){return cc._easeSineInObj}};cc.easeSineOut=function $cc$easeSineOut$(){return cc._easeSineOutObj};
cc.EaseSineInOut=cc.ActionEase.extend({update:function($dt$$){$dt$$=0===$dt$$||1===$dt$$?$dt$$:-.5*(Math.cos(Math.PI*$dt$$)-1);this._inner.update($dt$$)},clone:function(){var $action$$=new cc.EaseSineInOut;$action$$.initWithAction(this._inner.clone());return $action$$},reverse:function(){return new cc.EaseSineInOut(this._inner.reverse())}});cc.EaseSineInOut.create=function $cc$EaseSineInOut$create$($action$$){return new cc.EaseSineInOut($action$$)};
cc._easeSineInOutObj={easing:function $cc$_easeSineInOutObj$easing$($dt$$){return 0===$dt$$||1===$dt$$?$dt$$:-.5*(Math.cos(Math.PI*$dt$$)-1)},reverse:function $cc$_easeSineInOutObj$reverse$(){return cc._easeSineInOutObj}};cc.easeSineInOut=function $cc$easeSineInOut$(){return cc._easeSineInOutObj};
cc.EaseElastic=cc.ActionEase.extend({_period:.3,ctor:function($action$$,$period$$){cc.ActionEase.prototype.ctor.call(this);$action$$&&this.initWithAction($action$$,$period$$)},getPeriod:function(){return this._period},setPeriod:function($period$$){this._period=$period$$},initWithAction:function($action$$,$period$$){cc.ActionEase.prototype.initWithAction.call(this,$action$$);this._period=null==$period$$?.3:$period$$;return!0},reverse:function(){cc.log("cc.EaseElastic.reverse(): it should be overridden in subclass.");
return null},clone:function(){var $action$$=new cc.EaseElastic;$action$$.initWithAction(this._inner.clone(),this._period);return $action$$}});cc.EaseElastic.create=function $cc$EaseElastic$create$($action$$,$period$$){return new cc.EaseElastic($action$$,$period$$)};
cc.EaseElasticIn=cc.EaseElastic.extend({update:function($dt$$){var $newT_s$$=0;0===$dt$$||1===$dt$$?$newT_s$$=$dt$$:($newT_s$$=this._period/4,--$dt$$,$newT_s$$=-Math.pow(2,10*$dt$$)*Math.sin(($dt$$-$newT_s$$)*Math.PI*2/this._period));this._inner.update($newT_s$$)},reverse:function(){return new cc.EaseElasticOut(this._inner.reverse(),this._period)},clone:function(){var $action$$=new cc.EaseElasticIn;$action$$.initWithAction(this._inner.clone(),this._period);return $action$$}});
cc.EaseElasticIn.create=function $cc$EaseElasticIn$create$($action$$,$period$$){return new cc.EaseElasticIn($action$$,$period$$)};cc._easeElasticInObj={easing:function $cc$_easeElasticInObj$easing$($dt$$){if(0===$dt$$||1===$dt$$)return $dt$$;--$dt$$;return-Math.pow(2,10*$dt$$)*Math.sin(($dt$$-.075)*Math.PI*2/.3)},reverse:function $cc$_easeElasticInObj$reverse$(){return cc._easeElasticOutObj}};
cc.easeElasticIn=function $cc$easeElasticIn$($period$$){return $period$$&&.3!==$period$$?{_period:$period$$,easing:function($dt$$){if(0===$dt$$||1===$dt$$)return $dt$$;--$dt$$;return-Math.pow(2,10*$dt$$)*Math.sin(($dt$$-this._period/4)*Math.PI*2/this._period)},reverse:function(){return cc.easeElasticOut(this._period)}}:cc._easeElasticInObj};
cc.EaseElasticOut=cc.EaseElastic.extend({update:function($dt$$){var $newT$$1_s$$=0;0===$dt$$||1==$dt$$?$newT$$1_s$$=$dt$$:($newT$$1_s$$=this._period/4,$newT$$1_s$$=Math.pow(2,-10*$dt$$)*Math.sin(($dt$$-$newT$$1_s$$)*Math.PI*2/this._period)+1);this._inner.update($newT$$1_s$$)},reverse:function(){return new cc.EaseElasticIn(this._inner.reverse(),this._period)},clone:function(){var $action$$=new cc.EaseElasticOut;$action$$.initWithAction(this._inner.clone(),this._period);return $action$$}});
cc.EaseElasticOut.create=function $cc$EaseElasticOut$create$($action$$,$period$$){return new cc.EaseElasticOut($action$$,$period$$)};cc._easeElasticOutObj={easing:function $cc$_easeElasticOutObj$easing$($dt$$){return 0===$dt$$||1===$dt$$?$dt$$:Math.pow(2,-10*$dt$$)*Math.sin(($dt$$-.075)*Math.PI*2/.3)+1},reverse:function $cc$_easeElasticOutObj$reverse$(){return cc._easeElasticInObj}};
cc.easeElasticOut=function $cc$easeElasticOut$($period$$){return $period$$&&.3!==$period$$?{_period:$period$$,easing:function($dt$$){return 0===$dt$$||1===$dt$$?$dt$$:Math.pow(2,-10*$dt$$)*Math.sin(($dt$$-this._period/4)*Math.PI*2/this._period)+1},reverse:function(){return cc.easeElasticIn(this._period)}}:cc._easeElasticOutObj};
cc.EaseElasticInOut=cc.EaseElastic.extend({update:function($dt$$){var $locPeriod_newT$$=0,$locPeriod_newT$$=this._period;if(0===$dt$$||1==$dt$$)$locPeriod_newT$$=$dt$$;else{$locPeriod_newT$$||($locPeriod_newT$$=this._period=.3*1.5);var $s$$=$locPeriod_newT$$/4;$dt$$=2*$dt$$-1;$locPeriod_newT$$=0>$dt$$?-.5*Math.pow(2,10*$dt$$)*Math.sin(($dt$$-$s$$)*Math.PI*2/$locPeriod_newT$$):Math.pow(2,-10*$dt$$)*Math.sin(($dt$$-$s$$)*Math.PI*2/$locPeriod_newT$$)*.5+1}this._inner.update($locPeriod_newT$$)},reverse:function(){return new cc.EaseElasticInOut(this._inner.reverse(),
this._period)},clone:function(){var $action$$=new cc.EaseElasticInOut;$action$$.initWithAction(this._inner.clone(),this._period);return $action$$}});cc.EaseElasticInOut.create=function $cc$EaseElasticInOut$create$($action$$,$period$$){return new cc.EaseElasticInOut($action$$,$period$$)};
cc.easeElasticInOut=function $cc$easeElasticInOut$($period$$){return{_period:$period$$||.3,easing:function($dt$$){var $locPeriod$$1_newT$$=0,$locPeriod$$1_newT$$=this._period;if(0===$dt$$||1===$dt$$)$locPeriod$$1_newT$$=$dt$$;else{$locPeriod$$1_newT$$||($locPeriod$$1_newT$$=this._period=.3*1.5);var $s$$=$locPeriod$$1_newT$$/4;$dt$$=2*$dt$$-1;$locPeriod$$1_newT$$=0>$dt$$?-.5*Math.pow(2,10*$dt$$)*Math.sin(($dt$$-$s$$)*Math.PI*2/$locPeriod$$1_newT$$):Math.pow(2,-10*$dt$$)*Math.sin(($dt$$-$s$$)*Math.PI*
2/$locPeriod$$1_newT$$)*.5+1}return $locPeriod$$1_newT$$},reverse:function(){return cc.easeElasticInOut(this._period)}}};
cc.EaseBounce=cc.ActionEase.extend({bounceTime:function($time1$$){if($time1$$<1/2.75)return 7.5625*$time1$$*$time1$$;if($time1$$<2/2.75)return $time1$$-=1.5/2.75,7.5625*$time1$$*$time1$$+.75;if($time1$$<2.5/2.75)return $time1$$-=2.25/2.75,7.5625*$time1$$*$time1$$+.9375;$time1$$-=2.625/2.75;return 7.5625*$time1$$*$time1$$+.984375},clone:function(){var $action$$=new cc.EaseBounce;$action$$.initWithAction(this._inner.clone());return $action$$},reverse:function(){return new cc.EaseBounce(this._inner.reverse())}});
cc.EaseBounce.create=function $cc$EaseBounce$create$($action$$){return new cc.EaseBounce($action$$)};cc.EaseBounceIn=cc.EaseBounce.extend({update:function($dt$$69_newT$$){$dt$$69_newT$$=1-this.bounceTime(1-$dt$$69_newT$$);this._inner.update($dt$$69_newT$$)},reverse:function(){return new cc.EaseBounceOut(this._inner.reverse())},clone:function(){var $action$$=new cc.EaseBounceIn;$action$$.initWithAction(this._inner.clone());return $action$$}});cc.EaseBounceIn.create=function $cc$EaseBounceIn$create$($action$$){return new cc.EaseBounceIn($action$$)};
cc._bounceTime=function $cc$_bounceTime$($time1$$){if($time1$$<1/2.75)return 7.5625*$time1$$*$time1$$;if($time1$$<2/2.75)return $time1$$-=1.5/2.75,7.5625*$time1$$*$time1$$+.75;if($time1$$<2.5/2.75)return $time1$$-=2.25/2.75,7.5625*$time1$$*$time1$$+.9375;$time1$$-=2.625/2.75;return 7.5625*$time1$$*$time1$$+.984375};cc._easeBounceInObj={easing:function $cc$_easeBounceInObj$easing$($dt$$){return 1-cc._bounceTime(1-$dt$$)},reverse:function $cc$_easeBounceInObj$reverse$(){return cc._easeBounceOutObj}};
cc.easeBounceIn=function $cc$easeBounceIn$(){return cc._easeBounceInObj};cc.EaseBounceOut=cc.EaseBounce.extend({update:function($dt$$71_newT$$){$dt$$71_newT$$=this.bounceTime($dt$$71_newT$$);this._inner.update($dt$$71_newT$$)},reverse:function(){return new cc.EaseBounceIn(this._inner.reverse())},clone:function(){var $action$$=new cc.EaseBounceOut;$action$$.initWithAction(this._inner.clone());return $action$$}});cc.EaseBounceOut.create=function $cc$EaseBounceOut$create$($action$$){return new cc.EaseBounceOut($action$$)};
cc._easeBounceOutObj={easing:function $cc$_easeBounceOutObj$easing$($dt$$){return cc._bounceTime($dt$$)},reverse:function $cc$_easeBounceOutObj$reverse$(){return cc._easeBounceInObj}};cc.easeBounceOut=function $cc$easeBounceOut$(){return cc._easeBounceOutObj};
cc.EaseBounceInOut=cc.EaseBounce.extend({update:function($dt$$){var $newT$$=0,$newT$$=.5>$dt$$?.5*(1-this.bounceTime(1-2*$dt$$)):.5*this.bounceTime(2*$dt$$-1)+.5;this._inner.update($newT$$)},clone:function(){var $action$$=new cc.EaseBounceInOut;$action$$.initWithAction(this._inner.clone());return $action$$},reverse:function(){return new cc.EaseBounceInOut(this._inner.reverse())}});cc.EaseBounceInOut.create=function $cc$EaseBounceInOut$create$($action$$){return new cc.EaseBounceInOut($action$$)};
cc._easeBounceInOutObj={easing:function $cc$_easeBounceInOutObj$easing$($newT$$7_time1$$){return $newT$$7_time1$$=.5>$newT$$7_time1$$?.5*(1-cc._bounceTime(1-2*$newT$$7_time1$$)):.5*cc._bounceTime(2*$newT$$7_time1$$-1)+.5},reverse:function $cc$_easeBounceInOutObj$reverse$(){return cc._easeBounceInOutObj}};cc.easeBounceInOut=function $cc$easeBounceInOut$(){return cc._easeBounceInOutObj};
cc.EaseBackIn=cc.ActionEase.extend({update:function($dt$$){this._inner.update(0===$dt$$||1==$dt$$?$dt$$:$dt$$*$dt$$*(2.70158*$dt$$-1.70158))},reverse:function(){return new cc.EaseBackOut(this._inner.reverse())},clone:function(){var $action$$=new cc.EaseBackIn;$action$$.initWithAction(this._inner.clone());return $action$$}});cc.EaseBackIn.create=function $cc$EaseBackIn$create$($action$$){return new cc.EaseBackIn($action$$)};
cc._easeBackInObj={easing:function $cc$_easeBackInObj$easing$($time1$$){return 0===$time1$$||1===$time1$$?$time1$$:$time1$$*$time1$$*(2.70158*$time1$$-1.70158)},reverse:function $cc$_easeBackInObj$reverse$(){return cc._easeBackOutObj}};cc.easeBackIn=function $cc$easeBackIn$(){return cc._easeBackInObj};
cc.EaseBackOut=cc.ActionEase.extend({update:function($dt$$){--$dt$$;this._inner.update($dt$$*$dt$$*(2.70158*$dt$$+1.70158)+1)},reverse:function(){return new cc.EaseBackIn(this._inner.reverse())},clone:function(){var $action$$=new cc.EaseBackOut;$action$$.initWithAction(this._inner.clone());return $action$$}});cc.EaseBackOut.create=function $cc$EaseBackOut$create$($action$$){return new cc.EaseBackOut($action$$)};
cc._easeBackOutObj={easing:function $cc$_easeBackOutObj$easing$($time1$$){--$time1$$;return $time1$$*$time1$$*(2.70158*$time1$$+1.70158)+1},reverse:function $cc$_easeBackOutObj$reverse$(){return cc._easeBackInObj}};cc.easeBackOut=function $cc$easeBackOut$(){return cc._easeBackOutObj};
cc.EaseBackInOut=cc.ActionEase.extend({update:function($dt$$){$dt$$*=2;1>$dt$$?this._inner.update($dt$$*$dt$$*(3.5949095*$dt$$-2.5949095)/2):($dt$$-=2,this._inner.update($dt$$*$dt$$*(3.5949095*$dt$$+2.5949095)/2+1))},clone:function(){var $action$$=new cc.EaseBackInOut;$action$$.initWithAction(this._inner.clone());return $action$$},reverse:function(){return new cc.EaseBackInOut(this._inner.reverse())}});cc.EaseBackInOut.create=function $cc$EaseBackInOut$create$($action$$){return new cc.EaseBackInOut($action$$)};
cc._easeBackInOutObj={easing:function $cc$_easeBackInOutObj$easing$($time1$$){$time1$$*=2;if(1>$time1$$)return $time1$$*$time1$$*(3.5949095*$time1$$-2.5949095)/2;$time1$$-=2;return $time1$$*$time1$$*(3.5949095*$time1$$+2.5949095)/2+1},reverse:function $cc$_easeBackInOutObj$reverse$(){return cc._easeBackInOutObj}};cc.easeBackInOut=function $cc$easeBackInOut$(){return cc._easeBackInOutObj};
cc.EaseBezierAction=cc.ActionEase.extend({_p0:null,_p1:null,_p2:null,_p3:null,ctor:function($action$$){cc.ActionEase.prototype.ctor.call(this,$action$$)},_updateTime:function($a$$,$b$$,$c$$,$d$$,$t$$){return Math.pow(1-$t$$,3)*$a$$+3*$t$$*Math.pow(1-$t$$,2)*$b$$+3*Math.pow($t$$,2)*(1-$t$$)*$c$$+Math.pow($t$$,3)*$d$$},update:function($dt$$77_t$$){$dt$$77_t$$=this._updateTime(this._p0,this._p1,this._p2,this._p3,$dt$$77_t$$);this._inner.update($dt$$77_t$$)},clone:function(){var $action$$=new cc.EaseBezierAction;
$action$$.initWithAction(this._inner.clone());$action$$.setBezierParamer(this._p0,this._p1,this._p2,this._p3);return $action$$},reverse:function(){var $action$$=new cc.EaseBezierAction(this._inner.reverse());$action$$.setBezierParamer(this._p3,this._p2,this._p1,this._p0);return $action$$},setBezierParamer:function($p0$$,$p1$$,$p2$$,$p3$$){this._p0=$p0$$||0;this._p1=$p1$$||0;this._p2=$p2$$||0;this._p3=$p3$$||0}});cc.EaseBezierAction.create=function $cc$EaseBezierAction$create$($action$$){return new cc.EaseBezierAction($action$$)};
cc.easeBezierAction=function $cc$easeBezierAction$($p0$$,$p1$$,$p2$$,$p3$$){return{easing:function($time$$){return cc.EaseBezierAction.prototype._updateTime($p0$$,$p1$$,$p2$$,$p3$$,$time$$)},reverse:function(){return cc.easeBezierAction($p3$$,$p2$$,$p1$$,$p0$$)}}};
cc.EaseQuadraticActionIn=cc.ActionEase.extend({_updateTime:function($time$$){return Math.pow($time$$,2)},update:function($dt$$){this._inner.update(this._updateTime($dt$$))},clone:function(){var $action$$=new cc.EaseQuadraticActionIn;$action$$.initWithAction(this._inner.clone());return $action$$},reverse:function(){return new cc.EaseQuadraticActionIn(this._inner.reverse())}});cc.EaseQuadraticActionIn.create=function $cc$EaseQuadraticActionIn$create$($action$$){return new cc.EaseQuadraticActionIn($action$$)};
cc._easeQuadraticActionIn={easing:cc.EaseQuadraticActionIn.prototype._updateTime,reverse:function $cc$_easeQuadraticActionIn$reverse$(){return cc._easeQuadraticActionIn}};cc.easeQuadraticActionIn=function $cc$easeQuadraticActionIn$(){return cc._easeQuadraticActionIn};
cc.EaseQuadraticActionOut=cc.ActionEase.extend({_updateTime:function($time$$){return-$time$$*($time$$-2)},update:function($dt$$){this._inner.update(this._updateTime($dt$$))},clone:function(){var $action$$=new cc.EaseQuadraticActionOut;$action$$.initWithAction();return $action$$},reverse:function(){return new cc.EaseQuadraticActionOut(this._inner.reverse())}});cc.EaseQuadraticActionOut.create=function $cc$EaseQuadraticActionOut$create$($action$$){return new cc.EaseQuadraticActionOut($action$$)};
cc._easeQuadraticActionOut={easing:cc.EaseQuadraticActionOut.prototype._updateTime,reverse:function $cc$_easeQuadraticActionOut$reverse$(){return cc._easeQuadraticActionOut}};cc.easeQuadraticActionOut=function $cc$easeQuadraticActionOut$(){return cc._easeQuadraticActionOut};
cc.EaseQuadraticActionInOut=cc.ActionEase.extend({_updateTime:function($time$$){var $resultTime$$=$time$$;$time$$*=2;1>$time$$?$resultTime$$=$time$$*$time$$*.5:(--$time$$,$resultTime$$=-.5*($time$$*($time$$-2)-1));return $resultTime$$},update:function($dt$$){this._inner.update(this._updateTime($dt$$))},clone:function(){var $action$$=new cc.EaseQuadraticActionInOut;$action$$.initWithAction(this._inner.clone());return $action$$},reverse:function(){return new cc.EaseQuadraticActionInOut(this._inner.reverse())}});
cc.EaseQuadraticActionInOut.create=function $cc$EaseQuadraticActionInOut$create$($action$$){return new cc.EaseQuadraticActionInOut($action$$)};cc._easeQuadraticActionInOut={easing:cc.EaseQuadraticActionInOut.prototype._updateTime,reverse:function $cc$_easeQuadraticActionInOut$reverse$(){return cc._easeQuadraticActionInOut}};cc.easeQuadraticActionInOut=function $cc$easeQuadraticActionInOut$(){return cc._easeQuadraticActionInOut};
cc.EaseQuarticActionIn=cc.ActionEase.extend({_updateTime:function($time$$){return $time$$*$time$$*$time$$*$time$$},update:function($dt$$){this._inner.update(this._updateTime($dt$$))},clone:function(){var $action$$=new cc.EaseQuarticActionIn;$action$$.initWithAction(this._inner.clone());return $action$$},reverse:function(){return new cc.EaseQuarticActionIn(this._inner.reverse())}});cc.EaseQuarticActionIn.create=function $cc$EaseQuarticActionIn$create$($action$$){return new cc.EaseQuarticActionIn($action$$)};
cc._easeQuarticActionIn={easing:cc.EaseQuarticActionIn.prototype._updateTime,reverse:function $cc$_easeQuarticActionIn$reverse$(){return cc._easeQuarticActionIn}};cc.easeQuarticActionIn=function $cc$easeQuarticActionIn$(){return cc._easeQuarticActionIn};
cc.EaseQuarticActionOut=cc.ActionEase.extend({_updateTime:function($time$$){--$time$$;return-($time$$*$time$$*$time$$*$time$$-1)},update:function($dt$$){this._inner.update(this._updateTime($dt$$))},clone:function(){var $action$$=new cc.EaseQuarticActionOut;$action$$.initWithAction(this._inner.clone());return $action$$},reverse:function(){return new cc.EaseQuarticActionOut(this._inner.reverse())}});cc.EaseQuarticActionOut.create=function $cc$EaseQuarticActionOut$create$($action$$){return new cc.EaseQuarticActionOut($action$$)};
cc._easeQuarticActionOut={easing:cc.EaseQuarticActionOut.prototype._updateTime,reverse:function $cc$_easeQuarticActionOut$reverse$(){return cc._easeQuarticActionOut}};cc.easeQuarticActionOut=function $cc$easeQuarticActionOut$(){return cc._easeQuarticActionOut};
cc.EaseQuarticActionInOut=cc.ActionEase.extend({_updateTime:function($time$$){$time$$*=2;if(1>$time$$)return.5*$time$$*$time$$*$time$$*$time$$;$time$$-=2;return-.5*($time$$*$time$$*$time$$*$time$$-2)},update:function($dt$$){this._inner.update(this._updateTime($dt$$))},clone:function(){var $action$$=new cc.EaseQuarticActionInOut;$action$$.initWithAction(this._inner.clone());return $action$$},reverse:function(){return new cc.EaseQuarticActionInOut(this._inner.reverse())}});
cc.EaseQuarticActionInOut.create=function $cc$EaseQuarticActionInOut$create$($action$$){return new cc.EaseQuarticActionInOut($action$$)};cc._easeQuarticActionInOut={easing:cc.EaseQuarticActionInOut.prototype._updateTime,reverse:function $cc$_easeQuarticActionInOut$reverse$(){return cc._easeQuarticActionInOut}};cc.easeQuarticActionInOut=function $cc$easeQuarticActionInOut$(){return cc._easeQuarticActionInOut};
cc.EaseQuinticActionIn=cc.ActionEase.extend({_updateTime:function($time$$){return $time$$*$time$$*$time$$*$time$$*$time$$},update:function($dt$$){this._inner.update(this._updateTime($dt$$))},clone:function(){var $action$$=new cc.EaseQuinticActionIn;$action$$.initWithAction(this._inner.clone());return $action$$},reverse:function(){return new cc.EaseQuinticActionIn(this._inner.reverse())}});cc.EaseQuinticActionIn.create=function $cc$EaseQuinticActionIn$create$($action$$){return new cc.EaseQuinticActionIn($action$$)};
cc._easeQuinticActionIn={easing:cc.EaseQuinticActionIn.prototype._updateTime,reverse:function $cc$_easeQuinticActionIn$reverse$(){return cc._easeQuinticActionIn}};cc.easeQuinticActionIn=function $cc$easeQuinticActionIn$(){return cc._easeQuinticActionIn};
cc.EaseQuinticActionOut=cc.ActionEase.extend({_updateTime:function($time$$){--$time$$;return $time$$*$time$$*$time$$*$time$$*$time$$+1},update:function($dt$$){this._inner.update(this._updateTime($dt$$))},clone:function(){var $action$$=new cc.EaseQuinticActionOut;$action$$.initWithAction(this._inner.clone());return $action$$},reverse:function(){return new cc.EaseQuinticActionOut(this._inner.reverse())}});cc.EaseQuinticActionOut.create=function $cc$EaseQuinticActionOut$create$($action$$){return new cc.EaseQuinticActionOut($action$$)};
cc._easeQuinticActionOut={easing:cc.EaseQuinticActionOut.prototype._updateTime,reverse:function $cc$_easeQuinticActionOut$reverse$(){return cc._easeQuinticActionOut}};cc.easeQuinticActionOut=function $cc$easeQuinticActionOut$(){return cc._easeQuinticActionOut};
cc.EaseQuinticActionInOut=cc.ActionEase.extend({_updateTime:function($time$$){$time$$*=2;if(1>$time$$)return.5*$time$$*$time$$*$time$$*$time$$*$time$$;$time$$-=2;return.5*($time$$*$time$$*$time$$*$time$$*$time$$+2)},update:function($dt$$){this._inner.update(this._updateTime($dt$$))},clone:function(){var $action$$=new cc.EaseQuinticActionInOut;$action$$.initWithAction(this._inner.clone());return $action$$},reverse:function(){return new cc.EaseQuinticActionInOut(this._inner.reverse())}});
cc.EaseQuinticActionInOut.create=function $cc$EaseQuinticActionInOut$create$($action$$){return new cc.EaseQuinticActionInOut($action$$)};cc._easeQuinticActionInOut={easing:cc.EaseQuinticActionInOut.prototype._updateTime,reverse:function $cc$_easeQuinticActionInOut$reverse$(){return cc._easeQuinticActionInOut}};cc.easeQuinticActionInOut=function $cc$easeQuinticActionInOut$(){return cc._easeQuinticActionInOut};
cc.EaseCircleActionIn=cc.ActionEase.extend({_updateTime:function($time$$){return-1*(Math.sqrt(1-$time$$*$time$$)-1)},update:function($dt$$){this._inner.update(this._updateTime($dt$$))},clone:function(){var $action$$=new cc.EaseCircleActionIn;$action$$.initWithAction(this._inner.clone());return $action$$},reverse:function(){return new cc.EaseCircleActionIn(this._inner.reverse())}});cc.EaseCircleActionIn.create=function $cc$EaseCircleActionIn$create$($action$$){return new cc.EaseCircleActionIn($action$$)};
cc._easeCircleActionIn={easing:cc.EaseCircleActionIn.prototype._updateTime,reverse:function $cc$_easeCircleActionIn$reverse$(){return cc._easeCircleActionIn}};cc.easeCircleActionIn=function $cc$easeCircleActionIn$(){return cc._easeCircleActionIn};
cc.EaseCircleActionOut=cc.ActionEase.extend({_updateTime:function($time$$){--$time$$;return Math.sqrt(1-$time$$*$time$$)},update:function($dt$$){this._inner.update(this._updateTime($dt$$))},clone:function(){var $action$$=new cc.EaseCircleActionOut;$action$$.initWithAction(this._inner.clone());return $action$$},reverse:function(){return new cc.EaseCircleActionOut(this._inner.reverse())}});cc.EaseCircleActionOut.create=function $cc$EaseCircleActionOut$create$($action$$){return new cc.EaseCircleActionOut($action$$)};
cc._easeCircleActionOut={easing:cc.EaseCircleActionOut.prototype._updateTime,reverse:function $cc$_easeCircleActionOut$reverse$(){return cc._easeCircleActionOut}};cc.easeCircleActionOut=function $cc$easeCircleActionOut$(){return cc._easeCircleActionOut};
cc.EaseCircleActionInOut=cc.ActionEase.extend({_updateTime:function($time$$){$time$$*=2;if(1>$time$$)return-.5*(Math.sqrt(1-$time$$*$time$$)-1);$time$$-=2;return.5*(Math.sqrt(1-$time$$*$time$$)+1)},update:function($dt$$){this._inner.update(this._updateTime($dt$$))},clone:function(){var $action$$=new cc.EaseCircleActionInOut;$action$$.initWithAction(this._inner.clone());return $action$$},reverse:function(){return new cc.EaseCircleActionInOut(this._inner.reverse())}});
cc.EaseCircleActionInOut.create=function $cc$EaseCircleActionInOut$create$($action$$){return new cc.EaseCircleActionInOut($action$$)};cc._easeCircleActionInOut={easing:cc.EaseCircleActionInOut.prototype._updateTime,reverse:function $cc$_easeCircleActionInOut$reverse$(){return cc._easeCircleActionInOut}};cc.easeCircleActionInOut=function $cc$easeCircleActionInOut$(){return cc._easeCircleActionInOut};
cc.EaseCubicActionIn=cc.ActionEase.extend({_updateTime:function($time$$){return $time$$*$time$$*$time$$},update:function($dt$$){this._inner.update(this._updateTime($dt$$))},clone:function(){var $action$$=new cc.EaseCubicActionIn;$action$$.initWithAction(this._inner.clone());return $action$$},reverse:function(){return new cc.EaseCubicActionIn(this._inner.reverse())}});cc.EaseCubicActionIn.create=function $cc$EaseCubicActionIn$create$($action$$){return new cc.EaseCubicActionIn($action$$)};
cc._easeCubicActionIn={easing:cc.EaseCubicActionIn.prototype._updateTime,reverse:function $cc$_easeCubicActionIn$reverse$(){return cc._easeCubicActionIn}};cc.easeCubicActionIn=function $cc$easeCubicActionIn$(){return cc._easeCubicActionIn};
cc.EaseCubicActionOut=cc.ActionEase.extend({_updateTime:function($time$$){--$time$$;return $time$$*$time$$*$time$$+1},update:function($dt$$){this._inner.update(this._updateTime($dt$$))},clone:function(){var $action$$=new cc.EaseCubicActionOut;$action$$.initWithAction(this._inner.clone());return $action$$},reverse:function(){return new cc.EaseCubicActionOut(this._inner.reverse())}});cc.EaseCubicActionOut.create=function $cc$EaseCubicActionOut$create$($action$$){return new cc.EaseCubicActionOut($action$$)};
cc._easeCubicActionOut={easing:cc.EaseCubicActionOut.prototype._updateTime,reverse:function $cc$_easeCubicActionOut$reverse$(){return cc._easeCubicActionOut}};cc.easeCubicActionOut=function $cc$easeCubicActionOut$(){return cc._easeCubicActionOut};
cc.EaseCubicActionInOut=cc.ActionEase.extend({_updateTime:function($time$$){$time$$*=2;if(1>$time$$)return.5*$time$$*$time$$*$time$$;$time$$-=2;return.5*($time$$*$time$$*$time$$+2)},update:function($dt$$){this._inner.update(this._updateTime($dt$$))},clone:function(){var $action$$=new cc.EaseCubicActionInOut;$action$$.initWithAction(this._inner.clone());return $action$$},reverse:function(){return new cc.EaseCubicActionInOut(this._inner.reverse())}});cc.EaseCubicActionInOut.create=function $cc$EaseCubicActionInOut$create$($action$$){return new cc.EaseCubicActionInOut($action$$)};
cc._easeCubicActionInOut={easing:cc.EaseCubicActionInOut.prototype._updateTime,reverse:function $cc$_easeCubicActionInOut$reverse$(){return cc._easeCubicActionInOut}};cc.easeCubicActionInOut=function $cc$easeCubicActionInOut$(){return cc._easeCubicActionInOut};
cc.cardinalSplineAt=function $cc$cardinalSplineAt$($p0$$,$p1$$,$p2$$,$p3$$,$b1_tension$$,$b3_t$$){var $b4_t2$$=$b3_t$$*$b3_t$$,$t3$$=$b4_t2$$*$b3_t$$,$s$$=(1-$b1_tension$$)/2;$b1_tension$$=$s$$*(-$t3$$+2*$b4_t2$$-$b3_t$$);var $b2$$=$s$$*(-$t3$$+$b4_t2$$)+(2*$t3$$-3*$b4_t2$$+1);$b3_t$$=$s$$*($t3$$-2*$b4_t2$$+$b3_t$$)+(-2*$t3$$+3*$b4_t2$$);$b4_t2$$=$s$$*($t3$$-$b4_t2$$);return cc.p($p0$$.x*$b1_tension$$+$p1$$.x*$b2$$+$p2$$.x*$b3_t$$+$p3$$.x*$b4_t2$$,$p0$$.y*$b1_tension$$+$p1$$.y*$b2$$+$p2$$.y*$b3_t$$+
$p3$$.y*$b4_t2$$)};cc.reverseControlPoints=function $cc$reverseControlPoints$($controlPoints$$){for(var $newArray$$=[],$i$$=$controlPoints$$.length-1;0<=$i$$;$i$$--)$newArray$$.push(cc.p($controlPoints$$[$i$$].x,$controlPoints$$[$i$$].y));return $newArray$$};cc.cloneControlPoints=function $cc$cloneControlPoints$($controlPoints$$){for(var $newArray$$=[],$i$$=0;$i$$<$controlPoints$$.length;$i$$++)$newArray$$.push(cc.p($controlPoints$$[$i$$].x,$controlPoints$$[$i$$].y));return $newArray$$};
cc.copyControlPoints=cc.cloneControlPoints;cc.getControlPointAt=function $cc$getControlPointAt$($controlPoints$$,$pos$$){var $p$$=Math.min($controlPoints$$.length-1,Math.max($pos$$,0));return $controlPoints$$[$p$$]};
cc.reverseControlPointsInline=function $cc$reverseControlPointsInline$($controlPoints$$){for(var $len$$=$controlPoints$$.length,$mid$$=0|$len$$/2,$i$$=0;$i$$<$mid$$;++$i$$){var $temp$$=$controlPoints$$[$i$$];$controlPoints$$[$i$$]=$controlPoints$$[$len$$-$i$$-1];$controlPoints$$[$len$$-$i$$-1]=$temp$$}};
cc.CardinalSplineTo=cc.ActionInterval.extend({_points:null,_deltaT:0,_tension:0,_previousPosition:null,_accumulatedDiff:null,ctor:function($duration$$,$points$$,$tension$$){cc.ActionInterval.prototype.ctor.call(this);this._points=[];void 0!==$tension$$&&this.initWithDuration($duration$$,$points$$,$tension$$)},initWithDuration:function($duration$$,$points$$,$tension$$){if(!$points$$||0==$points$$.length)throw"Invalid configuration. It must at least have one control point";return cc.ActionInterval.prototype.initWithDuration.call(this,
$duration$$)?(this.setPoints($points$$),this._tension=$tension$$,!0):!1},clone:function(){var $action$$=new cc.CardinalSplineTo;$action$$.initWithDuration(this._duration,cc.copyControlPoints(this._points),this._tension);return $action$$},startWithTarget:function($target$$){cc.ActionInterval.prototype.startWithTarget.call(this,$target$$);this._deltaT=1/(this._points.length-1);this._previousPosition=cc.p(this.target.getPositionX(),this.target.getPositionY());this._accumulatedDiff=cc.p(0,0)},update:function($dt$$93_lt$$){$dt$$93_lt$$=
this._computeEaseTime($dt$$93_lt$$);var $newPos$$2_p$$,$ps_tempX$$=this._points;if(1==$dt$$93_lt$$)$newPos$$2_p$$=$ps_tempX$$.length-1,$dt$$93_lt$$=1;else{var $locAccDiff_locDT$$=this._deltaT;$newPos$$2_p$$=0|$dt$$93_lt$$/$locAccDiff_locDT$$;$dt$$93_lt$$=($dt$$93_lt$$-$locAccDiff_locDT$$*$newPos$$2_p$$)/$locAccDiff_locDT$$}$newPos$$2_p$$=cc.cardinalSplineAt(cc.getControlPointAt($ps_tempX$$,$newPos$$2_p$$-1),cc.getControlPointAt($ps_tempX$$,$newPos$$2_p$$-0),cc.getControlPointAt($ps_tempX$$,$newPos$$2_p$$+
1),cc.getControlPointAt($ps_tempX$$,$newPos$$2_p$$+2),this._tension,$dt$$93_lt$$);cc.ENABLE_STACKABLE_ACTIONS&&($ps_tempX$$=this.target.getPositionX()-this._previousPosition.x,$dt$$93_lt$$=this.target.getPositionY()-this._previousPosition.y,0!=$ps_tempX$$||0!=$dt$$93_lt$$)&&($locAccDiff_locDT$$=this._accumulatedDiff,$ps_tempX$$=$locAccDiff_locDT$$.x+$ps_tempX$$,$dt$$93_lt$$=$locAccDiff_locDT$$.y+$dt$$93_lt$$,$locAccDiff_locDT$$.x=$ps_tempX$$,$locAccDiff_locDT$$.y=$dt$$93_lt$$,$newPos$$2_p$$.x+=$ps_tempX$$,
$newPos$$2_p$$.y+=$dt$$93_lt$$);this.updatePosition($newPos$$2_p$$)},reverse:function(){var $reversePoints$$=cc.reverseControlPoints(this._points);return cc.cardinalSplineTo(this._duration,$reversePoints$$,this._tension)},updatePosition:function($newPos$$){this.target.setPosition($newPos$$);this._previousPosition=$newPos$$},getPoints:function(){return this._points},setPoints:function($points$$){this._points=$points$$}});
cc.cardinalSplineTo=function $cc$cardinalSplineTo$($duration$$,$points$$,$tension$$){return new cc.CardinalSplineTo($duration$$,$points$$,$tension$$)};cc.CardinalSplineTo.create=cc.cardinalSplineTo;
cc.CardinalSplineBy=cc.CardinalSplineTo.extend({_startPosition:null,ctor:function($duration$$,$points$$,$tension$$){cc.CardinalSplineTo.prototype.ctor.call(this);this._startPosition=cc.p(0,0);void 0!==$tension$$&&this.initWithDuration($duration$$,$points$$,$tension$$)},startWithTarget:function($target$$){cc.CardinalSplineTo.prototype.startWithTarget.call(this,$target$$);this._startPosition.x=$target$$.getPositionX();this._startPosition.y=$target$$.getPositionY()},reverse:function(){for(var $copyConfig_reverseArray$$=
this._points.slice(),$current$$,$p$$=$copyConfig_reverseArray$$[0],$i$$=1;$i$$<$copyConfig_reverseArray$$.length;++$i$$)$current$$=$copyConfig_reverseArray$$[$i$$],$copyConfig_reverseArray$$[$i$$]=cc.pSub($current$$,$p$$),$p$$=$current$$;$copyConfig_reverseArray$$=cc.reverseControlPoints($copyConfig_reverseArray$$);$p$$=$copyConfig_reverseArray$$[$copyConfig_reverseArray$$.length-1];$copyConfig_reverseArray$$.pop();$p$$.x=-$p$$.x;$p$$.y=-$p$$.y;$copyConfig_reverseArray$$.unshift($p$$);for($i$$=1;$i$$<
$copyConfig_reverseArray$$.length;++$i$$)$current$$=$copyConfig_reverseArray$$[$i$$],$current$$.x=-$current$$.x,$current$$.y=-$current$$.y,$current$$.x+=$p$$.x,$current$$.y+=$p$$.y,$p$$=$copyConfig_reverseArray$$[$i$$]=$current$$;return cc.cardinalSplineBy(this._duration,$copyConfig_reverseArray$$,this._tension)},updatePosition:function($newPos$$4_posY$$){var $pos$$=this._startPosition,$posX$$=$newPos$$4_posY$$.x+$pos$$.x;$newPos$$4_posY$$=$newPos$$4_posY$$.y+$pos$$.y;this._previousPosition.x=$posX$$;
this._previousPosition.y=$newPos$$4_posY$$;this.target.setPosition($posX$$,$newPos$$4_posY$$)},clone:function(){var $a$$=new cc.CardinalSplineBy;$a$$.initWithDuration(this._duration,cc.copyControlPoints(this._points),this._tension);return $a$$}});cc.cardinalSplineBy=function $cc$cardinalSplineBy$($duration$$,$points$$,$tension$$){return new cc.CardinalSplineBy($duration$$,$points$$,$tension$$)};cc.CardinalSplineBy.create=cc.cardinalSplineBy;
cc.CatmullRomTo=cc.CardinalSplineTo.extend({ctor:function($dt$$,$points$$){$points$$&&this.initWithDuration($dt$$,$points$$)},initWithDuration:function($dt$$,$points$$){return cc.CardinalSplineTo.prototype.initWithDuration.call(this,$dt$$,$points$$,.5)},clone:function(){var $action$$=new cc.CatmullRomTo;$action$$.initWithDuration(this._duration,cc.copyControlPoints(this._points));return $action$$}});cc.catmullRomTo=function $cc$catmullRomTo$($dt$$,$points$$){return new cc.CatmullRomTo($dt$$,$points$$)};
cc.CatmullRomTo.create=cc.catmullRomTo;cc.CatmullRomBy=cc.CardinalSplineBy.extend({ctor:function($dt$$,$points$$){cc.CardinalSplineBy.prototype.ctor.call(this);$points$$&&this.initWithDuration($dt$$,$points$$)},initWithDuration:function($dt$$,$points$$){return cc.CardinalSplineTo.prototype.initWithDuration.call(this,$dt$$,$points$$,.5)},clone:function(){var $action$$=new cc.CatmullRomBy;$action$$.initWithDuration(this._duration,cc.copyControlPoints(this._points));return $action$$}});
cc.catmullRomBy=function $cc$catmullRomBy$($dt$$,$points$$){return new cc.CatmullRomBy($dt$$,$points$$)};cc.CatmullRomBy.create=cc.catmullRomBy;cc.ActionTweenDelegate=cc.Class.extend({updateTweenAction:function($value$$,$key$$){}});
cc.ActionTween=cc.ActionInterval.extend({key:"",from:0,to:0,delta:0,ctor:function($duration$$,$key$$,$from$$,$to$$){cc.ActionInterval.prototype.ctor.call(this);this.key="";void 0!==$to$$&&this.initWithDuration($duration$$,$key$$,$from$$,$to$$)},initWithDuration:function($duration$$,$key$$,$from$$,$to$$){return cc.ActionInterval.prototype.initWithDuration.call(this,$duration$$)?(this.key=$key$$,this.to=$to$$,this.from=$from$$,!0):!1},startWithTarget:function($target$$){if(!$target$$||!$target$$.updateTweenAction)throw"cc.ActionTween.startWithTarget(): target must be non-null, and target must implement updateTweenAction function";
cc.ActionInterval.prototype.startWithTarget.call(this,$target$$);this.delta=this.to-this.from},update:function($dt$$){this.target.updateTweenAction(this.to-this.delta*(1-$dt$$),this.key)},reverse:function(){return new cc.ActionTween(this.duration,this.key,this.to,this.from)},clone:function(){var $action$$=new cc.ActionTween;$action$$.initWithDuration(this._duration,this.key,this.from,this.to);return $action$$}});
cc.actionTween=function $cc$actionTween$($duration$$,$key$$,$from$$,$to$$){return new cc.ActionTween($duration$$,$key$$,$from$$,$to$$)};cc.ActionTween.create=cc.actionTween;
if(cc.sys._supportWebAudio){var _ctx=cc.webAudioContext=new (window.AudioContext||window.webkitAudioContext||window.mozAudioContext);cc.WebAudio=cc.Class.extend({_events:null,_buffer:null,_sourceNode:null,_volumeNode:null,src:null,preload:null,autoplay:null,controls:null,mediagroup:null,currentTime:0,startTime:0,duration:0,_loop:null,_volume:1,_pauseTime:0,_paused:!1,_stopped:!0,_loadState:-1,ctor:function($src$$){this._events={};this.src=$src$$;this._volumeNode=_ctx.createGain?_ctx.createGain():
_ctx.createGainNode();this._onSuccess1=this._onSuccess.bind(this);this._onError1=this._onError.bind(this)},_play:function($offset$$){var $sourceNode$$=this._sourceNode=_ctx.createBufferSource(),$duration$$=this._volumeNode;$offset$$=$offset$$||0;$sourceNode$$.buffer=this._buffer;$duration$$.gain.value=this._volume;$sourceNode$$.connect($duration$$);$duration$$.connect(_ctx.destination);$sourceNode$$.loop=this._loop;$sourceNode$$._stopped=!1;$sourceNode$$.playbackState||($sourceNode$$.onended=function $$sourceNode$$$onended$(){this._stopped=
!0});this._stopped=this._paused=!1;$sourceNode$$.start?$sourceNode$$.start(0,$offset$$):$sourceNode$$.noteGrainOn?($duration$$=$sourceNode$$.buffer.duration,this.loop?$sourceNode$$.noteGrainOn(0,$offset$$,$duration$$):$sourceNode$$.noteGrainOn(0,$offset$$,$duration$$-$offset$$)):$sourceNode$$.noteOn(0);this._pauseTime=0},_stop:function(){var $sourceNode$$=this._sourceNode;this._stopped||($sourceNode$$.stop?$sourceNode$$.stop(0):$sourceNode$$.noteOff(0),this._stopped=!0)},play:function(){if(-1==this._loadState)this._loadState=
0;else if(1==this._loadState){var $sourceNode$$=this._sourceNode;if(this._stopped||!$sourceNode$$||2!=$sourceNode$$.playbackState&&$sourceNode$$._stopped)this.startTime=_ctx.currentTime,this._play(0)}},pause:function(){this._pauseTime=_ctx.currentTime;this._paused=!0;this._stop()},resume:function(){this._paused&&this._play(this._buffer?(this._pauseTime-this.startTime)%this._buffer.duration:0)},stop:function(){this._pauseTime=0;this._paused=!1;this._stop()},load:function(){var $self$$=this;if(1!=$self$$._loadState){$self$$._loadState=
-1;$self$$.played=!1;$self$$.ended=!0;var $request$$=new XMLHttpRequest;$request$$.open("GET",$self$$.src,!0);$request$$.responseType="arraybuffer";$request$$.onload=function $$request$$$onload$(){_ctx.decodeAudioData($request$$.response,$self$$._onSuccess1,$self$$._onError1)};$request$$.send()}},addEventListener:function($eventName$$,$event$$){this._events[$eventName$$]=$event$$.bind(this)},removeEventListener:function($eventName$$){delete this._events[$eventName$$]},canplay:function(){return cc.sys._supportWebAudio},
_onSuccess:function($buffer$$){this._buffer=$buffer$$;$buffer$$=this._events.success;var $canplaythrough$$=this._events.canplaythrough;$buffer$$&&$buffer$$();$canplaythrough$$&&$canplaythrough$$();0!=this._loadState&&"autoplay"!=this.autoplay&&1!=this.autoplay||this._play();this._loadState=1},_onError:function(){var $error$$=this._events.error;$error$$&&$error$$();this._loadState=-2},cloneNode:function(){var $obj$$=new cc.WebAudio(this.src);$obj$$.volume=this.volume;$obj$$._loadState=this._loadState;
$obj$$._buffer=this._buffer;0!=$obj$$._loadState&&-1!=$obj$$._loadState||$obj$$.load();return $obj$$}});_p=cc.WebAudio.prototype;_p.loop;cc.defineGetterSetter(_p,"loop",function(){return this._loop},function($loop$$){this._loop=$loop$$;this._sourceNode&&(this._sourceNode.loop=$loop$$)});_p.volume;cc.defineGetterSetter(_p,"volume",function(){return this._volume},function($volume$$){this._volume=$volume$$;this._volumeNode.gain.value=$volume$$});_p.paused;cc.defineGetterSetter(_p,"paused",function(){return this._paused});
_p.ended;cc.defineGetterSetter(_p,"ended",function(){var $sourceNode$$=this._sourceNode;return this._paused?!1:this._stopped&&!$sourceNode$$?!0:null==$sourceNode$$.playbackState?$sourceNode$$._stopped:3==$sourceNode$$.playbackState});_p.played;cc.defineGetterSetter(_p,"played",function(){var $sourceNode$$=this._sourceNode;return $sourceNode$$&&(2==$sourceNode$$.playbackState||!$sourceNode$$._stopped)})}
cc.AudioEngine=cc.Class.extend({_soundSupported:!1,_currMusic:null,_currMusicPath:null,_musicPlayState:0,_audioID:0,_effects:{},_audioPool:{},_effectsVolume:1,_maxAudioInstance:5,_effectPauseCb:null,_playings:[],ctor:function(){this._soundSupported=0<cc._audioLoader._supportedAudioTypes.length;this._effectPauseCb&&(this._effectPauseCb=this._effectPauseCb.bind(this))},willPlayMusic:function(){return!1},getEffectsVolume:function(){return this._effectsVolume},playMusic:function($url$$,$loop$$){if(this._soundSupported){var $audio$$=
this._currMusic;$audio$$&&this._stopAudio($audio$$);cc.sys.isMobile&&cc.sys.os==cc.sys.OS_IOS?($audio$$=this._getAudioByUrl($url$$),this._currMusic=$audio$$.cloneNode(),this._currMusicPath=$url$$):$url$$!=this._currMusicPath&&(this._currMusic=$audio$$=this._getAudioByUrl($url$$),this._currMusicPath=$url$$);this._currMusic&&(this._currMusic.loop=$loop$$||!1,this._playMusic(this._currMusic))}},_getAudioByUrl:function($url$$){var $locLoader$$=cc.loader,$audio$$=$locLoader$$.getRes($url$$);$audio$$||
($locLoader$$.load($url$$),$audio$$=$locLoader$$.getRes($url$$));return $audio$$},_playMusic:function($audio$$){$audio$$.ended||($audio$$.stop?$audio$$.stop():($audio$$.pause(),2<$audio$$.readyState&&($audio$$.currentTime=0)));this._musicPlayState=2;$audio$$.play()},stopMusic:function($releaseData$$){if(0<this._musicPlayState){var $audio$$=this._currMusic;$audio$$&&this._stopAudio($audio$$)&&($releaseData$$&&cc.loader.release(this._currMusicPath),this._currMusicPath=this._currMusic=null,this._musicPlayState=
0)}},_stopAudio:function($audio$$){return $audio$$&&!$audio$$.ended?($audio$$.stop?$audio$$.stop():($audio$$.pause(),2<$audio$$.readyState&&$audio$$.duration&&Infinity!=$audio$$.duration&&($audio$$.currentTime=$audio$$.duration)),!0):!1},pauseMusic:function(){2==this._musicPlayState&&(this._currMusic.pause(),this._musicPlayState=1)},resumeMusic:function(){1==this._musicPlayState&&(this._resumeAudio(this._currMusic),this._musicPlayState=2)},_resumeAudio:function($audio$$){$audio$$&&!$audio$$.ended&&
($audio$$.resume?$audio$$.resume():$audio$$.play())},rewindMusic:function(){this._currMusic&&this._playMusic(this._currMusic)},getMusicVolume:function(){return 0==this._musicPlayState?0:this._currMusic.volume},setMusicVolume:function($volume$$){0<this._musicPlayState&&(this._currMusic.volume=Math.min(Math.max($volume$$,0),1))},isMusicPlaying:function(){return 2==this._musicPlayState&&this._currMusic&&!this._currMusic.ended},_getEffectList:function($url$$){var $list$$=this._audioPool[$url$$];$list$$||
($list$$=this._audioPool[$url$$]=[]);return $list$$},_getEffect:function($url$$){var $audio$$;if(!this._soundSupported)return null;var $effList$$=this._getEffectList($url$$);if(cc.sys.isMobile&&cc.sys.os==cc.sys.OS_IOS)$audio$$=this._getEffectAudio($effList$$,$url$$);else{for(var $i$$=0,$li$$=$effList$$.length;$i$$<$li$$;$i$$++){var $eff$$=$effList$$[$i$$];if($eff$$.ended){$audio$$=$eff$$;2<$audio$$.readyState&&($audio$$.currentTime=0);window.chrome&&$audio$$.load();break}}$audio$$||($audio$$=this._getEffectAudio($effList$$,
$url$$))&&$effList$$.push($audio$$)}return $audio$$},_getEffectAudio:function($effList$$,$url$$){var $audio$$;if($effList$$.length>=this._maxAudioInstance)return cc.log("Error: "+$url$$+" greater than "+this._maxAudioInstance),null;$audio$$=this._getAudioByUrl($url$$);if(!$audio$$)return null;$audio$$=$audio$$.cloneNode(!0);this._effectPauseCb&&cc._addEventListener($audio$$,"pause",this._effectPauseCb);$audio$$.volume=this._effectsVolume;return $audio$$},playEffect:function($url$$,$loop$$){var $audio$$=
this._getEffect($url$$);if(!$audio$$)return null;$audio$$.loop=$loop$$||!1;$audio$$.play();var $audioId$$=this._audioID++;this._effects[$audioId$$]=$audio$$;return $audioId$$},setEffectsVolume:function($volume$$){$volume$$=this._effectsVolume=Math.min(Math.max($volume$$,0),1);var $effects$$=this._effects,$key$$;for($key$$ in $effects$$)$effects$$[$key$$].volume=$volume$$},pauseEffect:function($audio$$){($audio$$=this._effects[$audio$$])&&!$audio$$.ended&&$audio$$.pause()},pauseAllEffects:function(){var $effects$$=
this._effects,$key$$;for($key$$ in $effects$$){var $eff$$=$effects$$[$key$$];$eff$$.ended||$eff$$.pause()}},resumeEffect:function($effectId$$){this._resumeAudio(this._effects[$effectId$$])},resumeAllEffects:function(){var $effects$$=this._effects,$key$$;for($key$$ in $effects$$)this._resumeAudio($effects$$[$key$$])},stopEffect:function($effectId$$){this._stopAudio(this._effects[$effectId$$]);delete this._effects[$effectId$$]},stopAllEffects:function(){var $effects$$=this._effects,$key$$;for($key$$ in $effects$$)this._stopAudio($effects$$[$key$$]),
delete $effects$$[$key$$]},unloadEffect:function($url$$){var $locLoader$$1_realUrl$$=cc.loader,$locEffects$$=this._effects,$effectList$$=this._getEffectList($url$$);$locLoader$$1_realUrl$$.release($url$$);if(0!=$effectList$$.length){$locLoader$$1_realUrl$$=$effectList$$[0].src;delete this._audioPool[$url$$];for(var $key$$ in $locEffects$$)$locEffects$$[$key$$].src==$locLoader$$1_realUrl$$&&(this._stopAudio($locEffects$$[$key$$]),delete $locEffects$$[$key$$])}},end:function(){this.stopMusic();this.stopAllEffects()},
_pausePlaying:function(){var $effects$$=this._effects,$eff$$,$key$$;for($key$$ in $effects$$)!($eff$$=$effects$$[$key$$])||$eff$$.ended||$eff$$.paused||(this._playings.push($eff$$),$eff$$.pause());this.isMusicPlaying()&&(this._playings.push(this._currMusic),this._currMusic.pause())},_resumePlaying:function(){for(var $playings$$=this._playings,$i$$=0,$li$$=$playings$$.length;$i$$<$li$$;$i$$++)this._resumeAudio($playings$$[$i$$]);$playings$$.length=0}});
cc.sys._supportWebAudio||cc.sys._supportMultipleAudio||(cc.AudioEngineForSingle=cc.AudioEngine.extend({_waitingEffIds:[],_pausedEffIds:[],_currEffect:null,_maxAudioInstance:2,_effectCache4Single:{},_needToResumeMusic:!1,_expendTime4Music:0,_isHiddenMode:!1,_playMusic:function($audio$$){this._stopAllEffects();this._super($audio$$)},resumeMusic:function(){1==this._musicPlayState&&(this._stopAllEffects(),this._needToResumeMusic=!1,this._expendTime4Music=0,this._super())},playEffect:function($url$$,$loop$$){var $currEffect$$=
this._currEffect,$audio$$=$loop$$?this._getEffect($url$$):this._getSingleEffect($url$$);if(!$audio$$)return null;$audio$$.loop=$loop$$||!1;var $audioId$$=this._audioID++;this._effects[$audioId$$]=$audio$$;this.isMusicPlaying()&&(this.pauseMusic(),this._needToResumeMusic=!0);$currEffect$$?($currEffect$$!=$audio$$&&this._waitingEffIds.push(this._currEffectId),this._waitingEffIds.push($audioId$$),$currEffect$$.pause()):(this._currEffect=$audio$$,this._currEffectId=$audioId$$,$audio$$.play());return $audioId$$},
pauseEffect:function($effectId$$){cc.log("pauseEffect not supported in single audio mode!")},pauseAllEffects:function(){var $waitings$$=this._waitingEffIds,$pauseds$$=this._pausedEffIds,$currEffect$$=this._currEffect;if($currEffect$$){for(var $i$$=0,$li$$=$waitings$$.length;$i$$<$li$$;$i$$++)$pauseds$$.push($waitings$$[$i$$]);$waitings$$.length=0;$pauseds$$.push(this._currEffectId);$currEffect$$.pause()}},resumeEffect:function($effectId$$){cc.log("resumeEffect not supported in single audio mode!")},
resumeAllEffects:function(){var $effId_waitings$$=this._waitingEffIds,$eff$$3_pauseds$$=this._pausedEffIds;this.isMusicPlaying()&&(this.pauseMusic(),this._needToResumeMusic=!0);for(var $i$$=0,$li$$=$eff$$3_pauseds$$.length;$i$$<$li$$;$i$$++)$effId_waitings$$.push($eff$$3_pauseds$$[$i$$]);$eff$$3_pauseds$$.length=0;!this._currEffect&&0<=$effId_waitings$$.length&&($effId_waitings$$=$effId_waitings$$.pop(),$eff$$3_pauseds$$=this._effects[$effId_waitings$$])&&(this._currEffectId=$effId_waitings$$,this._currEffect=
$eff$$3_pauseds$$,this._resumeAudio($eff$$3_pauseds$$))},stopEffect:function($effectId$$){var $currEffect$$2_index$$=this._currEffect,$waitings$$=this._waitingEffIds,$pauseds$$=this._pausedEffIds;$currEffect$$2_index$$&&this._currEffectId==$effectId$$?this._stopAudio($currEffect$$2_index$$):($currEffect$$2_index$$=$waitings$$.indexOf($effectId$$),0<=$currEffect$$2_index$$?$waitings$$.splice($currEffect$$2_index$$,1):($currEffect$$2_index$$=$pauseds$$.indexOf($effectId$$),0<=$currEffect$$2_index$$&&
$pauseds$$.splice($currEffect$$2_index$$,1)))},stopAllEffects:function(){this._stopAllEffects();!this._currEffect&&this._needToResumeMusic&&(this._resumeAudio(this._currMusic),this._musicPlayState=2,this._needToResumeMusic=!1,this._expendTime4Music=0)},unloadEffect:function($url$$){var $locLoader$$2_realUrl$$=cc.loader,$locEffects$$=this._effects,$effCache$$=this._effectCache4Single,$effectList$$=this._getEffectList($url$$),$currEffect$$=this._currEffect;$locLoader$$2_realUrl$$.release($url$$);if(0!=
$effectList$$.length||$effCache$$[$url$$]){$locLoader$$2_realUrl$$=0<$effectList$$.length?$effectList$$[0].src:$effCache$$[$url$$].src;delete this._audioPool[$url$$];delete $effCache$$[$url$$];for(var $key$$ in $locEffects$$)$locEffects$$[$key$$].src==$locLoader$$2_realUrl$$&&delete $locEffects$$[$key$$];$currEffect$$&&$currEffect$$.src==$locLoader$$2_realUrl$$&&this._stopAudio($currEffect$$)}},_getSingleEffect:function($i$$161_url$$){var $audio$$=this._effectCache4Single[$i$$161_url$$],$waitings$$=
this._waitingEffIds,$pauseds$$=this._pausedEffIds,$effects$$=this._effects;if($audio$$)2<$audio$$.readyState&&($audio$$.currentTime=0);else{$audio$$=this._getAudioByUrl($i$$161_url$$);if(!$audio$$)return null;$audio$$=$audio$$.cloneNode(!0);this._effectPauseCb&&cc._addEventListener($audio$$,"pause",this._effectPauseCb);$audio$$.volume=this._effectsVolume;this._effectCache4Single[$i$$161_url$$]=$audio$$}$i$$161_url$$=0;for(var $li$$=$waitings$$.length;$i$$161_url$$<$li$$;)$effects$$[$waitings$$[$i$$161_url$$]]==
$audio$$?$waitings$$.splice($i$$161_url$$,1):$i$$161_url$$++;$i$$161_url$$=0;for($li$$=$pauseds$$.length;$i$$161_url$$<$li$$;)$effects$$[$pauseds$$[$i$$161_url$$]]==$audio$$?$pauseds$$.splice($i$$161_url$$,1):$i$$161_url$$++;$audio$$._isToPlay=!0;return $audio$$},_stopAllEffects:function(){var $currEffect$$=this._currEffect,$audioPool$$=this._audioPool,$list$$=this._effectCache4Single,$i$$162_waitings$$=this._waitingEffIds,$li$$16_pauseds$$=this._pausedEffIds;if($currEffect$$||0!=$i$$162_waitings$$.length||
0!=$li$$16_pauseds$$.length){for(var $key$$ in $list$$){var $eff$$=$list$$[$key$$];2<$eff$$.readyState&&$eff$$.duration&&Infinity!=$eff$$.duration&&($eff$$.currentTime=$eff$$.duration)}$i$$162_waitings$$.length=0;$li$$16_pauseds$$.length=0;for($key$$ in $audioPool$$)for($list$$=$audioPool$$[$key$$],$i$$162_waitings$$=0,$li$$16_pauseds$$=$list$$.length;$i$$162_waitings$$<$li$$16_pauseds$$;$i$$162_waitings$$++)$eff$$=$list$$[$i$$162_waitings$$],$eff$$.loop=!1,2<$eff$$.readyState&&$eff$$.duration&&Infinity!=
$eff$$.duration&&($eff$$.currentTime=$eff$$.duration);$currEffect$$&&this._stopAudio($currEffect$$)}},_effectPauseCb:function(){if(!this._isHiddenMode){var $currEffect$$=this._getWaitingEffToPlay();if($currEffect$$)$currEffect$$._isToPlay?(delete $currEffect$$._isToPlay,$currEffect$$.play()):this._resumeAudio($currEffect$$);else if(this._needToResumeMusic){$currEffect$$=this._currMusic;if(2<$currEffect$$.readyState&&$currEffect$$.duration&&Infinity!=$currEffect$$.duration){var $temp$$=$currEffect$$.currentTime+
this._expendTime4Music,$temp$$=$temp$$-$currEffect$$.duration*($temp$$/$currEffect$$.duration|0);$currEffect$$.currentTime=$temp$$}this._expendTime4Music=0;this._resumeAudio($currEffect$$);this._musicPlayState=2;this._needToResumeMusic=!1}}},_getWaitingEffToPlay:function(){var $temp$$8_waitings$$=this._waitingEffIds,$effects$$=this._effects,$currEffect$$6_eff$$=this._currEffect,$expendTime$$=$currEffect$$6_eff$$?$currEffect$$6_eff$$.currentTime-($currEffect$$6_eff$$.startTime||0):0;for(this._expendTime4Music+=
$expendTime$$;0!=$temp$$8_waitings$$.length;){var $effId$$=$temp$$8_waitings$$.pop();if($currEffect$$6_eff$$=$effects$$[$effId$$]){if($currEffect$$6_eff$$._isToPlay||$currEffect$$6_eff$$.loop||$currEffect$$6_eff$$.duration&&$currEffect$$6_eff$$.currentTime+$expendTime$$<$currEffect$$6_eff$$.duration)return this._currEffectId=$effId$$,this._currEffect=$currEffect$$6_eff$$,!$currEffect$$6_eff$$._isToPlay&&2<$currEffect$$6_eff$$.readyState&&$currEffect$$6_eff$$.duration&&Infinity!=$currEffect$$6_eff$$.duration&&
($temp$$8_waitings$$=$currEffect$$6_eff$$.currentTime+$expendTime$$,$temp$$8_waitings$$-=$currEffect$$6_eff$$.duration*($temp$$8_waitings$$/$currEffect$$6_eff$$.duration|0),$currEffect$$6_eff$$.currentTime=$temp$$8_waitings$$),$currEffect$$6_eff$$._isToPlay=!1,$currEffect$$6_eff$$;2<$currEffect$$6_eff$$.readyState&&$currEffect$$6_eff$$.duration&&Infinity!=$currEffect$$6_eff$$.duration&&($currEffect$$6_eff$$.currentTime=$currEffect$$6_eff$$.duration)}}return this._currEffect=this._currEffectId=null},
_pausePlaying:function(){var $audio$$14_currEffect$$=this._currEffect;this._isHiddenMode=!0;if($audio$$14_currEffect$$=2==this._musicPlayState?this._currMusic:$audio$$14_currEffect$$)this._playings.push($audio$$14_currEffect$$),$audio$$14_currEffect$$.pause()},_resumePlaying:function(){var $playings$$=this._playings;this._isHiddenMode=!1;0<$playings$$.length&&(this._resumeAudio($playings$$[0]),$playings$$.length=0)}}));
cc._audioLoader={_supportedAudioTypes:null,getBasePath:function $cc$_audioLoader$getBasePath$(){return cc.loader.audioPath},_load:function $cc$_audioLoader$_load$($realUrl$$,$url$$,$res$$,$count$$,$tryArr$$,$audio$$,$cb$$){var $self$$=this,$locLoader$$=cc.loader,$path$$=cc.path,$types$$=this._supportedAudioTypes,$extname$$="";if(0==$types$$.length)return $cb$$("can not support audio!");if(-1==$count$$)$extname$$=($path$$.extname($realUrl$$)||"").toLowerCase(),$self$$.audioTypeSupported($extname$$)||
($extname$$=$types$$[0],$count$$=0);else if($count$$<$types$$.length)$extname$$=$types$$[$count$$];else return $cb$$("can not found the resource of audio! Last match url is : "+$realUrl$$);if(0<=$tryArr$$.indexOf($extname$$))return $self$$._load($realUrl$$,$url$$,$res$$,$count$$+1,$tryArr$$,$audio$$,$cb$$);$realUrl$$=$path$$.changeExtname($realUrl$$,$extname$$);$tryArr$$.push($extname$$);$audio$$=$self$$._loadAudio($realUrl$$,$audio$$,function($err$$){if($err$$)return $self$$._load($realUrl$$,$url$$,
$res$$,$count$$+1,$tryArr$$,$audio$$,$cb$$);$cb$$(null,$audio$$)},$count$$==$types$$.length-1);$locLoader$$.cache[$url$$]=$audio$$},audioTypeSupported:function $cc$_audioLoader$audioTypeSupported$($type$$){return $type$$?0<=this._supportedAudioTypes.indexOf($type$$.toLowerCase()):!1},_loadAudio:function $cc$_audioLoader$_loadAudio$($url$$,$audio$$,$cb$$,$delFlag$$){var $_Audio_ua$$;$_Audio_ua$$=cc.isObject(window.cc)||"firefox"!=cc.sys.browserType?"file://"==location.origin?Audio:cc.WebAudio||Audio:
Audio;2==arguments.length?($cb$$=$audio$$,$audio$$=new $_Audio_ua$$):3<arguments.length&&!$audio$$&&($audio$$=new $_Audio_ua$$);$audio$$.src=$url$$;$audio$$.preload="auto";$_Audio_ua$$=navigator.userAgent;if(/Mobile/.test($_Audio_ua$$)&&(/iPhone OS/.test($_Audio_ua$$)||/iPad/.test($_Audio_ua$$)||/Firefox/.test($_Audio_ua$$))||/MSIE/.test($_Audio_ua$$))$audio$$.load(),$cb$$(null,$audio$$);else{cc._addEventListener($audio$$,"canplaythrough",function(){$cb$$(null,$audio$$);this.removeEventListener("canplaythrough",
arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)},!1);var $audioCB$$=function $$audioCB$$$(){$audio$$.removeEventListener("emptied",$audioCB$$);$audio$$.removeEventListener("error",$audioCB$$);$cb$$("load "+$url$$+" failed");$delFlag$$&&(this.removeEventListener("canplaythrough",arguments.callee,!1),this.removeEventListener("error",arguments.callee,!1))};cc.sys.browserType===cc.sys.BROWSER_TYPE_WECHAT&&cc._addEventListener($audio$$,"emptied",$audioCB$$,!1);cc._addEventListener($audio$$,
"error",$audioCB$$,!1);$audio$$.load()}return $audio$$},load:function $cc$_audioLoader$load$($realUrl$$,$url$$,$res$$,$cb$$){this._load($realUrl$$,$url$$,$res$$,-1,[],null,$cb$$)}};
cc._audioLoader._supportedAudioTypes=function(){var $au$$=cc.newElement("audio"),$arr$$=[];if($au$$.canPlayType){var $_check$$=function $$_check$$$($result$$){$result$$=$au$$.canPlayType($result$$);return"no"!=$result$$&&""!=$result$$};$_check$$('audio/ogg; codecs="vorbis"')&&$arr$$.push(".ogg");$_check$$("audio/mpeg")&&$arr$$.push(".mp3");$_check$$('audio/wav; codecs="1"')&&$arr$$.push(".wav");$_check$$("audio/mp4")&&$arr$$.push(".mp4");($_check$$("audio/x-m4a")||$_check$$("audio/aac"))&&$arr$$.push(".m4a")}return $arr$$}();
cc.loader.register(["mp3","ogg","wav","mp4","m4a"],cc._audioLoader);cc.audioEngine=cc.AudioEngineForSingle?new cc.AudioEngineForSingle:new cc.AudioEngine;cc.eventManager.addCustomListener(cc.game.EVENT_HIDE,function(){cc.audioEngine._pausePlaying()});cc.eventManager.addCustomListener(cc.game.EVENT_SHOW,function(){cc.audioEngine._resumePlaying()});cc._globalFontSize=cc.ITEM_SIZE;cc._globalFontName="Arial";cc._globalFontNameRelease=!1;
cc.MenuItem=cc.Node.extend({_enabled:!1,_target:null,_callback:null,_isSelected:!1,_className:"MenuItem",ctor:function($callback$$,$target$$){var $nodeP$$=cc.Node.prototype;$nodeP$$.ctor.call(this);this._callback=this._target=null;this._enabled=this._isSelected=!1;$nodeP$$.setAnchorPoint.call(this,.5,.5);this._target=$target$$||null;if(this._callback=$callback$$||null)this._enabled=!0},isSelected:function(){return this._isSelected},setOpacityModifyRGB:function($value$$){},isOpacityModifyRGB:function(){return!1},
setTarget:function($selector$$,$rec$$){this._target=$rec$$;this._callback=$selector$$},isEnabled:function(){return this._enabled},setEnabled:function($enable$$){this._enabled=$enable$$},initWithCallback:function($callback$$,$target$$){this.anchorY=this.anchorX=.5;this._target=$target$$;this._callback=$callback$$;this._enabled=!0;this._isSelected=!1;return!0},rect:function(){var $locPosition$$=this._position,$locContentSize$$=this._contentSize,$locAnchorPoint$$=this._anchorPoint;return cc.rect($locPosition$$.x-
$locContentSize$$.width*$locAnchorPoint$$.x,$locPosition$$.y-$locContentSize$$.height*$locAnchorPoint$$.y,$locContentSize$$.width,$locContentSize$$.height)},selected:function(){this._isSelected=!0},unselected:function(){this._isSelected=!1},setCallback:function($callback$$,$target$$){this._target=$target$$;this._callback=$callback$$},activate:function(){if(this._enabled){var $locTarget$$=this._target,$locCallback$$=this._callback;if($locCallback$$)if($locTarget$$&&cc.isString($locCallback$$))$locTarget$$[$locCallback$$](this);
else $locTarget$$&&cc.isFunction($locCallback$$)?$locCallback$$.call($locTarget$$,this):$locCallback$$(this)}}});_p=cc.MenuItem.prototype;_p.enabled;cc.defineGetterSetter(_p,"enabled",_p.isEnabled,_p.setEnabled);cc.MenuItem.create=function $cc$MenuItem$create$($callback$$,$target$$){return new cc.MenuItem($callback$$,$target$$)};
cc.MenuItemLabel=cc.MenuItem.extend({_disabledColor:null,_label:null,_orginalScale:0,_colorBackup:null,ctor:function($label$$,$selector$$,$target$$){cc.MenuItem.prototype.ctor.call(this,$selector$$,$target$$);this._label=this._disabledColor=null;this._orginalScale=0;this._colorBackup=null;$label$$&&(this._originalScale=1,this._colorBackup=cc.color.WHITE,this._disabledColor=cc.color(126,126,126),this.setLabel($label$$),this.cascadeOpacity=this.cascadeColor=!0)},getDisabledColor:function(){return this._disabledColor},
setDisabledColor:function($color$$){this._disabledColor=$color$$},getLabel:function(){return this._label},setLabel:function($label$$){$label$$&&(this.addChild($label$$),$label$$.anchorX=0,$label$$.anchorY=0,this.width=$label$$.width,this.height=$label$$.height);this._label&&this.removeChild(this._label,!0);this._label=$label$$},setEnabled:function($enabled$$){if(this._enabled!=$enabled$$){var $locLabel$$=this._label;$enabled$$?$locLabel$$.color=this._colorBackup:(this._colorBackup=$locLabel$$.color,
$locLabel$$.color=this._disabledColor)}cc.MenuItem.prototype.setEnabled.call(this,$enabled$$)},setOpacity:function($opacity$$){this._label.opacity=$opacity$$},getOpacity:function(){return this._label.opacity},setColor:function($color$$){this._label.color=$color$$},getColor:function(){return this._label.color},initWithLabel:function($label$$,$selector$$,$target$$){this.initWithCallback($selector$$,$target$$);this._originalScale=1;this._colorBackup=cc.color.WHITE;this._disabledColor=cc.color(126,126,
126);this.setLabel($label$$);return this.cascadeOpacity=this.cascadeColor=!0},setString:function($label$$){this._label.string=$label$$;this.width=this._label.width;this.height=this._label.height},getString:function(){return this._label.string},activate:function(){this._enabled&&(this.stopAllActions(),this.scale=this._originalScale,cc.MenuItem.prototype.activate.call(this))},selected:function(){if(this._enabled){cc.MenuItem.prototype.selected.call(this);var $action$$=this.getActionByTag(cc.ZOOM_ACTION_TAG);
$action$$?this.stopAction($action$$):this._originalScale=this.scale;$action$$=cc.scaleTo(.1,1.2*this._originalScale);$action$$.setTag(cc.ZOOM_ACTION_TAG);this.runAction($action$$)}},unselected:function(){if(this._enabled){cc.MenuItem.prototype.unselected.call(this);this.stopActionByTag(cc.ZOOM_ACTION_TAG);var $zoomAction$$=cc.scaleTo(.1,this._originalScale);$zoomAction$$.setTag(cc.ZOOM_ACTION_TAG);this.runAction($zoomAction$$)}}});_p=cc.MenuItemLabel.prototype;_p.string;
cc.defineGetterSetter(_p,"string",_p.getString,_p.setString);_p.disabledColor;cc.defineGetterSetter(_p,"disabledColor",_p.getDisabledColor,_p.setDisabledColor);_p.label;cc.defineGetterSetter(_p,"label",_p.getLabel,_p.setLabel);cc.MenuItemLabel.create=function $cc$MenuItemLabel$create$($label$$,$selector$$,$target$$){return new cc.MenuItemLabel($label$$,$selector$$,$target$$)};
cc.MenuItemAtlasFont=cc.MenuItemLabel.extend({ctor:function($value$$,$charMapFile$$,$itemWidth$$,$itemHeight$$,$startCharMap$$,$callback$$,$target$$){var $label$$;$value$$&&0<$value$$.length&&($label$$=new cc.LabelAtlas($value$$,$charMapFile$$,$itemWidth$$,$itemHeight$$,$startCharMap$$));cc.MenuItemLabel.prototype.ctor.call(this,$label$$,$callback$$,$target$$)},initWithString:function($value$$,$charMapFile$$,$itemWidth$$,$itemHeight$$,$startCharMap$$,$callback$$,$target$$){if(!$value$$||0==$value$$.length)throw"cc.MenuItemAtlasFont.initWithString(): value should be non-null and its length should be greater than 0";
var $label$$=new cc.LabelAtlas;$label$$.initWithString($value$$,$charMapFile$$,$itemWidth$$,$itemHeight$$,$startCharMap$$);this.initWithLabel($label$$,$callback$$,$target$$);return!0}});cc.MenuItemAtlasFont.create=function $cc$MenuItemAtlasFont$create$($value$$,$charMapFile$$,$itemWidth$$,$itemHeight$$,$startCharMap$$,$callback$$,$target$$){return new cc.MenuItemAtlasFont($value$$,$charMapFile$$,$itemWidth$$,$itemHeight$$,$startCharMap$$,$callback$$,$target$$)};
cc.MenuItemFont=cc.MenuItemLabel.extend({_fontSize:null,_fontName:null,ctor:function($value$$,$callback$$,$target$$){var $label$$;$value$$&&0<$value$$.length?(this._fontName=cc._globalFontName,this._fontSize=cc._globalFontSize,$label$$=new cc.LabelTTF($value$$,this._fontName,this._fontSize)):(this._fontSize=0,this._fontName="");cc.MenuItemLabel.prototype.ctor.call(this,$label$$,$callback$$,$target$$)},initWithString:function($label$$14_value$$,$callback$$,$target$$){if(!$label$$14_value$$||0==$label$$14_value$$.length)throw"Value should be non-null and its length should be greater than 0";
this._fontName=cc._globalFontName;this._fontSize=cc._globalFontSize;$label$$14_value$$=new cc.LabelTTF($label$$14_value$$,this._fontName,this._fontSize);this.initWithLabel($label$$14_value$$,$callback$$,$target$$);return!0},setFontSize:function($s$$){this._fontSize=$s$$;this._recreateLabel()},getFontSize:function(){return this._fontSize},setFontName:function($name$$){this._fontName=$name$$;this._recreateLabel()},getFontName:function(){return this._fontName},_recreateLabel:function(){var $label$$=
new cc.LabelTTF(this._label.string,this._fontName,this._fontSize);this.setLabel($label$$)}});cc.MenuItemFont.setFontSize=function $cc$MenuItemFont$setFontSize$($fontSize$$){cc._globalFontSize=$fontSize$$};cc.MenuItemFont.fontSize=function $cc$MenuItemFont$fontSize$(){return cc._globalFontSize};cc.MenuItemFont.setFontName=function $cc$MenuItemFont$setFontName$($name$$){cc._globalFontNameRelease&&(cc._globalFontName="");cc._globalFontName=$name$$;cc._globalFontNameRelease=!0};_p=cc.MenuItemFont.prototype;
_p.fontSize;cc.defineGetterSetter(_p,"fontSize",_p.getFontSize,_p.setFontSize);_p.fontName;cc.defineGetterSetter(_p,"fontName",_p.getFontName,_p.setFontName);cc.MenuItemFont.fontName=function $cc$MenuItemFont$fontName$(){return cc._globalFontName};cc.MenuItemFont.create=function $cc$MenuItemFont$create$($value$$,$callback$$,$target$$){return new cc.MenuItemFont($value$$,$callback$$,$target$$)};
cc.MenuItemSprite=cc.MenuItem.extend({_normalImage:null,_selectedImage:null,_disabledImage:null,ctor:function($normalSprite$$,$selectedSprite$$,$three$$,$four$$,$five$$){cc.MenuItem.prototype.ctor.call(this);this._disabledImage=this._selectedImage=this._normalImage=null;if(void 0!==$selectedSprite$$){var $disabledImage$$,$target$$,$callback$$;void 0!==$five$$?($disabledImage$$=$three$$,$callback$$=$four$$,$target$$=$five$$):void 0!==$four$$&&cc.isFunction($four$$)?($disabledImage$$=$three$$,$callback$$=
$four$$):void 0!==$four$$&&cc.isFunction($three$$)?($target$$=$four$$,$callback$$=$three$$,$disabledImage$$=new cc.Sprite($selectedSprite$$)):void 0===$three$$&&($disabledImage$$=new cc.Sprite($selectedSprite$$));this.initWithNormalSprite($normalSprite$$,$selectedSprite$$,$disabledImage$$,$callback$$,$target$$)}},getNormalImage:function(){return this._normalImage},setNormalImage:function($normalImage$$){this._normalImage!=$normalImage$$&&($normalImage$$&&(this.addChild($normalImage$$,0,cc.NORMAL_TAG),
$normalImage$$.anchorX=0,$normalImage$$.anchorY=0),this._normalImage&&this.removeChild(this._normalImage,!0),this._normalImage=$normalImage$$,this.width=this._normalImage.width,this.height=this._normalImage.height,this._updateImagesVisibility(),$normalImage$$.textureLoaded&&!$normalImage$$.textureLoaded()&&$normalImage$$.addEventListener("load",function($sender$$){this.width=$sender$$.width;this.height=$sender$$.height},this))},getSelectedImage:function(){return this._selectedImage},setSelectedImage:function($selectedImage$$){this._selectedImage!=
$selectedImage$$&&($selectedImage$$&&(this.addChild($selectedImage$$,0,cc.SELECTED_TAG),$selectedImage$$.anchorX=0,$selectedImage$$.anchorY=0),this._selectedImage&&this.removeChild(this._selectedImage,!0),this._selectedImage=$selectedImage$$,this._updateImagesVisibility())},getDisabledImage:function(){return this._disabledImage},setDisabledImage:function($disabledImage$$){this._disabledImage!=$disabledImage$$&&($disabledImage$$&&(this.addChild($disabledImage$$,0,cc.DISABLE_TAG),$disabledImage$$.anchorX=
0,$disabledImage$$.anchorY=0),this._disabledImage&&this.removeChild(this._disabledImage,!0),this._disabledImage=$disabledImage$$,this._updateImagesVisibility())},initWithNormalSprite:function($locNormalImage_normalSprite$$,$selectedSprite$$,$disabledSprite$$,$callback$$,$target$$){this.initWithCallback($callback$$,$target$$);this.setNormalImage($locNormalImage_normalSprite$$);this.setSelectedImage($selectedSprite$$);this.setDisabledImage($disabledSprite$$);if($locNormalImage_normalSprite$$=this._normalImage)this.width=
$locNormalImage_normalSprite$$.width,this.height=$locNormalImage_normalSprite$$.height,$locNormalImage_normalSprite$$.textureLoaded&&!$locNormalImage_normalSprite$$.textureLoaded()&&$locNormalImage_normalSprite$$.addEventListener("load",function($sender$$){this.width=$sender$$.width;this.height=$sender$$.height;this.cascadeOpacity=this.cascadeColor=!0},this);return this.cascadeOpacity=this.cascadeColor=!0},setColor:function($color$$){this._normalImage.color=$color$$;this._selectedImage&&(this._selectedImage.color=
$color$$);this._disabledImage&&(this._disabledImage.color=$color$$)},getColor:function(){return this._normalImage.color},setOpacity:function($opacity$$){this._normalImage.opacity=$opacity$$;this._selectedImage&&(this._selectedImage.opacity=$opacity$$);this._disabledImage&&(this._disabledImage.opacity=$opacity$$)},getOpacity:function(){return this._normalImage.opacity},selected:function(){cc.MenuItem.prototype.selected.call(this);this._normalImage&&(this._disabledImage&&(this._disabledImage.visible=
!1),this._selectedImage?(this._normalImage.visible=!1,this._selectedImage.visible=!0):this._normalImage.visible=!0)},unselected:function(){cc.MenuItem.prototype.unselected.call(this);this._normalImage&&(this._normalImage.visible=!0,this._selectedImage&&(this._selectedImage.visible=!1),this._disabledImage&&(this._disabledImage.visible=!1))},setEnabled:function($bEnabled$$){this._enabled!=$bEnabled$$&&(cc.MenuItem.prototype.setEnabled.call(this,$bEnabled$$),this._updateImagesVisibility())},_updateImagesVisibility:function(){var $locNormalImage$$=
this._normalImage,$locSelImage$$=this._selectedImage,$locDisImage$$=this._disabledImage;this._enabled?($locNormalImage$$&&($locNormalImage$$.visible=!0),$locSelImage$$&&($locSelImage$$.visible=!1),$locDisImage$$&&($locDisImage$$.visible=!1)):$locDisImage$$?($locNormalImage$$&&($locNormalImage$$.visible=!1),$locSelImage$$&&($locSelImage$$.visible=!1),$locDisImage$$&&($locDisImage$$.visible=!0)):($locNormalImage$$&&($locNormalImage$$.visible=!0),$locSelImage$$&&($locSelImage$$.visible=!1))}});_p=cc.MenuItemSprite.prototype;
_p.normalImage;cc.defineGetterSetter(_p,"normalImage",_p.getNormalImage,_p.setNormalImage);_p.selectedImage;cc.defineGetterSetter(_p,"selectedImage",_p.getSelectedImage,_p.setSelectedImage);_p.disabledImage;cc.defineGetterSetter(_p,"disabledImage",_p.getDisabledImage,_p.setDisabledImage);cc.MenuItemSprite.create=function $cc$MenuItemSprite$create$($normalSprite$$,$selectedSprite$$,$three$$,$four$$,$five$$){return new cc.MenuItemSprite($normalSprite$$,$selectedSprite$$,$three$$,$four$$,$five$$||void 0)};
cc.MenuItemImage=cc.MenuItemSprite.extend({ctor:function($normalImage$$,$selectedImage$$,$three$$,$four$$,$five$$){var $normalSprite$$=null,$selectedSprite$$=null,$disabledSprite$$=null,$callback$$=null,$target$$=null;void 0===$normalImage$$?cc.MenuItemSprite.prototype.ctor.call(this):($normalSprite$$=new cc.Sprite($normalImage$$),$selectedImage$$&&($selectedSprite$$=new cc.Sprite($selectedImage$$)),void 0===$four$$?$callback$$=$three$$:void 0===$five$$?($callback$$=$three$$,$target$$=$four$$):$five$$&&
($disabledSprite$$=new cc.Sprite($three$$),$callback$$=$four$$,$target$$=$five$$),cc.MenuItemSprite.prototype.ctor.call(this,$normalSprite$$,$selectedSprite$$,$disabledSprite$$,$callback$$,$target$$))},setNormalSpriteFrame:function($frame$$){this.setNormalImage(new cc.Sprite($frame$$))},setSelectedSpriteFrame:function($frame$$){this.setSelectedImage(new cc.Sprite($frame$$))},setDisabledSpriteFrame:function($frame$$){this.setDisabledImage(new cc.Sprite($frame$$))},initWithNormalImage:function($normalImage$$,
$selectedImage$$,$disabledImage$$,$callback$$,$target$$){var $normalSprite$$=null,$selectedSprite$$=null,$disabledSprite$$=null;$normalImage$$&&($normalSprite$$=new cc.Sprite($normalImage$$));$selectedImage$$&&($selectedSprite$$=new cc.Sprite($selectedImage$$));$disabledImage$$&&($disabledSprite$$=new cc.Sprite($disabledImage$$));return this.initWithNormalSprite($normalSprite$$,$selectedSprite$$,$disabledSprite$$,$callback$$,$target$$)}});
cc.MenuItemImage.create=function $cc$MenuItemImage$create$($normalImage$$,$selectedImage$$,$three$$,$four$$,$five$$){return new cc.MenuItemImage($normalImage$$,$selectedImage$$,$three$$,$four$$,$five$$)};
cc.MenuItemToggle=cc.MenuItem.extend({subItems:null,_selectedIndex:0,_opacity:null,_color:null,ctor:function(){cc.MenuItem.prototype.ctor.call(this);this._selectedIndex=0;this.subItems=[];this._opacity=0;this._color=cc.color.WHITE;0<arguments.length&&this.initWithItems(Array.prototype.slice.apply(arguments))},getOpacity:function(){return this._opacity},setOpacity:function($opacity$$){this._opacity=$opacity$$;if(this.subItems&&0<this.subItems.length)for(var $it$$=0;$it$$<this.subItems.length;$it$$++)this.subItems[$it$$].opacity=
$opacity$$;this._color.a=$opacity$$},getColor:function(){var $locColor$$=this._color;return cc.color($locColor$$.r,$locColor$$.g,$locColor$$.b,$locColor$$.a)},setColor:function($color$$){var $it$$1_locColor$$=this._color;$it$$1_locColor$$.r=$color$$.r;$it$$1_locColor$$.g=$color$$.g;$it$$1_locColor$$.b=$color$$.b;if(this.subItems&&0<this.subItems.length)for($it$$1_locColor$$=0;$it$$1_locColor$$<this.subItems.length;$it$$1_locColor$$++)this.subItems[$it$$1_locColor$$].setColor($color$$);void 0===$color$$.a||
$color$$.a_undefined||this.setOpacity($color$$.a)},getSelectedIndex:function(){return this._selectedIndex},setSelectedIndex:function($SelectedIndex_currItem_item$$){if($SelectedIndex_currItem_item$$!=this._selectedIndex){this._selectedIndex=$SelectedIndex_currItem_item$$;($SelectedIndex_currItem_item$$=this.getChildByTag(cc.CURRENT_ITEM))&&$SelectedIndex_currItem_item$$.removeFromParent(!1);$SelectedIndex_currItem_item$$=this.subItems[this._selectedIndex];this.addChild($SelectedIndex_currItem_item$$,
0,cc.CURRENT_ITEM);var $w$$=$SelectedIndex_currItem_item$$.width,$h$$=$SelectedIndex_currItem_item$$.height;this.width=$w$$;this.height=$h$$;$SelectedIndex_currItem_item$$.setPosition($w$$/2,$h$$/2)}},getSubItems:function(){return this.subItems},setSubItems:function($subItems$$){this.subItems=$subItems$$},initWithItems:function($args$$){var $l$$=$args$$.length;cc.isFunction($args$$[$args$$.length-2])?(this.initWithCallback($args$$[$args$$.length-2],$args$$[$args$$.length-1]),$l$$-=2):cc.isFunction($args$$[$args$$.length-
1])?(this.initWithCallback($args$$[$args$$.length-1],null),--$l$$):this.initWithCallback(null,null);for(var $locSubItems$$=this.subItems,$i$$=$locSubItems$$.length=0;$i$$<$l$$;$i$$++)$args$$[$i$$]&&$locSubItems$$.push($args$$[$i$$]);this._selectedIndex=cc.UINT_MAX;this.setSelectedIndex(0);return this.cascadeOpacity=this.cascadeColor=!0},addSubItem:function($item$$){this.subItems.push($item$$)},activate:function(){this._enabled&&this.setSelectedIndex((this._selectedIndex+1)%this.subItems.length);cc.MenuItem.prototype.activate.call(this)},
selected:function(){cc.MenuItem.prototype.selected.call(this);this.subItems[this._selectedIndex].selected()},unselected:function(){cc.MenuItem.prototype.unselected.call(this);this.subItems[this._selectedIndex].unselected()},setEnabled:function($enabled$$){if(this._enabled!=$enabled$$){cc.MenuItem.prototype.setEnabled.call(this,$enabled$$);var $locItems$$=this.subItems;if($locItems$$&&0<$locItems$$.length)for(var $it$$=0;$it$$<$locItems$$.length;$it$$++)$locItems$$[$it$$].enabled=$enabled$$}},selectedItem:function(){return this.subItems[this._selectedIndex]},
onEnter:function(){cc.Node.prototype.onEnter.call(this);this.setSelectedIndex(this._selectedIndex)}});_p=cc.MenuItemToggle.prototype;_p.selectedIndex;cc.defineGetterSetter(_p,"selectedIndex",_p.getSelectedIndex,_p.setSelectedIndex);
cc.MenuItemToggle.create=function $cc$MenuItemToggle$create$(){0<arguments.length&&null==arguments[arguments.length-1]&&cc.log("parameters should not be ending with null in Javascript");var $ret$$=new cc.MenuItemToggle;$ret$$.initWithItems(Array.prototype.slice.apply(arguments));return $ret$$};cc.MENU_STATE_WAITING=0;cc.MENU_STATE_TRACKING_TOUCH=1;cc.MENU_HANDLER_PRIORITY=-128;cc.DEFAULT_PADDING=5;
cc.Menu=cc.Layer.extend({enabled:!1,_selectedItem:null,_state:-1,_touchListener:null,_className:"Menu",ctor:function($menuItems$$){cc.Layer.prototype.ctor.call(this);this._color=cc.color.WHITE;this.enabled=!1;this._opacity=255;this._selectedItem=null;this._state=-1;this._touchListener=cc.EventListener.create({event:cc.EventListener.TOUCH_ONE_BY_ONE,swallowTouches:!0,onTouchBegan:this._onTouchBegan,onTouchMoved:this._onTouchMoved,onTouchEnded:this._onTouchEnded,onTouchCancelled:this._onTouchCancelled});
0<arguments.length&&null==arguments[arguments.length-1]&&cc.log("parameters should not be ending with null in Javascript");var $argc$$=arguments.length,$items$$;if(0==$argc$$)$items$$=[];else if(1==$argc$$)$items$$=$menuItems$$ instanceof Array?$menuItems$$:[$menuItems$$];else if(1<$argc$$){$items$$=[];for(var $i$$=0;$i$$<$argc$$;$i$$++)arguments[$i$$]&&$items$$.push(arguments[$i$$])}this.initWithArray($items$$)},onEnter:function(){var $locListener$$=this._touchListener;$locListener$$._isRegistered()||
cc.eventManager.addListener($locListener$$,this);cc.Node.prototype.onEnter.call(this)},isEnabled:function(){return this.enabled},setEnabled:function($enabled$$){this.enabled=$enabled$$},initWithItems:function($args$$){var $pArray$$=[];if($args$$)for(var $i$$=0;$i$$<$args$$.length;$i$$++)$args$$[$i$$]&&$pArray$$.push($args$$[$i$$]);return this.initWithArray($pArray$$)},initWithArray:function($arrayOfItems$$){if(cc.Layer.prototype.init.call(this)){this.enabled=!0;var $i$$166_winSize$$=cc.winSize;this.setPosition($i$$166_winSize$$.width/
2,$i$$166_winSize$$.height/2);this.setContentSize($i$$166_winSize$$);this.setAnchorPoint(.5,.5);this.ignoreAnchorPointForPosition(!0);if($arrayOfItems$$)for($i$$166_winSize$$=0;$i$$166_winSize$$<$arrayOfItems$$.length;$i$$166_winSize$$++)this.addChild($arrayOfItems$$[$i$$166_winSize$$],$i$$166_winSize$$);this._selectedItem=null;this._state=cc.MENU_STATE_WAITING;return this.cascadeOpacity=this.cascadeColor=!0}return!1},addChild:function($child$$,$zOrder$$,$tag$$){if(!($child$$ instanceof cc.MenuItem))throw"cc.Menu.addChild() : Menu only supports MenuItem objects as children";
cc.Layer.prototype.addChild.call(this,$child$$,$zOrder$$,$tag$$)},alignItemsVertically:function(){this.alignItemsVerticallyWithPadding(cc.DEFAULT_PADDING)},alignItemsVerticallyWithPadding:function($padding$$){var $height$$41_locScaleY$$=-$padding$$,$locChildren$$=this._children,$len$$,$i$$,$locHeight$$,$locChild$$;if($locChildren$$&&0<$locChildren$$.length){$i$$=0;for($len$$=$locChildren$$.length;$i$$<$len$$;$i$$++)$height$$41_locScaleY$$+=$locChildren$$[$i$$].height*$locChildren$$[$i$$].scaleY+$padding$$;
var $y$$=$height$$41_locScaleY$$/2;$i$$=0;for($len$$=$locChildren$$.length;$i$$<$len$$;$i$$++)$locChild$$=$locChildren$$[$i$$],$locHeight$$=$locChild$$.height,$height$$41_locScaleY$$=$locChild$$.scaleY,$locChild$$.setPosition(0,$y$$-$locHeight$$*$height$$41_locScaleY$$/2),$y$$-=$locHeight$$*$height$$41_locScaleY$$+$padding$$}},alignItemsHorizontally:function(){this.alignItemsHorizontallyWithPadding(cc.DEFAULT_PADDING)},alignItemsHorizontallyWithPadding:function($padding$$){var $locScaleX$$8_width$$=
-$padding$$,$locChildren$$=this._children,$i$$,$len$$,$locWidth$$,$locChild$$;if($locChildren$$&&0<$locChildren$$.length){$i$$=0;for($len$$=$locChildren$$.length;$i$$<$len$$;$i$$++)$locScaleX$$8_width$$+=$locChildren$$[$i$$].width*$locChildren$$[$i$$].scaleX+$padding$$;var $x$$=-$locScaleX$$8_width$$/2;$i$$=0;for($len$$=$locChildren$$.length;$i$$<$len$$;$i$$++)$locChild$$=$locChildren$$[$i$$],$locScaleX$$8_width$$=$locChild$$.scaleX,$locWidth$$=$locChildren$$[$i$$].width,$locChild$$.setPosition($x$$+
$locWidth$$*$locScaleX$$8_width$$/2,0),$x$$+=$locWidth$$*$locScaleX$$8_width$$+$padding$$}},alignItemsInColumns:function(){0<arguments.length&&null==arguments[arguments.length-1]&&cc.log("parameters should not be ending with null in Javascript");for(var $rows$$=[],$i$$=0;$i$$<arguments.length;$i$$++)$rows$$.push(arguments[$i$$]);var $height$$42_y$$=-5,$row$$=0,$rowHeight$$=0,$columnsOccupied$$=0,$rowColumns$$,$tmp$$,$len$$,$locChildren$$=this._children;if($locChildren$$&&0<$locChildren$$.length)for($i$$=
0,$len$$=$locChildren$$.length;$i$$<$len$$;$i$$++)$row$$>=$rows$$.length||!($rowColumns$$=$rows$$[$row$$])||($tmp$$=$locChildren$$[$i$$].height,$rowHeight$$=$rowHeight$$>=$tmp$$||isNaN($tmp$$)?$rowHeight$$:$tmp$$,++$columnsOccupied$$,$columnsOccupied$$>=$rowColumns$$&&($height$$42_y$$+=$rowHeight$$+5,$rowHeight$$=$columnsOccupied$$=0,++$row$$));var $winSize$$=cc.director.getWinSize(),$w$$=$rowColumns$$=$rowHeight$$=$row$$=0,$x$$=0,$height$$42_y$$=$height$$42_y$$/2;if($locChildren$$&&0<$locChildren$$.length)for($i$$=
0,$len$$=$locChildren$$.length;$i$$<$len$$;$i$$++){var $child$$=$locChildren$$[$i$$];0==$rowColumns$$&&($rowColumns$$=$rows$$[$row$$],$x$$=$w$$=$winSize$$.width/(1+$rowColumns$$));$tmp$$=$child$$._getHeight();$rowHeight$$=$rowHeight$$>=$tmp$$||isNaN($tmp$$)?$rowHeight$$:$tmp$$;$child$$.setPosition($x$$-$winSize$$.width/2,$height$$42_y$$-$tmp$$/2);$x$$+=$w$$;++$columnsOccupied$$;$columnsOccupied$$>=$rowColumns$$&&($height$$42_y$$-=$rowHeight$$+5,$rowHeight$$=$rowColumns$$=$columnsOccupied$$=0,++$row$$)}},
alignItemsInRows:function(){0<arguments.length&&null==arguments[arguments.length-1]&&cc.log("parameters should not be ending with null in Javascript");var $columns$$=[],$i$$;for($i$$=0;$i$$<arguments.length;$i$$++)$columns$$.push(arguments[$i$$]);var $columnWidths$$=[],$columnHeights$$=[],$width$$35_x$$=-10,$columnHeight_winSize$$=-5,$column$$=0,$columnWidth$$=0,$rowsOccupied$$=0,$columnRows$$,$child$$,$len$$,$tmp$$,$locChildren$$=this._children;if($locChildren$$&&0<$locChildren$$.length)for($i$$=
0,$len$$=$locChildren$$.length;$i$$<$len$$;$i$$++)($child$$=$locChildren$$[$i$$],$column$$>=$columns$$.length||!($columnRows$$=$columns$$[$column$$]))||($tmp$$=$child$$.width,$columnWidth$$=$columnWidth$$>=$tmp$$||isNaN($tmp$$)?$columnWidth$$:$tmp$$,$columnHeight_winSize$$+=$child$$.height+5,++$rowsOccupied$$,$rowsOccupied$$>=$columnRows$$&&($columnWidths$$.push($columnWidth$$),$columnHeights$$.push($columnHeight_winSize$$),$width$$35_x$$+=$columnWidth$$+10,$columnWidth$$=$rowsOccupied$$=0,$columnHeight_winSize$$=
-5,++$column$$));$columnHeight_winSize$$=cc.director.getWinSize();$columnRows$$=$columnWidth$$=$column$$=0;var $width$$35_x$$=-$width$$35_x$$/2,$y$$=0;if($locChildren$$&&0<$locChildren$$.length)for($i$$=0,$len$$=$locChildren$$.length;$i$$<$len$$;$i$$++)$child$$=$locChildren$$[$i$$],0==$columnRows$$&&($columnRows$$=$columns$$[$column$$],$y$$=$columnHeights$$[$column$$]),$tmp$$=$child$$._getWidth(),$columnWidth$$=$columnWidth$$>=$tmp$$||isNaN($tmp$$)?$columnWidth$$:$tmp$$,$child$$.setPosition($width$$35_x$$+
$columnWidths$$[$column$$]/2,$y$$-$columnHeight_winSize$$.height/2),$y$$-=$child$$.height+10,++$rowsOccupied$$,$rowsOccupied$$>=$columnRows$$&&($width$$35_x$$+=$columnWidth$$+5,$columnWidth$$=$columnRows$$=$rowsOccupied$$=0,++$column$$)},removeChild:function($child$$,$cleanup$$){null!=$child$$&&($child$$ instanceof cc.MenuItem?(this._selectedItem==$child$$&&(this._selectedItem=null),cc.Node.prototype.removeChild.call(this,$child$$,$cleanup$$)):cc.log("cc.Menu.removeChild():Menu only supports MenuItem objects as children"))},
_onTouchBegan:function($touch$$,$event$$){var $target$$=$event$$.getCurrentTarget();if($target$$._state!=cc.MENU_STATE_WAITING||!$target$$._visible||!$target$$.enabled)return!1;for(var $c$$=$target$$.parent;null!=$c$$;$c$$=$c$$.parent)if(!$c$$.isVisible())return!1;$target$$._selectedItem=$target$$._itemForTouch($touch$$);return $target$$._selectedItem?($target$$._state=cc.MENU_STATE_TRACKING_TOUCH,$target$$._selectedItem.selected(),!0):!1},_onTouchEnded:function($touch$$,$event$$){var $target$$=$event$$.getCurrentTarget();
$target$$._state!==cc.MENU_STATE_TRACKING_TOUCH?cc.log("cc.Menu.onTouchEnded(): invalid state"):($target$$._selectedItem&&($target$$._selectedItem.unselected(),$target$$._selectedItem.activate()),$target$$._state=cc.MENU_STATE_WAITING)},_onTouchCancelled:function($touch$$,$event$$){var $target$$=$event$$.getCurrentTarget();$target$$._state!==cc.MENU_STATE_TRACKING_TOUCH?cc.log("cc.Menu.onTouchCancelled(): invalid state"):(this._selectedItem&&$target$$._selectedItem.unselected(),$target$$._state=cc.MENU_STATE_WAITING)},
_onTouchMoved:function($touch$$,$event$$){var $target$$=$event$$.getCurrentTarget();if($target$$._state!==cc.MENU_STATE_TRACKING_TOUCH)cc.log("cc.Menu.onTouchMoved(): invalid state");else{var $currentItem$$=$target$$._itemForTouch($touch$$);$currentItem$$!=$target$$._selectedItem&&($target$$._selectedItem&&$target$$._selectedItem.unselected(),$target$$._selectedItem=$currentItem$$,$target$$._selectedItem&&$target$$._selectedItem.selected())}},onExit:function(){this._state==cc.MENU_STATE_TRACKING_TOUCH&&
(this._selectedItem&&(this._selectedItem.unselected(),this._selectedItem=null),this._state=cc.MENU_STATE_WAITING);cc.Node.prototype.onExit.call(this)},setOpacityModifyRGB:function($value$$){},isOpacityModifyRGB:function(){return!1},_itemForTouch:function($touch$$){$touch$$=$touch$$.getLocation();var $itemChildren$$=this._children,$locItemChild$$;if($itemChildren$$&&0<$itemChildren$$.length)for(var $i$$=$itemChildren$$.length-1;0<=$i$$;$i$$--)if($locItemChild$$=$itemChildren$$[$i$$],$locItemChild$$.isVisible()&&
$locItemChild$$.isEnabled()){var $local$$=$locItemChild$$.convertToNodeSpace($touch$$),$r$$=$locItemChild$$.rect();$r$$.x=0;$r$$.y=0;if(cc.rectContainsPoint($r$$,$local$$))return $locItemChild$$}return null}});_p=cc.Menu.prototype;_p.enabled;
cc.Menu.create=function $cc$Menu$create$($menuItems$$){var $argc$$=arguments.length;0<$argc$$&&null==arguments[$argc$$-1]&&cc.log("parameters should not be ending with null in Javascript");return 0==$argc$$?new cc.Menu:1==$argc$$?new cc.Menu($menuItems$$):new cc.Menu(Array.prototype.slice.call(arguments,0))};cc.kmScalar=Number;cc.kmBool=Number;cc.kmEnum=Number;cc.KM_FALSE=0;cc.KM_TRUE=1;cc.kmPI=3.141592;cc.kmPIOver180=.017453;cc.kmPIUnder180=57.295779;cc.kmEpsilon=.015625;
cc.kmSQR=function $cc$kmSQR$($s$$){return $s$$*$s$$};cc.kmDegreesToRadians=function $cc$kmDegreesToRadians$($degrees$$){return $degrees$$*cc.kmPIOver180};cc.kmRadiansToDegrees=function $cc$kmRadiansToDegrees$($radians$$){return $radians$$*cc.kmPIUnder180};cc.kmMin=function $cc$kmMin$($lhs$$,$rhs$$){return $lhs$$<$rhs$$?$lhs$$:$rhs$$};cc.kmMax=function $cc$kmMax$($lhs$$,$rhs$$){return $lhs$$>$rhs$$?$lhs$$:$rhs$$};
cc.kmAlmostEqual=function $cc$kmAlmostEqual$($lhs$$,$rhs$$){return $lhs$$+cc.kmEpsilon>$rhs$$&&$lhs$$-cc.kmEpsilon<$rhs$$};cc.kmVec2=function $cc$kmVec2$($x$$,$y$$){this.x=$x$$||0;this.y=$y$$||0};cc.kmVec2Fill=function $cc$kmVec2Fill$($pOut$$,$x$$,$y$$){$pOut$$.x=$x$$;$pOut$$.y=$y$$;return $pOut$$};cc.kmVec2Length=function $cc$kmVec2Length$($pIn$$){return Math.sqrt(cc.kmSQR($pIn$$.x)+cc.kmSQR($pIn$$.y))};cc.kmVec2LengthSq=function $cc$kmVec2LengthSq$($pIn$$){return cc.kmSQR($pIn$$.x)+cc.kmSQR($pIn$$.y)};
cc.kmVec2Normalize=function $cc$kmVec2Normalize$($pOut$$,$pIn$$){var $l$$=1/cc.kmVec2Length($pIn$$),$v$$=new cc.kmVec2;$v$$.x=$pIn$$.x*$l$$;$v$$.y=$pIn$$.y*$l$$;$pOut$$.x=$v$$.x;$pOut$$.y=$v$$.y;return $pOut$$};cc.kmVec2Add=function $cc$kmVec2Add$($pOut$$,$pV1$$,$pV2$$){$pOut$$.x=$pV1$$.x+$pV2$$.x;$pOut$$.y=$pV1$$.y+$pV2$$.y;return $pOut$$};cc.kmVec2Dot=function $cc$kmVec2Dot$($pV1$$,$pV2$$){return $pV1$$.x*$pV2$$.x+$pV1$$.y*$pV2$$.y};
cc.kmVec2Subtract=function $cc$kmVec2Subtract$($pOut$$,$pV1$$,$pV2$$){$pOut$$.x=$pV1$$.x-$pV2$$.x;$pOut$$.y=$pV1$$.y-$pV2$$.y;return $pOut$$};cc.kmVec2Transform=function $cc$kmVec2Transform$($pOut$$,$pV$$,$pM$$){var $v$$=new cc.kmVec2;$v$$.x=$pV$$.x*$pM$$.mat[0]+$pV$$.y*$pM$$.mat[3]+$pM$$.mat[6];$v$$.y=$pV$$.x*$pM$$.mat[1]+$pV$$.y*$pM$$.mat[4]+$pM$$.mat[7];$pOut$$.x=$v$$.x;$pOut$$.y=$v$$.y;return $pOut$$};cc.kmVec2TransformCoord=function $cc$kmVec2TransformCoord$($pOut$$,$pV$$,$pM$$){return null};
cc.kmVec2Scale=function $cc$kmVec2Scale$($pOut$$,$pIn$$,$s$$){$pOut$$.x=$pIn$$.x*$s$$;$pOut$$.y=$pIn$$.y*$s$$;return $pOut$$};cc.kmVec2AreEqual=function $cc$kmVec2AreEqual$($p1$$,$p2$$){return $p1$$.x<$p2$$.x+cc.kmEpsilon&&$p1$$.x>$p2$$.x-cc.kmEpsilon&&$p1$$.y<$p2$$.y+cc.kmEpsilon&&$p1$$.y>$p2$$.y-cc.kmEpsilon};cc.kmVec3=function $cc$kmVec3$($x$$,$y$$,$z$$){this.x=$x$$||0;this.y=$y$$||0;this.z=$z$$||0};
cc.kmVec3Fill=function $cc$kmVec3Fill$($pOut$$,$x$$,$y$$,$z$$){if(!$pOut$$)return new cc.kmVec3($x$$,$y$$,$z$$);$pOut$$.x=$x$$;$pOut$$.y=$y$$;$pOut$$.z=$z$$;return $pOut$$};cc.kmVec3Length=function $cc$kmVec3Length$($pIn$$){return Math.sqrt(cc.kmSQR($pIn$$.x)+cc.kmSQR($pIn$$.y)+cc.kmSQR($pIn$$.z))};cc.kmVec3LengthSq=function $cc$kmVec3LengthSq$($pIn$$){return cc.kmSQR($pIn$$.x)+cc.kmSQR($pIn$$.y)+cc.kmSQR($pIn$$.z)};
cc.kmVec3Normalize=function $cc$kmVec3Normalize$($pOut$$,$pIn$$){var $l$$=1/cc.kmVec3Length($pIn$$);$pOut$$.x=$pIn$$.x*$l$$;$pOut$$.y=$pIn$$.y*$l$$;$pOut$$.z=$pIn$$.z*$l$$;return $pOut$$};cc.kmVec3Cross=function $cc$kmVec3Cross$($pOut$$,$pV1$$,$pV2$$){$pOut$$.x=$pV1$$.y*$pV2$$.z-$pV1$$.z*$pV2$$.y;$pOut$$.y=$pV1$$.z*$pV2$$.x-$pV1$$.x*$pV2$$.z;$pOut$$.z=$pV1$$.x*$pV2$$.y-$pV1$$.y*$pV2$$.x;return $pOut$$};
cc.kmVec3Dot=function $cc$kmVec3Dot$($pV1$$,$pV2$$){return $pV1$$.x*$pV2$$.x+$pV1$$.y*$pV2$$.y+$pV1$$.z*$pV2$$.z};cc.kmVec3Add=function $cc$kmVec3Add$($pOut$$,$pV1$$,$pV2$$){$pOut$$.x=$pV1$$.x+$pV2$$.x;$pOut$$.y=$pV1$$.y+$pV2$$.y;$pOut$$.z=$pV1$$.z+$pV2$$.z;return $pOut$$};cc.kmVec3Subtract=function $cc$kmVec3Subtract$($pOut$$,$pV1$$,$pV2$$){$pOut$$.x=$pV1$$.x-$pV2$$.x;$pOut$$.y=$pV1$$.y-$pV2$$.y;$pOut$$.z=$pV1$$.z-$pV2$$.z;return $pOut$$};
cc.kmVec3Transform=function $cc$kmVec3Transform$($pOut$$,$pV$$,$pM$$){$pOut$$.x=$pV$$.x*$pM$$.mat[0]+$pV$$.y*$pM$$.mat[4]+$pV$$.z*$pM$$.mat[8]+$pM$$.mat[12];$pOut$$.y=$pV$$.x*$pM$$.mat[1]+$pV$$.y*$pM$$.mat[5]+$pV$$.z*$pM$$.mat[9]+$pM$$.mat[13];$pOut$$.z=$pV$$.x*$pM$$.mat[2]+$pV$$.y*$pM$$.mat[6]+$pV$$.z*$pM$$.mat[10]+$pM$$.mat[14];return $pOut$$};
cc.kmVec3TransformNormal=function $cc$kmVec3TransformNormal$($pOut$$,$pV$$,$pM$$){$pOut$$.x=$pV$$.x*$pM$$.mat[0]+$pV$$.y*$pM$$.mat[4]+$pV$$.z*$pM$$.mat[8];$pOut$$.y=$pV$$.x*$pM$$.mat[1]+$pV$$.y*$pM$$.mat[5]+$pV$$.z*$pM$$.mat[9];$pOut$$.z=$pV$$.x*$pM$$.mat[2]+$pV$$.y*$pM$$.mat[6]+$pV$$.z*$pM$$.mat[10];return $pOut$$};
cc.kmVec3TransformCoord=function $cc$kmVec3TransformCoord$($pOut$$,$pV$$,$pM$$){var $v$$=new cc.kmVec4,$inV$$=new cc.kmVec4;cc.kmVec4Fill($inV$$,$pV$$.x,$pV$$.y,$pV$$.z,1);cc.kmVec4Transform($v$$,$inV$$,$pM$$);$pOut$$.x=$v$$.x/$v$$.w;$pOut$$.y=$v$$.y/$v$$.w;$pOut$$.z=$v$$.z/$v$$.w;return $pOut$$};cc.kmVec3Scale=function $cc$kmVec3Scale$($pOut$$,$pIn$$,$s$$){$pOut$$.x=$pIn$$.x*$s$$;$pOut$$.y=$pIn$$.y*$s$$;$pOut$$.z=$pIn$$.z*$s$$;return $pOut$$};
cc.kmVec3AreEqual=function $cc$kmVec3AreEqual$($p1$$,$p2$$){return $p1$$.x<$p2$$.x+cc.kmEpsilon&&$p1$$.x>$p2$$.x-cc.kmEpsilon&&$p1$$.y<$p2$$.y+cc.kmEpsilon&&$p1$$.y>$p2$$.y-cc.kmEpsilon&&$p1$$.z<$p2$$.z+cc.kmEpsilon&&$p1$$.z>$p2$$.z-cc.kmEpsilon?1:0};
cc.kmVec3InverseTransform=function $cc$kmVec3InverseTransform$($pOut$$,$pVect_v1$$,$pM$$){$pVect_v1$$=new cc.kmVec3($pVect_v1$$.x-$pM$$.mat[12],$pVect_v1$$.y-$pM$$.mat[13],$pVect_v1$$.z-$pM$$.mat[14]);$pOut$$.x=$pVect_v1$$.x*$pM$$.mat[0]+$pVect_v1$$.y*$pM$$.mat[1]+$pVect_v1$$.z*$pM$$.mat[2];$pOut$$.y=$pVect_v1$$.x*$pM$$.mat[4]+$pVect_v1$$.y*$pM$$.mat[5]+$pVect_v1$$.z*$pM$$.mat[6];$pOut$$.z=$pVect_v1$$.x*$pM$$.mat[8]+$pVect_v1$$.y*$pM$$.mat[9]+$pVect_v1$$.z*$pM$$.mat[10];return $pOut$$};
cc.kmVec3InverseTransformNormal=function $cc$kmVec3InverseTransformNormal$($pOut$$,$pVect$$,$pM$$){$pOut$$.x=$pVect$$.x*$pM$$.mat[0]+$pVect$$.y*$pM$$.mat[1]+$pVect$$.z*$pM$$.mat[2];$pOut$$.y=$pVect$$.x*$pM$$.mat[4]+$pVect$$.y*$pM$$.mat[5]+$pVect$$.z*$pM$$.mat[6];$pOut$$.z=$pVect$$.x*$pM$$.mat[8]+$pVect$$.y*$pM$$.mat[9]+$pVect$$.z*$pM$$.mat[10];return $pOut$$};
cc.kmVec3Assign=function $cc$kmVec3Assign$($pOut$$,$pIn$$){if($pOut$$==$pIn$$)return $pOut$$;$pOut$$.x=$pIn$$.x;$pOut$$.y=$pIn$$.y;$pOut$$.z=$pIn$$.z;return $pOut$$};cc.kmVec3Zero=function $cc$kmVec3Zero$($pOut$$){$pOut$$.x=0;$pOut$$.y=0;$pOut$$.z=0;return $pOut$$};cc.kmVec3ToTypeArray=function $cc$kmVec3ToTypeArray$($vecValue$$){if(!$vecValue$$)return null;var $tyArr$$=new Float32Array(3);$tyArr$$[0]=$vecValue$$.x;$tyArr$$[1]=$vecValue$$.y;$tyArr$$[2]=$vecValue$$.z;return $tyArr$$};
cc.kmVec4=function $cc$kmVec4$($x$$,$y$$,$z$$,$w$$){this.x=$x$$||0;this.y=$y$$||0;this.z=$z$$||0;this.w=$w$$||0};cc.kmVec4Fill=function $cc$kmVec4Fill$($outVec$$,$x$$,$y$$,$z$$,$w$$){$outVec$$.x=$x$$;$outVec$$.y=$y$$;$outVec$$.z=$z$$;$outVec$$.w=$w$$;return $outVec$$};cc.kmVec4Add=function $cc$kmVec4Add$($outVec$$,$pV1$$,$pV2$$){$outVec$$.x=$pV1$$.x+$pV2$$.x;$outVec$$.y=$pV1$$.y+$pV2$$.y;$outVec$$.z=$pV1$$.z+$pV2$$.z;$outVec$$.w=$pV1$$.w+$pV2$$.w;return $outVec$$};
cc.kmVec4Dot=function $cc$kmVec4Dot$($vec1$$,$vec2$$){return $vec1$$.x*$vec2$$.x+$vec1$$.y*$vec2$$.y+$vec1$$.z*$vec2$$.z+$vec1$$.w*$vec2$$.w};cc.kmVec4Length=function $cc$kmVec4Length$($inVec$$){return Math.sqrt(cc.kmSQR($inVec$$.x)+cc.kmSQR($inVec$$.y)+cc.kmSQR($inVec$$.z)+cc.kmSQR($inVec$$.w))};cc.kmVec4LengthSq=function $cc$kmVec4LengthSq$($inVec$$){return cc.kmSQR($inVec$$.x)+cc.kmSQR($inVec$$.y)+cc.kmSQR($inVec$$.z)+cc.kmSQR($inVec$$.w)};
cc.kmVec4Lerp=function $cc$kmVec4Lerp$($outVec$$,$pV1$$,$pV2$$,$t$$){return $outVec$$};cc.kmVec4Normalize=function $cc$kmVec4Normalize$($outVec$$,$inVec$$){var $l$$=1/cc.kmVec4Length($inVec$$);$outVec$$.x*=$l$$;$outVec$$.y*=$l$$;$outVec$$.z*=$l$$;$outVec$$.w*=$l$$;return $outVec$$};cc.kmVec4Scale=function $cc$kmVec4Scale$($outVec$$,$inVec$$,$scale$$){cc.kmVec4Normalize($outVec$$,$inVec$$);$outVec$$.x*=$scale$$;$outVec$$.y*=$scale$$;$outVec$$.z*=$scale$$;$outVec$$.w*=$scale$$;return $outVec$$};
cc.kmVec4Subtract=function $cc$kmVec4Subtract$($outVec$$,$vec1$$,$vec2$$){$outVec$$.x=$vec1$$.x-$vec2$$.x;$outVec$$.y=$vec1$$.y-$vec2$$.y;$outVec$$.z=$vec1$$.z-$vec2$$.z;$outVec$$.w=$vec1$$.w-$vec2$$.w;return $outVec$$};
cc.kmVec4Transform=function $cc$kmVec4Transform$($outVec$$,$vec$$,$mat4Obj$$){$outVec$$.x=$vec$$.x*$mat4Obj$$.mat[0]+$vec$$.y*$mat4Obj$$.mat[4]+$vec$$.z*$mat4Obj$$.mat[8]+$vec$$.w*$mat4Obj$$.mat[12];$outVec$$.y=$vec$$.x*$mat4Obj$$.mat[1]+$vec$$.y*$mat4Obj$$.mat[5]+$vec$$.z*$mat4Obj$$.mat[9]+$vec$$.w*$mat4Obj$$.mat[13];$outVec$$.z=$vec$$.x*$mat4Obj$$.mat[2]+$vec$$.y*$mat4Obj$$.mat[6]+$vec$$.z*$mat4Obj$$.mat[10]+$vec$$.w*$mat4Obj$$.mat[14];$outVec$$.w=$vec$$.x*$mat4Obj$$.mat[3]+$vec$$.y*$mat4Obj$$.mat[7]+
$vec$$.z*$mat4Obj$$.mat[11]+$vec$$.w*$mat4Obj$$.mat[15];return $outVec$$};cc.kmVec4TransformArray=function $cc$kmVec4TransformArray$($outVec$$,$outStride$$,$vecObj$$,$stride$$,$mat4Obj$$,$count$$){for(var $i$$=0;$i$$<$count$$;)cc.kmVec4Transform($outVec$$+$i$$*$outStride$$,$vecObj$$+$i$$*$stride$$,$mat4Obj$$),++$i$$;return $outVec$$};
cc.kmVec4AreEqual=function $cc$kmVec4AreEqual$($vec1$$,$vec2$$){return $vec1$$.x<$vec2$$.x+cc.kmEpsilon&&$vec1$$.x>$vec2$$.x-cc.kmEpsilon&&$vec1$$.y<$vec2$$.y+cc.kmEpsilon&&$vec1$$.y>$vec2$$.y-cc.kmEpsilon&&$vec1$$.z<$vec2$$.z+cc.kmEpsilon&&$vec1$$.z>$vec2$$.z-cc.kmEpsilon&&$vec1$$.w<$vec2$$.w+cc.kmEpsilon&&$vec1$$.w>$vec2$$.w-cc.kmEpsilon};
cc.kmVec4Assign=function $cc$kmVec4Assign$($destVec$$,$srcVec$$){if($destVec$$==$srcVec$$)return cc.log("destVec and srcVec are same object"),$destVec$$;$destVec$$.x=$srcVec$$.x;$destVec$$.y=$srcVec$$.y;$destVec$$.z=$srcVec$$.z;$destVec$$.w=$srcVec$$.w;return $destVec$$};
cc.kmVec4ToTypeArray=function $cc$kmVec4ToTypeArray$($vecValue$$){if(!$vecValue$$)return null;var $tyArr$$=new Float32Array(4);$tyArr$$[0]=$vecValue$$.x;$tyArr$$[1]=$vecValue$$.y;$tyArr$$[2]=$vecValue$$.z;$tyArr$$[3]=$vecValue$$.w;return $tyArr$$};cc.kmRay2=function $cc$kmRay2$($start$$,$dir$$){this.start=$start$$||new cc.kmVec2;this.start=$start$$||new cc.kmVec2};
cc.kmRay2Fill=function $cc$kmRay2Fill$($ray$$,$px$$,$py$$,$vx$$,$vy$$){$ray$$.start.x=$px$$;$ray$$.start.y=$py$$;$ray$$.dir.x=$vx$$;$ray$$.dir.y=$vy$$};
cc.kmRay2IntersectLineSegment=function $cc$kmRay2IntersectLineSegment$($ray$$1_y2$$,$p1$$,$p2$$,$intersection$$){var $x1$$=$ray$$1_y2$$.start.x,$y1$$=$ray$$1_y2$$.start.y,$x2$$=$ray$$1_y2$$.start.x+$ray$$1_y2$$.dir.x;$ray$$1_y2$$=$ray$$1_y2$$.start.y+$ray$$1_y2$$.dir.y;var $x$$=$p1$$.x,$ua$$3_y$$=$p1$$.y,$x4$$=$p2$$.x,$y4$$=$p2$$.y,$denom$$=($y4$$-$ua$$3_y$$)*($x2$$-$x1$$)-($x4$$-$x$$)*($ray$$1_y2$$-$y1$$);if($denom$$>-cc.kmEpsilon&&$denom$$<cc.kmEpsilon)return cc.KM_FALSE;$ua$$3_y$$=(($x4$$-$x$$)*
($y1$$-$ua$$3_y$$)-($y4$$-$ua$$3_y$$)*($x1$$-$x$$))/$denom$$;$x$$=$x1$$+$ua$$3_y$$*($x2$$-$x1$$);$ua$$3_y$$=$y1$$+$ua$$3_y$$*($ray$$1_y2$$-$y1$$);if($x$$<cc.kmMin($p1$$.x,$p2$$.x)-cc.kmEpsilon||$x$$>cc.kmMax($p1$$.x,$p2$$.x)+cc.kmEpsilon||$ua$$3_y$$<cc.kmMin($p1$$.y,$p2$$.y)-cc.kmEpsilon||$ua$$3_y$$>cc.kmMax($p1$$.y,$p2$$.y)+cc.kmEpsilon||$x$$<cc.kmMin($x1$$,$x2$$)-cc.kmEpsilon||$x$$>cc.kmMax($x1$$,$x2$$)+cc.kmEpsilon||$ua$$3_y$$<cc.kmMin($y1$$,$ray$$1_y2$$)-cc.kmEpsilon||$ua$$3_y$$>cc.kmMax($y1$$,
$ray$$1_y2$$)+cc.kmEpsilon)return cc.KM_FALSE;$intersection$$.x=$x$$;$intersection$$.y=$ua$$3_y$$;return cc.KM_TRUE};cc.calculate_line_normal=function $cc$calculate_line_normal$($p1$$,$p2$$,$normal_out$$){var $tmp$$=new cc.kmVec2;cc.kmVec2Subtract($tmp$$,$p2$$,$p1$$);$normal_out$$.x=-$tmp$$.y;$normal_out$$.y=$tmp$$.x;cc.kmVec2Normalize($normal_out$$,$normal_out$$)};
cc.kmRay2IntersectTriangle=function $cc$kmRay2IntersectTriangle$($ray$$,$p1$$,$p2$$,$p3$$,$intersection$$,$normal_out$$){var $intersect$$=new cc.kmVec2,$final_intersect$$=new cc.kmVec2,$normal$$=new cc.kmVec2,$distance$$=1E4,$intersected$$=cc.KM_FALSE,$this_distance_tmp$$;cc.kmRay2IntersectLineSegment($ray$$,$p1$$,$p2$$,$intersect$$)&&($this_distance_tmp$$=new cc.kmVec2,$intersected$$=cc.KM_TRUE,$this_distance_tmp$$=cc.kmVec2Length(cc.kmVec2Subtract($this_distance_tmp$$,$intersect$$,$ray$$.start)),
$this_distance_tmp$$<$distance$$&&($final_intersect$$.x=$intersect$$.x,$final_intersect$$.y=$intersect$$.y,$distance$$=$this_distance_tmp$$,cc.calculate_line_normal($p1$$,$p2$$,$normal$$)));cc.kmRay2IntersectLineSegment($ray$$,$p2$$,$p3$$,$intersect$$)&&($this_distance_tmp$$=new cc.kmVec2,$intersected$$=cc.KM_TRUE,$this_distance_tmp$$=cc.kmVec2Length(cc.kmVec2Subtract($this_distance_tmp$$,$intersect$$,$ray$$.start)),$this_distance_tmp$$<$distance$$&&($final_intersect$$.x=$intersect$$.x,$final_intersect$$.y=
$intersect$$.y,$distance$$=$this_distance_tmp$$,cc.calculate_line_normal($p2$$,$p3$$,$normal$$)));cc.kmRay2IntersectLineSegment($ray$$,$p3$$,$p1$$,$intersect$$)&&($this_distance_tmp$$=new cc.kmVec2,$intersected$$=cc.KM_TRUE,$this_distance_tmp$$=cc.kmVec2Length(cc.kmVec2Subtract($this_distance_tmp$$,$intersect$$,$ray$$.start)),$this_distance_tmp$$<$distance$$&&($final_intersect$$.x=$intersect$$.x,$final_intersect$$.y=$intersect$$.y,cc.calculate_line_normal($p3$$,$p1$$,$normal$$)));$intersected$$&&
($intersection$$.x=$final_intersect$$.x,$intersection$$.y=$final_intersect$$.y,$normal_out$$&&($normal_out$$.x=$normal$$.x,$normal_out$$.y=$normal$$.y));return $intersected$$};cc.kmRay2IntersectCircle=function $cc$kmRay2IntersectCircle$($ray$$,$centre$$,$radius$$,$intersection$$){cc.log("cc.kmRay2IntersectCircle() has not been implemented.")};var Float32Array=Float32Array||Array;cc.kmMat3=function $cc$kmMat3$(){this.mat=new Float32Array([0,0,0,0,0,0,0,0,0])};
cc.kmMat3Fill=function $cc$kmMat3Fill$($pOut$$,$pMat$$){for(var $i$$=0;9>$i$$;$i$$++)$pOut$$.mat[$i$$]=$pMat$$;return $pOut$$};
cc.kmMat3Adjugate=function $cc$kmMat3Adjugate$($pOut$$,$pIn$$){$pOut$$.mat[0]=$pIn$$.mat[4]*$pIn$$.mat[8]-$pIn$$.mat[5]*$pIn$$.mat[7];$pOut$$.mat[1]=$pIn$$.mat[2]*$pIn$$.mat[7]-$pIn$$.mat[1]*$pIn$$.mat[8];$pOut$$.mat[2]=$pIn$$.mat[1]*$pIn$$.mat[5]-$pIn$$.mat[2]*$pIn$$.mat[4];$pOut$$.mat[3]=$pIn$$.mat[5]*$pIn$$.mat[6]-$pIn$$.mat[3]*$pIn$$.mat[8];$pOut$$.mat[4]=$pIn$$.mat[0]*$pIn$$.mat[8]-$pIn$$.mat[2]*$pIn$$.mat[6];$pOut$$.mat[5]=$pIn$$.mat[2]*$pIn$$.mat[3]-$pIn$$.mat[0]*$pIn$$.mat[5];$pOut$$.mat[6]=
$pIn$$.mat[3]*$pIn$$.mat[7]-$pIn$$.mat[4]*$pIn$$.mat[6];$pOut$$.mat[8]=$pIn$$.mat[0]*$pIn$$.mat[4]-$pIn$$.mat[1]*$pIn$$.mat[3];return $pOut$$};cc.kmMat3Identity=function $cc$kmMat3Identity$($pOut$$){$pOut$$.mat[1]=$pOut$$.mat[2]=$pOut$$.mat[3]=$pOut$$.mat[5]=$pOut$$.mat[6]=$pOut$$.mat[7]=0;$pOut$$.mat[0]=$pOut$$.mat[4]=$pOut$$.mat[8]=1;return $pOut$$};
cc.kmMat3Inverse=function $cc$kmMat3Inverse$($pOut$$,$detInv_pDeterminate$$,$pM$$){var $adjugate$$=new cc.kmMat3;if(0===$detInv_pDeterminate$$)return null;$detInv_pDeterminate$$=1/$detInv_pDeterminate$$;cc.kmMat3Adjugate($adjugate$$,$pM$$);cc.kmMat3ScalarMultiply($pOut$$,$adjugate$$,$detInv_pDeterminate$$);return $pOut$$};cc.kmMat3._identity=new Float32Array([1,0,0,0,1,0,0,0,1]);
cc.kmMat3IsIdentity=function $cc$kmMat3IsIdentity$($pIn$$){for(var $i$$=0;9>$i$$;$i$$++)if(cc.kmMat3._identity[$i$$]!==$pIn$$.mat[$i$$])return!1;return!0};cc.kmMat3Transpose=function $cc$kmMat3Transpose$($pOut$$,$pIn$$){var $z$$,$x$$;for($z$$=0;3>$z$$;++$z$$)for($x$$=0;3>$x$$;++$x$$)$pOut$$.mat[3*$z$$+$x$$]=$pIn$$.mat[3*$x$$+$z$$];return $pOut$$};
cc.kmMat3Determinant=function $cc$kmMat3Determinant$($pIn$$){var $output$$;$output$$=$pIn$$.mat[0]*$pIn$$.mat[4]*$pIn$$.mat[8]+$pIn$$.mat[1]*$pIn$$.mat[5]*$pIn$$.mat[6]+$pIn$$.mat[2]*$pIn$$.mat[3]*$pIn$$.mat[7];return $output$$-=$pIn$$.mat[2]*$pIn$$.mat[4]*$pIn$$.mat[6]+$pIn$$.mat[0]*$pIn$$.mat[5]*$pIn$$.mat[7]+$pIn$$.mat[1]*$pIn$$.mat[3]*$pIn$$.mat[8]};
cc.kmMat3Multiply=function $cc$kmMat3Multiply$($pOut$$,$m1_pM1$$,$m2_pM2$$){$m1_pM1$$=$m1_pM1$$.mat;$m2_pM2$$=$m2_pM2$$.mat;$pOut$$.mat[0]=$m1_pM1$$[0]*$m2_pM2$$[0]+$m1_pM1$$[3]*$m2_pM2$$[1]+$m1_pM1$$[6]*$m2_pM2$$[2];$pOut$$.mat[1]=$m1_pM1$$[1]*$m2_pM2$$[0]+$m1_pM1$$[4]*$m2_pM2$$[1]+$m1_pM1$$[7]*$m2_pM2$$[2];$pOut$$.mat[2]=$m1_pM1$$[2]*$m2_pM2$$[0]+$m1_pM1$$[5]*$m2_pM2$$[1]+$m1_pM1$$[8]*$m2_pM2$$[2];$pOut$$.mat[3]=$m1_pM1$$[0]*$m2_pM2$$[3]+$m1_pM1$$[3]*$m2_pM2$$[4]+$m1_pM1$$[6]*$m2_pM2$$[5];$pOut$$.mat[4]=
$m1_pM1$$[1]*$m2_pM2$$[3]+$m1_pM1$$[4]*$m2_pM2$$[4]+$m1_pM1$$[7]*$m2_pM2$$[5];$pOut$$.mat[5]=$m1_pM1$$[2]*$m2_pM2$$[3]+$m1_pM1$$[5]*$m2_pM2$$[4]+$m1_pM1$$[8]*$m2_pM2$$[5];$pOut$$.mat[6]=$m1_pM1$$[0]*$m2_pM2$$[6]+$m1_pM1$$[3]*$m2_pM2$$[7]+$m1_pM1$$[6]*$m2_pM2$$[8];$pOut$$.mat[7]=$m1_pM1$$[1]*$m2_pM2$$[6]+$m1_pM1$$[4]*$m2_pM2$$[7]+$m1_pM1$$[7]*$m2_pM2$$[8];$pOut$$.mat[8]=$m1_pM1$$[2]*$m2_pM2$$[6]+$m1_pM1$$[5]*$m2_pM2$$[7]+$m1_pM1$$[8]*$m2_pM2$$[8];return $pOut$$};
cc.kmMat3ScalarMultiply=function $cc$kmMat3ScalarMultiply$($pOut$$,$pM$$,$pFactor$$){for(var $i$$=0;9>$i$$;$i$$++)$pOut$$.mat[$i$$]=$pM$$.mat[$i$$]*$pFactor$$;return $pOut$$};
cc.kmMat3RotationAxisAngle=function $cc$kmMat3RotationAxisAngle$($pOut$$,$axis$$,$radians$$){var $rcos$$=Math.cos($radians$$);$radians$$=Math.sin($radians$$);$pOut$$.mat[0]=$rcos$$+$axis$$.x*$axis$$.x*(1-$rcos$$);$pOut$$.mat[1]=$axis$$.z*$radians$$+$axis$$.y*$axis$$.x*(1-$rcos$$);$pOut$$.mat[2]=-$axis$$.y*$radians$$+$axis$$.z*$axis$$.x*(1-$rcos$$);$pOut$$.mat[3]=-$axis$$.z*$radians$$+$axis$$.x*$axis$$.y*(1-$rcos$$);$pOut$$.mat[4]=$rcos$$+$axis$$.y*$axis$$.y*(1-$rcos$$);$pOut$$.mat[5]=$axis$$.x*$radians$$+
$axis$$.z*$axis$$.y*(1-$rcos$$);$pOut$$.mat[6]=$axis$$.y*$radians$$+$axis$$.x*$axis$$.z*(1-$rcos$$);$pOut$$.mat[7]=-$axis$$.x*$radians$$+$axis$$.y*$axis$$.z*(1-$rcos$$);$pOut$$.mat[8]=$rcos$$+$axis$$.z*$axis$$.z*(1-$rcos$$);return $pOut$$};cc.kmMat3Assign=function $cc$kmMat3Assign$($pOut$$,$pIn$$){if($pOut$$==$pIn$$)return cc.log("cc.kmMat3Assign(): pOut equals pIn"),$pOut$$;for(var $i$$=0;9>$i$$;$i$$++)$pOut$$.mat[$i$$]=$pIn$$.mat[$i$$];return $pOut$$};
cc.kmMat3AreEqual=function $cc$kmMat3AreEqual$($pMat1$$,$pMat2$$){if($pMat1$$==$pMat2$$)return!0;for(var $i$$=0;9>$i$$;++$i$$)if(!($pMat1$$.mat[$i$$]+cc.kmEpsilon>$pMat2$$.mat[$i$$]&&$pMat1$$.mat[$i$$]-cc.kmEpsilon<$pMat2$$.mat[$i$$]))return!1;return!0};
cc.kmMat3RotationX=function $cc$kmMat3RotationX$($pOut$$,$radians$$){$pOut$$.mat[0]=1;$pOut$$.mat[1]=0;$pOut$$.mat[2]=0;$pOut$$.mat[3]=0;$pOut$$.mat[4]=Math.cos($radians$$);$pOut$$.mat[5]=Math.sin($radians$$);$pOut$$.mat[6]=0;$pOut$$.mat[7]=-Math.sin($radians$$);$pOut$$.mat[8]=Math.cos($radians$$);return $pOut$$};
cc.kmMat3RotationY=function $cc$kmMat3RotationY$($pOut$$,$radians$$){$pOut$$.mat[0]=Math.cos($radians$$);$pOut$$.mat[1]=0;$pOut$$.mat[2]=-Math.sin($radians$$);$pOut$$.mat[3]=0;$pOut$$.mat[4]=1;$pOut$$.mat[5]=0;$pOut$$.mat[6]=Math.sin($radians$$);$pOut$$.mat[7]=0;$pOut$$.mat[8]=Math.cos($radians$$);return $pOut$$};
cc.kmMat3RotationZ=function $cc$kmMat3RotationZ$($pOut$$,$radians$$){$pOut$$.mat[0]=Math.cos($radians$$);$pOut$$.mat[1]=-Math.sin($radians$$);$pOut$$.mat[2]=0;$pOut$$.mat[3]=Math.sin($radians$$);$pOut$$.mat[4]=Math.cos($radians$$);$pOut$$.mat[5]=0;$pOut$$.mat[6]=0;$pOut$$.mat[7]=0;$pOut$$.mat[8]=1;return $pOut$$};
cc.kmMat3Rotation=function $cc$kmMat3Rotation$($pOut$$,$radians$$){$pOut$$.mat[0]=Math.cos($radians$$);$pOut$$.mat[1]=Math.sin($radians$$);$pOut$$.mat[2]=0;$pOut$$.mat[3]=-Math.sin($radians$$);$pOut$$.mat[4]=Math.cos($radians$$);$pOut$$.mat[5]=0;$pOut$$.mat[6]=0;$pOut$$.mat[7]=0;$pOut$$.mat[8]=1;return $pOut$$};cc.kmMat3Scaling=function $cc$kmMat3Scaling$($pOut$$,$x$$,$y$$){cc.kmMat3Identity($pOut$$);$pOut$$.mat[0]=$x$$;$pOut$$.mat[4]=$y$$;return $pOut$$};
cc.kmMat3Translation=function $cc$kmMat3Translation$($pOut$$,$x$$,$y$$){cc.kmMat3Identity($pOut$$);$pOut$$.mat[6]=$x$$;$pOut$$.mat[7]=$y$$;return $pOut$$};
cc.kmMat3RotationQuaternion=function $cc$kmMat3RotationQuaternion$($pOut$$,$pIn$$){if(!$pIn$$||!$pOut$$)return null;$pOut$$.mat[0]=1-2*($pIn$$.y*$pIn$$.y+$pIn$$.z*$pIn$$.z);$pOut$$.mat[1]=2*($pIn$$.x*$pIn$$.y-$pIn$$.w*$pIn$$.z);$pOut$$.mat[2]=2*($pIn$$.x*$pIn$$.z+$pIn$$.w*$pIn$$.y);$pOut$$.mat[3]=2*($pIn$$.x*$pIn$$.y+$pIn$$.w*$pIn$$.z);$pOut$$.mat[4]=1-2*($pIn$$.x*$pIn$$.x+$pIn$$.z*$pIn$$.z);$pOut$$.mat[5]=2*($pIn$$.y*$pIn$$.z-$pIn$$.w*$pIn$$.x);$pOut$$.mat[6]=2*($pIn$$.x*$pIn$$.z-$pIn$$.w*$pIn$$.y);
$pOut$$.mat[7]=2*($pIn$$.y*$pIn$$.z+$pIn$$.w*$pIn$$.x);$pOut$$.mat[8]=1-2*($pIn$$.x*$pIn$$.x+$pIn$$.y*$pIn$$.y);return $pOut$$};cc.kmMat3RotationToAxisAngle=function $cc$kmMat3RotationToAxisAngle$($pAxis$$,$radians$$,$pIn$$){cc.kmQuaternionRotationMatrix(void 0,$pIn$$);cc.kmQuaternionToAxisAngle(void 0,$pAxis$$,$radians$$);return $pAxis$$};cc.kmMat4=function $cc$kmMat4$(){this.mat=new Float32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])};
cc.kmMat4Fill=function $cc$kmMat4Fill$($pOut$$,$pMat$$){$pOut$$.mat[0]=$pOut$$.mat[1]=$pOut$$.mat[2]=$pOut$$.mat[3]=$pOut$$.mat[4]=$pOut$$.mat[5]=$pOut$$.mat[6]=$pOut$$.mat[7]=$pOut$$.mat[8]=$pOut$$.mat[9]=$pOut$$.mat[10]=$pOut$$.mat[11]=$pOut$$.mat[12]=$pOut$$.mat[13]=$pOut$$.mat[14]=$pOut$$.mat[15]=$pMat$$};
cc.kmMat4Identity=function $cc$kmMat4Identity$($pOut$$){$pOut$$.mat[1]=$pOut$$.mat[2]=$pOut$$.mat[3]=$pOut$$.mat[4]=$pOut$$.mat[6]=$pOut$$.mat[7]=$pOut$$.mat[8]=$pOut$$.mat[9]=$pOut$$.mat[11]=$pOut$$.mat[12]=$pOut$$.mat[13]=$pOut$$.mat[14]=0;$pOut$$.mat[0]=$pOut$$.mat[5]=$pOut$$.mat[10]=$pOut$$.mat[15]=1;return $pOut$$};cc.kmMat4._get=function $cc$kmMat4$_get$($pIn$$,$row$$,$col$$){return $pIn$$.mat[$row$$+4*$col$$]};
cc.kmMat4._set=function $cc$kmMat4$_set$($pIn$$,$row$$,$col$$,$value$$){$pIn$$.mat[$row$$+4*$col$$]=$value$$};cc.kmMat4._swap=function $cc$kmMat4$_swap$($pIn$$,$r1$$,$c1$$,$r2$$,$c2$$){var $tmp$$=cc.kmMat4._get($pIn$$,$r1$$,$c1$$);cc.kmMat4._set($pIn$$,$r1$$,$c1$$,cc.kmMat4._get($pIn$$,$r2$$,$c2$$));cc.kmMat4._set($pIn$$,$r2$$,$c2$$,$tmp$$)};
cc.kmMat4._gaussj=function $cc$kmMat4$_gaussj$($a$$,$b$$){var $i$$,$icol$$=0,$irow$$=0,$j$$11_l$$,$k$$,$big_dum$$,$indxc$$=[0,0,0,0],$indxr$$=[0,0,0,0],$ipiv$$=[0,0,0,0];for($i$$=0;4>$i$$;$i$$++){for($j$$11_l$$=$big_dum$$=0;4>$j$$11_l$$;$j$$11_l$$++)if(1!=$ipiv$$[$j$$11_l$$])for($k$$=0;4>$k$$;$k$$++)0==$ipiv$$[$k$$]&&Math.abs(cc.kmMat4._get($a$$,$j$$11_l$$,$k$$))>=$big_dum$$&&($big_dum$$=Math.abs(cc.kmMat4._get($a$$,$j$$11_l$$,$k$$)),$irow$$=$j$$11_l$$,$icol$$=$k$$);++$ipiv$$[$icol$$];if($irow$$!=
$icol$$){for($j$$11_l$$=0;4>$j$$11_l$$;$j$$11_l$$++)cc.kmMat4._swap($a$$,$irow$$,$j$$11_l$$,$icol$$,$j$$11_l$$);for($j$$11_l$$=0;4>$j$$11_l$$;$j$$11_l$$++)cc.kmMat4._swap($b$$,$irow$$,$j$$11_l$$,$icol$$,$j$$11_l$$)}$indxr$$[$i$$]=$irow$$;$indxc$$[$i$$]=$icol$$;if(0==cc.kmMat4._get($a$$,$icol$$,$icol$$))return cc.KM_FALSE;$k$$=1/cc.kmMat4._get($a$$,$icol$$,$icol$$);cc.kmMat4._set($a$$,$icol$$,$icol$$,1);for($j$$11_l$$=0;4>$j$$11_l$$;$j$$11_l$$++)cc.kmMat4._set($a$$,$icol$$,$j$$11_l$$,cc.kmMat4._get($a$$,
$icol$$,$j$$11_l$$)*$k$$);for($j$$11_l$$=0;4>$j$$11_l$$;$j$$11_l$$++)cc.kmMat4._set($b$$,$icol$$,$j$$11_l$$,cc.kmMat4._get($b$$,$icol$$,$j$$11_l$$)*$k$$);for($k$$=0;4>$k$$;$k$$++)if($k$$!=$icol$$){$big_dum$$=cc.kmMat4._get($a$$,$k$$,$icol$$);cc.kmMat4._set($a$$,$k$$,$icol$$,0);for($j$$11_l$$=0;4>$j$$11_l$$;$j$$11_l$$++)cc.kmMat4._set($a$$,$k$$,$j$$11_l$$,cc.kmMat4._get($a$$,$k$$,$j$$11_l$$)-cc.kmMat4._get($a$$,$icol$$,$j$$11_l$$)*$big_dum$$);for($j$$11_l$$=0;4>$j$$11_l$$;$j$$11_l$$++)cc.kmMat4._set($b$$,
$k$$,$j$$11_l$$,cc.kmMat4._get($a$$,$k$$,$j$$11_l$$)-cc.kmMat4._get($b$$,$icol$$,$j$$11_l$$)*$big_dum$$)}}for($j$$11_l$$=3;0<=$j$$11_l$$;$j$$11_l$$--)if($indxr$$[$j$$11_l$$]!=$indxc$$[$j$$11_l$$])for($k$$=0;4>$k$$;$k$$++)cc.kmMat4._swap($a$$,$k$$,$indxr$$[$j$$11_l$$],$k$$,$indxc$$[$j$$11_l$$]);return cc.KM_TRUE};cc.kmMat4._identity=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);
cc.kmMat4Inverse=function $cc$kmMat4Inverse$($pOut$$,$pM$$){var $inv$$=new cc.kmMat4,$tmp$$=new cc.kmMat4;cc.kmMat4Assign($inv$$,$pM$$);cc.kmMat4Identity($tmp$$);if(cc.kmMat4._gaussj($inv$$,$tmp$$)==cc.KM_FALSE)return null;cc.kmMat4Assign($pOut$$,$inv$$);return $pOut$$};cc.kmMat4IsIdentity=function $cc$kmMat4IsIdentity$($pIn$$){for(var $i$$=0;16>$i$$;$i$$++)if(cc.kmMat4._identity[$i$$]!=$pIn$$.mat[$i$$])return!1;return!0};
cc.kmMat4Transpose=function $cc$kmMat4Transpose$($pOut$$,$pIn$$){var $x$$,$z$$,$outArr$$=$pOut$$.mat,$inArr$$=$pIn$$.mat;for($z$$=0;4>$z$$;++$z$$)for($x$$=0;4>$x$$;++$x$$)$outArr$$[4*$z$$+$x$$]=$inArr$$[4*$x$$+$z$$];return $pOut$$};
cc.kmMat4Multiply=function $cc$kmMat4Multiply$($pOut$$,$a33_pM1$$,$b33_pM2$$){var $outArray$$=$pOut$$.mat,$a00$$=$a33_pM1$$.mat[0],$a01$$=$a33_pM1$$.mat[1],$a02$$=$a33_pM1$$.mat[2],$a03$$=$a33_pM1$$.mat[3],$a10$$=$a33_pM1$$.mat[4],$a11$$=$a33_pM1$$.mat[5],$a12$$=$a33_pM1$$.mat[6],$a13$$=$a33_pM1$$.mat[7],$a20$$=$a33_pM1$$.mat[8],$a21$$=$a33_pM1$$.mat[9],$a22$$=$a33_pM1$$.mat[10],$a23$$=$a33_pM1$$.mat[11],$a30$$=$a33_pM1$$.mat[12],$a31$$=$a33_pM1$$.mat[13],$a32$$=$a33_pM1$$.mat[14];$a33_pM1$$=$a33_pM1$$.mat[15];
var $b00$$=$b33_pM2$$.mat[0],$b01$$=$b33_pM2$$.mat[1],$b02$$=$b33_pM2$$.mat[2],$b03$$=$b33_pM2$$.mat[3],$b10$$=$b33_pM2$$.mat[4],$b11$$=$b33_pM2$$.mat[5],$b12$$=$b33_pM2$$.mat[6],$b13$$=$b33_pM2$$.mat[7],$b20$$=$b33_pM2$$.mat[8],$b21$$=$b33_pM2$$.mat[9],$b22$$=$b33_pM2$$.mat[10],$b23$$=$b33_pM2$$.mat[11],$b30$$=$b33_pM2$$.mat[12],$b31$$=$b33_pM2$$.mat[13],$b32$$=$b33_pM2$$.mat[14];$b33_pM2$$=$b33_pM2$$.mat[15];$outArray$$[0]=$b00$$*$a00$$+$b01$$*$a10$$+$b02$$*$a20$$+$b03$$*$a30$$;$outArray$$[1]=$b00$$*
$a01$$+$b01$$*$a11$$+$b02$$*$a21$$+$b03$$*$a31$$;$outArray$$[2]=$b00$$*$a02$$+$b01$$*$a12$$+$b02$$*$a22$$+$b03$$*$a32$$;$outArray$$[3]=$b00$$*$a03$$+$b01$$*$a13$$+$b02$$*$a23$$+$b03$$*$a33_pM1$$;$outArray$$[4]=$b10$$*$a00$$+$b11$$*$a10$$+$b12$$*$a20$$+$b13$$*$a30$$;$outArray$$[5]=$b10$$*$a01$$+$b11$$*$a11$$+$b12$$*$a21$$+$b13$$*$a31$$;$outArray$$[6]=$b10$$*$a02$$+$b11$$*$a12$$+$b12$$*$a22$$+$b13$$*$a32$$;$outArray$$[7]=$b10$$*$a03$$+$b11$$*$a13$$+$b12$$*$a23$$+$b13$$*$a33_pM1$$;$outArray$$[8]=$b20$$*
$a00$$+$b21$$*$a10$$+$b22$$*$a20$$+$b23$$*$a30$$;$outArray$$[9]=$b20$$*$a01$$+$b21$$*$a11$$+$b22$$*$a21$$+$b23$$*$a31$$;$outArray$$[10]=$b20$$*$a02$$+$b21$$*$a12$$+$b22$$*$a22$$+$b23$$*$a32$$;$outArray$$[11]=$b20$$*$a03$$+$b21$$*$a13$$+$b22$$*$a23$$+$b23$$*$a33_pM1$$;$outArray$$[12]=$b30$$*$a00$$+$b31$$*$a10$$+$b32$$*$a20$$+$b33_pM2$$*$a30$$;$outArray$$[13]=$b30$$*$a01$$+$b31$$*$a11$$+$b32$$*$a21$$+$b33_pM2$$*$a31$$;$outArray$$[14]=$b30$$*$a02$$+$b31$$*$a12$$+$b32$$*$a22$$+$b33_pM2$$*$a32$$;$outArray$$[15]=
$b30$$*$a03$$+$b31$$*$a13$$+$b32$$*$a23$$+$b33_pM2$$*$a33_pM1$$;return $pOut$$};
cc.getMat4MultiplyValue=function $cc$getMat4MultiplyValue$($pM1$$,$pM2$$){var $m1$$=$pM1$$.mat,$m2$$=$pM2$$.mat,$mat$$=new Float32Array(16);$mat$$[0]=$m1$$[0]*$m2$$[0]+$m1$$[4]*$m2$$[1]+$m1$$[8]*$m2$$[2]+$m1$$[12]*$m2$$[3];$mat$$[1]=$m1$$[1]*$m2$$[0]+$m1$$[5]*$m2$$[1]+$m1$$[9]*$m2$$[2]+$m1$$[13]*$m2$$[3];$mat$$[2]=$m1$$[2]*$m2$$[0]+$m1$$[6]*$m2$$[1]+$m1$$[10]*$m2$$[2]+$m1$$[14]*$m2$$[3];$mat$$[3]=$m1$$[3]*$m2$$[0]+$m1$$[7]*$m2$$[1]+$m1$$[11]*$m2$$[2]+$m1$$[15]*$m2$$[3];$mat$$[4]=$m1$$[0]*$m2$$[4]+
$m1$$[4]*$m2$$[5]+$m1$$[8]*$m2$$[6]+$m1$$[12]*$m2$$[7];$mat$$[5]=$m1$$[1]*$m2$$[4]+$m1$$[5]*$m2$$[5]+$m1$$[9]*$m2$$[6]+$m1$$[13]*$m2$$[7];$mat$$[6]=$m1$$[2]*$m2$$[4]+$m1$$[6]*$m2$$[5]+$m1$$[10]*$m2$$[6]+$m1$$[14]*$m2$$[7];$mat$$[7]=$m1$$[3]*$m2$$[4]+$m1$$[7]*$m2$$[5]+$m1$$[11]*$m2$$[6]+$m1$$[15]*$m2$$[7];$mat$$[8]=$m1$$[0]*$m2$$[8]+$m1$$[4]*$m2$$[9]+$m1$$[8]*$m2$$[10]+$m1$$[12]*$m2$$[11];$mat$$[9]=$m1$$[1]*$m2$$[8]+$m1$$[5]*$m2$$[9]+$m1$$[9]*$m2$$[10]+$m1$$[13]*$m2$$[11];$mat$$[10]=$m1$$[2]*$m2$$[8]+
$m1$$[6]*$m2$$[9]+$m1$$[10]*$m2$$[10]+$m1$$[14]*$m2$$[11];$mat$$[11]=$m1$$[3]*$m2$$[8]+$m1$$[7]*$m2$$[9]+$m1$$[11]*$m2$$[10]+$m1$$[15]*$m2$$[11];$mat$$[12]=$m1$$[0]*$m2$$[12]+$m1$$[4]*$m2$$[13]+$m1$$[8]*$m2$$[14]+$m1$$[12]*$m2$$[15];$mat$$[13]=$m1$$[1]*$m2$$[12]+$m1$$[5]*$m2$$[13]+$m1$$[9]*$m2$$[14]+$m1$$[13]*$m2$$[15];$mat$$[14]=$m1$$[2]*$m2$$[12]+$m1$$[6]*$m2$$[13]+$m1$$[10]*$m2$$[14]+$m1$$[14]*$m2$$[15];$mat$$[15]=$m1$$[3]*$m2$$[12]+$m1$$[7]*$m2$$[13]+$m1$$[11]*$m2$$[14]+$m1$$[15]*$m2$$[15];return $mat$$};
cc.getMat4MultiplyWithMat4=function $cc$getMat4MultiplyWithMat4$($m1$$2_pM1$$,$m2$$2_pM2$$,$swapMat$$){$m1$$2_pM1$$=$m1$$2_pM1$$.mat;$m2$$2_pM2$$=$m2$$2_pM2$$.mat;var $mat$$=$swapMat$$.mat;$mat$$[0]=$m1$$2_pM1$$[0]*$m2$$2_pM2$$[0]+$m1$$2_pM1$$[4]*$m2$$2_pM2$$[1]+$m1$$2_pM1$$[8]*$m2$$2_pM2$$[2]+$m1$$2_pM1$$[12]*$m2$$2_pM2$$[3];$mat$$[1]=$m1$$2_pM1$$[1]*$m2$$2_pM2$$[0]+$m1$$2_pM1$$[5]*$m2$$2_pM2$$[1]+$m1$$2_pM1$$[9]*$m2$$2_pM2$$[2]+$m1$$2_pM1$$[13]*$m2$$2_pM2$$[3];$mat$$[2]=$m1$$2_pM1$$[2]*$m2$$2_pM2$$[0]+
$m1$$2_pM1$$[6]*$m2$$2_pM2$$[1]+$m1$$2_pM1$$[10]*$m2$$2_pM2$$[2]+$m1$$2_pM1$$[14]*$m2$$2_pM2$$[3];$mat$$[3]=$m1$$2_pM1$$[3]*$m2$$2_pM2$$[0]+$m1$$2_pM1$$[7]*$m2$$2_pM2$$[1]+$m1$$2_pM1$$[11]*$m2$$2_pM2$$[2]+$m1$$2_pM1$$[15]*$m2$$2_pM2$$[3];$mat$$[4]=$m1$$2_pM1$$[0]*$m2$$2_pM2$$[4]+$m1$$2_pM1$$[4]*$m2$$2_pM2$$[5]+$m1$$2_pM1$$[8]*$m2$$2_pM2$$[6]+$m1$$2_pM1$$[12]*$m2$$2_pM2$$[7];$mat$$[5]=$m1$$2_pM1$$[1]*$m2$$2_pM2$$[4]+$m1$$2_pM1$$[5]*$m2$$2_pM2$$[5]+$m1$$2_pM1$$[9]*$m2$$2_pM2$$[6]+$m1$$2_pM1$$[13]*$m2$$2_pM2$$[7];
$mat$$[6]=$m1$$2_pM1$$[2]*$m2$$2_pM2$$[4]+$m1$$2_pM1$$[6]*$m2$$2_pM2$$[5]+$m1$$2_pM1$$[10]*$m2$$2_pM2$$[6]+$m1$$2_pM1$$[14]*$m2$$2_pM2$$[7];$mat$$[7]=$m1$$2_pM1$$[3]*$m2$$2_pM2$$[4]+$m1$$2_pM1$$[7]*$m2$$2_pM2$$[5]+$m1$$2_pM1$$[11]*$m2$$2_pM2$$[6]+$m1$$2_pM1$$[15]*$m2$$2_pM2$$[7];$mat$$[8]=$m1$$2_pM1$$[0]*$m2$$2_pM2$$[8]+$m1$$2_pM1$$[4]*$m2$$2_pM2$$[9]+$m1$$2_pM1$$[8]*$m2$$2_pM2$$[10]+$m1$$2_pM1$$[12]*$m2$$2_pM2$$[11];$mat$$[9]=$m1$$2_pM1$$[1]*$m2$$2_pM2$$[8]+$m1$$2_pM1$$[5]*$m2$$2_pM2$$[9]+$m1$$2_pM1$$[9]*
$m2$$2_pM2$$[10]+$m1$$2_pM1$$[13]*$m2$$2_pM2$$[11];$mat$$[10]=$m1$$2_pM1$$[2]*$m2$$2_pM2$$[8]+$m1$$2_pM1$$[6]*$m2$$2_pM2$$[9]+$m1$$2_pM1$$[10]*$m2$$2_pM2$$[10]+$m1$$2_pM1$$[14]*$m2$$2_pM2$$[11];$mat$$[11]=$m1$$2_pM1$$[3]*$m2$$2_pM2$$[8]+$m1$$2_pM1$$[7]*$m2$$2_pM2$$[9]+$m1$$2_pM1$$[11]*$m2$$2_pM2$$[10]+$m1$$2_pM1$$[15]*$m2$$2_pM2$$[11];$mat$$[12]=$m1$$2_pM1$$[0]*$m2$$2_pM2$$[12]+$m1$$2_pM1$$[4]*$m2$$2_pM2$$[13]+$m1$$2_pM1$$[8]*$m2$$2_pM2$$[14]+$m1$$2_pM1$$[12]*$m2$$2_pM2$$[15];$mat$$[13]=$m1$$2_pM1$$[1]*
$m2$$2_pM2$$[12]+$m1$$2_pM1$$[5]*$m2$$2_pM2$$[13]+$m1$$2_pM1$$[9]*$m2$$2_pM2$$[14]+$m1$$2_pM1$$[13]*$m2$$2_pM2$$[15];$mat$$[14]=$m1$$2_pM1$$[2]*$m2$$2_pM2$$[12]+$m1$$2_pM1$$[6]*$m2$$2_pM2$$[13]+$m1$$2_pM1$$[10]*$m2$$2_pM2$$[14]+$m1$$2_pM1$$[14]*$m2$$2_pM2$$[15];$mat$$[15]=$m1$$2_pM1$$[3]*$m2$$2_pM2$$[12]+$m1$$2_pM1$$[7]*$m2$$2_pM2$$[13]+$m1$$2_pM1$$[11]*$m2$$2_pM2$$[14]+$m1$$2_pM1$$[15]*$m2$$2_pM2$$[15];return $swapMat$$.mat};
cc.kmMat4Assign=function $cc$kmMat4Assign$($pOut$$,$pIn$$){if($pOut$$==$pIn$$)return cc.log("cc.kmMat4Assign(): pOut equals pIn"),$pOut$$;var $outArr$$=$pOut$$.mat,$inArr$$=$pIn$$.mat;$outArr$$[0]=$inArr$$[0];$outArr$$[1]=$inArr$$[1];$outArr$$[2]=$inArr$$[2];$outArr$$[3]=$inArr$$[3];$outArr$$[4]=$inArr$$[4];$outArr$$[5]=$inArr$$[5];$outArr$$[6]=$inArr$$[6];$outArr$$[7]=$inArr$$[7];$outArr$$[8]=$inArr$$[8];$outArr$$[9]=$inArr$$[9];$outArr$$[10]=$inArr$$[10];$outArr$$[11]=$inArr$$[11];$outArr$$[12]=
$inArr$$[12];$outArr$$[13]=$inArr$$[13];$outArr$$[14]=$inArr$$[14];$outArr$$[15]=$inArr$$[15];return $pOut$$};cc.kmMat4AreEqual=function $cc$kmMat4AreEqual$($pMat1$$,$pMat2$$){if($pMat1$$==$pMat2$$)return cc.log("cc.kmMat4AreEqual(): pMat1 and pMat2 are same object."),!0;for(var $i$$=0;16>$i$$;$i$$++)if(!($pMat1$$.mat[$i$$]+cc.kmEpsilon>$pMat2$$.mat[$i$$]&&$pMat1$$.mat[$i$$]-cc.kmEpsilon<$pMat2$$.mat[$i$$]))return!1;return!0};
cc.kmMat4RotationX=function $cc$kmMat4RotationX$($pOut$$,$radians$$){$pOut$$.mat[0]=1;$pOut$$.mat[1]=0;$pOut$$.mat[2]=0;$pOut$$.mat[3]=0;$pOut$$.mat[4]=0;$pOut$$.mat[5]=Math.cos($radians$$);$pOut$$.mat[6]=Math.sin($radians$$);$pOut$$.mat[7]=0;$pOut$$.mat[8]=0;$pOut$$.mat[9]=-Math.sin($radians$$);$pOut$$.mat[10]=Math.cos($radians$$);$pOut$$.mat[11]=0;$pOut$$.mat[12]=0;$pOut$$.mat[13]=0;$pOut$$.mat[14]=0;$pOut$$.mat[15]=1;return $pOut$$};
cc.kmMat4RotationY=function $cc$kmMat4RotationY$($pOut$$,$radians$$){$pOut$$.mat[0]=Math.cos($radians$$);$pOut$$.mat[1]=0;$pOut$$.mat[2]=-Math.sin($radians$$);$pOut$$.mat[3]=0;$pOut$$.mat[4]=0;$pOut$$.mat[5]=1;$pOut$$.mat[6]=0;$pOut$$.mat[7]=0;$pOut$$.mat[8]=Math.sin($radians$$);$pOut$$.mat[9]=0;$pOut$$.mat[10]=Math.cos($radians$$);$pOut$$.mat[11]=0;$pOut$$.mat[12]=0;$pOut$$.mat[13]=0;$pOut$$.mat[14]=0;$pOut$$.mat[15]=1;return $pOut$$};
cc.kmMat4RotationZ=function $cc$kmMat4RotationZ$($pOut$$,$radians$$){$pOut$$.mat[0]=Math.cos($radians$$);$pOut$$.mat[1]=Math.sin($radians$$);$pOut$$.mat[2]=0;$pOut$$.mat[3]=0;$pOut$$.mat[4]=-Math.sin($radians$$);$pOut$$.mat[5]=Math.cos($radians$$);$pOut$$.mat[6]=0;$pOut$$.mat[7]=0;$pOut$$.mat[8]=0;$pOut$$.mat[9]=0;$pOut$$.mat[10]=1;$pOut$$.mat[11]=0;$pOut$$.mat[12]=0;$pOut$$.mat[13]=0;$pOut$$.mat[14]=0;$pOut$$.mat[15]=1;return $pOut$$};
cc.kmMat4RotationPitchYawRoll=function $cc$kmMat4RotationPitchYawRoll$($pOut$$,$pitch_sr$$,$sp$$,$roll_sy$$){var $cr$$=Math.cos($pitch_sr$$);$pitch_sr$$=Math.sin($pitch_sr$$);var $cp$$=Math.cos($sp$$);$sp$$=Math.sin($sp$$);var $cy$$=Math.cos($roll_sy$$);$roll_sy$$=Math.sin($roll_sy$$);var $srsp$$=$pitch_sr$$*$sp$$,$crsp$$=$cr$$*$sp$$;$pOut$$.mat[0]=$cp$$*$cy$$;$pOut$$.mat[4]=$cp$$*$roll_sy$$;$pOut$$.mat[8]=-$sp$$;$pOut$$.mat[1]=$srsp$$*$cy$$-$cr$$*$roll_sy$$;$pOut$$.mat[5]=$srsp$$*$roll_sy$$+$cr$$*
$cy$$;$pOut$$.mat[9]=$pitch_sr$$*$cp$$;$pOut$$.mat[2]=$crsp$$*$cy$$+$pitch_sr$$*$roll_sy$$;$pOut$$.mat[6]=$crsp$$*$roll_sy$$-$pitch_sr$$*$cy$$;$pOut$$.mat[10]=$cr$$*$cp$$;$pOut$$.mat[3]=$pOut$$.mat[7]=$pOut$$.mat[11]=0;$pOut$$.mat[15]=1;return $pOut$$};
cc.kmMat4RotationQuaternion=function $cc$kmMat4RotationQuaternion$($pOut$$,$pQ$$){$pOut$$.mat[0]=1-2*($pQ$$.y*$pQ$$.y+$pQ$$.z*$pQ$$.z);$pOut$$.mat[1]=2*($pQ$$.x*$pQ$$.y+$pQ$$.z*$pQ$$.w);$pOut$$.mat[2]=2*($pQ$$.x*$pQ$$.z-$pQ$$.y*$pQ$$.w);$pOut$$.mat[3]=0;$pOut$$.mat[4]=2*($pQ$$.x*$pQ$$.y-$pQ$$.z*$pQ$$.w);$pOut$$.mat[5]=1-2*($pQ$$.x*$pQ$$.x+$pQ$$.z*$pQ$$.z);$pOut$$.mat[6]=2*($pQ$$.z*$pQ$$.y+$pQ$$.x*$pQ$$.w);$pOut$$.mat[7]=0;$pOut$$.mat[8]=2*($pQ$$.x*$pQ$$.z+$pQ$$.y*$pQ$$.w);$pOut$$.mat[9]=2*($pQ$$.y*
$pQ$$.z-$pQ$$.x*$pQ$$.w);$pOut$$.mat[10]=1-2*($pQ$$.x*$pQ$$.x+$pQ$$.y*$pQ$$.y);$pOut$$.mat[11]=0;$pOut$$.mat[12]=0;$pOut$$.mat[13]=0;$pOut$$.mat[14]=0;$pOut$$.mat[15]=1;return $pOut$$};
cc.kmMat4RotationTranslation=function $cc$kmMat4RotationTranslation$($pOut$$,$rotation$$,$translation$$){$pOut$$.mat[0]=$rotation$$.mat[0];$pOut$$.mat[1]=$rotation$$.mat[1];$pOut$$.mat[2]=$rotation$$.mat[2];$pOut$$.mat[3]=0;$pOut$$.mat[4]=$rotation$$.mat[3];$pOut$$.mat[5]=$rotation$$.mat[4];$pOut$$.mat[6]=$rotation$$.mat[5];$pOut$$.mat[7]=0;$pOut$$.mat[8]=$rotation$$.mat[6];$pOut$$.mat[9]=$rotation$$.mat[7];$pOut$$.mat[10]=$rotation$$.mat[8];$pOut$$.mat[11]=0;$pOut$$.mat[12]=$translation$$.x;$pOut$$.mat[13]=
$translation$$.y;$pOut$$.mat[14]=$translation$$.z;$pOut$$.mat[15]=1;return $pOut$$};cc.kmMat4Scaling=function $cc$kmMat4Scaling$($pOut$$,$x$$,$y$$,$z$$){$pOut$$.mat[0]=$x$$;$pOut$$.mat[5]=$y$$;$pOut$$.mat[10]=$z$$;$pOut$$.mat[15]=1;$pOut$$.mat[1]=$pOut$$.mat[2]=$pOut$$.mat[3]=$pOut$$.mat[4]=$pOut$$.mat[6]=$pOut$$.mat[7]=$pOut$$.mat[8]=$pOut$$.mat[9]=$pOut$$.mat[11]=$pOut$$.mat[12]=$pOut$$.mat[13]=$pOut$$.mat[14]=0;return $pOut$$};
cc.kmMat4Translation=function $cc$kmMat4Translation$($pOut$$,$x$$,$y$$,$z$$){$pOut$$.mat[0]=$pOut$$.mat[5]=$pOut$$.mat[10]=$pOut$$.mat[15]=1;$pOut$$.mat[1]=$pOut$$.mat[2]=$pOut$$.mat[3]=$pOut$$.mat[4]=$pOut$$.mat[6]=$pOut$$.mat[7]=$pOut$$.mat[8]=$pOut$$.mat[9]=$pOut$$.mat[11]=0;$pOut$$.mat[12]=$x$$;$pOut$$.mat[13]=$y$$;$pOut$$.mat[14]=$z$$;return $pOut$$};
cc.kmMat4GetUpVec3=function $cc$kmMat4GetUpVec3$($pOut$$,$pIn$$){$pOut$$.x=$pIn$$.mat[4];$pOut$$.y=$pIn$$.mat[5];$pOut$$.z=$pIn$$.mat[6];cc.kmVec3Normalize($pOut$$,$pOut$$);return $pOut$$};cc.kmMat4GetRightVec3=function $cc$kmMat4GetRightVec3$($pOut$$,$pIn$$){$pOut$$.x=$pIn$$.mat[0];$pOut$$.y=$pIn$$.mat[1];$pOut$$.z=$pIn$$.mat[2];cc.kmVec3Normalize($pOut$$,$pOut$$);return $pOut$$};
cc.kmMat4GetForwardVec3=function $cc$kmMat4GetForwardVec3$($pOut$$,$pIn$$){$pOut$$.x=$pIn$$.mat[8];$pOut$$.y=$pIn$$.mat[9];$pOut$$.z=$pIn$$.mat[10];cc.kmVec3Normalize($pOut$$,$pOut$$);return $pOut$$};
cc.kmMat4PerspectiveProjection=function $cc$kmMat4PerspectiveProjection$($pOut$$,$deltaZ_fovY$$,$aspect$$,$zNear$$,$zFar$$){var $cotangent_r$$=cc.kmDegreesToRadians($deltaZ_fovY$$/2);$deltaZ_fovY$$=$zFar$$-$zNear$$;var $s$$=Math.sin($cotangent_r$$);if(0==$deltaZ_fovY$$||0==$s$$||0==$aspect$$)return null;$cotangent_r$$=Math.cos($cotangent_r$$)/$s$$;cc.kmMat4Identity($pOut$$);$pOut$$.mat[0]=$cotangent_r$$/$aspect$$;$pOut$$.mat[5]=$cotangent_r$$;$pOut$$.mat[10]=-($zFar$$+$zNear$$)/$deltaZ_fovY$$;$pOut$$.mat[11]=
-1;$pOut$$.mat[14]=-2*$zNear$$*$zFar$$/$deltaZ_fovY$$;$pOut$$.mat[15]=0;return $pOut$$};
cc.kmMat4OrthographicProjection=function $cc$kmMat4OrthographicProjection$($pOut$$,$left$$,$right$$,$bottom$$,$top$$,$nearVal$$,$farVal$$){cc.kmMat4Identity($pOut$$);$pOut$$.mat[0]=2/($right$$-$left$$);$pOut$$.mat[5]=2/($top$$-$bottom$$);$pOut$$.mat[10]=-2/($farVal$$-$nearVal$$);$pOut$$.mat[12]=-(($right$$+$left$$)/($right$$-$left$$));$pOut$$.mat[13]=-(($top$$+$bottom$$)/($top$$-$bottom$$));$pOut$$.mat[14]=-(($farVal$$+$nearVal$$)/($farVal$$-$nearVal$$));return $pOut$$};
cc.kmMat4LookAt=function $cc$kmMat4LookAt$($pOut$$,$pEye$$,$pCenter$$,$pUp$$){var $f$$=new cc.kmVec3,$up$$=new cc.kmVec3,$s$$=new cc.kmVec3,$u$$=new cc.kmVec3,$translate$$=new cc.kmMat4;cc.kmVec3Subtract($f$$,$pCenter$$,$pEye$$);cc.kmVec3Normalize($f$$,$f$$);cc.kmVec3Assign($up$$,$pUp$$);cc.kmVec3Normalize($up$$,$up$$);cc.kmVec3Cross($s$$,$f$$,$up$$);cc.kmVec3Normalize($s$$,$s$$);cc.kmVec3Cross($u$$,$s$$,$f$$);cc.kmVec3Normalize($s$$,$s$$);cc.kmMat4Identity($pOut$$);$pOut$$.mat[0]=$s$$.x;$pOut$$.mat[4]=
$s$$.y;$pOut$$.mat[8]=$s$$.z;$pOut$$.mat[1]=$u$$.x;$pOut$$.mat[5]=$u$$.y;$pOut$$.mat[9]=$u$$.z;$pOut$$.mat[2]=-$f$$.x;$pOut$$.mat[6]=-$f$$.y;$pOut$$.mat[10]=-$f$$.z;cc.kmMat4Translation($translate$$,-$pEye$$.x,-$pEye$$.y,-$pEye$$.z);cc.kmMat4Multiply($pOut$$,$pOut$$,$translate$$);return $pOut$$};
cc.kmMat4RotationAxisAngle=function $cc$kmMat4RotationAxisAngle$($pOut$$,$axis$$,$radians$$10_rsin$$){var $rcos$$=Math.cos($radians$$10_rsin$$);$radians$$10_rsin$$=Math.sin($radians$$10_rsin$$);var $normalizedAxis$$=new cc.kmVec3;cc.kmVec3Normalize($normalizedAxis$$,$axis$$);$pOut$$.mat[0]=$rcos$$+$normalizedAxis$$.x*$normalizedAxis$$.x*(1-$rcos$$);$pOut$$.mat[1]=$normalizedAxis$$.z*$radians$$10_rsin$$+$normalizedAxis$$.y*$normalizedAxis$$.x*(1-$rcos$$);$pOut$$.mat[2]=-$normalizedAxis$$.y*$radians$$10_rsin$$+
$normalizedAxis$$.z*$normalizedAxis$$.x*(1-$rcos$$);$pOut$$.mat[3]=0;$pOut$$.mat[4]=-$normalizedAxis$$.z*$radians$$10_rsin$$+$normalizedAxis$$.x*$normalizedAxis$$.y*(1-$rcos$$);$pOut$$.mat[5]=$rcos$$+$normalizedAxis$$.y*$normalizedAxis$$.y*(1-$rcos$$);$pOut$$.mat[6]=$normalizedAxis$$.x*$radians$$10_rsin$$+$normalizedAxis$$.z*$normalizedAxis$$.y*(1-$rcos$$);$pOut$$.mat[7]=0;$pOut$$.mat[8]=$normalizedAxis$$.y*$radians$$10_rsin$$+$normalizedAxis$$.x*$normalizedAxis$$.z*(1-$rcos$$);$pOut$$.mat[9]=-$normalizedAxis$$.x*
$radians$$10_rsin$$+$normalizedAxis$$.y*$normalizedAxis$$.z*(1-$rcos$$);$pOut$$.mat[10]=$rcos$$+$normalizedAxis$$.z*$normalizedAxis$$.z*(1-$rcos$$);$pOut$$.mat[11]=0;$pOut$$.mat[12]=0;$pOut$$.mat[13]=0;$pOut$$.mat[14]=0;$pOut$$.mat[15]=1;return $pOut$$};
cc.kmMat4ExtractRotation=function $cc$kmMat4ExtractRotation$($pOut$$,$pIn$$){$pOut$$.mat[0]=$pIn$$.mat[0];$pOut$$.mat[1]=$pIn$$.mat[1];$pOut$$.mat[2]=$pIn$$.mat[2];$pOut$$.mat[3]=$pIn$$.mat[4];$pOut$$.mat[4]=$pIn$$.mat[5];$pOut$$.mat[5]=$pIn$$.mat[6];$pOut$$.mat[6]=$pIn$$.mat[8];$pOut$$.mat[7]=$pIn$$.mat[9];$pOut$$.mat[8]=$pIn$$.mat[10];return $pOut$$};
cc.kmMat4ExtractPlane=function $cc$kmMat4ExtractPlane$($pOut$$,$pIn$$26_t$$,$plane$$){switch($plane$$){case cc.KM_PLANE_RIGHT:$pOut$$.a=$pIn$$26_t$$.mat[3]-$pIn$$26_t$$.mat[0];$pOut$$.b=$pIn$$26_t$$.mat[7]-$pIn$$26_t$$.mat[4];$pOut$$.c=$pIn$$26_t$$.mat[11]-$pIn$$26_t$$.mat[8];$pOut$$.d=$pIn$$26_t$$.mat[15]-$pIn$$26_t$$.mat[12];break;case cc.KM_PLANE_LEFT:$pOut$$.a=$pIn$$26_t$$.mat[3]+$pIn$$26_t$$.mat[0];$pOut$$.b=$pIn$$26_t$$.mat[7]+$pIn$$26_t$$.mat[4];$pOut$$.c=$pIn$$26_t$$.mat[11]+$pIn$$26_t$$.mat[8];
$pOut$$.d=$pIn$$26_t$$.mat[15]+$pIn$$26_t$$.mat[12];break;case cc.KM_PLANE_BOTTOM:$pOut$$.a=$pIn$$26_t$$.mat[3]+$pIn$$26_t$$.mat[1];$pOut$$.b=$pIn$$26_t$$.mat[7]+$pIn$$26_t$$.mat[5];$pOut$$.c=$pIn$$26_t$$.mat[11]+$pIn$$26_t$$.mat[9];$pOut$$.d=$pIn$$26_t$$.mat[15]+$pIn$$26_t$$.mat[13];break;case cc.KM_PLANE_TOP:$pOut$$.a=$pIn$$26_t$$.mat[3]-$pIn$$26_t$$.mat[1];$pOut$$.b=$pIn$$26_t$$.mat[7]-$pIn$$26_t$$.mat[5];$pOut$$.c=$pIn$$26_t$$.mat[11]-$pIn$$26_t$$.mat[9];$pOut$$.d=$pIn$$26_t$$.mat[15]-$pIn$$26_t$$.mat[13];
break;case cc.KM_PLANE_FAR:$pOut$$.a=$pIn$$26_t$$.mat[3]-$pIn$$26_t$$.mat[2];$pOut$$.b=$pIn$$26_t$$.mat[7]-$pIn$$26_t$$.mat[6];$pOut$$.c=$pIn$$26_t$$.mat[11]-$pIn$$26_t$$.mat[10];$pOut$$.d=$pIn$$26_t$$.mat[15]-$pIn$$26_t$$.mat[14];break;case cc.KM_PLANE_NEAR:$pOut$$.a=$pIn$$26_t$$.mat[3]+$pIn$$26_t$$.mat[2];$pOut$$.b=$pIn$$26_t$$.mat[7]+$pIn$$26_t$$.mat[6];$pOut$$.c=$pIn$$26_t$$.mat[11]+$pIn$$26_t$$.mat[10];$pOut$$.d=$pIn$$26_t$$.mat[15]+$pIn$$26_t$$.mat[14];break;default:cc.log("cc.kmMat4ExtractPlane(): Invalid plane index")}$pIn$$26_t$$=
Math.sqrt($pOut$$.a*$pOut$$.a+$pOut$$.b*$pOut$$.b+$pOut$$.c*$pOut$$.c);$pOut$$.a/=$pIn$$26_t$$;$pOut$$.b/=$pIn$$26_t$$;$pOut$$.c/=$pIn$$26_t$$;$pOut$$.d/=$pIn$$26_t$$;return $pOut$$};cc.kmMat4RotationToAxisAngle=function $cc$kmMat4RotationToAxisAngle$($pAxis$$,$radians$$,$pIn$$){var $temp$$=new cc.kmQuaternion,$rotation$$=new cc.kmMat3;cc.kmMat4ExtractRotation($rotation$$,$pIn$$);cc.kmQuaternionRotationMatrix($temp$$,$rotation$$);cc.kmQuaternionToAxisAngle($temp$$,$pAxis$$,$radians$$);return $pAxis$$};
cc.KM_PLANE_LEFT=0;cc.KM_PLANE_RIGHT=1;cc.KM_PLANE_BOTTOM=2;cc.KM_PLANE_TOP=3;cc.KM_PLANE_NEAR=4;cc.KM_PLANE_FAR=5;cc.kmPlane=function $cc$kmPlane$($a$$,$b$$,$c$$,$d$$){this.a=$a$$||0;this.b=$b$$||0;this.c=$c$$||0;this.d=$d$$||0};cc.POINT_INFRONT_OF_PLANE=0;cc.POINT_BEHIND_PLANE=1;cc.POINT_ON_PLANE=2;cc.kmPlaneDot=function $cc$kmPlaneDot$($pP$$,$pV$$){return $pP$$.a*$pV$$.x+$pP$$.b*$pV$$.y+$pP$$.c*$pV$$.z+$pP$$.d*$pV$$.w};
cc.kmPlaneDotCoord=function $cc$kmPlaneDotCoord$($pP$$,$pV$$){return $pP$$.a*$pV$$.x+$pP$$.b*$pV$$.y+$pP$$.c*$pV$$.z+$pP$$.d};cc.kmPlaneDotNormal=function $cc$kmPlaneDotNormal$($pP$$,$pV$$){return $pP$$.a*$pV$$.x+$pP$$.b*$pV$$.y+$pP$$.c*$pV$$.z};cc.kmPlaneFromPointNormal=function $cc$kmPlaneFromPointNormal$($pOut$$,$pPoint$$,$pNormal$$){$pOut$$.a=$pNormal$$.x;$pOut$$.b=$pNormal$$.y;$pOut$$.c=$pNormal$$.z;$pOut$$.d=-cc.kmVec3Dot($pNormal$$,$pPoint$$);return $pOut$$};
cc.kmPlaneFromPoints=function $cc$kmPlaneFromPoints$($pOut$$,$p1$$,$p2$$,$p3$$){var $n$$=new cc.kmVec3,$v1$$=new cc.kmVec3,$v2$$=new cc.kmVec3;cc.kmVec3Subtract($v1$$,$p2$$,$p1$$);cc.kmVec3Subtract($v2$$,$p3$$,$p1$$);cc.kmVec3Cross($n$$,$v1$$,$v2$$);cc.kmVec3Normalize($n$$,$n$$);$pOut$$.a=$n$$.x;$pOut$$.b=$n$$.y;$pOut$$.c=$n$$.z;$pOut$$.d=cc.kmVec3Dot(cc.kmVec3Scale($n$$,$n$$,-1),$p1$$);return $pOut$$};
cc.kmPlaneIntersectLine=function $cc$kmPlaneIntersectLine$($pOut$$,$pP$$,$pV1$$,$pV2$$){throw"cc.kmPlaneIntersectLine() hasn't been implemented.";};cc.kmPlaneNormalize=function $cc$kmPlaneNormalize$($pOut$$,$pP$$){var $n$$=new cc.kmVec3;$n$$.x=$pP$$.a;$n$$.y=$pP$$.b;$n$$.z=$pP$$.c;var $l$$=1/cc.kmVec3Length($n$$);cc.kmVec3Normalize($n$$,$n$$);$pOut$$.a=$n$$.x;$pOut$$.b=$n$$.y;$pOut$$.c=$n$$.z;$pOut$$.d=$pP$$.d*$l$$;return $pOut$$};cc.kmPlaneScale=function $cc$kmPlaneScale$($pOut$$,$pP$$,$s$$){cc.log("cc.kmPlaneScale() has not been implemented.")};
cc.kmPlaneClassifyPoint=function $cc$kmPlaneClassifyPoint$($pIn$$,$pP$$){var $distance$$=$pIn$$.a*$pP$$.x+$pIn$$.b*$pP$$.y+$pIn$$.c*$pP$$.z+$pIn$$.d;return.001<$distance$$?cc.POINT_INFRONT_OF_PLANE:-.001>$distance$$?cc.POINT_BEHIND_PLANE:cc.POINT_ON_PLANE};cc.kmQuaternion=function $cc$kmQuaternion$($x$$,$y$$,$z$$,$w$$){this.x=$x$$||0;this.y=$y$$||0;this.z=$z$$||0;this.w=$w$$||0};
cc.kmQuaternionConjugate=function $cc$kmQuaternionConjugate$($pOut$$,$pIn$$){$pOut$$.x=-$pIn$$.x;$pOut$$.y=-$pIn$$.y;$pOut$$.z=-$pIn$$.z;$pOut$$.w=$pIn$$.w;return $pOut$$};cc.kmQuaternionDot=function $cc$kmQuaternionDot$($q1$$,$q2$$){return $q1$$.w*$q2$$.w+$q1$$.x*$q2$$.x+$q1$$.y*$q2$$.y+$q1$$.z*$q2$$.z};cc.kmQuaternionExp=function $cc$kmQuaternionExp$($pOut$$,$pIn$$){return $pOut$$};
cc.kmQuaternionIdentity=function $cc$kmQuaternionIdentity$($pOut$$){$pOut$$.x=0;$pOut$$.y=0;$pOut$$.z=0;$pOut$$.w=1;return $pOut$$};cc.kmQuaternionInverse=function $cc$kmQuaternionInverse$($pOut$$,$pIn$$){var $l$$=cc.kmQuaternionLength($pIn$$),$tmp$$=new cc.kmQuaternion;if(Math.abs($l$$)>cc.kmEpsilon)return $pOut$$.x=0,$pOut$$.y=0,$pOut$$.z=0,$pOut$$.w=0,$pOut$$;cc.kmQuaternionScale($pOut$$,cc.kmQuaternionConjugate($tmp$$,$pIn$$),1/$l$$);return $pOut$$};
cc.kmQuaternionIsIdentity=function $cc$kmQuaternionIsIdentity$($pIn$$){return 0==$pIn$$.x&&0==$pIn$$.y&&0==$pIn$$.z&&1==$pIn$$.w};cc.kmQuaternionLength=function $cc$kmQuaternionLength$($pIn$$){return Math.sqrt(cc.kmQuaternionLengthSq($pIn$$))};cc.kmQuaternionLengthSq=function $cc$kmQuaternionLengthSq$($pIn$$){return $pIn$$.x*$pIn$$.x+$pIn$$.y*$pIn$$.y+$pIn$$.z*$pIn$$.z+$pIn$$.w*$pIn$$.w};cc.kmQuaternionLn=function $cc$kmQuaternionLn$($pOut$$,$pIn$$){return $pOut$$};
cc.kmQuaternionMultiply=function $cc$kmQuaternionMultiply$($pOut$$,$q1$$,$q2$$){$pOut$$.w=$q1$$.w*$q2$$.w-$q1$$.x*$q2$$.x-$q1$$.y*$q2$$.y-$q1$$.z*$q2$$.z;$pOut$$.x=$q1$$.w*$q2$$.x+$q1$$.x*$q2$$.w+$q1$$.y*$q2$$.z-$q1$$.z*$q2$$.y;$pOut$$.y=$q1$$.w*$q2$$.y+$q1$$.y*$q2$$.w+$q1$$.z*$q2$$.x-$q1$$.x*$q2$$.z;$pOut$$.z=$q1$$.w*$q2$$.z+$q1$$.z*$q2$$.w+$q1$$.x*$q2$$.y-$q1$$.y*$q2$$.x;return $pOut$$};
cc.kmQuaternionNormalize=function $cc$kmQuaternionNormalize$($pOut$$,$pIn$$){var $length$$=cc.kmQuaternionLength($pIn$$);if(Math.abs($length$$)<=cc.kmEpsilon)throw"cc.kmQuaternionNormalize(): pIn is an invalid value";cc.kmQuaternionScale($pOut$$,$pIn$$,1/$length$$);return $pOut$$};
cc.kmQuaternionRotationAxis=function $cc$kmQuaternionRotationAxis$($pOut$$,$pV$$,$angle$$){$angle$$*=.5;var $scale$$=Math.sin($angle$$);$pOut$$.w=Math.cos($angle$$);$pOut$$.x=$pV$$.x*$scale$$;$pOut$$.y=$pV$$.y*$scale$$;$pOut$$.z=$pV$$.z*$scale$$;return $pOut$$};
cc.kmQuaternionRotationMatrix=function $cc$kmQuaternionRotationMatrix$($pOut$$,$pIn$$){var $m4x4_x$$,$diagonal_y$$,$z$$,$scale$$17_w$$;$m4x4_x$$=[];$diagonal_y$$=$scale$$17_w$$=0;if(!$pIn$$)return null;$m4x4_x$$[0]=$pIn$$.mat[0];$m4x4_x$$[1]=$pIn$$.mat[3];$m4x4_x$$[2]=$pIn$$.mat[6];$m4x4_x$$[4]=$pIn$$.mat[1];$m4x4_x$$[5]=$pIn$$.mat[4];$m4x4_x$$[6]=$pIn$$.mat[7];$m4x4_x$$[8]=$pIn$$.mat[2];$m4x4_x$$[9]=$pIn$$.mat[5];$m4x4_x$$[10]=$pIn$$.mat[8];$m4x4_x$$[15]=1;var $pMatrix$$=$m4x4_x$$[0];$diagonal_y$$=
$pMatrix$$[0]+$pMatrix$$[5]+$pMatrix$$[10]+1;$diagonal_y$$>cc.kmEpsilon?($scale$$17_w$$=2*Math.sqrt($diagonal_y$$),$m4x4_x$$=($pMatrix$$[9]-$pMatrix$$[6])/$scale$$17_w$$,$diagonal_y$$=($pMatrix$$[2]-$pMatrix$$[8])/$scale$$17_w$$,$z$$=($pMatrix$$[4]-$pMatrix$$[1])/$scale$$17_w$$,$scale$$17_w$$*=.25):$pMatrix$$[0]>$pMatrix$$[5]&&$pMatrix$$[0]>$pMatrix$$[10]?($scale$$17_w$$=2*Math.sqrt(1+$pMatrix$$[0]-$pMatrix$$[5]-$pMatrix$$[10]),$m4x4_x$$=.25*$scale$$17_w$$,$diagonal_y$$=($pMatrix$$[4]+$pMatrix$$[1])/
$scale$$17_w$$,$z$$=($pMatrix$$[2]+$pMatrix$$[8])/$scale$$17_w$$,$scale$$17_w$$=($pMatrix$$[9]-$pMatrix$$[6])/$scale$$17_w$$):$pMatrix$$[5]>$pMatrix$$[10]?($scale$$17_w$$=2*Math.sqrt(1+$pMatrix$$[5]-$pMatrix$$[0]-$pMatrix$$[10]),$m4x4_x$$=($pMatrix$$[4]+$pMatrix$$[1])/$scale$$17_w$$,$diagonal_y$$=.25*$scale$$17_w$$,$z$$=($pMatrix$$[9]+$pMatrix$$[6])/$scale$$17_w$$,$scale$$17_w$$=($pMatrix$$[2]-$pMatrix$$[8])/$scale$$17_w$$):($scale$$17_w$$=2*Math.sqrt(1+$pMatrix$$[10]-$pMatrix$$[0]-$pMatrix$$[5]),
$m4x4_x$$=($pMatrix$$[2]+$pMatrix$$[8])/$scale$$17_w$$,$diagonal_y$$=($pMatrix$$[9]+$pMatrix$$[6])/$scale$$17_w$$,$z$$=.25*$scale$$17_w$$,$scale$$17_w$$=($pMatrix$$[4]-$pMatrix$$[1])/$scale$$17_w$$);$pOut$$.x=$m4x4_x$$;$pOut$$.y=$diagonal_y$$;$pOut$$.z=$z$$;$pOut$$.w=$scale$$17_w$$;return $pOut$$};
cc.kmQuaternionRotationYawPitchRoll=function $cc$kmQuaternionRotationYawPitchRoll$($pOut$$,$cp$$2_yaw$$,$cy$$3_pitch$$,$cr$$2_roll$$){var $ex_sr$$,$ey_sp$$,$ez_sy$$,$cpcy$$,$spsy$$;$ex_sr$$=cc.kmDegreesToRadians($cy$$3_pitch$$)/2;$ey_sp$$=cc.kmDegreesToRadians($cp$$2_yaw$$)/2;$ez_sy$$=cc.kmDegreesToRadians($cr$$2_roll$$)/2;$cr$$2_roll$$=Math.cos($ex_sr$$);$cp$$2_yaw$$=Math.cos($ey_sp$$);$cy$$3_pitch$$=Math.cos($ez_sy$$);$ex_sr$$=Math.sin($ex_sr$$);$ey_sp$$=Math.sin($ey_sp$$);$ez_sy$$=Math.sin($ez_sy$$);
$cpcy$$=$cp$$2_yaw$$*$cy$$3_pitch$$;$spsy$$=$ey_sp$$*$ez_sy$$;$pOut$$.w=$cr$$2_roll$$*$cpcy$$+$ex_sr$$*$spsy$$;$pOut$$.x=$ex_sr$$*$cpcy$$-$cr$$2_roll$$*$spsy$$;$pOut$$.y=$cr$$2_roll$$*$ey_sp$$*$cy$$3_pitch$$+$ex_sr$$*$cp$$2_yaw$$*$ez_sy$$;$pOut$$.z=$cr$$2_roll$$*$cp$$2_yaw$$*$ez_sy$$-$ex_sr$$*$ey_sp$$*$cy$$3_pitch$$;cc.kmQuaternionNormalize($pOut$$,$pOut$$);return $pOut$$};
cc.kmQuaternionSlerp=function $cc$kmQuaternionSlerp$($pOut$$,$q1$$,$q2$$,$somt_t$$){if($q1$$.x==$q2$$.x&&$q1$$.y==$q2$$.y&&$q1$$.z==$q2$$.z&&$q1$$.w==$q2$$.w)return $pOut$$.x=$q1$$.x,$pOut$$.y=$q1$$.y,$pOut$$.z=$q1$$.z,$pOut$$.w=$q1$$.w,$pOut$$;var $ct_stt$$=cc.kmQuaternionDot($q1$$,$q2$$),$temp$$=Math.acos($ct_stt$$),$st_temp2$$=Math.sqrt(1-cc.kmSQR($ct_stt$$)),$ct_stt$$=Math.sin($somt_t$$*$temp$$)/$st_temp2$$;$somt_t$$=Math.sin((1-$somt_t$$)*$temp$$)/$st_temp2$$;$temp$$=new cc.kmQuaternion;$st_temp2$$=
new cc.kmQuaternion;cc.kmQuaternionScale($temp$$,$q1$$,$somt_t$$);cc.kmQuaternionScale($st_temp2$$,$q2$$,$ct_stt$$);cc.kmQuaternionAdd($pOut$$,$temp$$,$st_temp2$$);return $pOut$$};
cc.kmQuaternionToAxisAngle=function $cc$kmQuaternionToAxisAngle$($pIn$$,$pAxis$$,$pAngle_scale$$){Math.acos($pIn$$.w);$pAngle_scale$$=Math.sqrt(cc.kmSQR($pIn$$.x)+cc.kmSQR($pIn$$.y)+cc.kmSQR($pIn$$.z));$pAngle_scale$$>-cc.kmEpsilon&&$pAngle_scale$$<cc.kmEpsilon||$pAngle_scale$$<2*cc.kmPI+cc.kmEpsilon&&$pAngle_scale$$>2*cc.kmPI-cc.kmEpsilon?($pAxis$$.x=0,$pAxis$$.y=0,$pAxis$$.z=1):($pAxis$$.x=$pIn$$.x/$pAngle_scale$$,$pAxis$$.y=$pIn$$.y/$pAngle_scale$$,$pAxis$$.z=$pIn$$.z/$pAngle_scale$$,cc.kmVec3Normalize($pAxis$$,
$pAxis$$))};cc.kmQuaternionScale=function $cc$kmQuaternionScale$($pOut$$,$pIn$$,$s$$){$pOut$$.x=$pIn$$.x*$s$$;$pOut$$.y=$pIn$$.y*$s$$;$pOut$$.z=$pIn$$.z*$s$$;$pOut$$.w=$pIn$$.w*$s$$;return $pOut$$};cc.kmQuaternionAssign=function $cc$kmQuaternionAssign$($pOut$$,$pIn$$){$pOut$$.x=$pIn$$.x;$pOut$$.y=$pIn$$.y;$pOut$$.z=$pIn$$.z;$pOut$$.w=$pIn$$.w;return $pOut$$};
cc.kmQuaternionAdd=function $cc$kmQuaternionAdd$($pOut$$,$pQ1$$,$pQ2$$){$pOut$$.x=$pQ1$$.x+$pQ2$$.x;$pOut$$.y=$pQ1$$.y+$pQ2$$.y;$pOut$$.z=$pQ1$$.z+$pQ2$$.z;$pOut$$.w=$pQ1$$.w+$pQ2$$.w;return $pOut$$};
cc.kmQuaternionRotationBetweenVec3=function $cc$kmQuaternionRotationBetweenVec3$($pOut$$,$s$$18_vec1$$,$a$$33_c$$19_vec2$$,$fallback_invs$$){var $axis$$2_v1$$=new cc.kmVec3,$X_Y_v2$$=new cc.kmVec3;cc.kmVec3Assign($axis$$2_v1$$,$s$$18_vec1$$);cc.kmVec3Assign($X_Y_v2$$,$a$$33_c$$19_vec2$$);cc.kmVec3Normalize($axis$$2_v1$$,$axis$$2_v1$$);cc.kmVec3Normalize($X_Y_v2$$,$X_Y_v2$$);$a$$33_c$$19_vec2$$=cc.kmVec3Dot($axis$$2_v1$$,$X_Y_v2$$);if(1<=$a$$33_c$$19_vec2$$)return cc.kmQuaternionIdentity($pOut$$),
$pOut$$;-.999999>$a$$33_c$$19_vec2$$?Math.abs(cc.kmVec3LengthSq($fallback_invs$$))<cc.kmEpsilon?cc.kmQuaternionRotationAxis($pOut$$,$fallback_invs$$,cc.kmPI):($axis$$2_v1$$=new cc.kmVec3,$X_Y_v2$$=new cc.kmVec3,$X_Y_v2$$.x=1,$X_Y_v2$$.y=0,$X_Y_v2$$.z=0,cc.kmVec3Cross($axis$$2_v1$$,$X_Y_v2$$,$s$$18_vec1$$),Math.abs(cc.kmVec3LengthSq($axis$$2_v1$$))<cc.kmEpsilon&&($X_Y_v2$$=new cc.kmVec3,$X_Y_v2$$.x=0,$X_Y_v2$$.y=1,$X_Y_v2$$.z=0,cc.kmVec3Cross($axis$$2_v1$$,$X_Y_v2$$,$s$$18_vec1$$)),cc.kmVec3Normalize($axis$$2_v1$$,
$axis$$2_v1$$),cc.kmQuaternionRotationAxis($pOut$$,$axis$$2_v1$$,cc.kmPI)):($s$$18_vec1$$=Math.sqrt(2*(1+$a$$33_c$$19_vec2$$)),$fallback_invs$$=1/$s$$18_vec1$$,$a$$33_c$$19_vec2$$=new cc.kmVec3,cc.kmVec3Cross($a$$33_c$$19_vec2$$,$axis$$2_v1$$,$X_Y_v2$$),$pOut$$.x=$a$$33_c$$19_vec2$$.x*$fallback_invs$$,$pOut$$.y=$a$$33_c$$19_vec2$$.y*$fallback_invs$$,$pOut$$.z=$a$$33_c$$19_vec2$$.z*$fallback_invs$$,$pOut$$.w=.5*$s$$18_vec1$$,cc.kmQuaternionNormalize($pOut$$,$pOut$$));return $pOut$$};
cc.kmQuaternionMultiplyVec3=function $cc$kmQuaternionMultiplyVec3$($pOut$$,$q$$,$v$$){var $uv$$=new cc.kmVec3,$uuv$$=new cc.kmVec3,$qvec$$=new cc.kmVec3;$qvec$$.x=$q$$.x;$qvec$$.y=$q$$.y;$qvec$$.z=$q$$.z;cc.kmVec3Cross($uv$$,$qvec$$,$v$$);cc.kmVec3Cross($uuv$$,$qvec$$,$uv$$);cc.kmVec3Scale($uv$$,$uv$$,2*$q$$.w);cc.kmVec3Scale($uuv$$,$uuv$$,2);cc.kmVec3Add($pOut$$,$v$$,$uv$$);cc.kmVec3Add($pOut$$,$pOut$$,$uuv$$);return $pOut$$};
cc.kmAABB=function $cc$kmAABB$($min$$,$max$$){this.min=$min$$||new cc.kmVec3;this.max=$max$$||new cc.kmVec3};cc.kmAABBContainsPoint=function $cc$kmAABBContainsPoint$($pPoint$$,$pBox$$){return $pPoint$$.x>=$pBox$$.min.x&&$pPoint$$.x<=$pBox$$.max.x&&$pPoint$$.y>=$pBox$$.min.y&&$pPoint$$.y<=$pBox$$.max.y&&$pPoint$$.z>=$pBox$$.min.z&&$pPoint$$.z<=$pBox$$.max.z?cc.KM_TRUE:cc.KM_FALSE};
cc.kmAABBAssign=function $cc$kmAABBAssign$($pOut$$,$pIn$$){cc.kmVec3Assign($pOut$$.min,$pIn$$.min);cc.kmVec3Assign($pOut$$.max,$pIn$$.max);return $pOut$$};cc.kmAABBScale=function $cc$kmAABBScale$($pOut$$,$pIn$$,$s$$){cc.log("cc.kmAABBScale hasn't been supported.")};cc.km_mat4_stack=function $cc$km_mat4_stack$($capacity$$,$item_count$$,$top$$,$stack$$){this.top=$top$$;this.stack=$stack$$};cc.km_mat4_stack.INITIAL_SIZE=30;
cc.km_mat4_stack_initialize=function $cc$km_mat4_stack_initialize$($stack$$){$stack$$.stack=[];$stack$$.top=null};cc.km_mat4_stack_push=function $cc$km_mat4_stack_push$($stack$$,$item$$){$stack$$.stack.push($stack$$.top);$stack$$.top=new cc.kmMat4;cc.kmMat4Assign($stack$$.top,$item$$)};cc.km_mat4_stack_pop=function $cc$km_mat4_stack_pop$($stack$$,$pOut$$){$stack$$.top=$stack$$.stack.pop()};cc.km_mat4_stack_release=function $cc$km_mat4_stack_release$($stack$$){$stack$$.stack=null;$stack$$.top=null};
cc.KM_GL_MODELVIEW=5888;cc.KM_GL_PROJECTION=5889;cc.KM_GL_TEXTURE=5890;cc.modelview_matrix_stack=new cc.km_mat4_stack;cc.projection_matrix_stack=new cc.km_mat4_stack;cc.texture_matrix_stack=new cc.km_mat4_stack;cc.current_stack=null;cc.initialized=!1;
cc.lazyInitialize=function $cc$lazyInitialize$(){if(!cc.initialized){var $identity$$=new cc.kmMat4;cc.km_mat4_stack_initialize(cc.modelview_matrix_stack);cc.km_mat4_stack_initialize(cc.projection_matrix_stack);cc.km_mat4_stack_initialize(cc.texture_matrix_stack);cc.current_stack=cc.modelview_matrix_stack;cc.initialized=!0;cc.kmMat4Identity($identity$$);cc.km_mat4_stack_push(cc.modelview_matrix_stack,$identity$$);cc.km_mat4_stack_push(cc.projection_matrix_stack,$identity$$);cc.km_mat4_stack_push(cc.texture_matrix_stack,
$identity$$)}};cc.lazyInitialize();cc.kmGLFreeAll=function $cc$kmGLFreeAll$(){cc.km_mat4_stack_release(cc.modelview_matrix_stack);cc.km_mat4_stack_release(cc.projection_matrix_stack);cc.km_mat4_stack_release(cc.texture_matrix_stack);cc.initialized=!1;cc.current_stack=null};cc.kmGLPushMatrix=function $cc$kmGLPushMatrix$(){cc.km_mat4_stack_push(cc.current_stack,cc.current_stack.top)};
cc.kmGLPushMatrixWitMat4=function $cc$kmGLPushMatrixWitMat4$($saveMat$$){cc.current_stack.stack.push(cc.current_stack.top);cc.kmMat4Assign($saveMat$$,cc.current_stack.top);cc.current_stack.top=$saveMat$$};cc.kmGLPopMatrix=function $cc$kmGLPopMatrix$(){cc.current_stack.top=cc.current_stack.stack.pop()};
cc.kmGLMatrixMode=function $cc$kmGLMatrixMode$($mode$$){switch($mode$$){case cc.KM_GL_MODELVIEW:cc.current_stack=cc.modelview_matrix_stack;break;case cc.KM_GL_PROJECTION:cc.current_stack=cc.projection_matrix_stack;break;case cc.KM_GL_TEXTURE:cc.current_stack=cc.texture_matrix_stack;break;default:throw"Invalid matrix mode specified";}};cc.kmGLLoadIdentity=function $cc$kmGLLoadIdentity$(){cc.kmMat4Identity(cc.current_stack.top)};
cc.kmGLLoadMatrix=function $cc$kmGLLoadMatrix$($pIn$$){cc.kmMat4Assign(cc.current_stack.top,$pIn$$)};cc.kmGLMultMatrix=function $cc$kmGLMultMatrix$($pIn$$){cc.kmMat4Multiply(cc.current_stack.top,cc.current_stack.top,$pIn$$)};cc.kmGLTranslatef=function $cc$kmGLTranslatef$($x$$,$y$$,$z$$){var $translation$$=new cc.kmMat4;cc.kmMat4Translation($translation$$,$x$$,$y$$,$z$$);cc.kmMat4Multiply(cc.current_stack.top,cc.current_stack.top,$translation$$)};
cc.kmGLRotatef=function $cc$kmGLRotatef$($angle$$,$axis$$3_x$$,$rotation$$4_y$$,$z$$){$axis$$3_x$$=new cc.kmVec3($axis$$3_x$$,$rotation$$4_y$$,$z$$);$rotation$$4_y$$=new cc.kmMat4;cc.kmMat4RotationAxisAngle($rotation$$4_y$$,$axis$$3_x$$,cc.kmDegreesToRadians($angle$$));cc.kmMat4Multiply(cc.current_stack.top,cc.current_stack.top,$rotation$$4_y$$)};
cc.kmGLScalef=function $cc$kmGLScalef$($x$$,$y$$,$z$$){var $scaling$$=new cc.kmMat4;cc.kmMat4Scaling($scaling$$,$x$$,$y$$,$z$$);cc.kmMat4Multiply(cc.current_stack.top,cc.current_stack.top,$scaling$$)};
cc.kmGLGetMatrix=function $cc$kmGLGetMatrix$($mode$$,$pOut$$){switch($mode$$){case cc.KM_GL_MODELVIEW:cc.kmMat4Assign($pOut$$,cc.modelview_matrix_stack.top);break;case cc.KM_GL_PROJECTION:cc.kmMat4Assign($pOut$$,cc.projection_matrix_stack.top);break;case cc.KM_GL_TEXTURE:cc.kmMat4Assign($pOut$$,cc.texture_matrix_stack.top);break;default:throw"Invalid matrix mode specified";}};cc.SHADER_POSITION_UCOLOR_FRAG="precision lowp float;\nvarying vec4 v_fragmentColor;\nvoid main()                              \n{ \n    gl_FragColor = v_fragmentColor;      \n}\n";
cc.SHADER_POSITION_UCOLOR_VERT="attribute vec4 a_position;\nuniform    vec4 u_color;\nuniform float u_pointSize;\nvarying lowp vec4 v_fragmentColor; \nvoid main(void)   \n{\n    gl_Position = (CC_PMatrix * CC_MVMatrix) * a_position;  \n    gl_PointSize = u_pointSize;          \n    v_fragmentColor = u_color;           \n}";cc.SHADER_POSITION_COLOR_FRAG="precision lowp float; \nvarying vec4 v_fragmentColor; \nvoid main() \n{ \n     gl_FragColor = v_fragmentColor; \n} ";
cc.SHADER_POSITION_COLOR_VERT="attribute vec4 a_position;\nattribute vec4 a_color;\nvarying lowp vec4 v_fragmentColor;\nvoid main()\n{\n    gl_Position = (CC_PMatrix * CC_MVMatrix) * a_position;  \n    v_fragmentColor = a_color;             \n}";cc.SHADER_POSITION_COLOR_LENGTH_TEXTURE_FRAG="// #extension GL_OES_standard_derivatives : enable\nvarying mediump vec4 v_color;\nvarying mediump vec2 v_texcoord;\nvoid main()\t\n{ \n// #if defined GL_OES_standard_derivatives\t\n// gl_FragColor = v_color*smoothstep(0.0, length(fwidth(v_texcoord)), 1.0 - length(v_texcoord)); \n// #else\t\ngl_FragColor = v_color * step(0.0, 1.0 - length(v_texcoord)); \n// #endif \n}";
cc.SHADER_POSITION_COLOR_LENGTH_TEXTURE_VERT="attribute mediump vec4 a_position; \nattribute mediump vec2 a_texcoord; \nattribute mediump vec4 a_color;\t\nvarying mediump vec4 v_color; \nvarying mediump vec2 v_texcoord;\t\nvoid main() \n{ \n     v_color = a_color;//vec4(a_color.rgb * a_color.a, a_color.a); \n     v_texcoord = a_texcoord; \n    gl_Position = (CC_PMatrix * CC_MVMatrix) * a_position;  \n}";cc.SHADER_POSITION_TEXTURE_FRAG="precision lowp float;   \nvarying vec2 v_texCoord;  \nvoid main() \n{  \n    gl_FragColor =  texture2D(CC_Texture0, v_texCoord);   \n}";
cc.SHADER_POSITION_TEXTURE_VERT="attribute vec4 a_position; \nattribute vec2 a_texCoord; \nvarying mediump vec2 v_texCoord; \nvoid main() \n{ \n    gl_Position = (CC_PMatrix * CC_MVMatrix) * a_position;  \n    v_texCoord = a_texCoord;               \n}";cc.SHADER_POSITION_TEXTURE_UCOLOR_FRAG="precision lowp float;  \nuniform vec4 u_color; \nvarying vec2 v_texCoord; \nvoid main() \n{  \n    gl_FragColor =  texture2D(CC_Texture0, v_texCoord) * u_color;    \n}";
cc.SHADER_POSITION_TEXTURE_UCOLOR_VERT="attribute vec4 a_position;\nattribute vec2 a_texCoord; \nvarying mediump vec2 v_texCoord; \nvoid main() \n{ \n    gl_Position = (CC_PMatrix * CC_MVMatrix) * a_position;  \n    v_texCoord = a_texCoord;                 \n}";cc.SHADER_POSITION_TEXTURE_A8COLOR_FRAG="precision lowp float;  \nvarying vec4 v_fragmentColor; \nvarying vec2 v_texCoord; \nvoid main() \n{ \n    gl_FragColor = vec4( v_fragmentColor.rgb,         \n        v_fragmentColor.a * texture2D(CC_Texture0, v_texCoord).a   \n    ); \n}";
cc.SHADER_POSITION_TEXTURE_A8COLOR_VERT="attribute vec4 a_position; \nattribute vec2 a_texCoord; \nattribute vec4 a_color;  \nvarying lowp vec4 v_fragmentColor; \nvarying mediump vec2 v_texCoord; \nvoid main() \n{ \n    gl_Position = (CC_PMatrix * CC_MVMatrix) * a_position;  \n    v_fragmentColor = a_color; \n    v_texCoord = a_texCoord; \n}";cc.SHADER_POSITION_TEXTURE_COLOR_FRAG="precision lowp float;\nvarying vec4 v_fragmentColor; \nvarying vec2 v_texCoord; \nvoid main() \n{ \n    gl_FragColor = v_fragmentColor * texture2D(CC_Texture0, v_texCoord); \n}";
cc.SHADER_POSITION_TEXTURE_COLOR_VERT="attribute vec4 a_position; \nattribute vec2 a_texCoord; \nattribute vec4 a_color;  \nvarying lowp vec4 v_fragmentColor; \nvarying mediump vec2 v_texCoord; \nvoid main() \n{ \n    gl_Position = (CC_PMatrix * CC_MVMatrix) * a_position;  \n    v_fragmentColor = a_color; \n    v_texCoord = a_texCoord; \n}";cc.SHADER_POSITION_TEXTURE_COLOR_ALPHATEST_FRAG="precision lowp float;   \nvarying vec4 v_fragmentColor; \nvarying vec2 v_texCoord;   \nuniform float CC_alpha_value; \nvoid main() \n{  \n    vec4 texColor = texture2D(CC_Texture0, v_texCoord);  \n    if ( texColor.a <= CC_alpha_value )          \n        discard; \n    gl_FragColor = texColor * v_fragmentColor;  \n}";
cc.SHADEREX_SWITCHMASK_FRAG="precision lowp float; \nvarying vec4 v_fragmentColor; \nvarying vec2 v_texCoord; \nuniform sampler2D u_texture;  \nuniform sampler2D   u_mask;   \nvoid main()  \n{  \n    vec4 texColor   = texture2D(u_texture, v_texCoord);  \n    vec4 maskColor  = texture2D(u_mask, v_texCoord); \n    vec4 finalColor = vec4(texColor.r, texColor.g, texColor.b, maskColor.a * texColor.a);        \n    gl_FragColor    = v_fragmentColor * finalColor; \n}";
cc.shaderCache={TYPE_POSITION_TEXTURECOLOR:0,TYPE_POSITION_TEXTURECOLOR_ALPHATEST:1,TYPE_POSITION_COLOR:2,TYPE_POSITION_TEXTURE:3,TYPE_POSITION_TEXTURE_UCOLOR:4,TYPE_POSITION_TEXTURE_A8COLOR:5,TYPE_POSITION_UCOLOR:6,TYPE_POSITION_LENGTH_TEXTURECOLOR:7,TYPE_MAX:8,_programs:{},_init:function $cc$shaderCache$_init$(){this.loadDefaultShaders();return!0},_loadDefaultShader:function $cc$shaderCache$_loadDefaultShader$($program$$,$type$$){switch($type$$){case this.TYPE_POSITION_TEXTURECOLOR:$program$$.initWithVertexShaderByteArray(cc.SHADER_POSITION_TEXTURE_COLOR_VERT,
cc.SHADER_POSITION_TEXTURE_COLOR_FRAG);$program$$.addAttribute(cc.ATTRIBUTE_NAME_POSITION,cc.VERTEX_ATTRIB_POSITION);$program$$.addAttribute(cc.ATTRIBUTE_NAME_COLOR,cc.VERTEX_ATTRIB_COLOR);$program$$.addAttribute(cc.ATTRIBUTE_NAME_TEX_COORD,cc.VERTEX_ATTRIB_TEX_COORDS);break;case this.TYPE_POSITION_TEXTURECOLOR_ALPHATEST:$program$$.initWithVertexShaderByteArray(cc.SHADER_POSITION_TEXTURE_COLOR_VERT,cc.SHADER_POSITION_TEXTURE_COLOR_ALPHATEST_FRAG);$program$$.addAttribute(cc.ATTRIBUTE_NAME_POSITION,
cc.VERTEX_ATTRIB_POSITION);$program$$.addAttribute(cc.ATTRIBUTE_NAME_COLOR,cc.VERTEX_ATTRIB_COLOR);$program$$.addAttribute(cc.ATTRIBUTE_NAME_TEX_COORD,cc.VERTEX_ATTRIB_TEX_COORDS);break;case this.TYPE_POSITION_COLOR:$program$$.initWithVertexShaderByteArray(cc.SHADER_POSITION_COLOR_VERT,cc.SHADER_POSITION_COLOR_FRAG);$program$$.addAttribute(cc.ATTRIBUTE_NAME_POSITION,cc.VERTEX_ATTRIB_POSITION);$program$$.addAttribute(cc.ATTRIBUTE_NAME_COLOR,cc.VERTEX_ATTRIB_COLOR);break;case this.TYPE_POSITION_TEXTURE:$program$$.initWithVertexShaderByteArray(cc.SHADER_POSITION_TEXTURE_VERT,
cc.SHADER_POSITION_TEXTURE_FRAG);$program$$.addAttribute(cc.ATTRIBUTE_NAME_POSITION,cc.VERTEX_ATTRIB_POSITION);$program$$.addAttribute(cc.ATTRIBUTE_NAME_TEX_COORD,cc.VERTEX_ATTRIB_TEX_COORDS);break;case this.TYPE_POSITION_TEXTURE_UCOLOR:$program$$.initWithVertexShaderByteArray(cc.SHADER_POSITION_TEXTURE_UCOLOR_VERT,cc.SHADER_POSITION_TEXTURE_UCOLOR_FRAG);$program$$.addAttribute(cc.ATTRIBUTE_NAME_POSITION,cc.VERTEX_ATTRIB_POSITION);$program$$.addAttribute(cc.ATTRIBUTE_NAME_TEX_COORD,cc.VERTEX_ATTRIB_TEX_COORDS);
break;case this.TYPE_POSITION_TEXTURE_A8COLOR:$program$$.initWithVertexShaderByteArray(cc.SHADER_POSITION_TEXTURE_A8COLOR_VERT,cc.SHADER_POSITION_TEXTURE_A8COLOR_FRAG);$program$$.addAttribute(cc.ATTRIBUTE_NAME_POSITION,cc.VERTEX_ATTRIB_POSITION);$program$$.addAttribute(cc.ATTRIBUTE_NAME_COLOR,cc.VERTEX_ATTRIB_COLOR);$program$$.addAttribute(cc.ATTRIBUTE_NAME_TEX_COORD,cc.VERTEX_ATTRIB_TEX_COORDS);break;case this.TYPE_POSITION_UCOLOR:$program$$.initWithVertexShaderByteArray(cc.SHADER_POSITION_UCOLOR_VERT,
cc.SHADER_POSITION_UCOLOR_FRAG);$program$$.addAttribute("aVertex",cc.VERTEX_ATTRIB_POSITION);break;case this.TYPE_POSITION_LENGTH_TEXTURECOLOR:$program$$.initWithVertexShaderByteArray(cc.SHADER_POSITION_COLOR_LENGTH_TEXTURE_VERT,cc.SHADER_POSITION_COLOR_LENGTH_TEXTURE_FRAG);$program$$.addAttribute(cc.ATTRIBUTE_NAME_POSITION,cc.VERTEX_ATTRIB_POSITION);$program$$.addAttribute(cc.ATTRIBUTE_NAME_TEX_COORD,cc.VERTEX_ATTRIB_TEX_COORDS);$program$$.addAttribute(cc.ATTRIBUTE_NAME_COLOR,cc.VERTEX_ATTRIB_COLOR);
break;default:cc.log("cocos2d: cc.shaderCache._loadDefaultShader, error shader type");return}$program$$.link();$program$$.updateUniforms()},loadDefaultShaders:function $cc$shaderCache$loadDefaultShaders$(){var $program$$=new cc.GLProgram;this._loadDefaultShader($program$$,this.TYPE_POSITION_TEXTURECOLOR);this._programs[cc.SHADER_POSITION_TEXTURECOLOR]=$program$$;this._programs.ShaderPositionTextureColor=$program$$;$program$$=new cc.GLProgram;this._loadDefaultShader($program$$,this.TYPE_POSITION_TEXTURECOLOR_ALPHATEST);
this._programs[cc.SHADER_POSITION_TEXTURECOLORALPHATEST]=$program$$;this._programs.ShaderPositionTextureColorAlphaTest=$program$$;$program$$=new cc.GLProgram;this._loadDefaultShader($program$$,this.TYPE_POSITION_COLOR);this._programs[cc.SHADER_POSITION_COLOR]=$program$$;this._programs.ShaderPositionColor=$program$$;$program$$=new cc.GLProgram;this._loadDefaultShader($program$$,this.TYPE_POSITION_TEXTURE);this._programs[cc.SHADER_POSITION_TEXTURE]=$program$$;this._programs.ShaderPositionTexture=$program$$;
$program$$=new cc.GLProgram;this._loadDefaultShader($program$$,this.TYPE_POSITION_TEXTURE_UCOLOR);this._programs[cc.SHADER_POSITION_TEXTURE_UCOLOR]=$program$$;this._programs.ShaderPositionTextureUColor=$program$$;$program$$=new cc.GLProgram;this._loadDefaultShader($program$$,this.TYPE_POSITION_TEXTURE_A8COLOR);this._programs[cc.SHADER_POSITION_TEXTUREA8COLOR]=$program$$;this._programs.ShaderPositionTextureA8Color=$program$$;$program$$=new cc.GLProgram;this._loadDefaultShader($program$$,this.TYPE_POSITION_UCOLOR);
this._programs[cc.SHADER_POSITION_UCOLOR]=$program$$;this._programs.ShaderPositionUColor=$program$$;$program$$=new cc.GLProgram;this._loadDefaultShader($program$$,this.TYPE_POSITION_LENGTH_TEXTURECOLOR);this._programs[cc.SHADER_POSITION_LENGTHTEXTURECOLOR]=$program$$;this._programs.ShaderPositionLengthTextureColor=$program$$},reloadDefaultShaders:function $cc$shaderCache$reloadDefaultShaders$(){var $program$$=this.programForKey(cc.SHADER_POSITION_TEXTURECOLOR);$program$$.reset();this._loadDefaultShader($program$$,
this.TYPE_POSITION_TEXTURECOLOR);$program$$=this.programForKey(cc.SHADER_POSITION_TEXTURECOLORALPHATEST);$program$$.reset();this._loadDefaultShader($program$$,this.TYPE_POSITION_TEXTURECOLOR_ALPHATEST);$program$$=this.programForKey(cc.SHADER_POSITION_COLOR);$program$$.reset();this._loadDefaultShader($program$$,this.TYPE_POSITION_COLOR);$program$$=this.programForKey(cc.SHADER_POSITION_TEXTURE);$program$$.reset();this._loadDefaultShader($program$$,this.TYPE_POSITION_TEXTURE);$program$$=this.programForKey(cc.SHADER_POSITION_TEXTURE_UCOLOR);
$program$$.reset();this._loadDefaultShader($program$$,this.TYPE_POSITION_TEXTURE_UCOLOR);$program$$=this.programForKey(cc.SHADER_POSITION_TEXTUREA8COLOR);$program$$.reset();this._loadDefaultShader($program$$,this.TYPE_POSITION_TEXTURE_A8COLOR);$program$$=this.programForKey(cc.SHADER_POSITION_UCOLOR);$program$$.reset();this._loadDefaultShader($program$$,this.TYPE_POSITION_UCOLOR)},programForKey:function $cc$shaderCache$programForKey$($key$$){return this._programs[$key$$]},getProgram:function $cc$shaderCache$getProgram$($shaderName$$){return this._programs[$shaderName$$]},
addProgram:function $cc$shaderCache$addProgram$($program$$,$key$$){this._programs[$key$$]=$program$$}};cc.HashUniformEntry=function $cc$HashUniformEntry$($value$$,$location$$,$hh$$){this.value=$value$$;this.location=$location$$;this.hh=$hh$$||{}};
cc.GLProgram=cc.Class.extend({_glContext:null,_programObj:null,_vertShader:null,_fragShader:null,_uniforms:null,_hashForUniforms:null,_usesTime:!1,_updateUniformLocation:function($location$$,$data$$,$bytes_updated$$){if(null==$location$$)return!1;$bytes_updated$$=!0;for(var $element$$=null,$i$$=0;$i$$<this._hashForUniforms.length;$i$$++)this._hashForUniforms[$i$$].location==$location$$&&($element$$=this._hashForUniforms[$i$$]);$element$$?$element$$.value==$data$$?$bytes_updated$$=!1:$element$$.value=
$data$$:($element$$=new cc.HashUniformEntry,$element$$.location=$location$$,$element$$.value=$data$$,this._hashForUniforms.push($element$$));return $bytes_updated$$},_description:function(){return"<CCGLProgram = "+this.toString()+" | Program = "+this._programObj.toString()+", VertexShader = "+this._vertShader.toString()+", FragmentShader = "+this._fragShader.toString()+">"},_compileShader:function($shader$$,$type$$,$source$$){if(!$source$$||!$shader$$)return!1;this._glContext.shaderSource($shader$$,
"precision highp float;        \nuniform mat4 CC_PMatrix;         \nuniform mat4 CC_MVMatrix;        \nuniform mat4 CC_MVPMatrix;       \nuniform vec4 CC_Time;            \nuniform vec4 CC_SinTime;         \nuniform vec4 CC_CosTime;         \nuniform vec4 CC_Random01;        \nuniform sampler2D CC_Texture0;   \n//CC INCLUDES END                \n"+$source$$);this._glContext.compileShader($shader$$);$source$$=this._glContext.getShaderParameter($shader$$,this._glContext.COMPILE_STATUS);$source$$||(cc.log("cocos2d: ERROR: Failed to compile shader:\n"+
this._glContext.getShaderSource($shader$$)),$type$$==this._glContext.VERTEX_SHADER?cc.log("cocos2d: \n"+this.vertexShaderLog()):cc.log("cocos2d: \n"+this.fragmentShaderLog()));return 1==$source$$},ctor:function($vShaderFileName$$,$fShaderFileName$$,$glContext$$){this._uniforms=[];this._hashForUniforms=[];this._glContext=$glContext$$||cc._renderContext;$vShaderFileName$$&&$fShaderFileName$$&&this.init($vShaderFileName$$,$fShaderFileName$$)},destroyProgram:function(){this._hashForUniforms=this._uniforms=
this._fragShader=this._vertShader=null;this._glContext.deleteProgram(this._programObj)},initWithVertexShaderByteArray:function($vertShaderStr$$,$fragShaderStr$$){var $locGL$$=this._glContext;this._programObj=$locGL$$.createProgram();this._fragShader=this._vertShader=null;$vertShaderStr$$&&(this._vertShader=$locGL$$.createShader($locGL$$.VERTEX_SHADER),this._compileShader(this._vertShader,$locGL$$.VERTEX_SHADER,$vertShaderStr$$)||cc.log("cocos2d: ERROR: Failed to compile vertex shader"));$fragShaderStr$$&&
(this._fragShader=$locGL$$.createShader($locGL$$.FRAGMENT_SHADER),this._compileShader(this._fragShader,$locGL$$.FRAGMENT_SHADER,$fragShaderStr$$)||cc.log("cocos2d: ERROR: Failed to compile fragment shader"));this._vertShader&&$locGL$$.attachShader(this._programObj,this._vertShader);cc.checkGLErrorDebug();this._fragShader&&$locGL$$.attachShader(this._programObj,this._fragShader);this._hashForUniforms.length=0;cc.checkGLErrorDebug();return!0},initWithString:function($vertShaderStr$$,$fragShaderStr$$){return this.initWithVertexShaderByteArray($vertShaderStr$$,
$fragShaderStr$$)},initWithVertexShaderFilename:function($vShaderFilename$$,$fShaderFileName$$){var $vertexSource$$=cc.loader.getRes($vShaderFilename$$);if(!$vertexSource$$)throw"Please load the resource firset : "+$vShaderFilename$$;var $fragmentSource$$=cc.loader.getRes($fShaderFileName$$);if(!$fragmentSource$$)throw"Please load the resource firset : "+$fShaderFileName$$;return this.initWithVertexShaderByteArray($vertexSource$$,$fragmentSource$$)},init:function($vShaderFilename$$,$fShaderFileName$$){return this.initWithVertexShaderFilename($vShaderFilename$$,
$fShaderFileName$$)},addAttribute:function($attributeName$$,$index$$){this._glContext.bindAttribLocation(this._programObj,$index$$,$attributeName$$)},link:function(){if(!this._programObj)return cc.log("cc.GLProgram.link(): Cannot link invalid program"),!1;this._glContext.linkProgram(this._programObj);this._vertShader&&this._glContext.deleteShader(this._vertShader);this._fragShader&&this._glContext.deleteShader(this._fragShader);this._fragShader=this._vertShader=null;return cc.game.config[cc.game.CONFIG_KEY.debugMode]&&
!this._glContext.getProgramParameter(this._programObj,this._glContext.LINK_STATUS)?(cc.log("cocos2d: ERROR: Failed to link program: "+this._glContext.getProgramInfoLog(this._programObj)),cc.glDeleteProgram(this._programObj),this._programObj=null,!1):!0},use:function(){cc.glUseProgram(this._programObj)},updateUniforms:function(){this._uniforms[cc.UNIFORM_PMATRIX]=this._glContext.getUniformLocation(this._programObj,cc.UNIFORM_PMATRIX_S);this._uniforms[cc.UNIFORM_MVMATRIX]=this._glContext.getUniformLocation(this._programObj,
cc.UNIFORM_MVMATRIX_S);this._uniforms[cc.UNIFORM_MVPMATRIX]=this._glContext.getUniformLocation(this._programObj,cc.UNIFORM_MVPMATRIX_S);this._uniforms[cc.UNIFORM_TIME]=this._glContext.getUniformLocation(this._programObj,cc.UNIFORM_TIME_S);this._uniforms[cc.UNIFORM_SINTIME]=this._glContext.getUniformLocation(this._programObj,cc.UNIFORM_SINTIME_S);this._uniforms[cc.UNIFORM_COSTIME]=this._glContext.getUniformLocation(this._programObj,cc.UNIFORM_COSTIME_S);this._usesTime=null!=this._uniforms[cc.UNIFORM_TIME]||
null!=this._uniforms[cc.UNIFORM_SINTIME]||null!=this._uniforms[cc.UNIFORM_COSTIME];this._uniforms[cc.UNIFORM_RANDOM01]=this._glContext.getUniformLocation(this._programObj,cc.UNIFORM_RANDOM01_S);this._uniforms[cc.UNIFORM_SAMPLER]=this._glContext.getUniformLocation(this._programObj,cc.UNIFORM_SAMPLER_S);this.use();this.setUniformLocationWith1i(this._uniforms[cc.UNIFORM_SAMPLER],0)},getUniformLocationForName:function($name$$){if(!$name$$)throw"cc.GLProgram.getUniformLocationForName(): uniform name should be non-null";
if(!this._programObj)throw"cc.GLProgram.getUniformLocationForName(): Invalid operation. Cannot get uniform location when program is not initialized";return this._glContext.getUniformLocation(this._programObj,$name$$)},getUniformMVPMatrix:function(){return this._uniforms[cc.UNIFORM_MVPMATRIX]},getUniformSampler:function(){return this._uniforms[cc.UNIFORM_SAMPLER]},setUniformLocationWith1i:function($location$$,$i1$$){this._updateUniformLocation($location$$,$i1$$)&&this._glContext.uniform1i($location$$,
$i1$$)},setUniformLocationWith2i:function($location$$,$i1$$,$i2$$){this._updateUniformLocation($location$$,[$i1$$,$i2$$])&&this._glContext.uniform2i($location$$,$i1$$,$i2$$)},setUniformLocationWith3i:function($location$$,$i1$$,$i2$$,$i3$$){this._updateUniformLocation($location$$,[$i1$$,$i2$$,$i3$$])&&this._glContext.uniform3i($location$$,$i1$$,$i2$$,$i3$$)},setUniformLocationWith4i:function($location$$,$i1$$,$i2$$,$i3$$,$i4$$){this._updateUniformLocation($location$$,[$i1$$,$i2$$,$i3$$,$i4$$])&&this._glContext.uniform4i($location$$,
$i1$$,$i2$$,$i3$$,$i4$$)},setUniformLocationWith2iv:function($location$$,$intArray$$,$numberOfArrays$$){this._updateUniformLocation($location$$,$intArray$$)&&this._glContext.uniform2iv($location$$,$intArray$$)},setUniformLocationWith3iv:function($location$$,$intArray$$,$numberOfArrays$$){this._updateUniformLocation($location$$,$intArray$$)&&this._glContext.uniform3iv($location$$,$intArray$$)},setUniformLocationWith4iv:function($location$$,$intArray$$,$numberOfArrays$$){this._updateUniformLocation($location$$,
$intArray$$)&&this._glContext.uniform4iv($location$$,$intArray$$)},setUniformLocationI32:function($location$$,$i1$$){this.setUniformLocationWith1i($location$$,$i1$$)},setUniformLocationWith1f:function($location$$,$f1$$){this._updateUniformLocation($location$$,$f1$$)&&this._glContext.uniform1f($location$$,$f1$$)},setUniformLocationWith2f:function($location$$,$f1$$,$f2$$){this._updateUniformLocation($location$$,[$f1$$,$f2$$])&&this._glContext.uniform2f($location$$,$f1$$,$f2$$)},setUniformLocationWith3f:function($location$$,
$f1$$,$f2$$,$f3$$){this._updateUniformLocation($location$$,[$f1$$,$f2$$,$f3$$])&&this._glContext.uniform3f($location$$,$f1$$,$f2$$,$f3$$)},setUniformLocationWith4f:function($location$$,$f1$$,$f2$$,$f3$$,$f4$$){this._updateUniformLocation($location$$,[$f1$$,$f2$$,$f3$$,$f4$$])&&this._glContext.uniform4f($location$$,$f1$$,$f2$$,$f3$$,$f4$$)},setUniformLocationWith2fv:function($location$$,$floatArray$$,$numberOfArrays$$){this._updateUniformLocation($location$$,$floatArray$$)&&this._glContext.uniform2fv($location$$,
$floatArray$$)},setUniformLocationWith3fv:function($location$$,$floatArray$$,$numberOfArrays$$){this._updateUniformLocation($location$$,$floatArray$$)&&this._glContext.uniform3fv($location$$,$floatArray$$)},setUniformLocationWith4fv:function($location$$,$floatArray$$,$numberOfArrays$$){this._updateUniformLocation($location$$,$floatArray$$)&&this._glContext.uniform4fv($location$$,$floatArray$$)},setUniformLocationWithMatrix4fv:function($location$$,$matrixArray$$,$numberOfMatrices$$){this._updateUniformLocation($location$$,
$matrixArray$$)&&this._glContext.uniformMatrix4fv($location$$,!1,$matrixArray$$)},setUniformLocationF32:function(){if(!(2>arguments.length))switch(arguments.length){case 2:this.setUniformLocationWith1f(arguments[0],arguments[1]);break;case 3:this.setUniformLocationWith2f(arguments[0],arguments[1],arguments[2]);break;case 4:this.setUniformLocationWith3f(arguments[0],arguments[1],arguments[2],arguments[3]);break;case 5:this.setUniformLocationWith4f(arguments[0],arguments[1],arguments[2],arguments[3],
arguments[4])}},setUniformsForBuiltins:function(){var $director$$3_matrixP_time$$=new cc.kmMat4,$matrixMV$$=new cc.kmMat4,$matrixMVP$$=new cc.kmMat4;cc.kmGLGetMatrix(cc.KM_GL_PROJECTION,$director$$3_matrixP_time$$);cc.kmGLGetMatrix(cc.KM_GL_MODELVIEW,$matrixMV$$);cc.kmMat4Multiply($matrixMVP$$,$director$$3_matrixP_time$$,$matrixMV$$);this.setUniformLocationWithMatrix4fv(this._uniforms[cc.UNIFORM_PMATRIX],$director$$3_matrixP_time$$.mat,1);this.setUniformLocationWithMatrix4fv(this._uniforms[cc.UNIFORM_MVMATRIX],
$matrixMV$$.mat,1);this.setUniformLocationWithMatrix4fv(this._uniforms[cc.UNIFORM_MVPMATRIX],$matrixMVP$$.mat,1);this._usesTime&&($director$$3_matrixP_time$$=cc.director,$director$$3_matrixP_time$$=$director$$3_matrixP_time$$.getTotalFrames()*$director$$3_matrixP_time$$.getAnimationInterval(),this.setUniformLocationWith4f(this._uniforms[cc.UNIFORM_TIME],$director$$3_matrixP_time$$/10,$director$$3_matrixP_time$$,2*$director$$3_matrixP_time$$,4*$director$$3_matrixP_time$$),this.setUniformLocationWith4f(this._uniforms[cc.UNIFORM_SINTIME],
$director$$3_matrixP_time$$/8,$director$$3_matrixP_time$$/4,$director$$3_matrixP_time$$/2,Math.sin($director$$3_matrixP_time$$)),this.setUniformLocationWith4f(this._uniforms[cc.UNIFORM_COSTIME],$director$$3_matrixP_time$$/8,$director$$3_matrixP_time$$/4,$director$$3_matrixP_time$$/2,Math.cos($director$$3_matrixP_time$$)));-1!=this._uniforms[cc.UNIFORM_RANDOM01]&&this.setUniformLocationWith4f(this._uniforms[cc.UNIFORM_RANDOM01],Math.random(),Math.random(),Math.random(),Math.random())},_setUniformsForBuiltinsForRenderer:function($director$$4_node$$66_time$$){var $matrixP$$=
new cc.kmMat4,$matrixMVP$$=new cc.kmMat4;cc.kmGLGetMatrix(cc.KM_GL_PROJECTION,$matrixP$$);cc.kmMat4Multiply($matrixMVP$$,$matrixP$$,$director$$4_node$$66_time$$._stackMatrix);this.setUniformLocationWithMatrix4fv(this._uniforms[cc.UNIFORM_PMATRIX],$matrixP$$.mat,1);this.setUniformLocationWithMatrix4fv(this._uniforms[cc.UNIFORM_MVMATRIX],$director$$4_node$$66_time$$._stackMatrix.mat,1);this.setUniformLocationWithMatrix4fv(this._uniforms[cc.UNIFORM_MVPMATRIX],$matrixMVP$$.mat,1);this._usesTime&&($director$$4_node$$66_time$$=
cc.director,$director$$4_node$$66_time$$=$director$$4_node$$66_time$$.getTotalFrames()*$director$$4_node$$66_time$$.getAnimationInterval(),this.setUniformLocationWith4f(this._uniforms[cc.UNIFORM_TIME],$director$$4_node$$66_time$$/10,$director$$4_node$$66_time$$,2*$director$$4_node$$66_time$$,4*$director$$4_node$$66_time$$),this.setUniformLocationWith4f(this._uniforms[cc.UNIFORM_SINTIME],$director$$4_node$$66_time$$/8,$director$$4_node$$66_time$$/4,$director$$4_node$$66_time$$/2,Math.sin($director$$4_node$$66_time$$)),
this.setUniformLocationWith4f(this._uniforms[cc.UNIFORM_COSTIME],$director$$4_node$$66_time$$/8,$director$$4_node$$66_time$$/4,$director$$4_node$$66_time$$/2,Math.cos($director$$4_node$$66_time$$)));-1!=this._uniforms[cc.UNIFORM_RANDOM01]&&this.setUniformLocationWith4f(this._uniforms[cc.UNIFORM_RANDOM01],Math.random(),Math.random(),Math.random(),Math.random())},setUniformForModelViewProjectionMatrix:function(){this._glContext.uniformMatrix4fv(this._uniforms[cc.UNIFORM_MVPMATRIX],!1,cc.getMat4MultiplyValue(cc.projection_matrix_stack.top,
cc.modelview_matrix_stack.top))},setUniformForModelViewProjectionMatrixWithMat4:function($swapMat4$$){cc.kmMat4Multiply($swapMat4$$,cc.projection_matrix_stack.top,cc.modelview_matrix_stack.top);this._glContext.uniformMatrix4fv(this._uniforms[cc.UNIFORM_MVPMATRIX],!1,$swapMat4$$.mat)},setUniformForModelViewAndProjectionMatrixWithMat4:function(){this._glContext.uniformMatrix4fv(this._uniforms[cc.UNIFORM_MVMATRIX],!1,cc.modelview_matrix_stack.top.mat);this._glContext.uniformMatrix4fv(this._uniforms[cc.UNIFORM_PMATRIX],
!1,cc.projection_matrix_stack.top.mat)},_setUniformForMVPMatrixWithMat4:function($modelViewMatrix$$){if(!$modelViewMatrix$$)throw"modelView matrix is undefined.";this._glContext.uniformMatrix4fv(this._uniforms[cc.UNIFORM_MVMATRIX],!1,$modelViewMatrix$$.mat);this._glContext.uniformMatrix4fv(this._uniforms[cc.UNIFORM_PMATRIX],!1,cc.projection_matrix_stack.top.mat)},vertexShaderLog:function(){return this._glContext.getShaderInfoLog(this._vertShader)},getVertexShaderLog:function(){return this._glContext.getShaderInfoLog(this._vertShader)},
getFragmentShaderLog:function(){return this._glContext.getShaderInfoLog(this._vertShader)},fragmentShaderLog:function(){return this._glContext.getShaderInfoLog(this._fragShader)},programLog:function(){return this._glContext.getProgramInfoLog(this._programObj)},getProgramLog:function(){return this._glContext.getProgramInfoLog(this._programObj)},reset:function(){this._fragShader=this._vertShader=null;this._uniforms.length=0;this._glContext.deleteProgram(this._programObj);this._programObj=null;for(var $i$$=
0;$i$$<this._hashForUniforms.length;$i$$++)this._hashForUniforms[$i$$].value=null,this._hashForUniforms[$i$$]=null;this._hashForUniforms.length=0},getProgram:function(){return this._programObj},retain:function(){},release:function(){}});cc.GLProgram.create=function $cc$GLProgram$create$($vShaderFileName$$,$fShaderFileName$$){return new cc.GLProgram($vShaderFileName$$,$fShaderFileName$$)};
cc.setProgram=function $cc$setProgram$($node$$,$program$$){$node$$.shaderProgram=$program$$;var $children$$=$node$$.children;if($children$$)for(var $i$$=0;$i$$<$children$$.length;$i$$++)cc.setProgram($children$$[$i$$],$program$$)};cc._currentProjectionMatrix=-1;cc._vertexAttribPosition=!1;cc._vertexAttribColor=!1;cc._vertexAttribTexCoords=!1;
cc.ENABLE_GL_STATE_CACHE&&(cc.MAX_ACTIVETEXTURE=16,cc._currentShaderProgram=-1,cc._currentBoundTexture=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],cc._blendingSource=-1,cc._blendingDest=-1,cc._GLServerState=0,cc.TEXTURE_ATLAS_USE_VAO&&(cc._uVAO=0));
cc.glInvalidateStateCache=function $cc$glInvalidateStateCache$(){cc.kmGLFreeAll();cc._currentProjectionMatrix=-1;cc._vertexAttribPosition=!1;cc._vertexAttribColor=!1;cc._vertexAttribTexCoords=!1;if(cc.ENABLE_GL_STATE_CACHE){cc._currentShaderProgram=-1;for(var $i$$=0;$i$$<cc.MAX_ACTIVETEXTURE;$i$$++)cc._currentBoundTexture[$i$$]=-1;cc._blendingSource=-1;cc._blendingDest=-1;cc._GLServerState=0}};
cc.glUseProgram=function $cc$glUseProgram$($program$$){$program$$!==cc._currentShaderProgram&&(cc._currentShaderProgram=$program$$,cc._renderContext.useProgram($program$$))};cc.ENABLE_GL_STATE_CACHE||(cc.glUseProgram=function $cc$glUseProgram$($program$$){cc._renderContext.useProgram($program$$)});cc.glDeleteProgram=function $cc$glDeleteProgram$($program$$){cc.ENABLE_GL_STATE_CACHE&&$program$$===cc._currentShaderProgram&&(cc._currentShaderProgram=-1);gl.deleteProgram($program$$)};
cc.glBlendFunc=function $cc$glBlendFunc$($sfactor$$,$dfactor$$){if($sfactor$$!==cc._blendingSource||$dfactor$$!==cc._blendingDest)cc._blendingSource=$sfactor$$,cc._blendingDest=$dfactor$$,cc.setBlending($sfactor$$,$dfactor$$)};cc.setBlending=function $cc$setBlending$($sfactor$$,$dfactor$$){var $ctx$$=cc._renderContext;$sfactor$$===$ctx$$.ONE&&$dfactor$$===$ctx$$.ZERO?$ctx$$.disable($ctx$$.BLEND):($ctx$$.enable($ctx$$.BLEND),cc._renderContext.blendFunc($sfactor$$,$dfactor$$))};
cc.glBlendFuncForParticle=function $cc$glBlendFuncForParticle$($sfactor$$,$dfactor$$){if($sfactor$$!==cc._blendingSource||$dfactor$$!==cc._blendingDest){cc._blendingSource=$sfactor$$;cc._blendingDest=$dfactor$$;var $ctx$$=cc._renderContext;$sfactor$$===$ctx$$.ONE&&$dfactor$$===$ctx$$.ZERO?$ctx$$.disable($ctx$$.BLEND):($ctx$$.enable($ctx$$.BLEND),$ctx$$.blendFuncSeparate($ctx$$.SRC_ALPHA,$dfactor$$,$sfactor$$,$dfactor$$))}};cc.ENABLE_GL_STATE_CACHE||(cc.glBlendFunc=cc.setBlending);
cc.glBlendResetToCache=function $cc$glBlendResetToCache$(){var $ctx$$=cc._renderContext;$ctx$$.blendEquation($ctx$$.FUNC_ADD);cc.ENABLE_GL_STATE_CACHE?cc.setBlending(cc._blendingSource,cc._blendingDest):cc.setBlending($ctx$$.BLEND_SRC,$ctx$$.BLEND_DST)};cc.setProjectionMatrixDirty=function $cc$setProjectionMatrixDirty$(){cc._currentProjectionMatrix=-1};
cc.glEnableVertexAttribs=function $cc$glEnableVertexAttribs$($enableTexCoords_flags$$){var $ctx$$=cc._renderContext,$enableColor_enablePosition$$=$enableTexCoords_flags$$&cc.VERTEX_ATTRIB_FLAG_POSITION;$enableColor_enablePosition$$!==cc._vertexAttribPosition&&($enableColor_enablePosition$$?$ctx$$.enableVertexAttribArray(cc.VERTEX_ATTRIB_POSITION):$ctx$$.disableVertexAttribArray(cc.VERTEX_ATTRIB_POSITION),cc._vertexAttribPosition=$enableColor_enablePosition$$);$enableColor_enablePosition$$=$enableTexCoords_flags$$&
cc.VERTEX_ATTRIB_FLAG_COLOR;$enableColor_enablePosition$$!==cc._vertexAttribColor&&($enableColor_enablePosition$$?$ctx$$.enableVertexAttribArray(cc.VERTEX_ATTRIB_COLOR):$ctx$$.disableVertexAttribArray(cc.VERTEX_ATTRIB_COLOR),cc._vertexAttribColor=$enableColor_enablePosition$$);$enableTexCoords_flags$$&=cc.VERTEX_ATTRIB_FLAG_TEX_COORDS;$enableTexCoords_flags$$!==cc._vertexAttribTexCoords&&($enableTexCoords_flags$$?$ctx$$.enableVertexAttribArray(cc.VERTEX_ATTRIB_TEX_COORDS):$ctx$$.disableVertexAttribArray(cc.VERTEX_ATTRIB_TEX_COORDS),
cc._vertexAttribTexCoords=$enableTexCoords_flags$$)};cc.glBindTexture2D=function $cc$glBindTexture2D$($textureId$$){cc.glBindTexture2DN(0,$textureId$$)};
cc.glBindTexture2DN=function $cc$glBindTexture2DN$($textureUnit$$,$textureId$$){if(cc._currentBoundTexture[$textureUnit$$]!=$textureId$$){cc._currentBoundTexture[$textureUnit$$]=$textureId$$;var $ctx$$=cc._renderContext;$ctx$$.activeTexture($ctx$$.TEXTURE0+$textureUnit$$);$textureId$$?$ctx$$.bindTexture($ctx$$.TEXTURE_2D,$textureId$$._webTextureObj):$ctx$$.bindTexture($ctx$$.TEXTURE_2D,null)}};
cc.ENABLE_GL_STATE_CACHE||(cc.glBindTexture2DN=function $cc$glBindTexture2DN$($textureUnit$$,$textureId$$){var $ctx$$=cc._renderContext;$ctx$$.activeTexture($ctx$$.TEXTURE0+$textureUnit$$);$textureId$$?$ctx$$.bindTexture($ctx$$.TEXTURE_2D,$textureId$$._webTextureObj):$ctx$$.bindTexture($ctx$$.TEXTURE_2D,null)});cc.glDeleteTexture=function $cc$glDeleteTexture$($textureId$$){cc.glDeleteTextureN(0,$textureId$$)};
cc.glDeleteTextureN=function $cc$glDeleteTextureN$($textureUnit$$,$textureId$$){cc.ENABLE_GL_STATE_CACHE&&$textureId$$==cc._currentBoundTexture[$textureUnit$$]&&(cc._currentBoundTexture[$textureUnit$$]=-1);cc._renderContext.deleteTexture($textureId$$)};cc.glBindVAO=function $cc$glBindVAO$($vaoId$$){cc.TEXTURE_ATLAS_USE_VAO&&cc.ENABLE_GL_STATE_CACHE&&cc._uVAO!=$vaoId$$&&(cc._uVAO=$vaoId$$)};cc.glEnable=function $cc$glEnable$($flags$$){};cc.IMAGE_FORMAT_JPEG=0;cc.IMAGE_FORMAT_PNG=1;
cc.IMAGE_FORMAT_RAWDATA=9;cc.NextPOT=function $cc$NextPOT$($x$$){--$x$$;$x$$|=$x$$>>1;$x$$|=$x$$>>2;$x$$|=$x$$>>4;$x$$|=$x$$>>8;return($x$$|$x$$>>16)+1};
cc.RenderTexture=cc.Node.extend({sprite:null,clearFlags:0,clearDepthVal:0,autoDraw:!1,_cacheCanvas:null,_cacheContext:null,_fBO:0,_depthRenderBuffer:0,_oldFBO:0,_texture:null,_textureCopy:null,_uITextureImage:null,_pixelFormat:cc.Texture2D.PIXEL_FORMAT_RGBA8888,_clearColor:null,clearStencilVal:0,_clearColorStr:null,_className:"RenderTexture",_beginWithClearCommand:null,_clearDepthCommand:null,_clearCommand:null,_beginCommand:null,_endCommand:null,ctor:null,_ctorForCanvas:function($width$$,$height$$,
$format$$,$depthStencilFormat$$){cc.Node.prototype.ctor.call(this);this._cascadeOpacityEnabled=this._cascadeColorEnabled=!0;this._clearColor=cc.color(255,255,255,255);this._clearColorStr="rgba(255,255,255,1)";this._cacheCanvas=cc.newElement("canvas");this._cacheContext=this._cacheCanvas.getContext("2d");this.anchorY=this.anchorX=0;void 0!==$width$$&&void 0!==$height$$&&($format$$=$format$$||cc.Texture2D.PIXEL_FORMAT_RGBA8888,this.initWithWidthAndHeight($width$$,$height$$,$format$$,$depthStencilFormat$$||
0))},_initRendererCmd:function(){cc._renderType===cc._RENDER_TYPE_WEBGL&&(this._rendererCmd=new cc.RenderTextureRenderCmdWebGL(this))},_ctorForWebGL:function($width$$,$height$$,$format$$,$depthStencilFormat$$){cc.Node.prototype.ctor.call(this);this._cascadeOpacityEnabled=this._cascadeColorEnabled=!0;this._clearColor=cc.color(0,0,0,0);void 0!==$width$$&&void 0!==$height$$&&($format$$=$format$$||cc.Texture2D.PIXEL_FORMAT_RGBA8888,this.initWithWidthAndHeight($width$$,$height$$,$format$$,$depthStencilFormat$$||
0))},cleanup:null,_cleanupForCanvas:function(){cc.Node.prototype.onExit.call(this);this._cacheCanvas=this._cacheContext=null},_cleanupForWebGL:function(){cc.Node.prototype.onExit.call(this);this._textureCopy=null;var $gl$$=cc._renderContext;$gl$$.deleteFramebuffer(this._fBO);this._depthRenderBuffer&&$gl$$.deleteRenderbuffer(this._depthRenderBuffer);this._uITextureImage=null},getSprite:function(){return this.sprite},setSprite:function($sprite$$){this.sprite=$sprite$$},initWithWidthAndHeight:null,_initWithWidthAndHeightForCanvas:function($locSprite$$1_texture$$34_width$$,
$height$$,$format$$13_locCacheCanvas$$,$depthStencilFormat$$2_locScaleFactor$$){$format$$13_locCacheCanvas$$=this._cacheCanvas;$depthStencilFormat$$2_locScaleFactor$$=cc.contentScaleFactor();$format$$13_locCacheCanvas$$.width=0|$locSprite$$1_texture$$34_width$$*$depthStencilFormat$$2_locScaleFactor$$;$format$$13_locCacheCanvas$$.height=0|$height$$*$depthStencilFormat$$2_locScaleFactor$$;this._cacheContext.translate(0,$format$$13_locCacheCanvas$$.height);$locSprite$$1_texture$$34_width$$=new cc.Texture2D;
$locSprite$$1_texture$$34_width$$.initWithElement($format$$13_locCacheCanvas$$);$locSprite$$1_texture$$34_width$$.handleLoadedTexture();$locSprite$$1_texture$$34_width$$=this.sprite=new cc.Sprite($locSprite$$1_texture$$34_width$$);$locSprite$$1_texture$$34_width$$.setBlendFunc(cc.ONE,cc.ONE_MINUS_SRC_ALPHA);this.autoDraw=!1;this.addChild($locSprite$$1_texture$$34_width$$);return!0},_initWithWidthAndHeightForWebGL:function($locSprite$$2_width$$,$height$$,$format$$,$depthStencilFormat$$){$format$$==
cc.Texture2D.PIXEL_FORMAT_A8&&cc.log("cc.RenderTexture._initWithWidthAndHeightForWebGL() : only RGB and RGBA formats are valid for a render texture;");var $gl$$=cc._renderContext,$locScaleFactor$$=cc.contentScaleFactor();$locSprite$$2_width$$=0|$locSprite$$2_width$$*$locScaleFactor$$;$height$$=0|$height$$*$locScaleFactor$$;this._oldFBO=$gl$$.getParameter($gl$$.FRAMEBUFFER_BINDING);var $powH$$;cc.configuration.supportsNPOT()?($locScaleFactor$$=$locSprite$$2_width$$,$powH$$=$height$$):($locScaleFactor$$=
cc.NextPOT($locSprite$$2_width$$),$powH$$=cc.NextPOT($height$$));for(var $data$$=new Uint8Array($locScaleFactor$$*$powH$$*4),$i$$185_locTexture$$=0;$i$$185_locTexture$$<$locScaleFactor$$*$powH$$*4;$i$$185_locTexture$$++)$data$$[$i$$185_locTexture$$]=0;this._pixelFormat=$format$$;this._texture=new cc.Texture2D;if(!this._texture)return!1;$i$$185_locTexture$$=this._texture;$i$$185_locTexture$$.initWithData($data$$,this._pixelFormat,$locScaleFactor$$,$powH$$,cc.size($locSprite$$2_width$$,$height$$));
$format$$=$gl$$.getParameter($gl$$.RENDERBUFFER_BINDING);if(cc.configuration.checkForGLExtension("GL_QCOM")){this._textureCopy=new cc.Texture2D;if(!this._textureCopy)return!1;this._textureCopy.initWithData($data$$,this._pixelFormat,$locScaleFactor$$,$powH$$,cc.size($locSprite$$2_width$$,$height$$))}this._fBO=$gl$$.createFramebuffer();$gl$$.bindFramebuffer($gl$$.FRAMEBUFFER,this._fBO);$gl$$.framebufferTexture2D($gl$$.FRAMEBUFFER,$gl$$.COLOR_ATTACHMENT0,$gl$$.TEXTURE_2D,$i$$185_locTexture$$._webTextureObj,
0);0!=$depthStencilFormat$$&&(this._depthRenderBuffer=$gl$$.createRenderbuffer(),$gl$$.bindRenderbuffer($gl$$.RENDERBUFFER,this._depthRenderBuffer),$gl$$.renderbufferStorage($gl$$.RENDERBUFFER,$depthStencilFormat$$,$locScaleFactor$$,$powH$$),$depthStencilFormat$$==$gl$$.DEPTH_STENCIL?$gl$$.framebufferRenderbuffer($gl$$.FRAMEBUFFER,$gl$$.DEPTH_STENCIL_ATTACHMENT,$gl$$.RENDERBUFFER,this._depthRenderBuffer):$depthStencilFormat$$==$gl$$.STENCIL_INDEX||$depthStencilFormat$$==$gl$$.STENCIL_INDEX8?$gl$$.framebufferRenderbuffer($gl$$.FRAMEBUFFER,
$gl$$.STENCIL_ATTACHMENT,$gl$$.RENDERBUFFER,this._depthRenderBuffer):$depthStencilFormat$$==$gl$$.DEPTH_COMPONENT16&&$gl$$.framebufferRenderbuffer($gl$$.FRAMEBUFFER,$gl$$.DEPTH_ATTACHMENT,$gl$$.RENDERBUFFER,this._depthRenderBuffer));$gl$$.checkFramebufferStatus($gl$$.FRAMEBUFFER)!==$gl$$.FRAMEBUFFER_COMPLETE&&cc.log("Could not attach texture to the framebuffer");$i$$185_locTexture$$.setAliasTexParameters();$locSprite$$2_width$$=this.sprite=new cc.Sprite($i$$185_locTexture$$);$locSprite$$2_width$$.scaleY=
-1;$locSprite$$2_width$$.setBlendFunc($gl$$.ONE,$gl$$.ONE_MINUS_SRC_ALPHA);$gl$$.bindRenderbuffer($gl$$.RENDERBUFFER,$format$$);$gl$$.bindFramebuffer($gl$$.FRAMEBUFFER,this._oldFBO);this.autoDraw=!1;this.addChild($locSprite$$2_width$$);return!0},begin:null,_beginForCanvas:function(){cc.renderer._turnToCacheMode(this.__instanceId)},_beginForWebGL:function(){cc.renderer._turnToCacheMode(this.__instanceId);cc.kmGLMatrixMode(cc.KM_GL_PROJECTION);cc.kmGLPushMatrix();cc.kmGLMatrixMode(cc.KM_GL_MODELVIEW);
cc.kmGLPushMatrix();var $director$$=cc.director;$director$$.setProjection($director$$.getProjection());var $orthoMatrix$$=this._texture.getContentSizeInPixels(),$heightRatio_size$$=cc.director.getWinSizeInPixels(),$director$$=$heightRatio_size$$.width/$orthoMatrix$$.width,$heightRatio_size$$=$heightRatio_size$$.height/$orthoMatrix$$.height,$gl$$=cc._renderContext;$gl$$.viewport(0,0,$orthoMatrix$$.width,$orthoMatrix$$.height);$orthoMatrix$$=new cc.kmMat4;cc.kmMat4OrthographicProjection($orthoMatrix$$,
-1/$director$$,1/$director$$,-1/$heightRatio_size$$,1/$heightRatio_size$$,-1,1);cc.kmGLMultMatrix($orthoMatrix$$);this._oldFBO=$gl$$.getParameter($gl$$.FRAMEBUFFER_BINDING);$gl$$.bindFramebuffer($gl$$.FRAMEBUFFER,this._fBO);cc.configuration.checkForGLExtension("GL_QCOM")&&($gl$$.framebufferTexture2D($gl$$.FRAMEBUFFER,$gl$$.COLOR_ATTACHMENT0,$gl$$.TEXTURE_2D,this._textureCopy._webTextureObj,0),$gl$$.clear($gl$$.COLOR_BUFFER_BIT|$gl$$.DEPTH_BUFFER_BIT),$gl$$.framebufferTexture2D($gl$$.FRAMEBUFFER,$gl$$.COLOR_ATTACHMENT0,
$gl$$.TEXTURE_2D,this._texture._webTextureObj,0))},beginWithClear:function($r$$,$g$$,$b$$,$a$$,$depthValue$$,$stencilValue$$){var $gl$$=cc._renderContext;$depthValue$$=$depthValue$$||$gl$$.COLOR_BUFFER_BIT;$stencilValue$$=$stencilValue$$||$gl$$.COLOR_BUFFER_BIT|$gl$$.DEPTH_BUFFER_BIT;this._beginWithClear($r$$,$g$$,$b$$,$a$$,$depthValue$$,$stencilValue$$,$gl$$.COLOR_BUFFER_BIT|$gl$$.DEPTH_BUFFER_BIT|$gl$$.STENCIL_BUFFER_BIT)},_beginWithClear:null,_beginWithClearForCanvas:function($r$$,$g$$,$b$$,$a$$,
$context$$29_depthValue$$,$locCanvas$$3_stencilValue$$,$flags$$){this.begin();$r$$=$r$$||0;$g$$=$g$$||0;$b$$=$b$$||0;$a$$=isNaN($a$$)?1:$a$$;$context$$29_depthValue$$=this._cacheContext;$locCanvas$$3_stencilValue$$=this._cacheCanvas;$context$$29_depthValue$$.save();$context$$29_depthValue$$.fillStyle="rgba("+(0|$r$$)+","+(0|$g$$)+","+(0|$b$$)+","+$a$$/255+")";$context$$29_depthValue$$.clearRect(0,0,$locCanvas$$3_stencilValue$$.width,-$locCanvas$$3_stencilValue$$.height);$context$$29_depthValue$$.fillRect(0,
0,$locCanvas$$3_stencilValue$$.width,-$locCanvas$$3_stencilValue$$.height);$context$$29_depthValue$$.restore()},_beginWithClearForWebGL:function($r$$,$g$$,$b$$,$a$$,$depthValue$$,$stencilValue$$,$flags$$){$r$$/=255;$g$$/=255;$b$$/=255;$a$$/=255;this.begin();var $gl$$=cc._renderContext,$clearColor$$=[0,0,0,0],$depthClearValue$$=0,$stencilClearValue$$=0;$flags$$&$gl$$.COLOR_BUFFER_BIT&&($clearColor$$=$gl$$.getParameter($gl$$.COLOR_CLEAR_VALUE),$gl$$.clearColor($r$$,$g$$,$b$$,$a$$));$flags$$&$gl$$.DEPTH_BUFFER_BIT&&
($depthClearValue$$=$gl$$.getParameter($gl$$.DEPTH_CLEAR_VALUE),$gl$$.clearDepth($depthValue$$));$flags$$&$gl$$.STENCIL_BUFFER_BIT&&($stencilClearValue$$=$gl$$.getParameter($gl$$.STENCIL_CLEAR_VALUE),$gl$$.clearStencil($stencilValue$$));$gl$$.clear($flags$$);$flags$$&$gl$$.COLOR_BUFFER_BIT&&$gl$$.clearColor($clearColor$$[0],$clearColor$$[1],$clearColor$$[2],$clearColor$$[3]);$flags$$&$gl$$.DEPTH_BUFFER_BIT&&$gl$$.clearDepth($depthClearValue$$);$flags$$&$gl$$.STENCIL_BUFFER_BIT&&$gl$$.clearStencil($stencilClearValue$$)},
end:null,_endForCanvas:function(){cc.renderer._renderingToCacheCanvas(this._cacheContext,this.__instanceId)},_endForWebGL:function(){cc.renderer._renderingToBuffer(this.__instanceId);var $gl$$=cc._renderContext,$director$$=cc.director;$gl$$.bindFramebuffer($gl$$.FRAMEBUFFER,this._oldFBO);$director$$.setViewport();cc.kmGLMatrixMode(cc.KM_GL_PROJECTION);cc.kmGLPopMatrix();cc.kmGLMatrixMode(cc.KM_GL_MODELVIEW);cc.kmGLPopMatrix()},clear:function($r$$,$g$$,$b$$,$a$$){this.beginWithClear($r$$,$g$$,$b$$,
$a$$);this.end()},clearRect:null,_clearRectForCanvas:function($x$$,$y$$,$width$$,$height$$){this._cacheContext.clearRect($x$$,$y$$,$width$$,-$height$$)},_clearRectForWebGL:function($x$$,$y$$,$width$$,$height$$){},clearDepth:null,_clearDepthForCanvas:function($depthValue$$){cc.log("clearDepth isn't supported on Cocos2d-Html5")},_clearDepthForWebGL:function($depthValue$$){this.begin();var $gl$$=cc._renderContext,$depthClearValue$$=$gl$$.getParameter($gl$$.DEPTH_CLEAR_VALUE);$gl$$.clearDepth($depthValue$$);
$gl$$.clear($gl$$.DEPTH_BUFFER_BIT);$gl$$.clearDepth($depthClearValue$$);this.end()},clearStencil:null,_clearStencilForCanvas:function($stencilValue$$){cc.log("clearDepth isn't supported on Cocos2d-Html5")},_clearStencilForWebGL:function($stencilValue$$){var $gl$$=cc._renderContext,$stencilClearValue$$=$gl$$.getParameter($gl$$.STENCIL_CLEAR_VALUE);$gl$$.clearStencil($stencilValue$$);$gl$$.clear($gl$$.STENCIL_BUFFER_BIT);$gl$$.clearStencil($stencilClearValue$$)},visit:null,_visitForCanvas:function($ctx$$){this._visible&&
($ctx$$=$ctx$$||cc._renderContext,this.transform($ctx$$),this.sprite.visit($ctx$$))},_visitForWebGL:function($ctx$$){this._visible&&(cc.kmGLPushMatrix(),this.transform($ctx$$),this.sprite.visit(),this._rendererCmd&&cc.renderer.pushRenderCommand(this._rendererCmd),cc.kmGLPopMatrix())},draw:null,_drawForCanvas:function($ctx$$58_locChildren$$){$ctx$$58_locChildren$$=$ctx$$58_locChildren$$||cc._renderContext;if(this.autoDraw){this.begin();if(this.clearFlags){var $childrenLen_locCanvas$$=this._cacheCanvas;
$ctx$$58_locChildren$$.save();$ctx$$58_locChildren$$.fillStyle=this._clearColorStr;$ctx$$58_locChildren$$.clearRect(0,0,$childrenLen_locCanvas$$.width,-$childrenLen_locCanvas$$.height);$ctx$$58_locChildren$$.fillRect(0,0,$childrenLen_locCanvas$$.width,-$childrenLen_locCanvas$$.height);$ctx$$58_locChildren$$.restore()}this.sortAllChildren();$ctx$$58_locChildren$$=this._children;for(var $childrenLen_locCanvas$$=$ctx$$58_locChildren$$.length,$selfSprite$$=this.sprite,$i$$=0;$i$$<$childrenLen_locCanvas$$;$i$$++){var $getChild$$=
$ctx$$58_locChildren$$[$i$$];$getChild$$!=$selfSprite$$&&$getChild$$.visit()}this.end()}},_drawForWebGL:function($ctx$$59_gl$$31_locChildren$$){$ctx$$59_gl$$31_locChildren$$=cc._renderContext;if(this.autoDraw){this.begin();var $i$$187_locClearFlags$$=this.clearFlags;if($i$$187_locClearFlags$$){var $getChild$$2_oldClearColor$$=[0,0,0,0],$oldDepthClearValue$$=0,$oldStencilClearValue$$=0;$i$$187_locClearFlags$$&$ctx$$59_gl$$31_locChildren$$.COLOR_BUFFER_BIT&&($getChild$$2_oldClearColor$$=$ctx$$59_gl$$31_locChildren$$.getParameter($ctx$$59_gl$$31_locChildren$$.COLOR_CLEAR_VALUE),
$ctx$$59_gl$$31_locChildren$$.clearColor(this._clearColor.r/255,this._clearColor.g/255,this._clearColor.b/255,this._clearColor.a/255));$i$$187_locClearFlags$$&$ctx$$59_gl$$31_locChildren$$.DEPTH_BUFFER_BIT&&($oldDepthClearValue$$=$ctx$$59_gl$$31_locChildren$$.getParameter($ctx$$59_gl$$31_locChildren$$.DEPTH_CLEAR_VALUE),$ctx$$59_gl$$31_locChildren$$.clearDepth(this.clearDepthVal));$i$$187_locClearFlags$$&$ctx$$59_gl$$31_locChildren$$.STENCIL_BUFFER_BIT&&($oldStencilClearValue$$=$ctx$$59_gl$$31_locChildren$$.getParameter($ctx$$59_gl$$31_locChildren$$.STENCIL_CLEAR_VALUE),
$ctx$$59_gl$$31_locChildren$$.clearStencil(this.clearStencilVal));$ctx$$59_gl$$31_locChildren$$.clear($i$$187_locClearFlags$$);$i$$187_locClearFlags$$&$ctx$$59_gl$$31_locChildren$$.COLOR_BUFFER_BIT&&$ctx$$59_gl$$31_locChildren$$.clearColor($getChild$$2_oldClearColor$$[0],$getChild$$2_oldClearColor$$[1],$getChild$$2_oldClearColor$$[2],$getChild$$2_oldClearColor$$[3]);$i$$187_locClearFlags$$&$ctx$$59_gl$$31_locChildren$$.DEPTH_BUFFER_BIT&&$ctx$$59_gl$$31_locChildren$$.clearDepth($oldDepthClearValue$$);
$i$$187_locClearFlags$$&$ctx$$59_gl$$31_locChildren$$.STENCIL_BUFFER_BIT&&$ctx$$59_gl$$31_locChildren$$.clearStencil($oldStencilClearValue$$)}this.sortAllChildren();$ctx$$59_gl$$31_locChildren$$=this._children;for($i$$187_locClearFlags$$=0;$i$$187_locClearFlags$$<$ctx$$59_gl$$31_locChildren$$.length;$i$$187_locClearFlags$$++)$getChild$$2_oldClearColor$$=$ctx$$59_gl$$31_locChildren$$[$i$$187_locClearFlags$$],$getChild$$2_oldClearColor$$!=this.sprite&&$getChild$$2_oldClearColor$$.visit();this.end()}},
newCCImage:function($flipImage$$){cc.log("saveToFile isn't supported on cocos2d-html5");return null},_memcpy:function($destArr$$,$destIndex$$,$srcArr$$,$srcIndex$$,$size$$){for(var $i$$=0;$i$$<$size$$;$i$$++)$destArr$$[$destIndex$$+$i$$]=$srcArr$$[$srcIndex$$+$i$$]},saveToFile:function($filePath$$,$format$$){cc.log("saveToFile isn't supported on Cocos2d-Html5")},listenToBackground:function($obj$$){cc.log("listenToBackground isn't supported on Cocos2d-Html5")},listenToForeground:function($obj$$){cc.log("listenToForeground isn't supported on Cocos2d-Html5")},
getClearFlags:function(){return this.clearFlags},setClearFlags:function($clearFlags$$){this.clearFlags=$clearFlags$$},getClearColor:function(){return this._clearColor},setClearColor:null,_setClearColorForCanvas:function($clearColor$$){var $locClearColor$$=this._clearColor;$locClearColor$$.r=$clearColor$$.r;$locClearColor$$.g=$clearColor$$.g;$locClearColor$$.b=$clearColor$$.b;$locClearColor$$.a=$clearColor$$.a;this._clearColorStr="rgba("+(0|$clearColor$$.r)+","+(0|$clearColor$$.g)+","+(0|$clearColor$$.b)+
","+$clearColor$$.a/255+")"},_setClearColorForWebGL:function($clearColor$$){var $locClearColor$$=this._clearColor;$locClearColor$$.r=$clearColor$$.r;$locClearColor$$.g=$clearColor$$.g;$locClearColor$$.b=$clearColor$$.b;$locClearColor$$.a=$clearColor$$.a},getClearDepth:function(){return this.clearDepthVal},setClearDepth:function($clearDepth$$){this.clearDepthVal=$clearDepth$$},getClearStencil:function(){return this.clearStencilVal},setClearStencil:function($clearStencil$$){this.clearStencilVal=$clearStencil$$},
isAutoDraw:function(){return this.autoDraw},setAutoDraw:function($autoDraw$$){this.autoDraw=$autoDraw$$}});_p=cc.RenderTexture.prototype;
cc._renderType==cc._RENDER_TYPE_WEBGL?(_p.ctor=_p._ctorForWebGL,_p.cleanup=_p._cleanupForWebGL,_p.initWithWidthAndHeight=_p._initWithWidthAndHeightForWebGL,_p.begin=_p._beginForWebGL,_p._beginWithClear=_p._beginWithClearForWebGL,_p.end=_p._endForWebGL,_p.clearRect=_p._clearRectForWebGL,_p.clearDepth=_p._clearDepthForWebGL,_p.clearStencil=_p._clearStencilForWebGL,_p.visit=_p._visitForWebGL,_p.draw=_p._drawForWebGL,_p.setClearColor=_p._setClearColorForWebGL):(_p.ctor=_p._ctorForCanvas,_p.cleanup=_p._cleanupForCanvas,
_p.initWithWidthAndHeight=_p._initWithWidthAndHeightForCanvas,_p.begin=_p._beginForCanvas,_p._beginWithClear=_p._beginWithClearForCanvas,_p.end=_p._endForCanvas,_p.clearRect=_p._clearRectForCanvas,_p.clearDepth=_p._clearDepthForCanvas,_p.clearStencil=_p._clearStencilForCanvas,_p.visit=_p._visitForCanvas,_p.draw=_p._drawForCanvas,_p.setClearColor=_p._setClearColorForCanvas);_p.clearColorVal;cc.defineGetterSetter(_p,"clearColorVal",_p.getClearColor,_p.setClearColor);
cc.RenderTexture.create=function $cc$RenderTexture$create$($width$$,$height$$,$format$$,$depthStencilFormat$$){return new cc.RenderTexture($width$$,$height$$,$format$$,$depthStencilFormat$$)};cc.DEFAULT_SPRITE_BATCH_CAPACITY=29;
cc.SpriteBatchNode=cc.Node.extend({textureAtlas:null,_blendFunc:null,_descendants:null,_className:"SpriteBatchNode",addSpriteWithoutQuad:function($child$$,$z$$,$aTag$$){cc.assert($child$$,cc._LogInfos.SpriteBatchNode_addSpriteWithoutQuad_2);if(!($child$$ instanceof cc.Sprite))return cc.log(cc._LogInfos.SpriteBatchNode_addSpriteWithoutQuad),null;$child$$.atlasIndex=$z$$;var $i$$=0,$locDescendants$$=this._descendants;if($locDescendants$$&&0<$locDescendants$$.length)for(var $index$$=0;$index$$<$locDescendants$$.length;$index$$++){var $obj$$=
$locDescendants$$[$index$$];$obj$$&&$obj$$.atlasIndex>=$z$$&&++$i$$}$locDescendants$$.splice($i$$,0,$child$$);cc.Node.prototype.addChild.call(this,$child$$,$z$$,$aTag$$);this.reorderBatch(!1);return this},getTextureAtlas:function(){return this.textureAtlas},setTextureAtlas:function($textureAtlas$$){$textureAtlas$$!=this.textureAtlas&&(this.textureAtlas=$textureAtlas$$)},getDescendants:function(){return this._descendants},initWithFile:function($fileImage$$,$capacity$$){var $texture2D$$=cc.textureCache.getTextureForKey($fileImage$$);
$texture2D$$||($texture2D$$=cc.textureCache.addImage($fileImage$$));return this.initWithTexture($texture2D$$,$capacity$$)},_setNodeDirtyForCache:function(){this._cacheDirty=!0},init:function($fileImage$$,$capacity$$){var $texture2D$$=cc.textureCache.getTextureForKey($fileImage$$);$texture2D$$||($texture2D$$=cc.textureCache.addImage($fileImage$$));return this.initWithTexture($texture2D$$,$capacity$$)},increaseAtlasCapacity:function(){var $locCapacity$$=this.textureAtlas.capacity,$quantity$$=Math.floor(4*
($locCapacity$$+1)/3);cc.log(cc._LogInfos.SpriteBatchNode_increaseAtlasCapacity,$locCapacity$$,$quantity$$);this.textureAtlas.resizeCapacity($quantity$$)||cc.log(cc._LogInfos.SpriteBatchNode_increaseAtlasCapacity_2)},removeChildAtIndex:function($index$$,$doCleanup$$){this.removeChild(this._children[$index$$],$doCleanup$$)},rebuildIndexInOrder:function($pobParent$$,$index$$){var $children$$=$pobParent$$.children;if($children$$&&0<$children$$.length)for(var $i$$=0;$i$$<$children$$.length;$i$$++){var $obj$$=
$children$$[$i$$];$obj$$&&0>$obj$$.zIndex&&($index$$=this.rebuildIndexInOrder($obj$$,$index$$))}!$pobParent$$==this&&($pobParent$$.atlasIndex=$index$$,$index$$++);if($children$$&&0<$children$$.length)for($i$$=0;$i$$<$children$$.length;$i$$++)($obj$$=$children$$[$i$$])&&0<=$obj$$.zIndex&&($index$$=this.rebuildIndexInOrder($obj$$,$index$$));return $index$$},highestAtlasIndexInChild:function($sprite$$){var $children$$=$sprite$$.children;return $children$$&&0!=$children$$.length?this.highestAtlasIndexInChild($children$$[$children$$.length-
1]):$sprite$$.atlasIndex},lowestAtlasIndexInChild:function($sprite$$){var $children$$=$sprite$$.children;return $children$$&&0!=$children$$.length?this.lowestAtlasIndexInChild($children$$[$children$$.length-1]):$sprite$$.atlasIndex},atlasIndexForChild:function($sprite$$,$nZ$$){var $selParent$$=$sprite$$.parent,$brothers$$=$selParent$$.children,$childIndex$$=$brothers$$.indexOf($sprite$$),$previous$$=null;0<$childIndex$$&&$childIndex$$<cc.UINT_MAX&&($previous$$=$brothers$$[$childIndex$$-1]);return $selParent$$==
this?0==$childIndex$$?0:this.highestAtlasIndexInChild($previous$$)+1:0==$childIndex$$?0>$nZ$$?$selParent$$.atlasIndex:$selParent$$.atlasIndex+1:0>$previous$$.zIndex&&0>$nZ$$||0<=$previous$$.zIndex&&0<=$nZ$$?this.highestAtlasIndexInChild($previous$$)+1:$selParent$$.atlasIndex+1},reorderBatch:function($reorder$$){this._reorderChildDirty=$reorder$$},setBlendFunc:function($src$$,$dst$$){this._blendFunc=void 0===$dst$$?$src$$:{src:$src$$,dst:$dst$$}},getBlendFunc:function(){return this._blendFunc},reorderChild:function($child$$,
$zOrder$$){cc.assert($child$$,cc._LogInfos.SpriteBatchNode_reorderChild_2);-1===this._children.indexOf($child$$)?cc.log(cc._LogInfos.SpriteBatchNode_reorderChild):$zOrder$$!==$child$$.zIndex&&(cc.Node.prototype.reorderChild.call(this,$child$$,$zOrder$$),this.setNodeDirty())},removeChild:function($child$$,$cleanup$$){null!=$child$$&&(-1===this._children.indexOf($child$$)?cc.log(cc._LogInfos.SpriteBatchNode_removeChild):(this.removeSpriteFromAtlas($child$$),cc.Node.prototype.removeChild.call(this,$child$$,
$cleanup$$)))},_textureForCanvas:null,_useCache:!1,_originalTexture:null,ctor:null,_ctorForCanvas:function($fileImage$$,$capacity$$){cc.Node.prototype.ctor.call(this);var $texture2D$$;$capacity$$=$capacity$$||cc.DEFAULT_SPRITE_BATCH_CAPACITY;cc.isString($fileImage$$)?($texture2D$$=cc.textureCache.getTextureForKey($fileImage$$))||($texture2D$$=cc.textureCache.addImage($fileImage$$)):$fileImage$$ instanceof cc.Texture2D&&($texture2D$$=$fileImage$$);$texture2D$$&&this.initWithTexture($texture2D$$,$capacity$$)},
_ctorForWebGL:function($fileImage$$,$capacity$$){cc.Node.prototype.ctor.call(this);var $texture2D$$;$capacity$$=$capacity$$||cc.DEFAULT_SPRITE_BATCH_CAPACITY;cc.isString($fileImage$$)?($texture2D$$=cc.textureCache.getTextureForKey($fileImage$$))||($texture2D$$=cc.textureCache.addImage($fileImage$$)):$fileImage$$ instanceof cc.Texture2D&&($texture2D$$=$fileImage$$);$texture2D$$&&this.initWithTexture($texture2D$$,$capacity$$)},_initRendererCmd:function(){cc._renderType===cc._RENDER_TYPE_WEBGL&&(this._rendererCmd=
new cc.SpriteBatchNodeRenderCmdWebGL(this))},updateQuadFromSprite:null,_updateQuadFromSpriteForCanvas:function($sprite$$,$index$$){cc.assert($sprite$$,cc._LogInfos.CCSpriteBatchNode_updateQuadFromSprite_2);$sprite$$ instanceof cc.Sprite?($sprite$$.batchNode=this,$sprite$$.atlasIndex=$index$$,$sprite$$.dirty=!0,$sprite$$.updateTransform()):cc.log(cc._LogInfos.CCSpriteBatchNode_updateQuadFromSprite)},_updateQuadFromSpriteForWebGL:function($sprite$$,$index$$){cc.assert($sprite$$,cc._LogInfos.CCSpriteBatchNode_updateQuadFromSprite);
if($sprite$$ instanceof cc.Sprite){for(var $locCapacity$$=this.textureAtlas.capacity;$index$$>=$locCapacity$$||$locCapacity$$==this.textureAtlas.totalQuads;)this.increaseAtlasCapacity();$sprite$$.batchNode=this;$sprite$$.atlasIndex=$index$$;$sprite$$.dirty=!0;$sprite$$.updateTransform()}else cc.log(cc._LogInfos.CCSpriteBatchNode_updateQuadFromSprite)},_swap:function($oldIndex$$,$newIndex$$){var $locDescendants$$=this._descendants,$locTextureAtlas$$=this.textureAtlas,$quads$$=$locTextureAtlas$$.quads,
$tempItem$$=$locDescendants$$[$oldIndex$$],$tempIteQuad$$=cc.V3F_C4B_T2F_QuadCopy($quads$$[$oldIndex$$]);$locDescendants$$[$newIndex$$].atlasIndex=$oldIndex$$;$locDescendants$$[$oldIndex$$]=$locDescendants$$[$newIndex$$];$locTextureAtlas$$.updateQuad($quads$$[$newIndex$$],$oldIndex$$);$locDescendants$$[$newIndex$$]=$tempItem$$;$locTextureAtlas$$.updateQuad($tempIteQuad$$,$newIndex$$)},insertQuadFromSprite:null,_insertQuadFromSpriteForCanvas:function($sprite$$,$index$$){cc.assert($sprite$$,cc._LogInfos.CCSpriteBatchNode_insertQuadFromSprite_2);
$sprite$$ instanceof cc.Sprite?($sprite$$.batchNode=this,$sprite$$.atlasIndex=$index$$,$sprite$$.dirty=!0,$sprite$$.updateTransform(),$sprite$$._setCachedParent(this),this._children.splice($index$$,0,$sprite$$)):cc.log(cc._LogInfos.CCSpriteBatchNode_insertQuadFromSprite)},_insertQuadFromSpriteForWebGL:function($sprite$$,$index$$){cc.assert($sprite$$,cc._LogInfos.Sprite_insertQuadFromSprite_2);if($sprite$$ instanceof cc.Sprite){for(var $locTextureAtlas$$=this.textureAtlas;$index$$>=$locTextureAtlas$$.capacity||
$locTextureAtlas$$.capacity===$locTextureAtlas$$.totalQuads;)this.increaseAtlasCapacity();$sprite$$.batchNode=this;$sprite$$.atlasIndex=$index$$;$locTextureAtlas$$.insertQuad($sprite$$.quad,$index$$);$sprite$$.dirty=!0;$sprite$$.updateTransform()}else cc.log(cc._LogInfos.Sprite_insertQuadFromSprite)},_updateAtlasIndex:function($sprite$$,$curIndex$$){var $count$$14_i$$=0,$pArray$$=$sprite$$.children;$pArray$$&&($count$$14_i$$=$pArray$$.length);var $needNewIndex_oldIndex$$=0;if(0===$count$$14_i$$)$needNewIndex_oldIndex$$=
$sprite$$.atlasIndex,$sprite$$.atlasIndex=$curIndex$$,$sprite$$.arrivalOrder=0,$needNewIndex_oldIndex$$!=$curIndex$$&&this._swap($needNewIndex_oldIndex$$,$curIndex$$),$curIndex$$++;else{$needNewIndex_oldIndex$$=!0;0<=$pArray$$[0].zIndex&&($needNewIndex_oldIndex$$=$sprite$$.atlasIndex,$sprite$$.atlasIndex=$curIndex$$,$sprite$$.arrivalOrder=0,$needNewIndex_oldIndex$$!=$curIndex$$&&this._swap($needNewIndex_oldIndex$$,$curIndex$$),$curIndex$$++,$needNewIndex_oldIndex$$=!1);for($count$$14_i$$=0;$count$$14_i$$<
$pArray$$.length;$count$$14_i$$++){var $child$$=$pArray$$[$count$$14_i$$];$needNewIndex_oldIndex$$&&0<=$child$$.zIndex&&($needNewIndex_oldIndex$$=$sprite$$.atlasIndex,$sprite$$.atlasIndex=$curIndex$$,$sprite$$.arrivalOrder=0,$needNewIndex_oldIndex$$!=$curIndex$$&&this._swap($needNewIndex_oldIndex$$,$curIndex$$),$curIndex$$++,$needNewIndex_oldIndex$$=!1);$curIndex$$=this._updateAtlasIndex($child$$,$curIndex$$)}$needNewIndex_oldIndex$$&&($needNewIndex_oldIndex$$=$sprite$$.atlasIndex,$sprite$$.atlasIndex=
$curIndex$$,$sprite$$.arrivalOrder=0,$needNewIndex_oldIndex$$!=$curIndex$$&&this._swap($needNewIndex_oldIndex$$,$curIndex$$),$curIndex$$++)}return $curIndex$$},_updateBlendFunc:function(){this.textureAtlas.texture.hasPremultipliedAlpha()||(this._blendFunc.src=cc.SRC_ALPHA,this._blendFunc.dst=cc.ONE_MINUS_SRC_ALPHA)},initWithTexture:null,_initWithTextureForCanvas:function($tex$$,$capacity$$){this._children=[];this._descendants=[];this._blendFunc=new cc.BlendFunc(cc.BLEND_SRC,cc.BLEND_DST);this._textureForCanvas=
this._originalTexture=$tex$$;return!0},_initWithTextureForWebGL:function($tex$$,$capacity$$){this._children=[];this._descendants=[];this._blendFunc=new cc.BlendFunc(cc.BLEND_SRC,cc.BLEND_DST);$capacity$$=$capacity$$||cc.DEFAULT_SPRITE_BATCH_CAPACITY;this.textureAtlas=new cc.TextureAtlas;this.textureAtlas.initWithTexture($tex$$,$capacity$$);this._updateBlendFunc();this.shaderProgram=cc.shaderCache.programForKey(cc.SHADER_POSITION_TEXTURECOLOR);return!0},insertChild:function($sprite$$,$index$$){$sprite$$.batchNode=
this;$sprite$$.atlasIndex=$index$$;$sprite$$.dirty=!0;var $i$$192_locTextureAtlas$$=this.textureAtlas;$i$$192_locTextureAtlas$$.totalQuads>=$i$$192_locTextureAtlas$$.capacity&&this.increaseAtlasCapacity();$i$$192_locTextureAtlas$$.insertQuad($sprite$$.quad,$index$$);this._descendants.splice($index$$,0,$sprite$$);var $i$$192_locTextureAtlas$$=$index$$+1,$locChildren$$=this._descendants;if($locChildren$$&&0<$locChildren$$.length)for(;$i$$192_locTextureAtlas$$<$locChildren$$.length;$i$$192_locTextureAtlas$$++)$locChildren$$[$i$$192_locTextureAtlas$$].atlasIndex++;
var $locChildren$$=$sprite$$.children,$child$$;if($locChildren$$)for($i$$192_locTextureAtlas$$=0,l=$locChildren$$.length||0;$i$$192_locTextureAtlas$$<l;$i$$192_locTextureAtlas$$++)if($child$$=$locChildren$$[$i$$192_locTextureAtlas$$]){var $getIndex$$=this.atlasIndexForChild($child$$,$child$$.zIndex);this.insertChild($child$$,$getIndex$$)}},appendChild:null,_appendChildForCanvas:function($children$$13_sprite$$){this._reorderChildDirty=!0;$children$$13_sprite$$.batchNode=this;$children$$13_sprite$$.dirty=
!0;this._descendants.push($children$$13_sprite$$);$children$$13_sprite$$.atlasIndex=this._descendants.length-1;$children$$13_sprite$$=$children$$13_sprite$$.children;for(var $i$$=0,$l$$=$children$$13_sprite$$.length||0;$i$$<$l$$;$i$$++)this.appendChild($children$$13_sprite$$[$i$$])},_appendChildForWebGL:function($children$$14_sprite$$){this._reorderChildDirty=!0;$children$$14_sprite$$.batchNode=this;$children$$14_sprite$$.dirty=!0;this._descendants.push($children$$14_sprite$$);var $i$$194_index$$=
this._descendants.length-1;$children$$14_sprite$$.atlasIndex=$i$$194_index$$;var $l$$15_locTextureAtlas$$=this.textureAtlas;$l$$15_locTextureAtlas$$.totalQuads==$l$$15_locTextureAtlas$$.capacity&&this.increaseAtlasCapacity();$l$$15_locTextureAtlas$$.insertQuad($children$$14_sprite$$.quad,$i$$194_index$$);$children$$14_sprite$$=$children$$14_sprite$$.children;$i$$194_index$$=0;for($l$$15_locTextureAtlas$$=$children$$14_sprite$$.length||0;$i$$194_index$$<$l$$15_locTextureAtlas$$;$i$$194_index$$++)this.appendChild($children$$14_sprite$$[$i$$194_index$$])},
removeSpriteFromAtlas:null,_removeSpriteFromAtlasForCanvas:function($children$$15_sprite$$){$children$$15_sprite$$.batchNode=null;var $i$$195_locDescendants$$=this._descendants,$index$$83_l$$=$i$$195_locDescendants$$.indexOf($children$$15_sprite$$);if(-1!=$index$$83_l$$){$i$$195_locDescendants$$.splice($index$$83_l$$,1);for(var $len$$=$i$$195_locDescendants$$.length;$index$$83_l$$<$len$$;++$index$$83_l$$)$i$$195_locDescendants$$[$index$$83_l$$].atlasIndex--}if($children$$15_sprite$$=$children$$15_sprite$$.children)for($i$$195_locDescendants$$=
0,$index$$83_l$$=$children$$15_sprite$$.length||0;$i$$195_locDescendants$$<$index$$83_l$$;$i$$195_locDescendants$$++)$children$$15_sprite$$[$i$$195_locDescendants$$]&&this.removeSpriteFromAtlas($children$$15_sprite$$[$i$$195_locDescendants$$])},_removeSpriteFromAtlasForWebGL:function($children$$16_sprite$$){this.textureAtlas.removeQuadAtIndex($children$$16_sprite$$.atlasIndex);$children$$16_sprite$$.batchNode=null;var $i$$196_locDescendants$$=this._descendants,$index$$84_l$$=$i$$196_locDescendants$$.indexOf($children$$16_sprite$$);
if(-1!=$index$$84_l$$){$i$$196_locDescendants$$.splice($index$$84_l$$,1);for(var $len$$=$i$$196_locDescendants$$.length;$index$$84_l$$<$len$$;++$index$$84_l$$)$i$$196_locDescendants$$[$index$$84_l$$].atlasIndex--}if($children$$16_sprite$$=$children$$16_sprite$$.children)for($i$$196_locDescendants$$=0,$index$$84_l$$=$children$$16_sprite$$.length||0;$i$$196_locDescendants$$<$index$$84_l$$;$i$$196_locDescendants$$++)$children$$16_sprite$$[$i$$196_locDescendants$$]&&this.removeSpriteFromAtlas($children$$16_sprite$$[$i$$196_locDescendants$$])},
getTexture:null,_getTextureForCanvas:function(){return this._textureForCanvas},_getTextureForWebGL:function(){return this.textureAtlas.texture},setTexture:null,_setTextureForCanvas:function($texture$$){this._textureForCanvas=$texture$$;for(var $locChildren$$=this._children,$i$$=0;$i$$<$locChildren$$.length;$i$$++)$locChildren$$[$i$$].texture=$texture$$},_setTextureForWebGL:function($texture$$){this.textureAtlas.texture=$texture$$;this._updateBlendFunc()},visit:null,_visitForCanvas:function($ctx$$60_i$$){var $context$$=
$ctx$$60_i$$||cc._renderContext;if(this._visible){$context$$.save();this.transform($ctx$$60_i$$);var $locChildren$$=this._children;if($locChildren$$)for(this.sortAllChildren(),$ctx$$60_i$$=0;$ctx$$60_i$$<$locChildren$$.length;$ctx$$60_i$$++)$locChildren$$[$ctx$$60_i$$]&&$locChildren$$[$ctx$$60_i$$].visit($context$$);$context$$.restore()}},_visitForWebGL:function($ctx$$61_gl$$){$ctx$$61_gl$$=$ctx$$61_gl$$||cc._renderContext;if(this._visible){var $currentStack$$=cc.current_stack;$currentStack$$.stack.push($currentStack$$.top);
cc.kmMat4Assign(this._stackMatrix,$currentStack$$.top);$currentStack$$.top=this._stackMatrix;this.sortAllChildren();this.transform($ctx$$61_gl$$);this._rendererCmd&&cc.renderer.pushRenderCommand(this._rendererCmd);$currentStack$$.top=$currentStack$$.stack.pop()}},addChild:null,_addChildForCanvas:function($child$$,$zOrder$$,$tag$$){cc.assert(null!=$child$$,cc._LogInfos.CCSpriteBatchNode_addChild_3);$child$$ instanceof cc.Sprite?($zOrder$$=null==$zOrder$$?$child$$.zIndex:$zOrder$$,$tag$$=null==$tag$$?
$child$$.tag:$tag$$,cc.Node.prototype.addChild.call(this,$child$$,$zOrder$$,$tag$$),this.appendChild($child$$),this.setNodeDirty()):cc.log(cc._LogInfos.CCSpriteBatchNode_addChild)},_addChildForWebGL:function($child$$,$zOrder$$,$tag$$){cc.assert(null!=$child$$,cc._LogInfos.Sprite_addChild_6);$child$$ instanceof cc.Sprite?$child$$.texture!=this.textureAtlas.texture?cc.log(cc._LogInfos.Sprite_addChild_5):($zOrder$$=null==$zOrder$$?$child$$.zIndex:$zOrder$$,$tag$$=null==$tag$$?$child$$.tag:$tag$$,cc.Node.prototype.addChild.call(this,
$child$$,$zOrder$$,$tag$$),this.appendChild($child$$),this.setNodeDirty()):cc.log(cc._LogInfos.Sprite_addChild_4)},removeAllChildren:null,_removeAllChildrenForCanvas:function($cleanup$$){var $locDescendants$$=this._descendants;if($locDescendants$$&&0<$locDescendants$$.length)for(var $i$$=0,$len$$=$locDescendants$$.length;$i$$<$len$$;$i$$++)$locDescendants$$[$i$$]&&($locDescendants$$[$i$$].batchNode=null);cc.Node.prototype.removeAllChildren.call(this,$cleanup$$);this._descendants.length=0},_removeAllChildrenForWebGL:function($cleanup$$){var $locDescendants$$=
this._descendants;if($locDescendants$$&&0<$locDescendants$$.length)for(var $i$$=0,$len$$=$locDescendants$$.length;$i$$<$len$$;$i$$++)$locDescendants$$[$i$$]&&($locDescendants$$[$i$$].batchNode=null);cc.Node.prototype.removeAllChildren.call(this,$cleanup$$);this._descendants.length=0;this.textureAtlas.removeAllQuads()},sortAllChildren:null,_sortAllChildrenForCanvas:function(){if(this._reorderChildDirty){var $i$$,$j$$=0,$locChildren$$=this._children,$length$$=$locChildren$$.length,$tempChild$$;for($i$$=
1;$i$$<$length$$;$i$$++){var $tempItem$$=$locChildren$$[$i$$],$j$$=$i$$-1;for($tempChild$$=$locChildren$$[$j$$];0<=$j$$&&($tempItem$$._localZOrder<$tempChild$$._localZOrder||$tempItem$$._localZOrder==$tempChild$$._localZOrder&&$tempItem$$.arrivalOrder<$tempChild$$.arrivalOrder);)$locChildren$$[$j$$+1]=$tempChild$$,--$j$$,$tempChild$$=$locChildren$$[$j$$];$locChildren$$[$j$$+1]=$tempItem$$}0<$locChildren$$.length&&this._arrayMakeObjectsPerformSelector($locChildren$$,cc.Node._StateCallbackType.sortAllChildren);
this._reorderChildDirty=!1}},_sortAllChildrenForWebGL:function(){if(this._reorderChildDirty){var $childrenArr$$=this._children,$i$$,$index$$85_j$$=0,$length$$=$childrenArr$$.length,$tempChild$$;for($i$$=1;$i$$<$length$$;$i$$++){var $tempItem$$=$childrenArr$$[$i$$],$index$$85_j$$=$i$$-1;for($tempChild$$=$childrenArr$$[$index$$85_j$$];0<=$index$$85_j$$&&($tempItem$$._localZOrder<$tempChild$$._localZOrder||$tempItem$$._localZOrder==$tempChild$$._localZOrder&&$tempItem$$.arrivalOrder<$tempChild$$.arrivalOrder);)$childrenArr$$[$index$$85_j$$+
1]=$tempChild$$,--$index$$85_j$$,$tempChild$$=$childrenArr$$[$index$$85_j$$];$childrenArr$$[$index$$85_j$$+1]=$tempItem$$}if(0<$childrenArr$$.length)for(this._arrayMakeObjectsPerformSelector($childrenArr$$,cc.Node._StateCallbackType.sortAllChildren),$i$$=$index$$85_j$$=0;$i$$<$childrenArr$$.length;$i$$++)$index$$85_j$$=this._updateAtlasIndex($childrenArr$$[$i$$],$index$$85_j$$);this._reorderChildDirty=!1}},draw:null,_drawForWebGL:function(){0!==this.textureAtlas.totalQuads&&(this._shaderProgram.use(),
this._shaderProgram.setUniformForModelViewAndProjectionMatrixWithMat4(),this._arrayMakeObjectsPerformSelector(this._children,cc.Node._StateCallbackType.updateTransform),cc.glBlendFunc(this._blendFunc.src,this._blendFunc.dst),this.textureAtlas.drawQuads())}});_p=cc.SpriteBatchNode.prototype;
cc._renderType===cc._RENDER_TYPE_WEBGL?(_p.ctor=_p._ctorForWebGL,_p.updateQuadFromSprite=_p._updateQuadFromSpriteForWebGL,_p.insertQuadFromSprite=_p._insertQuadFromSpriteForWebGL,_p.initWithTexture=_p._initWithTextureForWebGL,_p.appendChild=_p._appendChildForWebGL,_p.removeSpriteFromAtlas=_p._removeSpriteFromAtlasForWebGL,_p.getTexture=_p._getTextureForWebGL,_p.setTexture=_p._setTextureForWebGL,_p.visit=_p._visitForWebGL,_p.addChild=_p._addChildForWebGL,_p.removeAllChildren=_p._removeAllChildrenForWebGL,
_p.sortAllChildren=_p._sortAllChildrenForWebGL,_p.draw=_p._drawForWebGL):(_p.ctor=_p._ctorForCanvas,_p.updateQuadFromSprite=_p._updateQuadFromSpriteForCanvas,_p.insertQuadFromSprite=_p._insertQuadFromSpriteForCanvas,_p.initWithTexture=_p._initWithTextureForCanvas,_p.appendChild=_p._appendChildForCanvas,_p.removeSpriteFromAtlas=_p._removeSpriteFromAtlasForCanvas,_p.getTexture=_p._getTextureForCanvas,_p.setTexture=_p._setTextureForCanvas,_p.visit=_p._visitForCanvas,_p.removeAllChildren=_p._removeAllChildrenForCanvas,
_p.addChild=_p._addChildForCanvas,_p.sortAllChildren=_p._sortAllChildrenForCanvas,_p.draw=cc.Node.prototype.draw);cc.defineGetterSetter(_p,"texture",_p.getTexture,_p.setTexture);_p.descendants;cc.defineGetterSetter(_p,"descendants",_p.getDescendants);cc.SpriteBatchNode.create=function $cc$SpriteBatchNode$create$($fileImage$$,$capacity$$){return new cc.SpriteBatchNode($fileImage$$,$capacity$$)};cc.SpriteBatchNode.createWithTexture=cc.SpriteBatchNode.create;
cc.LabelAtlas=cc.AtlasNode.extend({_string:null,_mapStartChar:null,_textureLoaded:!1,_className:"LabelAtlas",ctor:function($strText$$,$charMapFile$$,$itemWidth$$,$itemHeight$$,$startCharMap$$){cc.AtlasNode.prototype.ctor.call(this);this._cascadeColorEnabled=this._cascadeOpacityEnabled=!0;$charMapFile$$&&cc.LabelAtlas.prototype.initWithString.call(this,$strText$$,$charMapFile$$,$itemWidth$$,$itemHeight$$,$startCharMap$$)},textureLoaded:function(){return this._textureLoaded},addLoadedEventListener:function($callback$$,
$target$$){this.addEventListener("load",$callback$$,$target$$)},initWithString:function($strText$$,$charMapFile$$4_locLoaded$$,$dict$$5_itemWidth$$,$itemHeight$$4_locScaleFactor$$,$startCharMap$$){var $label$$=$strText$$+"",$width$$,$height$$;if(void 0===$dict$$5_itemWidth$$){$dict$$5_itemWidth$$=cc.loader.getRes($charMapFile$$4_locLoaded$$);if(1!==parseInt($dict$$5_itemWidth$$.version,10))return cc.log("cc.LabelAtlas.initWithString(): Unsupported version. Upgrade cocos2d version"),!1;$charMapFile$$4_locLoaded$$=
cc.path.changeBasename($charMapFile$$4_locLoaded$$,$dict$$5_itemWidth$$.textureFilename);$itemHeight$$4_locScaleFactor$$=cc.contentScaleFactor();$width$$=parseInt($dict$$5_itemWidth$$.itemWidth,10)/$itemHeight$$4_locScaleFactor$$;$height$$=parseInt($dict$$5_itemWidth$$.itemHeight,10)/$itemHeight$$4_locScaleFactor$$;$dict$$5_itemWidth$$=String.fromCharCode(parseInt($dict$$5_itemWidth$$.firstChar,10))}else $width$$=$dict$$5_itemWidth$$||0,$height$$=$itemHeight$$4_locScaleFactor$$||0,$dict$$5_itemWidth$$=
$startCharMap$$||" ";var $texture$$=null,$texture$$=$charMapFile$$4_locLoaded$$ instanceof cc.Texture2D?$charMapFile$$4_locLoaded$$:cc.textureCache.addImage($charMapFile$$4_locLoaded$$);(this._textureLoaded=$charMapFile$$4_locLoaded$$=$texture$$.isLoaded())||$texture$$.addEventListener("load",function($sender$$){this.initWithTexture($texture$$,$width$$,$height$$,$label$$.length);this.string=$label$$;this.dispatchEvent("load")},this);return this.initWithTexture($texture$$,$width$$,$height$$,$label$$.length)?
(this._mapStartChar=$dict$$5_itemWidth$$,this.string=$label$$,!0):!1},setColor:function($color3$$){cc.AtlasNode.prototype.setColor.call(this,$color3$$);this.updateAtlasValues()},getString:function(){return this._string},draw:function($ctx$$62_s$$22_vertices$$){cc.AtlasNode.prototype.draw.call(this,$ctx$$62_s$$22_vertices$$);cc.LABELATLAS_DEBUG_DRAW&&($ctx$$62_s$$22_vertices$$=this.size,$ctx$$62_s$$22_vertices$$=[cc.p(0,0),cc.p($ctx$$62_s$$22_vertices$$.width,0),cc.p($ctx$$62_s$$22_vertices$$.width,
$ctx$$62_s$$22_vertices$$.height),cc.p(0,$ctx$$62_s$$22_vertices$$.height)],cc._drawingUtil.drawPoly($ctx$$62_s$$22_vertices$$,4,!0))},_addChildForCanvas:function($child$$,$zOrder$$,$tag$$){$child$$._lateChild=!0;cc.Node.prototype.addChild.call(this,$child$$,$zOrder$$,$tag$$)},updateAtlasValues:null,_updateAtlasValuesForCanvas:function(){for(var $locString$$=this._string||"",$n$$=$locString$$.length,$texture$$=this.texture,$locItemWidth$$=this._itemWidth,$locItemHeight$$=this._itemHeight,$i$$=0;$i$$<
$n$$;$i$$++){var $a$$38_c$$20_col$$=$locString$$.charCodeAt($i$$)-this._mapStartChar.charCodeAt(0),$rect$$48_row$$=parseInt($a$$38_c$$20_col$$%this._itemsPerRow,10),$a$$38_c$$20_col$$=parseInt($a$$38_c$$20_col$$/this._itemsPerRow,10),$rect$$48_row$$=cc.rect($rect$$48_row$$*$locItemWidth$$,$a$$38_c$$20_col$$*$locItemHeight$$,$locItemWidth$$,$locItemHeight$$),$a$$38_c$$20_col$$=$locString$$.charCodeAt($i$$),$fontChar$$=this.getChildByTag($i$$);$fontChar$$?32==$a$$38_c$$20_col$$?($fontChar$$.init(),
$fontChar$$.setTextureRect(cc.rect(0,0,10,10),!1,cc.size(0,0))):($fontChar$$.initWithTexture($texture$$,$rect$$48_row$$),$fontChar$$.visible=!0):($fontChar$$=new cc.Sprite,32==$a$$38_c$$20_col$$?($fontChar$$.init(),$fontChar$$.setTextureRect(cc.rect(0,0,10,10),!1,cc.size(0,0))):$fontChar$$.initWithTexture($texture$$,$rect$$48_row$$),cc.Node.prototype.addChild.call(this,$fontChar$$,0,$i$$));$fontChar$$.setPosition($i$$*$locItemWidth$$+$locItemWidth$$/2,$locItemHeight$$/2)}},_updateAtlasValuesForWebGL:function(){var $locString$$=
this._string,$n$$=$locString$$.length,$locTextureAtlas$$=this.textureAtlas,$texture$$=$locTextureAtlas$$.texture,$textureWide$$=$texture$$.pixelsWidth,$texture$$=$texture$$.pixelsHeight,$itemWidthInPixels$$=this._itemWidth,$itemHeightInPixels$$=this._itemHeight;this._ignoreContentScaleFactor||($itemWidthInPixels$$=this._itemWidth*cc.contentScaleFactor(),$itemHeightInPixels$$=this._itemHeight*cc.contentScaleFactor());$n$$>$locTextureAtlas$$.getCapacity()&&cc.log("cc.LabelAtlas._updateAtlasValues(): Invalid String length");
for(var $quads$$=$locTextureAtlas$$.quads,$curColor$$5_locDisplayedColor$$=this._displayedColor,$curColor$$5_locDisplayedColor$$={r:$curColor$$5_locDisplayedColor$$.r,g:$curColor$$5_locDisplayedColor$$.g,b:$curColor$$5_locDisplayedColor$$.b,a:this._displayedOpacity},$locItemWidth$$=this._itemWidth,$i$$=0;$i$$<$n$$;$i$$++){var $a$$39_right$$=$locString$$.charCodeAt($i$$)-this._mapStartChar.charCodeAt(0),$left$$8_row$$=$a$$39_right$$%this._itemsPerRow,$col$$3_top$$=0|$a$$39_right$$/this._itemsPerRow,
$bottom$$;cc.FIX_ARTIFACTS_BY_STRECHING_TEXEL?($left$$8_row$$=(2*$left$$8_row$$*$itemWidthInPixels$$+1)/(2*$textureWide$$),$a$$39_right$$=$left$$8_row$$+(2*$itemWidthInPixels$$-2)/(2*$textureWide$$),$col$$3_top$$=(2*$col$$3_top$$*$itemHeightInPixels$$+1)/(2*$texture$$),$bottom$$=$col$$3_top$$+(2*$itemHeightInPixels$$-2)/(2*$texture$$)):($left$$8_row$$=$left$$8_row$$*$itemWidthInPixels$$/$textureWide$$,$a$$39_right$$=$left$$8_row$$+$itemWidthInPixels$$/$textureWide$$,$col$$3_top$$=$col$$3_top$$*$itemHeightInPixels$$/
$texture$$,$bottom$$=$col$$3_top$$+$itemHeightInPixels$$/$texture$$);var $locQuadBR_quad$$=$quads$$[$i$$],$locQuadTL$$=$locQuadBR_quad$$.tl,$locQuadTR$$=$locQuadBR_quad$$.tr,$locQuadBL$$=$locQuadBR_quad$$.bl,$locQuadBR_quad$$=$locQuadBR_quad$$.br;$locQuadTL$$.texCoords.u=$left$$8_row$$;$locQuadTL$$.texCoords.v=$col$$3_top$$;$locQuadTR$$.texCoords.u=$a$$39_right$$;$locQuadTR$$.texCoords.v=$col$$3_top$$;$locQuadBL$$.texCoords.u=$left$$8_row$$;$locQuadBL$$.texCoords.v=$bottom$$;$locQuadBR_quad$$.texCoords.u=
$a$$39_right$$;$locQuadBR_quad$$.texCoords.v=$bottom$$;$locQuadBL$$.vertices.x=$i$$*$locItemWidth$$;$locQuadBL$$.vertices.y=0;$locQuadBL$$.vertices.z=0;$locQuadBR_quad$$.vertices.x=$i$$*$locItemWidth$$+$locItemWidth$$;$locQuadBR_quad$$.vertices.y=0;$locQuadBR_quad$$.vertices.z=0;$locQuadTL$$.vertices.x=$i$$*$locItemWidth$$;$locQuadTL$$.vertices.y=this._itemHeight;$locQuadTL$$.vertices.z=0;$locQuadTR$$.vertices.x=$i$$*$locItemWidth$$+$locItemWidth$$;$locQuadTR$$.vertices.y=this._itemHeight;$locQuadTR$$.vertices.z=
0;$locQuadTL$$.colors=$curColor$$5_locDisplayedColor$$;$locQuadTR$$.colors=$curColor$$5_locDisplayedColor$$;$locQuadBL$$.colors=$curColor$$5_locDisplayedColor$$;$locQuadBR_quad$$.colors=$curColor$$5_locDisplayedColor$$}0<$n$$&&($locTextureAtlas$$.dirty=!0,$locString$$=$locTextureAtlas$$.totalQuads,$n$$>$locString$$&&$locTextureAtlas$$.increaseTotalQuadsWith($n$$-$locString$$))},setString:null,_setStringForCanvas:function($label$$17_locChildren$$){$label$$17_locChildren$$=String($label$$17_locChildren$$);
var $len$$=$label$$17_locChildren$$.length;this._string=$label$$17_locChildren$$;this.width=$len$$*this._itemWidth;this.height=this._itemHeight;if(this._children){$label$$17_locChildren$$=this._children;for(var $len$$=$label$$17_locChildren$$.length,$i$$=0;$i$$<$len$$;$i$$++){var $node$$=$label$$17_locChildren$$[$i$$];$node$$&&!$node$$._lateChild&&($node$$.visible=!1)}}this.updateAtlasValues();this.quadsToDraw=$len$$},_setStringForWebGL:function($label$$){$label$$=String($label$$);var $len$$=$label$$.length;
$len$$>this.textureAtlas.totalQuads&&this.textureAtlas.resizeCapacity($len$$);this._string=$label$$;this.width=$len$$*this._itemWidth;this.height=this._itemHeight;this.updateAtlasValues();this.quadsToDraw=$len$$},setOpacity:null,_setOpacityForWebGL:function($opacity$$){this._opacity!==$opacity$$&&cc.AtlasNode.prototype.setOpacity.call(this,$opacity$$)}});_p=cc.LabelAtlas.prototype;cc.EventHelper.prototype.apply(_p);
cc._renderType===cc._RENDER_TYPE_WEBGL?(_p.updateAtlasValues=_p._updateAtlasValuesForWebGL,_p.setString=_p._setStringForWebGL,_p.setOpacity=_p._setOpacityForWebGL):(_p.updateAtlasValues=_p._updateAtlasValuesForCanvas,_p.setString=_p._setStringForCanvas,_p.setOpacity=_p._setOpacityForCanvas,_p.addChild=_p._addChildForCanvas);cc.defineGetterSetter(_p,"opacity",_p.getOpacity,_p.setOpacity);cc.defineGetterSetter(_p,"color",_p.getColor,_p.setColor);_p.string;
cc.defineGetterSetter(_p,"string",_p.getString,_p.setString);cc.LabelAtlas.create=function $cc$LabelAtlas$create$($strText$$,$charMapFile$$,$itemWidth$$,$itemHeight$$,$startCharMap$$){return new cc.LabelAtlas($strText$$,$charMapFile$$,$itemWidth$$,$itemHeight$$,$startCharMap$$)};cc.LABEL_AUTOMATIC_WIDTH=-1;
cc.LabelBMFont=cc.SpriteBatchNode.extend({_opacityModifyRGB:!1,_string:"",_config:null,_fntFile:"",_initialString:"",_alignment:cc.TEXT_ALIGNMENT_CENTER,_width:-1,_lineBreakWithoutSpaces:!1,_imageOffset:null,_reusedChar:null,_displayedOpacity:255,_realOpacity:255,_displayedColor:null,_realColor:null,_cascadeColorEnabled:!0,_cascadeOpacityEnabled:!0,_textureLoaded:!1,_className:"LabelBMFont",_setString:function($newString$$,$needUpdateLabel$$){$needUpdateLabel$$?this._initialString=$newString$$:this._string=
$newString$$;var $locChildren$$=this._children;if($locChildren$$)for(var $i$$=0;$i$$<$locChildren$$.length;$i$$++){var $selNode$$=$locChildren$$[$i$$];$selNode$$&&$selNode$$.setVisible(!1)}this._textureLoaded&&(this.createFontChars(),$needUpdateLabel$$&&this.updateLabel())},ctor:function($str$$,$fntFile$$,$width$$,$alignment$$,$imageOffset$$){cc.SpriteBatchNode.prototype.ctor.call(this);this._imageOffset=cc.p(0,0);this._displayedColor=cc.color(255,255,255,255);this._realColor=cc.color(255,255,255,
255);this._reusedChar=[];this.initWithString($str$$,$fntFile$$,$width$$,$alignment$$,$imageOffset$$)},textureLoaded:function(){return this._textureLoaded},addLoadedEventListener:function($callback$$,$target$$){this.addEventListener("load",$callback$$,$target$$)},draw:function($ctx$$63_size$$28_vertices$$){cc.SpriteBatchNode.prototype.draw.call(this,$ctx$$63_size$$28_vertices$$);if(cc.LABELBMFONT_DEBUG_DRAW){$ctx$$63_size$$28_vertices$$=this.getContentSize();var $pos$$=cc.p(0|-this._anchorPointInPoints.x,
0|-this._anchorPointInPoints.y);$ctx$$63_size$$28_vertices$$=[cc.p($pos$$.x,$pos$$.y),cc.p($pos$$.x+$ctx$$63_size$$28_vertices$$.width,$pos$$.y),cc.p($pos$$.x+$ctx$$63_size$$28_vertices$$.width,$pos$$.y+$ctx$$63_size$$28_vertices$$.height),cc.p($pos$$.x,$pos$$.y+$ctx$$63_size$$28_vertices$$.height)];cc._drawingUtil.setDrawColor(0,255,0,255);cc._drawingUtil.drawPoly($ctx$$63_size$$28_vertices$$,4,!0)}},setColor:function($color$$26_parentColor$$){var $locDisplayed_locParent$$=this._displayedColor,$locRealColor$$=
this._realColor;if($locRealColor$$.r!=$color$$26_parentColor$$.r||$locRealColor$$.g!=$color$$26_parentColor$$.g||$locRealColor$$.b!=$color$$26_parentColor$$.b||$locRealColor$$.a!=$color$$26_parentColor$$.a)$locDisplayed_locParent$$.r=$locRealColor$$.r=$color$$26_parentColor$$.r,$locDisplayed_locParent$$.g=$locRealColor$$.g=$color$$26_parentColor$$.g,$locDisplayed_locParent$$.b=$locRealColor$$.b=$color$$26_parentColor$$.b,this._textureLoaded&&this._cascadeColorEnabled&&($color$$26_parentColor$$=cc.color.WHITE,
($locDisplayed_locParent$$=this._parent)&&$locDisplayed_locParent$$.cascadeColor&&($color$$26_parentColor$$=$locDisplayed_locParent$$.getDisplayedColor()),this.updateDisplayedColor($color$$26_parentColor$$))},isOpacityModifyRGB:function(){return this._opacityModifyRGB},setOpacityModifyRGB:function($locChildren$$){this._opacityModifyRGB=$locChildren$$;if($locChildren$$=this._children)for(var $i$$=0;$i$$<$locChildren$$.length;$i$$++){var $node$$=$locChildren$$[$i$$];$node$$&&($node$$.opacityModifyRGB=
this._opacityModifyRGB)}},getOpacity:function(){return this._realOpacity},getDisplayedOpacity:function(){return this._displayedOpacity},setOpacity:function($opacity$$){this._displayedOpacity=this._realOpacity=$opacity$$;if(this._cascadeOpacityEnabled){var $parentOpacity$$=255,$locParent$$=this._parent;$locParent$$&&$locParent$$.cascadeOpacity&&($parentOpacity$$=$locParent$$.getDisplayedOpacity());this.updateDisplayedOpacity($parentOpacity$$)}this._displayedColor.a=this._realColor.a=$opacity$$},updateDisplayedOpacity:function($locChildren$$28_parentOpacity$$){this._displayedOpacity=
this._realOpacity*$locChildren$$28_parentOpacity$$/255;$locChildren$$28_parentOpacity$$=this._children;for(var $i$$=0;$i$$<$locChildren$$28_parentOpacity$$.length;$i$$++){var $locChild$$=$locChildren$$28_parentOpacity$$[$i$$];cc._renderType==cc._RENDER_TYPE_WEBGL?$locChild$$.updateDisplayedOpacity(this._displayedOpacity):(cc.Node.prototype.updateDisplayedOpacity.call($locChild$$,this._displayedOpacity),$locChild$$.setNodeDirty())}this._changeTextureColor()},isCascadeOpacityEnabled:function(){return!1},
setCascadeOpacityEnabled:function($cascadeOpacityEnabled$$){this._cascadeOpacityEnabled=$cascadeOpacityEnabled$$},getColor:function(){var $locRealColor$$=this._realColor;return cc.color($locRealColor$$.r,$locRealColor$$.g,$locRealColor$$.b,$locRealColor$$.a)},getDisplayedColor:function(){var $dc$$=this._displayedColor;return cc.color($dc$$.r,$dc$$.g,$dc$$.b,$dc$$.a)},updateDisplayedColor:function($locChildren$$29_parentColor$$){var $i$$209_locDispColor$$=this._displayedColor,$locChild$$3_locRealColor$$=
this._realColor;$i$$209_locDispColor$$.r=$locChild$$3_locRealColor$$.r*$locChildren$$29_parentColor$$.r/255;$i$$209_locDispColor$$.g=$locChild$$3_locRealColor$$.g*$locChildren$$29_parentColor$$.g/255;$i$$209_locDispColor$$.b=$locChild$$3_locRealColor$$.b*$locChildren$$29_parentColor$$.b/255;$locChildren$$29_parentColor$$=this._children;for($i$$209_locDispColor$$=0;$i$$209_locDispColor$$<$locChildren$$29_parentColor$$.length;$i$$209_locDispColor$$++)$locChild$$3_locRealColor$$=$locChildren$$29_parentColor$$[$i$$209_locDispColor$$],
cc._renderType==cc._RENDER_TYPE_WEBGL?$locChild$$3_locRealColor$$.updateDisplayedColor(this._displayedColor):(cc.Node.prototype.updateDisplayedColor.call($locChild$$3_locRealColor$$,this._displayedColor),$locChild$$3_locRealColor$$.setNodeDirty());this._changeTextureColor()},_changeTextureColor:function(){if(cc._renderType!=cc._RENDER_TYPE_WEBGL){var $locTexture$$=this.getTexture();if($locTexture$$&&0<$locTexture$$.getContentSize().width){var $element$$=this._originalTexture.getHtmlElementObj();if($element$$){var $locElement$$=
$locTexture$$.getHtmlElementObj(),$textureRect$$=cc.rect(0,0,$element$$.width,$element$$.height);$locElement$$ instanceof HTMLCanvasElement&&!this._rectRotated?cc.generateTintImageWithMultiply($element$$,this._displayedColor,$textureRect$$,$locElement$$):($locElement$$=cc.generateTintImageWithMultiply($element$$,this._displayedColor,$textureRect$$),$locTexture$$=new cc.Texture2D,$locTexture$$.initWithElement($locElement$$),$locTexture$$.handleLoadedTexture());this.setTexture($locTexture$$)}}}},isCascadeColorEnabled:function(){return!1},
setCascadeColorEnabled:function($cascadeColorEnabled$$){this._cascadeColorEnabled=$cascadeColorEnabled$$},init:function(){return this.initWithString(null,null,null,null,null)},initWithString:function($str$$,$fntFile$$1_texture$$,$locTexture$$11_width$$,$alignment$$,$imageOffset$$){$str$$=$str$$||"";this._config&&cc.log("cc.LabelBMFont.initWithString(): re-init is no longer supported");if($fntFile$$1_texture$$){var $image$$=cc.loader.getRes($fntFile$$1_texture$$);if(!$image$$)return cc.log("cc.LabelBMFont.initWithString(): Impossible to create font. Please check file"),
!1;this._config=$image$$;this._fntFile=$fntFile$$1_texture$$;$fntFile$$1_texture$$=cc.textureCache.addImage($image$$.atlasName);(this._textureLoaded=$image$$=$fntFile$$1_texture$$.isLoaded())||$fntFile$$1_texture$$.addEventListener("load",function($sender$$){this._textureLoaded=!0;this.initWithTexture($sender$$,this._initialString.length);this.setString(this._initialString,!0);this.dispatchEvent("load")},this)}else $fntFile$$1_texture$$=new cc.Texture2D,$image$$=new Image,$fntFile$$1_texture$$.initWithElement($image$$),
this._textureLoaded=!1;return this.initWithTexture($fntFile$$1_texture$$,$str$$.length)?(this._alignment=$alignment$$||cc.TEXT_ALIGNMENT_LEFT,this._imageOffset=$imageOffset$$||cc.p(0,0),this._width=null==$locTexture$$11_width$$?-1:$locTexture$$11_width$$,this._displayedOpacity=this._realOpacity=255,this._displayedColor=cc.color(255,255,255,255),this._realColor=cc.color(255,255,255,255),this._cascadeColorEnabled=this._cascadeOpacityEnabled=!0,this._contentSize.width=0,this._contentSize.height=0,this.setAnchorPoint(.5,
.5),cc._renderType===cc._RENDER_TYPE_WEBGL&&($locTexture$$11_width$$=this.textureAtlas.texture,this._opacityModifyRGB=$locTexture$$11_width$$.hasPremultipliedAlpha(),$alignment$$=this._reusedChar=new cc.Sprite,$alignment$$.initWithTexture($locTexture$$11_width$$,cc.rect(0,0,0,0),!1),$alignment$$.batchNode=this),this.setString($str$$,!0),!0):!1},createFontChars:function(){var $locContextType$$=cc._renderType,$locTexture$$=$locContextType$$===cc._RENDER_TYPE_CANVAS?this.texture:this.textureAtlas.texture,
$nextFontPositionX$$=0,$tmpSize$$=cc.size(0,0),$longestLine$$=0,$nextFontPositionY_quantityOfLines$$=1,$locStr$$=this._string,$stringLen$$=$locStr$$?$locStr$$.length:0;if(0!==$stringLen$$){var $i$$,$locCfg$$=this._config,$locKerningDict$$=$locCfg$$.kerningDict,$key$$=$locCfg$$.commonHeight,$locFontDict$$=$locCfg$$.fontDefDictionary;for($i$$=0;$i$$<$stringLen$$-1;$i$$++)10==$locStr$$.charCodeAt($i$$)&&$nextFontPositionY_quantityOfLines$$++;var $totalHeight$$=$key$$*$nextFontPositionY_quantityOfLines$$,
$nextFontPositionY_quantityOfLines$$=-($key$$-$key$$*$nextFontPositionY_quantityOfLines$$),$fontChar$$1_prev$$=-1;for($i$$=0;$i$$<$stringLen$$;$i$$++)if($key$$=$locStr$$.charCodeAt($i$$),0!=$key$$)if(10===$key$$)$nextFontPositionX$$=0,$nextFontPositionY_quantityOfLines$$-=$locCfg$$.commonHeight;else{var $kerningAmount$$=$locKerningDict$$[$fontChar$$1_prev$$<<16|$key$$&65535]||0,$fontDef$$=$locFontDict$$[$key$$];if($fontDef$$){var $fontPos_rect$$=cc.rect($fontDef$$.rect.x,$fontDef$$.rect.y,$fontDef$$.rect.width,
$fontDef$$.rect.height),$fontPos_rect$$=cc.rectPixelsToPoints($fontPos_rect$$);$fontPos_rect$$.x+=this._imageOffset.x;$fontPos_rect$$.y+=this._imageOffset.y;($fontChar$$1_prev$$=this.getChildByTag($i$$))?32===$key$$&&$locContextType$$===cc._RENDER_TYPE_CANVAS?$fontChar$$1_prev$$.setTextureRect($fontPos_rect$$,!1,cc.size(0,0)):($fontChar$$1_prev$$.setTextureRect($fontPos_rect$$,!1),$fontChar$$1_prev$$.visible=!0):($fontChar$$1_prev$$=new cc.Sprite,32===$key$$&&$locContextType$$===cc._RENDER_TYPE_CANVAS&&
($fontPos_rect$$=cc.rect(0,0,0,0)),$fontChar$$1_prev$$.initWithTexture($locTexture$$,$fontPos_rect$$,!1),$fontChar$$1_prev$$._newTextureWhenChangeColor=!0,this.addChild($fontChar$$1_prev$$,0,$i$$));$fontChar$$1_prev$$.opacityModifyRGB=this._opacityModifyRGB;cc._renderType==cc._RENDER_TYPE_WEBGL?($fontChar$$1_prev$$.updateDisplayedColor(this._displayedColor),$fontChar$$1_prev$$.updateDisplayedOpacity(this._displayedOpacity)):(cc.Node.prototype.updateDisplayedColor.call($fontChar$$1_prev$$,this._displayedColor),
cc.Node.prototype.updateDisplayedOpacity.call($fontChar$$1_prev$$,this._displayedOpacity),$fontChar$$1_prev$$.setNodeDirty());$fontPos_rect$$=cc.p($nextFontPositionX$$+$fontDef$$.xOffset+.5*$fontDef$$.rect.width+$kerningAmount$$,$nextFontPositionY_quantityOfLines$$+($locCfg$$.commonHeight-$fontDef$$.yOffset)-.5*$fontPos_rect$$.height*cc.contentScaleFactor());$fontChar$$1_prev$$.setPosition(cc.pointPixelsToPoints($fontPos_rect$$));$nextFontPositionX$$+=$fontDef$$.xAdvance+$kerningAmount$$;$fontChar$$1_prev$$=
$key$$;$longestLine$$<$nextFontPositionX$$&&($longestLine$$=$nextFontPositionX$$)}else cc.log("cocos2d: LabelBMFont: character not found "+$locStr$$[$i$$])}$tmpSize$$.width=$fontDef$$&&$fontDef$$.xAdvance<$fontDef$$.rect.width?$longestLine$$-$fontDef$$.xAdvance+$fontDef$$.rect.width:$longestLine$$;$tmpSize$$.height=$totalHeight$$;this.setContentSize(cc.sizePixelsToPoints($tmpSize$$))}},updateString:function($fromUpdate$$){var $locChildren$$=this._children;if($locChildren$$)for(var $i$$=0,$li$$=$locChildren$$.length;$i$$<
$li$$;$i$$++){var $node$$=$locChildren$$[$i$$];$node$$&&($node$$.visible=!1)}this._config&&this.createFontChars();$fromUpdate$$||this.updateLabel()},getString:function(){return this._initialString},setString:function($newString$$,$needUpdateLabel$$){$newString$$=String($newString$$);null==$needUpdateLabel$$&&($needUpdateLabel$$=!0);null!=$newString$$&&cc.isString($newString$$)||($newString$$+="");this._initialString=$newString$$;this._setString($newString$$,$needUpdateLabel$$)},_setStringForSetter:function($newString$$){this.setString($newString$$,
!1)},setCString:function($label$$){this.setString($label$$,!0)},updateLabel:function(){this.string=this._initialString;if(0<this._width){for(var $stringLength_strlen$$=this._string.length,$lineNumber_multiline_string$$=[],$last_line_last_word$$=[],$ctr_line$$=1,$i$$=0,$line_length_start_line$$=!1,$shift_start_word$$=!1,$startOfLine$$=-1,$startOfWord$$=-1,$skip$$=0,$characterSprite_index$$,$j$$14_lastChar_len$$58_lineWidth$$=0,$lj$$=this._children.length;$j$$14_lastChar_len$$58_lineWidth$$<$lj$$;$j$$14_lastChar_len$$58_lineWidth$$++){for(var $justSkipped$$=
0;!($characterSprite_index$$=this.getChildByTag($j$$14_lastChar_len$$58_lineWidth$$+$skip$$+$justSkipped$$));)$justSkipped$$++;$skip$$+=$justSkipped$$;if($i$$>=$stringLength_strlen$$)break;var $character$$=this._string[$i$$];$shift_start_word$$||($startOfWord$$=this._getLetterPosXLeft($characterSprite_index$$),$shift_start_word$$=!0);$line_length_start_line$$||($startOfLine$$=$startOfWord$$,$line_length_start_line$$=!0);if(10==$character$$.charCodeAt(0)){$last_line_last_word$$.push("\n");$lineNumber_multiline_string$$=
$lineNumber_multiline_string$$.concat($last_line_last_word$$);$last_line_last_word$$.length=0;$line_length_start_line$$=$shift_start_word$$=!1;$startOfLine$$=$startOfWord$$=-1;$j$$14_lastChar_len$$58_lineWidth$$--;$skip$$-=$justSkipped$$;$ctr_line$$++;if($i$$>=$stringLength_strlen$$)break;$startOfWord$$||($startOfWord$$=this._getLetterPosXLeft($characterSprite_index$$),$shift_start_word$$=!0);$startOfLine$$||($startOfLine$$=$startOfWord$$,$line_length_start_line$$=!0);$i$$++}else if(this._isspace_unicode($character$$))$last_line_last_word$$.push($character$$),
$lineNumber_multiline_string$$=$lineNumber_multiline_string$$.concat($last_line_last_word$$),$last_line_last_word$$.length=0,$shift_start_word$$=!1,$startOfWord$$=-1,$i$$++;else if(this._getLetterPosXRight($characterSprite_index$$)-$startOfLine$$>this._width)if(this._lineBreakWithoutSpaces){this._utf8_trim_ws($last_line_last_word$$);$last_line_last_word$$.push("\n");$lineNumber_multiline_string$$=$lineNumber_multiline_string$$.concat($last_line_last_word$$);$last_line_last_word$$.length=0;$line_length_start_line$$=
$shift_start_word$$=!1;$startOfLine$$=$startOfWord$$=-1;$ctr_line$$++;if($i$$>=$stringLength_strlen$$)break;$startOfWord$$||($startOfWord$$=this._getLetterPosXLeft($characterSprite_index$$),$shift_start_word$$=!0);$startOfLine$$||($startOfLine$$=$startOfWord$$,$line_length_start_line$$=!0);$j$$14_lastChar_len$$58_lineWidth$$--}else $last_line_last_word$$.push($character$$),-1!=$lineNumber_multiline_string$$.lastIndexOf(" ")?this._utf8_trim_ws($lineNumber_multiline_string$$):$lineNumber_multiline_string$$=
[],0<$lineNumber_multiline_string$$.length&&$lineNumber_multiline_string$$.push("\n"),$ctr_line$$++,$line_length_start_line$$=!1,$startOfLine$$=-1,$i$$++;else $last_line_last_word$$.push($character$$),$i$$++}$lineNumber_multiline_string$$=$lineNumber_multiline_string$$.concat($last_line_last_word$$);$j$$14_lastChar_len$$58_lineWidth$$=$lineNumber_multiline_string$$.length;$characterSprite_index$$="";for($i$$=0;$i$$<$j$$14_lastChar_len$$58_lineWidth$$;++$i$$)$characterSprite_index$$+=$lineNumber_multiline_string$$[$i$$];
$characterSprite_index$$+=String.fromCharCode(0);this._setString($characterSprite_index$$,!1)}if(this._alignment!=cc.TEXT_ALIGNMENT_LEFT)for($lineNumber_multiline_string$$=$i$$=0,$stringLength_strlen$$=this._string.length,$last_line_last_word$$=[],$ctr_line$$=0;$ctr_line$$<$stringLength_strlen$$;$ctr_line$$++)if(10==this._string[$ctr_line$$].charCodeAt(0)||0==this._string[$ctr_line$$].charCodeAt(0))if($j$$14_lastChar_len$$58_lineWidth$$=0,$line_length_start_line$$=$last_line_last_word$$.length,0==
$line_length_start_line$$)$lineNumber_multiline_string$$++;else{if($characterSprite_index$$=$i$$+$line_length_start_line$$-1+$lineNumber_multiline_string$$,!(0>$characterSprite_index$$)&&($j$$14_lastChar_len$$58_lineWidth$$=this.getChildByTag($characterSprite_index$$),null!=$j$$14_lastChar_len$$58_lineWidth$$)){$j$$14_lastChar_len$$58_lineWidth$$=$j$$14_lastChar_len$$58_lineWidth$$.getPositionX()+$j$$14_lastChar_len$$58_lineWidth$$._getWidth()/2;$shift_start_word$$=0;switch(this._alignment){case cc.TEXT_ALIGNMENT_CENTER:$shift_start_word$$=
this.width/2-$j$$14_lastChar_len$$58_lineWidth$$/2;break;case cc.TEXT_ALIGNMENT_RIGHT:$shift_start_word$$=this.width-$j$$14_lastChar_len$$58_lineWidth$$}if(0!=$shift_start_word$$)for($j$$14_lastChar_len$$58_lineWidth$$=0;$j$$14_lastChar_len$$58_lineWidth$$<$line_length_start_line$$;$j$$14_lastChar_len$$58_lineWidth$$++)($characterSprite_index$$=$i$$+$j$$14_lastChar_len$$58_lineWidth$$+$lineNumber_multiline_string$$,0>$characterSprite_index$$||!($characterSprite_index$$=this.getChildByTag($characterSprite_index$$)))||
($characterSprite_index$$.x+=$shift_start_word$$);$i$$+=$line_length_start_line$$;$lineNumber_multiline_string$$++;$last_line_last_word$$.length=0}}else $last_line_last_word$$.push(this._string[$i$$])},setAlignment:function($alignment$$){this._alignment=$alignment$$;this.updateLabel()},_getAlignment:function(){return this._alignment},setBoundingWidth:function($width$$){this._width=$width$$;this.updateLabel()},_getBoundingWidth:function(){return this._width},setLineBreakWithoutSpace:function($breakWithoutSpace$$){this._lineBreakWithoutSpaces=
$breakWithoutSpace$$;this.updateLabel()},setScale:function($scale$$,$scaleY$$){cc.Node.prototype.setScale.call(this,$scale$$,$scaleY$$);this.updateLabel()},setScaleX:function($scaleX$$){cc.Node.prototype.setScaleX.call(this,$scaleX$$);this.updateLabel()},setScaleY:function($scaleY$$){cc.Node.prototype.setScaleY.call(this,$scaleY$$);this.updateLabel()},setFntFile:function($fntFile$$2_texture$$){if(null!=$fntFile$$2_texture$$&&$fntFile$$2_texture$$!=this._fntFile){var $locIsLoaded$$1_newConf$$=cc.loader.getRes($fntFile$$2_texture$$);
$locIsLoaded$$1_newConf$$?(this._fntFile=$fntFile$$2_texture$$,this._config=$locIsLoaded$$1_newConf$$,$fntFile$$2_texture$$=cc.textureCache.addImage($locIsLoaded$$1_newConf$$.atlasName),this._textureLoaded=$locIsLoaded$$1_newConf$$=$fntFile$$2_texture$$.isLoaded(),this.texture=$fntFile$$2_texture$$,cc._renderType===cc._RENDER_TYPE_CANVAS&&(this._originalTexture=this.texture),$locIsLoaded$$1_newConf$$?this.createFontChars():$fntFile$$2_texture$$.addEventListener("load",function($sender$$){this._textureLoaded=
!0;this.texture=$sender$$;this.createFontChars();this._changeTextureColor();this.updateLabel();this.dispatchEvent("load")},this)):cc.log("cc.LabelBMFont.setFntFile() : Impossible to create font. Please check file")}},getFntFile:function(){return this._fntFile},setAnchorPoint:function($point$$,$y$$){cc.Node.prototype.setAnchorPoint.call(this,$point$$,$y$$);this.updateLabel()},_setAnchor:function($p$$){cc.Node.prototype._setAnchor.call(this,$p$$);this.updateLabel()},_setAnchorX:function($x$$){cc.Node.prototype._setAnchorX.call(this,
$x$$);this.updateLabel()},_setAnchorY:function($y$$){cc.Node.prototype._setAnchorY.call(this,$y$$);this.updateLabel()},_atlasNameFromFntFile:function($fntFile$$){},_kerningAmountForFirst:function($first$$,$second$$){var $ret$$=0;if(this._configuration.kerningDictionary){var $element$$=this._configuration.kerningDictionary[($first$$<<16|$second$$&65535).toString()];$element$$&&($ret$$=$element$$.amount)}return $ret$$},_getLetterPosXLeft:function($sp$$){return $sp$$.getPositionX()*this._scaleX-$sp$$._getWidth()*
this._scaleX*$sp$$._getAnchorX()},_getLetterPosXRight:function($sp$$){return $sp$$.getPositionX()*this._scaleX+$sp$$._getWidth()*this._scaleX*$sp$$._getAnchorX()},_isspace_unicode:function($ch$$){$ch$$=$ch$$.charCodeAt(0);return 9<=$ch$$&&13>=$ch$$||32==$ch$$||133==$ch$$||160==$ch$$||5760==$ch$$||8192<=$ch$$&&8202>=$ch$$||8232==$ch$$||8233==$ch$$||8239==$ch$$||8287==$ch$$||12288==$ch$$},_utf8_trim_ws:function($str$$){var $last_index_len$$=$str$$.length;if(!(0>=$last_index_len$$)&&(--$last_index_len$$,
this._isspace_unicode($str$$[$last_index_len$$]))){for(var $i$$=$last_index_len$$-1;0<=$i$$;--$i$$)if(this._isspace_unicode($str$$[$i$$]))$last_index_len$$=$i$$;else break;this._utf8_trim_from($str$$,$last_index_len$$)}},_utf8_trim_from:function($str$$,$index$$){var $len$$=$str$$.length;$index$$>=$len$$||0>$index$$||$str$$.splice($index$$,$len$$)}});_p=cc.LabelBMFont.prototype;cc.EventHelper.prototype.apply(_p);
cc._renderType===cc._RENDER_TYPE_CANVAS&&(cc.sys._supportCanvasNewBlendModes||(_p._changeTextureColor=function $_p$_changeTextureColor$(){if(cc._renderType!=cc._RENDER_TYPE_WEBGL){var $locElement$$,$locTexture$$=this.getTexture();if($locTexture$$&&0<$locTexture$$.getContentSize().width&&($locElement$$=$locTexture$$.getHtmlElementObj())){var $cacheTextureForColor$$=cc.textureCache.getTextureColors(this._originalTexture.getHtmlElementObj());$cacheTextureForColor$$&&($locElement$$ instanceof HTMLCanvasElement&&
!this._rectRotated?cc.generateTintImage($locElement$$,$cacheTextureForColor$$,this._displayedColor,null,$locElement$$):($locElement$$=cc.generateTintImage($locElement$$,$cacheTextureForColor$$,this._displayedColor),$locTexture$$=new cc.Texture2D,$locTexture$$.initWithElement($locElement$$),$locTexture$$.handleLoadedTexture()),this.setTexture($locTexture$$))}}}),_p.setTexture=function $_p$setTexture$($texture$$){for(var $locChildren$$=this._children,$locDisplayedColor$$=this._displayedColor,$i$$=0;$i$$<
$locChildren$$.length;$i$$++){var $selChild$$=$locChildren$$[$i$$],$childDColor$$=$selChild$$._displayedColor;if(this._textureForCanvas==$selChild$$._texture||$childDColor$$.r===$locDisplayedColor$$.r&&$childDColor$$.g===$locDisplayedColor$$.g&&$childDColor$$.b===$locDisplayedColor$$.b)$selChild$$.texture=$texture$$}this._textureForCanvas=$texture$$});_p.string;cc.defineGetterSetter(_p,"string",_p.getString,_p._setStringForSetter);_p.boundingWidth;
cc.defineGetterSetter(_p,"boundingWidth",_p._getBoundingWidth,_p.setBoundingWidth);_p.textAlign;cc.defineGetterSetter(_p,"textAlign",_p._getAlignment,_p.setAlignment);cc.LabelBMFont.create=function $cc$LabelBMFont$create$($str$$,$fntFile$$,$width$$,$alignment$$,$imageOffset$$){return new cc.LabelBMFont($str$$,$fntFile$$,$width$$,$alignment$$,$imageOffset$$)};
cc._fntLoader={INFO_EXP:/info [^\n]*(\n|$)/gi,COMMON_EXP:/common [^\n]*(\n|$)/gi,PAGE_EXP:/page [^\n]*(\n|$)/gi,CHAR_EXP:/char [^\n]*(\n|$)/gi,KERNING_EXP:/kerning [^\n]*(\n|$)/gi,ITEM_EXP:/\w+=[^ \r\n]+/gi,INT_EXP:/^[\-]?\d+$/,_parseStrToObj:function $cc$_fntLoader$_parseStrToObj$($arr$$21_str$$){$arr$$21_str$$=$arr$$21_str$$.match(this.ITEM_EXP);var $obj$$={};if($arr$$21_str$$)for(var $i$$=0,$li$$=$arr$$21_str$$.length;$i$$<$li$$;$i$$++){var $tempStr$$2_value$$=$arr$$21_str$$[$i$$],$index$$=$tempStr$$2_value$$.indexOf("="),
$key$$=$tempStr$$2_value$$.substring(0,$index$$),$tempStr$$2_value$$=$tempStr$$2_value$$.substring($index$$+1);$tempStr$$2_value$$.match(this.INT_EXP)?$tempStr$$2_value$$=parseInt($tempStr$$2_value$$):'"'==$tempStr$$2_value$$[0]&&($tempStr$$2_value$$=$tempStr$$2_value$$.substring(1,$tempStr$$2_value$$.length-1));$obj$$[$key$$]=$tempStr$$2_value$$}return $obj$$},parseFnt:function $cc$_fntLoader$parseFnt$($fntStr$$,$url$$){var $fnt$$={},$commonObj_i$$=this._parseStrToObj($fntStr$$.match(this.INFO_EXP)[0]).padding.split(",");
parseInt($commonObj_i$$[0]);parseInt($commonObj_i$$[1]);parseInt($commonObj_i$$[2]);parseInt($commonObj_i$$[3]);$commonObj_i$$=this._parseStrToObj($fntStr$$.match(this.COMMON_EXP)[0]);$fnt$$.commonHeight=$commonObj_i$$.lineHeight;if(cc._renderType===cc._RENDER_TYPE_WEBGL){var $li$$19_texSize$$=cc.configuration.getMaxTextureSize();($commonObj_i$$.scaleW>$li$$19_texSize$$.width||$commonObj_i$$.scaleH>$li$$19_texSize$$.height)&&cc.log("cc.LabelBMFont._parseCommonArguments(): page can't be larger than supported")}1!==
$commonObj_i$$.pages&&cc.log("cc.LabelBMFont._parseCommonArguments(): only supports 1 page");$commonObj_i$$=this._parseStrToObj($fntStr$$.match(this.PAGE_EXP)[0]);0!==$commonObj_i$$.id&&cc.log("cc.LabelBMFont._parseImageFileName() : file could not be found");$fnt$$.atlasName=cc.path.changeBasename($url$$,$commonObj_i$$.file);for(var $charLines_kerningDict$$=$fntStr$$.match(this.CHAR_EXP),$fontDefDictionary_kerningLines$$=$fnt$$.fontDefDictionary={},$commonObj_i$$=0,$li$$19_texSize$$=$charLines_kerningDict$$.length;$commonObj_i$$<
$li$$19_texSize$$;$commonObj_i$$++){var $charObj_kerningObj$$=this._parseStrToObj($charLines_kerningDict$$[$commonObj_i$$]);$fontDefDictionary_kerningLines$$[$charObj_kerningObj$$.id]={rect:{x:$charObj_kerningObj$$.x,y:$charObj_kerningObj$$.y,width:$charObj_kerningObj$$.width,height:$charObj_kerningObj$$.height},xOffset:$charObj_kerningObj$$.xoffset,yOffset:$charObj_kerningObj$$.yoffset,xAdvance:$charObj_kerningObj$$.xadvance}}$charLines_kerningDict$$=$fnt$$.kerningDict={};if($fontDefDictionary_kerningLines$$=
$fntStr$$.match(this.KERNING_EXP))for($commonObj_i$$=0,$li$$19_texSize$$=$fontDefDictionary_kerningLines$$.length;$commonObj_i$$<$li$$19_texSize$$;$commonObj_i$$++)$charObj_kerningObj$$=this._parseStrToObj($fontDefDictionary_kerningLines$$[$commonObj_i$$]),$charLines_kerningDict$$[$charObj_kerningObj$$.first<<16|$charObj_kerningObj$$.second&65535]=$charObj_kerningObj$$.amount;return $fnt$$},load:function $cc$_fntLoader$load$($realUrl$$,$url$$,$res$$,$cb$$){var $self$$=this;cc.loader.loadTxt($realUrl$$,
function($err$$,$txt$$){if($err$$)return $cb$$($err$$);$cb$$(null,$self$$.parseFnt($txt$$,$url$$))})}};cc.loader.register(["fnt"],cc._fntLoader);
cc.MotionStreak=cc.Node.extend({texture:null,fastMode:!1,startingPositionInitialized:!1,_blendFunc:null,_stroke:0,_fadeDelta:0,_minSeg:0,_maxPoints:0,_nuPoints:0,_previousNuPoints:0,_pointVertexes:null,_pointState:null,_vertices:null,_colorPointer:null,_texCoords:null,_verticesBuffer:null,_colorPointerBuffer:null,_texCoordsBuffer:null,_className:"MotionStreak",ctor:function($fade$$,$minSeg$$,$stroke$$,$color$$,$texture$$){cc.Node.prototype.ctor.call(this);this._positionR=cc.p(0,0);this._blendFunc=
new cc.BlendFunc(cc.SRC_ALPHA,cc.ONE_MINUS_SRC_ALPHA);this._vertexWebGLBuffer=cc._renderContext.createBuffer();this.startingPositionInitialized=this.fastMode=!1;this.texture=null;this._previousNuPoints=this._nuPoints=this._maxPoints=this._minSeg=this._fadeDelta=this._stroke=0;this._texCoordsBuffer=this._colorPointerBuffer=this._verticesBuffer=this._texCoords=this._colorPointer=this._vertices=this._pointState=this._pointVertexes=null;void 0!==$texture$$&&this.initWithFade($fade$$,$minSeg$$,$stroke$$,
$color$$,$texture$$)},_initRendererCmd:function(){this._rendererCmd=new cc.MotionStreakCmdWebGL(this)},getTexture:function(){return this.texture},setTexture:function($texture$$){this.texture!=$texture$$&&(this.texture=$texture$$)},getBlendFunc:function(){return this._blendFunc},setBlendFunc:function($src$$,$dst$$){void 0===$dst$$?this._blendFunc=$src$$:(this._blendFunc.src=$src$$,this._blendFunc.dst=$dst$$)},getOpacity:function(){cc.log("cc.MotionStreak.getOpacity has not been supported.");return 0},
setOpacity:function($opacity$$){cc.log("cc.MotionStreak.setOpacity has not been supported.")},setOpacityModifyRGB:function($value$$){},isOpacityModifyRGB:function(){return!1},onExit:function(){cc.Node.prototype.onExit.call(this);this._verticesBuffer&&cc._renderContext.deleteBuffer(this._verticesBuffer);this._texCoordsBuffer&&cc._renderContext.deleteBuffer(this._texCoordsBuffer);this._colorPointerBuffer&&cc._renderContext.deleteBuffer(this._colorPointerBuffer)},isFastMode:function(){return this.fastMode},
setFastMode:function($fastMode$$){this.fastMode=$fastMode$$},isStartingPositionInitialized:function(){return this.startingPositionInitialized},setStartingPositionInitialized:function($startingPositionInitialized$$){this.startingPositionInitialized=$startingPositionInitialized$$},initWithFade:function($fade$$1_gl$$,$minSeg$$,$stroke$$,$color$$,$texture$$){if(!$texture$$)throw"cc.MotionStreak.initWithFade(): Invalid filename or texture";cc.isString($texture$$)&&($texture$$=cc.textureCache.addImage($texture$$));
cc.Node.prototype.setPosition.call(this,cc.p(0,0));this.anchorY=this.anchorX=0;this.ignoreAnchor=!0;this.startingPositionInitialized=!1;this.fastMode=!0;this._minSeg=-1==$minSeg$$?$stroke$$/5:$minSeg$$;this._minSeg*=this._minSeg;this._stroke=$stroke$$;this._fadeDelta=1/$fade$$1_gl$$;$fade$$1_gl$$=(0|60*$fade$$1_gl$$)+2;this._nuPoints=0;this._pointState=new Float32Array($fade$$1_gl$$);this._pointVertexes=new Float32Array(2*$fade$$1_gl$$);this._vertices=new Float32Array(4*$fade$$1_gl$$);this._texCoords=
new Float32Array(4*$fade$$1_gl$$);this._colorPointer=new Uint8Array(8*$fade$$1_gl$$);this._maxPoints=$fade$$1_gl$$;$fade$$1_gl$$=cc._renderContext;this._verticesBuffer=$fade$$1_gl$$.createBuffer();this._texCoordsBuffer=$fade$$1_gl$$.createBuffer();this._colorPointerBuffer=$fade$$1_gl$$.createBuffer();this._blendFunc.src=$fade$$1_gl$$.SRC_ALPHA;this._blendFunc.dst=$fade$$1_gl$$.ONE_MINUS_SRC_ALPHA;this.shaderProgram=cc.shaderCache.programForKey(cc.SHADER_POSITION_TEXTURECOLOR);this.texture=$texture$$;
this.color=$color$$;this.scheduleUpdate();$fade$$1_gl$$.bindBuffer($fade$$1_gl$$.ARRAY_BUFFER,this._verticesBuffer);$fade$$1_gl$$.bufferData($fade$$1_gl$$.ARRAY_BUFFER,this._vertices,$fade$$1_gl$$.DYNAMIC_DRAW);$fade$$1_gl$$.bindBuffer($fade$$1_gl$$.ARRAY_BUFFER,this._texCoordsBuffer);$fade$$1_gl$$.bufferData($fade$$1_gl$$.ARRAY_BUFFER,this._texCoords,$fade$$1_gl$$.DYNAMIC_DRAW);$fade$$1_gl$$.bindBuffer($fade$$1_gl$$.ARRAY_BUFFER,this._colorPointerBuffer);$fade$$1_gl$$.bufferData($fade$$1_gl$$.ARRAY_BUFFER,
this._colorPointer,$fade$$1_gl$$.DYNAMIC_DRAW);return!0},tintWithColor:function($color$$){this.color=$color$$;for(var $locColorPointer$$=this._colorPointer,$i$$=0,$len$$=2*this._nuPoints;$i$$<$len$$;$i$$++)$locColorPointer$$[4*$i$$]=$color$$.r,$locColorPointer$$[4*$i$$+1]=$color$$.g,$locColorPointer$$[4*$i$$+2]=$color$$.b},reset:function(){this._nuPoints=0},setPosition:function($position$$,$yValue$$){this.startingPositionInitialized=!0;void 0===$yValue$$?(this._positionR.x=$position$$.x,this._positionR.y=
$position$$.y):(this._positionR.x=$position$$,this._positionR.y=$yValue$$)},getPositionX:function(){return this._positionR.x},setPositionX:function($x$$){this._positionR.x=$x$$;this.startingPositionInitialized||(this.startingPositionInitialized=!0)},getPositionY:function(){return this._positionR.y},setPositionY:function($y$$){this._positionR.y=$y$$;this.startingPositionInitialized||(this.startingPositionInitialized=!0)},draw:function($ctx$$){1>=this._nuPoints||!this.texture||!this.texture.isLoaded()||
($ctx$$=$ctx$$||cc._renderContext,cc.nodeDrawSetup(this),cc.glEnableVertexAttribs(cc.VERTEX_ATTRIB_FLAG_POS_COLOR_TEX),cc.glBlendFunc(this._blendFunc.src,this._blendFunc.dst),cc.glBindTexture2D(this.texture),$ctx$$.bindBuffer($ctx$$.ARRAY_BUFFER,this._verticesBuffer),$ctx$$.bufferData($ctx$$.ARRAY_BUFFER,this._vertices,$ctx$$.DYNAMIC_DRAW),$ctx$$.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,2,$ctx$$.FLOAT,!1,0,0),$ctx$$.bindBuffer($ctx$$.ARRAY_BUFFER,this._texCoordsBuffer),$ctx$$.bufferData($ctx$$.ARRAY_BUFFER,
this._texCoords,$ctx$$.DYNAMIC_DRAW),$ctx$$.vertexAttribPointer(cc.VERTEX_ATTRIB_TEX_COORDS,2,$ctx$$.FLOAT,!1,0,0),$ctx$$.bindBuffer($ctx$$.ARRAY_BUFFER,this._colorPointerBuffer),$ctx$$.bufferData($ctx$$.ARRAY_BUFFER,this._colorPointer,$ctx$$.DYNAMIC_DRAW),$ctx$$.vertexAttribPointer(cc.VERTEX_ATTRIB_COLOR,4,$ctx$$.UNSIGNED_BYTE,!0,0,0),$ctx$$.drawArrays($ctx$$.TRIANGLE_STRIP,0,2*this._nuPoints),cc.g_NumberOfDraws++)},update:function($a1$$1_delta$$){if(this.startingPositionInitialized){$a1$$1_delta$$*=
this._fadeDelta;var $newIdx_op$$,$a2$$,$appendNewPoint_i$$218_locDisplayedColor$$,$i2$$,$mov$$=0,$locNuPoints$$=this._nuPoints,$locPointState_offset$$=this._pointState,$locPointVertexes_texDelta$$=this._pointVertexes,$locVertices$$=this._vertices,$locColorPointer$$=this._colorPointer;for($appendNewPoint_i$$218_locDisplayedColor$$=0;$appendNewPoint_i$$218_locDisplayedColor$$<$locNuPoints$$;$appendNewPoint_i$$218_locDisplayedColor$$++)$locPointState_offset$$[$appendNewPoint_i$$218_locDisplayedColor$$]-=
$a1$$1_delta$$,0>=$locPointState_offset$$[$appendNewPoint_i$$218_locDisplayedColor$$]?$mov$$++:($newIdx_op$$=$appendNewPoint_i$$218_locDisplayedColor$$-$mov$$,0<$mov$$?($locPointState_offset$$[$newIdx_op$$]=$locPointState_offset$$[$appendNewPoint_i$$218_locDisplayedColor$$],$locPointVertexes_texDelta$$[2*$newIdx_op$$]=$locPointVertexes_texDelta$$[2*$appendNewPoint_i$$218_locDisplayedColor$$],$locPointVertexes_texDelta$$[2*$newIdx_op$$+1]=$locPointVertexes_texDelta$$[2*$appendNewPoint_i$$218_locDisplayedColor$$+
1],$i2$$=2*$appendNewPoint_i$$218_locDisplayedColor$$,$a2$$=2*$newIdx_op$$,$locVertices$$[2*$a2$$]=$locVertices$$[2*$i2$$],$locVertices$$[2*$a2$$+1]=$locVertices$$[2*$i2$$+1],$locVertices$$[2*($a2$$+1)]=$locVertices$$[2*($i2$$+1)],$locVertices$$[2*($a2$$+1)+1]=$locVertices$$[2*($i2$$+1)+1],$i2$$*=4,$a2$$*=4,$locColorPointer$$[$a2$$+0]=$locColorPointer$$[$i2$$+0],$locColorPointer$$[$a2$$+1]=$locColorPointer$$[$i2$$+1],$locColorPointer$$[$a2$$+2]=$locColorPointer$$[$i2$$+2],$locColorPointer$$[$a2$$+
4]=$locColorPointer$$[$i2$$+4],$locColorPointer$$[$a2$$+5]=$locColorPointer$$[$i2$$+5],$locColorPointer$$[$a2$$+6]=$locColorPointer$$[$i2$$+6]):$a2$$=8*$newIdx_op$$,$newIdx_op$$=255*$locPointState_offset$$[$newIdx_op$$],$locColorPointer$$[$a2$$+3]=$newIdx_op$$,$locColorPointer$$[$a2$$+7]=$newIdx_op$$);$locNuPoints$$-=$mov$$;$appendNewPoint_i$$218_locDisplayedColor$$=!0;$locNuPoints$$>=this._maxPoints?$appendNewPoint_i$$218_locDisplayedColor$$=!1:0<$locNuPoints$$&&($a1$$1_delta$$=cc.pDistanceSQ(cc.p($locPointVertexes_texDelta$$[2*
($locNuPoints$$-1)],$locPointVertexes_texDelta$$[2*($locNuPoints$$-1)+1]),this._positionR)<this._minSeg,$a2$$=1==$locNuPoints$$?!1:cc.pDistanceSQ(cc.p($locPointVertexes_texDelta$$[2*($locNuPoints$$-2)],$locPointVertexes_texDelta$$[2*($locNuPoints$$-2)+1]),this._positionR)<2*this._minSeg,$a1$$1_delta$$||$a2$$)&&($appendNewPoint_i$$218_locDisplayedColor$$=!1);$appendNewPoint_i$$218_locDisplayedColor$$&&($locPointVertexes_texDelta$$[2*$locNuPoints$$]=this._positionR.x,$locPointVertexes_texDelta$$[2*
$locNuPoints$$+1]=this._positionR.y,$locPointState_offset$$[$locNuPoints$$]=1,$locPointState_offset$$=8*$locNuPoints$$,$appendNewPoint_i$$218_locDisplayedColor$$=this._displayedColor,$locColorPointer$$[$locPointState_offset$$]=$appendNewPoint_i$$218_locDisplayedColor$$.r,$locColorPointer$$[$locPointState_offset$$+1]=$appendNewPoint_i$$218_locDisplayedColor$$.g,$locColorPointer$$[$locPointState_offset$$+2]=$appendNewPoint_i$$218_locDisplayedColor$$.b,$locColorPointer$$[$locPointState_offset$$+4]=$appendNewPoint_i$$218_locDisplayedColor$$.r,
$locColorPointer$$[$locPointState_offset$$+5]=$appendNewPoint_i$$218_locDisplayedColor$$.g,$locColorPointer$$[$locPointState_offset$$+6]=$appendNewPoint_i$$218_locDisplayedColor$$.b,$locColorPointer$$[$locPointState_offset$$+3]=255,$locColorPointer$$[$locPointState_offset$$+7]=255,0<$locNuPoints$$&&this.fastMode&&(1<$locNuPoints$$?cc.vertexLineToPolygon($locPointVertexes_texDelta$$,this._stroke,this._vertices,$locNuPoints$$,1):cc.vertexLineToPolygon($locPointVertexes_texDelta$$,this._stroke,this._vertices,
0,2)),$locNuPoints$$++);this.fastMode||cc.vertexLineToPolygon($locPointVertexes_texDelta$$,this._stroke,this._vertices,0,$locNuPoints$$);if($locNuPoints$$&&this._previousNuPoints!=$locNuPoints$$){$locPointVertexes_texDelta$$=1/$locNuPoints$$;$locColorPointer$$=this._texCoords;for($appendNewPoint_i$$218_locDisplayedColor$$=0;$appendNewPoint_i$$218_locDisplayedColor$$<$locNuPoints$$;$appendNewPoint_i$$218_locDisplayedColor$$++)$locColorPointer$$[4*$appendNewPoint_i$$218_locDisplayedColor$$]=0,$locColorPointer$$[4*
$appendNewPoint_i$$218_locDisplayedColor$$+1]=$locPointVertexes_texDelta$$*$appendNewPoint_i$$218_locDisplayedColor$$,$locColorPointer$$[2*(2*$appendNewPoint_i$$218_locDisplayedColor$$+1)]=1,$locColorPointer$$[2*(2*$appendNewPoint_i$$218_locDisplayedColor$$+1)+1]=$locPointVertexes_texDelta$$*$appendNewPoint_i$$218_locDisplayedColor$$;this._previousNuPoints=$locNuPoints$$}this._nuPoints=$locNuPoints$$}}});
cc.MotionStreak.create=function $cc$MotionStreak$create$($fade$$,$minSeg$$,$stroke$$,$color$$,$texture$$){return new cc.MotionStreak($fade$$,$minSeg$$,$stroke$$,$color$$,$texture$$)};
cc.NodeGrid=cc.Node.extend({grid:null,_target:null,_gridBeginCommand:null,_gridEndCommand:null,ctor:function(){cc.Node.prototype.ctor.call(this);cc._renderType===cc._RENDER_TYPE_WEBGL&&(this._gridBeginCommand=new cc.CustomRenderCmdWebGL(this,this.onGridBeginDraw),this._gridEndCommand=new cc.CustomRenderCmdWebGL(this,this.onGridEndDraw))},getGrid:function(){return this.grid},setGrid:function($grid$$){this.grid=$grid$$},setTarget:function($target$$){this._target=$target$$},onGridBeginDraw:function(){var $locGrid$$=
this.grid;cc._renderType==cc._RENDER_TYPE_WEBGL&&$locGrid$$&&$locGrid$$._active&&$locGrid$$.beforeDraw()},onGridEndDraw:function(){var $locGrid$$=this.grid;cc._renderType==cc._RENDER_TYPE_WEBGL&&$locGrid$$&&$locGrid$$._active&&$locGrid$$.afterDraw(this._target)},visit:function(){if(this._visible){var $isWebGL$$=cc._renderType==cc._RENDER_TYPE_WEBGL,$locChildren$$32_locGrid$$=this.grid;if($isWebGL$$){var $currentStack$$=cc.current_stack;$currentStack$$.stack.push($currentStack$$.top);cc.kmMat4Assign(this._stackMatrix,
$currentStack$$.top);$currentStack$$.top=this._stackMatrix}this.transform();$isWebGL$$&&($locChildren$$32_locGrid$$&&$locChildren$$32_locGrid$$._active&&cc.director.getProjection(),this._gridBeginCommand&&cc.renderer.pushRenderCommand(this._gridBeginCommand),this._target&&this._target.visit());if(($locChildren$$32_locGrid$$=this._children)&&0<$locChildren$$32_locGrid$$.length){var $childLen$$=$locChildren$$32_locGrid$$.length;this.sortAllChildren();for(var $i$$=0;$i$$<$childLen$$;$i$$++){var $child$$=
$locChildren$$32_locGrid$$[$i$$];$child$$&&$child$$.visit()}}$isWebGL$$&&(this._gridEndCommand&&cc.renderer.pushRenderCommand(this._gridEndCommand),$currentStack$$.top=$currentStack$$.stack.pop())}},_transformForWebGL:function(){var $apx$$3_t4x4$$=this._transform4x4,$apy$$3_topMat4$$=cc.current_stack.top,$trans$$=this.nodeToParentTransform(),$t4x4Mat$$=$apx$$3_t4x4$$.mat;$t4x4Mat$$[0]=$trans$$.a;$t4x4Mat$$[4]=$trans$$.c;$t4x4Mat$$[12]=$trans$$.tx;$t4x4Mat$$[1]=$trans$$.b;$t4x4Mat$$[5]=$trans$$.d;
$t4x4Mat$$[13]=$trans$$.ty;$t4x4Mat$$[14]=this._vertexZ;cc.kmMat4Multiply($apy$$3_topMat4$$,$apy$$3_topMat4$$,$apx$$3_t4x4$$);null==this._camera||this.grid&&this.grid.isActive()||($apx$$3_t4x4$$=this._anchorPointInPoints.x,$apy$$3_topMat4$$=this._anchorPointInPoints.y,0!==$apx$$3_t4x4$$||0!==$apy$$3_topMat4$$?(cc.SPRITEBATCHNODE_RENDER_SUBPIXEL||($apx$$3_t4x4$$|=0,$apy$$3_topMat4$$|=0),cc.kmGLTranslatef($apx$$3_t4x4$$,$apy$$3_topMat4$$,0),this._camera.locate(),cc.kmGLTranslatef(-$apx$$3_t4x4$$,-$apy$$3_topMat4$$,
0)):this._camera.locate())}});_p=cc.NodeGrid.prototype;cc._renderType===cc._RENDER_TYPE_WEBGL&&(_p.transform=_p._transformForWebGL);_p.grid;_p.target;cc.defineGetterSetter(_p,"target",null,_p.setTarget);cc.NodeGrid.create=function $cc$NodeGrid$create$(){return new cc.NodeGrid};cc.v2fzero=function $cc$v2fzero$(){return{x:0,y:0}};cc.v2f=function $cc$v2f$($x$$,$y$$){return{x:$x$$,y:$y$$}};cc.v2fadd=function $cc$v2fadd$($v0$$,$v1$$){return cc.v2f($v0$$.x+$v1$$.x,$v0$$.y+$v1$$.y)};
cc.v2fsub=function $cc$v2fsub$($v0$$,$v1$$){return cc.v2f($v0$$.x-$v1$$.x,$v0$$.y-$v1$$.y)};cc.v2fmult=function $cc$v2fmult$($v$$,$s$$){return cc.v2f($v$$.x*$s$$,$v$$.y*$s$$)};cc.v2fperp=function $cc$v2fperp$($p0$$){return cc.v2f(-$p0$$.y,$p0$$.x)};cc.v2fneg=function $cc$v2fneg$($p0$$){return cc.v2f(-$p0$$.x,-$p0$$.y)};cc.v2fdot=function $cc$v2fdot$($p0$$,$p1$$){return $p0$$.x*$p1$$.x+$p0$$.y*$p1$$.y};cc.v2fforangle=function $cc$v2fforangle$($_a_$$){return cc.v2f(Math.cos($_a_$$),Math.sin($_a_$$))};
cc.v2fnormalize=function $cc$v2fnormalize$($p$$13_r$$){$p$$13_r$$=cc.pNormalize(cc.p($p$$13_r$$.x,$p$$13_r$$.y));return cc.v2f($p$$13_r$$.x,$p$$13_r$$.y)};cc.__v2f=function $cc$__v2f$($v$$){return cc.v2f($v$$.x,$v$$.y)};cc.__t=function $cc$__t$($v$$){return{u:$v$$.x,v:$v$$.y}};
cc.DrawNodeCanvas=cc.Node.extend({_buffer:null,_blendFunc:null,_lineWidth:1,_drawColor:null,_className:"DrawNodeCanvas",ctor:function(){cc.Node.prototype.ctor.call(this);var $locCmd$$=this._rendererCmd;$locCmd$$._buffer=this._buffer=[];$locCmd$$._drawColor=this._drawColor=cc.color(255,255,255,255);$locCmd$$._blendFunc=this._blendFunc=new cc.BlendFunc(cc.BLEND_SRC,cc.BLEND_DST);this.init()},_initRendererCmd:function(){this._rendererCmd=new cc.DrawNodeRenderCmdCanvas(this)},getBlendFunc:function(){return this._blendFunc},
setBlendFunc:function($blendFunc$$,$dst$$){void 0===$dst$$?(this._blendFunc.src=$blendFunc$$.src,this._blendFunc.dst=$blendFunc$$.dst):(this._blendFunc.src=$blendFunc$$,this._blendFunc.dst=$dst$$)},setLineWidth:function($width$$){this._lineWidth=$width$$},getLineWidth:function(){return this._lineWidth},setDrawColor:function($color$$){var $locDrawColor$$=this._drawColor;$locDrawColor$$.r=$color$$.r;$locDrawColor$$.g=$color$$.g;$locDrawColor$$.b=$color$$.b;$locDrawColor$$.a=null==$color$$.a?255:$color$$.a},
getDrawColor:function(){return cc.color(this._drawColor.r,this._drawColor.g,this._drawColor.b,this._drawColor.a)},drawRect:function($origin$$10_vertices$$,$destination$$10_element$$,$fillColor$$,$lineWidth$$,$lineColor$$){$lineWidth$$=$lineWidth$$||this._lineWidth;$lineColor$$=$lineColor$$||this.getDrawColor();null==$lineColor$$.a&&($lineColor$$.a=255);$origin$$10_vertices$$=[$origin$$10_vertices$$,cc.p($destination$$10_element$$.x,$origin$$10_vertices$$.y),$destination$$10_element$$,cc.p($origin$$10_vertices$$.x,
$destination$$10_element$$.y)];$destination$$10_element$$=new cc._DrawNodeElement(cc.DrawNode.TYPE_POLY);$destination$$10_element$$.verts=$origin$$10_vertices$$;$destination$$10_element$$.lineWidth=$lineWidth$$;$destination$$10_element$$.lineColor=$lineColor$$;$destination$$10_element$$.isClosePolygon=!0;$destination$$10_element$$.isStroke=!0;$destination$$10_element$$.lineCap="butt";if($destination$$10_element$$.fillColor=$fillColor$$)null==$fillColor$$.a&&($fillColor$$.a=255),$destination$$10_element$$.isFill=
!0;this._buffer.push($destination$$10_element$$)},drawCircle:function($center$$5_element$$,$radius$$,$angle$$,$segments$$,$drawLineToCenter$$,$lineWidth$$,$color$$){$lineWidth$$=$lineWidth$$||this._lineWidth;$color$$=$color$$||this.getDrawColor();null==$color$$.a&&($color$$.a=255);for(var $coef$$=2*Math.PI/$segments$$,$vertices$$=[],$i$$=0;$i$$<=$segments$$;$i$$++){var $k$$4_rads$$=$i$$*$coef$$,$j$$=$radius$$*Math.cos($k$$4_rads$$+$angle$$)+$center$$5_element$$.x,$k$$4_rads$$=$radius$$*Math.sin($k$$4_rads$$+
$angle$$)+$center$$5_element$$.y;$vertices$$.push(cc.p($j$$,$k$$4_rads$$))}$drawLineToCenter$$&&$vertices$$.push(cc.p($center$$5_element$$.x,$center$$5_element$$.y));$center$$5_element$$=new cc._DrawNodeElement(cc.DrawNode.TYPE_POLY);$center$$5_element$$.verts=$vertices$$;$center$$5_element$$.lineWidth=$lineWidth$$;$center$$5_element$$.lineColor=$color$$;$center$$5_element$$.isClosePolygon=!0;$center$$5_element$$.isStroke=!0;this._buffer.push($center$$5_element$$)},drawQuadBezier:function($element$$48_origin$$,
$control$$,$destination$$,$segments$$,$lineWidth$$,$color$$){$lineWidth$$=$lineWidth$$||this._lineWidth;$color$$=$color$$||this.getDrawColor();null==$color$$.a&&($color$$.a=255);for(var $vertices$$=[],$t$$=0,$i$$=0;$i$$<$segments$$;$i$$++){var $x$$=Math.pow(1-$t$$,2)*$element$$48_origin$$.x+2*(1-$t$$)*$t$$*$control$$.x+$t$$*$t$$*$destination$$.x,$y$$=Math.pow(1-$t$$,2)*$element$$48_origin$$.y+2*(1-$t$$)*$t$$*$control$$.y+$t$$*$t$$*$destination$$.y;$vertices$$.push(cc.p($x$$,$y$$));$t$$+=1/$segments$$}$vertices$$.push(cc.p($destination$$.x,
$destination$$.y));$element$$48_origin$$=new cc._DrawNodeElement(cc.DrawNode.TYPE_POLY);$element$$48_origin$$.verts=$vertices$$;$element$$48_origin$$.lineWidth=$lineWidth$$;$element$$48_origin$$.lineColor=$color$$;$element$$48_origin$$.isStroke=!0;$element$$48_origin$$.lineCap="round";this._buffer.push($element$$48_origin$$)},drawCubicBezier:function($element$$49_origin$$,$control1$$,$control2$$,$destination$$,$segments$$,$lineWidth$$,$color$$){$lineWidth$$=$lineWidth$$||this._lineWidth;$color$$=
$color$$||this.getDrawColor();null==$color$$.a&&($color$$.a=255);for(var $vertices$$=[],$t$$=0,$i$$=0;$i$$<$segments$$;$i$$++){var $x$$=Math.pow(1-$t$$,3)*$element$$49_origin$$.x+3*Math.pow(1-$t$$,2)*$t$$*$control1$$.x+3*(1-$t$$)*$t$$*$t$$*$control2$$.x+$t$$*$t$$*$t$$*$destination$$.x,$y$$=Math.pow(1-$t$$,3)*$element$$49_origin$$.y+3*Math.pow(1-$t$$,2)*$t$$*$control1$$.y+3*(1-$t$$)*$t$$*$t$$*$control2$$.y+$t$$*$t$$*$t$$*$destination$$.y;$vertices$$.push(cc.p($x$$,$y$$));$t$$+=1/$segments$$}$vertices$$.push(cc.p($destination$$.x,
$destination$$.y));$element$$49_origin$$=new cc._DrawNodeElement(cc.DrawNode.TYPE_POLY);$element$$49_origin$$.verts=$vertices$$;$element$$49_origin$$.lineWidth=$lineWidth$$;$element$$49_origin$$.lineColor=$color$$;$element$$49_origin$$.isStroke=!0;$element$$49_origin$$.lineCap="round";this._buffer.push($element$$49_origin$$)},drawCatmullRom:function($points$$,$segments$$,$lineWidth$$,$color$$){this.drawCardinalSpline($points$$,.5,$segments$$,$lineWidth$$,$color$$)},drawCardinalSpline:function($config$$7_element$$,
$tension$$,$segments$$,$lineWidth$$,$color$$){$lineWidth$$=$lineWidth$$||this._lineWidth;$color$$=$color$$||this.getDrawColor();null==$color$$.a&&($color$$.a=255);for(var $vertices$$=[],$newPos$$5_p$$,$dt$$101_lt$$,$deltaT$$=1/$config$$7_element$$.length,$i$$=0;$i$$<$segments$$+1;$i$$++)$dt$$101_lt$$=$i$$/$segments$$,1==$dt$$101_lt$$?($newPos$$5_p$$=$config$$7_element$$.length-1,$dt$$101_lt$$=1):($newPos$$5_p$$=0|$dt$$101_lt$$/$deltaT$$,$dt$$101_lt$$=($dt$$101_lt$$-$deltaT$$*$newPos$$5_p$$)/$deltaT$$),
$newPos$$5_p$$=cc.cardinalSplineAt(cc.getControlPointAt($config$$7_element$$,$newPos$$5_p$$-1),cc.getControlPointAt($config$$7_element$$,$newPos$$5_p$$-0),cc.getControlPointAt($config$$7_element$$,$newPos$$5_p$$+1),cc.getControlPointAt($config$$7_element$$,$newPos$$5_p$$+2),$tension$$,$dt$$101_lt$$),$vertices$$.push($newPos$$5_p$$);$config$$7_element$$=new cc._DrawNodeElement(cc.DrawNode.TYPE_POLY);$config$$7_element$$.verts=$vertices$$;$config$$7_element$$.lineWidth=$lineWidth$$;$config$$7_element$$.lineColor=
$color$$;$config$$7_element$$.isStroke=!0;$config$$7_element$$.lineCap="round";this._buffer.push($config$$7_element$$)},drawDot:function($pos$$,$radius$$,$color$$){$color$$=$color$$||this.getDrawColor();null==$color$$.a&&($color$$.a=255);var $element$$=new cc._DrawNodeElement(cc.DrawNode.TYPE_DOT);$element$$.verts=[$pos$$];$element$$.lineWidth=$radius$$;$element$$.fillColor=$color$$;this._buffer.push($element$$)},drawDots:function($points$$,$radius$$,$color$$){if($points$$&&0!=$points$$.length){$color$$=
$color$$||this.getDrawColor();null==$color$$.a&&($color$$.a=255);for(var $i$$=0,$len$$=$points$$.length;$i$$<$len$$;$i$$++)this.drawDot($points$$[$i$$],$radius$$,$color$$)}},drawSegment:function($from$$,$to$$,$lineWidth$$,$color$$){$lineWidth$$=$lineWidth$$||this._lineWidth;$color$$=$color$$||this.getDrawColor();null==$color$$.a&&($color$$.a=255);var $element$$=new cc._DrawNodeElement(cc.DrawNode.TYPE_POLY);$element$$.verts=[$from$$,$to$$];$element$$.lineWidth=2*$lineWidth$$;$element$$.lineColor=
$color$$;$element$$.isStroke=!0;$element$$.lineCap="round";this._buffer.push($element$$)},drawPoly_:function($verts$$,$fillColor$$,$lineWidth$$,$color$$){$lineWidth$$=$lineWidth$$||this._lineWidth;$color$$=$color$$||this.getDrawColor();null==$color$$.a&&($color$$.a=255);var $element$$=new cc._DrawNodeElement(cc.DrawNode.TYPE_POLY);$element$$.verts=$verts$$;$element$$.fillColor=$fillColor$$;$element$$.lineWidth=$lineWidth$$;$element$$.lineColor=$color$$;$element$$.isClosePolygon=!0;$element$$.isStroke=
!0;$element$$.lineCap="round";$fillColor$$&&($element$$.isFill=!0);this._buffer.push($element$$)},drawPoly:function($verts$$,$fillColor$$,$lineWidth$$,$color$$){for(var $vertsCopy$$=[],$i$$=0;$i$$<$verts$$.length;$i$$++)$vertsCopy$$.push(cc.p($verts$$[$i$$].x,$verts$$[$i$$].y));return this.drawPoly_($vertsCopy$$,$fillColor$$,$lineWidth$$,$color$$)},draw:function($context$$31_ctx$$){$context$$31_ctx$$=$context$$31_ctx$$||cc._renderContext;this._blendFunc&&this._blendFunc.src==cc.SRC_ALPHA&&this._blendFunc.dst==
cc.ONE&&($context$$31_ctx$$.globalCompositeOperation="lighter");for(var $i$$=0;$i$$<this._buffer.length;$i$$++){var $element$$=this._buffer[$i$$];switch($element$$.type){case cc.DrawNode.TYPE_DOT:this._drawDot($context$$31_ctx$$,$element$$);break;case cc.DrawNode.TYPE_SEGMENT:this._drawSegment($context$$31_ctx$$,$element$$);break;case cc.DrawNode.TYPE_POLY:this._drawPoly($context$$31_ctx$$,$element$$)}}},_drawDot:function($ctx$$,$element$$){var $locColor$$=$element$$.fillColor,$locPos$$=$element$$.verts[0],
$locRadius$$=$element$$.lineWidth,$locScaleX$$=cc.view.getScaleX(),$locScaleY$$=cc.view.getScaleY();$ctx$$.fillStyle="rgba("+(0|$locColor$$.r)+","+(0|$locColor$$.g)+","+(0|$locColor$$.b)+","+$locColor$$.a/255+")";$ctx$$.beginPath();$ctx$$.arc($locPos$$.x*$locScaleX$$,-$locPos$$.y*$locScaleY$$,$locRadius$$*$locScaleX$$,0,2*Math.PI,!1);$ctx$$.closePath();$ctx$$.fill()},_drawSegment:function($ctx$$,$element$$){var $locColor$$=$element$$.lineColor,$locFrom$$=$element$$.verts[0],$locTo$$=$element$$.verts[1],
$locLineWidth$$=$element$$.lineWidth,$locLineCap$$=$element$$.lineCap,$locScaleX$$=cc.view.getScaleX(),$locScaleY$$=cc.view.getScaleY();$ctx$$.strokeStyle="rgba("+(0|$locColor$$.r)+","+(0|$locColor$$.g)+","+(0|$locColor$$.b)+","+$locColor$$.a/255+")";$ctx$$.lineWidth=$locLineWidth$$*$locScaleX$$;$ctx$$.beginPath();$ctx$$.lineCap=$locLineCap$$;$ctx$$.moveTo($locFrom$$.x*$locScaleX$$,-$locFrom$$.y*$locScaleY$$);$ctx$$.lineTo($locTo$$.x*$locScaleX$$,-$locTo$$.y*$locScaleY$$);$ctx$$.stroke()},_drawPoly:function($ctx$$,
$element$$){var $locVertices$$=$element$$.verts,$i$$227_locLineCap$$=$element$$.lineCap,$len$$63_locFillColor$$=$element$$.fillColor,$locLineWidth$$=$element$$.lineWidth,$locLineColor$$=$element$$.lineColor,$locIsClosePolygon$$=$element$$.isClosePolygon,$locIsFill$$=$element$$.isFill,$locIsStroke$$=$element$$.isStroke;if(null!=$locVertices$$){var $firstPoint$$=$locVertices$$[0],$locScaleX$$=cc.view.getScaleX(),$locScaleY$$=cc.view.getScaleY();$ctx$$.lineCap=$i$$227_locLineCap$$;$len$$63_locFillColor$$&&
($ctx$$.fillStyle="rgba("+(0|$len$$63_locFillColor$$.r)+","+(0|$len$$63_locFillColor$$.g)+","+(0|$len$$63_locFillColor$$.b)+","+$len$$63_locFillColor$$.a/255+")");$locLineWidth$$&&($ctx$$.lineWidth=$locLineWidth$$*$locScaleX$$);$locLineColor$$&&($ctx$$.strokeStyle="rgba("+(0|$locLineColor$$.r)+","+(0|$locLineColor$$.g)+","+(0|$locLineColor$$.b)+","+$locLineColor$$.a/255+")");$ctx$$.beginPath();$ctx$$.moveTo($firstPoint$$.x*$locScaleX$$,-$firstPoint$$.y*$locScaleY$$);$i$$227_locLineCap$$=1;for($len$$63_locFillColor$$=
$locVertices$$.length;$i$$227_locLineCap$$<$len$$63_locFillColor$$;$i$$227_locLineCap$$++)$ctx$$.lineTo($locVertices$$[$i$$227_locLineCap$$].x*$locScaleX$$,-$locVertices$$[$i$$227_locLineCap$$].y*$locScaleY$$);$locIsClosePolygon$$&&$ctx$$.closePath();$locIsFill$$&&$ctx$$.fill();$locIsStroke$$&&$ctx$$.stroke()}},clear:function(){this._buffer.length=0}});
cc.DrawNodeWebGL=cc.Node.extend({_bufferCapacity:0,_buffer:null,_trianglesArrayBuffer:null,_trianglesWebBuffer:null,_trianglesReader:null,_lineWidth:1,_drawColor:null,_blendFunc:null,_dirty:!1,_className:"DrawNodeWebGL",getBlendFunc:function(){return this._blendFunc},setBlendFunc:function($blendFunc$$,$dst$$){void 0===$dst$$?(this._blendFunc.src=$blendFunc$$.src,this._blendFunc.dst=$blendFunc$$.dst):(this._blendFunc.src=$blendFunc$$,this._blendFunc.dst=$dst$$)},ctor:function(){cc.Node.prototype.ctor.call(this);
this._buffer=[];this._blendFunc=new cc.BlendFunc(cc.BLEND_SRC,cc.BLEND_DST);this._drawColor=cc.color(255,255,255,255);this.init()},_initRendererCmd:function(){this._rendererCmd=new cc.DrawNodeRenderCmdWebGL(this)},init:function(){return cc.Node.prototype.init.call(this)?(this.shaderProgram=cc.shaderCache.programForKey(cc.SHADER_POSITION_LENGTHTEXTURECOLOR),this._ensureCapacity(64),this._trianglesWebBuffer=cc._renderContext.createBuffer(),this._dirty=!0):!1},setLineWidth:function($width$$){this._lineWidth=
$width$$},getLineWidth:function(){return this._lineWidth},setDrawColor:function($color$$){var $locDrawColor$$=this._drawColor;$locDrawColor$$.r=$color$$.r;$locDrawColor$$.g=$color$$.g;$locDrawColor$$.b=$color$$.b;$locDrawColor$$.a=$color$$.a},getDrawColor:function(){return cc.color(this._drawColor.r,this._drawColor.g,this._drawColor.b,this._drawColor.a)},drawRect:function($origin$$13_vertices$$,$destination$$,$fillColor$$,$lineWidth$$,$lineColor$$){$lineWidth$$=$lineWidth$$||this._lineWidth;$lineColor$$=
$lineColor$$||this.getDrawColor();null==$lineColor$$.a&&($lineColor$$.a=255);$origin$$13_vertices$$=[$origin$$13_vertices$$,cc.p($destination$$.x,$origin$$13_vertices$$.y),$destination$$,cc.p($origin$$13_vertices$$.x,$destination$$.y)];null==$fillColor$$?this._drawSegments($origin$$13_vertices$$,$lineWidth$$,$lineColor$$,!0):this.drawPoly($origin$$13_vertices$$,$fillColor$$,$lineWidth$$,$lineColor$$)},drawCircle:function($center$$6_len$$,$radius$$,$angle$$,$segments$$,$drawLineToCenter$$,$lineWidth$$,
$color$$){$lineWidth$$=$lineWidth$$||this._lineWidth;$color$$=$color$$||this.getDrawColor();null==$color$$.a&&($color$$.a=255);var $coef$$=2*Math.PI/$segments$$,$vertices$$=[],$i$$;for($i$$=0;$i$$<=$segments$$;$i$$++){var $k$$5_rads$$=$i$$*$coef$$,$j$$=$radius$$*Math.cos($k$$5_rads$$+$angle$$)+$center$$6_len$$.x,$k$$5_rads$$=$radius$$*Math.sin($k$$5_rads$$+$angle$$)+$center$$6_len$$.y;$vertices$$.push(cc.p($j$$,$k$$5_rads$$))}$drawLineToCenter$$&&$vertices$$.push(cc.p($center$$6_len$$.x,$center$$6_len$$.y));
$lineWidth$$*=.5;$i$$=0;for($center$$6_len$$=$vertices$$.length;$i$$<$center$$6_len$$-1;$i$$++)this.drawSegment($vertices$$[$i$$],$vertices$$[$i$$+1],$lineWidth$$,$color$$)},drawQuadBezier:function($origin$$,$control$$,$destination$$,$segments$$,$lineWidth$$,$color$$){$lineWidth$$=$lineWidth$$||this._lineWidth;$color$$=$color$$||this.getDrawColor();null==$color$$.a&&($color$$.a=255);for(var $vertices$$=[],$t$$=0,$i$$=0;$i$$<$segments$$;$i$$++){var $x$$=Math.pow(1-$t$$,2)*$origin$$.x+2*(1-$t$$)*$t$$*
$control$$.x+$t$$*$t$$*$destination$$.x,$y$$=Math.pow(1-$t$$,2)*$origin$$.y+2*(1-$t$$)*$t$$*$control$$.y+$t$$*$t$$*$destination$$.y;$vertices$$.push(cc.p($x$$,$y$$));$t$$+=1/$segments$$}$vertices$$.push(cc.p($destination$$.x,$destination$$.y));this._drawSegments($vertices$$,$lineWidth$$,$color$$,!1)},drawCubicBezier:function($origin$$,$control1$$,$control2$$,$destination$$,$segments$$,$lineWidth$$,$color$$){$lineWidth$$=$lineWidth$$||this._lineWidth;$color$$=$color$$||this.getDrawColor();null==$color$$.a&&
($color$$.a=255);for(var $vertices$$=[],$t$$=0,$i$$=0;$i$$<$segments$$;$i$$++){var $x$$=Math.pow(1-$t$$,3)*$origin$$.x+3*Math.pow(1-$t$$,2)*$t$$*$control1$$.x+3*(1-$t$$)*$t$$*$t$$*$control2$$.x+$t$$*$t$$*$t$$*$destination$$.x,$y$$=Math.pow(1-$t$$,3)*$origin$$.y+3*Math.pow(1-$t$$,2)*$t$$*$control1$$.y+3*(1-$t$$)*$t$$*$t$$*$control2$$.y+$t$$*$t$$*$t$$*$destination$$.y;$vertices$$.push(cc.p($x$$,$y$$));$t$$+=1/$segments$$}$vertices$$.push(cc.p($destination$$.x,$destination$$.y));this._drawSegments($vertices$$,
$lineWidth$$,$color$$,!1)},drawCatmullRom:function($points$$,$segments$$,$lineWidth$$,$color$$){this.drawCardinalSpline($points$$,.5,$segments$$,$lineWidth$$,$color$$)},drawCardinalSpline:function($config$$8_j$$,$len$$65_tension$$,$segments$$,$lineWidth$$,$color$$){$lineWidth$$=$lineWidth$$||this._lineWidth;$color$$=$color$$||this.getDrawColor();null==$color$$.a&&($color$$.a=255);for(var $vertices$$=[],$newPos$$6_p$$,$dt$$102_lt$$,$deltaT$$=1/$config$$8_j$$.length,$i$$=0;$i$$<$segments$$+1;$i$$++)$dt$$102_lt$$=
$i$$/$segments$$,1==$dt$$102_lt$$?($newPos$$6_p$$=$config$$8_j$$.length-1,$dt$$102_lt$$=1):($newPos$$6_p$$=0|$dt$$102_lt$$/$deltaT$$,$dt$$102_lt$$=($dt$$102_lt$$-$deltaT$$*$newPos$$6_p$$)/$deltaT$$),$newPos$$6_p$$=cc.cardinalSplineAt(cc.getControlPointAt($config$$8_j$$,$newPos$$6_p$$-1),cc.getControlPointAt($config$$8_j$$,$newPos$$6_p$$-0),cc.getControlPointAt($config$$8_j$$,$newPos$$6_p$$+1),cc.getControlPointAt($config$$8_j$$,$newPos$$6_p$$+2),$len$$65_tension$$,$dt$$102_lt$$),$vertices$$.push($newPos$$6_p$$);
$lineWidth$$*=.5;$config$$8_j$$=0;for($len$$65_tension$$=$vertices$$.length;$config$$8_j$$<$len$$65_tension$$-1;$config$$8_j$$++)this.drawSegment($vertices$$[$config$$8_j$$],$vertices$$[$config$$8_j$$+1],$lineWidth$$,$color$$)},_render:function(){var $gl$$=cc._renderContext;cc.glEnableVertexAttribs(cc.VERTEX_ATTRIB_FLAG_POS_COLOR_TEX);$gl$$.bindBuffer($gl$$.ARRAY_BUFFER,this._trianglesWebBuffer);this._dirty&&($gl$$.bufferData($gl$$.ARRAY_BUFFER,this._trianglesArrayBuffer,$gl$$.STREAM_DRAW),this._dirty=
!1);var $triangleSize$$=cc.V2F_C4B_T2F.BYTES_PER_ELEMENT;$gl$$.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,2,$gl$$.FLOAT,!1,$triangleSize$$,0);$gl$$.vertexAttribPointer(cc.VERTEX_ATTRIB_COLOR,4,$gl$$.UNSIGNED_BYTE,!0,$triangleSize$$,8);$gl$$.vertexAttribPointer(cc.VERTEX_ATTRIB_TEX_COORDS,2,$gl$$.FLOAT,!1,$triangleSize$$,12);$gl$$.drawArrays($gl$$.TRIANGLES,0,3*this._buffer.length);cc.incrementGLDraws(1)},_ensureCapacity:function($count$$){var $locBuffer$$=this._buffer;if($locBuffer$$.length+$count$$>
this._bufferCapacity){var $TriangleLength$$=cc.V2F_C4B_T2F_Triangle.BYTES_PER_ELEMENT;this._bufferCapacity+=Math.max(this._bufferCapacity,$count$$);if(null==$locBuffer$$||0===$locBuffer$$.length)this._buffer=[],this._trianglesArrayBuffer=new ArrayBuffer($TriangleLength$$*this._bufferCapacity),this._trianglesReader=new Uint8Array(this._trianglesArrayBuffer);else{$count$$=[];for(var $newArrayBuffer$$=new ArrayBuffer($TriangleLength$$*this._bufferCapacity),$i$$=0;$i$$<$locBuffer$$.length;$i$$++)$count$$[$i$$]=
new cc.V2F_C4B_T2F_Triangle($locBuffer$$[$i$$].a,$locBuffer$$[$i$$].b,$locBuffer$$[$i$$].c,$newArrayBuffer$$,$i$$*$TriangleLength$$);this._trianglesReader=new Uint8Array($newArrayBuffer$$);this._trianglesArrayBuffer=$newArrayBuffer$$;this._buffer=$count$$}}},draw:function(){cc.glBlendFunc(this._blendFunc.src,this._blendFunc.dst);this._shaderProgram.use();this._shaderProgram.setUniformsForBuiltins();this._render()},drawDot:function($d$$15_pos$$,$radius$$,$a$$40_color$$){$a$$40_color$$=$a$$40_color$$||
this.getDrawColor();null==$a$$40_color$$.a&&($a$$40_color$$.a=255);var $c4bColor$$={r:0|$a$$40_color$$.r,g:0|$a$$40_color$$.g,b:0|$a$$40_color$$.b,a:0|$a$$40_color$$.a};$a$$40_color$$={vertices:{x:$d$$15_pos$$.x-$radius$$,y:$d$$15_pos$$.y-$radius$$},colors:$c4bColor$$,texCoords:{u:-1,v:-1}};var $b$$={vertices:{x:$d$$15_pos$$.x-$radius$$,y:$d$$15_pos$$.y+$radius$$},colors:$c4bColor$$,texCoords:{u:-1,v:1}},$c$$={vertices:{x:$d$$15_pos$$.x+$radius$$,y:$d$$15_pos$$.y+$radius$$},colors:$c4bColor$$,texCoords:{u:1,
v:1}};$d$$15_pos$$={vertices:{x:$d$$15_pos$$.x+$radius$$,y:$d$$15_pos$$.y-$radius$$},colors:$c4bColor$$,texCoords:{u:1,v:-1}};this._ensureCapacity(6);this._buffer.push(new cc.V2F_C4B_T2F_Triangle($a$$40_color$$,$b$$,$c$$,this._trianglesArrayBuffer,this._buffer.length*cc.V2F_C4B_T2F_Triangle.BYTES_PER_ELEMENT));this._buffer.push(new cc.V2F_C4B_T2F_Triangle($a$$40_color$$,$c$$,$d$$15_pos$$,this._trianglesArrayBuffer,this._buffer.length*cc.V2F_C4B_T2F_Triangle.BYTES_PER_ELEMENT));this._dirty=!0},drawDots:function($points$$,
$radius$$,$color$$){if($points$$&&0!=$points$$.length){$color$$=$color$$||this.getDrawColor();null==$color$$.a&&($color$$.a=255);for(var $i$$=0,$len$$=$points$$.length;$i$$<$len$$;$i$$++)this.drawDot($points$$[$i$$],$radius$$,$color$$)}},drawSegment:function($from$$4_t$$,$n$$14_to$$,$radius$$16_v0$$,$c4bColor$$1_color$$){$c4bColor$$1_color$$=$c4bColor$$1_color$$||this.getDrawColor();null==$c4bColor$$1_color$$.a&&($c4bColor$$1_color$$.a=255);$radius$$16_v0$$=$radius$$16_v0$$||.5*this._lineWidth;this._ensureCapacity(18);
$c4bColor$$1_color$$={r:0|$c4bColor$$1_color$$.r,g:0|$c4bColor$$1_color$$.g,b:0|$c4bColor$$1_color$$.b,a:0|$c4bColor$$1_color$$.a};var $a$$=cc.__v2f($from$$4_t$$),$b$$31_v3$$=cc.__v2f($n$$14_to$$);$n$$14_to$$=cc.v2fnormalize(cc.v2fperp(cc.v2fsub($b$$31_v3$$,$a$$)));$from$$4_t$$=cc.v2fperp($n$$14_to$$);var $TriangleLength$$=cc.v2fmult($n$$14_to$$,$radius$$16_v0$$),$triangleBuffer_tw$$=cc.v2fmult($from$$4_t$$,$radius$$16_v0$$);$radius$$16_v0$$=cc.v2fsub($b$$31_v3$$,cc.v2fadd($TriangleLength$$,$triangleBuffer_tw$$));
var $v1$$=cc.v2fadd($b$$31_v3$$,cc.v2fsub($TriangleLength$$,$triangleBuffer_tw$$)),$v2$$=cc.v2fsub($b$$31_v3$$,$TriangleLength$$),$b$$31_v3$$=cc.v2fadd($b$$31_v3$$,$TriangleLength$$),$v4$$=cc.v2fsub($a$$,$TriangleLength$$),$v5$$=cc.v2fadd($a$$,$TriangleLength$$),$v6$$=cc.v2fsub($a$$,cc.v2fsub($TriangleLength$$,$triangleBuffer_tw$$)),$a$$=cc.v2fadd($a$$,cc.v2fadd($TriangleLength$$,$triangleBuffer_tw$$)),$TriangleLength$$=cc.V2F_C4B_T2F_Triangle.BYTES_PER_ELEMENT,$triangleBuffer_tw$$=this._trianglesArrayBuffer,
$locBuffer$$=this._buffer;$locBuffer$$.push(new cc.V2F_C4B_T2F_Triangle({vertices:$radius$$16_v0$$,colors:$c4bColor$$1_color$$,texCoords:cc.__t(cc.v2fneg(cc.v2fadd($n$$14_to$$,$from$$4_t$$)))},{vertices:$v1$$,colors:$c4bColor$$1_color$$,texCoords:cc.__t(cc.v2fsub($n$$14_to$$,$from$$4_t$$))},{vertices:$v2$$,colors:$c4bColor$$1_color$$,texCoords:cc.__t(cc.v2fneg($n$$14_to$$))},$triangleBuffer_tw$$,$locBuffer$$.length*$TriangleLength$$));$locBuffer$$.push(new cc.V2F_C4B_T2F_Triangle({vertices:$b$$31_v3$$,
colors:$c4bColor$$1_color$$,texCoords:cc.__t($n$$14_to$$)},{vertices:$v1$$,colors:$c4bColor$$1_color$$,texCoords:cc.__t(cc.v2fsub($n$$14_to$$,$from$$4_t$$))},{vertices:$v2$$,colors:$c4bColor$$1_color$$,texCoords:cc.__t(cc.v2fneg($n$$14_to$$))},$triangleBuffer_tw$$,$locBuffer$$.length*$TriangleLength$$));$locBuffer$$.push(new cc.V2F_C4B_T2F_Triangle({vertices:$b$$31_v3$$,colors:$c4bColor$$1_color$$,texCoords:cc.__t($n$$14_to$$)},{vertices:$v4$$,colors:$c4bColor$$1_color$$,texCoords:cc.__t(cc.v2fneg($n$$14_to$$))},
{vertices:$v2$$,colors:$c4bColor$$1_color$$,texCoords:cc.__t(cc.v2fneg($n$$14_to$$))},$triangleBuffer_tw$$,$locBuffer$$.length*$TriangleLength$$));$locBuffer$$.push(new cc.V2F_C4B_T2F_Triangle({vertices:$b$$31_v3$$,colors:$c4bColor$$1_color$$,texCoords:cc.__t($n$$14_to$$)},{vertices:$v4$$,colors:$c4bColor$$1_color$$,texCoords:cc.__t(cc.v2fneg($n$$14_to$$))},{vertices:$v5$$,colors:$c4bColor$$1_color$$,texCoords:cc.__t($n$$14_to$$)},$triangleBuffer_tw$$,$locBuffer$$.length*$TriangleLength$$));$locBuffer$$.push(new cc.V2F_C4B_T2F_Triangle({vertices:$v6$$,
colors:$c4bColor$$1_color$$,texCoords:cc.__t(cc.v2fsub($from$$4_t$$,$n$$14_to$$))},{vertices:$v4$$,colors:$c4bColor$$1_color$$,texCoords:cc.__t(cc.v2fneg($n$$14_to$$))},{vertices:$v5$$,colors:$c4bColor$$1_color$$,texCoords:cc.__t($n$$14_to$$)},$triangleBuffer_tw$$,$locBuffer$$.length*$TriangleLength$$));$locBuffer$$.push(new cc.V2F_C4B_T2F_Triangle({vertices:$v6$$,colors:$c4bColor$$1_color$$,texCoords:cc.__t(cc.v2fsub($from$$4_t$$,$n$$14_to$$))},{vertices:$a$$,colors:$c4bColor$$1_color$$,texCoords:cc.__t(cc.v2fadd($n$$14_to$$,
$from$$4_t$$))},{vertices:$v5$$,colors:$c4bColor$$1_color$$,texCoords:cc.__t($n$$14_to$$)},$triangleBuffer_tw$$,$locBuffer$$.length*$TriangleLength$$));this._dirty=!0},drawPoly:function($verts$$,$c4bFillColor_fillColor$$,$borderWidth$$,$borderColor_c4bBorderColor$$){if(null==$c4bFillColor_fillColor$$)this._drawSegments($verts$$,$borderWidth$$,$borderColor_c4bBorderColor$$,!0);else{null==$c4bFillColor_fillColor$$.a&&($c4bFillColor_fillColor$$.a=255);null==$borderColor_c4bBorderColor$$.a&&($borderColor_c4bBorderColor$$.a=
255);$borderWidth$$=$borderWidth$$||this._lineWidth;$borderWidth$$*=.5;$c4bFillColor_fillColor$$={r:0|$c4bFillColor_fillColor$$.r,g:0|$c4bFillColor_fillColor$$.g,b:0|$c4bFillColor_fillColor$$.b,a:0|$c4bFillColor_fillColor$$.a};$borderColor_c4bBorderColor$$={r:0|$borderColor_c4bBorderColor$$.r,g:0|$borderColor_c4bBorderColor$$.g,b:0|$borderColor_c4bBorderColor$$.b,a:0|$borderColor_c4bBorderColor$$.a};var $extrude$$=[],$i$$,$outer0_v0$$,$n2$$2_outer1_v1$$,$n0_v2$$,$count$$=$verts$$.length;for($i$$=
0;$i$$<$count$$;$i$$++){$outer0_v0$$=cc.__v2f($verts$$[($i$$-1+$count$$)%$count$$]);$n2$$2_outer1_v1$$=cc.__v2f($verts$$[$i$$]);$n0_v2$$=cc.__v2f($verts$$[($i$$+1)%$count$$]);var $n1$$2_offset$$=cc.v2fnormalize(cc.v2fperp(cc.v2fsub($n2$$2_outer1_v1$$,$outer0_v0$$)));$n2$$2_outer1_v1$$=cc.v2fnormalize(cc.v2fperp(cc.v2fsub($n0_v2$$,$n2$$2_outer1_v1$$)));$n1$$2_offset$$=cc.v2fmult(cc.v2fadd($n1$$2_offset$$,$n2$$2_outer1_v1$$),1/(cc.v2fdot($n1$$2_offset$$,$n2$$2_outer1_v1$$)+1));$extrude$$[$i$$]={offset:$n1$$2_offset$$,
n:$n2$$2_outer1_v1$$}}$n1$$2_offset$$=0<$borderWidth$$;this._ensureCapacity(3*(3*$count$$-2));var $triangleBytesLen$$=cc.V2F_C4B_T2F_Triangle.BYTES_PER_ELEMENT,$trianglesBuffer$$=this._trianglesArrayBuffer,$locBuffer$$=this._buffer,$inner0_inset_j$$=0==$n1$$2_offset$$?.5:0;for($i$$=0;$i$$<$count$$-2;$i$$++)$outer0_v0$$=cc.v2fsub(cc.__v2f($verts$$[0]),cc.v2fmult($extrude$$[0].offset,$inner0_inset_j$$)),$n2$$2_outer1_v1$$=cc.v2fsub(cc.__v2f($verts$$[$i$$+1]),cc.v2fmult($extrude$$[$i$$+1].offset,$inner0_inset_j$$)),
$n0_v2$$=cc.v2fsub(cc.__v2f($verts$$[$i$$+2]),cc.v2fmult($extrude$$[$i$$+2].offset,$inner0_inset_j$$)),$locBuffer$$.push(new cc.V2F_C4B_T2F_Triangle({vertices:$outer0_v0$$,colors:$c4bFillColor_fillColor$$,texCoords:cc.__t(cc.v2fzero())},{vertices:$n2$$2_outer1_v1$$,colors:$c4bFillColor_fillColor$$,texCoords:cc.__t(cc.v2fzero())},{vertices:$n0_v2$$,colors:$c4bFillColor_fillColor$$,texCoords:cc.__t(cc.v2fzero())},$trianglesBuffer$$,$locBuffer$$.length*$triangleBytesLen$$));for($i$$=0;$i$$<$count$$;$i$$++){$inner0_inset_j$$=
($i$$+1)%$count$$;$outer0_v0$$=cc.__v2f($verts$$[$i$$]);$n2$$2_outer1_v1$$=cc.__v2f($verts$$[$inner0_inset_j$$]);$n0_v2$$=$extrude$$[$i$$].n;var $offset0$$=$extrude$$[$i$$].offset,$offset1$$=$extrude$$[$inner0_inset_j$$].offset,$inner0_inset_j$$=$n1$$2_offset$$?cc.v2fsub($outer0_v0$$,cc.v2fmult($offset0$$,$borderWidth$$)):cc.v2fsub($outer0_v0$$,cc.v2fmult($offset0$$,.5)),$inner1$$=$n1$$2_offset$$?cc.v2fsub($n2$$2_outer1_v1$$,cc.v2fmult($offset1$$,$borderWidth$$)):cc.v2fsub($n2$$2_outer1_v1$$,cc.v2fmult($offset1$$,
.5));$outer0_v0$$=$n1$$2_offset$$?cc.v2fadd($outer0_v0$$,cc.v2fmult($offset0$$,$borderWidth$$)):cc.v2fadd($outer0_v0$$,cc.v2fmult($offset0$$,.5));$n2$$2_outer1_v1$$=$n1$$2_offset$$?cc.v2fadd($n2$$2_outer1_v1$$,cc.v2fmult($offset1$$,$borderWidth$$)):cc.v2fadd($n2$$2_outer1_v1$$,cc.v2fmult($offset1$$,.5));$n1$$2_offset$$?($locBuffer$$.push(new cc.V2F_C4B_T2F_Triangle({vertices:$inner0_inset_j$$,colors:$borderColor_c4bBorderColor$$,texCoords:cc.__t(cc.v2fneg($n0_v2$$))},{vertices:$inner1$$,colors:$borderColor_c4bBorderColor$$,
texCoords:cc.__t(cc.v2fneg($n0_v2$$))},{vertices:$n2$$2_outer1_v1$$,colors:$borderColor_c4bBorderColor$$,texCoords:cc.__t($n0_v2$$)},$trianglesBuffer$$,$locBuffer$$.length*$triangleBytesLen$$)),$locBuffer$$.push(new cc.V2F_C4B_T2F_Triangle({vertices:$inner0_inset_j$$,colors:$borderColor_c4bBorderColor$$,texCoords:cc.__t(cc.v2fneg($n0_v2$$))},{vertices:$outer0_v0$$,colors:$borderColor_c4bBorderColor$$,texCoords:cc.__t($n0_v2$$)},{vertices:$n2$$2_outer1_v1$$,colors:$borderColor_c4bBorderColor$$,texCoords:cc.__t($n0_v2$$)},
$trianglesBuffer$$,$locBuffer$$.length*$triangleBytesLen$$))):($locBuffer$$.push(new cc.V2F_C4B_T2F_Triangle({vertices:$inner0_inset_j$$,colors:$c4bFillColor_fillColor$$,texCoords:cc.__t(cc.v2fzero())},{vertices:$inner1$$,colors:$c4bFillColor_fillColor$$,texCoords:cc.__t(cc.v2fzero())},{vertices:$n2$$2_outer1_v1$$,colors:$c4bFillColor_fillColor$$,texCoords:cc.__t($n0_v2$$)},$trianglesBuffer$$,$locBuffer$$.length*$triangleBytesLen$$)),$locBuffer$$.push(new cc.V2F_C4B_T2F_Triangle({vertices:$inner0_inset_j$$,
colors:$c4bFillColor_fillColor$$,texCoords:cc.__t(cc.v2fzero())},{vertices:$outer0_v0$$,colors:$c4bFillColor_fillColor$$,texCoords:cc.__t($n0_v2$$)},{vertices:$n2$$2_outer1_v1$$,colors:$c4bFillColor_fillColor$$,texCoords:cc.__t($n0_v2$$)},$trianglesBuffer$$,$locBuffer$$.length*$triangleBytesLen$$)))}this._dirty=!0}},_drawSegments:function($verts$$,$borderWidth$$,$borderColor$$1_c4bBorderColor$$,$closePoly_len$$){$borderWidth$$=$borderWidth$$||this._lineWidth;$borderColor$$1_c4bBorderColor$$=$borderColor$$1_c4bBorderColor$$||
this._drawColor;null==$borderColor$$1_c4bBorderColor$$.a&&($borderColor$$1_c4bBorderColor$$.a=255);$borderWidth$$*=.5;if(!(0>=$borderWidth$$)){$borderColor$$1_c4bBorderColor$$={r:0|$borderColor$$1_c4bBorderColor$$.r,g:0|$borderColor$$1_c4bBorderColor$$.g,b:0|$borderColor$$1_c4bBorderColor$$.b,a:0|$borderColor$$1_c4bBorderColor$$.a};var $extrude$$=[],$i$$,$outer0$$1_v0$$,$n2$$3_outer1$$1_v1$$,$offset$$35_triangleBytesLen$$1_v2$$,$count$$=$verts$$.length;for($i$$=0;$i$$<$count$$;$i$$++){$outer0$$1_v0$$=
cc.__v2f($verts$$[($i$$-1+$count$$)%$count$$]);$n2$$3_outer1$$1_v1$$=cc.__v2f($verts$$[$i$$]);$offset$$35_triangleBytesLen$$1_v2$$=cc.__v2f($verts$$[($i$$+1)%$count$$]);var $n1$$3_trianglesBuffer$$=cc.v2fnormalize(cc.v2fperp(cc.v2fsub($n2$$3_outer1$$1_v1$$,$outer0$$1_v0$$)));$n2$$3_outer1$$1_v1$$=cc.v2fnormalize(cc.v2fperp(cc.v2fsub($offset$$35_triangleBytesLen$$1_v2$$,$n2$$3_outer1$$1_v1$$)));$offset$$35_triangleBytesLen$$1_v2$$=cc.v2fmult(cc.v2fadd($n1$$3_trianglesBuffer$$,$n2$$3_outer1$$1_v1$$),
1/(cc.v2fdot($n1$$3_trianglesBuffer$$,$n2$$3_outer1$$1_v1$$)+1));$extrude$$[$i$$]={offset:$offset$$35_triangleBytesLen$$1_v2$$,n:$n2$$3_outer1$$1_v1$$}}this._ensureCapacity(3*(3*$count$$-2));$offset$$35_triangleBytesLen$$1_v2$$=cc.V2F_C4B_T2F_Triangle.BYTES_PER_ELEMENT;var $n1$$3_trianglesBuffer$$=this._trianglesArrayBuffer,$locBuffer$$=this._buffer;$closePoly_len$$=$closePoly_len$$?$count$$:$count$$-1;for($i$$=0;$i$$<$closePoly_len$$;$i$$++){var $inner0$$1_j$$=($i$$+1)%$count$$;$outer0$$1_v0$$=cc.__v2f($verts$$[$i$$]);
$n2$$3_outer1$$1_v1$$=cc.__v2f($verts$$[$inner0$$1_j$$]);var $n0$$=$extrude$$[$i$$].n,$offset0$$=$extrude$$[$i$$].offset,$offset1$$=$extrude$$[$inner0$$1_j$$].offset,$inner0$$1_j$$=cc.v2fsub($outer0$$1_v0$$,cc.v2fmult($offset0$$,$borderWidth$$)),$inner1$$=cc.v2fsub($n2$$3_outer1$$1_v1$$,cc.v2fmult($offset1$$,$borderWidth$$));$outer0$$1_v0$$=cc.v2fadd($outer0$$1_v0$$,cc.v2fmult($offset0$$,$borderWidth$$));$n2$$3_outer1$$1_v1$$=cc.v2fadd($n2$$3_outer1$$1_v1$$,cc.v2fmult($offset1$$,$borderWidth$$));
$locBuffer$$.push(new cc.V2F_C4B_T2F_Triangle({vertices:$inner0$$1_j$$,colors:$borderColor$$1_c4bBorderColor$$,texCoords:cc.__t(cc.v2fneg($n0$$))},{vertices:$inner1$$,colors:$borderColor$$1_c4bBorderColor$$,texCoords:cc.__t(cc.v2fneg($n0$$))},{vertices:$n2$$3_outer1$$1_v1$$,colors:$borderColor$$1_c4bBorderColor$$,texCoords:cc.__t($n0$$)},$n1$$3_trianglesBuffer$$,$locBuffer$$.length*$offset$$35_triangleBytesLen$$1_v2$$));$locBuffer$$.push(new cc.V2F_C4B_T2F_Triangle({vertices:$inner0$$1_j$$,colors:$borderColor$$1_c4bBorderColor$$,
texCoords:cc.__t(cc.v2fneg($n0$$))},{vertices:$outer0$$1_v0$$,colors:$borderColor$$1_c4bBorderColor$$,texCoords:cc.__t($n0$$)},{vertices:$n2$$3_outer1$$1_v1$$,colors:$borderColor$$1_c4bBorderColor$$,texCoords:cc.__t($n0$$)},$n1$$3_trianglesBuffer$$,$locBuffer$$.length*$offset$$35_triangleBytesLen$$1_v2$$))}this._dirty=!0}},clear:function(){this._buffer.length=0;this._dirty=!0}});cc.DrawNode=cc._renderType==cc._RENDER_TYPE_WEBGL?cc.DrawNodeWebGL:cc.DrawNodeCanvas;cc.DrawNode.create=function $cc$DrawNode$create$(){return new cc.DrawNode};
cc._DrawNodeElement=function $cc$_DrawNodeElement$($type$$,$verts$$,$fillColor$$,$lineWidth$$,$lineColor$$,$lineCap$$,$isClosePolygon$$,$isFill$$,$isStroke$$){this.type=$type$$;this.verts=$verts$$||null;this.fillColor=$fillColor$$||null;this.lineWidth=$lineWidth$$||0;this.lineColor=$lineColor$$||null;this.lineCap=$lineCap$$||"butt";this.isClosePolygon=$isClosePolygon$$||!1;this.isFill=$isFill$$||!1;this.isStroke=$isStroke$$||!1};cc.DrawNode.TYPE_DOT=0;cc.DrawNode.TYPE_SEGMENT=1;
cc.DrawNode.TYPE_POLY=2;cc.stencilBits=-1;
cc.ClippingNode=cc.Node.extend({alphaThreshold:0,inverted:!1,_rendererSaveCmd:null,_rendererClipCmd:null,_rendererRestoreCmd:null,_beforeVisitCmd:null,_afterDrawStencilCmd:null,_afterVisitCmd:null,_stencil:null,_godhelpme:!1,_clipElemType:null,_currentStencilFunc:null,_currentStencilRef:null,_currentStencilValueMask:null,_currentStencilFail:null,_currentStencilPassDepthFail:null,_currentStencilPassDepthPass:null,_currentStencilWriteMask:null,_currentStencilEnabled:null,_currentDepthWriteMask:null,
_mask_layer_le:null,ctor:function($stencil$$){cc.Node.prototype.ctor.call(this);this._stencil=null;this.alphaThreshold=0;this.inverted=!1;cc.ClippingNode.prototype.init.call(this,$stencil$$||null)},_initRendererCmd:function(){cc._renderType===cc._RENDER_TYPE_CANVAS?(this._rendererSaveCmd=new cc.ClippingNodeSaveRenderCmdCanvas(this),this._rendererClipCmd=new cc.ClippingNodeClipRenderCmdCanvas(this),this._rendererRestoreCmd=new cc.ClippingNodeRestoreRenderCmdCanvas(this)):(this._beforeVisitCmd=new cc.CustomRenderCmdWebGL(this,
this._onBeforeVisit),this._afterDrawStencilCmd=new cc.CustomRenderCmdWebGL(this,this._onAfterDrawStencil),this._afterVisitCmd=new cc.CustomRenderCmdWebGL(this,this._onAfterVisit))},init:null,_className:"ClippingNode",_initForWebGL:function($stencil$$){this._stencil=$stencil$$;this.alphaThreshold=1;this.inverted=!1;cc.ClippingNode._init_once=!0;cc.ClippingNode._init_once&&(cc.stencilBits=cc._renderContext.getParameter(cc._renderContext.STENCIL_BITS),0>=cc.stencilBits&&cc.log("Stencil buffer is not enabled."),
cc.ClippingNode._init_once=!1);return!0},_initForCanvas:function($stencil$$){this._stencil=$stencil$$;this.alphaThreshold=1;this.inverted=!1},onEnter:function(){cc.Node.prototype.onEnter.call(this);this._stencil.onEnter()},onEnterTransitionDidFinish:function(){cc.Node.prototype.onEnterTransitionDidFinish.call(this);this._stencil.onEnterTransitionDidFinish()},onExitTransitionDidStart:function(){this._stencil.onExitTransitionDidStart();cc.Node.prototype.onExitTransitionDidStart.call(this)},onExit:function(){this._stencil.onExit();
cc.Node.prototype.onExit.call(this)},visit:null,_visitForWebGL:function($ctx$$69_currentStack$$){if(1>cc.stencilBits)cc.Node.prototype.visit.call(this,$ctx$$69_currentStack$$);else if(this._stencil&&this._stencil.visible)if(cc.ClippingNode._layer+1==cc.stencilBits)cc.ClippingNode._visit_once=!0,cc.ClippingNode._visit_once&&(cc.log("Nesting more than "+cc.stencilBits+"stencils is not supported. Everything will be drawn without stencil for this node and its childs."),cc.ClippingNode._visit_once=!1),
cc.Node.prototype.visit.call(this,$ctx$$69_currentStack$$);else{cc.renderer.pushRenderCommand(this._beforeVisitCmd);$ctx$$69_currentStack$$=cc.current_stack;$ctx$$69_currentStack$$.stack.push($ctx$$69_currentStack$$.top);cc.kmMat4Assign(this._stackMatrix,$ctx$$69_currentStack$$.top);$ctx$$69_currentStack$$.top=this._stackMatrix;this.transform();this._stencil.visit();cc.renderer.pushRenderCommand(this._afterDrawStencilCmd);var $locChildren$$=this._children;if($locChildren$$&&0<$locChildren$$.length){var $childLen$$=
$locChildren$$.length;this.sortAllChildren();for(var $i$$=0;$i$$<$childLen$$;$i$$++)if($locChildren$$[$i$$]&&0>$locChildren$$[$i$$]._localZOrder)$locChildren$$[$i$$].visit();else break;for(this._rendererCmd&&cc.renderer.pushRenderCommand(this._rendererCmd);$i$$<$childLen$$;$i$$++)$locChildren$$[$i$$]&&$locChildren$$[$i$$].visit()}else this._rendererCmd&&cc.renderer.pushRenderCommand(this._rendererCmd);cc.renderer.pushRenderCommand(this._afterVisitCmd);$ctx$$69_currentStack$$.top=$ctx$$69_currentStack$$.stack.pop()}else this.inverted&&
cc.Node.prototype.visit.call(this,$ctx$$69_currentStack$$)},_onBeforeVisit:function($alphaValueLocation_ctx$$70_gl$$){$alphaValueLocation_ctx$$70_gl$$=$alphaValueLocation_ctx$$70_gl$$||cc._renderContext;cc.ClippingNode._layer++;var $mask_layer_program$$=1<<cc.ClippingNode._layer;this._mask_layer_le=$mask_layer_program$$|$mask_layer_program$$-1;this._currentStencilEnabled=$alphaValueLocation_ctx$$70_gl$$.isEnabled($alphaValueLocation_ctx$$70_gl$$.STENCIL_TEST);this._currentStencilWriteMask=$alphaValueLocation_ctx$$70_gl$$.getParameter($alphaValueLocation_ctx$$70_gl$$.STENCIL_WRITEMASK);
this._currentStencilFunc=$alphaValueLocation_ctx$$70_gl$$.getParameter($alphaValueLocation_ctx$$70_gl$$.STENCIL_FUNC);this._currentStencilRef=$alphaValueLocation_ctx$$70_gl$$.getParameter($alphaValueLocation_ctx$$70_gl$$.STENCIL_REF);this._currentStencilValueMask=$alphaValueLocation_ctx$$70_gl$$.getParameter($alphaValueLocation_ctx$$70_gl$$.STENCIL_VALUE_MASK);this._currentStencilFail=$alphaValueLocation_ctx$$70_gl$$.getParameter($alphaValueLocation_ctx$$70_gl$$.STENCIL_FAIL);this._currentStencilPassDepthFail=
$alphaValueLocation_ctx$$70_gl$$.getParameter($alphaValueLocation_ctx$$70_gl$$.STENCIL_PASS_DEPTH_FAIL);this._currentStencilPassDepthPass=$alphaValueLocation_ctx$$70_gl$$.getParameter($alphaValueLocation_ctx$$70_gl$$.STENCIL_PASS_DEPTH_PASS);$alphaValueLocation_ctx$$70_gl$$.enable($alphaValueLocation_ctx$$70_gl$$.STENCIL_TEST);$alphaValueLocation_ctx$$70_gl$$.stencilMask($mask_layer_program$$);this._currentDepthWriteMask=$alphaValueLocation_ctx$$70_gl$$.getParameter($alphaValueLocation_ctx$$70_gl$$.DEPTH_WRITEMASK);
$alphaValueLocation_ctx$$70_gl$$.depthMask(!1);$alphaValueLocation_ctx$$70_gl$$.stencilFunc($alphaValueLocation_ctx$$70_gl$$.NEVER,$mask_layer_program$$,$mask_layer_program$$);$alphaValueLocation_ctx$$70_gl$$.stencilOp(this.inverted?$alphaValueLocation_ctx$$70_gl$$.REPLACE:$alphaValueLocation_ctx$$70_gl$$.ZERO,$alphaValueLocation_ctx$$70_gl$$.KEEP,$alphaValueLocation_ctx$$70_gl$$.KEEP);this._drawFullScreenQuadClearStencil();$alphaValueLocation_ctx$$70_gl$$.stencilFunc($alphaValueLocation_ctx$$70_gl$$.NEVER,
$mask_layer_program$$,$mask_layer_program$$);$alphaValueLocation_ctx$$70_gl$$.stencilOp(this.inverted?$alphaValueLocation_ctx$$70_gl$$.ZERO:$alphaValueLocation_ctx$$70_gl$$.REPLACE,$alphaValueLocation_ctx$$70_gl$$.KEEP,$alphaValueLocation_ctx$$70_gl$$.KEEP);1>this.alphaThreshold&&($mask_layer_program$$=cc.shaderCache.programForKey(cc.SHADER_POSITION_TEXTURECOLORALPHATEST),$alphaValueLocation_ctx$$70_gl$$=$alphaValueLocation_ctx$$70_gl$$.getUniformLocation($mask_layer_program$$.getProgram(),cc.UNIFORM_ALPHA_TEST_VALUE_S),
cc.glUseProgram($mask_layer_program$$.getProgram()),$mask_layer_program$$.setUniformLocationWith1f($alphaValueLocation_ctx$$70_gl$$,this.alphaThreshold),cc.setProgram(this._stencil,$mask_layer_program$$))},_drawFullScreenQuadClearStencil:function(){cc.kmGLMatrixMode(cc.KM_GL_PROJECTION);cc.kmGLPushMatrix();cc.kmGLLoadIdentity();cc.kmGLMatrixMode(cc.KM_GL_MODELVIEW);cc.kmGLPushMatrix();cc.kmGLLoadIdentity();cc._drawingUtil.drawSolidRect(cc.p(-1,-1),cc.p(1,1),cc.color(255,255,255,255));cc.kmGLMatrixMode(cc.KM_GL_PROJECTION);
cc.kmGLPopMatrix();cc.kmGLMatrixMode(cc.KM_GL_MODELVIEW);cc.kmGLPopMatrix()},_onAfterDrawStencil:function($ctx$$71_gl$$){$ctx$$71_gl$$=$ctx$$71_gl$$||cc._renderContext;$ctx$$71_gl$$.depthMask(this._currentDepthWriteMask);$ctx$$71_gl$$.stencilFunc($ctx$$71_gl$$.EQUAL,this._mask_layer_le,this._mask_layer_le);$ctx$$71_gl$$.stencilOp($ctx$$71_gl$$.KEEP,$ctx$$71_gl$$.KEEP,$ctx$$71_gl$$.KEEP)},_onAfterVisit:function($ctx$$72_gl$$){$ctx$$72_gl$$=$ctx$$72_gl$$||cc._renderContext;$ctx$$72_gl$$.stencilFunc(this._currentStencilFunc,
this._currentStencilRef,this._currentStencilValueMask);$ctx$$72_gl$$.stencilOp(this._currentStencilFail,this._currentStencilPassDepthFail,this._currentStencilPassDepthPass);$ctx$$72_gl$$.stencilMask(this._currentStencilWriteMask);this._currentStencilEnabled||$ctx$$72_gl$$.disable($ctx$$72_gl$$.STENCIL_TEST);cc.ClippingNode._layer--},_visitForCanvas:function($ctx$$73_i$$){this._clipElemType=this._cangodhelpme()||this._stencil instanceof cc.Sprite;var $context$$=$ctx$$73_i$$||cc._renderContext,$children$$=
this._children,$locChild$$;if(this._stencil&&this._stencil.visible){this._rendererSaveCmd&&cc.renderer.pushRenderCommand(this._rendererSaveCmd);this._clipElemType?cc.Node.prototype.visit.call(this,$context$$):this._stencil.visit($context$$);this._rendererClipCmd&&cc.renderer.pushRenderCommand(this._rendererClipCmd);this.transform();if(this._clipElemType)this._stencil.visit();else{this._cangodhelpme(!0);var $len$$=$children$$.length;if(0<$len$$){this.sortAllChildren();for($ctx$$73_i$$=0;$ctx$$73_i$$<
$len$$;$ctx$$73_i$$++)if($locChild$$=$children$$[$ctx$$73_i$$],0>$locChild$$._localZOrder)$locChild$$.visit($context$$);else break;for(this._rendererCmd&&cc.renderer.pushRenderCommand(this._rendererCmd);$ctx$$73_i$$<$len$$;$ctx$$73_i$$++)$children$$[$ctx$$73_i$$].visit($context$$)}else this._rendererCmd&&cc.renderer.pushRenderCommand(this._rendererCmd);this._cangodhelpme(!1)}this._rendererRestoreCmd&&cc.renderer.pushRenderCommand(this._rendererRestoreCmd)}else this.inverted&&cc.Node.prototype.visit.call(this,
$ctx$$73_i$$)},getStencil:function(){return this._stencil},setStencil:null,_setStencilForWebGL:function($stencil$$){this._stencil!=$stencil$$&&(this._stencil&&(this._stencil._parent=null),this._stencil=$stencil$$)&&(this._stencil._parent=this)},_setStencilForCanvas:function($stencil$$){this._stencil=$stencil$$;if($stencil$$._buffer)for(var $i$$=0;$i$$<$stencil$$._buffer.length;$i$$++)$stencil$$._buffer[$i$$].isFill=!1,$stencil$$._buffer[$i$$].isStroke=!1;$stencil$$ instanceof cc.DrawNode&&($stencil$$._rendererCmd.rendering=
function $$stencil$$$_rendererCmd$rendering$($context$$33_ctx$$,$scaleX$$,$scaleY$$){$scaleX$$=$scaleX$$||cc.view.getScaleX();$scaleY$$=$scaleY$$||cc.view.getScaleY();$context$$33_ctx$$=$context$$33_ctx$$||cc._renderContext;var $i$$239_t$$=this._node._transformWorld;$context$$33_ctx$$.save();$context$$33_ctx$$.transform($i$$239_t$$.a,$i$$239_t$$.b,$i$$239_t$$.c,$i$$239_t$$.d,$i$$239_t$$.tx*$scaleX$$,-$i$$239_t$$.ty*$scaleY$$);$context$$33_ctx$$.beginPath();for($i$$239_t$$=0;$i$$239_t$$<$stencil$$._buffer.length;$i$$239_t$$++){var $vertices$$=
$stencil$$._buffer[$i$$239_t$$].verts,$firstPoint$$3_j$$=$vertices$$[0];$context$$33_ctx$$.moveTo($firstPoint$$3_j$$.x*$scaleX$$,-$firstPoint$$3_j$$.y*$scaleY$$);for(var $firstPoint$$3_j$$=1,$len$$=$vertices$$.length;$firstPoint$$3_j$$<$len$$;$firstPoint$$3_j$$++)$context$$33_ctx$$.lineTo($vertices$$[$firstPoint$$3_j$$].x*$scaleX$$,-$vertices$$[$firstPoint$$3_j$$].y*$scaleY$$)}$context$$33_ctx$$.restore()})},getAlphaThreshold:function(){return this.alphaThreshold},setAlphaThreshold:function($alphaThreshold$$){this.alphaThreshold=
$alphaThreshold$$},isInverted:function(){return this.inverted},setInverted:function($inverted$$){this.inverted=$inverted$$},_cangodhelpme:function($godhelpme$$){if(!0===$godhelpme$$||!1===$godhelpme$$)cc.ClippingNode.prototype._godhelpme=$godhelpme$$;return cc.ClippingNode.prototype._godhelpme},_transformForRenderer:function($parentMatrix$$){cc.Node.prototype._transformForRenderer.call(this,$parentMatrix$$);this._stencil&&this._stencil._transformForRenderer(this._stackMatrix)}});_p=cc.ClippingNode.prototype;
cc._renderType===cc._RENDER_TYPE_WEBGL?(_p.init=_p._initForWebGL,_p.visit=_p._visitForWebGL,_p.setStencil=_p._setStencilForWebGL):(_p.init=_p._initForCanvas,_p.visit=_p._visitForCanvas,_p.setStencil=_p._setStencilForCanvas);cc.defineGetterSetter(_p,"stencil",_p.getStencil,_p.setStencil);_p.stencil;cc.ClippingNode._init_once=null;cc.ClippingNode._visit_once=null;cc.ClippingNode._layer=-1;cc.ClippingNode._sharedCache=null;
cc.ClippingNode._getSharedCache=function $cc$ClippingNode$_getSharedCache$(){return cc.ClippingNode._sharedCache||(cc.ClippingNode._sharedCache=document.createElement("canvas"))};cc.ClippingNode.create=function $cc$ClippingNode$create$($stencil$$){return new cc.ClippingNode($stencil$$)};
cc.GridBase=cc.Class.extend({_active:!1,_reuseGrid:0,_gridSize:null,_texture:null,_step:null,_grabber:null,_isTextureFlipped:!1,_shaderProgram:null,_directorProjection:0,_dirty:!1,ctor:function($gridSize$$,$texture$$,$flipped$$){cc._checkWebGLRenderMode();this._active=!1;this._reuseGrid=0;this._texture=this._gridSize=null;this._step=cc.p(0,0);this._grabber=null;this._isTextureFlipped=!1;this._shaderProgram=null;this._directorProjection=0;this._dirty=!1;void 0!==$gridSize$$&&this.initWithSize($gridSize$$,
$texture$$,$flipped$$)},isActive:function(){return this._active},setActive:function($active_director$$){this._active=$active_director$$;if(!$active_director$$){$active_director$$=cc.director;var $proj$$=$active_director$$.getProjection();$active_director$$.setProjection($proj$$)}},getReuseGrid:function(){return this._reuseGrid},setReuseGrid:function($reuseGrid$$){this._reuseGrid=$reuseGrid$$},getGridSize:function(){return cc.size(this._gridSize.width,this._gridSize.height)},setGridSize:function($gridSize$$){this._gridSize.width=
parseInt($gridSize$$.width);this._gridSize.height=parseInt($gridSize$$.height)},getStep:function(){return cc.p(this._step.x,this._step.y)},setStep:function($step$$){this._step.x=$step$$.x;this._step.y=$step$$.y},isTextureFlipped:function(){return this._isTextureFlipped},setTextureFlipped:function($flipped$$){this._isTextureFlipped!=$flipped$$&&(this._isTextureFlipped=$flipped$$,this.calculateVertexPoints())},initWithSize:function($gridSize$$,$texture$$,$flipped$$){if(!$texture$$){var $winSize$$=cc.director.getWinSizeInPixels(),
$POTWide$$=cc.NextPOT($winSize$$.width),$POTHigh$$=cc.NextPOT($winSize$$.height),$data$$=new Uint8Array($POTWide$$*$POTHigh$$*4);if(!$data$$)return cc.log("cocos2d: CCGrid: not enough memory."),!1;$texture$$=new cc.Texture2D;$texture$$.initWithData($data$$,cc.Texture2D.PIXEL_FORMAT_RGBA8888,$POTWide$$,$POTHigh$$,$winSize$$);if(!$texture$$)return cc.log("cocos2d: CCGrid: error creating texture"),!1}this._active=!1;this._reuseGrid=0;this._gridSize=$gridSize$$;this._texture=$texture$$;this._isTextureFlipped=
$flipped$$||!1;this._step.x=this._texture.width/$gridSize$$.width;this._step.y=this._texture.height/$gridSize$$.height;this._grabber=new cc.Grabber;if(!this._grabber)return!1;this._grabber.grab(this._texture);this._shaderProgram=cc.shaderCache.programForKey(cc.SHADER_POSITION_TEXTURE);this.calculateVertexPoints();return!0},beforeDraw:function(){this._directorProjection=cc.director.getProjection();this._grabber.beforeRender(this._texture)},afterDraw:function($target$$){this._grabber.afterRender(this._texture);
if($target$$&&$target$$.getCamera().isDirty()){var $offset$$=$target$$.getAnchorPointInPoints();cc.kmGLTranslatef($offset$$.x,$offset$$.y,0);$target$$.getCamera().locate();cc.kmGLTranslatef(-$offset$$.x,-$offset$$.y,0)}cc.glBindTexture2D(this._texture);this.blit()},blit:function(){cc.log("cc.GridBase.blit(): Shall be overridden in subclass.")},reuse:function(){cc.log("cc.GridBase.reuse(): Shall be overridden in subclass.")},calculateVertexPoints:function(){cc.log("cc.GridBase.calculateVertexPoints(): Shall be overridden in subclass.")},
set2DProjection:function(){var $winSize$$=cc.director.getWinSizeInPixels();cc._renderContext.viewport(0,0,$winSize$$.width,$winSize$$.height);cc.kmGLMatrixMode(cc.KM_GL_PROJECTION);cc.kmGLLoadIdentity();var $orthoMatrix$$=new cc.kmMat4;cc.kmMat4OrthographicProjection($orthoMatrix$$,0,$winSize$$.width,0,$winSize$$.height,-1,1);cc.kmGLMultMatrix($orthoMatrix$$);cc.kmGLMatrixMode(cc.KM_GL_MODELVIEW);cc.kmGLLoadIdentity();cc.setProjectionMatrixDirty()}});
cc.GridBase.create=function $cc$GridBase$create$($gridSize$$,$texture$$,$flipped$$){return new cc.GridBase($gridSize$$,$texture$$,$flipped$$)};
cc.Grid3D=cc.GridBase.extend({_texCoordinates:null,_vertices:null,_originalVertices:null,_indices:null,_texCoordinateBuffer:null,_verticesBuffer:null,_indicesBuffer:null,ctor:function($gridSize$$,$texture$$,$flipped$$){cc.GridBase.prototype.ctor.call(this);this._indicesBuffer=this._verticesBuffer=this._texCoordinateBuffer=this._indices=this._originalVertices=this._vertices=this._texCoordinates=null;void 0!==$gridSize$$&&this.initWithSize($gridSize$$,$texture$$,$flipped$$)},vertex:function($index$$89_pos$$){$index$$89_pos$$.x===
(0|$index$$89_pos$$.x)&&$index$$89_pos$$.y===(0|$index$$89_pos$$.y)||cc.log("cc.Grid3D.vertex() : Numbers must be integers");$index$$89_pos$$=0|3*($index$$89_pos$$.x*(this._gridSize.height+1)+$index$$89_pos$$.y);var $locVertices$$=this._vertices;return new cc.Vertex3F($locVertices$$[$index$$89_pos$$],$locVertices$$[$index$$89_pos$$+1],$locVertices$$[$index$$89_pos$$+2])},originalVertex:function($index$$90_pos$$){$index$$90_pos$$.x===(0|$index$$90_pos$$.x)&&$index$$90_pos$$.y===(0|$index$$90_pos$$.y)||
cc.log("cc.Grid3D.originalVertex() : Numbers must be integers");$index$$90_pos$$=0|3*($index$$90_pos$$.x*(this._gridSize.height+1)+$index$$90_pos$$.y);var $locOriginalVertices$$=this._originalVertices;return new cc.Vertex3F($locOriginalVertices$$[$index$$90_pos$$],$locOriginalVertices$$[$index$$90_pos$$+1],$locOriginalVertices$$[$index$$90_pos$$+2])},setVertex:function($pos$$,$vertex$$){$pos$$.x===(0|$pos$$.x)&&$pos$$.y===(0|$pos$$.y)||cc.log("cc.Grid3D.setVertex() : Numbers must be integers");var $index$$=
0|3*($pos$$.x*(this._gridSize.height+1)+$pos$$.y),$vertArray$$=this._vertices;$vertArray$$[$index$$]=$vertex$$.x;$vertArray$$[$index$$+1]=$vertex$$.y;$vertArray$$[$index$$+2]=$vertex$$.z;this._dirty=!0},blit:function($n$$15_target$$){$n$$15_target$$=this._gridSize.width*this._gridSize.height;cc.glEnableVertexAttribs(cc.VERTEX_ATTRIB_FLAG_POSITION|cc.VERTEX_ATTRIB_FLAG_TEX_COORDS);this._shaderProgram.use();this._shaderProgram.setUniformsForBuiltins();var $gl$$=cc._renderContext,$locDirty$$=this._dirty;
$gl$$.bindBuffer($gl$$.ARRAY_BUFFER,this._verticesBuffer);$locDirty$$&&$gl$$.bufferData($gl$$.ARRAY_BUFFER,this._vertices,$gl$$.DYNAMIC_DRAW);$gl$$.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,3,$gl$$.FLOAT,!1,0,0);$gl$$.bindBuffer($gl$$.ARRAY_BUFFER,this._texCoordinateBuffer);$locDirty$$&&$gl$$.bufferData($gl$$.ARRAY_BUFFER,this._texCoordinates,$gl$$.DYNAMIC_DRAW);$gl$$.vertexAttribPointer(cc.VERTEX_ATTRIB_TEX_COORDS,2,$gl$$.FLOAT,!1,0,0);$gl$$.bindBuffer($gl$$.ELEMENT_ARRAY_BUFFER,this._indicesBuffer);
$locDirty$$&&$gl$$.bufferData($gl$$.ELEMENT_ARRAY_BUFFER,this._indices,$gl$$.STATIC_DRAW);$gl$$.drawElements($gl$$.TRIANGLES,6*$n$$15_target$$,$gl$$.UNSIGNED_SHORT,0);$locDirty$$&&(this._dirty=!1);cc.incrementGLDraws(1)},reuse:function(){if(0<this._reuseGrid){for(var $locOriginalVertices$$=this._originalVertices,$locVertices$$=this._vertices,$i$$=0,$len$$=this._vertices.length;$i$$<$len$$;$i$$++)$locOriginalVertices$$[$i$$]=$locVertices$$[$i$$];--this._reuseGrid}},calculateVertexPoints:function(){var $gl$$=
cc._renderContext,$width$$=this._texture.pixelsWidth,$height$$=this._texture.pixelsHeight,$imageH$$=this._texture.getContentSizeInPixels().height,$locGridSize$$=this._gridSize,$numOfPoints_x$$=($locGridSize$$.width+1)*($locGridSize$$.height+1);this._vertices=new Float32Array(3*$numOfPoints_x$$);this._texCoordinates=new Float32Array(2*$numOfPoints_x$$);this._indices=new Uint16Array($locGridSize$$.width*$locGridSize$$.height*6);this._verticesBuffer&&$gl$$.deleteBuffer(this._verticesBuffer);this._verticesBuffer=
$gl$$.createBuffer();this._texCoordinateBuffer&&$gl$$.deleteBuffer(this._texCoordinateBuffer);this._texCoordinateBuffer=$gl$$.createBuffer();this._indicesBuffer&&$gl$$.deleteBuffer(this._indicesBuffer);this._indicesBuffer=$gl$$.createBuffer();for(var $y$$,$i$$241_x1$$,$locIndices$$=this._indices,$locTexCoordinates$$=this._texCoordinates,$locIsTextureFlipped$$=this._isTextureFlipped,$locVertices$$=this._vertices,$numOfPoints_x$$=0;$numOfPoints_x$$<$locGridSize$$.width;++$numOfPoints_x$$)for($y$$=0;$y$$<
$locGridSize$$.height;++$y$$){var $idx$$3_l1$$=$y$$*$locGridSize$$.width+$numOfPoints_x$$;$i$$241_x1$$=$numOfPoints_x$$*this._step.x;var $tex2_x2$$=$i$$241_x1$$+this._step.x,$y1$$=$y$$*this._step.y,$y2$$=$y1$$+this._step.y,$a$$=$numOfPoints_x$$*($locGridSize$$.height+1)+$y$$,$b$$=($numOfPoints_x$$+1)*($locGridSize$$.height+1)+$y$$,$c$$=($numOfPoints_x$$+1)*($locGridSize$$.height+1)+($y$$+1),$d$$=$numOfPoints_x$$*($locGridSize$$.height+1)+($y$$+1);$locIndices$$[6*$idx$$3_l1$$]=$a$$;$locIndices$$[6*
$idx$$3_l1$$+1]=$b$$;$locIndices$$[6*$idx$$3_l1$$+2]=$d$$;$locIndices$$[6*$idx$$3_l1$$+3]=$b$$;$locIndices$$[6*$idx$$3_l1$$+4]=$c$$;$locIndices$$[6*$idx$$3_l1$$+5]=$d$$;var $idx$$3_l1$$=[3*$a$$,3*$b$$,3*$c$$,3*$d$$],$l2$$=[{x:$i$$241_x1$$,y:$y1$$,z:0},{x:$tex2_x2$$,y:$y1$$,z:0},{x:$tex2_x2$$,y:$y2$$,z:0},{x:$i$$241_x1$$,y:$y2$$,z:0}],$a$$=[2*$a$$,2*$b$$,2*$c$$,2*$d$$],$tex2_x2$$=[cc.p($i$$241_x1$$,$y1$$),cc.p($tex2_x2$$,$y1$$),cc.p($tex2_x2$$,$y2$$),cc.p($i$$241_x1$$,$y2$$)];for($i$$241_x1$$=0;4>
$i$$241_x1$$;++$i$$241_x1$$)$locVertices$$[$idx$$3_l1$$[$i$$241_x1$$]]=$l2$$[$i$$241_x1$$].x,$locVertices$$[$idx$$3_l1$$[$i$$241_x1$$]+1]=$l2$$[$i$$241_x1$$].y,$locVertices$$[$idx$$3_l1$$[$i$$241_x1$$]+2]=$l2$$[$i$$241_x1$$].z,$locTexCoordinates$$[$a$$[$i$$241_x1$$]]=$tex2_x2$$[$i$$241_x1$$].x/$width$$,$locTexCoordinates$$[$a$$[$i$$241_x1$$]+1]=$locIsTextureFlipped$$?($imageH$$-$tex2_x2$$[$i$$241_x1$$].y)/$height$$:$tex2_x2$$[$i$$241_x1$$].y/$height$$}this._originalVertices=new Float32Array(this._vertices);
$gl$$.bindBuffer($gl$$.ARRAY_BUFFER,this._verticesBuffer);$gl$$.bufferData($gl$$.ARRAY_BUFFER,this._vertices,$gl$$.DYNAMIC_DRAW);$gl$$.bindBuffer($gl$$.ARRAY_BUFFER,this._texCoordinateBuffer);$gl$$.bufferData($gl$$.ARRAY_BUFFER,this._texCoordinates,$gl$$.DYNAMIC_DRAW);$gl$$.bindBuffer($gl$$.ELEMENT_ARRAY_BUFFER,this._indicesBuffer);$gl$$.bufferData($gl$$.ELEMENT_ARRAY_BUFFER,this._indices,$gl$$.STATIC_DRAW);this._dirty=!0}});
cc.Grid3D.create=function $cc$Grid3D$create$($gridSize$$,$texture$$,$flipped$$){return new cc.Grid3D($gridSize$$,$texture$$,$flipped$$)};
cc.TiledGrid3D=cc.GridBase.extend({_texCoordinates:null,_vertices:null,_originalVertices:null,_indices:null,_texCoordinateBuffer:null,_verticesBuffer:null,_indicesBuffer:null,ctor:function($gridSize$$,$texture$$,$flipped$$){cc.GridBase.prototype.ctor.call(this);this._indicesBuffer=this._verticesBuffer=this._texCoordinateBuffer=this._indices=this._originalVertices=this._vertices=this._texCoordinates=null;void 0!==$gridSize$$&&this.initWithSize($gridSize$$,$texture$$,$flipped$$)},tile:function($idx$$4_pos$$){$idx$$4_pos$$.x===
(0|$idx$$4_pos$$.x)&&$idx$$4_pos$$.y===(0|$idx$$4_pos$$.y)||cc.log("cc.TiledGrid3D.tile() : Numbers must be integers");$idx$$4_pos$$=12*(this._gridSize.height*$idx$$4_pos$$.x+$idx$$4_pos$$.y);var $locVertices$$=this._vertices;return new cc.Quad3(new cc.Vertex3F($locVertices$$[$idx$$4_pos$$],$locVertices$$[$idx$$4_pos$$+1],$locVertices$$[$idx$$4_pos$$+2]),new cc.Vertex3F($locVertices$$[$idx$$4_pos$$+3],$locVertices$$[$idx$$4_pos$$+4],$locVertices$$[$idx$$4_pos$$+5]),new cc.Vertex3F($locVertices$$[$idx$$4_pos$$+
6],$locVertices$$[$idx$$4_pos$$+7],$locVertices$$[$idx$$4_pos$$+8]),new cc.Vertex3F($locVertices$$[$idx$$4_pos$$+9],$locVertices$$[$idx$$4_pos$$+10],$locVertices$$[$idx$$4_pos$$+11]))},originalTile:function($idx$$5_pos$$){$idx$$5_pos$$.x===(0|$idx$$5_pos$$.x)&&$idx$$5_pos$$.y===(0|$idx$$5_pos$$.y)||cc.log("cc.TiledGrid3D.originalTile() : Numbers must be integers");$idx$$5_pos$$=12*(this._gridSize.height*$idx$$5_pos$$.x+$idx$$5_pos$$.y);var $locOriginalVertices$$=this._originalVertices;return new cc.Quad3(new cc.Vertex3F($locOriginalVertices$$[$idx$$5_pos$$],
$locOriginalVertices$$[$idx$$5_pos$$+1],$locOriginalVertices$$[$idx$$5_pos$$+2]),new cc.Vertex3F($locOriginalVertices$$[$idx$$5_pos$$+3],$locOriginalVertices$$[$idx$$5_pos$$+4],$locOriginalVertices$$[$idx$$5_pos$$+5]),new cc.Vertex3F($locOriginalVertices$$[$idx$$5_pos$$+6],$locOriginalVertices$$[$idx$$5_pos$$+7],$locOriginalVertices$$[$idx$$5_pos$$+8]),new cc.Vertex3F($locOriginalVertices$$[$idx$$5_pos$$+9],$locOriginalVertices$$[$idx$$5_pos$$+10],$locOriginalVertices$$[$idx$$5_pos$$+11]))},setTile:function($pos$$,
$coords$$){$pos$$.x===(0|$pos$$.x)&&$pos$$.y===(0|$pos$$.y)||cc.log("cc.TiledGrid3D.setTile() : Numbers must be integers");var $idx$$=12*(this._gridSize.height*$pos$$.x+$pos$$.y),$locVertices$$=this._vertices;$locVertices$$[$idx$$]=$coords$$.bl.x;$locVertices$$[$idx$$+1]=$coords$$.bl.y;$locVertices$$[$idx$$+2]=$coords$$.bl.z;$locVertices$$[$idx$$+3]=$coords$$.br.x;$locVertices$$[$idx$$+4]=$coords$$.br.y;$locVertices$$[$idx$$+5]=$coords$$.br.z;$locVertices$$[$idx$$+6]=$coords$$.tl.x;$locVertices$$[$idx$$+
7]=$coords$$.tl.y;$locVertices$$[$idx$$+8]=$coords$$.tl.z;$locVertices$$[$idx$$+9]=$coords$$.tr.x;$locVertices$$[$idx$$+10]=$coords$$.tr.y;$locVertices$$[$idx$$+11]=$coords$$.tr.z;this._dirty=!0},blit:function($n$$16_target$$){$n$$16_target$$=this._gridSize.width*this._gridSize.height;this._shaderProgram.use();this._shaderProgram.setUniformsForBuiltins();var $gl$$=cc._renderContext,$locDirty$$=this._dirty;cc.glEnableVertexAttribs(cc.VERTEX_ATTRIB_FLAG_POSITION|cc.VERTEX_ATTRIB_FLAG_TEX_COORDS);$gl$$.bindBuffer($gl$$.ARRAY_BUFFER,
this._verticesBuffer);$locDirty$$&&$gl$$.bufferData($gl$$.ARRAY_BUFFER,this._vertices,$gl$$.DYNAMIC_DRAW);$gl$$.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,3,$gl$$.FLOAT,!1,0,this._vertices);$gl$$.bindBuffer($gl$$.ARRAY_BUFFER,this._texCoordinateBuffer);$locDirty$$&&$gl$$.bufferData($gl$$.ARRAY_BUFFER,this._texCoordinates,$gl$$.DYNAMIC_DRAW);$gl$$.vertexAttribPointer(cc.VERTEX_ATTRIB_TEX_COORDS,2,$gl$$.FLOAT,!1,0,this._texCoordinates);$gl$$.bindBuffer($gl$$.ELEMENT_ARRAY_BUFFER,this._indicesBuffer);
$locDirty$$&&$gl$$.bufferData($gl$$.ELEMENT_ARRAY_BUFFER,this._indices,$gl$$.STATIC_DRAW);$gl$$.drawElements($gl$$.TRIANGLES,6*$n$$16_target$$,$gl$$.UNSIGNED_SHORT,0);$locDirty$$&&(this._dirty=!1);cc.incrementGLDraws(1)},reuse:function(){if(0<this._reuseGrid){for(var $locVertices$$=this._vertices,$locOriginalVertices$$=this._originalVertices,$i$$=0;$i$$<$locVertices$$.length;$i$$++)$locOriginalVertices$$[$i$$]=$locVertices$$[$i$$];--this._reuseGrid}},calculateVertexPoints:function(){var $locIndices$$2_width$$=
this._texture.pixelsWidth,$height$$=this._texture.pixelsHeight,$imageH$$=this._texture.getContentSizeInPixels().height,$locGridSize$$=this._gridSize,$numQuads$$=$locGridSize$$.width*$locGridSize$$.height;this._vertices=new Float32Array(12*$numQuads$$);this._texCoordinates=new Float32Array(8*$numQuads$$);this._indices=new Uint16Array(6*$numQuads$$);var $gl$$=cc._renderContext;this._verticesBuffer&&$gl$$.deleteBuffer(this._verticesBuffer);this._verticesBuffer=$gl$$.createBuffer();this._texCoordinateBuffer&&
$gl$$.deleteBuffer(this._texCoordinateBuffer);this._texCoordinateBuffer=$gl$$.createBuffer();this._indicesBuffer&&$gl$$.deleteBuffer(this._indicesBuffer);this._indicesBuffer=$gl$$.createBuffer();var $x$$,$y$$,$i$$=0,$locStep$$=this._step,$locVertices$$=this._vertices,$locTexCoords$$=this._texCoordinates,$locIsTextureFlipped$$=this._isTextureFlipped;for($x$$=0;$x$$<$locGridSize$$.width;$x$$++)for($y$$=0;$y$$<$locGridSize$$.height;$y$$++){var $x1$$=$x$$*$locStep$$.x,$x2$$=$x1$$+$locStep$$.x,$y1$$=$y$$*
$locStep$$.y,$y2$$=$y1$$+$locStep$$.y;$locVertices$$[12*$i$$]=$x1$$;$locVertices$$[12*$i$$+1]=$y1$$;$locVertices$$[12*$i$$+2]=0;$locVertices$$[12*$i$$+3]=$x2$$;$locVertices$$[12*$i$$+4]=$y1$$;$locVertices$$[12*$i$$+5]=0;$locVertices$$[12*$i$$+6]=$x1$$;$locVertices$$[12*$i$$+7]=$y2$$;$locVertices$$[12*$i$$+8]=0;$locVertices$$[12*$i$$+9]=$x2$$;$locVertices$$[12*$i$$+10]=$y2$$;$locVertices$$[12*$i$$+11]=0;var $newY1$$=$y1$$,$newY2$$=$y2$$;$locIsTextureFlipped$$&&($newY1$$=$imageH$$-$y1$$,$newY2$$=$imageH$$-
$y2$$);$locTexCoords$$[8*$i$$]=$x1$$/$locIndices$$2_width$$;$locTexCoords$$[8*$i$$+1]=$newY1$$/$height$$;$locTexCoords$$[8*$i$$+2]=$x2$$/$locIndices$$2_width$$;$locTexCoords$$[8*$i$$+3]=$newY1$$/$height$$;$locTexCoords$$[8*$i$$+4]=$x1$$/$locIndices$$2_width$$;$locTexCoords$$[8*$i$$+5]=$newY2$$/$height$$;$locTexCoords$$[8*$i$$+6]=$x2$$/$locIndices$$2_width$$;$locTexCoords$$[8*$i$$+7]=$newY2$$/$height$$;$i$$++}$locIndices$$2_width$$=this._indices;for($x$$=0;$x$$<$numQuads$$;$x$$++)$locIndices$$2_width$$[6*
$x$$+0]=4*$x$$+0,$locIndices$$2_width$$[6*$x$$+1]=4*$x$$+1,$locIndices$$2_width$$[6*$x$$+2]=4*$x$$+2,$locIndices$$2_width$$[6*$x$$+3]=4*$x$$+1,$locIndices$$2_width$$[6*$x$$+4]=4*$x$$+2,$locIndices$$2_width$$[6*$x$$+5]=4*$x$$+3;this._originalVertices=new Float32Array(this._vertices);$gl$$.bindBuffer($gl$$.ARRAY_BUFFER,this._verticesBuffer);$gl$$.bufferData($gl$$.ARRAY_BUFFER,this._vertices,$gl$$.DYNAMIC_DRAW);$gl$$.bindBuffer($gl$$.ARRAY_BUFFER,this._texCoordinateBuffer);$gl$$.bufferData($gl$$.ARRAY_BUFFER,
this._texCoordinates,$gl$$.DYNAMIC_DRAW);$gl$$.bindBuffer($gl$$.ELEMENT_ARRAY_BUFFER,this._indicesBuffer);$gl$$.bufferData($gl$$.ELEMENT_ARRAY_BUFFER,this._indices,$gl$$.DYNAMIC_DRAW);this._dirty=!0}});cc.TiledGrid3D.create=function $cc$TiledGrid3D$create$($gridSize$$,$texture$$,$flipped$$){return new cc.TiledGrid3D($gridSize$$,$texture$$,$flipped$$)};
cc.Grabber=cc.Class.extend({_FBO:null,_oldFBO:null,_oldClearColor:null,_gl:null,ctor:function(){cc._checkWebGLRenderMode();this._gl=cc._renderContext;this._oldClearColor=[0,0,0,0];this._oldFBO=null;this._FBO=this._gl.createFramebuffer()},grab:function($texture$$){var $locGL$$=this._gl;this._oldFBO=$locGL$$.getParameter($locGL$$.FRAMEBUFFER_BINDING);$locGL$$.bindFramebuffer($locGL$$.FRAMEBUFFER,this._FBO);$locGL$$.framebufferTexture2D($locGL$$.FRAMEBUFFER,$locGL$$.COLOR_ATTACHMENT0,$locGL$$.TEXTURE_2D,
$texture$$._webTextureObj,0);$locGL$$.checkFramebufferStatus($locGL$$.FRAMEBUFFER)!=$locGL$$.FRAMEBUFFER_COMPLETE&&cc.log("Frame Grabber: could not attach texture to frmaebuffer");$locGL$$.bindFramebuffer($locGL$$.FRAMEBUFFER,this._oldFBO)},beforeRender:function($locGL$$2_texture$$){$locGL$$2_texture$$=this._gl;this._oldFBO=$locGL$$2_texture$$.getParameter($locGL$$2_texture$$.FRAMEBUFFER_BINDING);$locGL$$2_texture$$.bindFramebuffer($locGL$$2_texture$$.FRAMEBUFFER,this._FBO);this._oldClearColor=$locGL$$2_texture$$.getParameter($locGL$$2_texture$$.COLOR_CLEAR_VALUE);
$locGL$$2_texture$$.clearColor(0,0,0,0);$locGL$$2_texture$$.clear($locGL$$2_texture$$.COLOR_BUFFER_BIT|$locGL$$2_texture$$.DEPTH_BUFFER_BIT)},afterRender:function($locGL$$3_texture$$){$locGL$$3_texture$$=this._gl;$locGL$$3_texture$$.bindFramebuffer($locGL$$3_texture$$.FRAMEBUFFER,this._oldFBO);$locGL$$3_texture$$.colorMask(!0,!0,!0,!0)},destroy:function(){this._gl.deleteFramebuffer(this._FBO)}});
cc.GridAction=cc.ActionInterval.extend({_gridSize:null,ctor:function($duration$$,$gridSize$$){cc._checkWebGLRenderMode();cc.ActionInterval.prototype.ctor.call(this);this._gridSize=cc.size(0,0);$gridSize$$&&this.initWithDuration($duration$$,$gridSize$$)},clone:function(){var $action$$=new cc.GridAction,$locGridSize$$=this._gridSize;$action$$.initWithDuration(this._duration,cc.size($locGridSize$$.width,$locGridSize$$.height));return $action$$},startWithTarget:function($target$$){cc.ActionInterval.prototype.startWithTarget.call(this,
$target$$);cc.renderer.childrenOrderDirty=!0;var $locGridSize$$=this.getGrid(),$t$$=this.target;($target$$=$t$$.grid)&&0<$target$$.getReuseGrid()?($locGridSize$$=$target$$.getGridSize(),$target$$.isActive()&&$locGridSize$$.width==this._gridSize.width&&$locGridSize$$.height==this._gridSize.height&&$target$$.reuse()):($target$$&&$target$$.isActive()&&$target$$.setActive(!1),$t$$.grid=$locGridSize$$,$t$$.grid.setActive(!0))},reverse:function(){return new cc.ReverseTime(this)},initWithDuration:function($duration$$,
$gridSize$$){return cc.ActionInterval.prototype.initWithDuration.call(this,$duration$$)?(this._gridSize.width=$gridSize$$.width,this._gridSize.height=$gridSize$$.height,!0):!1},getGrid:function(){cc.log("cc.GridAction.getGrid(): it should be overridden in subclass.")}});cc.gridAction=function $cc$gridAction$($duration$$,$gridSize$$){return new cc.GridAction($duration$$,$gridSize$$)};cc.GridAction.create=cc.gridAction;
cc.Grid3DAction=cc.GridAction.extend({getGrid:function(){return new cc.Grid3D(this._gridSize)},vertex:function($position$$){return this.target.grid.vertex($position$$)},originalVertex:function($position$$){return this.target.grid.originalVertex($position$$)},setVertex:function($position$$,$vertex$$){this.target.grid.setVertex($position$$,$vertex$$)}});cc.grid3DAction=function $cc$grid3DAction$($duration$$,$gridSize$$){return new cc.Grid3DAction($duration$$,$gridSize$$)};cc.Grid3DAction.create=cc.grid3DAction;
cc.TiledGrid3DAction=cc.GridAction.extend({tile:function($position$$){return this.target.grid.tile($position$$)},originalTile:function($position$$){return this.target.grid.originalTile($position$$)},setTile:function($position$$,$coords$$){this.target.grid.setTile($position$$,$coords$$)},getGrid:function(){return new cc.TiledGrid3D(this._gridSize)}});cc.tiledGrid3DAction=function $cc$tiledGrid3DAction$($duration$$,$gridSize$$){return new cc.TiledGrid3DAction($duration$$,$gridSize$$)};
cc.TiledGrid3DAction.create=cc.tiledGrid3DAction;cc.StopGrid=cc.ActionInstant.extend({startWithTarget:function($grid$$2_target$$){cc.ActionInstant.prototype.startWithTarget.call(this,$grid$$2_target$$);cc.renderer.childrenOrderDirty=!0;($grid$$2_target$$=this.target.grid)&&$grid$$2_target$$.isActive()&&$grid$$2_target$$.setActive(!1)}});cc.stopGrid=function $cc$stopGrid$(){return new cc.StopGrid};cc.StopGrid.create=cc.stopGrid;
cc.ReuseGrid=cc.ActionInstant.extend({_times:null,ctor:function($times$$){cc.ActionInstant.prototype.ctor.call(this);void 0!==$times$$&&this.initWithTimes($times$$)},initWithTimes:function($times$$){this._times=$times$$;return!0},startWithTarget:function($target$$){cc.ActionInstant.prototype.startWithTarget.call(this,$target$$);cc.renderer.childrenOrderDirty=!0;this.target.grid&&this.target.grid.isActive()&&this.target.grid.setReuseGrid(this.target.grid.getReuseGrid()+this._times)}});
cc.reuseGrid=function $cc$reuseGrid$($times$$){return new cc.ReuseGrid($times$$)};cc.ReuseGrid.create=cc.reuseGrid;
cc.Waves3D=cc.Grid3DAction.extend({_waves:0,_amplitude:0,_amplitudeRate:0,ctor:function($duration$$,$gridSize$$,$waves$$,$amplitude$$){cc.GridAction.prototype.ctor.call(this);void 0!==$amplitude$$&&this.initWithDuration($duration$$,$gridSize$$,$waves$$,$amplitude$$)},getAmplitude:function(){return this._amplitude},setAmplitude:function($amplitude$$){this._amplitude=$amplitude$$},getAmplitudeRate:function(){return this._amplitudeRate},setAmplitudeRate:function($amplitudeRate$$){this._amplitudeRate=
$amplitudeRate$$},initWithDuration:function($duration$$,$gridSize$$,$waves$$,$amplitude$$){return cc.Grid3DAction.prototype.initWithDuration.call(this,$duration$$,$gridSize$$)?(this._waves=$waves$$,this._amplitude=$amplitude$$,this._amplitudeRate=1,!0):!1},update:function($dt$$){for(var $locGridSize$$=this._gridSize,$locAmplitude$$=this._amplitude,$locPos$$=cc.p(0,0),$locAmplitudeRate$$=this._amplitudeRate,$locWaves$$=this._waves,$i$$=0;$i$$<$locGridSize$$.width+1;++$i$$)for(var $j$$=0;$j$$<$locGridSize$$.height+
1;++$j$$){$locPos$$.x=$i$$;$locPos$$.y=$j$$;var $v$$=this.originalVertex($locPos$$);$v$$.z+=Math.sin(Math.PI*$dt$$*$locWaves$$*2+.01*($v$$.y+$v$$.x))*$locAmplitude$$*$locAmplitudeRate$$;this.setVertex($locPos$$,$v$$)}}});cc.waves3D=function $cc$waves3D$($duration$$,$gridSize$$,$waves$$,$amplitude$$){return new cc.Waves3D($duration$$,$gridSize$$,$waves$$,$amplitude$$)};cc.Waves3D.create=cc.waves3D;
cc.FlipX3D=cc.Grid3DAction.extend({ctor:function($duration$$){void 0!==$duration$$?cc.GridAction.prototype.ctor.call(this,$duration$$,cc.size(1,1)):cc.GridAction.prototype.ctor.call(this)},initWithDuration:function($duration$$){return cc.Grid3DAction.prototype.initWithDuration.call(this,$duration$$,cc.size(1,1))},initWithSize:function($gridSize$$,$duration$$){return 1!=$gridSize$$.width||1!=$gridSize$$.height?(cc.log("Grid size must be (1,1)"),!1):cc.Grid3DAction.prototype.initWithDuration.call(this,
$duration$$,$gridSize$$)},update:function($dt$$104_mz_v$$){var $angle$$=Math.PI*$dt$$104_mz_v$$;$dt$$104_mz_v$$=Math.sin($angle$$);var $mx$$=Math.cos($angle$$/2),$angle$$=new cc.Vertex3F,$b$$33_tempVer_v1$$=cc.p(0,0);$b$$33_tempVer_v1$$.x=$b$$33_tempVer_v1$$.y=1;var $a$$43_v0$$=this.originalVertex($b$$33_tempVer_v1$$);$b$$33_tempVer_v1$$.x=$b$$33_tempVer_v1$$.y=0;var $b$$33_tempVer_v1$$=this.originalVertex($b$$33_tempVer_v1$$),$x$$131_x0$$=$a$$43_v0$$.x,$x1$$=$b$$33_tempVer_v1$$.x,$c$$,$d$$;$x$$131_x0$$>
$x1$$?($a$$43_v0$$=cc.p(0,0),$b$$33_tempVer_v1$$=cc.p(0,1),$c$$=cc.p(1,0),$d$$=cc.p(1,1)):($c$$=cc.p(0,0),$d$$=cc.p(0,1),$a$$43_v0$$=cc.p(1,0),$b$$33_tempVer_v1$$=cc.p(1,1),$x$$131_x0$$=$x1$$);$angle$$.x=$x$$131_x0$$-$x$$131_x0$$*$mx$$;$angle$$.z=Math.abs(parseFloat($x$$131_x0$$*$dt$$104_mz_v$$/4));$dt$$104_mz_v$$=this.originalVertex($a$$43_v0$$);$dt$$104_mz_v$$.x=$angle$$.x;$dt$$104_mz_v$$.z+=$angle$$.z;this.setVertex($a$$43_v0$$,$dt$$104_mz_v$$);$dt$$104_mz_v$$=this.originalVertex($b$$33_tempVer_v1$$);
$dt$$104_mz_v$$.x=$angle$$.x;$dt$$104_mz_v$$.z+=$angle$$.z;this.setVertex($b$$33_tempVer_v1$$,$dt$$104_mz_v$$);$dt$$104_mz_v$$=this.originalVertex($c$$);$dt$$104_mz_v$$.x-=$angle$$.x;$dt$$104_mz_v$$.z-=$angle$$.z;this.setVertex($c$$,$dt$$104_mz_v$$);$dt$$104_mz_v$$=this.originalVertex($d$$);$dt$$104_mz_v$$.x-=$angle$$.x;$dt$$104_mz_v$$.z-=$angle$$.z;this.setVertex($d$$,$dt$$104_mz_v$$)}});cc.flipX3D=function $cc$flipX3D$($duration$$){return new cc.FlipX3D($duration$$)};cc.FlipX3D.create=cc.flipX3D;
cc.FlipY3D=cc.FlipX3D.extend({ctor:function($duration$$){void 0!==$duration$$?cc.GridAction.prototype.ctor.call(this,$duration$$,cc.size(1,1)):cc.GridAction.prototype.ctor.call(this)},update:function($dt$$105_mz$$1_v$$){var $angle$$15_diff$$=Math.PI*$dt$$105_mz$$1_v$$;$dt$$105_mz$$1_v$$=Math.sin($angle$$15_diff$$);var $my$$=Math.cos($angle$$15_diff$$/2),$angle$$15_diff$$=new cc.Vertex3F,$b$$34_tempP_v1$$=cc.p(0,0);$b$$34_tempP_v1$$.x=$b$$34_tempP_v1$$.y=1;var $a$$44_v0$$=this.originalVertex($b$$34_tempP_v1$$);
$b$$34_tempP_v1$$.x=$b$$34_tempP_v1$$.y=0;var $b$$34_tempP_v1$$=this.originalVertex($b$$34_tempP_v1$$),$y$$121_y0$$=$a$$44_v0$$.y,$y1$$=$b$$34_tempP_v1$$.y,$c$$,$d$$;$y$$121_y0$$>$y1$$?($a$$44_v0$$=cc.p(0,0),$b$$34_tempP_v1$$=cc.p(0,1),$c$$=cc.p(1,0),$d$$=cc.p(1,1)):($b$$34_tempP_v1$$=cc.p(0,0),$a$$44_v0$$=cc.p(0,1),$d$$=cc.p(1,0),$c$$=cc.p(1,1),$y$$121_y0$$=$y1$$);$angle$$15_diff$$.y=$y$$121_y0$$-$y$$121_y0$$*$my$$;$angle$$15_diff$$.z=Math.abs(parseFloat($y$$121_y0$$*$dt$$105_mz$$1_v$$)/4);$dt$$105_mz$$1_v$$=
this.originalVertex($a$$44_v0$$);$dt$$105_mz$$1_v$$.y=$angle$$15_diff$$.y;$dt$$105_mz$$1_v$$.z+=$angle$$15_diff$$.z;this.setVertex($a$$44_v0$$,$dt$$105_mz$$1_v$$);$dt$$105_mz$$1_v$$=this.originalVertex($b$$34_tempP_v1$$);$dt$$105_mz$$1_v$$.y-=$angle$$15_diff$$.y;$dt$$105_mz$$1_v$$.z-=$angle$$15_diff$$.z;this.setVertex($b$$34_tempP_v1$$,$dt$$105_mz$$1_v$$);$dt$$105_mz$$1_v$$=this.originalVertex($c$$);$dt$$105_mz$$1_v$$.y=$angle$$15_diff$$.y;$dt$$105_mz$$1_v$$.z+=$angle$$15_diff$$.z;this.setVertex($c$$,
$dt$$105_mz$$1_v$$);$dt$$105_mz$$1_v$$=this.originalVertex($d$$);$dt$$105_mz$$1_v$$.y-=$angle$$15_diff$$.y;$dt$$105_mz$$1_v$$.z-=$angle$$15_diff$$.z;this.setVertex($d$$,$dt$$105_mz$$1_v$$)}});cc.flipY3D=function $cc$flipY3D$($duration$$){return new cc.FlipY3D($duration$$)};cc.FlipY3D.create=cc.flipY3D;
cc.Lens3D=cc.Grid3DAction.extend({_position:null,_radius:0,_lensEffect:0,_concave:!1,_dirty:!1,ctor:function($duration$$,$gridSize$$,$position$$,$radius$$){cc.GridAction.prototype.ctor.call(this);this._position=cc.p(0,0);void 0!==$radius$$&&this.initWithDuration($duration$$,$gridSize$$,$position$$,$radius$$)},getLensEffect:function(){return this._lensEffect},setLensEffect:function($lensEffect$$){this._lensEffect=$lensEffect$$},setConcave:function($concave$$){this._concave=$concave$$},getPosition:function(){return this._position},
setPosition:function($position$$){cc.pointEqualToPoint($position$$,this._position)||(this._position.x=$position$$.x,this._position.y=$position$$.y,this._dirty=!0)},initWithDuration:function($duration$$,$gridSize$$,$position$$,$radius$$){return cc.Grid3DAction.prototype.initWithDuration.call(this,$duration$$,$gridSize$$)?(this.setPosition($position$$),this._radius=$radius$$,this._lensEffect=.7,this._dirty=!0):!1},update:function($dt$$){if(this._dirty){$dt$$=this._gridSize.width;for(var $locGridSizeHeight$$=
this._gridSize.height,$locRadius$$=this._radius,$locLensEffect$$=this._lensEffect,$locPos$$=cc.p(0,0),$vect$$=cc.p(0,0),$v$$,$l$$18_pre_log_r$$,$new_r$$,$i$$=0;$i$$<$dt$$+1;++$i$$)for(var $j$$=0;$j$$<$locGridSizeHeight$$+1;++$j$$)$locPos$$.x=$i$$,$locPos$$.y=$j$$,$v$$=this.originalVertex($locPos$$),$vect$$.x=this._position.x-$v$$.x,$vect$$.y=this._position.y-$v$$.y,$l$$18_pre_log_r$$=cc.pLength($vect$$),$l$$18_pre_log_r$$<$locRadius$$&&($l$$18_pre_log_r$$=$locRadius$$-$l$$18_pre_log_r$$,$l$$18_pre_log_r$$/=
$locRadius$$,0==$l$$18_pre_log_r$$&&($l$$18_pre_log_r$$=.001),$l$$18_pre_log_r$$=Math.log($l$$18_pre_log_r$$)*$locLensEffect$$,$new_r$$=Math.exp($l$$18_pre_log_r$$)*$locRadius$$,$l$$18_pre_log_r$$=cc.pLength($vect$$),0<$l$$18_pre_log_r$$&&($vect$$.x/=$l$$18_pre_log_r$$,$vect$$.y/=$l$$18_pre_log_r$$,$vect$$.x*=$new_r$$,$vect$$.y*=$new_r$$,$v$$.z+=cc.pLength($vect$$)*$locLensEffect$$)),this.setVertex($locPos$$,$v$$);this._dirty=!1}}});
cc.lens3D=function $cc$lens3D$($duration$$,$gridSize$$,$position$$,$radius$$){return new cc.Lens3D($duration$$,$gridSize$$,$position$$,$radius$$)};cc.Lens3D.create=cc.lens3D;
cc.Ripple3D=cc.Grid3DAction.extend({_position:null,_radius:0,_waves:0,_amplitude:0,_amplitudeRate:0,ctor:function($duration$$,$gridSize$$,$position$$,$radius$$,$waves$$,$amplitude$$){cc.GridAction.prototype.ctor.call(this);this._position=cc.p(0,0);void 0!==$amplitude$$&&this.initWithDuration($duration$$,$gridSize$$,$position$$,$radius$$,$waves$$,$amplitude$$)},getPosition:function(){return this._position},setPosition:function($position$$){this._position.x=$position$$.x;this._position.y=$position$$.y},
getAmplitude:function(){return this._amplitude},setAmplitude:function($amplitude$$){this._amplitude=$amplitude$$},getAmplitudeRate:function(){return this._amplitudeRate},setAmplitudeRate:function($amplitudeRate$$){this._amplitudeRate=$amplitudeRate$$},initWithDuration:function($duration$$,$gridSize$$,$position$$,$radius$$,$waves$$,$amplitude$$){return cc.Grid3DAction.prototype.initWithDuration.call(this,$duration$$,$gridSize$$)?(this.setPosition($position$$),this._radius=$radius$$,this._waves=$waves$$,
this._amplitude=$amplitude$$,this._amplitudeRate=1,!0):!1},update:function($dt$$){for(var $locGridSizeWidth$$=this._gridSize.width,$locGridSizeHeight$$=this._gridSize.height,$locPos$$=cc.p(0,0),$locRadius$$=this._radius,$locWaves$$=this._waves,$locAmplitude$$=this._amplitude,$locAmplitudeRate$$=this._amplitudeRate,$v$$,$r$$,$tempPos$$=cc.p(0,0),$i$$=0;$i$$<$locGridSizeWidth$$+1;++$i$$)for(var $j$$=0;$j$$<$locGridSizeHeight$$+1;++$j$$){$locPos$$.x=$i$$;$locPos$$.y=$j$$;$v$$=this.originalVertex($locPos$$);
$tempPos$$.x=this._position.x-$v$$.x;$tempPos$$.y=this._position.y-$v$$.y;$r$$=cc.pLength($tempPos$$);if($r$$<$locRadius$$){$r$$=$locRadius$$-$r$$;var $rate$$=Math.pow($r$$/$locRadius$$,2);$v$$.z+=Math.sin($dt$$*Math.PI*$locWaves$$*2+.1*$r$$)*$locAmplitude$$*$locAmplitudeRate$$*$rate$$}this.setVertex($locPos$$,$v$$)}}});
cc.ripple3D=function $cc$ripple3D$($duration$$,$gridSize$$,$position$$,$radius$$,$waves$$,$amplitude$$){return new cc.Ripple3D($duration$$,$gridSize$$,$position$$,$radius$$,$waves$$,$amplitude$$)};cc.Ripple3D.create=cc.ripple3D;
cc.Shaky3D=cc.Grid3DAction.extend({_randRange:0,_shakeZ:!1,ctor:function($duration$$,$gridSize$$,$range$$,$shakeZ$$){cc.GridAction.prototype.ctor.call(this);void 0!==$shakeZ$$&&this.initWithDuration($duration$$,$gridSize$$,$range$$,$shakeZ$$)},initWithDuration:function($duration$$,$gridSize$$,$range$$,$shakeZ$$){return cc.Grid3DAction.prototype.initWithDuration.call(this,$duration$$,$gridSize$$)?(this._randRange=$range$$,this._shakeZ=$shakeZ$$,!0):!1},update:function($dt$$108_locGridSizeWidth$$){$dt$$108_locGridSizeWidth$$=
this._gridSize.width;for(var $locGridSizeHeight$$=this._gridSize.height,$locRandRange$$=this._randRange,$locShakeZ$$=this._shakeZ,$locP$$=cc.p(0,0),$v$$,$i$$=0;$i$$<$dt$$108_locGridSizeWidth$$+1;++$i$$)for(var $j$$=0;$j$$<$locGridSizeHeight$$+1;++$j$$)$locP$$.x=$i$$,$locP$$.y=$j$$,$v$$=this.originalVertex($locP$$),$v$$.x+=cc.rand()%(2*$locRandRange$$)-$locRandRange$$,$v$$.y+=cc.rand()%(2*$locRandRange$$)-$locRandRange$$,$locShakeZ$$&&($v$$.z+=cc.rand()%(2*$locRandRange$$)-$locRandRange$$),this.setVertex($locP$$,
$v$$)}});cc.shaky3D=function $cc$shaky3D$($duration$$,$gridSize$$,$range$$,$shakeZ$$){return new cc.Shaky3D($duration$$,$gridSize$$,$range$$,$shakeZ$$)};cc.Shaky3D.create=cc.shaky3D;
cc.Liquid=cc.Grid3DAction.extend({_waves:0,_amplitude:0,_amplitudeRate:0,ctor:function($duration$$,$gridSize$$,$waves$$,$amplitude$$){cc.GridAction.prototype.ctor.call(this);void 0!==$amplitude$$&&this.initWithDuration($duration$$,$gridSize$$,$waves$$,$amplitude$$)},getAmplitude:function(){return this._amplitude},setAmplitude:function($amplitude$$){this._amplitude=$amplitude$$},getAmplitudeRate:function(){return this._amplitudeRate},setAmplitudeRate:function($amplitudeRate$$){this._amplitudeRate=
$amplitudeRate$$},initWithDuration:function($duration$$,$gridSize$$,$waves$$,$amplitude$$){return cc.Grid3DAction.prototype.initWithDuration.call(this,$duration$$,$gridSize$$)?(this._waves=$waves$$,this._amplitude=$amplitude$$,this._amplitudeRate=1,!0):!1},update:function($dt$$){for(var $locSizeWidth$$=this._gridSize.width,$locSizeHeight$$=this._gridSize.height,$locPos$$=cc.p(0,0),$locWaves$$=this._waves,$locAmplitude$$=this._amplitude,$locAmplitudeRate$$=this._amplitudeRate,$v$$,$i$$=1;$i$$<$locSizeWidth$$;++$i$$)for(var $j$$=
1;$j$$<$locSizeHeight$$;++$j$$)$locPos$$.x=$i$$,$locPos$$.y=$j$$,$v$$=this.originalVertex($locPos$$),$v$$.x+=Math.sin($dt$$*Math.PI*$locWaves$$*2+.01*$v$$.x)*$locAmplitude$$*$locAmplitudeRate$$,$v$$.y+=Math.sin($dt$$*Math.PI*$locWaves$$*2+.01*$v$$.y)*$locAmplitude$$*$locAmplitudeRate$$,this.setVertex($locPos$$,$v$$)}});cc.liquid=function $cc$liquid$($duration$$,$gridSize$$,$waves$$,$amplitude$$){return new cc.Liquid($duration$$,$gridSize$$,$waves$$,$amplitude$$)};cc.Liquid.create=cc.liquid;
cc.Waves=cc.Grid3DAction.extend({_waves:0,_amplitude:0,_amplitudeRate:0,_vertical:!1,_horizontal:!1,ctor:function($duration$$,$gridSize$$,$waves$$,$amplitude$$,$horizontal$$,$vertical$$){cc.GridAction.prototype.ctor.call(this);void 0!==$vertical$$&&this.initWithDuration($duration$$,$gridSize$$,$waves$$,$amplitude$$,$horizontal$$,$vertical$$)},getAmplitude:function(){return this._amplitude},setAmplitude:function($amplitude$$){this._amplitude=$amplitude$$},getAmplitudeRate:function(){return this._amplitudeRate},
setAmplitudeRate:function($amplitudeRate$$){this._amplitudeRate=$amplitudeRate$$},initWithDuration:function($duration$$,$gridSize$$,$waves$$,$amplitude$$,$horizontal$$,$vertical$$){return cc.Grid3DAction.prototype.initWithDuration.call(this,$duration$$,$gridSize$$)?(this._waves=$waves$$,this._amplitude=$amplitude$$,this._amplitudeRate=1,this._horizontal=$horizontal$$,this._vertical=$vertical$$,!0):!1},update:function($dt$$){for(var $locSizeWidth$$=this._gridSize.width,$locSizeHeight$$=this._gridSize.height,
$locPos$$=cc.p(0,0),$locVertical$$=this._vertical,$locHorizontal$$=this._horizontal,$locWaves$$=this._waves,$locAmplitude$$=this._amplitude,$locAmplitudeRate$$=this._amplitudeRate,$v$$,$i$$=0;$i$$<$locSizeWidth$$+1;++$i$$)for(var $j$$=0;$j$$<$locSizeHeight$$+1;++$j$$)$locPos$$.x=$i$$,$locPos$$.y=$j$$,$v$$=this.originalVertex($locPos$$),$locVertical$$&&($v$$.x+=Math.sin($dt$$*Math.PI*$locWaves$$*2+.01*$v$$.y)*$locAmplitude$$*$locAmplitudeRate$$),$locHorizontal$$&&($v$$.y+=Math.sin($dt$$*Math.PI*$locWaves$$*
2+.01*$v$$.x)*$locAmplitude$$*$locAmplitudeRate$$),this.setVertex($locPos$$,$v$$)}});cc.waves=function $cc$waves$($duration$$,$gridSize$$,$waves$$,$amplitude$$,$horizontal$$,$vertical$$){return new cc.Waves($duration$$,$gridSize$$,$waves$$,$amplitude$$,$horizontal$$,$vertical$$)};cc.Waves.create=cc.waves;
cc.Twirl=cc.Grid3DAction.extend({_position:null,_twirls:0,_amplitude:0,_amplitudeRate:0,ctor:function($duration$$,$gridSize$$,$position$$,$twirls$$,$amplitude$$){cc.GridAction.prototype.ctor.call(this);this._position=cc.p(0,0);void 0!==$amplitude$$&&this.initWithDuration($duration$$,$gridSize$$,$position$$,$twirls$$,$amplitude$$)},getPosition:function(){return this._position},setPosition:function($position$$){this._position.x=$position$$.x;this._position.y=$position$$.y},getAmplitude:function(){return this._amplitude},
setAmplitude:function($amplitude$$){this._amplitude=$amplitude$$},getAmplitudeRate:function(){return this._amplitudeRate},setAmplitudeRate:function($amplitudeRate$$){this._amplitudeRate=$amplitudeRate$$},initWithDuration:function($duration$$,$gridSize$$,$position$$,$twirls$$,$amplitude$$){return cc.Grid3DAction.prototype.initWithDuration.call(this,$duration$$,$gridSize$$)?(this.setPosition($position$$),this._twirls=$twirls$$,this._amplitude=$amplitude$$,this._amplitudeRate=1,!0):!1},update:function($dt$$){for(var $c$$=
this._position,$locSizeWidth$$=this._gridSize.width,$locSizeHeight$$=this._gridSize.height,$locPos$$=cc.p(0,0),$amp$$=.1*this._amplitude*this._amplitudeRate,$locTwirls$$=this._twirls,$v$$,$a$$,$dX$$,$avg$$=cc.p(0,0),$i$$=0;$i$$<$locSizeWidth$$+1;++$i$$)for(var $j$$=0;$j$$<$locSizeHeight$$+1;++$j$$)$locPos$$.x=$i$$,$locPos$$.y=$j$$,$v$$=this.originalVertex($locPos$$),$avg$$.x=$i$$-$locSizeWidth$$/2,$avg$$.y=$j$$-$locSizeHeight$$/2,$a$$=cc.pLength($avg$$)*Math.cos(Math.PI/2+$dt$$*Math.PI*$locTwirls$$*
2)*$amp$$,$dX$$=Math.sin($a$$)*($v$$.y-$c$$.y)+Math.cos($a$$)*($v$$.x-$c$$.x),$a$$=Math.cos($a$$)*($v$$.y-$c$$.y)-Math.sin($a$$)*($v$$.x-$c$$.x),$v$$.x=$c$$.x+$dX$$,$v$$.y=$c$$.y+$a$$,this.setVertex($locPos$$,$v$$)}});cc.twirl=function $cc$twirl$($duration$$,$gridSize$$,$position$$,$twirls$$,$amplitude$$){return new cc.Twirl($duration$$,$gridSize$$,$position$$,$twirls$$,$amplitude$$)};cc.Twirl.create=cc.twirl;
cc.ShakyTiles3D=cc.TiledGrid3DAction.extend({_randRange:0,_shakeZ:!1,ctor:function($duration$$,$gridSize$$,$range$$,$shakeZ$$){cc.GridAction.prototype.ctor.call(this);void 0!==$shakeZ$$&&this.initWithDuration($duration$$,$gridSize$$,$range$$,$shakeZ$$)},initWithDuration:function($duration$$,$gridSize$$,$range$$,$shakeZ$$){return cc.TiledGrid3DAction.prototype.initWithDuration.call(this,$duration$$,$gridSize$$)?(this._randRange=$range$$,this._shakeZ=$shakeZ$$,!0):!1},update:function($dt$$112_locGridSize$$){$dt$$112_locGridSize$$=
this._gridSize;for(var $locRandRange$$=this._randRange,$locPos$$=cc.p(0,0),$i$$=0;$i$$<$dt$$112_locGridSize$$.width;++$i$$)for(var $j$$=0;$j$$<$dt$$112_locGridSize$$.height;++$j$$){$locPos$$.x=$i$$;$locPos$$.y=$j$$;var $coords$$=this.originalTile($locPos$$);$coords$$.bl.x+=cc.rand()%(2*$locRandRange$$)-$locRandRange$$;$coords$$.br.x+=cc.rand()%(2*$locRandRange$$)-$locRandRange$$;$coords$$.tl.x+=cc.rand()%(2*$locRandRange$$)-$locRandRange$$;$coords$$.tr.x+=cc.rand()%(2*$locRandRange$$)-$locRandRange$$;
$coords$$.bl.y+=cc.rand()%(2*$locRandRange$$)-$locRandRange$$;$coords$$.br.y+=cc.rand()%(2*$locRandRange$$)-$locRandRange$$;$coords$$.tl.y+=cc.rand()%(2*$locRandRange$$)-$locRandRange$$;$coords$$.tr.y+=cc.rand()%(2*$locRandRange$$)-$locRandRange$$;this._shakeZ&&($coords$$.bl.z+=cc.rand()%(2*$locRandRange$$)-$locRandRange$$,$coords$$.br.z+=cc.rand()%(2*$locRandRange$$)-$locRandRange$$,$coords$$.tl.z+=cc.rand()%(2*$locRandRange$$)-$locRandRange$$,$coords$$.tr.z+=cc.rand()%(2*$locRandRange$$)-$locRandRange$$);
this.setTile($locPos$$,$coords$$)}}});cc.shakyTiles3D=function $cc$shakyTiles3D$($duration$$,$gridSize$$,$range$$,$shakeZ$$){return new cc.ShakyTiles3D($duration$$,$gridSize$$,$range$$,$shakeZ$$)};cc.ShakyTiles3D.create=cc.shakyTiles3D;
cc.ShatteredTiles3D=cc.TiledGrid3DAction.extend({_randRange:0,_once:!1,_shatterZ:!1,ctor:function($duration$$,$gridSize$$,$range$$,$shatterZ$$){cc.GridAction.prototype.ctor.call(this);void 0!==$shatterZ$$&&this.initWithDuration($duration$$,$gridSize$$,$range$$,$shatterZ$$)},initWithDuration:function($duration$$,$gridSize$$,$range$$,$shatterZ$$){return cc.TiledGrid3DAction.prototype.initWithDuration.call(this,$duration$$,$gridSize$$)?(this._once=!1,this._randRange=$range$$,this._shatterZ=$shatterZ$$,
!0):!1},update:function($dt$$113_locGridSize$$){if(!1===this._once){$dt$$113_locGridSize$$=this._gridSize;for(var $locRandRange$$=this._randRange,$coords$$,$locPos$$=cc.p(0,0),$i$$=0;$i$$<$dt$$113_locGridSize$$.width;++$i$$)for(var $j$$=0;$j$$<$dt$$113_locGridSize$$.height;++$j$$)$locPos$$.x=$i$$,$locPos$$.y=$j$$,$coords$$=this.originalTile($locPos$$),$coords$$.bl.x+=cc.rand()%(2*$locRandRange$$)-$locRandRange$$,$coords$$.br.x+=cc.rand()%(2*$locRandRange$$)-$locRandRange$$,$coords$$.tl.x+=cc.rand()%
(2*$locRandRange$$)-$locRandRange$$,$coords$$.tr.x+=cc.rand()%(2*$locRandRange$$)-$locRandRange$$,$coords$$.bl.y+=cc.rand()%(2*$locRandRange$$)-$locRandRange$$,$coords$$.br.y+=cc.rand()%(2*$locRandRange$$)-$locRandRange$$,$coords$$.tl.y+=cc.rand()%(2*$locRandRange$$)-$locRandRange$$,$coords$$.tr.y+=cc.rand()%(2*$locRandRange$$)-$locRandRange$$,this._shatterZ&&($coords$$.bl.z+=cc.rand()%(2*$locRandRange$$)-$locRandRange$$,$coords$$.br.z+=cc.rand()%(2*$locRandRange$$)-$locRandRange$$,$coords$$.tl.z+=
cc.rand()%(2*$locRandRange$$)-$locRandRange$$,$coords$$.tr.z+=cc.rand()%(2*$locRandRange$$)-$locRandRange$$),this.setTile($locPos$$,$coords$$);this._once=!0}}});cc.shatteredTiles3D=function $cc$shatteredTiles3D$($duration$$,$gridSize$$,$range$$,$shatterZ$$){return new cc.ShatteredTiles3D($duration$$,$gridSize$$,$range$$,$shatterZ$$)};cc.ShatteredTiles3D.create=cc.shatteredTiles3D;
cc.Tile=function $cc$Tile$($position$$,$startPosition$$,$delta$$){this.position=$position$$||cc.p(0,0);this.startPosition=$startPosition$$||cc.p(0,0);this.delta=$delta$$||cc.p(0,0)};
cc.ShuffleTiles=cc.TiledGrid3DAction.extend({_seed:0,_tilesCount:0,_tilesOrder:null,_tiles:null,ctor:function($duration$$,$gridSize$$,$seed$$){cc.GridAction.prototype.ctor.call(this);this._tilesOrder=[];this._tiles=[];void 0!==$seed$$&&this.initWithDuration($duration$$,$gridSize$$,$seed$$)},initWithDuration:function($duration$$,$gridSize$$,$seed$$){return cc.TiledGrid3DAction.prototype.initWithDuration.call(this,$duration$$,$gridSize$$)?(this._seed=$seed$$,this._tilesOrder.length=0,this._tiles.length=
0,!0):!1},shuffle:function($array$$,$len$$){for(var $i$$=$len$$-1;0<=$i$$;$i$$--){var $j$$=0|cc.rand()%($i$$+1),$v$$=$array$$[$i$$];$array$$[$i$$]=$array$$[$j$$];$array$$[$j$$]=$v$$}},getDelta:function($pos$$){var $locGridSize$$=this._gridSize,$idx$$=$pos$$.width*$locGridSize$$.height+$pos$$.height;return cc.size(this._tilesOrder[$idx$$]/$locGridSize$$.height-$pos$$.width,this._tilesOrder[$idx$$]%$locGridSize$$.height-$pos$$.height)},placeTile:function($pos$$,$tile$$){var $coords$$=this.originalTile($pos$$),
$step$$=this.target.grid.getStep(),$locPosition$$=$tile$$.position;$coords$$.bl.x+=$locPosition$$.x*$step$$.x;$coords$$.bl.y+=$locPosition$$.y*$step$$.y;$coords$$.br.x+=$locPosition$$.x*$step$$.x;$coords$$.br.y+=$locPosition$$.y*$step$$.y;$coords$$.tl.x+=$locPosition$$.x*$step$$.x;$coords$$.tl.y+=$locPosition$$.y*$step$$.y;$coords$$.tr.x+=$locPosition$$.x*$step$$.x;$coords$$.tr.y+=$locPosition$$.y*$step$$.y;this.setTile($pos$$,$coords$$)},startWithTarget:function($locGridSize$$8_target$$){cc.TiledGrid3DAction.prototype.startWithTarget.call(this,
$locGridSize$$8_target$$);$locGridSize$$8_target$$=this._gridSize;this._tilesCount=$locGridSize$$8_target$$.width*$locGridSize$$8_target$$.height;for(var $locTiles_locTilesOrder$$=this._tilesOrder,$k$$=$locTiles_locTilesOrder$$.length=0;$k$$<this._tilesCount;++$k$$)$locTiles_locTilesOrder$$[$k$$]=$k$$;this.shuffle($locTiles_locTilesOrder$$,this._tilesCount);for(var $locTiles_locTilesOrder$$=this._tiles,$k$$=$locTiles_locTilesOrder$$.length=0,$tempSize$$=cc.size(0,0),$i$$=0;$i$$<$locGridSize$$8_target$$.width;++$i$$)for(var $j$$=
0;$j$$<$locGridSize$$8_target$$.height;++$j$$)$locTiles_locTilesOrder$$[$k$$]=new cc.Tile,$locTiles_locTilesOrder$$[$k$$].position=cc.p($i$$,$j$$),$locTiles_locTilesOrder$$[$k$$].startPosition=cc.p($i$$,$j$$),$tempSize$$.width=$i$$,$tempSize$$.height=$j$$,$locTiles_locTilesOrder$$[$k$$].delta=this.getDelta($tempSize$$),++$k$$},update:function($dt$$){for(var $tileIndex$$=0,$locGridSize$$=this._gridSize,$locTiles$$=this._tiles,$selTile$$,$locPos$$=cc.p(0,0),$i$$=0;$i$$<$locGridSize$$.width;++$i$$)for(var $j$$=
0;$j$$<$locGridSize$$.height;++$j$$)$locPos$$.x=$i$$,$locPos$$.y=$j$$,$selTile$$=$locTiles$$[$tileIndex$$],$selTile$$.position.x=$selTile$$.delta.width*$dt$$,$selTile$$.position.y=$selTile$$.delta.height*$dt$$,this.placeTile($locPos$$,$selTile$$),++$tileIndex$$}});cc.shuffleTiles=function $cc$shuffleTiles$($duration$$,$gridSize$$,$seed$$){return new cc.ShuffleTiles($duration$$,$gridSize$$,$seed$$)};cc.ShuffleTiles.create=cc.shuffleTiles;
cc.FadeOutTRTiles=cc.TiledGrid3DAction.extend({testFunc:function($pos$$,$time$$){var $locX$$=this._gridSize.width*$time$$,$locY$$=this._gridSize.height*$time$$;return 0==$locX$$+$locY$$?1:Math.pow(($pos$$.width+$pos$$.height)/($locX$$+$locY$$),6)},turnOnTile:function($pos$$){this.setTile($pos$$,this.originalTile($pos$$))},turnOffTile:function($pos$$){this.setTile($pos$$,new cc.Quad3)},transformTile:function($pos$$,$distance$$){var $coords$$=this.originalTile($pos$$),$step$$=this.target.grid.getStep();
$coords$$.bl.x+=$step$$.x/2*(1-$distance$$);$coords$$.bl.y+=$step$$.y/2*(1-$distance$$);$coords$$.br.x-=$step$$.x/2*(1-$distance$$);$coords$$.br.y+=$step$$.y/2*(1-$distance$$);$coords$$.tl.x+=$step$$.x/2*(1-$distance$$);$coords$$.tl.y-=$step$$.y/2*(1-$distance$$);$coords$$.tr.x-=$step$$.x/2*(1-$distance$$);$coords$$.tr.y-=$step$$.y/2*(1-$distance$$);this.setTile($pos$$,$coords$$)},update:function($dt$$){for(var $locGridSize$$=this._gridSize,$locPos$$=cc.p(0,0),$locSize$$=cc.size(0,0),$distance$$,
$i$$=0;$i$$<$locGridSize$$.width;++$i$$)for(var $j$$=0;$j$$<$locGridSize$$.height;++$j$$)$locPos$$.x=$i$$,$locPos$$.y=$j$$,$locSize$$.width=$i$$,$locSize$$.height=$j$$,$distance$$=this.testFunc($locSize$$,$dt$$),0==$distance$$?this.turnOffTile($locPos$$):1>$distance$$?this.transformTile($locPos$$,$distance$$):this.turnOnTile($locPos$$)}});cc.fadeOutTRTiles=function $cc$fadeOutTRTiles$($duration$$,$gridSize$$){return new cc.FadeOutTRTiles($duration$$,$gridSize$$)};cc.FadeOutTRTiles.create=cc.fadeOutTRTiles;
cc.FadeOutBLTiles=cc.FadeOutTRTiles.extend({testFunc:function($pos$$,$time$$){return 0==$pos$$.width+$pos$$.height?1:Math.pow((this._gridSize.width*(1-$time$$)+this._gridSize.height*(1-$time$$))/($pos$$.width+$pos$$.height),6)}});cc.fadeOutBLTiles=function $cc$fadeOutBLTiles$($duration$$,$gridSize$$){return new cc.FadeOutBLTiles($duration$$,$gridSize$$)};cc.FadeOutBLTiles.create=cc.fadeOutBLTiles;
cc.FadeOutUpTiles=cc.FadeOutTRTiles.extend({testFunc:function($pos$$,$time$$){var $locY$$=this._gridSize.height*$time$$;return 0==$locY$$?1:Math.pow($pos$$.height/$locY$$,6)},transformTile:function($pos$$,$distance$$){var $coords$$=this.originalTile($pos$$),$step$$=this.target.grid.getStep();$coords$$.bl.y+=$step$$.y/2*(1-$distance$$);$coords$$.br.y+=$step$$.y/2*(1-$distance$$);$coords$$.tl.y-=$step$$.y/2*(1-$distance$$);$coords$$.tr.y-=$step$$.y/2*(1-$distance$$);this.setTile($pos$$,$coords$$)}});
cc.fadeOutUpTiles=function $cc$fadeOutUpTiles$($duration$$,$gridSize$$){return new cc.FadeOutUpTiles($duration$$,$gridSize$$)};cc.FadeOutUpTiles.create=cc.fadeOutUpTiles;cc.FadeOutDownTiles=cc.FadeOutUpTiles.extend({testFunc:function($pos$$,$time$$){return 0==$pos$$.height?1:Math.pow(this._gridSize.height*(1-$time$$)/$pos$$.height,6)}});cc.fadeOutDownTiles=function $cc$fadeOutDownTiles$($duration$$,$gridSize$$){return new cc.FadeOutDownTiles($duration$$,$gridSize$$)};cc.FadeOutDownTiles.create=cc.fadeOutDownTiles;
cc.TurnOffTiles=cc.TiledGrid3DAction.extend({_seed:null,_tilesCount:0,_tilesOrder:null,ctor:function($duration$$,$gridSize$$,$seed$$){cc.GridAction.prototype.ctor.call(this);this._tilesOrder=[];void 0!==$gridSize$$&&this.initWithDuration($duration$$,$gridSize$$,$seed$$)},initWithDuration:function($duration$$,$gridSize$$,$seed$$){return cc.TiledGrid3DAction.prototype.initWithDuration.call(this,$duration$$,$gridSize$$)?(this._seed=$seed$$||0,this._tilesOrder.length=0,!0):!1},shuffle:function($array$$,
$len$$){for(var $i$$=$len$$-1;0<=$i$$;$i$$--){var $j$$=0|cc.rand()%($i$$+1),$v$$=$array$$[$i$$];$array$$[$i$$]=$array$$[$j$$];$array$$[$j$$]=$v$$}},turnOnTile:function($pos$$){this.setTile($pos$$,this.originalTile($pos$$))},turnOffTile:function($pos$$){this.setTile($pos$$,new cc.Quad3)},startWithTarget:function($locTilesOrder$$1_target$$){cc.TiledGrid3DAction.prototype.startWithTarget.call(this,$locTilesOrder$$1_target$$);this._tilesCount=this._gridSize.width*this._gridSize.height;$locTilesOrder$$1_target$$=
this._tilesOrder;for(var $i$$=$locTilesOrder$$1_target$$.length=0;$i$$<this._tilesCount;++$i$$)$locTilesOrder$$1_target$$[$i$$]=$i$$;this.shuffle($locTilesOrder$$1_target$$,this._tilesCount)},update:function($dt$$116_l$$){$dt$$116_l$$=0|$dt$$116_l$$*this._tilesCount;for(var $locGridSize$$=this._gridSize,$t$$,$tilePos$$=cc.p(0,0),$locTilesOrder$$=this._tilesOrder,$i$$=0;$i$$<this._tilesCount;$i$$++)$t$$=$locTilesOrder$$[$i$$],$tilePos$$.x=0|$t$$/$locGridSize$$.height,$tilePos$$.y=$t$$%(0|$locGridSize$$.height),
$i$$<$dt$$116_l$$?this.turnOffTile($tilePos$$):this.turnOnTile($tilePos$$)}});cc.turnOffTiles=function $cc$turnOffTiles$($duration$$,$gridSize$$,$seed$$){return new cc.TurnOffTiles($duration$$,$gridSize$$,$seed$$)};cc.TurnOffTiles.create=cc.turnOffTiles;
cc.WavesTiles3D=cc.TiledGrid3DAction.extend({_waves:0,_amplitude:0,_amplitudeRate:0,ctor:function($duration$$,$gridSize$$,$waves$$,$amplitude$$){cc.GridAction.prototype.ctor.call(this);void 0!==$amplitude$$&&this.initWithDuration($duration$$,$gridSize$$,$waves$$,$amplitude$$)},getAmplitude:function(){return this._amplitude},setAmplitude:function($amplitude$$){this._amplitude=$amplitude$$},getAmplitudeRate:function(){return this._amplitudeRate},setAmplitudeRate:function($amplitudeRate$$){this._amplitudeRate=
$amplitudeRate$$},initWithDuration:function($duration$$,$gridSize$$,$waves$$,$amplitude$$){return cc.TiledGrid3DAction.prototype.initWithDuration.call(this,$duration$$,$gridSize$$)?(this._waves=$waves$$,this._amplitude=$amplitude$$,this._amplitudeRate=1,!0):!1},update:function($dt$$){for(var $locGridSize$$=this._gridSize,$locWaves$$=this._waves,$locAmplitude$$=this._amplitude,$locAmplitudeRate$$=this._amplitudeRate,$locPos$$=cc.p(0,0),$coords$$,$i$$=0;$i$$<$locGridSize$$.width;$i$$++)for(var $j$$=
0;$j$$<$locGridSize$$.height;$j$$++)$locPos$$.x=$i$$,$locPos$$.y=$j$$,$coords$$=this.originalTile($locPos$$),$coords$$.bl.z=Math.sin($dt$$*Math.PI*$locWaves$$*2+.01*($coords$$.bl.y+$coords$$.bl.x))*$locAmplitude$$*$locAmplitudeRate$$,$coords$$.br.z=$coords$$.bl.z,$coords$$.tl.z=$coords$$.bl.z,$coords$$.tr.z=$coords$$.bl.z,this.setTile($locPos$$,$coords$$)}});
cc.wavesTiles3D=function $cc$wavesTiles3D$($duration$$,$gridSize$$,$waves$$,$amplitude$$){return new cc.WavesTiles3D($duration$$,$gridSize$$,$waves$$,$amplitude$$)};cc.WavesTiles3D.create=cc.wavesTiles3D;
cc.JumpTiles3D=cc.TiledGrid3DAction.extend({_jumps:0,_amplitude:0,_amplitudeRate:0,ctor:function($duration$$,$gridSize$$,$numberOfJumps$$,$amplitude$$){cc.GridAction.prototype.ctor.call(this);void 0!==$amplitude$$&&this.initWithDuration($duration$$,$gridSize$$,$numberOfJumps$$,$amplitude$$)},getAmplitude:function(){return this._amplitude},setAmplitude:function($amplitude$$){this._amplitude=$amplitude$$},getAmplitudeRate:function(){return this._amplitudeRate},setAmplitudeRate:function($amplitudeRate$$){this._amplitudeRate=
$amplitudeRate$$},initWithDuration:function($duration$$,$gridSize$$,$numberOfJumps$$,$amplitude$$){return cc.TiledGrid3DAction.prototype.initWithDuration.call(this,$duration$$,$gridSize$$)?(this._jumps=$numberOfJumps$$,this._amplitude=$amplitude$$,this._amplitudeRate=1,!0):!1},update:function($dt$$){var $sinz$$=Math.sin(Math.PI*$dt$$*this._jumps*2)*this._amplitude*this._amplitudeRate;$dt$$=Math.sin(Math.PI*($dt$$*this._jumps*2+1))*this._amplitude*this._amplitudeRate;for(var $locGridSize$$=this._gridSize,
$locGrid$$=this.target.grid,$coords$$,$locPos$$=cc.p(0,0),$i$$=0;$i$$<$locGridSize$$.width;$i$$++)for(var $j$$=0;$j$$<$locGridSize$$.height;$j$$++)$locPos$$.x=$i$$,$locPos$$.y=$j$$,$coords$$=$locGrid$$.originalTile($locPos$$),0==($i$$+$j$$)%2?($coords$$.bl.z+=$sinz$$,$coords$$.br.z+=$sinz$$,$coords$$.tl.z+=$sinz$$,$coords$$.tr.z+=$sinz$$):($coords$$.bl.z+=$dt$$,$coords$$.br.z+=$dt$$,$coords$$.tl.z+=$dt$$,$coords$$.tr.z+=$dt$$),$locGrid$$.setTile($locPos$$,$coords$$)}});
cc.jumpTiles3D=function $cc$jumpTiles3D$($duration$$,$gridSize$$,$numberOfJumps$$,$amplitude$$){return new cc.JumpTiles3D($duration$$,$gridSize$$,$numberOfJumps$$,$amplitude$$)};cc.JumpTiles3D.create=cc.jumpTiles3D;
cc.SplitRows=cc.TiledGrid3DAction.extend({_rows:0,_winSize:null,ctor:function($duration$$,$rows$$){cc.GridAction.prototype.ctor.call(this);void 0!==$rows$$&&this.initWithDuration($duration$$,$rows$$)},initWithDuration:function($duration$$,$rows$$){this._rows=$rows$$;return cc.TiledGrid3DAction.prototype.initWithDuration.call(this,$duration$$,cc.size(1,$rows$$))},update:function($dt$$){for(var $locGridSize$$=this._gridSize,$locWinSizeWidth$$=this._winSize.width,$coords$$,$direction$$,$locPos$$=cc.p(0,
0),$j$$=0;$j$$<$locGridSize$$.height;++$j$$)$locPos$$.y=$j$$,$coords$$=this.originalTile($locPos$$),$direction$$=1,0==$j$$%2&&($direction$$=-1),$coords$$.bl.x+=$direction$$*$locWinSizeWidth$$*$dt$$,$coords$$.br.x+=$direction$$*$locWinSizeWidth$$*$dt$$,$coords$$.tl.x+=$direction$$*$locWinSizeWidth$$*$dt$$,$coords$$.tr.x+=$direction$$*$locWinSizeWidth$$*$dt$$,this.setTile($locPos$$,$coords$$)},startWithTarget:function($target$$){cc.TiledGrid3DAction.prototype.startWithTarget.call(this,$target$$);this._winSize=
cc.director.getWinSizeInPixels()}});cc.splitRows=function $cc$splitRows$($duration$$,$rows$$){return new cc.SplitRows($duration$$,$rows$$)};cc.SplitRows.create=cc.splitRows;
cc.SplitCols=cc.TiledGrid3DAction.extend({_cols:0,_winSize:null,ctor:function($duration$$,$cols$$){cc.GridAction.prototype.ctor.call(this);void 0!==$cols$$&&this.initWithDuration($duration$$,$cols$$)},initWithDuration:function($duration$$,$cols$$){this._cols=$cols$$;return cc.TiledGrid3DAction.prototype.initWithDuration.call(this,$duration$$,cc.size($cols$$,1))},update:function($dt$$){for(var $locGridSizeWidth$$=this._gridSize.width,$locWinSizeHeight$$=this._winSize.height,$coords$$,$direction$$,
$locPos$$=cc.p(0,0),$i$$=0;$i$$<$locGridSizeWidth$$;++$i$$)$locPos$$.x=$i$$,$coords$$=this.originalTile($locPos$$),$direction$$=1,0==$i$$%2&&($direction$$=-1),$coords$$.bl.y+=$direction$$*$locWinSizeHeight$$*$dt$$,$coords$$.br.y+=$direction$$*$locWinSizeHeight$$*$dt$$,$coords$$.tl.y+=$direction$$*$locWinSizeHeight$$*$dt$$,$coords$$.tr.y+=$direction$$*$locWinSizeHeight$$*$dt$$,this.setTile($locPos$$,$coords$$);cc.renderer.childrenOrderDirty=!0},startWithTarget:function($target$$){cc.TiledGrid3DAction.prototype.startWithTarget.call(this,
$target$$);this._winSize=cc.director.getWinSizeInPixels()}});cc.splitCols=function $cc$splitCols$($duration$$,$cols$$){return new cc.SplitCols($duration$$,$cols$$)};cc.SplitCols.create=cc.splitCols;
cc.PageTurn3D=cc.Grid3DAction.extend({update:function($deltaTheta_sinTheta_time$$){var $ay$$=Math.max(0,$deltaTheta_sinTheta_time$$-.25),$ay$$=-100-$ay$$*$ay$$*500;$deltaTheta_sinTheta_time$$=-Math.PI/2*Math.sqrt($deltaTheta_sinTheta_time$$);var $cosTheta_theta$$=+Math.PI/2+$deltaTheta_sinTheta_time$$;$deltaTheta_sinTheta_time$$=Math.sin($cosTheta_theta$$);for(var $cosTheta_theta$$=Math.cos($cosTheta_theta$$),$locGridSize$$=this._gridSize,$locVer$$=cc.p(0,0),$i$$=0;$i$$<=$locGridSize$$.width;++$i$$)for(var $j$$=
0;$j$$<=$locGridSize$$.height;++$j$$){$locVer$$.x=$i$$;$locVer$$.y=$j$$;var $p$$=this.originalVertex($locVer$$),$R$$=Math.sqrt($p$$.x*$p$$.x+($p$$.y-$ay$$)*($p$$.y-$ay$$)),$r$$=$R$$*$deltaTheta_sinTheta_time$$,$beta$$=Math.asin($p$$.x/$R$$)/$deltaTheta_sinTheta_time$$,$cosBeta$$=Math.cos($beta$$);$p$$.x=$beta$$<=Math.PI?$r$$*Math.sin($beta$$):0;$p$$.y=$R$$+$ay$$-$r$$*(1-$cosBeta$$)*$deltaTheta_sinTheta_time$$;$p$$.z=$r$$*(1-$cosBeta$$)*$cosTheta_theta$$/7;.5>$p$$.z&&($p$$.z=.5);this.setVertex($locVer$$,
$p$$)}}});cc.pageTurn3D=function $cc$pageTurn3D$($duration$$,$gridSize$$){return new cc.PageTurn3D($duration$$,$gridSize$$)};cc.PageTurn3D.create=cc.pageTurn3D;
cc.ProgressTimer=cc.Node.extend({_type:null,_percentage:0,_sprite:null,_midPoint:null,_barChangeRate:null,_reverseDirection:!1,_className:"ProgressTimer",getMidpoint:function(){return cc.p(this._midPoint.x,this._midPoint.y)},setMidpoint:function($mpoint$$){this._midPoint=cc.pClamp($mpoint$$,cc.p(0,0),cc.p(1,1))},getBarChangeRate:function(){return cc.p(this._barChangeRate.x,this._barChangeRate.y)},setBarChangeRate:function($barChangeRate$$){this._barChangeRate=cc.pClamp($barChangeRate$$,cc.p(0,0),
cc.p(1,1))},getType:function(){return this._type},getPercentage:function(){return this._percentage},getSprite:function(){return this._sprite},setPercentage:function($percentage$$){this._percentage!=$percentage$$&&(this._percentage=cc.clampf($percentage$$,0,100),this._updateProgress())},setOpacityModifyRGB:function($bValue$$){},isOpacityModifyRGB:function(){return!1},isReverseDirection:function(){return this._reverseDirection},_boundaryTexCoord:function($index$$){if($index$$<cc.ProgressTimer.TEXTURE_COORDS_COUNT){var $locProTextCoords$$=
cc.ProgressTimer.TEXTURE_COORDS;return this._reverseDirection?cc.p($locProTextCoords$$>>7-($index$$<<1)&1,$locProTextCoords$$>>7-(($index$$<<1)+1)&1):cc.p($locProTextCoords$$>>($index$$<<1)+1&1,$locProTextCoords$$>>($index$$<<1)&1)}return cc.p(0,0)},_vertexDataCount:0,_vertexData:null,_vertexArrayBuffer:null,_vertexWebGLBuffer:null,_vertexDataDirty:!1,ctor:null,_ctorForCanvas:function($sprite$$){cc.Node.prototype.ctor.call(this);this._type=cc.ProgressTimer.TYPE_RADIAL;this._percentage=0;this._midPoint=
cc.p(0,0);this._barChangeRate=cc.p(0,0);this._reverseDirection=!1;this._sprite=null;this._rendererCmd=new cc.ProgressRenderCmdCanvas(this);$sprite$$&&this._initWithSpriteForCanvas($sprite$$)},_ctorForWebGL:function($sprite$$){cc.Node.prototype.ctor.call(this);this._type=cc.ProgressTimer.TYPE_RADIAL;this._percentage=0;this._midPoint=cc.p(0,0);this._barChangeRate=cc.p(0,0);this._reverseDirection=!1;this._sprite=null;this._vertexWebGLBuffer=cc._renderContext.createBuffer();this._vertexDataCount=0;this._vertexArrayBuffer=
this._vertexData=null;this._vertexDataDirty=!1;this._rendererCmd=new cc.ProgressRenderCmdWebGL(this);$sprite$$&&this._initWithSpriteForWebGL($sprite$$)},setColor:function($color$$){this._sprite.color=$color$$;this._updateColor()},setOpacity:function($opacity$$){this._sprite.opacity=$opacity$$;this._updateColor()},getColor:function(){return this._sprite.color},getOpacity:function(){return this._sprite.opacity},setReverseProgress:null,_setReverseProgressForCanvas:function($reverse$$){this._reverseDirection!==
$reverse$$&&(this._reverseDirection=$reverse$$)},_setReverseProgressForWebGL:function($reverse$$){this._reverseDirection!==$reverse$$&&(this._reverseDirection=$reverse$$,this._vertexArrayBuffer=this._vertexData=null,this._vertexDataCount=0)},setSprite:null,_setSpriteForCanvas:function($sprite$$){this._sprite!=$sprite$$&&(this._sprite=$sprite$$,this._rendererCmd._sprite=$sprite$$,this.width=this._sprite.width,this.height=this._sprite.height)},_setSpriteForWebGL:function($sprite$$){$sprite$$&&this._sprite!=
$sprite$$&&(this._sprite=$sprite$$,this.width=$sprite$$.width,this.height=$sprite$$.height,this._vertexData&&(this._vertexArrayBuffer=this._vertexData=null,this._vertexDataCount=0))},setType:null,_setTypeForCanvas:function($type$$){$type$$!==this._type&&(this._type=$type$$,this._rendererCmd._type=$type$$)},_setTypeForWebGL:function($type$$){$type$$!==this._type&&(this._vertexData&&(this._vertexArrayBuffer=this._vertexData=null,this._vertexDataCount=0),this._type=$type$$)},setReverseDirection:null,
_setReverseDirectionForCanvas:function($reverse$$){this._reverseDirection!==$reverse$$&&(this._reverseDirection=$reverse$$)},_setReverseDirectionForWebGL:function($reverse$$){this._reverseDirection!==$reverse$$&&(this._reverseDirection=$reverse$$,this._vertexArrayBuffer=this._vertexData=null,this._vertexDataCount=0)},_textureCoordFromAlphaPoint:function($alpha$$){var $locSprite$$3_temp$$=this._sprite;if(!$locSprite$$3_temp$$)return{u:0,v:0};var $max$$1_quad$$=$locSprite$$3_temp$$.quad,$min$$=cc.p($max$$1_quad$$.bl.texCoords.u,
$max$$1_quad$$.bl.texCoords.v),$max$$1_quad$$=cc.p($max$$1_quad$$.tr.texCoords.u,$max$$1_quad$$.tr.texCoords.v);$locSprite$$3_temp$$.textureRectRotated&&($locSprite$$3_temp$$=$alpha$$.x,$alpha$$.x=$alpha$$.y,$alpha$$.y=$locSprite$$3_temp$$);return{u:$min$$.x*(1-$alpha$$.x)+$max$$1_quad$$.x*$alpha$$.x,v:$min$$.y*(1-$alpha$$.y)+$max$$1_quad$$.y*$alpha$$.y}},_vertexFromAlphaPoint:function($alpha$$){if(!this._sprite)return{x:0,y:0};var $max$$2_quad$$=this._sprite.quad,$min$$=cc.p($max$$2_quad$$.bl.vertices.x,
$max$$2_quad$$.bl.vertices.y),$max$$2_quad$$=cc.p($max$$2_quad$$.tr.vertices.x,$max$$2_quad$$.tr.vertices.y);return{x:$min$$.x*(1-$alpha$$.x)+$max$$2_quad$$.x*$alpha$$.x,y:$min$$.y*(1-$alpha$$.y)+$max$$2_quad$$.y*$alpha$$.y}},initWithSprite:null,_initWithSpriteForCanvas:function($sprite$$){this.percentage=0;this.anchorY=this.anchorX=.5;this._type=cc.ProgressTimer.TYPE_RADIAL;this._reverseDirection=!1;this.midPoint=cc.p(.5,.5);this.barChangeRate=cc.p(1,1);this.sprite=$sprite$$;return!0},_initWithSpriteForWebGL:function($sprite$$){this.percentage=
0;this._vertexArrayBuffer=this._vertexData=null;this._vertexDataCount=0;this.anchorY=this.anchorX=.5;this._type=cc.ProgressTimer.TYPE_RADIAL;this._reverseDirection=!1;this.midPoint=cc.p(.5,.5);this.barChangeRate=cc.p(1,1);this.sprite=$sprite$$;this.shaderProgram=cc.shaderCache.programForKey(cc.SHADER_POSITION_TEXTURECOLOR);return!0},draw:null,_drawForWebGL:function($context$$34_ctx$$){$context$$34_ctx$$=$context$$34_ctx$$||cc._renderContext;if(this._vertexData&&this._sprite){cc.nodeDrawSetup(this);
var $blendFunc$$4_locVertexDataLen$$=this._sprite.getBlendFunc();cc.glBlendFunc($blendFunc$$4_locVertexDataLen$$.src,$blendFunc$$4_locVertexDataLen$$.dst);cc.glEnableVertexAttribs(cc.VERTEX_ATTRIB_FLAG_POS_COLOR_TEX);cc.glBindTexture2D(this._sprite.texture);$context$$34_ctx$$.bindBuffer($context$$34_ctx$$.ARRAY_BUFFER,this._vertexWebGLBuffer);this._vertexDataDirty&&($context$$34_ctx$$.bufferData($context$$34_ctx$$.ARRAY_BUFFER,this._vertexArrayBuffer,$context$$34_ctx$$.DYNAMIC_DRAW),this._vertexDataDirty=
!1);$blendFunc$$4_locVertexDataLen$$=cc.V2F_C4B_T2F.BYTES_PER_ELEMENT;$context$$34_ctx$$.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,2,$context$$34_ctx$$.FLOAT,!1,$blendFunc$$4_locVertexDataLen$$,0);$context$$34_ctx$$.vertexAttribPointer(cc.VERTEX_ATTRIB_COLOR,4,$context$$34_ctx$$.UNSIGNED_BYTE,!0,$blendFunc$$4_locVertexDataLen$$,8);$context$$34_ctx$$.vertexAttribPointer(cc.VERTEX_ATTRIB_TEX_COORDS,2,$context$$34_ctx$$.FLOAT,!1,$blendFunc$$4_locVertexDataLen$$,12);this._type===cc.ProgressTimer.TYPE_RADIAL?
$context$$34_ctx$$.drawArrays($context$$34_ctx$$.TRIANGLE_FAN,0,this._vertexDataCount):this._type==cc.ProgressTimer.TYPE_BAR&&(this._reverseDirection?($context$$34_ctx$$.drawArrays($context$$34_ctx$$.TRIANGLE_STRIP,0,this._vertexDataCount/2),$context$$34_ctx$$.drawArrays($context$$34_ctx$$.TRIANGLE_STRIP,4,this._vertexDataCount/2),cc.g_NumberOfDraws++):$context$$34_ctx$$.drawArrays($context$$34_ctx$$.TRIANGLE_STRIP,0,this._vertexDataCount));cc.g_NumberOfDraws++}},_updateRadial:function(){if(this._sprite){var $alpha$$12_i$$,
$alphaPoint_locMidPoint$$=this._midPoint;$alpha$$12_i$$=this._percentage/100;var $angle$$16_index$$=2*cc.PI*(this._reverseDirection?$alpha$$12_i$$:1-$alpha$$12_i$$),$topMid$$=cc.p($alphaPoint_locMidPoint$$.x,1),$hit_percentagePt$$=cc.pRotateByAngle($topMid$$,$alphaPoint_locMidPoint$$,$angle$$16_index$$),$angle$$16_index$$=0;if(0==$alpha$$12_i$$)$hit_percentagePt$$=$topMid$$,$angle$$16_index$$=0;else if(1==$alpha$$12_i$$)$hit_percentagePt$$=$topMid$$,$angle$$16_index$$=4;else{var $min_t_sameIndexCount$$=
cc.FLT_MAX,$locCount_locProTextCoordsCount_locVertexData$$=cc.ProgressTimer.TEXTURE_COORDS_COUNT;for($alpha$$12_i$$=0;$alpha$$12_i$$<=$locCount_locProTextCoordsCount_locVertexData$$;++$alpha$$12_i$$){var $edgePtB_locData_pIndex$$=($alpha$$12_i$$+($locCount_locProTextCoordsCount_locVertexData$$-1))%$locCount_locProTextCoordsCount_locVertexData$$,$edgePtA_vertexDataLen$$=this._boundaryTexCoord($alpha$$12_i$$%$locCount_locProTextCoordsCount_locVertexData$$),$edgePtB_locData_pIndex$$=this._boundaryTexCoord($edgePtB_locData_pIndex$$);
0==$alpha$$12_i$$?$edgePtB_locData_pIndex$$=cc.pLerp($edgePtA_vertexDataLen$$,$edgePtB_locData_pIndex$$,1-$alphaPoint_locMidPoint$$.x):4==$alpha$$12_i$$&&($edgePtA_vertexDataLen$$=cc.pLerp($edgePtA_vertexDataLen$$,$edgePtB_locData_pIndex$$,1-$alphaPoint_locMidPoint$$.x));var $retPoint$$=cc.p(0,0);cc.pLineIntersect($edgePtA_vertexDataLen$$,$edgePtB_locData_pIndex$$,$alphaPoint_locMidPoint$$,$hit_percentagePt$$,$retPoint$$)&&(0!=$alpha$$12_i$$&&4!=$alpha$$12_i$$||0<=$retPoint$$.x&&1>=$retPoint$$.x)&&
0<=$retPoint$$.y&&$retPoint$$.y<$min_t_sameIndexCount$$&&($min_t_sameIndexCount$$=$retPoint$$.y,$angle$$16_index$$=$alpha$$12_i$$)}$hit_percentagePt$$=cc.pAdd($alphaPoint_locMidPoint$$,cc.pMult(cc.pSub($hit_percentagePt$$,$alphaPoint_locMidPoint$$),$min_t_sameIndexCount$$))}$min_t_sameIndexCount$$=!0;this._vertexDataCount!=$angle$$16_index$$+3&&($min_t_sameIndexCount$$=!1,this._vertexArrayBuffer=this._vertexData=null,this._vertexDataCount=0);if(!this._vertexData){$locCount_locProTextCoordsCount_locVertexData$$=
this._vertexDataCount=$angle$$16_index$$+3;$edgePtA_vertexDataLen$$=cc.V2F_C4B_T2F.BYTES_PER_ELEMENT;this._vertexArrayBuffer=new ArrayBuffer($locCount_locProTextCoordsCount_locVertexData$$*$edgePtA_vertexDataLen$$);$edgePtB_locData_pIndex$$=[];for($alpha$$12_i$$=0;$alpha$$12_i$$<$locCount_locProTextCoordsCount_locVertexData$$;$alpha$$12_i$$++)$edgePtB_locData_pIndex$$[$alpha$$12_i$$]=new cc.V2F_C4B_T2F(null,null,null,this._vertexArrayBuffer,$alpha$$12_i$$*$edgePtA_vertexDataLen$$);this._vertexData=
$edgePtB_locData_pIndex$$;if(!this._vertexData){cc.log("cc.ProgressTimer._updateRadial() : Not enough memory");return}}this._updateColor();$locCount_locProTextCoordsCount_locVertexData$$=this._vertexData;if(!$min_t_sameIndexCount$$)for($locCount_locProTextCoordsCount_locVertexData$$[0].texCoords=this._textureCoordFromAlphaPoint($alphaPoint_locMidPoint$$),$locCount_locProTextCoordsCount_locVertexData$$[0].vertices=this._vertexFromAlphaPoint($alphaPoint_locMidPoint$$),$locCount_locProTextCoordsCount_locVertexData$$[1].texCoords=
this._textureCoordFromAlphaPoint($topMid$$),$locCount_locProTextCoordsCount_locVertexData$$[1].vertices=this._vertexFromAlphaPoint($topMid$$),$alpha$$12_i$$=0;$alpha$$12_i$$<$angle$$16_index$$;$alpha$$12_i$$++)$alphaPoint_locMidPoint$$=this._boundaryTexCoord($alpha$$12_i$$),$locCount_locProTextCoordsCount_locVertexData$$[$alpha$$12_i$$+2].texCoords=this._textureCoordFromAlphaPoint($alphaPoint_locMidPoint$$),$locCount_locProTextCoordsCount_locVertexData$$[$alpha$$12_i$$+2].vertices=this._vertexFromAlphaPoint($alphaPoint_locMidPoint$$);
$locCount_locProTextCoordsCount_locVertexData$$[this._vertexDataCount-1].texCoords=this._textureCoordFromAlphaPoint($hit_percentagePt$$);$locCount_locProTextCoordsCount_locVertexData$$[this._vertexDataCount-1].vertices=this._vertexFromAlphaPoint($hit_percentagePt$$)}},_updateBar:function(){if(this._sprite){var $i$$265_locVertexData$$,$alpha$$13_min$$=this._percentage/100,$alphaOffset_locBarChangeRate_max$$=this._barChangeRate,$alphaOffset_locBarChangeRate_max$$=cc.pMult(cc.p(1-$alphaOffset_locBarChangeRate_max$$.x+
$alpha$$13_min$$*$alphaOffset_locBarChangeRate_max$$.x,1-$alphaOffset_locBarChangeRate_max$$.y+$alpha$$13_min$$*$alphaOffset_locBarChangeRate_max$$.y),.5),$alpha$$13_min$$=cc.pSub(this._midPoint,$alphaOffset_locBarChangeRate_max$$),$alphaOffset_locBarChangeRate_max$$=cc.pAdd(this._midPoint,$alphaOffset_locBarChangeRate_max$$);0>$alpha$$13_min$$.x&&($alphaOffset_locBarChangeRate_max$$.x+=-$alpha$$13_min$$.x,$alpha$$13_min$$.x=0);1<$alphaOffset_locBarChangeRate_max$$.x&&($alpha$$13_min$$.x-=$alphaOffset_locBarChangeRate_max$$.x-
1,$alphaOffset_locBarChangeRate_max$$.x=1);0>$alpha$$13_min$$.y&&($alphaOffset_locBarChangeRate_max$$.y+=-$alpha$$13_min$$.y,$alpha$$13_min$$.y=0);1<$alphaOffset_locBarChangeRate_max$$.y&&($alpha$$13_min$$.y-=$alphaOffset_locBarChangeRate_max$$.y-1,$alphaOffset_locBarChangeRate_max$$.y=1);if(this._reverseDirection){if(!this._vertexData){this._vertexDataCount=8;var $rVertexDataLen_vertexDataLen$$=cc.V2F_C4B_T2F.BYTES_PER_ELEMENT;this._vertexArrayBuffer=new ArrayBuffer(8*$rVertexDataLen_vertexDataLen$$);
var $rTempData$$=[];for($i$$265_locVertexData$$=0;8>$i$$265_locVertexData$$;$i$$265_locVertexData$$++)$rTempData$$[$i$$265_locVertexData$$]=new cc.V2F_C4B_T2F(null,null,null,this._vertexArrayBuffer,$i$$265_locVertexData$$*$rVertexDataLen_vertexDataLen$$);$rTempData$$[0].texCoords=this._textureCoordFromAlphaPoint(cc.p(0,1));$rTempData$$[0].vertices=this._vertexFromAlphaPoint(cc.p(0,1));$rTempData$$[1].texCoords=this._textureCoordFromAlphaPoint(cc.p(0,0));$rTempData$$[1].vertices=this._vertexFromAlphaPoint(cc.p(0,
0));$rTempData$$[6].texCoords=this._textureCoordFromAlphaPoint(cc.p(1,1));$rTempData$$[6].vertices=this._vertexFromAlphaPoint(cc.p(1,1));$rTempData$$[7].texCoords=this._textureCoordFromAlphaPoint(cc.p(1,0));$rTempData$$[7].vertices=this._vertexFromAlphaPoint(cc.p(1,0));this._vertexData=$rTempData$$}$i$$265_locVertexData$$=this._vertexData;$i$$265_locVertexData$$[2].texCoords=this._textureCoordFromAlphaPoint(cc.p($alpha$$13_min$$.x,$alphaOffset_locBarChangeRate_max$$.y));$i$$265_locVertexData$$[2].vertices=
this._vertexFromAlphaPoint(cc.p($alpha$$13_min$$.x,$alphaOffset_locBarChangeRate_max$$.y));$i$$265_locVertexData$$[3].texCoords=this._textureCoordFromAlphaPoint(cc.p($alpha$$13_min$$.x,$alpha$$13_min$$.y));$i$$265_locVertexData$$[3].vertices=this._vertexFromAlphaPoint(cc.p($alpha$$13_min$$.x,$alpha$$13_min$$.y));$i$$265_locVertexData$$[4].texCoords=this._textureCoordFromAlphaPoint(cc.p($alphaOffset_locBarChangeRate_max$$.x,$alphaOffset_locBarChangeRate_max$$.y));$i$$265_locVertexData$$[4].vertices=
this._vertexFromAlphaPoint(cc.p($alphaOffset_locBarChangeRate_max$$.x,$alphaOffset_locBarChangeRate_max$$.y));$i$$265_locVertexData$$[5].texCoords=this._textureCoordFromAlphaPoint(cc.p($alphaOffset_locBarChangeRate_max$$.x,$alpha$$13_min$$.y));$i$$265_locVertexData$$[5].vertices=this._vertexFromAlphaPoint(cc.p($alphaOffset_locBarChangeRate_max$$.x,$alpha$$13_min$$.y))}else{if(!this._vertexData)for(this._vertexDataCount=4,$rVertexDataLen_vertexDataLen$$=cc.V2F_C4B_T2F.BYTES_PER_ELEMENT,this._vertexArrayBuffer=
new ArrayBuffer(4*$rVertexDataLen_vertexDataLen$$),this._vertexData=[],$i$$265_locVertexData$$=0;4>$i$$265_locVertexData$$;$i$$265_locVertexData$$++)this._vertexData[$i$$265_locVertexData$$]=new cc.V2F_C4B_T2F(null,null,null,this._vertexArrayBuffer,$i$$265_locVertexData$$*$rVertexDataLen_vertexDataLen$$);$i$$265_locVertexData$$=this._vertexData;$i$$265_locVertexData$$[0].texCoords=this._textureCoordFromAlphaPoint(cc.p($alpha$$13_min$$.x,$alphaOffset_locBarChangeRate_max$$.y));$i$$265_locVertexData$$[0].vertices=
this._vertexFromAlphaPoint(cc.p($alpha$$13_min$$.x,$alphaOffset_locBarChangeRate_max$$.y));$i$$265_locVertexData$$[1].texCoords=this._textureCoordFromAlphaPoint(cc.p($alpha$$13_min$$.x,$alpha$$13_min$$.y));$i$$265_locVertexData$$[1].vertices=this._vertexFromAlphaPoint(cc.p($alpha$$13_min$$.x,$alpha$$13_min$$.y));$i$$265_locVertexData$$[2].texCoords=this._textureCoordFromAlphaPoint(cc.p($alphaOffset_locBarChangeRate_max$$.x,$alphaOffset_locBarChangeRate_max$$.y));$i$$265_locVertexData$$[2].vertices=
this._vertexFromAlphaPoint(cc.p($alphaOffset_locBarChangeRate_max$$.x,$alphaOffset_locBarChangeRate_max$$.y));$i$$265_locVertexData$$[3].texCoords=this._textureCoordFromAlphaPoint(cc.p($alphaOffset_locBarChangeRate_max$$.x,$alpha$$13_min$$.y));$i$$265_locVertexData$$[3].vertices=this._vertexFromAlphaPoint(cc.p($alphaOffset_locBarChangeRate_max$$.x,$alpha$$13_min$$.y))}this._updateColor()}},_updateColor:function(){if(this._sprite&&this._vertexData){for(var $sc$$=this._sprite.quad.tl.colors,$locVertexData$$=
this._vertexData,$i$$=0,$len$$=this._vertexDataCount;$i$$<$len$$;++$i$$)$locVertexData$$[$i$$].colors=$sc$$;this._vertexDataDirty=!0}},_updateProgress:null,_updateProgressForCanvas:function(){var $locSprite$$=this._sprite,$needToTop_sw$$=$locSprite$$.width,$flipXNeed_flipYNeed_sh$$=$locSprite$$.height,$locMidPoint$$=this._midPoint,$locBarRect$$1_locCmd$$=this._rendererCmd;if(this._type==cc.ProgressTimer.TYPE_RADIAL){$locBarRect$$1_locCmd$$._radius=Math.round(Math.sqrt($needToTop_sw$$*$needToTop_sw$$+
$flipXNeed_flipYNeed_sh$$*$flipXNeed_flipYNeed_sh$$));var $locEndAngle_startPoint$$,$currentDrawSize_drawingSize_locCounterClockWise_percentageF$$=!1,$drawedSize_locBarChangeRate$$=$locBarRect$$1_locCmd$$._origin;$drawedSize_locBarChangeRate$$.x=$needToTop_sw$$*$locMidPoint$$.x;$drawedSize_locBarChangeRate$$.y=-$flipXNeed_flipYNeed_sh$$*$locMidPoint$$.y;this._reverseDirection?($locEndAngle_startPoint$$=270,$locMidPoint$$=270-3.6*this._percentage):($locMidPoint$$=-90,$locEndAngle_startPoint$$=-90+
3.6*this._percentage);$locSprite$$._flippedX&&($drawedSize_locBarChangeRate$$.x-=2*$needToTop_sw$$*this._midPoint.x,$locMidPoint$$=-$locMidPoint$$-180,$locEndAngle_startPoint$$=-$locEndAngle_startPoint$$-180,$currentDrawSize_drawingSize_locCounterClockWise_percentageF$$=!$currentDrawSize_drawingSize_locCounterClockWise_percentageF$$);$locSprite$$._flippedY&&($drawedSize_locBarChangeRate$$.y+=2*$flipXNeed_flipYNeed_sh$$*this._midPoint.y,$currentDrawSize_drawingSize_locCounterClockWise_percentageF$$=
!$currentDrawSize_drawingSize_locCounterClockWise_percentageF$$,$locMidPoint$$=-$locMidPoint$$,$locEndAngle_startPoint$$=-$locEndAngle_startPoint$$);$locBarRect$$1_locCmd$$._startAngle=$locMidPoint$$;$locBarRect$$1_locCmd$$._endAngle=$locEndAngle_startPoint$$;$locBarRect$$1_locCmd$$._counterClockWise=$currentDrawSize_drawingSize_locCounterClockWise_percentageF$$}else $drawedSize_locBarChangeRate$$=this._barChangeRate,$currentDrawSize_drawingSize_locCounterClockWise_percentageF$$=this._percentage/
100,$locBarRect$$1_locCmd$$=$locBarRect$$1_locCmd$$._barRect,$drawedSize_locBarChangeRate$$=cc.size($needToTop_sw$$*(1-$drawedSize_locBarChangeRate$$.x),$flipXNeed_flipYNeed_sh$$*(1-$drawedSize_locBarChangeRate$$.y)),$currentDrawSize_drawingSize_locCounterClockWise_percentageF$$=cc.size(($needToTop_sw$$-$drawedSize_locBarChangeRate$$.width)*$currentDrawSize_drawingSize_locCounterClockWise_percentageF$$,($flipXNeed_flipYNeed_sh$$-$drawedSize_locBarChangeRate$$.height)*$currentDrawSize_drawingSize_locCounterClockWise_percentageF$$),
$currentDrawSize_drawingSize_locCounterClockWise_percentageF$$=cc.size($drawedSize_locBarChangeRate$$.width+$currentDrawSize_drawingSize_locCounterClockWise_percentageF$$.width,$drawedSize_locBarChangeRate$$.height+$currentDrawSize_drawingSize_locCounterClockWise_percentageF$$.height),$locEndAngle_startPoint$$=cc.p($needToTop_sw$$*$locMidPoint$$.x,$flipXNeed_flipYNeed_sh$$*$locMidPoint$$.y),$drawedSize_locBarChangeRate$$=$locEndAngle_startPoint$$.x-$currentDrawSize_drawingSize_locCounterClockWise_percentageF$$.width/
2,.5<$locMidPoint$$.x&&$currentDrawSize_drawingSize_locCounterClockWise_percentageF$$.width/2>=$needToTop_sw$$-$locEndAngle_startPoint$$.x&&($drawedSize_locBarChangeRate$$=$needToTop_sw$$-$currentDrawSize_drawingSize_locCounterClockWise_percentageF$$.width),$needToTop_sw$$=$locEndAngle_startPoint$$.y-$currentDrawSize_drawingSize_locCounterClockWise_percentageF$$.height/2,.5<$locMidPoint$$.y&&$currentDrawSize_drawingSize_locCounterClockWise_percentageF$$.height/2>=$flipXNeed_flipYNeed_sh$$-$locEndAngle_startPoint$$.y&&
($needToTop_sw$$=$flipXNeed_flipYNeed_sh$$-$currentDrawSize_drawingSize_locCounterClockWise_percentageF$$.height),$locBarRect$$1_locCmd$$.x=0,$flipXNeed_flipYNeed_sh$$=1,$locSprite$$._flippedX&&($locBarRect$$1_locCmd$$.x-=$currentDrawSize_drawingSize_locCounterClockWise_percentageF$$.width,$flipXNeed_flipYNeed_sh$$=-1),0<$drawedSize_locBarChangeRate$$&&($locBarRect$$1_locCmd$$.x+=$drawedSize_locBarChangeRate$$*$flipXNeed_flipYNeed_sh$$),$locBarRect$$1_locCmd$$.y=0,$flipXNeed_flipYNeed_sh$$=1,$locSprite$$._flippedY&&
($locBarRect$$1_locCmd$$.y+=$currentDrawSize_drawingSize_locCounterClockWise_percentageF$$.height,$flipXNeed_flipYNeed_sh$$=-1),0<$needToTop_sw$$&&($locBarRect$$1_locCmd$$.y-=$needToTop_sw$$*$flipXNeed_flipYNeed_sh$$),$locBarRect$$1_locCmd$$.width=$currentDrawSize_drawingSize_locCounterClockWise_percentageF$$.width,$locBarRect$$1_locCmd$$.height=-$currentDrawSize_drawingSize_locCounterClockWise_percentageF$$.height},_updateProgressForWebGL:function(){var $locType$$=this._type;$locType$$===cc.ProgressTimer.TYPE_RADIAL?
this._updateRadial():$locType$$===cc.ProgressTimer.TYPE_BAR&&this._updateBar();this._vertexDataDirty=!0}});_p=cc.ProgressTimer.prototype;
cc._renderType==cc._RENDER_TYPE_WEBGL?(_p.ctor=_p._ctorForWebGL,_p.setReverseProgress=_p._setReverseProgressForWebGL,_p.setSprite=_p._setSpriteForWebGL,_p.setType=_p._setTypeForWebGL,_p.setReverseDirection=_p._setReverseDirectionForWebGL,_p.initWithSprite=_p._initWithSpriteForWebGL,_p.draw=_p._drawForWebGL,_p._updateProgress=_p._updateProgressForWebGL):(_p.ctor=_p._ctorForCanvas,_p.setReverseProgress=_p._setReverseProgressForCanvas,_p.setSprite=_p._setSpriteForCanvas,_p.setType=_p._setTypeForCanvas,
_p.setReverseDirection=_p._setReverseDirectionForCanvas,_p.initWithSprite=_p._initWithSpriteForCanvas,_p.draw=_p._drawForCanvas,_p._updateProgress=cc.ProgressTimer.prototype._updateProgressForCanvas);_p.midPoint;cc.defineGetterSetter(_p,"midPoint",_p.getMidpoint,_p.setMidpoint);_p.barChangeRate;cc.defineGetterSetter(_p,"barChangeRate",_p.getBarChangeRate,_p.setBarChangeRate);_p.type;cc.defineGetterSetter(_p,"type",_p.getType,_p.setType);_p.percentage;
cc.defineGetterSetter(_p,"percentage",_p.getPercentage,_p.setPercentage);_p.sprite;cc.defineGetterSetter(_p,"sprite",_p.getSprite,_p.setSprite);_p.reverseDir;cc.defineGetterSetter(_p,"reverseDir",_p.isReverseDirection,_p.setReverseDirection);cc.ProgressTimer.create=function $cc$ProgressTimer$create$($sprite$$){return new cc.ProgressTimer($sprite$$)};cc.ProgressTimer.TEXTURE_COORDS_COUNT=4;cc.ProgressTimer.TEXTURE_COORDS=75;cc.ProgressTimer.TYPE_RADIAL=0;cc.ProgressTimer.TYPE_BAR=1;
cc.ProgressTo=cc.ActionInterval.extend({_to:0,_from:0,ctor:function($duration$$,$percent$$){cc.ActionInterval.prototype.ctor.call(this);this._from=this._to=0;void 0!==$percent$$&&this.initWithDuration($duration$$,$percent$$)},initWithDuration:function($duration$$,$percent$$){return cc.ActionInterval.prototype.initWithDuration.call(this,$duration$$)?(this._to=$percent$$,!0):!1},clone:function(){var $action$$=new cc.ProgressTo;$action$$.initWithDuration(this._duration,this._to);return $action$$},reverse:function(){cc.log("cc.ProgressTo.reverse(): reverse hasn't been supported.");
return null},startWithTarget:function($target$$){cc.ActionInterval.prototype.startWithTarget.call(this,$target$$);this._from=$target$$.percentage},update:function($time$$){this.target instanceof cc.ProgressTimer&&(this.target.percentage=this._from+(this._to-this._from)*$time$$)}});cc.progressTo=function $cc$progressTo$($duration$$,$percent$$){return new cc.ProgressTo($duration$$,$percent$$)};cc.ProgressTo.create=cc.progressTo;
cc.ProgressFromTo=cc.ActionInterval.extend({_to:0,_from:0,ctor:function($duration$$,$fromPercentage$$,$toPercentage$$){cc.ActionInterval.prototype.ctor.call(this);this._from=this._to=0;void 0!==$toPercentage$$&&this.initWithDuration($duration$$,$fromPercentage$$,$toPercentage$$)},initWithDuration:function($duration$$,$fromPercentage$$,$toPercentage$$){return cc.ActionInterval.prototype.initWithDuration.call(this,$duration$$)?(this._to=$toPercentage$$,this._from=$fromPercentage$$,!0):!1},clone:function(){var $action$$=
new cc.ProgressFromTo;$action$$.initWithDuration(this._duration,this._from,this._to);return $action$$},reverse:function(){return cc.progressFromTo(this._duration,this._to,this._from)},startWithTarget:function($target$$){cc.ActionInterval.prototype.startWithTarget.call(this,$target$$)},update:function($time$$){this.target instanceof cc.ProgressTimer&&(this.target.percentage=this._from+(this._to-this._from)*$time$$)}});
cc.progressFromTo=function $cc$progressFromTo$($duration$$,$fromPercentage$$,$toPercentage$$){return new cc.ProgressFromTo($duration$$,$fromPercentage$$,$toPercentage$$)};cc.ProgressFromTo.create=cc.progressFromTo;cc.SCENE_FADE=4208917214;cc.TRANSITION_ORIENTATION_LEFT_OVER=0;cc.TRANSITION_ORIENTATION_RIGHT_OVER=1;cc.TRANSITION_ORIENTATION_UP_OVER=0;cc.TRANSITION_ORIENTATION_DOWN_OVER=1;
cc.TransitionScene=cc.Scene.extend({_inScene:null,_outScene:null,_duration:null,_isInSceneOnTop:!1,_isSendCleanupToScene:!1,_className:"TransitionScene",ctor:function($t$$,$scene$$){cc.Scene.prototype.ctor.call(this);void 0!==$t$$&&void 0!==$scene$$&&this.initWithDuration($t$$,$scene$$)},_setNewScene:function($director$$9_dt$$){this.unschedule(this._setNewScene);$director$$9_dt$$=cc.director;this._isSendCleanupToScene=$director$$9_dt$$.isSendCleanupToScene();$director$$9_dt$$.runScene(this._inScene);
cc.eventManager.setEnabled(!0);this._outScene.visible=!0},_sceneOrder:function(){this._isInSceneOnTop=!0},visit:function(){this._isInSceneOnTop?(this._outScene.visit(),this._inScene.visit()):(this._inScene.visit(),this._outScene.visit());cc.Node.prototype.visit.call(this)},onEnter:function(){cc.Node.prototype.onEnter.call(this);cc.eventManager.setEnabled(!1);this._outScene.onExitTransitionDidStart();this._inScene.onEnter()},onExit:function(){cc.Node.prototype.onExit.call(this);cc.eventManager.setEnabled(!0);
this._outScene.onExit();this._inScene.onEnterTransitionDidFinish()},cleanup:function(){cc.Node.prototype.cleanup.call(this);this._isSendCleanupToScene&&this._outScene.cleanup()},initWithDuration:function($t$$,$scene$$){if(!$scene$$)throw"cc.TransitionScene.initWithDuration(): Argument scene must be non-nil";if(this.init()){this._duration=$t$$;this.attr({x:0,y:0,anchorX:0,anchorY:0});this._inScene=$scene$$;this._outScene=cc.director.getRunningScene();this._outScene||(this._outScene=new cc.Scene,this._outScene.init());
if(this._inScene==this._outScene)throw"cc.TransitionScene.initWithDuration(): Incoming scene must be different from the outgoing scene";this._sceneOrder();return!0}return!1},finish:function(){this._inScene.attr({visible:!0,x:0,y:0,scale:1,rotation:0});cc._renderType===cc._RENDER_TYPE_WEBGL&&this._inScene.getCamera().restore();this._outScene.attr({visible:!1,x:0,y:0,scale:1,rotation:0});cc._renderType===cc._RENDER_TYPE_WEBGL&&this._outScene.getCamera().restore();this.schedule(this._setNewScene,0)},
hideOutShowIn:function(){this._inScene.visible=!0;this._outScene.visible=!1}});cc.TransitionScene.create=function $cc$TransitionScene$create$($t$$,$scene$$){return new cc.TransitionScene($t$$,$scene$$)};
cc.TransitionSceneOriented=cc.TransitionScene.extend({_orientation:0,ctor:function($t$$,$scene$$,$orientation$$){cc.TransitionScene.prototype.ctor.call(this);void 0!=$orientation$$&&this.initWithDuration($t$$,$scene$$,$orientation$$)},initWithDuration:function($t$$,$scene$$,$orientation$$){cc.TransitionScene.prototype.initWithDuration.call(this,$t$$,$scene$$)&&(this._orientation=$orientation$$);return!0}});
cc.TransitionSceneOriented.create=function $cc$TransitionSceneOriented$create$($t$$,$scene$$,$orientation$$){return new cc.TransitionSceneOriented($t$$,$scene$$,$orientation$$)};
cc.TransitionRotoZoom=cc.TransitionScene.extend({ctor:function($t$$,$scene$$){cc.TransitionScene.prototype.ctor.call(this);$scene$$&&this.initWithDuration($t$$,$scene$$)},onEnter:function(){cc.TransitionScene.prototype.onEnter.call(this);this._inScene.attr({scale:.001,anchorX:.5,anchorY:.5});this._outScene.attr({scale:1,anchorX:.5,anchorY:.5});var $rotoZoom$$=cc.sequence(cc.spawn(cc.scaleBy(this._duration/2,.001),cc.rotateBy(this._duration/2,720)),cc.delayTime(this._duration/2));this._outScene.runAction($rotoZoom$$);
this._inScene.runAction(cc.sequence($rotoZoom$$.reverse(),cc.callFunc(this.finish,this)))}});cc.TransitionRotoZoom.create=function $cc$TransitionRotoZoom$create$($t$$,$scene$$){return new cc.TransitionRotoZoom($t$$,$scene$$)};
cc.TransitionJumpZoom=cc.TransitionScene.extend({ctor:function($t$$,$scene$$){cc.TransitionScene.prototype.ctor.call(this);$scene$$&&this.initWithDuration($t$$,$scene$$)},onEnter:function(){cc.TransitionScene.prototype.onEnter.call(this);var $jumpZoomOut_scaleOut_winSize$$=cc.director.getWinSize();this._inScene.attr({scale:.5,x:$jumpZoomOut_scaleOut_winSize$$.width,y:0,anchorX:.5,anchorY:.5});this._outScene.anchorX=.5;this._outScene.anchorY=.5;var $jump_jumpZoomIn$$=cc.jumpBy(this._duration/4,cc.p(-$jumpZoomOut_scaleOut_winSize$$.width,
0),$jumpZoomOut_scaleOut_winSize$$.width/4,2),$delay$$=cc.scaleTo(this._duration/4,1),$jumpZoomOut_scaleOut_winSize$$=cc.scaleTo(this._duration/4,.5),$jumpZoomOut_scaleOut_winSize$$=cc.sequence($jumpZoomOut_scaleOut_winSize$$,$jump_jumpZoomIn$$),$jump_jumpZoomIn$$=cc.sequence($jump_jumpZoomIn$$,$delay$$),$delay$$=cc.delayTime(this._duration/2);this._outScene.runAction($jumpZoomOut_scaleOut_winSize$$);this._inScene.runAction(cc.sequence($delay$$,$jump_jumpZoomIn$$,cc.callFunc(this.finish,this)))}});
cc.TransitionJumpZoom.create=function $cc$TransitionJumpZoom$create$($t$$,$scene$$){return new cc.TransitionJumpZoom($t$$,$scene$$)};
cc.TransitionMoveInL=cc.TransitionScene.extend({ctor:function($t$$,$scene$$){cc.TransitionScene.prototype.ctor.call(this);$scene$$&&this.initWithDuration($t$$,$scene$$)},onEnter:function(){cc.TransitionScene.prototype.onEnter.call(this);this.initScenes();var $action$$=this.action();this._inScene.runAction(cc.sequence(this.easeActionWithAction($action$$),cc.callFunc(this.finish,this)))},initScenes:function(){this._inScene.setPosition(-cc.director.getWinSize().width,0)},action:function(){return cc.moveTo(this._duration,
cc.p(0,0))},easeActionWithAction:function($action$$){return new cc.EaseOut($action$$,2)}});cc.TransitionMoveInL.create=function $cc$TransitionMoveInL$create$($t$$,$scene$$){return new cc.TransitionMoveInL($t$$,$scene$$)};cc.TransitionMoveInR=cc.TransitionMoveInL.extend({ctor:function($t$$,$scene$$){cc.TransitionMoveInL.prototype.ctor.call(this);$scene$$&&this.initWithDuration($t$$,$scene$$)},initScenes:function(){this._inScene.setPosition(cc.director.getWinSize().width,0)}});
cc.TransitionMoveInR.create=function $cc$TransitionMoveInR$create$($t$$,$scene$$){return new cc.TransitionMoveInR($t$$,$scene$$)};cc.TransitionMoveInT=cc.TransitionMoveInL.extend({ctor:function($t$$,$scene$$){cc.TransitionMoveInL.prototype.ctor.call(this);$scene$$&&this.initWithDuration($t$$,$scene$$)},initScenes:function(){this._inScene.setPosition(0,cc.director.getWinSize().height)}});
cc.TransitionMoveInT.create=function $cc$TransitionMoveInT$create$($t$$,$scene$$){return new cc.TransitionMoveInT($t$$,$scene$$)};cc.TransitionMoveInB=cc.TransitionMoveInL.extend({ctor:function($t$$,$scene$$){cc.TransitionMoveInL.prototype.ctor.call(this);$scene$$&&this.initWithDuration($t$$,$scene$$)},initScenes:function(){this._inScene.setPosition(0,-cc.director.getWinSize().height)}});
cc.TransitionMoveInB.create=function $cc$TransitionMoveInB$create$($t$$,$scene$$){return new cc.TransitionMoveInB($t$$,$scene$$)};cc.ADJUST_FACTOR=.5;
cc.TransitionSlideInL=cc.TransitionScene.extend({ctor:function($t$$,$scene$$){cc.TransitionScene.prototype.ctor.call(this);$scene$$&&this.initWithDuration($t$$,$scene$$)},_sceneOrder:function(){this._isInSceneOnTop=!1},onEnter:function(){cc.TransitionScene.prototype.onEnter.call(this);this.initScenes();var $inA_inAction$$=this.action(),$outA_outAction$$=this.action(),$inA_inAction$$=this.easeActionWithAction($inA_inAction$$),$outA_outAction$$=cc.sequence(this.easeActionWithAction($outA_outAction$$),
cc.callFunc(this.finish,this));this._inScene.runAction($inA_inAction$$);this._outScene.runAction($outA_outAction$$)},initScenes:function(){this._inScene.setPosition(-cc.director.getWinSize().width+cc.ADJUST_FACTOR,0)},action:function(){return cc.moveBy(this._duration,cc.p(cc.director.getWinSize().width-cc.ADJUST_FACTOR,0))},easeActionWithAction:function($action$$){return new cc.EaseInOut($action$$,2)}});
cc.TransitionSlideInL.create=function $cc$TransitionSlideInL$create$($t$$,$scene$$){return new cc.TransitionSlideInL($t$$,$scene$$)};
cc.TransitionSlideInR=cc.TransitionSlideInL.extend({ctor:function($t$$,$scene$$){cc.TransitionSlideInL.prototype.ctor.call(this);$scene$$&&this.initWithDuration($t$$,$scene$$)},_sceneOrder:function(){this._isInSceneOnTop=!0},initScenes:function(){this._inScene.setPosition(cc.director.getWinSize().width-cc.ADJUST_FACTOR,0)},action:function(){return cc.moveBy(this._duration,cc.p(-(cc.director.getWinSize().width-cc.ADJUST_FACTOR),0))}});
cc.TransitionSlideInR.create=function $cc$TransitionSlideInR$create$($t$$,$scene$$){return new cc.TransitionSlideInR($t$$,$scene$$)};
cc.TransitionSlideInB=cc.TransitionSlideInL.extend({ctor:function($t$$,$scene$$){cc.TransitionSlideInL.prototype.ctor.call(this);$scene$$&&this.initWithDuration($t$$,$scene$$)},_sceneOrder:function(){this._isInSceneOnTop=!1},initScenes:function(){this._inScene.setPosition(0,-(cc.director.getWinSize().height-cc.ADJUST_FACTOR))},action:function(){return cc.moveBy(this._duration,cc.p(0,cc.director.getWinSize().height-cc.ADJUST_FACTOR))}});
cc.TransitionSlideInB.create=function $cc$TransitionSlideInB$create$($t$$,$scene$$){return new cc.TransitionSlideInB($t$$,$scene$$)};
cc.TransitionSlideInT=cc.TransitionSlideInL.extend({ctor:function($t$$,$scene$$){cc.TransitionSlideInL.prototype.ctor.call(this);$scene$$&&this.initWithDuration($t$$,$scene$$)},_sceneOrder:function(){this._isInSceneOnTop=!0},initScenes:function(){this._inScene.setPosition(0,cc.director.getWinSize().height-cc.ADJUST_FACTOR)},action:function(){return cc.moveBy(this._duration,cc.p(0,-(cc.director.getWinSize().height-cc.ADJUST_FACTOR)))}});
cc.TransitionSlideInT.create=function $cc$TransitionSlideInT$create$($t$$,$scene$$){return new cc.TransitionSlideInT($t$$,$scene$$)};
cc.TransitionShrinkGrow=cc.TransitionScene.extend({ctor:function($t$$,$scene$$){cc.TransitionScene.prototype.ctor.call(this);$scene$$&&this.initWithDuration($t$$,$scene$$)},onEnter:function(){cc.TransitionScene.prototype.onEnter.call(this);this._inScene.attr({scale:.001,anchorX:2/3,anchorY:.5});this._outScene.attr({scale:1,anchorX:1/3,anchorY:.5});var $scaleOut$$=cc.scaleTo(this._duration,.01),$scaleIn$$=cc.scaleTo(this._duration,1);this._inScene.runAction(this.easeActionWithAction($scaleIn$$));this._outScene.runAction(cc.sequence(this.easeActionWithAction($scaleOut$$),
cc.callFunc(this.finish,this)))},easeActionWithAction:function($action$$){return new cc.EaseOut($action$$,2)}});cc.TransitionShrinkGrow.create=function $cc$TransitionShrinkGrow$create$($t$$,$scene$$){return new cc.TransitionShrinkGrow($t$$,$scene$$)};
cc.TransitionFlipX=cc.TransitionSceneOriented.extend({ctor:function($t$$,$scene$$,$o$$){cc.TransitionSceneOriented.prototype.ctor.call(this);null==$o$$&&($o$$=cc.TRANSITION_ORIENTATION_RIGHT_OVER);$scene$$&&this.initWithDuration($t$$,$scene$$,$o$$)},onEnter:function(){cc.TransitionScene.prototype.onEnter.call(this);var $inA$$,$outA$$;this._inScene.visible=!1;var $inAngleZ$$;this._orientation===cc.TRANSITION_ORIENTATION_RIGHT_OVER?($inA$$=90,$inAngleZ$$=270,$outA$$=90):($inA$$=-90,$inAngleZ$$=90,$outA$$=
-90);$inA$$=cc.sequence(cc.delayTime(this._duration/2),cc.show(),cc.orbitCamera(this._duration/2,1,0,$inAngleZ$$,$inA$$,0,0),cc.callFunc(this.finish,this));$outA$$=cc.sequence(cc.orbitCamera(this._duration/2,1,0,0,$outA$$,0,0),cc.hide(),cc.delayTime(this._duration/2));this._inScene.runAction($inA$$);this._outScene.runAction($outA$$)}});cc.TransitionFlipX.create=function $cc$TransitionFlipX$create$($t$$,$scene$$,$o$$){return new cc.TransitionFlipX($t$$,$scene$$,$o$$)};
cc.TransitionFlipY=cc.TransitionSceneOriented.extend({ctor:function($t$$,$scene$$,$o$$){cc.TransitionSceneOriented.prototype.ctor.call(this);null==$o$$&&($o$$=cc.TRANSITION_ORIENTATION_UP_OVER);$scene$$&&this.initWithDuration($t$$,$scene$$,$o$$)},onEnter:function(){cc.TransitionScene.prototype.onEnter.call(this);var $inA$$2_inDeltaZ$$,$outA$$2_outDeltaZ$$;this._inScene.visible=!1;var $inAngleZ$$;this._orientation==cc.TRANSITION_ORIENTATION_UP_OVER?($inA$$2_inDeltaZ$$=90,$inAngleZ$$=270,$outA$$2_outDeltaZ$$=
90):($inA$$2_inDeltaZ$$=-90,$inAngleZ$$=90,$outA$$2_outDeltaZ$$=-90);$inA$$2_inDeltaZ$$=cc.sequence(cc.delayTime(this._duration/2),cc.show(),cc.orbitCamera(this._duration/2,1,0,$inAngleZ$$,$inA$$2_inDeltaZ$$,90,0),cc.callFunc(this.finish,this));$outA$$2_outDeltaZ$$=cc.sequence(cc.orbitCamera(this._duration/2,1,0,0,$outA$$2_outDeltaZ$$,90,0),cc.hide(),cc.delayTime(this._duration/2));this._inScene.runAction($inA$$2_inDeltaZ$$);this._outScene.runAction($outA$$2_outDeltaZ$$)}});
cc.TransitionFlipY.create=function $cc$TransitionFlipY$create$($t$$,$scene$$,$o$$){return new cc.TransitionFlipY($t$$,$scene$$,$o$$)};
cc.TransitionFlipAngular=cc.TransitionSceneOriented.extend({ctor:function($t$$,$scene$$,$o$$){cc.TransitionSceneOriented.prototype.ctor.call(this);null==$o$$&&($o$$=cc.TRANSITION_ORIENTATION_RIGHT_OVER);$scene$$&&this.initWithDuration($t$$,$scene$$,$o$$)},onEnter:function(){cc.TransitionScene.prototype.onEnter.call(this);var $inA$$3_inDeltaZ$$,$outA$$3_outDeltaZ$$;this._inScene.visible=!1;var $inAngleZ$$;this._orientation===cc.TRANSITION_ORIENTATION_RIGHT_OVER?($inA$$3_inDeltaZ$$=90,$inAngleZ$$=270,
$outA$$3_outDeltaZ$$=90):($inA$$3_inDeltaZ$$=-90,$inAngleZ$$=90,$outA$$3_outDeltaZ$$=-90);$inA$$3_inDeltaZ$$=cc.sequence(cc.delayTime(this._duration/2),cc.show(),cc.orbitCamera(this._duration/2,1,0,$inAngleZ$$,$inA$$3_inDeltaZ$$,-45,0),cc.callFunc(this.finish,this));$outA$$3_outDeltaZ$$=cc.sequence(cc.orbitCamera(this._duration/2,1,0,0,$outA$$3_outDeltaZ$$,45,0),cc.hide(),cc.delayTime(this._duration/2));this._inScene.runAction($inA$$3_inDeltaZ$$);this._outScene.runAction($outA$$3_outDeltaZ$$)}});
cc.TransitionFlipAngular.create=function $cc$TransitionFlipAngular$create$($t$$,$scene$$,$o$$){return new cc.TransitionFlipAngular($t$$,$scene$$,$o$$)};
cc.TransitionZoomFlipX=cc.TransitionSceneOriented.extend({ctor:function($t$$,$scene$$,$o$$){cc.TransitionSceneOriented.prototype.ctor.call(this);null==$o$$&&($o$$=cc.TRANSITION_ORIENTATION_RIGHT_OVER);$scene$$&&this.initWithDuration($t$$,$scene$$,$o$$)},onEnter:function(){cc.TransitionScene.prototype.onEnter.call(this);var $inA$$4_inDeltaZ$$,$outA$$4_outDeltaZ$$;this._inScene.visible=!1;var $inAngleZ$$;this._orientation===cc.TRANSITION_ORIENTATION_RIGHT_OVER?($inA$$4_inDeltaZ$$=90,$inAngleZ$$=270,
$outA$$4_outDeltaZ$$=90):($inA$$4_inDeltaZ$$=-90,$inAngleZ$$=90,$outA$$4_outDeltaZ$$=-90);$inA$$4_inDeltaZ$$=cc.sequence(cc.delayTime(this._duration/2),cc.spawn(cc.orbitCamera(this._duration/2,1,0,$inAngleZ$$,$inA$$4_inDeltaZ$$,0,0),cc.scaleTo(this._duration/2,1),cc.show()),cc.callFunc(this.finish,this));$outA$$4_outDeltaZ$$=cc.sequence(cc.spawn(cc.orbitCamera(this._duration/2,1,0,0,$outA$$4_outDeltaZ$$,0,0),cc.scaleTo(this._duration/2,.5)),cc.hide(),cc.delayTime(this._duration/2));this._inScene.scale=
.5;this._inScene.runAction($inA$$4_inDeltaZ$$);this._outScene.runAction($outA$$4_outDeltaZ$$)}});cc.TransitionZoomFlipX.create=function $cc$TransitionZoomFlipX$create$($t$$,$scene$$,$o$$){return new cc.TransitionZoomFlipX($t$$,$scene$$,$o$$)};
cc.TransitionZoomFlipY=cc.TransitionSceneOriented.extend({ctor:function($t$$,$scene$$,$o$$){cc.TransitionSceneOriented.prototype.ctor.call(this);null==$o$$&&($o$$=cc.TRANSITION_ORIENTATION_UP_OVER);$scene$$&&this.initWithDuration($t$$,$scene$$,$o$$)},onEnter:function(){cc.TransitionScene.prototype.onEnter.call(this);var $inA$$5_inDeltaZ$$,$outA$$5_outDeltaZ$$;this._inScene.visible=!1;var $inAngleZ$$;this._orientation===cc.TRANSITION_ORIENTATION_UP_OVER?($inA$$5_inDeltaZ$$=90,$inAngleZ$$=270,$outA$$5_outDeltaZ$$=
90):($inA$$5_inDeltaZ$$=-90,$inAngleZ$$=90,$outA$$5_outDeltaZ$$=-90);$inA$$5_inDeltaZ$$=cc.sequence(cc.delayTime(this._duration/2),cc.spawn(cc.orbitCamera(this._duration/2,1,0,$inAngleZ$$,$inA$$5_inDeltaZ$$,90,0),cc.scaleTo(this._duration/2,1),cc.show()),cc.callFunc(this.finish,this));$outA$$5_outDeltaZ$$=cc.sequence(cc.spawn(cc.orbitCamera(this._duration/2,1,0,0,$outA$$5_outDeltaZ$$,90,0),cc.scaleTo(this._duration/2,.5)),cc.hide(),cc.delayTime(this._duration/2));this._inScene.scale=.5;this._inScene.runAction($inA$$5_inDeltaZ$$);
this._outScene.runAction($outA$$5_outDeltaZ$$)}});cc.TransitionZoomFlipY.create=function $cc$TransitionZoomFlipY$create$($t$$,$scene$$,$o$$){return new cc.TransitionZoomFlipY($t$$,$scene$$,$o$$)};
cc.TransitionZoomFlipAngular=cc.TransitionSceneOriented.extend({ctor:function($t$$,$scene$$,$o$$){cc.TransitionSceneOriented.prototype.ctor.call(this);null==$o$$&&($o$$=cc.TRANSITION_ORIENTATION_RIGHT_OVER);$scene$$&&this.initWithDuration($t$$,$scene$$,$o$$)},onEnter:function(){cc.TransitionScene.prototype.onEnter.call(this);var $inA$$6_inDeltaZ$$,$outA$$6_outDeltaZ$$;this._inScene.visible=!1;var $inAngleZ$$;this._orientation===cc.TRANSITION_ORIENTATION_RIGHT_OVER?($inA$$6_inDeltaZ$$=90,$inAngleZ$$=
270,$outA$$6_outDeltaZ$$=90):($inA$$6_inDeltaZ$$=-90,$inAngleZ$$=90,$outA$$6_outDeltaZ$$=-90);$inA$$6_inDeltaZ$$=cc.sequence(cc.delayTime(this._duration/2),cc.spawn(cc.orbitCamera(this._duration/2,1,0,$inAngleZ$$,$inA$$6_inDeltaZ$$,-45,0),cc.scaleTo(this._duration/2,1),cc.show()),cc.show(),cc.callFunc(this.finish,this));$outA$$6_outDeltaZ$$=cc.sequence(cc.spawn(cc.orbitCamera(this._duration/2,1,0,0,$outA$$6_outDeltaZ$$,45,0),cc.scaleTo(this._duration/2,.5)),cc.hide(),cc.delayTime(this._duration/2));
this._inScene.scale=.5;this._inScene.runAction($inA$$6_inDeltaZ$$);this._outScene.runAction($outA$$6_outDeltaZ$$)}});cc.TransitionZoomFlipAngular.create=function $cc$TransitionZoomFlipAngular$create$($t$$,$scene$$,$o$$){return new cc.TransitionZoomFlipAngular($t$$,$scene$$,$o$$)};
cc.TransitionFade=cc.TransitionScene.extend({_color:null,ctor:function($t$$,$scene$$,$color$$){cc.TransitionScene.prototype.ctor.call(this);this._color=cc.color();$scene$$&&this.initWithDuration($t$$,$scene$$,$color$$)},onEnter:function(){cc.TransitionScene.prototype.onEnter.call(this);var $f$$2_l$$=new cc.LayerColor(this._color);this._inScene.visible=!1;this.addChild($f$$2_l$$,2,cc.SCENE_FADE);var $f$$2_l$$=this.getChildByTag(cc.SCENE_FADE),$a$$=cc.sequence(cc.fadeIn(this._duration/2),cc.callFunc(this.hideOutShowIn,
this),cc.fadeOut(this._duration/2),cc.callFunc(this.finish,this));$f$$2_l$$.runAction($a$$)},onExit:function(){cc.TransitionScene.prototype.onExit.call(this);this.removeChildByTag(cc.SCENE_FADE,!1)},initWithDuration:function($t$$,$scene$$,$color$$){$color$$=$color$$||cc.color.BLACK;cc.TransitionScene.prototype.initWithDuration.call(this,$t$$,$scene$$)&&(this._color.r=$color$$.r,this._color.g=$color$$.g,this._color.b=$color$$.b,this._color.a=0);return!0}});
cc.TransitionFade.create=function $cc$TransitionFade$create$($t$$,$scene$$,$color$$){return new cc.TransitionFade($t$$,$scene$$,$color$$)};
cc.TransitionCrossFade=cc.TransitionScene.extend({ctor:function($t$$,$scene$$){cc.TransitionScene.prototype.ctor.call(this);$scene$$&&this.initWithDuration($t$$,$scene$$)},onEnter:function(){cc.TransitionScene.prototype.onEnter.call(this);var $color$$55_layer$$=cc.color(0,0,0,0),$layerAction_winSize$$=cc.director.getWinSize(),$color$$55_layer$$=new cc.LayerColor($color$$55_layer$$),$inTexture$$=new cc.RenderTexture($layerAction_winSize$$.width,$layerAction_winSize$$.height);if(null!=$inTexture$$){$inTexture$$.sprite.anchorX=
.5;$inTexture$$.sprite.anchorY=.5;$inTexture$$.attr({x:$layerAction_winSize$$.width/2,y:$layerAction_winSize$$.height/2,anchorX:.5,anchorY:.5});$inTexture$$.begin();this._inScene.visit();$inTexture$$.end();var $outTexture$$=new cc.RenderTexture($layerAction_winSize$$.width,$layerAction_winSize$$.height);$outTexture$$.setPosition($layerAction_winSize$$.width/2,$layerAction_winSize$$.height/2);$outTexture$$.sprite.anchorX=$outTexture$$.anchorX=.5;$outTexture$$.sprite.anchorY=$outTexture$$.anchorY=.5;
$outTexture$$.begin();this._outScene.visit();$outTexture$$.end();$inTexture$$.sprite.setBlendFunc(cc.ONE,cc.ONE);$outTexture$$.sprite.setBlendFunc(cc.SRC_ALPHA,cc.ONE_MINUS_SRC_ALPHA);$color$$55_layer$$.addChild($inTexture$$);$color$$55_layer$$.addChild($outTexture$$);$inTexture$$.sprite.opacity=255;$outTexture$$.sprite.opacity=255;$layerAction_winSize$$=cc.sequence(cc.fadeTo(this._duration,0),cc.callFunc(this.hideOutShowIn,this),cc.callFunc(this.finish,this));$outTexture$$.sprite.runAction($layerAction_winSize$$);
this.addChild($color$$55_layer$$,2,cc.SCENE_FADE)}},onExit:function(){this.removeChildByTag(cc.SCENE_FADE,!1);cc.TransitionScene.prototype.onExit.call(this)},visit:function(){cc.Node.prototype.visit.call(this)},draw:function(){}});cc.TransitionCrossFade.create=function $cc$TransitionCrossFade$create$($t$$,$scene$$){return new cc.TransitionCrossFade($t$$,$scene$$)};
cc.TransitionTurnOffTiles=cc.TransitionScene.extend({_gridProxy:null,ctor:function($t$$,$scene$$){cc.TransitionScene.prototype.ctor.call(this);this._gridProxy=new cc.NodeGrid;$scene$$&&this.initWithDuration($t$$,$scene$$)},_sceneOrder:function(){this._isInSceneOnTop=!1},onEnter:function(){cc.TransitionScene.prototype.onEnter.call(this);this._gridProxy.setTarget(this._outScene);this._gridProxy.onEnter();var $action$$174_toff_winSize$$=cc.director.getWinSize(),$action$$174_toff_winSize$$=cc.turnOffTiles(this._duration,
cc.size(0|$action$$174_toff_winSize$$.width/$action$$174_toff_winSize$$.height*12,12)),$action$$174_toff_winSize$$=this.easeActionWithAction($action$$174_toff_winSize$$);this._gridProxy.runAction(cc.sequence($action$$174_toff_winSize$$,cc.callFunc(this.finish,this),cc.stopGrid()))},visit:function(){this._inScene.visit();this._gridProxy.visit()},easeActionWithAction:function($action$$){return $action$$}});
cc.TransitionTurnOffTiles.create=function $cc$TransitionTurnOffTiles$create$($t$$,$scene$$){return new cc.TransitionTurnOffTiles($t$$,$scene$$)};
cc.TransitionSplitCols=cc.TransitionScene.extend({_gridProxy:null,_switchTargetToInscene:function(){this._gridProxy.setTarget(this._inScene)},ctor:function($t$$,$scene$$){cc.TransitionScene.prototype.ctor.call(this);this._gridProxy=new cc.NodeGrid;$scene$$&&this.initWithDuration($t$$,$scene$$)},onEnter:function(){cc.TransitionScene.prototype.onEnter.call(this);this._gridProxy.setTarget(this._outScene);this._gridProxy.onEnter();var $seq_split$$=this.action(),$seq_split$$=cc.sequence($seq_split$$,cc.callFunc(this._switchTargetToInscene,
this),$seq_split$$.reverse());this._gridProxy.runAction(cc.sequence(this.easeActionWithAction($seq_split$$),cc.callFunc(this.finish,this),cc.stopGrid()))},onExit:function(){this._gridProxy.setTarget(null);this._gridProxy.onExit();cc.TransitionScene.prototype.onExit.call(this)},visit:function(){this._gridProxy.visit()},easeActionWithAction:function($action$$){return new cc.EaseInOut($action$$,3)},action:function(){return cc.splitCols(this._duration/2,3)}});
cc.TransitionSplitCols.create=function $cc$TransitionSplitCols$create$($t$$,$scene$$){return new cc.TransitionSplitCols($t$$,$scene$$)};cc.TransitionSplitRows=cc.TransitionSplitCols.extend({ctor:function($t$$,$scene$$){cc.TransitionSplitCols.prototype.ctor.call(this);$scene$$&&this.initWithDuration($t$$,$scene$$)},action:function(){return cc.splitRows(this._duration/2,3)}});
cc.TransitionSplitRows.create=function $cc$TransitionSplitRows$create$($t$$,$scene$$){return new cc.TransitionSplitRows($t$$,$scene$$)};
cc.TransitionFadeTR=cc.TransitionScene.extend({_gridProxy:null,ctor:function($t$$,$scene$$){cc.TransitionScene.prototype.ctor.call(this);this._gridProxy=new cc.NodeGrid;$scene$$&&this.initWithDuration($t$$,$scene$$)},_sceneOrder:function(){this._isInSceneOnTop=!1},onEnter:function(){cc.TransitionScene.prototype.onEnter.call(this);this._gridProxy.setTarget(this._outScene);this._gridProxy.onEnter();var $action$$177_winSize$$=cc.director.getWinSize(),$action$$177_winSize$$=this.actionWithSize(cc.size(0|
$action$$177_winSize$$.width/$action$$177_winSize$$.height*12,12));this._gridProxy.runAction(cc.sequence(this.easeActionWithAction($action$$177_winSize$$),cc.callFunc(this.finish,this),cc.stopGrid()))},visit:function(){this._inScene.visit();this._gridProxy.visit()},easeActionWithAction:function($action$$){return $action$$},actionWithSize:function($size$$){return cc.fadeOutTRTiles(this._duration,$size$$)}});
cc.TransitionFadeTR.create=function $cc$TransitionFadeTR$create$($t$$,$scene$$){return new cc.TransitionFadeTR($t$$,$scene$$)};cc.TransitionFadeBL=cc.TransitionFadeTR.extend({ctor:function($t$$,$scene$$){cc.TransitionFadeTR.prototype.ctor.call(this);$scene$$&&this.initWithDuration($t$$,$scene$$)},actionWithSize:function($size$$){return cc.fadeOutBLTiles(this._duration,$size$$)}});cc.TransitionFadeBL.create=function $cc$TransitionFadeBL$create$($t$$,$scene$$){return new cc.TransitionFadeBL($t$$,$scene$$)};
cc.TransitionFadeUp=cc.TransitionFadeTR.extend({ctor:function($t$$,$scene$$){cc.TransitionFadeTR.prototype.ctor.call(this);$scene$$&&this.initWithDuration($t$$,$scene$$)},actionWithSize:function($size$$){return new cc.FadeOutUpTiles(this._duration,$size$$)}});cc.TransitionFadeUp.create=function $cc$TransitionFadeUp$create$($t$$,$scene$$){return new cc.TransitionFadeUp($t$$,$scene$$)};
cc.TransitionFadeDown=cc.TransitionFadeTR.extend({ctor:function($t$$,$scene$$){cc.TransitionFadeTR.prototype.ctor.call(this);$scene$$&&this.initWithDuration($t$$,$scene$$)},actionWithSize:function($size$$){return cc.fadeOutDownTiles(this._duration,$size$$)}});cc.TransitionFadeDown.create=function $cc$TransitionFadeDown$create$($t$$,$scene$$){return new cc.TransitionFadeDown($t$$,$scene$$)};cc.SCENE_RADIAL=49153;
cc.TransitionProgress=cc.TransitionScene.extend({_to:0,_from:0,_sceneToBeModified:null,_className:"TransitionProgress",ctor:function($t$$,$scene$$){cc.TransitionScene.prototype.ctor.call(this);$scene$$&&this.initWithDuration($t$$,$scene$$)},_setAttrs:function($node$$,$x$$,$y$$){$node$$.attr({x:$x$$,y:$y$$,anchorX:.5,anchorY:.5})},onEnter:function(){cc.TransitionScene.prototype.onEnter.call(this);this._setupTransition();var $pNode$$1_winSize$$=cc.director.getWinSize(),$layerAction$$1_texture$$=new cc.RenderTexture($pNode$$1_winSize$$.width,
$pNode$$1_winSize$$.height);$layerAction$$1_texture$$.sprite.anchorX=.5;$layerAction$$1_texture$$.sprite.anchorY=.5;this._setAttrs($layerAction$$1_texture$$,$pNode$$1_winSize$$.width/2,$pNode$$1_winSize$$.height/2);$layerAction$$1_texture$$.clear(0,0,0,1);$layerAction$$1_texture$$.begin();this._sceneToBeModified.visit();$layerAction$$1_texture$$.end();this._sceneToBeModified==this._outScene&&this.hideOutShowIn();$pNode$$1_winSize$$=this._progressTimerNodeWithRenderTexture($layerAction$$1_texture$$);
$layerAction$$1_texture$$=cc.sequence(cc.progressFromTo(this._duration,this._from,this._to),cc.callFunc(this.finish,this));$pNode$$1_winSize$$.runAction($layerAction$$1_texture$$);this.addChild($pNode$$1_winSize$$,2,cc.SCENE_RADIAL)},onExit:function(){this.removeChildByTag(cc.SCENE_RADIAL,!0);cc.TransitionScene.prototype.onExit.call(this)},_setupTransition:function(){this._sceneToBeModified=this._outScene;this._from=100;this._to=0},_progressTimerNodeWithRenderTexture:function($texture$$){cc.log("cc.TransitionProgress._progressTimerNodeWithRenderTexture(): should be overridden in subclass");
return null},_sceneOrder:function(){this._isInSceneOnTop=!1}});cc.TransitionProgress.create=function $cc$TransitionProgress$create$($t$$,$scene$$){return new cc.TransitionProgress($t$$,$scene$$)};
cc.TransitionProgressRadialCCW=cc.TransitionProgress.extend({ctor:function($t$$,$scene$$){cc.TransitionProgress.prototype.ctor.call(this);$scene$$&&this.initWithDuration($t$$,$scene$$)},_progressTimerNodeWithRenderTexture:function($pNode$$2_texture$$){var $size$$=cc.director.getWinSize();$pNode$$2_texture$$=new cc.ProgressTimer($pNode$$2_texture$$.sprite);cc._renderType===cc._RENDER_TYPE_WEBGL&&($pNode$$2_texture$$.sprite.flippedY=!0);$pNode$$2_texture$$.type=cc.ProgressTimer.TYPE_RADIAL;$pNode$$2_texture$$.reverseDir=
!1;$pNode$$2_texture$$.percentage=100;this._setAttrs($pNode$$2_texture$$,$size$$.width/2,$size$$.height/2);return $pNode$$2_texture$$}});cc.TransitionProgressRadialCCW.create=function $cc$TransitionProgressRadialCCW$create$($t$$,$scene$$){return new cc.TransitionProgressRadialCCW($t$$,$scene$$)};
cc.TransitionProgressRadialCW=cc.TransitionProgress.extend({ctor:function($t$$,$scene$$){cc.TransitionProgress.prototype.ctor.call(this);$scene$$&&this.initWithDuration($t$$,$scene$$)},_progressTimerNodeWithRenderTexture:function($pNode$$3_texture$$){var $size$$=cc.director.getWinSize();$pNode$$3_texture$$=new cc.ProgressTimer($pNode$$3_texture$$.sprite);cc._renderType===cc._RENDER_TYPE_WEBGL&&($pNode$$3_texture$$.sprite.flippedY=!0);$pNode$$3_texture$$.type=cc.ProgressTimer.TYPE_RADIAL;$pNode$$3_texture$$.reverseDir=
!0;$pNode$$3_texture$$.percentage=100;this._setAttrs($pNode$$3_texture$$,$size$$.width/2,$size$$.height/2);return $pNode$$3_texture$$}});cc.TransitionProgressRadialCW.create=function $cc$TransitionProgressRadialCW$create$($t$$,$scene$$){var $tempScene$$=new cc.TransitionProgressRadialCW;return null!=$tempScene$$&&$tempScene$$.initWithDuration($t$$,$scene$$)?$tempScene$$:new cc.TransitionProgressRadialCW($t$$,$scene$$)};
cc.TransitionProgressHorizontal=cc.TransitionProgress.extend({ctor:function($t$$,$scene$$){cc.TransitionProgress.prototype.ctor.call(this);$scene$$&&this.initWithDuration($t$$,$scene$$)},_progressTimerNodeWithRenderTexture:function($pNode$$4_texture$$){var $size$$=cc.director.getWinSize();$pNode$$4_texture$$=new cc.ProgressTimer($pNode$$4_texture$$.sprite);cc._renderType===cc._RENDER_TYPE_WEBGL&&($pNode$$4_texture$$.sprite.flippedY=!0);$pNode$$4_texture$$.type=cc.ProgressTimer.TYPE_BAR;$pNode$$4_texture$$.midPoint=
cc.p(1,0);$pNode$$4_texture$$.barChangeRate=cc.p(1,0);$pNode$$4_texture$$.percentage=100;this._setAttrs($pNode$$4_texture$$,$size$$.width/2,$size$$.height/2);return $pNode$$4_texture$$}});cc.TransitionProgressHorizontal.create=function $cc$TransitionProgressHorizontal$create$($t$$,$scene$$){return new cc.TransitionProgressHorizontal($t$$,$scene$$)};
cc.TransitionProgressVertical=cc.TransitionProgress.extend({ctor:function($t$$,$scene$$){cc.TransitionProgress.prototype.ctor.call(this);$scene$$&&this.initWithDuration($t$$,$scene$$)},_progressTimerNodeWithRenderTexture:function($pNode$$5_texture$$){var $size$$=cc.director.getWinSize();$pNode$$5_texture$$=new cc.ProgressTimer($pNode$$5_texture$$.sprite);cc._renderType===cc._RENDER_TYPE_WEBGL&&($pNode$$5_texture$$.sprite.flippedY=!0);$pNode$$5_texture$$.type=cc.ProgressTimer.TYPE_BAR;$pNode$$5_texture$$.midPoint=
cc.p(0,0);$pNode$$5_texture$$.barChangeRate=cc.p(0,1);$pNode$$5_texture$$.percentage=100;this._setAttrs($pNode$$5_texture$$,$size$$.width/2,$size$$.height/2);return $pNode$$5_texture$$}});cc.TransitionProgressVertical.create=function $cc$TransitionProgressVertical$create$($t$$,$scene$$){return new cc.TransitionProgressVertical($t$$,$scene$$)};
cc.TransitionProgressInOut=cc.TransitionProgress.extend({ctor:function($t$$,$scene$$){cc.TransitionProgress.prototype.ctor.call(this);$scene$$&&this.initWithDuration($t$$,$scene$$)},_progressTimerNodeWithRenderTexture:function($pNode$$6_texture$$){var $size$$=cc.director.getWinSize();$pNode$$6_texture$$=new cc.ProgressTimer($pNode$$6_texture$$.sprite);cc._renderType===cc._RENDER_TYPE_WEBGL&&($pNode$$6_texture$$.sprite.flippedY=!0);$pNode$$6_texture$$.type=cc.ProgressTimer.TYPE_BAR;$pNode$$6_texture$$.midPoint=
cc.p(.5,.5);$pNode$$6_texture$$.barChangeRate=cc.p(1,1);$pNode$$6_texture$$.percentage=0;this._setAttrs($pNode$$6_texture$$,$size$$.width/2,$size$$.height/2);return $pNode$$6_texture$$},_sceneOrder:function(){this._isInSceneOnTop=!1},_setupTransition:function(){this._sceneToBeModified=this._inScene;this._from=0;this._to=100}});cc.TransitionProgressInOut.create=function $cc$TransitionProgressInOut$create$($t$$,$scene$$){return new cc.TransitionProgressInOut($t$$,$scene$$)};
cc.TransitionProgressOutIn=cc.TransitionProgress.extend({ctor:function($t$$,$scene$$){cc.TransitionProgress.prototype.ctor.call(this);$scene$$&&this.initWithDuration($t$$,$scene$$)},_progressTimerNodeWithRenderTexture:function($pNode$$7_texture$$){var $size$$=cc.director.getWinSize();$pNode$$7_texture$$=new cc.ProgressTimer($pNode$$7_texture$$.sprite);cc._renderType===cc._RENDER_TYPE_WEBGL&&($pNode$$7_texture$$.sprite.flippedY=!0);$pNode$$7_texture$$.type=cc.ProgressTimer.TYPE_BAR;$pNode$$7_texture$$.midPoint=
cc.p(.5,.5);$pNode$$7_texture$$.barChangeRate=cc.p(1,1);$pNode$$7_texture$$.percentage=100;this._setAttrs($pNode$$7_texture$$,$size$$.width/2,$size$$.height/2);return $pNode$$7_texture$$}});cc.TransitionProgressOutIn.create=function $cc$TransitionProgressOutIn$create$($t$$,$scene$$){return new cc.TransitionProgressOutIn($t$$,$scene$$)};
cc.TransitionPageTurn=cc.TransitionScene.extend({ctor:function($t$$,$scene$$,$backwards$$){cc.TransitionScene.prototype.ctor.call(this);this._gridProxy=new cc.NodeGrid;this.initWithDuration($t$$,$scene$$,$backwards$$)},_back:!0,_gridProxy:null,_className:"TransitionPageTurn",initWithDuration:function($t$$,$scene$$,$backwards$$){this._back=$backwards$$;cc.TransitionScene.prototype.initWithDuration.call(this,$t$$,$scene$$);return!0},actionWithSize:function($vector$$){return this._back?cc.reverseTime(cc.pageTurn3D(this._duration,
$vector$$)):cc.pageTurn3D(this._duration,$vector$$)},onEnter:function(){cc.TransitionScene.prototype.onEnter.call(this);var $action$$179_winSize$$12_x$$=cc.director.getWinSize(),$gridProxy_y$$;$action$$179_winSize$$12_x$$.width>$action$$179_winSize$$12_x$$.height?($action$$179_winSize$$12_x$$=16,$gridProxy_y$$=12):($action$$179_winSize$$12_x$$=12,$gridProxy_y$$=16);$action$$179_winSize$$12_x$$=this.actionWithSize(cc.size($action$$179_winSize$$12_x$$,$gridProxy_y$$));$gridProxy_y$$=this._gridProxy;
this._back?($gridProxy_y$$.setTarget(this._inScene),$gridProxy_y$$.onEnter(),this._inScene.visible=!1,$gridProxy_y$$.runAction(cc.sequence($action$$179_winSize$$12_x$$,cc.callFunc(this.finish,this),cc.stopGrid())),this._inScene.runAction(cc.show())):($gridProxy_y$$.setTarget(this._outScene),$gridProxy_y$$.onEnter(),$gridProxy_y$$.runAction(cc.sequence($action$$179_winSize$$12_x$$,cc.callFunc(this.finish,this),cc.stopGrid())))},visit:function(){this._back?this._outScene.visit():this._inScene.visit();
this._gridProxy.visit()},_sceneOrder:function(){this._isInSceneOnTop=this._back}});cc.TransitionPageTurn.create=function $cc$TransitionPageTurn$create$($t$$,$scene$$,$backwards$$){return new cc.TransitionPageTurn($t$$,$scene$$,$backwards$$)};cc.Codec={name:"Jacob__Codec"};cc.unzip=function $cc$unzip$(){return cc.Codec.GZip.gunzip.apply(cc.Codec.GZip,arguments)};
cc.unzipBase64=function $cc$unzipBase64$(){var $tmpInput$$=cc.Codec.Base64.decode.apply(cc.Codec.Base64,arguments);return cc.Codec.GZip.gunzip.apply(cc.Codec.GZip,[$tmpInput$$])};
cc.unzipBase64AsArray=function $cc$unzipBase64AsArray$($input$$,$bytes$$){$bytes$$=$bytes$$||1;var $dec$$=this.unzipBase64($input$$),$ar$$=[],$i$$,$j$$,$len$$;$i$$=0;for($len$$=$dec$$.length/$bytes$$;$i$$<$len$$;$i$$++)for($ar$$[$i$$]=0,$j$$=$bytes$$-1;0<=$j$$;--$j$$)$ar$$[$i$$]+=$dec$$.charCodeAt($i$$*$bytes$$+$j$$)<<8*$j$$;return $ar$$};
cc.unzipAsArray=function $cc$unzipAsArray$($input$$,$bytes$$){$bytes$$=$bytes$$||1;var $dec$$=this.unzip($input$$),$ar$$=[],$i$$,$j$$,$len$$;$i$$=0;for($len$$=$dec$$.length/$bytes$$;$i$$<$len$$;$i$$++)for($ar$$[$i$$]=0,$j$$=$bytes$$-1;0<=$j$$;--$j$$)$ar$$[$i$$]+=$dec$$.charCodeAt($i$$*$bytes$$+$j$$)<<8*$j$$;return $ar$$};
cc.StringToArray=function $cc$StringToArray$($input$$2_tmp$$){$input$$2_tmp$$=$input$$2_tmp$$.split(",");var $ar$$=[],$i$$;for($i$$=0;$i$$<$input$$2_tmp$$.length;$i$$++)$ar$$.push(parseInt($input$$2_tmp$$[$i$$]));return $ar$$};cc.Codec.Base64={name:"Jacob__Codec__Base64"};cc.Codec.Base64._keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
cc.Codec.Base64.decode=function Jacob__Codec__Base64__decode($input$$){var $output$$=[],$chr1_enc1$$,$chr2_enc2$$,$chr3$$,$enc3$$,$enc4$$,$i$$=0;for($input$$=$input$$.replace(/[^A-Za-z0-9\+\/\=]/g,"");$i$$<$input$$.length;)$chr1_enc1$$=this._keyStr.indexOf($input$$.charAt($i$$++)),$chr2_enc2$$=this._keyStr.indexOf($input$$.charAt($i$$++)),$enc3$$=this._keyStr.indexOf($input$$.charAt($i$$++)),$enc4$$=this._keyStr.indexOf($input$$.charAt($i$$++)),$chr1_enc1$$=$chr1_enc1$$<<2|$chr2_enc2$$>>4,$chr2_enc2$$=
($chr2_enc2$$&15)<<4|$enc3$$>>2,$chr3$$=($enc3$$&3)<<6|$enc4$$,$output$$.push(String.fromCharCode($chr1_enc1$$)),64!=$enc3$$&&$output$$.push(String.fromCharCode($chr2_enc2$$)),64!=$enc4$$&&$output$$.push(String.fromCharCode($chr3$$));return $output$$=$output$$.join("")};
cc.Codec.Base64.decodeAsArray=function Jacob__Codec__Base64___decodeAsArray($input$$,$bytes$$){var $dec$$=this.decode($input$$),$ar$$=[],$i$$,$j$$,$len$$;$i$$=0;for($len$$=$dec$$.length/$bytes$$;$i$$<$len$$;$i$$++)for($ar$$[$i$$]=0,$j$$=$bytes$$-1;0<=$j$$;--$j$$)$ar$$[$i$$]+=$dec$$.charCodeAt($i$$*$bytes$$+$j$$)<<8*$j$$;return $ar$$};
cc.uint8ArrayToUint32Array=function $cc$uint8ArrayToUint32Array$($uint8Arr$$){if(0!=$uint8Arr$$.length%4)return null;for(var $arrLen$$=$uint8Arr$$.length/4,$retArr$$=window.Uint32Array?new Uint32Array($arrLen$$):[],$i$$=0;$i$$<$arrLen$$;$i$$++){var $offset$$=4*$i$$;$retArr$$[$i$$]=$uint8Arr$$[$offset$$]+256*$uint8Arr$$[$offset$$+1]+65536*$uint8Arr$$[$offset$$+2]+16777216*$uint8Arr$$[$offset$$+3]}return $retArr$$};
cc.Codec.GZip=function Jacob__GZip($data$$){this.data=$data$$;this.debug=!1;this.gpflags=void 0;this.files=0;this.unzipped=[];this.buf32k=Array(32768);this.bIdx=0;this.modeZIP=!1;this.bytepos=0;this.bb=1;this.bits=0;this.nameBuf=[];this.fileout=void 0;this.literalTree=Array(cc.Codec.GZip.LITERALS);this.distanceTree=Array(32);this.treepos=0;this.Places=null;this.len=0;this.fpos=Array(17);this.fpos[0]=0;this.fmax=this.flens=void 0};cc.Codec.GZip.gunzip=function $cc$Codec$GZip$gunzip$($string$$){return(new cc.Codec.GZip($string$$)).gunzip()[0][0]};
cc.Codec.GZip.HufNode=function $cc$Codec$GZip$HufNode$(){this.b1=this.b0=0;this.jump=null;this.jumppos=-1};cc.Codec.GZip.LITERALS=288;cc.Codec.GZip.NAMEMAX=256;
cc.Codec.GZip.bitReverse=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254,1,129,65,193,33,161,
97,225,17,145,81,209,49,177,113,241,9,137,73,201,41,169,105,233,25,153,89,217,57,185,121,249,5,133,69,197,37,165,101,229,21,149,85,213,53,181,117,245,13,141,77,205,45,173,109,237,29,157,93,221,61,189,125,253,3,131,67,195,35,163,99,227,19,147,83,211,51,179,115,243,11,139,75,203,43,171,107,235,27,155,91,219,59,187,123,251,7,135,71,199,39,167,103,231,23,151,87,215,55,183,119,247,15,143,79,207,47,175,111,239,31,159,95,223,63,191,127,255];
cc.Codec.GZip.cplens=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0];cc.Codec.GZip.cplext=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99];cc.Codec.GZip.cpdist=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];cc.Codec.GZip.cpdext=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];cc.Codec.GZip.border=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];
cc.Codec.GZip.prototype.gunzip=function $cc$Codec$GZip$$gunzip$(){this.outputArr=[];this.nextFile();return this.unzipped};cc.Codec.GZip.prototype.readByte=function $cc$Codec$GZip$$readByte$(){this.bits+=8;return this.bytepos<this.data.length?this.data.charCodeAt(this.bytepos++):-1};cc.Codec.GZip.prototype.byteAlign=function $cc$Codec$GZip$$byteAlign$(){this.bb=1};
cc.Codec.GZip.prototype.readBit=function $cc$Codec$GZip$$readBit$(){var $carry$$;this.bits++;$carry$$=this.bb&1;this.bb>>=1;0==this.bb&&(this.bb=this.readByte(),$carry$$=this.bb&1,this.bb=this.bb>>1|128);return $carry$$};cc.Codec.GZip.prototype.readBits=function $cc$Codec$GZip$$readBits$($a$$){for(var $res$$=0,$i$$=$a$$;$i$$--;)$res$$=$res$$<<1|this.readBit();$a$$&&($res$$=cc.Codec.GZip.bitReverse[$res$$]>>8-$a$$);return $res$$};
cc.Codec.GZip.prototype.flushBuffer=function $cc$Codec$GZip$$flushBuffer$(){this.bIdx=0};cc.Codec.GZip.prototype.addBuffer=function $cc$Codec$GZip$$addBuffer$($a$$){this.buf32k[this.bIdx++]=$a$$;this.outputArr.push(String.fromCharCode($a$$));32768==this.bIdx&&(this.bIdx=0)};cc.Codec.GZip.prototype.IsPat=function $cc$Codec$GZip$$IsPat$(){for(;;){if(this.fpos[this.len]>=this.fmax)return-1;if(this.flens[this.fpos[this.len]]==this.len)return this.fpos[this.len]++;this.fpos[this.len]++}};
cc.Codec.GZip.prototype.Rec=function $cc$Codec$GZip$$Rec$(){var $curplace$$=this.Places[this.treepos],$tmp$$;if(17==this.len)return-1;this.treepos++;this.len++;$tmp$$=this.IsPat();if(0<=$tmp$$)$curplace$$.b0=$tmp$$;else if($curplace$$.b0=32768,this.Rec())return-1;$tmp$$=this.IsPat();if(0<=$tmp$$)$curplace$$.b1=$tmp$$,$curplace$$.jump=null;else if($curplace$$.b1=32768,$curplace$$.jump=this.Places[this.treepos],$curplace$$.jumppos=this.treepos,this.Rec())return-1;this.len--;return 0};
cc.Codec.GZip.prototype.CreateTree=function $cc$Codec$GZip$$CreateTree$($currentTree_i$$,$numval$$,$lengths$$,$show$$){this.Places=$currentTree_i$$;this.treepos=0;this.flens=$lengths$$;this.fmax=$numval$$;for($currentTree_i$$=0;17>$currentTree_i$$;$currentTree_i$$++)this.fpos[$currentTree_i$$]=0;this.len=0;return this.Rec()?-1:0};
cc.Codec.GZip.prototype.DecodeValue=function $cc$Codec$GZip$$DecodeValue$($currentTree$$){for(var $b$$35_len$$,$i$$,$xtreepos$$=0,$X$$=$currentTree$$[$xtreepos$$];;)if($b$$35_len$$=this.readBit()){if(!($X$$.b1&32768))return $X$$.b1;$X$$=$X$$.jump;$b$$35_len$$=$currentTree$$.length;for($i$$=0;$i$$<$b$$35_len$$;$i$$++)if($currentTree$$[$i$$]===$X$$){$xtreepos$$=$i$$;break}}else{if(!($X$$.b0&32768))return $X$$.b0;$xtreepos$$++;$X$$=$currentTree$$[$xtreepos$$]}};
cc.Codec.GZip.prototype.DeflateLoop=function $cc$Codec$GZip$$DeflateLoop$(){var $last$$,$c$$,$blockLen_j$$42_ll2_type$$,$i$$,$len$$78_n$$;do if($last$$=this.readBit(),$blockLen_j$$42_ll2_type$$=this.readBits(2),0==$blockLen_j$$42_ll2_type$$)for(this.byteAlign(),$blockLen_j$$42_ll2_type$$=this.readByte(),$blockLen_j$$42_ll2_type$$|=this.readByte()<<8,$c$$=this.readByte(),$c$$|=this.readByte()<<8,($blockLen_j$$42_ll2_type$$^~$c$$)&65535&&document.write("BlockLen checksum mismatch\n");$blockLen_j$$42_ll2_type$$--;)$c$$=
this.readByte(),this.addBuffer($c$$);else if(1==$blockLen_j$$42_ll2_type$$)for(;;)if($blockLen_j$$42_ll2_type$$=cc.Codec.GZip.bitReverse[this.readBits(7)]>>1,23<$blockLen_j$$42_ll2_type$$?($blockLen_j$$42_ll2_type$$=$blockLen_j$$42_ll2_type$$<<1|this.readBit(),199<$blockLen_j$$42_ll2_type$$?($blockLen_j$$42_ll2_type$$-=128,$blockLen_j$$42_ll2_type$$=$blockLen_j$$42_ll2_type$$<<1|this.readBit()):($blockLen_j$$42_ll2_type$$-=48,143<$blockLen_j$$42_ll2_type$$&&($blockLen_j$$42_ll2_type$$+=136))):$blockLen_j$$42_ll2_type$$+=
256,256>$blockLen_j$$42_ll2_type$$)this.addBuffer($blockLen_j$$42_ll2_type$$);else if(256==$blockLen_j$$42_ll2_type$$)break;else{var $dist_distCodes$$;$blockLen_j$$42_ll2_type$$-=257;$len$$78_n$$=this.readBits(cc.Codec.GZip.cplext[$blockLen_j$$42_ll2_type$$])+cc.Codec.GZip.cplens[$blockLen_j$$42_ll2_type$$];$blockLen_j$$42_ll2_type$$=cc.Codec.GZip.bitReverse[this.readBits(5)]>>3;8<cc.Codec.GZip.cpdext[$blockLen_j$$42_ll2_type$$]?($dist_distCodes$$=this.readBits(8),$dist_distCodes$$|=this.readBits(cc.Codec.GZip.cpdext[$blockLen_j$$42_ll2_type$$]-
8)<<8):$dist_distCodes$$=this.readBits(cc.Codec.GZip.cpdext[$blockLen_j$$42_ll2_type$$]);$dist_distCodes$$+=cc.Codec.GZip.cpdist[$blockLen_j$$42_ll2_type$$];for($blockLen_j$$42_ll2_type$$=0;$blockLen_j$$42_ll2_type$$<$len$$78_n$$;$blockLen_j$$42_ll2_type$$++)$c$$=this.buf32k[this.bIdx-$dist_distCodes$$&32767],this.addBuffer($c$$)}else if(2==$blockLen_j$$42_ll2_type$$){var $ll$$=Array(320);$c$$=257+this.readBits(5);$dist_distCodes$$=1+this.readBits(5);$i$$=4+this.readBits(4);for($blockLen_j$$42_ll2_type$$=
0;19>$blockLen_j$$42_ll2_type$$;$blockLen_j$$42_ll2_type$$++)$ll$$[$blockLen_j$$42_ll2_type$$]=0;for($blockLen_j$$42_ll2_type$$=0;$blockLen_j$$42_ll2_type$$<$i$$;$blockLen_j$$42_ll2_type$$++)$ll$$[cc.Codec.GZip.border[$blockLen_j$$42_ll2_type$$]]=this.readBits(3);$len$$78_n$$=this.distanceTree.length;for($i$$=0;$i$$<$len$$78_n$$;$i$$++)this.distanceTree[$i$$]=new cc.Codec.GZip.HufNode;if(this.CreateTree(this.distanceTree,19,$ll$$,0))return this.flushBuffer(),1;$len$$78_n$$=$c$$+$dist_distCodes$$;
$i$$=0;for(var $z$$=-1;$i$$<$len$$78_n$$;)if($z$$++,$blockLen_j$$42_ll2_type$$=this.DecodeValue(this.distanceTree),16>$blockLen_j$$42_ll2_type$$)$ll$$[$i$$++]=$blockLen_j$$42_ll2_type$$;else if(16==$blockLen_j$$42_ll2_type$$){var $l$$;$blockLen_j$$42_ll2_type$$=3+this.readBits(2);if($i$$+$blockLen_j$$42_ll2_type$$>$len$$78_n$$)return this.flushBuffer(),1;for($l$$=$i$$?$ll$$[$i$$-1]:0;$blockLen_j$$42_ll2_type$$--;)$ll$$[$i$$++]=$l$$}else{$blockLen_j$$42_ll2_type$$=17==$blockLen_j$$42_ll2_type$$?3+
this.readBits(3):11+this.readBits(7);if($i$$+$blockLen_j$$42_ll2_type$$>$len$$78_n$$)return this.flushBuffer(),1;for(;$blockLen_j$$42_ll2_type$$--;)$ll$$[$i$$++]=0}$len$$78_n$$=this.literalTree.length;for($i$$=0;$i$$<$len$$78_n$$;$i$$++)this.literalTree[$i$$]=new cc.Codec.GZip.HufNode;if(this.CreateTree(this.literalTree,$c$$,$ll$$,0))return this.flushBuffer(),1;$len$$78_n$$=this.literalTree.length;for($i$$=0;$i$$<$len$$78_n$$;$i$$++)this.distanceTree[$i$$]=new cc.Codec.GZip.HufNode;$blockLen_j$$42_ll2_type$$=
[];for($i$$=$c$$;$i$$<$ll$$.length;$i$$++)$blockLen_j$$42_ll2_type$$[$i$$-$c$$]=$ll$$[$i$$];if(this.CreateTree(this.distanceTree,$dist_distCodes$$,$blockLen_j$$42_ll2_type$$,0))return this.flushBuffer(),1;for(;;)if($blockLen_j$$42_ll2_type$$=this.DecodeValue(this.literalTree),256<=$blockLen_j$$42_ll2_type$$){$blockLen_j$$42_ll2_type$$-=256;if(0==$blockLen_j$$42_ll2_type$$)break;$blockLen_j$$42_ll2_type$$--;$len$$78_n$$=this.readBits(cc.Codec.GZip.cplext[$blockLen_j$$42_ll2_type$$])+cc.Codec.GZip.cplens[$blockLen_j$$42_ll2_type$$];
$blockLen_j$$42_ll2_type$$=this.DecodeValue(this.distanceTree);8<cc.Codec.GZip.cpdext[$blockLen_j$$42_ll2_type$$]?($dist_distCodes$$=this.readBits(8),$dist_distCodes$$|=this.readBits(cc.Codec.GZip.cpdext[$blockLen_j$$42_ll2_type$$]-8)<<8):$dist_distCodes$$=this.readBits(cc.Codec.GZip.cpdext[$blockLen_j$$42_ll2_type$$]);for($dist_distCodes$$+=cc.Codec.GZip.cpdist[$blockLen_j$$42_ll2_type$$];$len$$78_n$$--;)$c$$=this.buf32k[this.bIdx-$dist_distCodes$$&32767],this.addBuffer($c$$)}else this.addBuffer($blockLen_j$$42_ll2_type$$)}while(!$last$$);
this.flushBuffer();this.byteAlign();return 0};cc.Codec.GZip.prototype.unzipFile=function $cc$Codec$GZip$$unzipFile$($name$$){var $i$$;this.gunzip();for($i$$=0;$i$$<this.unzipped.length;$i$$++)if(this.unzipped[$i$$][1]==$name$$)return this.unzipped[$i$$][0]};
cc.Codec.GZip.prototype.nextFile=function $cc$Codec$GZip$$nextFile$(){this.outputArr=[];this.modeZIP=!1;var $method$$1_tmp$$=[];$method$$1_tmp$$[0]=this.readByte();$method$$1_tmp$$[1]=this.readByte();120==$method$$1_tmp$$[0]&&218==$method$$1_tmp$$[1]&&(this.DeflateLoop(),this.unzipped[this.files]=[this.outputArr.join(""),"geonext.gxt"],this.files++);31==$method$$1_tmp$$[0]&&139==$method$$1_tmp$$[1]&&(this.skipdir(),this.unzipped[this.files]=[this.outputArr.join(""),"file"],this.files++);if(80==$method$$1_tmp$$[0]&&
75==$method$$1_tmp$$[1]&&(this.modeZIP=!0,$method$$1_tmp$$[2]=this.readByte(),$method$$1_tmp$$[3]=this.readByte(),3==$method$$1_tmp$$[2]&&4==$method$$1_tmp$$[3])){$method$$1_tmp$$[0]=this.readByte();$method$$1_tmp$$[1]=this.readByte();this.gpflags=this.readByte();this.gpflags|=this.readByte()<<8;$method$$1_tmp$$=this.readByte();$method$$1_tmp$$|=this.readByte()<<8;this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();
this.readByte();this.readByte();this.readByte();var $filelen$$=this.readByte(),$filelen$$=$filelen$$|this.readByte()<<8,$extralen$$=this.readByte(),$extralen$$=$extralen$$|this.readByte()<<8,$i$$=0;for(this.nameBuf=[];$filelen$$--;){var $c$$=this.readByte();"/"==$c$$|":"==$c$$?$i$$=0:$i$$<cc.Codec.GZip.NAMEMAX-1&&(this.nameBuf[$i$$++]=String.fromCharCode($c$$))}this.fileout||(this.fileout=this.nameBuf);for(var $i$$=0;$i$$<$extralen$$;)this.readByte(),$i$$++;8==$method$$1_tmp$$&&(this.DeflateLoop(),
this.unzipped[this.files]=[this.outputArr.join(""),this.nameBuf.join("")],this.files++);this.skipdir()}};
cc.Codec.GZip.prototype.skipdir=function $cc$Codec$GZip$$skipdir$(){var $i$$279_tmp$$=[],$c$$;this.gpflags&8&&($i$$279_tmp$$[0]=this.readByte(),$i$$279_tmp$$[1]=this.readByte(),$i$$279_tmp$$[2]=this.readByte(),$i$$279_tmp$$[3]=this.readByte(),this.readByte(),this.readByte(),this.readByte(),this.readByte(),this.readByte(),this.readByte(),this.readByte(),this.readByte());this.modeZIP&&this.nextFile();$i$$279_tmp$$[0]=this.readByte();if(8!=$i$$279_tmp$$[0])return 0;this.gpflags=this.readByte();this.readByte();
this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();if(this.gpflags&4)for($i$$279_tmp$$[0]=this.readByte(),$i$$279_tmp$$[2]=this.readByte(),this.len=$i$$279_tmp$$[0]+256*$i$$279_tmp$$[1],$i$$279_tmp$$=0;$i$$279_tmp$$<this.len;$i$$279_tmp$$++)this.readByte();if(this.gpflags&8)for($i$$279_tmp$$=0,this.nameBuf=[];$c$$=this.readByte();){if("7"==$c$$||":"==$c$$)$i$$279_tmp$$=0;$i$$279_tmp$$<cc.Codec.GZip.NAMEMAX-1&&(this.nameBuf[$i$$279_tmp$$++]=$c$$)}if(this.gpflags&16)for(;this.readByte(););
this.gpflags&2&&(this.readByte(),this.readByte());this.DeflateLoop();this.readByte();this.readByte();this.readByte();this.readByte();this.modeZIP&&this.nextFile()};
(function(){function $i$$($a$$){throw $a$$;}function $y$$($a$$,$c$$){var $b$$=$a$$.split("."),$e$$=$aa$$;$b$$[0]in $e$$||!$e$$.execScript||$e$$.execScript("var "+$b$$[0]);for(var $f$$;$b$$.length&&($f$$=$b$$.shift());)$b$$.length||void 0===$c$$?$e$$=$e$$[$f$$]?$e$$[$f$$]:$e$$[$f$$]={}:$e$$[$f$$]=$c$$}function $ba$$($a$$51_c$$){if("string"===typeof $a$$51_c$$){$a$$51_c$$=$a$$51_c$$.split("");var $b$$37_f$$,$d$$19_e$$;$b$$37_f$$=0;for($d$$19_e$$=$a$$51_c$$.length;$b$$37_f$$<$d$$19_e$$;$b$$37_f$$++)$a$$51_c$$[$b$$37_f$$]=
($a$$51_c$$[$b$$37_f$$].charCodeAt(0)&255)>>>0}$b$$37_f$$=1;$d$$19_e$$=0;for(var $g$$=$a$$51_c$$.length,$h$$,$m$$=0;0<$g$$;){$h$$=1024<$g$$?1024:$g$$;$g$$-=$h$$;do $b$$37_f$$+=$a$$51_c$$[$m$$++],$d$$19_e$$+=$b$$37_f$$;while(--$h$$);$b$$37_f$$%=65521;$d$$19_e$$%=65521}return($d$$19_e$$<<16|$b$$37_f$$)>>>0}function $J$$($a$$,$c$$){this.index="number"===typeof $c$$?$c$$:0;this.i=0;this.buffer=$a$$ instanceof($H$$?Uint8Array:Array)?$a$$:new ($H$$?Uint8Array:Array)(32768);2*this.buffer.length<=this.index&&
$i$$(Error("invalid index"));this.buffer.length<=this.index&&this.f()}function $la$$($a$$){this.buffer=new ($H$$?Uint16Array:Array)(2*$a$$);this.length=0}function $S$$($a$$){var $c$$=$a$$.length,$b$$=0,$e$$=Number.POSITIVE_INFINITY,$f$$,$d$$,$g$$,$h$$,$m$$,$j$$,$s$$,$n$$,$l$$;for($n$$=0;$n$$<$c$$;++$n$$)$a$$[$n$$]>$b$$&&($b$$=$a$$[$n$$]),$a$$[$n$$]<$e$$&&($e$$=$a$$[$n$$]);$f$$=1<<$b$$;$d$$=new ($H$$?Uint32Array:Array)($f$$);$g$$=1;$h$$=0;for($m$$=2;$g$$<=$b$$;){for($n$$=0;$n$$<$c$$;++$n$$)if($a$$[$n$$]===
$g$$){$j$$=0;$s$$=$h$$;for($l$$=0;$l$$<$g$$;++$l$$)$j$$=$j$$<<1|$s$$&1,$s$$>>=1;for($l$$=$j$$;$l$$<$f$$;$l$$+=$m$$)$d$$[$l$$]=$g$$<<16|$n$$;++$h$$}++$g$$;$h$$<<=1;$m$$<<=1}return[$d$$,$b$$,$e$$]}function $ma$$($a$$,$c$$){this.h=$pa$$;this.w=0;this.input=$a$$;this.b=0;$c$$&&($c$$.lazy&&(this.w=$c$$.lazy),"number"===typeof $c$$.compressionType&&(this.h=$c$$.compressionType),$c$$.outputBuffer&&(this.a=$H$$&&$c$$.outputBuffer instanceof Array?new Uint8Array($c$$.outputBuffer):$c$$.outputBuffer),"number"===
typeof $c$$.outputIndex&&(this.b=$c$$.outputIndex));this.a||(this.a=new ($H$$?Uint8Array:Array)(32768))}function $wa$$($a$$,$c$$){this.length=$a$$;this.G=$c$$}function $xa$$(){var $a$$=$za$$;switch(!0){case 3===$a$$:return[257,$a$$-3,0];case 4===$a$$:return[258,$a$$-4,0];case 5===$a$$:return[259,$a$$-5,0];case 6===$a$$:return[260,$a$$-6,0];case 7===$a$$:return[261,$a$$-7,0];case 8===$a$$:return[262,$a$$-8,0];case 9===$a$$:return[263,$a$$-9,0];case 10===$a$$:return[264,$a$$-10,0];case 12>=$a$$:return[265,
$a$$-11,1];case 14>=$a$$:return[266,$a$$-13,1];case 16>=$a$$:return[267,$a$$-15,1];case 18>=$a$$:return[268,$a$$-17,1];case 22>=$a$$:return[269,$a$$-19,2];case 26>=$a$$:return[270,$a$$-23,2];case 30>=$a$$:return[271,$a$$-27,2];case 34>=$a$$:return[272,$a$$-31,2];case 42>=$a$$:return[273,$a$$-35,3];case 50>=$a$$:return[274,$a$$-43,3];case 58>=$a$$:return[275,$a$$-51,3];case 66>=$a$$:return[276,$a$$-59,3];case 82>=$a$$:return[277,$a$$-67,4];case 98>=$a$$:return[278,$a$$-83,4];case 114>=$a$$:return[279,
$a$$-99,4];case 130>=$a$$:return[280,$a$$-115,4];case 162>=$a$$:return[281,$a$$-131,5];case 194>=$a$$:return[282,$a$$-163,5];case 226>=$a$$:return[283,$a$$-195,5];case 257>=$a$$:return[284,$a$$-227,5];case 258===$a$$:return[285,$a$$-258,0];default:$i$$("invalid length: "+$a$$)}}function $sa$$($a$$0$$,$c$$0$$){function $b$$($a$$,$c$$){var $b$$40_h$$=$a$$.G,$d$$=[],$e$$18_j$$=0,$f$$;$f$$=$Ca$$[$a$$.length];$d$$[$e$$18_j$$++]=$f$$&65535;$d$$[$e$$18_j$$++]=$f$$>>16&255;$d$$[$e$$18_j$$++]=$f$$>>24;var $g$$;
switch(!0){case 1===$b$$40_h$$:$g$$=[0,$b$$40_h$$-1,0];break;case 2===$b$$40_h$$:$g$$=[1,$b$$40_h$$-2,0];break;case 3===$b$$40_h$$:$g$$=[2,$b$$40_h$$-3,0];break;case 4===$b$$40_h$$:$g$$=[3,$b$$40_h$$-4,0];break;case 6>=$b$$40_h$$:$g$$=[4,$b$$40_h$$-5,1];break;case 8>=$b$$40_h$$:$g$$=[5,$b$$40_h$$-7,1];break;case 12>=$b$$40_h$$:$g$$=[6,$b$$40_h$$-9,2];break;case 16>=$b$$40_h$$:$g$$=[7,$b$$40_h$$-13,2];break;case 24>=$b$$40_h$$:$g$$=[8,$b$$40_h$$-17,3];break;case 32>=$b$$40_h$$:$g$$=[9,$b$$40_h$$-25,
3];break;case 48>=$b$$40_h$$:$g$$=[10,$b$$40_h$$-33,4];break;case 64>=$b$$40_h$$:$g$$=[11,$b$$40_h$$-49,4];break;case 96>=$b$$40_h$$:$g$$=[12,$b$$40_h$$-65,5];break;case 128>=$b$$40_h$$:$g$$=[13,$b$$40_h$$-97,5];break;case 192>=$b$$40_h$$:$g$$=[14,$b$$40_h$$-129,6];break;case 256>=$b$$40_h$$:$g$$=[15,$b$$40_h$$-193,6];break;case 384>=$b$$40_h$$:$g$$=[16,$b$$40_h$$-257,7];break;case 512>=$b$$40_h$$:$g$$=[17,$b$$40_h$$-385,7];break;case 768>=$b$$40_h$$:$g$$=[18,$b$$40_h$$-513,8];break;case 1024>=$b$$40_h$$:$g$$=
[19,$b$$40_h$$-769,8];break;case 1536>=$b$$40_h$$:$g$$=[20,$b$$40_h$$-1025,9];break;case 2048>=$b$$40_h$$:$g$$=[21,$b$$40_h$$-1537,9];break;case 3072>=$b$$40_h$$:$g$$=[22,$b$$40_h$$-2049,10];break;case 4096>=$b$$40_h$$:$g$$=[23,$b$$40_h$$-3073,10];break;case 6144>=$b$$40_h$$:$g$$=[24,$b$$40_h$$-4097,11];break;case 8192>=$b$$40_h$$:$g$$=[25,$b$$40_h$$-6145,11];break;case 12288>=$b$$40_h$$:$g$$=[26,$b$$40_h$$-8193,12];break;case 16384>=$b$$40_h$$:$g$$=[27,$b$$40_h$$-12289,12];break;case 24576>=$b$$40_h$$:$g$$=
[28,$b$$40_h$$-16385,13];break;case 32768>=$b$$40_h$$:$g$$=[29,$b$$40_h$$-24577,13];break;default:$i$$("invalid distance")}$f$$=$g$$;$d$$[$e$$18_j$$++]=$f$$[0];$d$$[$e$$18_j$$++]=$f$$[1];$d$$[$e$$18_j$$++]=$f$$[2];$b$$40_h$$=0;for($e$$18_j$$=$d$$.length;$b$$40_h$$<$e$$18_j$$;++$b$$40_h$$)$l$$[$q$$++]=$d$$[$b$$40_h$$];$t$$[$d$$[0]]++;$z$$[$d$$[3]]++;$E$$=$a$$.length+$c$$-1;$n$$=null}var $e$$,$f$$0$$,$d$$21_j$$,$g$$15_s$$25_x$$,$B$$4_h$$,$m$$={},$n$$,$l$$=$H$$?new Uint16Array(2*$c$$0$$.length):[],$q$$=
0,$E$$=0,$t$$=new ($H$$?Uint32Array:Array)(286),$z$$=new ($H$$?Uint32Array:Array)(30),$K$$=$a$$0$$.w,$A$$;if(!$H$$){for($d$$21_j$$=0;285>=$d$$21_j$$;)$t$$[$d$$21_j$$++]=0;for($d$$21_j$$=0;29>=$d$$21_j$$;)$z$$[$d$$21_j$$++]=0}$t$$[256]=1;$e$$=0;for($f$$0$$=$c$$0$$.length;$e$$<$f$$0$$;++$e$$){$d$$21_j$$=$B$$4_h$$=0;for($g$$15_s$$25_x$$=3;$d$$21_j$$<$g$$15_s$$25_x$$&&$e$$+$d$$21_j$$!==$f$$0$$;++$d$$21_j$$)$B$$4_h$$=$B$$4_h$$<<8|$c$$0$$[$e$$+$d$$21_j$$];void 0===$m$$[$B$$4_h$$]&&($m$$[$B$$4_h$$]=[]);
$d$$21_j$$=$m$$[$B$$4_h$$];if(!(0<$E$$--)){for(;0<$d$$21_j$$.length&&32768<$e$$-$d$$21_j$$[0];)$d$$21_j$$.shift();if($e$$+3>=$f$$0$$){$n$$&&$b$$($n$$,-1);$d$$21_j$$=0;for($g$$15_s$$25_x$$=$f$$0$$-$e$$;$d$$21_j$$<$g$$15_s$$25_x$$;++$d$$21_j$$)$A$$=$c$$0$$[$e$$+$d$$21_j$$],$l$$[$q$$++]=$A$$,++$t$$[$A$$];break}if(0<$d$$21_j$$.length){$B$$4_h$$=$g$$15_s$$25_x$$=void 0;var $k$$=0,$C$$3_p$$=void 0,$D$$=void 0,$da$$=$C$$3_p$$=void 0,$W$$=$c$$0$$.length,$D$$=0,$da$$=$d$$21_j$$.length;a:for(;$D$$<$da$$;$D$$++){$g$$15_s$$25_x$$=
$d$$21_j$$[$da$$-$D$$-1];$C$$3_p$$=3;if(3<$k$$){for($C$$3_p$$=$k$$;3<$C$$3_p$$;$C$$3_p$$--)if($c$$0$$[$g$$15_s$$25_x$$+$C$$3_p$$-1]!==$c$$0$$[$e$$+$C$$3_p$$-1])continue a;$C$$3_p$$=$k$$}for(;258>$C$$3_p$$&&$e$$+$C$$3_p$$<$W$$&&$c$$0$$[$g$$15_s$$25_x$$+$C$$3_p$$]===$c$$0$$[$e$$+$C$$3_p$$];)++$C$$3_p$$;$C$$3_p$$>$k$$&&($B$$4_h$$=$g$$15_s$$25_x$$,$k$$=$C$$3_p$$);if(258===$C$$3_p$$)break}$g$$15_s$$25_x$$=new $wa$$($k$$,$e$$-$B$$4_h$$);$n$$?$n$$.length<$g$$15_s$$25_x$$.length?($A$$=$c$$0$$[$e$$-1],$l$$[$q$$++]=
$A$$,++$t$$[$A$$],$b$$($g$$15_s$$25_x$$,0)):$b$$($n$$,-1):$g$$15_s$$25_x$$.length<$K$$?$n$$=$g$$15_s$$25_x$$:$b$$($g$$15_s$$25_x$$,0)}else $n$$?$b$$($n$$,-1):($A$$=$c$$0$$[$e$$],$l$$[$q$$++]=$A$$,++$t$$[$A$$])}$d$$21_j$$.push($e$$)}$l$$[$q$$++]=256;$t$$[256]++;$a$$0$$.L=$t$$;$a$$0$$.K=$z$$;return $H$$?$l$$.subarray(0,$q$$):$l$$}function $ta$$($a$$0$$,$c$$0$$){function $b$$($a$$){var $c$$=$z$$[$a$$][$K$$[$a$$]];$c$$===$n$$?($b$$($a$$+1),$b$$($a$$+1)):--$E$$[$c$$];++$K$$[$a$$]}var $e$$19_g$$=$a$$0$$.length,
$f$$8_q$$=new $la$$(572),$d$$=new ($H$$?Uint8Array:Array)($e$$19_g$$),$h$$24_m$$,$j$$46_l$$,$s$$26_t$$;if(!$H$$)for($j$$46_l$$=0;$j$$46_l$$<$e$$19_g$$;$j$$46_l$$++)$d$$[$j$$46_l$$]=0;for($j$$46_l$$=0;$j$$46_l$$<$e$$19_g$$;++$j$$46_l$$)0<$a$$0$$[$j$$46_l$$]&&$f$$8_q$$.push($j$$46_l$$,$a$$0$$[$j$$46_l$$]);$e$$19_g$$=Array($f$$8_q$$.length/2);$h$$24_m$$=new ($H$$?Uint32Array:Array)($f$$8_q$$.length/2);if(1===$e$$19_g$$.length)return $d$$[$f$$8_q$$.pop().index]=1,$d$$;$j$$46_l$$=0;for($s$$26_t$$=$f$$8_q$$.length/
2;$j$$46_l$$<$s$$26_t$$;++$j$$46_l$$)$e$$19_g$$[$j$$46_l$$]=$f$$8_q$$.pop(),$h$$24_m$$[$j$$46_l$$]=$e$$19_g$$[$j$$46_l$$].value;var $n$$=$h$$24_m$$.length;$j$$46_l$$=new ($H$$?Uint16Array:Array)($c$$0$$);var $f$$8_q$$=new ($H$$?Uint8Array:Array)($c$$0$$),$E$$=new ($H$$?Uint8Array:Array)($n$$);$s$$26_t$$=Array($c$$0$$);var $z$$=Array($c$$0$$),$K$$=Array($c$$0$$),$A$$5_B$$=(1<<$c$$0$$)-$n$$,$p$$18_x$$=1<<$c$$0$$-1,$k$$,$D$$,$C$$;$j$$46_l$$[$c$$0$$-1]=$n$$;for($k$$=0;$k$$<$c$$0$$;++$k$$)$A$$5_B$$<$p$$18_x$$?
$f$$8_q$$[$k$$]=0:($f$$8_q$$[$k$$]=1,$A$$5_B$$-=$p$$18_x$$),$A$$5_B$$<<=1,$j$$46_l$$[$c$$0$$-2-$k$$]=($j$$46_l$$[$c$$0$$-1-$k$$]/2|0)+$n$$;$j$$46_l$$[0]=$f$$8_q$$[0];$s$$26_t$$[0]=Array($j$$46_l$$[0]);$z$$[0]=Array($j$$46_l$$[0]);for($k$$=1;$k$$<$c$$0$$;++$k$$)$j$$46_l$$[$k$$]>2*$j$$46_l$$[$k$$-1]+$f$$8_q$$[$k$$]&&($j$$46_l$$[$k$$]=2*$j$$46_l$$[$k$$-1]+$f$$8_q$$[$k$$]),$s$$26_t$$[$k$$]=Array($j$$46_l$$[$k$$]),$z$$[$k$$]=Array($j$$46_l$$[$k$$]);for($A$$5_B$$=0;$A$$5_B$$<$n$$;++$A$$5_B$$)$E$$[$A$$5_B$$]=
$c$$0$$;for($p$$18_x$$=0;$p$$18_x$$<$j$$46_l$$[$c$$0$$-1];++$p$$18_x$$)$s$$26_t$$[$c$$0$$-1][$p$$18_x$$]=$h$$24_m$$[$p$$18_x$$],$z$$[$c$$0$$-1][$p$$18_x$$]=$p$$18_x$$;for($A$$5_B$$=0;$A$$5_B$$<$c$$0$$;++$A$$5_B$$)$K$$[$A$$5_B$$]=0;1===$f$$8_q$$[$c$$0$$-1]&&(--$E$$[0],++$K$$[$c$$0$$-1]);for($k$$=$c$$0$$-2;0<=$k$$;--$k$$){$D$$=$A$$5_B$$=0;$C$$=$K$$[$k$$+1];for($p$$18_x$$=0;$p$$18_x$$<$j$$46_l$$[$k$$];$p$$18_x$$++)$D$$=$s$$26_t$$[$k$$+1][$C$$]+$s$$26_t$$[$k$$+1][$C$$+1],$D$$>$h$$24_m$$[$A$$5_B$$]?($s$$26_t$$[$k$$][$p$$18_x$$]=
$D$$,$z$$[$k$$][$p$$18_x$$]=$n$$,$C$$+=2):($s$$26_t$$[$k$$][$p$$18_x$$]=$h$$24_m$$[$A$$5_B$$],$z$$[$k$$][$p$$18_x$$]=$A$$5_B$$,++$A$$5_B$$);$K$$[$k$$]=0;1===$f$$8_q$$[$k$$]&&$b$$($k$$)}$h$$24_m$$=$E$$;$j$$46_l$$=0;for($s$$26_t$$=$e$$19_g$$.length;$j$$46_l$$<$s$$26_t$$;++$j$$46_l$$)$d$$[$e$$19_g$$[$j$$46_l$$].index]=$h$$24_m$$[$j$$46_l$$];return $d$$}function $ua$$($a$$){var $c$$=new ($H$$?Uint16Array:Array)($a$$.length),$b$$42_h$$=[],$e$$=[],$f$$=0,$d$$,$g$$,$m$$;$d$$=0;for($g$$=$a$$.length;$d$$<
$g$$;$d$$++)$b$$42_h$$[$a$$[$d$$]]=($b$$42_h$$[$a$$[$d$$]]|0)+1;$d$$=1;for($g$$=16;$d$$<=$g$$;$d$$++)$e$$[$d$$]=$f$$,$f$$+=$b$$42_h$$[$d$$]|0,$f$$>1<<$d$$&&$i$$("overcommitted"),$f$$<<=1;65536>$f$$&&$i$$("undercommitted");$d$$=0;for($g$$=$a$$.length;$d$$<$g$$;$d$$++)for($f$$=$e$$[$a$$[$d$$]],$e$$[$a$$[$d$$]]+=1,$b$$42_h$$=$c$$[$d$$]=0,$m$$=$a$$[$d$$];$b$$42_h$$<$m$$;$b$$42_h$$++)$c$$[$d$$]=$c$$[$d$$]<<1|$f$$&1,$f$$>>>=1;return $c$$}function $Da$$($a$$,$c$$){this.input=$a$$;this.a=new ($H$$?Uint8Array:
Array)(32768);this.h=$U$$.j;var $b$$={},$e$$;!$c$$&&($c$$={})||"number"!==typeof $c$$.compressionType||(this.h=$c$$.compressionType);for($e$$ in $c$$)$b$$[$e$$]=$c$$[$e$$];$b$$.outputBuffer=this.a;this.z=new $ma$$(this.input,$b$$)}function $V$$($a$$,$c$$){this.k=[];this.l=32768;this.e=this.g=this.c=this.q=0;this.input=$H$$?new Uint8Array($a$$):$a$$;this.s=!1;this.m=$Fa$$;this.B=!1;if($c$$||!($c$$={}))$c$$.index&&(this.c=$c$$.index),$c$$.bufferSize&&(this.l=$c$$.bufferSize),$c$$.bufferType&&(this.m=
$c$$.bufferType),$c$$.resize&&(this.B=$c$$.resize);switch(this.m){case $Ga$$:this.b=32768;this.a=new ($H$$?Uint8Array:Array)(32768+this.l+258);break;case $Fa$$:this.b=0;this.a=new ($H$$?Uint8Array:Array)(this.l);this.f=this.J;this.t=this.H;this.o=this.I;break;default:$i$$(Error("invalid inflate mode"))}}function $X$$($a$$,$c$$){for(var $b$$=$a$$.g,$e$$=$a$$.e,$f$$=$a$$.input,$d$$=$a$$.c,$g$$;$e$$<$c$$;)$g$$=$f$$[$d$$++],void 0===$g$$&&$i$$(Error("input buffer is broken")),$b$$|=$g$$<<$e$$,$e$$+=8;
$a$$.g=$b$$>>>$c$$;$a$$.e=$e$$-$c$$;$a$$.c=$d$$;return $b$$&(1<<$c$$)-1}function $mb$$($a$$,$c$$){for(var $b$$=$a$$.g,$e$$=$a$$.e,$f$$11_j$$=$a$$.input,$d$$=$a$$.c,$g$$20_s$$=$c$$[0],$h$$=$c$$[1],$m$$;$e$$<$h$$;)$m$$=$f$$11_j$$[$d$$++],void 0===$m$$&&$i$$(Error("input buffer is broken")),$b$$|=$m$$<<$e$$,$e$$+=8;$f$$11_j$$=$g$$20_s$$[$b$$&(1<<$h$$)-1];$g$$20_s$$=$f$$11_j$$>>>16;$a$$.g=$b$$>>$g$$20_s$$;$a$$.e=$e$$-$g$$20_s$$;$a$$.c=$d$$;return $f$$11_j$$&65535}function $Ka$$($a$$0$$){function $c$$0$$($a$$,
$b$$,$c$$){var $d$$,$e$$,$f$$,$g$$;for($g$$=0;$g$$<$a$$;)switch($d$$=$mb$$(this,$b$$),$d$$){case 16:for($f$$=3+$X$$(this,2);$f$$--;)$c$$[$g$$++]=$e$$;break;case 17:for($f$$=3+$X$$(this,3);$f$$--;)$c$$[$g$$++]=0;$e$$=0;break;case 18:for($f$$=11+$X$$(this,7);$f$$--;)$c$$[$g$$++]=0;$e$$=0;break;default:$e$$=$c$$[$g$$++]=$d$$}return $c$$}var $b$$0$$=$X$$($a$$0$$,5)+257,$e$$0$$=$X$$($a$$0$$,5)+1,$f$$12_g$$=$X$$($a$$0$$,4)+4,$d$$27_h$$=new ($H$$?Uint8Array:Array)($Za$$.length),$j$$48_m$$;for($j$$48_m$$=
0;$j$$48_m$$<$f$$12_g$$;++$j$$48_m$$)$d$$27_h$$[$Za$$[$j$$48_m$$]]=$X$$($a$$0$$,3);$f$$12_g$$=$S$$($d$$27_h$$);$d$$27_h$$=new ($H$$?Uint8Array:Array)($b$$0$$);$j$$48_m$$=new ($H$$?Uint8Array:Array)($e$$0$$);$a$$0$$.o($S$$($c$$0$$.call($a$$0$$,$b$$0$$,$f$$12_g$$,$d$$27_h$$)),$S$$($c$$0$$.call($a$$0$$,$e$$0$$,$f$$12_g$$,$j$$48_m$$)))}function $nb$$($a$$,$c$$){var $b$$,$e$$;this.input=$a$$;this.c=0;if($c$$||!($c$$={}))$c$$.index&&(this.c=$c$$.index),$c$$.verify&&(this.M=$c$$.verify);$b$$=$a$$[this.c++];
$e$$=$a$$[this.c++];switch($b$$&15){case $Ea$$:this.method=$Ea$$;break;default:$i$$(Error("unsupported compression method"))}0!==(($b$$<<8)+$e$$)%31&&$i$$(Error("invalid fcheck flag:"+(($b$$<<8)+$e$$)%31));$e$$&32&&$i$$(Error("fdict flag is not supported"));this.A=new $V$$($a$$,{index:this.c,bufferSize:$c$$.bufferSize,bufferType:$c$$.bufferType,resize:$c$$.resize})}var $aa$$=this,$H$$="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Uint32Array;$J$$.prototype.f=
function $$J$$$$f$(){var $a$$=this.buffer,$c$$,$b$$=$a$$.length,$e$$=new ($H$$?Uint8Array:Array)($b$$<<1);if($H$$)$e$$.set($a$$);else for($c$$=0;$c$$<$b$$;++$c$$)$e$$[$c$$]=$a$$[$c$$];return this.buffer=$e$$};$J$$.prototype.d=function $$J$$$$d$($a$$,$c$$,$b$$50_h$$){var $e$$=this.buffer,$f$$=this.index,$d$$=this.i,$g$$=$e$$[$f$$];$b$$50_h$$&&1<$c$$&&($a$$=8<$c$$?($N$$[$a$$&255]<<24|$N$$[$a$$>>>8&255]<<16|$N$$[$a$$>>>16&255]<<8|$N$$[$a$$>>>24&255])>>32-$c$$:$N$$[$a$$]>>8-$c$$);if(8>$c$$+$d$$)$g$$=
$g$$<<$c$$|$a$$,$d$$+=$c$$;else for($b$$50_h$$=0;$b$$50_h$$<$c$$;++$b$$50_h$$)$g$$=$g$$<<1|$a$$>>$c$$-$b$$50_h$$-1&1,8===++$d$$&&($d$$=0,$e$$[$f$$++]=$N$$[$g$$],$g$$=0,$f$$===$e$$.length&&($e$$=this.f()));$e$$[$f$$]=$g$$;this.buffer=$e$$;this.i=$d$$;this.index=$f$$};$J$$.prototype.finish=function $$J$$$$finish$(){var $a$$=this.buffer,$c$$=this.index,$b$$;0<this.i&&($a$$[$c$$]<<=8-this.i,$a$$[$c$$]=$N$$[$a$$[$c$$]],$c$$++);$H$$?$b$$=$a$$.subarray(0,$c$$):($a$$.length=$c$$,$b$$=$a$$);return $b$$};var $Ha_ca_ka_ob_pb_qa_qb_rb$$=
new ($H$$?Uint8Array:Array)(256),$$a_Aa_La_T_Z_bb_db$$;for($$a_Aa_La_T_Z_bb_db$$=0;256>$$a_Aa_La_T_Z_bb_db$$;++$$a_Aa_La_T_Z_bb_db$$){for(var $Ba_R$$1_Y$$1_kb_ub_xb$$=$$a_Aa_La_T_Z_bb_db$$,$ia_ib_lb$$=$Ba_R$$1_Y$$1_kb_ub_xb$$,$ja$$=7,$Ba_R$$1_Y$$1_kb_ub_xb$$=$Ba_R$$1_Y$$1_kb_ub_xb$$>>>1;$Ba_R$$1_Y$$1_kb_ub_xb$$;$Ba_R$$1_Y$$1_kb_ub_xb$$>>>=1)$ia_ib_lb$$<<=1,$ia_ib_lb$$|=$Ba_R$$1_Y$$1_kb_ub_xb$$&1,--$ja$$;$Ha_ca_ka_ob_pb_qa_qb_rb$$[$$a_Aa_La_T_Z_bb_db$$]=($ia_ib_lb$$<<$ja$$&255)>>>0}var $N$$=$Ha_ca_ka_ob_pb_qa_qb_rb$$,
$Ha_ca_ka_ob_pb_qa_qb_rb$$=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,
1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,
1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,
2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,
733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,
3654703836,1088359270,936918E3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];$H$$&&new Uint32Array($Ha_ca_ka_ob_pb_qa_qb_rb$$);$la$$.prototype.getParent=function $$la$$$$getParent$($a$$){return 2*(($a$$-2)/4|0)};$la$$.prototype.push=function $$la$$$$push$($a$$,$c$$){var $b$$,$e$$,$f$$=this.buffer,$d$$;$b$$=this.length;$f$$[this.length++]=
$c$$;for($f$$[this.length++]=$a$$;0<$b$$;)if($e$$=this.getParent($b$$),$f$$[$b$$]>$f$$[$e$$])$d$$=$f$$[$b$$],$f$$[$b$$]=$f$$[$e$$],$f$$[$e$$]=$d$$,$d$$=$f$$[$b$$+1],$f$$[$b$$+1]=$f$$[$e$$+1],$f$$[$e$$+1]=$d$$,$b$$=$e$$;else break;return this.length};$la$$.prototype.pop=function $$la$$$$pop$(){var $a$$,$c$$,$b$$=this.buffer,$e$$,$f$$,$d$$;$c$$=$b$$[0];$a$$=$b$$[1];this.length-=2;$b$$[0]=$b$$[this.length];$b$$[1]=$b$$[this.length+1];for($d$$=0;;){$f$$=2*$d$$+2;if($f$$>=this.length)break;$f$$+2<this.length&&
$b$$[$f$$+2]>$b$$[$f$$]&&($f$$+=2);if($b$$[$f$$]>$b$$[$d$$])$e$$=$b$$[$d$$],$b$$[$d$$]=$b$$[$f$$],$b$$[$f$$]=$e$$,$e$$=$b$$[$d$$+1],$b$$[$d$$+1]=$b$$[$f$$+1],$b$$[$f$$+1]=$e$$;else break;$d$$=$f$$}return{index:$a$$,value:$c$$,length:this.length}};var $pa$$=2,$Ha_ca_ka_ob_pb_qa_qb_rb$$={NONE:0,r:1,j:$pa$$,N:3},$ra$$=[];for($$a_Aa_La_T_Z_bb_db$$=0;288>$$a_Aa_La_T_Z_bb_db$$;$$a_Aa_La_T_Z_bb_db$$++)switch(!0){case 143>=$$a_Aa_La_T_Z_bb_db$$:$ra$$.push([$$a_Aa_La_T_Z_bb_db$$+48,8]);break;case 255>=$$a_Aa_La_T_Z_bb_db$$:$ra$$.push([$$a_Aa_La_T_Z_bb_db$$-
144+400,9]);break;case 279>=$$a_Aa_La_T_Z_bb_db$$:$ra$$.push([$$a_Aa_La_T_Z_bb_db$$-256+0,7]);break;case 287>=$$a_Aa_La_T_Z_bb_db$$:$ra$$.push([$$a_Aa_La_T_Z_bb_db$$-280+192,8]);break;default:$i$$("invalid literal: "+$$a_Aa_La_T_Z_bb_db$$)}$ma$$.prototype.n=function $$ma$$$$n$(){var $M_a$$,$$_Va_c$$52_d$$32_z$$,$E$$3_b$$,$A$$6_e$$31_x$$,$f$$17_k$$9_t$$=this.input;switch(this.h){case 0:$E$$3_b$$=0;for($A$$6_e$$31_x$$=$f$$17_k$$9_t$$.length;$E$$3_b$$<$A$$6_e$$31_x$$;){$$_Va_c$$52_d$$32_z$$=$H$$?$f$$17_k$$9_t$$.subarray($E$$3_b$$,
$E$$3_b$$+65535):$f$$17_k$$9_t$$.slice($E$$3_b$$,$E$$3_b$$+65535);$E$$3_b$$+=$$_Va_c$$52_d$$32_z$$.length;var $K$$2_Sa_Wa_g$$=$E$$3_b$$===$A$$6_e$$31_x$$,$Pa_Ua_h$$29_m$$9_s$$=void 0,$W$$1_j$$49_n$$21_ya$$=$Pa_Ua_h$$29_m$$9_s$$=void 0,$W$$1_j$$49_n$$21_ya$$=$Pa_Ua_h$$29_m$$9_s$$=void 0,$B$$6_Xa_ea_l$$=this.a,$Na_Q_Ta_q$$=this.b;if($H$$){for($B$$6_Xa_ea_l$$=new Uint8Array(this.a.buffer);$B$$6_Xa_ea_l$$.length<=$Na_Q_Ta_q$$+$$_Va_c$$52_d$$32_z$$.length+5;)$B$$6_Xa_ea_l$$=new Uint8Array($B$$6_Xa_ea_l$$.length<<
1);$B$$6_Xa_ea_l$$.set(this.a)}$Pa_Ua_h$$29_m$$9_s$$=$K$$2_Sa_Wa_g$$?1:0;$B$$6_Xa_ea_l$$[$Na_Q_Ta_q$$++]=$Pa_Ua_h$$29_m$$9_s$$|0;$Pa_Ua_h$$29_m$$9_s$$=$$_Va_c$$52_d$$32_z$$.length;$W$$1_j$$49_n$$21_ya$$=~$Pa_Ua_h$$29_m$$9_s$$+65536&65535;$B$$6_Xa_ea_l$$[$Na_Q_Ta_q$$++]=$Pa_Ua_h$$29_m$$9_s$$&255;$B$$6_Xa_ea_l$$[$Na_Q_Ta_q$$++]=$Pa_Ua_h$$29_m$$9_s$$>>>8&255;$B$$6_Xa_ea_l$$[$Na_Q_Ta_q$$++]=$W$$1_j$$49_n$$21_ya$$&255;$B$$6_Xa_ea_l$$[$Na_Q_Ta_q$$++]=$W$$1_j$$49_n$$21_ya$$>>>8&255;if($H$$)$B$$6_Xa_ea_l$$.set($$_Va_c$$52_d$$32_z$$,
$Na_Q_Ta_q$$),$Na_Q_Ta_q$$+=$$_Va_c$$52_d$$32_z$$.length,$B$$6_Xa_ea_l$$=$B$$6_Xa_ea_l$$.subarray(0,$Na_Q_Ta_q$$);else{$Pa_Ua_h$$29_m$$9_s$$=0;for($W$$1_j$$49_n$$21_ya$$=$$_Va_c$$52_d$$32_z$$.length;$Pa_Ua_h$$29_m$$9_s$$<$W$$1_j$$49_n$$21_ya$$;++$Pa_Ua_h$$29_m$$9_s$$)$B$$6_Xa_ea_l$$[$Na_Q_Ta_q$$++]=$$_Va_c$$52_d$$32_z$$[$Pa_Ua_h$$29_m$$9_s$$];$B$$6_Xa_ea_l$$.length=$Na_Q_Ta_q$$}this.b=$Na_Q_Ta_q$$;this.a=$B$$6_Xa_ea_l$$}break;case 1:$E$$3_b$$=new $J$$(new Uint8Array(this.a.buffer),this.b);$E$$3_b$$.d(1,
1,!0);$E$$3_b$$.d(1,2,!0);$f$$17_k$$9_t$$=$sa$$(this,$f$$17_k$$9_t$$);$$_Va_c$$52_d$$32_z$$=0;for($K$$2_Sa_Wa_g$$=$f$$17_k$$9_t$$.length;$$_Va_c$$52_d$$32_z$$<$K$$2_Sa_Wa_g$$;$$_Va_c$$52_d$$32_z$$++)if($A$$6_e$$31_x$$=$f$$17_k$$9_t$$[$$_Va_c$$52_d$$32_z$$],$J$$.prototype.d.apply($E$$3_b$$,$ra$$[$A$$6_e$$31_x$$]),256<$A$$6_e$$31_x$$)$E$$3_b$$.d($f$$17_k$$9_t$$[++$$_Va_c$$52_d$$32_z$$],$f$$17_k$$9_t$$[++$$_Va_c$$52_d$$32_z$$],!0),$E$$3_b$$.d($f$$17_k$$9_t$$[++$$_Va_c$$52_d$$32_z$$],5),$E$$3_b$$.d($f$$17_k$$9_t$$[++$$_Va_c$$52_d$$32_z$$],
$f$$17_k$$9_t$$[++$$_Va_c$$52_d$$32_z$$],!0);else if(256===$A$$6_e$$31_x$$)break;this.a=$E$$3_b$$.finish();this.b=this.a.length;break;case $pa$$:$A$$6_e$$31_x$$=new $J$$(new Uint8Array(this.a),this.b);var $p$$,$D$$,$C$$,$Oa_da$$=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],$Ma_Ya$$,$P$$,$Pa_Ua_h$$29_m$$9_s$$=Array(19),$F_u$$,$B$$6_Xa_ea_l$$=$pa$$;$A$$6_e$$31_x$$.d(1,1,!0);$A$$6_e$$31_x$$.d($B$$6_Xa_ea_l$$,2,!0);$f$$17_k$$9_t$$=$sa$$(this,$f$$17_k$$9_t$$);$W$$1_j$$49_n$$21_ya$$=$ta$$(this.L,15);
$Ma_Ya$$=$ua$$($W$$1_j$$49_n$$21_ya$$);$B$$6_Xa_ea_l$$=$ta$$(this.K,7);$Na_Q_Ta_q$$=$ua$$($B$$6_Xa_ea_l$$);for($p$$=286;257<$p$$&&0===$W$$1_j$$49_n$$21_ya$$[$p$$-1];$p$$--);for($D$$=30;1<$D$$&&0===$B$$6_Xa_ea_l$$[$D$$-1];$D$$--);var $Qa_w$$=$p$$,$Ra_fa$$=$D$$;$M_a$$=new ($H$$?Uint32Array:Array)($Qa_w$$+$Ra_fa$$);var $L$$=new ($H$$?Uint32Array:Array)(316),$I$$,$G$$;$P$$=new ($H$$?Uint8Array:Array)(19);for($F_u$$=$C$$=0;$F_u$$<$Qa_w$$;$F_u$$++)$M_a$$[$C$$++]=$W$$1_j$$49_n$$21_ya$$[$F_u$$];for($F_u$$=
0;$F_u$$<$Ra_fa$$;$F_u$$++)$M_a$$[$C$$++]=$B$$6_Xa_ea_l$$[$F_u$$];if(!$H$$)for($F_u$$=0,$Ra_fa$$=$P$$.length;$F_u$$<$Ra_fa$$;++$F_u$$)$P$$[$F_u$$]=0;$F_u$$=$I$$=0;for($Ra_fa$$=$M_a$$.length;$F_u$$<$Ra_fa$$;$F_u$$+=$C$$){for($C$$=1;$F_u$$+$C$$<$Ra_fa$$&&$M_a$$[$F_u$$+$C$$]===$M_a$$[$F_u$$];++$C$$);$Qa_w$$=$C$$;if(0===$M_a$$[$F_u$$])if(3>$Qa_w$$)for(;0<$Qa_w$$--;)$L$$[$I$$++]=0,$P$$[0]++;else for(;0<$Qa_w$$;)$G$$=138>$Qa_w$$?$Qa_w$$:138,$G$$>$Qa_w$$-3&&$G$$<$Qa_w$$&&($G$$=$Qa_w$$-3),10>=$G$$?($L$$[$I$$++]=
17,$L$$[$I$$++]=$G$$-3,$P$$[17]++):($L$$[$I$$++]=18,$L$$[$I$$++]=$G$$-11,$P$$[18]++),$Qa_w$$-=$G$$;else if($L$$[$I$$++]=$M_a$$[$F_u$$],$P$$[$M_a$$[$F_u$$]]++,$Qa_w$$--,3>$Qa_w$$)for(;0<$Qa_w$$--;)$L$$[$I$$++]=$M_a$$[$F_u$$],$P$$[$M_a$$[$F_u$$]]++;else for(;0<$Qa_w$$;)$G$$=6>$Qa_w$$?$Qa_w$$:6,$G$$>$Qa_w$$-3&&$G$$<$Qa_w$$&&($G$$=$Qa_w$$-3),$L$$[$I$$++]=16,$L$$[$I$$++]=$G$$-3,$P$$[16]++,$Qa_w$$-=$G$$}$M_a$$=$H$$?$L$$.subarray(0,$I$$):$L$$.slice(0,$I$$);$P$$=$ta$$($P$$,7);for($F_u$$=0;19>$F_u$$;$F_u$$++)$Pa_Ua_h$$29_m$$9_s$$[$F_u$$]=
$P$$[$Oa_da$$[$F_u$$]];for($C$$=19;4<$C$$&&0===$Pa_Ua_h$$29_m$$9_s$$[$C$$-1];$C$$--);$Oa_da$$=$ua$$($P$$);$A$$6_e$$31_x$$.d($p$$-257,5,!0);$A$$6_e$$31_x$$.d($D$$-1,5,!0);$A$$6_e$$31_x$$.d($C$$-4,4,!0);for($F_u$$=0;$F_u$$<$C$$;$F_u$$++)$A$$6_e$$31_x$$.d($Pa_Ua_h$$29_m$$9_s$$[$F_u$$],3,!0);$F_u$$=0;for($Pa_Ua_h$$29_m$$9_s$$=$M_a$$.length;$F_u$$<$Pa_Ua_h$$29_m$$9_s$$;$F_u$$++)if($$_Va_c$$52_d$$32_z$$=$M_a$$[$F_u$$],$A$$6_e$$31_x$$.d($Oa_da$$[$$_Va_c$$52_d$$32_z$$],$P$$[$$_Va_c$$52_d$$32_z$$],!0),16<=
$$_Va_c$$52_d$$32_z$$){$F_u$$++;switch($$_Va_c$$52_d$$32_z$$){case 16:$K$$2_Sa_Wa_g$$=2;break;case 17:$K$$2_Sa_Wa_g$$=3;break;case 18:$K$$2_Sa_Wa_g$$=7;break;default:$i$$("invalid code: "+$$_Va_c$$52_d$$32_z$$)}$A$$6_e$$31_x$$.d($M_a$$[$F_u$$],$K$$2_Sa_Wa_g$$,!0)}$K$$2_Sa_Wa_g$$=[$Ma_Ya$$,$W$$1_j$$49_n$$21_ya$$];$Na_Q_Ta_q$$=[$Na_Q_Ta_q$$,$B$$6_Xa_ea_l$$];$$_Va_c$$52_d$$32_z$$=$K$$2_Sa_Wa_g$$[0];$K$$2_Sa_Wa_g$$=$K$$2_Sa_Wa_g$$[1];$B$$6_Xa_ea_l$$=$Na_Q_Ta_q$$[0];$Ma_Ya$$=$Na_Q_Ta_q$$[1];$Na_Q_Ta_q$$=
0;for($Pa_Ua_h$$29_m$$9_s$$=$f$$17_k$$9_t$$.length;$Na_Q_Ta_q$$<$Pa_Ua_h$$29_m$$9_s$$;++$Na_Q_Ta_q$$)if($E$$3_b$$=$f$$17_k$$9_t$$[$Na_Q_Ta_q$$],$A$$6_e$$31_x$$.d($$_Va_c$$52_d$$32_z$$[$E$$3_b$$],$K$$2_Sa_Wa_g$$[$E$$3_b$$],!0),256<$E$$3_b$$)$A$$6_e$$31_x$$.d($f$$17_k$$9_t$$[++$Na_Q_Ta_q$$],$f$$17_k$$9_t$$[++$Na_Q_Ta_q$$],!0),$W$$1_j$$49_n$$21_ya$$=$f$$17_k$$9_t$$[++$Na_Q_Ta_q$$],$A$$6_e$$31_x$$.d($B$$6_Xa_ea_l$$[$W$$1_j$$49_n$$21_ya$$],$Ma_Ya$$[$W$$1_j$$49_n$$21_ya$$],!0),$A$$6_e$$31_x$$.d($f$$17_k$$9_t$$[++$Na_Q_Ta_q$$],
$f$$17_k$$9_t$$[++$Na_Q_Ta_q$$],!0);else if(256===$E$$3_b$$)break;this.a=$A$$6_e$$31_x$$.finish();this.b=this.a.length;break;default:$i$$("invalid compression type")}return this.a};$$a_Aa_La_T_Z_bb_db$$=[];var $za$$;for($za$$=3;258>=$za$$;$za$$++)$Ba_R$$1_Y$$1_kb_ub_xb$$=$xa$$(),$$a_Aa_La_T_Z_bb_db$$[$za$$]=$Ba_R$$1_Y$$1_kb_ub_xb$$[2]<<24|$Ba_R$$1_Y$$1_kb_ub_xb$$[1]<<16|$Ba_R$$1_Y$$1_kb_ub_xb$$[0];var $Ca$$=$H$$?new Uint32Array($$a_Aa_La_T_Z_bb_db$$):$$a_Aa_La_T_Z_bb_db$$,$U$$=$Ha_ca_ka_ob_pb_qa_qb_rb$$;
$Da$$.prototype.n=function $$Da$$$$n$(){var $a$$77_d$$33_e$$,$b$$55_c$$,$f$$,$g$$,$h$$=0;$g$$=this.a;$a$$77_d$$33_e$$=$Ea$$;switch($a$$77_d$$33_e$$){case $Ea$$:$b$$55_c$$=Math.LOG2E*Math.log(32768)-8;break;default:$i$$(Error("invalid compression method"))}$b$$55_c$$=$b$$55_c$$<<4|$a$$77_d$$33_e$$;$g$$[$h$$++]=$b$$55_c$$;switch($a$$77_d$$33_e$$){case $Ea$$:switch(this.h){case $U$$.NONE:$f$$=0;break;case $U$$.r:$f$$=1;break;case $U$$.j:$f$$=2;break;default:$i$$(Error("unsupported compression type"))}break;
default:$i$$(Error("invalid compression method"))}$a$$77_d$$33_e$$=$f$$<<6|0;$g$$[$h$$++]=$a$$77_d$$33_e$$|31-(256*$b$$55_c$$+$a$$77_d$$33_e$$)%31;$a$$77_d$$33_e$$=$ba$$(this.input);this.z.b=$h$$;$g$$=this.z.n();$h$$=$g$$.length;$H$$&&($g$$=new Uint8Array($g$$.buffer),$g$$.length<=$h$$+4&&(this.a=new Uint8Array($g$$.length+4),this.a.set($g$$),$g$$=this.a),$g$$=$g$$.subarray(0,$h$$+4));$g$$[$h$$++]=$a$$77_d$$33_e$$>>24&255;$g$$[$h$$++]=$a$$77_d$$33_e$$>>16&255;$g$$[$h$$++]=$a$$77_d$$33_e$$>>8&255;
$g$$[$h$$++]=$a$$77_d$$33_e$$&255;return $g$$};$y$$("Zlib.Deflate",$Da$$);$y$$("Zlib.Deflate.compress",function($a$$,$c$$){return(new $Da$$($a$$,$c$$)).n()});$y$$("Zlib.Deflate.CompressionType",$U$$);$y$$("Zlib.Deflate.CompressionType.NONE",$U$$.NONE);$y$$("Zlib.Deflate.CompressionType.FIXED",$U$$.r);$y$$("Zlib.Deflate.CompressionType.DYNAMIC",$U$$.j);var $Ga$$=0,$Fa$$=1,$Ha_ca_ka_ob_pb_qa_qb_rb$$={D:$Ga$$,C:$Fa$$};$V$$.prototype.p=function $$V$$$$p$(){for(;!this.s;){var $a$$79_c$$=$X$$(this,3);$a$$79_c$$&
1&&(this.s=!0);$a$$79_c$$>>>=1;switch($a$$79_c$$){case 0:var $a$$79_c$$=this.input,$b$$=this.c,$e$$=this.a,$f$$=this.b,$d$$34_j$$=void 0,$g$$=void 0,$h$$=void 0,$m$$=$e$$.length,$d$$34_j$$=void 0;this.e=this.g=0;$d$$34_j$$=$a$$79_c$$[$b$$++];void 0===$d$$34_j$$&&$i$$(Error("invalid uncompressed block header: LEN (first byte)"));$g$$=$d$$34_j$$;$d$$34_j$$=$a$$79_c$$[$b$$++];void 0===$d$$34_j$$&&$i$$(Error("invalid uncompressed block header: LEN (second byte)"));$g$$|=$d$$34_j$$<<8;$d$$34_j$$=$a$$79_c$$[$b$$++];
void 0===$d$$34_j$$&&$i$$(Error("invalid uncompressed block header: NLEN (first byte)"));$h$$=$d$$34_j$$;$d$$34_j$$=$a$$79_c$$[$b$$++];void 0===$d$$34_j$$&&$i$$(Error("invalid uncompressed block header: NLEN (second byte)"));$h$$|=$d$$34_j$$<<8;$g$$===~$h$$&&$i$$(Error("invalid uncompressed block header: length verify"));$b$$+$g$$>$a$$79_c$$.length&&$i$$(Error("input buffer is broken"));switch(this.m){case $Ga$$:for(;$f$$+$g$$>$e$$.length;){$d$$34_j$$=$m$$-$f$$;$g$$-=$d$$34_j$$;if($H$$)$e$$.set($a$$79_c$$.subarray($b$$,
$b$$+$d$$34_j$$),$f$$),$f$$+=$d$$34_j$$,$b$$+=$d$$34_j$$;else for(;$d$$34_j$$--;)$e$$[$f$$++]=$a$$79_c$$[$b$$++];this.b=$f$$;$e$$=this.f();$f$$=this.b}break;case $Fa$$:for(;$f$$+$g$$>$e$$.length;)$e$$=this.f({v:2});break;default:$i$$(Error("invalid inflate mode"))}if($H$$)$e$$.set($a$$79_c$$.subarray($b$$,$b$$+$g$$),$f$$),$f$$+=$g$$,$b$$+=$g$$;else for(;$g$$--;)$e$$[$f$$++]=$a$$79_c$$[$b$$++];this.c=$b$$;this.b=$f$$;this.a=$e$$;break;case 1:this.o($Ia$$,$Ja$$);break;case 2:$Ka$$(this);break;default:$i$$(Error("unknown BTYPE: "+
$a$$79_c$$))}}return this.t()};$$a_Aa_La_T_Z_bb_db$$=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];var $Za$$=$H$$?new Uint16Array($$a_Aa_La_T_Z_bb_db$$):$$a_Aa_La_T_Z_bb_db$$;$$a_Aa_La_T_Z_bb_db$$=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258];var $ab$$=$H$$?new Uint16Array($$a_Aa_La_T_Z_bb_db$$):$$a_Aa_La_T_Z_bb_db$$;$$a_Aa_La_T_Z_bb_db$$=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0];var $cb$$=$H$$?new Uint8Array($$a_Aa_La_T_Z_bb_db$$):
$$a_Aa_La_T_Z_bb_db$$;$$a_Aa_La_T_Z_bb_db$$=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];var $eb$$=$H$$?new Uint16Array($$a_Aa_La_T_Z_bb_db$$):$$a_Aa_La_T_Z_bb_db$$;$$a_Aa_La_T_Z_bb_db$$=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];var $gb$$=$H$$?new Uint8Array($$a_Aa_La_T_Z_bb_db$$):$$a_Aa_La_T_Z_bb_db$$;$$a_Aa_La_T_Z_bb_db$$=new ($H$$?Uint8Array:Array)(288);$Ba_R$$1_Y$$1_kb_ub_xb$$=0;for($ia_ib_lb$$=$$a_Aa_La_T_Z_bb_db$$.length;$Ba_R$$1_Y$$1_kb_ub_xb$$<
$ia_ib_lb$$;++$Ba_R$$1_Y$$1_kb_ub_xb$$)$$a_Aa_La_T_Z_bb_db$$[$Ba_R$$1_Y$$1_kb_ub_xb$$]=143>=$Ba_R$$1_Y$$1_kb_ub_xb$$?8:255>=$Ba_R$$1_Y$$1_kb_ub_xb$$?9:279>=$Ba_R$$1_Y$$1_kb_ub_xb$$?7:8;var $Ia$$=$S$$($$a_Aa_La_T_Z_bb_db$$);$$a_Aa_La_T_Z_bb_db$$=new ($H$$?Uint8Array:Array)(30);$Ba_R$$1_Y$$1_kb_ub_xb$$=0;for($ia_ib_lb$$=$$a_Aa_La_T_Z_bb_db$$.length;$Ba_R$$1_Y$$1_kb_ub_xb$$<$ia_ib_lb$$;++$Ba_R$$1_Y$$1_kb_ub_xb$$)$$a_Aa_La_T_Z_bb_db$$[$Ba_R$$1_Y$$1_kb_ub_xb$$]=5;var $Ja$$=$S$$($$a_Aa_La_T_Z_bb_db$$);
$V$$.prototype.o=function $$V$$$$o$($a$$,$c$$){var $b$$=this.a,$e$$=this.b;this.u=$a$$;for(var $f$$=$b$$.length-258,$d$$35_g$$,$h$$,$m$$;256!==($d$$35_g$$=$mb$$(this,$a$$));)if(256>$d$$35_g$$)$e$$>=$f$$&&(this.b=$e$$,$b$$=this.f(),$e$$=this.b),$b$$[$e$$++]=$d$$35_g$$;else for($d$$35_g$$-=257,$m$$=$ab$$[$d$$35_g$$],0<$cb$$[$d$$35_g$$]&&($m$$+=$X$$(this,$cb$$[$d$$35_g$$])),$d$$35_g$$=$mb$$(this,$c$$),$h$$=$eb$$[$d$$35_g$$],0<$gb$$[$d$$35_g$$]&&($h$$+=$X$$(this,$gb$$[$d$$35_g$$])),$e$$>=$f$$&&(this.b=
$e$$,$b$$=this.f(),$e$$=this.b);$m$$--;)$b$$[$e$$]=$b$$[$e$$++-$h$$];for(;8<=this.e;)this.e-=8,this.c--;this.b=$e$$};$V$$.prototype.I=function $$V$$$$I$($a$$,$c$$){var $b$$=this.a,$e$$=this.b;this.u=$a$$;for(var $f$$=$b$$.length,$d$$36_g$$,$h$$,$m$$;256!==($d$$36_g$$=$mb$$(this,$a$$));)if(256>$d$$36_g$$)$e$$>=$f$$&&($b$$=this.f(),$f$$=$b$$.length),$b$$[$e$$++]=$d$$36_g$$;else for($d$$36_g$$-=257,$m$$=$ab$$[$d$$36_g$$],0<$cb$$[$d$$36_g$$]&&($m$$+=$X$$(this,$cb$$[$d$$36_g$$])),$d$$36_g$$=$mb$$(this,
$c$$),$h$$=$eb$$[$d$$36_g$$],0<$gb$$[$d$$36_g$$]&&($h$$+=$X$$(this,$gb$$[$d$$36_g$$])),$e$$+$m$$>$f$$&&($b$$=this.f(),$f$$=$b$$.length);$m$$--;)$b$$[$e$$]=$b$$[$e$$++-$h$$];for(;8<=this.e;)this.e-=8,this.c--;this.b=$e$$};$V$$.prototype.f=function $$V$$$$f$(){var $a$$=new ($H$$?Uint8Array:Array)(this.b-32768),$c$$=this.b-32768,$b$$,$e$$,$f$$=this.a;if($H$$)$a$$.set($f$$.subarray(32768,$a$$.length));else for($b$$=0,$e$$=$a$$.length;$b$$<$e$$;++$b$$)$a$$[$b$$]=$f$$[$b$$+32768];this.k.push($a$$);this.q+=
$a$$.length;if($H$$)$f$$.set($f$$.subarray($c$$,$c$$+32768));else for($b$$=0;32768>$b$$;++$b$$)$f$$[$b$$]=$f$$[$c$$+$b$$];this.b=32768;return $f$$};$V$$.prototype.J=function $$V$$$$J$($a$$){var $c$$,$b$$=this.input.length/this.c+1|0,$e$$,$f$$,$d$$,$g$$=this.input,$h$$=this.a;$a$$&&("number"===typeof $a$$.v&&($b$$=$a$$.v),"number"===typeof $a$$.F&&($b$$+=$a$$.F));2>$b$$?($e$$=($g$$.length-this.c)/this.u[2],$d$$=$e$$/2*258|0,$f$$=$d$$<$h$$.length?$h$$.length+$d$$:$h$$.length<<1):$f$$=$h$$.length*$b$$;
$H$$?($c$$=new Uint8Array($f$$),$c$$.set($h$$)):$c$$=$h$$;return this.a=$c$$};$V$$.prototype.t=function $$V$$$$t$(){var $a$$=0,$c$$=this.a,$b$$=this.k,$e$$,$f$$=new ($H$$?Uint8Array:Array)(this.q+(this.b-32768)),$d$$,$g$$,$h$$,$m$$;if(0===$b$$.length)return $H$$?this.a.subarray(32768,this.b):this.a.slice(32768,this.b);$d$$=0;for($g$$=$b$$.length;$d$$<$g$$;++$d$$)for($e$$=$b$$[$d$$],$h$$=0,$m$$=$e$$.length;$h$$<$m$$;++$h$$)$f$$[$a$$++]=$e$$[$h$$];$d$$=32768;for($g$$=this.b;$d$$<$g$$;++$d$$)$f$$[$a$$++]=
$c$$[$d$$];this.k=[];return this.buffer=$f$$};$V$$.prototype.H=function $$V$$$$H$(){var $a$$,$c$$=this.b;$H$$?this.B?($a$$=new Uint8Array($c$$),$a$$.set(this.a.subarray(0,$c$$))):$a$$=this.a.subarray(0,$c$$):(this.a.length>$c$$&&(this.a.length=$c$$),$a$$=this.a);return this.buffer=$a$$};$nb$$.prototype.p=function $$nb$$$$p$(){var $a$$=this.input,$c$$,$b$$;$c$$=this.A.p();this.c=this.A.c;this.M&&($b$$=($a$$[this.c++]<<24|$a$$[this.c++]<<16|$a$$[this.c++]<<8|$a$$[this.c++])>>>0,$b$$!==$ba$$($c$$)&&
$i$$(Error("invalid adler-32 checksum")));return $c$$};$y$$("Zlib.Inflate",$nb$$);$y$$("Zlib.Inflate.BufferType",$Ha_ca_ka_ob_pb_qa_qb_rb$$);$Ha_ca_ka_ob_pb_qa_qb_rb$$.ADAPTIVE=$Ha_ca_ka_ob_pb_qa_qb_rb$$.C;$Ha_ca_ka_ob_pb_qa_qb_rb$$.BLOCK=$Ha_ca_ka_ob_pb_qa_qb_rb$$.D;$y$$("Zlib.Inflate.prototype.decompress",$nb$$.prototype.p);$Ha_ca_ka_ob_pb_qa_qb_rb$$=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];$H$$&&new Uint16Array($Ha_ca_ka_ob_pb_qa_qb_rb$$);$Ha_ca_ka_ob_pb_qa_qb_rb$$=[3,4,5,6,7,8,9,10,11,
13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258];$H$$&&new Uint16Array($Ha_ca_ka_ob_pb_qa_qb_rb$$);$Ha_ca_ka_ob_pb_qa_qb_rb$$=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0];$H$$&&new Uint8Array($Ha_ca_ka_ob_pb_qa_qb_rb$$);$Ha_ca_ka_ob_pb_qa_qb_rb$$=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];$H$$&&new Uint16Array($Ha_ca_ka_ob_pb_qa_qb_rb$$);$Ha_ca_ka_ob_pb_qa_qb_rb$$=[0,0,0,0,1,1,2,2,3,
3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];$H$$&&new Uint8Array($Ha_ca_ka_ob_pb_qa_qb_rb$$);$Ha_ca_ka_ob_pb_qa_qb_rb$$=new ($H$$?Uint8Array:Array)(288);$$a_Aa_La_T_Z_bb_db$$=0;for($Ba_R$$1_Y$$1_kb_ub_xb$$=$Ha_ca_ka_ob_pb_qa_qb_rb$$.length;$$a_Aa_La_T_Z_bb_db$$<$Ba_R$$1_Y$$1_kb_ub_xb$$;++$$a_Aa_La_T_Z_bb_db$$)$Ha_ca_ka_ob_pb_qa_qb_rb$$[$$a_Aa_La_T_Z_bb_db$$]=143>=$$a_Aa_La_T_Z_bb_db$$?8:255>=$$a_Aa_La_T_Z_bb_db$$?9:279>=$$a_Aa_La_T_Z_bb_db$$?7:8;$S$$($Ha_ca_ka_ob_pb_qa_qb_rb$$);$Ha_ca_ka_ob_pb_qa_qb_rb$$=
new ($H$$?Uint8Array:Array)(30);$$a_Aa_La_T_Z_bb_db$$=0;for($Ba_R$$1_Y$$1_kb_ub_xb$$=$Ha_ca_ka_ob_pb_qa_qb_rb$$.length;$$a_Aa_La_T_Z_bb_db$$<$Ba_R$$1_Y$$1_kb_ub_xb$$;++$$a_Aa_La_T_Z_bb_db$$)$Ha_ca_ka_ob_pb_qa_qb_rb$$[$$a_Aa_La_T_Z_bb_db$$]=5;$S$$($Ha_ca_ka_ob_pb_qa_qb_rb$$);var $Ea$$=8}).call(this);_p=window;_p=_p.Zlib=_p.Zlib;_p.Deflate=_p.Deflate;_p.Deflate.compress=_p.Deflate.compress;_p.Inflate=_p.Inflate;_p.Inflate.BufferType=_p.Inflate.BufferType;_p.Inflate.prototype.decompress=_p.Inflate.prototype.decompress;
cc.PNGReader=cc.Class.extend({ctor:function($_i$$inline_99__j_data$$48_delayNum_key$$){var $ccshort_chunkSize_delayDen_index$$,$JSCompiler_inline_result$$1__ref_colors$$,$JSCompiler_inline_result$$0_frame$$,$_i__results$$inline_100_text$$;this.data=$_i$$inline_99__j_data$$48_delayNum_key$$;this.pos=8;this.palette=[];this.imgData=[];this.transparency={};this.animation=null;this.text={};for($JSCompiler_inline_result$$0_frame$$=null;;){$ccshort_chunkSize_delayDen_index$$=this.readUInt32();$_i__results$$inline_100_text$$=
$_i$$inline_99__j_data$$48_delayNum_key$$=void 0;$_i__results$$inline_100_text$$=[];for($_i$$inline_99__j_data$$48_delayNum_key$$=0;4>$_i$$inline_99__j_data$$48_delayNum_key$$;++$_i$$inline_99__j_data$$48_delayNum_key$$)$_i__results$$inline_100_text$$.push(String.fromCharCode(this.data[this.pos++]));$_i$$inline_99__j_data$$48_delayNum_key$$=$_i__results$$inline_100_text$$.join("");switch($_i$$inline_99__j_data$$48_delayNum_key$$){case "IHDR":this.width=this.readUInt32();this.height=this.readUInt32();
this.bits=this.data[this.pos++];this.colorType=this.data[this.pos++];this.compressionMethod=this.data[this.pos++];this.filterMethod=this.data[this.pos++];this.interlaceMethod=this.data[this.pos++];break;case "acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||Infinity,frames:[]};break;case "PLTE":this.palette=this.read($ccshort_chunkSize_delayDen_index$$);break;case "fcTL":$JSCompiler_inline_result$$0_frame$$&&this.animation.frames.push($JSCompiler_inline_result$$0_frame$$);
this.pos+=4;$JSCompiler_inline_result$$0_frame$$={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()};$_i$$inline_99__j_data$$48_delayNum_key$$=this.readUInt16();$ccshort_chunkSize_delayDen_index$$=this.readUInt16()||100;$JSCompiler_inline_result$$0_frame$$.delay=1E3*$_i$$inline_99__j_data$$48_delayNum_key$$/$ccshort_chunkSize_delayDen_index$$;$JSCompiler_inline_result$$0_frame$$.disposeOp=this.data[this.pos++];$JSCompiler_inline_result$$0_frame$$.blendOp=
this.data[this.pos++];$JSCompiler_inline_result$$0_frame$$.data=[];break;case "IDAT":case "fdAT":"fdAT"===$_i$$inline_99__j_data$$48_delayNum_key$$&&(this.pos+=4,$ccshort_chunkSize_delayDen_index$$-=4);$_i$$inline_99__j_data$$48_delayNum_key$$=(null!=$JSCompiler_inline_result$$0_frame$$?$JSCompiler_inline_result$$0_frame$$.data:void 0)||this.imgData;for($_i__results$$inline_100_text$$=0;0<=$ccshort_chunkSize_delayDen_index$$?$_i__results$$inline_100_text$$<$ccshort_chunkSize_delayDen_index$$:$_i__results$$inline_100_text$$>
$ccshort_chunkSize_delayDen_index$$;0<=$ccshort_chunkSize_delayDen_index$$?++$_i__results$$inline_100_text$$:--$_i__results$$inline_100_text$$)$_i$$inline_99__j_data$$48_delayNum_key$$.push(this.data[this.pos++]);break;case "tRNS":this.transparency={};switch(this.colorType){case 3:this.transparency.indexed=this.read($ccshort_chunkSize_delayDen_index$$);$ccshort_chunkSize_delayDen_index$$=255-this.transparency.indexed.length;if(0<$ccshort_chunkSize_delayDen_index$$)for($_i$$inline_99__j_data$$48_delayNum_key$$=
0;0<=$ccshort_chunkSize_delayDen_index$$?$_i$$inline_99__j_data$$48_delayNum_key$$<$ccshort_chunkSize_delayDen_index$$:$_i$$inline_99__j_data$$48_delayNum_key$$>$ccshort_chunkSize_delayDen_index$$;0<=$ccshort_chunkSize_delayDen_index$$?++$_i$$inline_99__j_data$$48_delayNum_key$$:--$_i$$inline_99__j_data$$48_delayNum_key$$)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read($ccshort_chunkSize_delayDen_index$$)[0];break;case 2:this.transparency.rgb=this.read($ccshort_chunkSize_delayDen_index$$)}break;
case "tEXt":$_i__results$$inline_100_text$$=this.read($ccshort_chunkSize_delayDen_index$$);$ccshort_chunkSize_delayDen_index$$=$_i__results$$inline_100_text$$.indexOf(0);$_i$$inline_99__j_data$$48_delayNum_key$$=String.fromCharCode.apply(String,$_i__results$$inline_100_text$$.slice(0,$ccshort_chunkSize_delayDen_index$$));this.text[$_i$$inline_99__j_data$$48_delayNum_key$$]=String.fromCharCode.apply(String,$_i__results$$inline_100_text$$.slice($ccshort_chunkSize_delayDen_index$$+1));break;case "IEND":$JSCompiler_inline_result$$0_frame$$&&
this.animation.frames.push($JSCompiler_inline_result$$0_frame$$);a:{switch(this.colorType){case 0:case 3:case 4:$JSCompiler_inline_result$$0_frame$$=1;break a;case 2:case 6:$JSCompiler_inline_result$$0_frame$$=3;break a}$JSCompiler_inline_result$$0_frame$$=void 0}this.colors=$JSCompiler_inline_result$$0_frame$$;this.hasAlphaChannel=4===($JSCompiler_inline_result$$1__ref_colors$$=this.colorType)||6===$JSCompiler_inline_result$$1__ref_colors$$;$JSCompiler_inline_result$$1__ref_colors$$=this.colors+
(this.hasAlphaChannel?1:0);this.pixelBitlength=this.bits*$JSCompiler_inline_result$$1__ref_colors$$;a:{switch(this.colors){case 1:$JSCompiler_inline_result$$1__ref_colors$$="DeviceGray";break a;case 3:$JSCompiler_inline_result$$1__ref_colors$$="DeviceRGB";break a}$JSCompiler_inline_result$$1__ref_colors$$=void 0}this.colorSpace=$JSCompiler_inline_result$$1__ref_colors$$;Uint8Array!=Array&&(this.imgData=new Uint8Array(this.imgData));return;default:this.pos+=$ccshort_chunkSize_delayDen_index$$}this.pos+=
4;if(this.pos>this.data.length)throw Error("Incomplete or corrupt PNG file");}},read:function($bytes$$){var $_i$$,$_results$$;$_results$$=[];for($_i$$=0;0<=$bytes$$?$_i$$<$bytes$$:$_i$$>$bytes$$;0<=$bytes$$?++$_i$$:--$_i$$)$_results$$.push(this.data[this.pos++]);return $_results$$},readUInt32:function(){var $b1$$,$b2$$,$b3$$,$b4$$;$b1$$=this.data[this.pos++]<<24;$b2$$=this.data[this.pos++]<<16;$b3$$=this.data[this.pos++]<<8;$b4$$=this.data[this.pos++];return $b1$$|$b2$$|$b3$$|$b4$$},readUInt16:function(){var $b1$$,
$b2$$;$b1$$=this.data[this.pos++]<<8;$b2$$=this.data[this.pos++];return $b1$$|$b2$$},decodePixels:function($data$$){var $_i$$,$c$$,$col$$4_pb$$,$i$$283_pa$$,$_k_left$$,$length$$,$p$$,$pixelBytes$$,$pixels$$,$pos$$,$row$$,$scanlineLength$$,$_j$$,$upperLeft$$,$_l__m$$;null==$data$$&&($data$$=this.imgData);if(0===$data$$.length)return new Uint8Array(0);$data$$=(new Zlib.Inflate($data$$,{index:0,verify:!1})).decompress();$pixelBytes$$=this.pixelBitlength/8;$scanlineLength$$=$pixelBytes$$*this.width;$pixels$$=
new Uint8Array($scanlineLength$$*this.height);$length$$=$data$$.length;for($c$$=$pos$$=$row$$=0;$pos$$<$length$$;){switch($data$$[$pos$$++]){case 0:for($_i$$=0;$_i$$<$scanlineLength$$;$_i$$+=1)$pixels$$[$c$$++]=$data$$[$pos$$++];break;case 1:for($i$$283_pa$$=$_j$$=0;$_j$$<$scanlineLength$$;$i$$283_pa$$=$_j$$+=1)$_i$$=$data$$[$pos$$++],$_k_left$$=$i$$283_pa$$<$pixelBytes$$?0:$pixels$$[$c$$-$pixelBytes$$],$pixels$$[$c$$++]=($_i$$+$_k_left$$)%256;break;case 2:for($i$$283_pa$$=$_k_left$$=0;$_k_left$$<
$scanlineLength$$;$i$$283_pa$$=$_k_left$$+=1)$_i$$=$data$$[$pos$$++],$col$$4_pb$$=($i$$283_pa$$-$i$$283_pa$$%$pixelBytes$$)/$pixelBytes$$,$_j$$=$row$$&&$pixels$$[($row$$-1)*$scanlineLength$$+$col$$4_pb$$*$pixelBytes$$+$i$$283_pa$$%$pixelBytes$$],$pixels$$[$c$$++]=($_j$$+$_i$$)%256;break;case 3:for($i$$283_pa$$=$_l__m$$=0;$_l__m$$<$scanlineLength$$;$i$$283_pa$$=$_l__m$$+=1)$_i$$=$data$$[$pos$$++],$col$$4_pb$$=($i$$283_pa$$-$i$$283_pa$$%$pixelBytes$$)/$pixelBytes$$,$_k_left$$=$i$$283_pa$$<$pixelBytes$$?
0:$pixels$$[$c$$-$pixelBytes$$],$_j$$=$row$$&&$pixels$$[($row$$-1)*$scanlineLength$$+$col$$4_pb$$*$pixelBytes$$+$i$$283_pa$$%$pixelBytes$$],$pixels$$[$c$$++]=($_i$$+Math.floor(($_k_left$$+$_j$$)/2))%256;break;case 4:for($i$$283_pa$$=$_l__m$$=0;$_l__m$$<$scanlineLength$$;$i$$283_pa$$=$_l__m$$+=1)$_i$$=$data$$[$pos$$++],$col$$4_pb$$=($i$$283_pa$$-$i$$283_pa$$%$pixelBytes$$)/$pixelBytes$$,$_k_left$$=$i$$283_pa$$<$pixelBytes$$?0:$pixels$$[$c$$-$pixelBytes$$],0===$row$$?$_j$$=$upperLeft$$=0:($_j$$=$pixels$$[($row$$-
1)*$scanlineLength$$+$col$$4_pb$$*$pixelBytes$$+$i$$283_pa$$%$pixelBytes$$],$upperLeft$$=$col$$4_pb$$&&$pixels$$[($row$$-1)*$scanlineLength$$+($col$$4_pb$$-1)*$pixelBytes$$+$i$$283_pa$$%$pixelBytes$$]),$p$$=$_k_left$$+$_j$$-$upperLeft$$,$i$$283_pa$$=Math.abs($p$$-$_k_left$$),$col$$4_pb$$=Math.abs($p$$-$_j$$),$p$$=Math.abs($p$$-$upperLeft$$),$_k_left$$=$i$$283_pa$$<=$col$$4_pb$$&&$i$$283_pa$$<=$p$$?$_k_left$$:$col$$4_pb$$<=$p$$?$_j$$:$upperLeft$$,$pixels$$[$c$$++]=($_i$$+$_k_left$$)%256;break;default:throw Error("Invalid filter algorithm: "+
$data$$[$pos$$-1]);}$row$$++}return $pixels$$},copyToImageData:function($imageData$$,$pixels$$){var $alpha$$,$colors$$3_k$$,$_ref$$1_data$$,$i$$,$input$$,$j$$51_v$$,$length$$,$palette$$;$colors$$3_k$$=this.colors;$palette$$=null;$alpha$$=this.hasAlphaChannel;this.palette.length&&($palette$$=null!=($_ref$$1_data$$=this._decodedPalette)?$_ref$$1_data$$:this._decodedPalette=this.decodePalette(),$colors$$3_k$$=4,$alpha$$=!0);$_ref$$1_data$$=$imageData$$.data||$imageData$$;$length$$=$_ref$$1_data$$.length;
$input$$=$palette$$||$pixels$$;$i$$=$j$$51_v$$=0;if(1===$colors$$3_k$$)for(;$i$$<$length$$;)$colors$$3_k$$=$palette$$?4*$pixels$$[$i$$/4]:$j$$51_v$$,$j$$51_v$$=$input$$[$colors$$3_k$$++],$_ref$$1_data$$[$i$$++]=$j$$51_v$$,$_ref$$1_data$$[$i$$++]=$j$$51_v$$,$_ref$$1_data$$[$i$$++]=$j$$51_v$$,$_ref$$1_data$$[$i$$++]=$alpha$$?$input$$[$colors$$3_k$$++]:255,$j$$51_v$$=$colors$$3_k$$;else for(;$i$$<$length$$;)$colors$$3_k$$=$palette$$?4*$pixels$$[$i$$/4]:$j$$51_v$$,$_ref$$1_data$$[$i$$++]=$input$$[$colors$$3_k$$++],
$_ref$$1_data$$[$i$$++]=$input$$[$colors$$3_k$$++],$_ref$$1_data$$[$i$$++]=$input$$[$colors$$3_k$$++],$_ref$$1_data$$[$i$$++]=$alpha$$?$input$$[$colors$$3_k$$++]:255,$j$$51_v$$=$colors$$3_k$$},decodePalette:function(){var $c$$,$i$$,$palette$$,$pos$$,$ret$$,$transparency$$,$_i$$,$_ref$$,$_ref1$$;$palette$$=this.palette;$transparency$$=this.transparency.indexed||[];$ret$$=new Uint8Array(($transparency$$.length||0)+$palette$$.length);$i$$=$_i$$=$c$$=$pos$$=0;for($_ref$$=$palette$$.length;$_i$$<$_ref$$;$i$$=
$_i$$+=3)$ret$$[$pos$$++]=$palette$$[$i$$],$ret$$[$pos$$++]=$palette$$[$i$$+1],$ret$$[$pos$$++]=$palette$$[$i$$+2],$ret$$[$pos$$++]=null!=($_ref1$$=$transparency$$[$c$$++])?$_ref1$$:255;return $ret$$},render:function($canvas$$4_ctx$$){var $data$$;$canvas$$4_ctx$$.width=this.width;$canvas$$4_ctx$$.height=this.height;$canvas$$4_ctx$$=$canvas$$4_ctx$$.getContext("2d");$data$$=$canvas$$4_ctx$$.createImageData(this.width,this.height);this.copyToImageData($data$$,this.decodePixels());return $canvas$$4_ctx$$.putImageData($data$$,
0,0)}});
cc.tiffReader={_littleEndian:!1,_tiffData:null,_fileDirectories:[],getUint8:function $cc$tiffReader$getUint8$($offset$$){return this._tiffData[$offset$$]},getUint16:function $cc$tiffReader$getUint16$($offset$$){return this._littleEndian?this._tiffData[$offset$$+1]<<8|this._tiffData[$offset$$]:this._tiffData[$offset$$]<<8|this._tiffData[$offset$$+1]},getUint32:function $cc$tiffReader$getUint32$($offset$$){var $a$$=this._tiffData;return this._littleEndian?$a$$[$offset$$+3]<<24|$a$$[$offset$$+2]<<16|
$a$$[$offset$$+1]<<8|$a$$[$offset$$]:$a$$[$offset$$]<<24|$a$$[$offset$$+1]<<16|$a$$[$offset$$+2]<<8|$a$$[$offset$$+3]},checkLittleEndian:function $cc$tiffReader$checkLittleEndian$(){var $BOM$$=this.getUint16(0);if(18761===$BOM$$)this.littleEndian=!0;else if(19789===$BOM$$)this.littleEndian=!1;else throw console.log($BOM$$),TypeError("Invalid byte order value.");return this.littleEndian},hasTowel:function $cc$tiffReader$hasTowel$(){if(42!==this.getUint16(2))throw RangeError("You forgot your towel!");
return!0},getFieldTypeName:function $cc$tiffReader$getFieldTypeName$($fieldType$$){var $typeNames$$=this.fieldTypeNames;return $fieldType$$ in $typeNames$$?$typeNames$$[$fieldType$$]:null},getFieldTagName:function $cc$tiffReader$getFieldTagName$($fieldTag$$){var $tagNames$$=this.fieldTagNames;if($fieldTag$$ in $tagNames$$)return $tagNames$$[$fieldTag$$];console.log("Unknown Field Tag:",$fieldTag$$);return"Tag"+$fieldTag$$},getFieldTypeLength:function $cc$tiffReader$getFieldTypeLength$($fieldTypeName$$){return-1!==
["BYTE","ASCII","SBYTE","UNDEFINED"].indexOf($fieldTypeName$$)?1:-1!==["SHORT","SSHORT"].indexOf($fieldTypeName$$)?2:-1!==["LONG","SLONG","FLOAT"].indexOf($fieldTypeName$$)?4:-1!==["RATIONAL","SRATIONAL","DOUBLE"].indexOf($fieldTypeName$$)?8:null},getFieldValues:function $cc$tiffReader$getFieldValues$($fieldTagName_fieldValues$$,$fieldTypeName$$,$typeCount$$,$valueOffset$$){$fieldTagName_fieldValues$$=[];var $fieldTypeLength$$=this.getFieldTypeLength($fieldTypeName$$);if(4>=$fieldTypeLength$$*$typeCount$$)!1===
this.littleEndian?$fieldTagName_fieldValues$$.push($valueOffset$$>>>8*(4-$fieldTypeLength$$)):$fieldTagName_fieldValues$$.push($valueOffset$$);else for(var $i$$0$$=0;$i$$0$$<$typeCount$$;$i$$0$$++){var $indexOffset$$=$fieldTypeLength$$*$i$$0$$;8<=$fieldTypeLength$$?-1!==["RATIONAL","SRATIONAL"].indexOf($fieldTypeName$$)?($fieldTagName_fieldValues$$.push(this.getUint32($valueOffset$$+$indexOffset$$)),$fieldTagName_fieldValues$$.push(this.getUint32($valueOffset$$+$indexOffset$$+4))):cc.log("Can't handle this field type or size"):
$fieldTagName_fieldValues$$.push(this.getBytes($fieldTypeLength$$,$valueOffset$$+$indexOffset$$))}"ASCII"===$fieldTypeName$$&&$fieldTagName_fieldValues$$.forEach(function($e$$,$i$$,$a$$){$a$$[$i$$]=String.fromCharCode($e$$)});return $fieldTagName_fieldValues$$},getBytes:function $cc$tiffReader$getBytes$($numBytes$$,$offset$$){if(0>=$numBytes$$)cc.log("No bytes requested");else{if(1>=$numBytes$$)return this.getUint8($offset$$);if(2>=$numBytes$$)return this.getUint16($offset$$);if(3>=$numBytes$$)return this.getUint32($offset$$)>>>
8;if(4>=$numBytes$$)return this.getUint32($offset$$);cc.log("Too many bytes requested")}},getBits:function $cc$tiffReader$getBits$($numBits_shiftRight$$,$byteOffset$$,$bitOffset$$){$bitOffset$$=$bitOffset$$||0;$byteOffset$$+=Math.floor($bitOffset$$/8);var $totalBits$$=$bitOffset$$+$numBits_shiftRight$$;$numBits_shiftRight$$=32-$numBits_shiftRight$$;var $shiftLeft$$,$rawBits$$;0>=$totalBits$$?console.log("No bits requested"):8>=$totalBits$$?($shiftLeft$$=24+$bitOffset$$,$rawBits$$=this.getUint8($byteOffset$$)):
16>=$totalBits$$?($shiftLeft$$=16+$bitOffset$$,$rawBits$$=this.getUint16($byteOffset$$)):32>=$totalBits$$?($shiftLeft$$=$bitOffset$$,$rawBits$$=this.getUint32($byteOffset$$)):console.log("Too many bits requested");return{bits:$rawBits$$<<$shiftLeft$$>>>$numBits_shiftRight$$,byteOffset:$byteOffset$$+Math.floor($totalBits$$/8),bitOffset:$totalBits$$%8}},parseFileDirectory:function $cc$tiffReader$parseFileDirectory$($byteOffset$$17_i$$){var $nextIFDByteOffset_numDirEntries$$=this.getUint16($byteOffset$$17_i$$),
$tiffFields$$=[];$byteOffset$$17_i$$+=2;for(var $entryCount$$=0;$entryCount$$<$nextIFDByteOffset_numDirEntries$$;$byteOffset$$17_i$$+=12,$entryCount$$++){var $fieldTag$$1_fieldTagName$$=this.getUint16($byteOffset$$17_i$$),$fieldType$$1_fieldTypeName$$=this.getUint16($byteOffset$$17_i$$+2),$fieldValues$$1_typeCount$$=this.getUint32($byteOffset$$17_i$$+4),$valueOffset$$=this.getUint32($byteOffset$$17_i$$+8),$fieldTag$$1_fieldTagName$$=this.getFieldTagName($fieldTag$$1_fieldTagName$$),$fieldType$$1_fieldTypeName$$=
this.getFieldTypeName($fieldType$$1_fieldTypeName$$),$fieldValues$$1_typeCount$$=this.getFieldValues($fieldTag$$1_fieldTagName$$,$fieldType$$1_fieldTypeName$$,$fieldValues$$1_typeCount$$,$valueOffset$$);$tiffFields$$[$fieldTag$$1_fieldTagName$$]={type:$fieldType$$1_fieldTypeName$$,values:$fieldValues$$1_typeCount$$}}this._fileDirectories.push($tiffFields$$);$nextIFDByteOffset_numDirEntries$$=this.getUint32($byteOffset$$17_i$$);0!==$nextIFDByteOffset_numDirEntries$$&&this.parseFileDirectory($nextIFDByteOffset_numDirEntries$$)},
clampColorSample:function $cc$tiffReader$clampColorSample$($colorSample$$,$bitsPerSample$$){var $multiplier$$=Math.pow(2,8-$bitsPerSample$$);return Math.floor($colorSample$$*$multiplier$$+($multiplier$$-1))},parseTIFF:function $cc$tiffReader$parseTIFF$($tiffData$$,$canvas$$){$canvas$$=$canvas$$||cc.newElement("canvas");this._tiffData=$tiffData$$;this.canvas=$canvas$$;this.checkLittleEndian();if(this.hasTowel()){var $firstIFDByteOffset_imageWidth$$=this.getUint32(4);this._fileDirectories.length=0;
this.parseFileDirectory($firstIFDByteOffset_imageWidth$$);var $fileDirectory_numPixels$$=this._fileDirectories[0],$firstIFDByteOffset_imageWidth$$=$fileDirectory_numPixels$$.ImageWidth.values[0],$imageLength_imageLengthModRowsPerStrip_rowsInLastStrip$$=$fileDirectory_numPixels$$.ImageLength.values[0];this.canvas.width=$firstIFDByteOffset_imageWidth$$;this.canvas.height=$imageLength_imageLengthModRowsPerStrip_rowsInLastStrip$$;var $strips$$=[],$compression_numRowsInPreviousStrip_yPadding$$=$fileDirectory_numPixels$$.Compression?
$fileDirectory_numPixels$$.Compression.values[0]:1,$samplesPerPixel_y$$=$fileDirectory_numPixels$$.SamplesPerPixel.values[0],$sampleProperties$$=[],$bitsPerPixel$$=0,$hasBytesPerPixel_j$$=!1;$fileDirectory_numPixels$$.BitsPerSample.values.forEach(function($bitsPerSample$$,$i$$,$bitsPerSampleValues$$){$sampleProperties$$[$i$$]={bitsPerSample:$bitsPerSample$$,hasBytesPerSample:!1,bytesPerSample:void 0};0===$bitsPerSample$$%8&&($sampleProperties$$[$i$$].hasBytesPerSample=!0,$sampleProperties$$[$i$$].bytesPerSample=
$bitsPerSample$$/8);$bitsPerPixel$$+=$bitsPerSample$$},this);if(0===$bitsPerPixel$$%8)var $hasBytesPerPixel_j$$=!0,$bytesPerPixel_ctx$$=$bitsPerPixel$$/8;var $stripOffsetValues_x$$=$fileDirectory_numPixels$$.StripOffsets.values,$numStripOffsetValues_opacity$$=$stripOffsetValues_x$$.length;if($fileDirectory_numPixels$$.StripByteCounts)var $colorMapIndex_pixelSamples_stripByteCountValues$$=$fileDirectory_numPixels$$.StripByteCounts.values;else if(cc.log("Missing StripByteCounts!"),1===$numStripOffsetValues_opacity$$)$colorMapIndex_pixelSamples_stripByteCountValues$$=
[Math.ceil($firstIFDByteOffset_imageWidth$$*$imageLength_imageLengthModRowsPerStrip_rowsInLastStrip$$*$bitsPerPixel$$/8)];else throw Error("Cannot recover from missing StripByteCounts");for(var $i$$0$$=0;$i$$0$$<$numStripOffsetValues_opacity$$;$i$$0$$++){var $numStrips_stripOffset$$=$stripOffsetValues_x$$[$i$$0$$];$strips$$[$i$$0$$]=[];for(var $k$$11_red$$=$colorMapIndex_pixelSamples_stripByteCountValues$$[$i$$0$$],$byteOffset$$=0,$bitOffset$$1_green$$=0,$header$$2_jIncrement_m$$=1,$blue$$=!0,$photometricInterpretation_pixel$$=
[],$numBytes$$=0,$sample$$=0,$currentSample$$=0;$byteOffset$$<$k$$11_red$$;$byteOffset$$+=$header$$2_jIncrement_m$$)switch($compression_numRowsInPreviousStrip_yPadding$$){case 1:$header$$2_jIncrement_m$$=0;for($photometricInterpretation_pixel$$=[];$header$$2_jIncrement_m$$<$samplesPerPixel_y$$;$header$$2_jIncrement_m$$++)if($sampleProperties$$[$header$$2_jIncrement_m$$].hasBytesPerSample)$photometricInterpretation_pixel$$.push(this.getBytes($sampleProperties$$[$header$$2_jIncrement_m$$].bytesPerSample,
$numStrips_stripOffset$$+$byteOffset$$+$sampleProperties$$[$header$$2_jIncrement_m$$].bytesPerSample*$header$$2_jIncrement_m$$));else{var $colorMapValues_sampleInfo$$=this.getBits($sampleProperties$$[$header$$2_jIncrement_m$$].bitsPerSample,$numStrips_stripOffset$$+$byteOffset$$,$bitOffset$$1_green$$);$photometricInterpretation_pixel$$.push($colorMapValues_sampleInfo$$.bits);$byteOffset$$=$colorMapValues_sampleInfo$$.byteOffset-$numStrips_stripOffset$$;$bitOffset$$1_green$$=$colorMapValues_sampleInfo$$.bitOffset;
throw RangeError("Cannot handle sub-byte bits per sample");}$strips$$[$i$$0$$].push($photometricInterpretation_pixel$$);if($hasBytesPerPixel_j$$)$header$$2_jIncrement_m$$=$bytesPerPixel_ctx$$;else throw $header$$2_jIncrement_m$$=0,RangeError("Cannot handle sub-byte bits per pixel");break;case 32773:if($blue$$){var $blue$$=!1,$blockLength_extraSamplesValues$$=1,$iterations_numExtraSamples$$=1,$header$$2_jIncrement_m$$=this.getInt8($numStrips_stripOffset$$+$byteOffset$$);0<=$header$$2_jIncrement_m$$&&
127>=$header$$2_jIncrement_m$$?$blockLength_extraSamplesValues$$=$header$$2_jIncrement_m$$+1:-127<=$header$$2_jIncrement_m$$&&-1>=$header$$2_jIncrement_m$$?$iterations_numExtraSamples$$=-$header$$2_jIncrement_m$$+1:$blue$$=!0}else{for(var $currentByte$$=this.getUint8($numStrips_stripOffset$$+$byteOffset$$),$header$$2_jIncrement_m$$=0;$header$$2_jIncrement_m$$<$iterations_numExtraSamples$$;$header$$2_jIncrement_m$$++){if($sampleProperties$$[$sample$$].hasBytesPerSample)$currentSample$$=$currentSample$$<<
8*$numBytes$$|$currentByte$$,$numBytes$$++,$numBytes$$===$sampleProperties$$[$sample$$].bytesPerSample&&($photometricInterpretation_pixel$$.push($currentSample$$),$currentSample$$=$numBytes$$=0,$sample$$++);else throw RangeError("Cannot handle sub-byte bits per sample");$sample$$===$samplesPerPixel_y$$&&($strips$$[$i$$0$$].push($photometricInterpretation_pixel$$),$photometricInterpretation_pixel$$=[],$sample$$=0)}$blockLength_extraSamplesValues$$--;0===$blockLength_extraSamplesValues$$&&($blue$$=
!0)}$header$$2_jIncrement_m$$=1}}if($canvas$$.getContext){$bytesPerPixel_ctx$$=this.canvas.getContext("2d");$bytesPerPixel_ctx$$.fillStyle="rgba(255, 255, 255, 0)";$i$$0$$=$fileDirectory_numPixels$$.RowsPerStrip?$fileDirectory_numPixels$$.RowsPerStrip.values[0]:$imageLength_imageLengthModRowsPerStrip_rowsInLastStrip$$;$numStrips_stripOffset$$=$strips$$.length;$imageLength_imageLengthModRowsPerStrip_rowsInLastStrip$$%=$i$$0$$;$imageLength_imageLengthModRowsPerStrip_rowsInLastStrip$$=0===$imageLength_imageLengthModRowsPerStrip_rowsInLastStrip$$?
$i$$0$$:$imageLength_imageLengthModRowsPerStrip_rowsInLastStrip$$;$byteOffset$$=$i$$0$$;$compression_numRowsInPreviousStrip_yPadding$$=0;$photometricInterpretation_pixel$$=$fileDirectory_numPixels$$.PhotometricInterpretation.values[0];$blockLength_extraSamplesValues$$=[];$iterations_numExtraSamples$$=0;$fileDirectory_numPixels$$.ExtraSamples&&($blockLength_extraSamplesValues$$=$fileDirectory_numPixels$$.ExtraSamples.values,$iterations_numExtraSamples$$=$blockLength_extraSamplesValues$$.length);if($fileDirectory_numPixels$$.ColorMap)var $colorMapValues_sampleInfo$$=
$fileDirectory_numPixels$$.ColorMap.values,$colorMapSampleSize$$=Math.pow(2,$sampleProperties$$[0].bitsPerSample);for($i$$0$$=0;$i$$0$$<$numStrips_stripOffset$$;$i$$0$$++){$i$$0$$+1===$numStrips_stripOffset$$&&($byteOffset$$=$imageLength_imageLengthModRowsPerStrip_rowsInLastStrip$$);$fileDirectory_numPixels$$=$strips$$[$i$$0$$].length;$compression_numRowsInPreviousStrip_yPadding$$*=$i$$0$$;for($hasBytesPerPixel_j$$=$samplesPerPixel_y$$=0;$samplesPerPixel_y$$<$byteOffset$$,$hasBytesPerPixel_j$$<$fileDirectory_numPixels$$;$samplesPerPixel_y$$++)for($stripOffsetValues_x$$=
0;$stripOffsetValues_x$$<$firstIFDByteOffset_imageWidth$$;$stripOffsetValues_x$$++,$hasBytesPerPixel_j$$++){$colorMapIndex_pixelSamples_stripByteCountValues$$=$strips$$[$i$$0$$][$hasBytesPerPixel_j$$];$blue$$=$bitOffset$$1_green$$=$k$$11_red$$=0;$numStripOffsetValues_opacity$$=1;if(0<$iterations_numExtraSamples$$)for($k$$11_red$$=0;$k$$11_red$$<$iterations_numExtraSamples$$;$k$$11_red$$++)if(1===$blockLength_extraSamplesValues$$[$k$$11_red$$]||2===$blockLength_extraSamplesValues$$[$k$$11_red$$]){$numStripOffsetValues_opacity$$=
$colorMapIndex_pixelSamples_stripByteCountValues$$[3+$k$$11_red$$]/256;break}switch($photometricInterpretation_pixel$$){case 0:if($sampleProperties$$[0].hasBytesPerSample)var $invertValue$$=Math.pow(16,2*$sampleProperties$$[0].bytesPerSample);$colorMapIndex_pixelSamples_stripByteCountValues$$.forEach(function($sample$$,$index$$,$samples$$){$samples$$[$index$$]=$invertValue$$-$sample$$});case 1:$k$$11_red$$=$bitOffset$$1_green$$=$blue$$=this.clampColorSample($colorMapIndex_pixelSamples_stripByteCountValues$$[0],
$sampleProperties$$[0].bitsPerSample);break;case 2:$k$$11_red$$=this.clampColorSample($colorMapIndex_pixelSamples_stripByteCountValues$$[0],$sampleProperties$$[0].bitsPerSample);$bitOffset$$1_green$$=this.clampColorSample($colorMapIndex_pixelSamples_stripByteCountValues$$[1],$sampleProperties$$[1].bitsPerSample);$blue$$=this.clampColorSample($colorMapIndex_pixelSamples_stripByteCountValues$$[2],$sampleProperties$$[2].bitsPerSample);break;case 3:if(void 0===$colorMapValues_sampleInfo$$)throw Error("Palette image missing color map");
$colorMapIndex_pixelSamples_stripByteCountValues$$=$colorMapIndex_pixelSamples_stripByteCountValues$$[0];$k$$11_red$$=this.clampColorSample($colorMapValues_sampleInfo$$[$colorMapIndex_pixelSamples_stripByteCountValues$$],16);$bitOffset$$1_green$$=this.clampColorSample($colorMapValues_sampleInfo$$[$colorMapSampleSize$$+$colorMapIndex_pixelSamples_stripByteCountValues$$],16);$blue$$=this.clampColorSample($colorMapValues_sampleInfo$$[2*$colorMapSampleSize$$+$colorMapIndex_pixelSamples_stripByteCountValues$$],
16);break;default:throw RangeError("Unknown Photometric Interpretation:",$photometricInterpretation_pixel$$);}$bytesPerPixel_ctx$$.fillStyle="rgba("+$k$$11_red$$+", "+$bitOffset$$1_green$$+", "+$blue$$+", "+$numStripOffsetValues_opacity$$+")";$bytesPerPixel_ctx$$.fillRect($stripOffsetValues_x$$,$compression_numRowsInPreviousStrip_yPadding$$+$samplesPerPixel_y$$,1,1)}$compression_numRowsInPreviousStrip_yPadding$$=$byteOffset$$}}return this.canvas}},fieldTagNames:{315:"Artist",258:"BitsPerSample",265:"CellLength",
264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",
305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",
293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",
37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop"},fieldTypeNames:{1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE"}};
cc.Particle=function $cc$Particle$($pos$$,$startPos$$,$color$$,$deltaColor$$,$size$$,$deltaSize$$,$rotation$$,$deltaRotation$$,$timeToLive$$,$atlasIndex$$,$modeA$$,$modeB$$){this.pos=$pos$$?$pos$$:cc.p(0,0);this.startPos=$startPos$$?$startPos$$:cc.p(0,0);this.color=$color$$?$color$$:{r:0,g:0,b:0,a:255};this.deltaColor=$deltaColor$$?$deltaColor$$:{r:0,g:0,b:0,a:255};this.size=$size$$||0;this.deltaSize=$deltaSize$$||0;this.rotation=$rotation$$||0;this.deltaRotation=$deltaRotation$$||0;this.timeToLive=
$timeToLive$$||0;this.atlasIndex=$atlasIndex$$||0;this.modeA=$modeA$$?$modeA$$:new cc.Particle.ModeA;this.modeB=$modeB$$?$modeB$$:new cc.Particle.ModeB;this.isChangeColor=!1;this.drawPos=cc.p(0,0)};cc.Particle.ModeA=function $cc$Particle$ModeA$($dir$$,$radialAccel$$,$tangentialAccel$$){this.dir=$dir$$?$dir$$:cc.p(0,0);this.radialAccel=$radialAccel$$||0;this.tangentialAccel=$tangentialAccel$$||0};
cc.Particle.ModeB=function $cc$Particle$ModeB$($angle$$,$degreesPerSecond$$,$radius$$,$deltaRadius$$){this.angle=$angle$$||0;this.degreesPerSecond=$degreesPerSecond$$||0;this.radius=$radius$$||0;this.deltaRadius=$deltaRadius$$||0};cc.Particle.TemporaryPoints=[cc.p(),cc.p(),cc.p(),cc.p()];
cc.ParticleSystem=cc.Node.extend({_plistFile:"",_elapsed:0,_dontTint:!1,modeA:null,modeB:null,_className:"ParticleSystem",_pointZeroForParticle:cc.p(0,0),_particles:null,_emitCounter:0,_particleIdx:0,_batchNode:null,atlasIndex:0,_transformSystemDirty:!1,_allocatedParticles:0,drawMode:null,shapeType:null,_isActive:!1,particleCount:0,duration:0,_sourcePosition:null,_posVar:null,life:0,lifeVar:0,angle:0,angleVar:0,startSize:0,startSizeVar:0,endSize:0,endSizeVar:0,_startColor:null,_startColorVar:null,
_endColor:null,_endColorVar:null,startSpin:0,startSpinVar:0,endSpin:0,endSpinVar:0,emissionRate:0,_totalParticles:0,_texture:null,_blendFunc:null,_opacityModifyRGB:!1,positionType:null,autoRemoveOnFinish:!1,emitterMode:0,_quads:null,_indices:null,_buffersVBO:null,_pointRect:null,_textureLoaded:null,_quadsArrayBuffer:null,ctor:function($plistFile_ton$$){cc.Node.prototype.ctor.call(this);this.emitterMode=cc.ParticleSystem.MODE_GRAVITY;this.modeA=new cc.ParticleSystem.ModeA;this.modeB=new cc.ParticleSystem.ModeB;
this._blendFunc={src:cc.BLEND_SRC,dst:cc.BLEND_DST};this._particles=[];this._sourcePosition=cc.p(0,0);this._posVar=cc.p(0,0);this._startColor=cc.color(255,255,255,255);this._startColorVar=cc.color(255,255,255,255);this._endColor=cc.color(255,255,255,255);this._endColorVar=cc.color(255,255,255,255);this._plistFile="";this._elapsed=0;this._dontTint=!1;this._pointZeroForParticle=cc.p(0,0);this._particleIdx=this._emitCounter=0;this._batchNode=null;this.atlasIndex=0;this._transformSystemDirty=!1;this._allocatedParticles=
0;this.drawMode=cc.ParticleSystem.SHAPE_MODE;this.shapeType=cc.ParticleSystem.BALL_SHAPE;this._isActive=!1;this._totalParticles=this.emissionRate=this.endSpinVar=this.endSpin=this.startSpinVar=this.startSpin=this.endSizeVar=this.endSize=this.startSizeVar=this.startSize=this.angleVar=this.angle=this.lifeVar=this.life=this.duration=this.particleCount=0;this._texture=null;this._opacityModifyRGB=!1;this.positionType=cc.ParticleSystem.TYPE_FREE;this.autoRemoveOnFinish=!1;this._buffersVBO=[0,0];this._quads=
[];this._indices=[];this._pointRect=cc.rect(0,0,0,0);this._textureLoaded=!0;cc._renderType===cc._RENDER_TYPE_WEBGL&&(this._quadsArrayBuffer=null);!$plistFile_ton$$||cc.isNumber($plistFile_ton$$)?($plistFile_ton$$=$plistFile_ton$$||100,this.setDrawMode(cc.ParticleSystem.TEXTURE_MODE),this.initWithTotalParticles($plistFile_ton$$)):$plistFile_ton$$&&this.initWithFile($plistFile_ton$$)},_initRendererCmd:function(){this._rendererCmd=cc._renderType===cc._RENDER_TYPE_CANVAS?new cc.ParticleRenderCmdCanvas(this):
new cc.ParticleRenderCmdWebGL(this)},initIndices:function(){for(var $locIndices$$=this._indices,$i$$=0,$len$$=this._totalParticles;$i$$<$len$$;++$i$$){var $i6$$=6*$i$$,$i4$$=4*$i$$;$locIndices$$[$i6$$+0]=$i4$$+0;$locIndices$$[$i6$$+1]=$i4$$+1;$locIndices$$[$i6$$+2]=$i4$$+2;$locIndices$$[$i6$$+5]=$i4$$+1;$locIndices$$[$i6$$+4]=$i4$$+2;$locIndices$$[$i6$$+3]=$i4$$+3}},initTexCoordsWithRect:function($left$$10_pointRect$$){var $bottom$$7_scaleFactor$$=cc.contentScaleFactor(),$rect$$50_top$$=cc.rect($left$$10_pointRect$$.x*
$bottom$$7_scaleFactor$$,$left$$10_pointRect$$.y*$bottom$$7_scaleFactor$$,$left$$10_pointRect$$.width*$bottom$$7_scaleFactor$$,$left$$10_pointRect$$.height*$bottom$$7_scaleFactor$$),$right$$=$left$$10_pointRect$$.width,$high_quads$$6_temp$$=$left$$10_pointRect$$.height;this._texture&&($right$$=this._texture.pixelsWidth,$high_quads$$6_temp$$=this._texture.pixelsHeight);if(cc._renderType!==cc._RENDER_TYPE_CANVAS){cc.FIX_ARTIFACTS_BY_STRECHING_TEXEL?($left$$10_pointRect$$=(2*$rect$$50_top$$.x+1)/(2*
$right$$),$bottom$$7_scaleFactor$$=(2*$rect$$50_top$$.y+1)/(2*$high_quads$$6_temp$$),$right$$=$left$$10_pointRect$$+(2*$rect$$50_top$$.width-2)/(2*$right$$),$rect$$50_top$$=$bottom$$7_scaleFactor$$+(2*$rect$$50_top$$.height-2)/(2*$high_quads$$6_temp$$)):($left$$10_pointRect$$=$rect$$50_top$$.x/$right$$,$bottom$$7_scaleFactor$$=$rect$$50_top$$.y/$high_quads$$6_temp$$,$right$$=$left$$10_pointRect$$+$rect$$50_top$$.width/$right$$,$rect$$50_top$$=$bottom$$7_scaleFactor$$+$rect$$50_top$$.height/$high_quads$$6_temp$$);
var $high_quads$$6_temp$$=$rect$$50_top$$,$rect$$50_top$$=$bottom$$7_scaleFactor$$,$bottom$$7_scaleFactor$$=$high_quads$$6_temp$$,$i$$292_start$$=0,$end$$=0;this._batchNode?($high_quads$$6_temp$$=this._batchNode.textureAtlas.quads,$i$$292_start$$=this.atlasIndex,$end$$=this.atlasIndex+this._totalParticles):($high_quads$$6_temp$$=this._quads,$i$$292_start$$=0,$end$$=this._totalParticles);for(;$i$$292_start$$<$end$$;$i$$292_start$$++){$high_quads$$6_temp$$[$i$$292_start$$]||($high_quads$$6_temp$$[$i$$292_start$$]=
cc.V3F_C4B_T2F_QuadZero());var $selQuad$$=$high_quads$$6_temp$$[$i$$292_start$$];$selQuad$$.bl.texCoords.u=$left$$10_pointRect$$;$selQuad$$.bl.texCoords.v=$bottom$$7_scaleFactor$$;$selQuad$$.br.texCoords.u=$right$$;$selQuad$$.br.texCoords.v=$bottom$$7_scaleFactor$$;$selQuad$$.tl.texCoords.u=$left$$10_pointRect$$;$selQuad$$.tl.texCoords.v=$rect$$50_top$$;$selQuad$$.tr.texCoords.u=$right$$;$selQuad$$.tr.texCoords.v=$rect$$50_top$$}}},getBatchNode:function(){return this._batchNode},setBatchNode:function($batchNode$$){if(this._batchNode!=
$batchNode$$){var $oldBatch$$=this._batchNode;if(this._batchNode=$batchNode$$)for(var $locParticles$$=this._particles,$i$$=0;$i$$<this._totalParticles;$i$$++)$locParticles$$[$i$$].atlasIndex=$i$$;$batchNode$$?$oldBatch$$||(this._batchNode.textureAtlas._copyQuadsToTextureAtlas(this._quads,this.atlasIndex),cc._renderContext.deleteBuffer(this._buffersVBO[1])):(this._allocMemory(),this.initIndices(),this.setTexture($oldBatch$$.getTexture()),this._setupVBO())}},getAtlasIndex:function(){return this.atlasIndex},
setAtlasIndex:function($atlasIndex$$){this.atlasIndex=$atlasIndex$$},getDrawMode:function(){return this.drawMode},setDrawMode:function($drawMode$$){this.drawMode=$drawMode$$;this._rendererCmd&&(this._rendererCmd._drawMode=$drawMode$$)},getShapeType:function(){return this.shapeType},setShapeType:function($shapeType$$){this.shapeType=$shapeType$$;this._rendererCmd&&(this._rendererCmd._shapeType=$shapeType$$)},isActive:function(){return this._isActive},getParticleCount:function(){return this.particleCount},
setParticleCount:function($particleCount$$){this.particleCount=$particleCount$$},getDuration:function(){return this.duration},setDuration:function($duration$$){this.duration=$duration$$},getSourcePosition:function(){return{x:this._sourcePosition.x,y:this._sourcePosition.y}},setSourcePosition:function($sourcePosition$$){this._sourcePosition=$sourcePosition$$},getPosVar:function(){return{x:this._posVar.x,y:this._posVar.y}},setPosVar:function($posVar$$){this._posVar=$posVar$$},getLife:function(){return this.life},
setLife:function($life$$){this.life=$life$$},getLifeVar:function(){return this.lifeVar},setLifeVar:function($lifeVar$$){this.lifeVar=$lifeVar$$},getAngle:function(){return this.angle},setAngle:function($angle$$){this.angle=$angle$$},getAngleVar:function(){return this.angleVar},setAngleVar:function($angleVar$$){this.angleVar=$angleVar$$},getGravity:function(){this.emitterMode!==cc.ParticleSystem.MODE_GRAVITY&&cc.log("cc.ParticleBatchNode.getGravity() : Particle Mode should be Gravity");var $locGravity$$=
this.modeA.gravity;return cc.p($locGravity$$.x,$locGravity$$.y)},setGravity:function($gravity$$){this.emitterMode!==cc.ParticleSystem.MODE_GRAVITY&&cc.log("cc.ParticleBatchNode.setGravity() : Particle Mode should be Gravity");this.modeA.gravity=$gravity$$},getSpeed:function(){this.emitterMode!==cc.ParticleSystem.MODE_GRAVITY&&cc.log("cc.ParticleBatchNode.getSpeed() : Particle Mode should be Gravity");return this.modeA.speed},setSpeed:function($speed$$){this.emitterMode!==cc.ParticleSystem.MODE_GRAVITY&&
cc.log("cc.ParticleBatchNode.setSpeed() : Particle Mode should be Gravity");this.modeA.speed=$speed$$},getSpeedVar:function(){this.emitterMode!==cc.ParticleSystem.MODE_GRAVITY&&cc.log("cc.ParticleBatchNode.getSpeedVar() : Particle Mode should be Gravity");return this.modeA.speedVar},setSpeedVar:function($speedVar$$){this.emitterMode!==cc.ParticleSystem.MODE_GRAVITY&&cc.log("cc.ParticleBatchNode.setSpeedVar() : Particle Mode should be Gravity");this.modeA.speedVar=$speedVar$$},getTangentialAccel:function(){this.emitterMode!==
cc.ParticleSystem.MODE_GRAVITY&&cc.log("cc.ParticleBatchNode.getTangentialAccel() : Particle Mode should be Gravity");return this.modeA.tangentialAccel},setTangentialAccel:function($tangentialAccel$$){this.emitterMode!==cc.ParticleSystem.MODE_GRAVITY&&cc.log("cc.ParticleBatchNode.setTangentialAccel() : Particle Mode should be Gravity");this.modeA.tangentialAccel=$tangentialAccel$$},getTangentialAccelVar:function(){this.emitterMode!==cc.ParticleSystem.MODE_GRAVITY&&cc.log("cc.ParticleBatchNode.getTangentialAccelVar() : Particle Mode should be Gravity");
return this.modeA.tangentialAccelVar},setTangentialAccelVar:function($tangentialAccelVar$$){this.emitterMode!==cc.ParticleSystem.MODE_GRAVITY&&cc.log("cc.ParticleBatchNode.setTangentialAccelVar() : Particle Mode should be Gravity");this.modeA.tangentialAccelVar=$tangentialAccelVar$$},getRadialAccel:function(){this.emitterMode!==cc.ParticleSystem.MODE_GRAVITY&&cc.log("cc.ParticleBatchNode.getRadialAccel() : Particle Mode should be Gravity");return this.modeA.radialAccel},setRadialAccel:function($radialAccel$$){this.emitterMode!==
cc.ParticleSystem.MODE_GRAVITY&&cc.log("cc.ParticleBatchNode.setRadialAccel() : Particle Mode should be Gravity");this.modeA.radialAccel=$radialAccel$$},getRadialAccelVar:function(){this.emitterMode!==cc.ParticleSystem.MODE_GRAVITY&&cc.log("cc.ParticleBatchNode.getRadialAccelVar() : Particle Mode should be Gravity");return this.modeA.radialAccelVar},setRadialAccelVar:function($radialAccelVar$$){this.emitterMode!==cc.ParticleSystem.MODE_GRAVITY&&cc.log("cc.ParticleBatchNode.setRadialAccelVar() : Particle Mode should be Gravity");
this.modeA.radialAccelVar=$radialAccelVar$$},getRotationIsDir:function(){this.emitterMode!==cc.ParticleSystem.MODE_GRAVITY&&cc.log("cc.ParticleBatchNode.getRotationIsDir() : Particle Mode should be Gravity");return this.modeA.rotationIsDir},setRotationIsDir:function($t$$){this.emitterMode!==cc.ParticleSystem.MODE_GRAVITY&&cc.log("cc.ParticleBatchNode.setRotationIsDir() : Particle Mode should be Gravity");this.modeA.rotationIsDir=$t$$},getStartRadius:function(){this.emitterMode!==cc.ParticleSystem.MODE_RADIUS&&
cc.log("cc.ParticleBatchNode.getStartRadius() : Particle Mode should be Radius");return this.modeB.startRadius},setStartRadius:function($startRadius$$){this.emitterMode!==cc.ParticleSystem.MODE_RADIUS&&cc.log("cc.ParticleBatchNode.setStartRadius() : Particle Mode should be Radius");this.modeB.startRadius=$startRadius$$},getStartRadiusVar:function(){this.emitterMode!==cc.ParticleSystem.MODE_RADIUS&&cc.log("cc.ParticleBatchNode.getStartRadiusVar() : Particle Mode should be Radius");return this.modeB.startRadiusVar},
setStartRadiusVar:function($startRadiusVar$$){this.emitterMode!==cc.ParticleSystem.MODE_RADIUS&&cc.log("cc.ParticleBatchNode.setStartRadiusVar() : Particle Mode should be Radius");this.modeB.startRadiusVar=$startRadiusVar$$},getEndRadius:function(){this.emitterMode!==cc.ParticleSystem.MODE_RADIUS&&cc.log("cc.ParticleBatchNode.getEndRadius() : Particle Mode should be Radius");return this.modeB.endRadius},setEndRadius:function($endRadius$$){this.emitterMode!==cc.ParticleSystem.MODE_RADIUS&&cc.log("cc.ParticleBatchNode.setEndRadius() : Particle Mode should be Radius");
this.modeB.endRadius=$endRadius$$},getEndRadiusVar:function(){this.emitterMode!==cc.ParticleSystem.MODE_RADIUS&&cc.log("cc.ParticleBatchNode.getEndRadiusVar() : Particle Mode should be Radius");return this.modeB.endRadiusVar},setEndRadiusVar:function($endRadiusVar$$){this.emitterMode!==cc.ParticleSystem.MODE_RADIUS&&cc.log("cc.ParticleBatchNode.setEndRadiusVar() : Particle Mode should be Radius");this.modeB.endRadiusVar=$endRadiusVar$$},getRotatePerSecond:function(){this.emitterMode!==cc.ParticleSystem.MODE_RADIUS&&
cc.log("cc.ParticleBatchNode.getRotatePerSecond() : Particle Mode should be Radius");return this.modeB.rotatePerSecond},setRotatePerSecond:function($degrees$$){this.emitterMode!==cc.ParticleSystem.MODE_RADIUS&&cc.log("cc.ParticleBatchNode.setRotatePerSecond() : Particle Mode should be Radius");this.modeB.rotatePerSecond=$degrees$$},getRotatePerSecondVar:function(){this.emitterMode!==cc.ParticleSystem.MODE_RADIUS&&cc.log("cc.ParticleBatchNode.getRotatePerSecondVar() : Particle Mode should be Radius");
return this.modeB.rotatePerSecondVar},setRotatePerSecondVar:function($degrees$$){this.emitterMode!==cc.ParticleSystem.MODE_RADIUS&&cc.log("cc.ParticleBatchNode.setRotatePerSecondVar() : Particle Mode should be Radius");this.modeB.rotatePerSecondVar=$degrees$$},setScale:function($scale$$,$scaleY$$){this._transformSystemDirty=!0;cc.Node.prototype.setScale.call(this,$scale$$,$scaleY$$)},setRotation:function($newRotation$$){this._transformSystemDirty=!0;cc.Node.prototype.setRotation.call(this,$newRotation$$)},
setScaleX:function($newScaleX$$){this._transformSystemDirty=!0;cc.Node.prototype.setScaleX.call(this,$newScaleX$$)},setScaleY:function($newScaleY$$){this._transformSystemDirty=!0;cc.Node.prototype.setScaleY.call(this,$newScaleY$$)},getStartSize:function(){return this.startSize},setStartSize:function($startSize$$){this.startSize=$startSize$$},getStartSizeVar:function(){return this.startSizeVar},setStartSizeVar:function($startSizeVar$$){this.startSizeVar=$startSizeVar$$},getEndSize:function(){return this.endSize},
setEndSize:function($endSize$$){this.endSize=$endSize$$},getEndSizeVar:function(){return this.endSizeVar},setEndSizeVar:function($endSizeVar$$){this.endSizeVar=$endSizeVar$$},getStartColor:function(){return cc.color(this._startColor.r,this._startColor.g,this._startColor.b,this._startColor.a)},setStartColor:function($startColor$$){this._startColor=cc.color($startColor$$)},getStartColorVar:function(){return cc.color(this._startColorVar.r,this._startColorVar.g,this._startColorVar.b,this._startColorVar.a)},
setStartColorVar:function($startColorVar$$){this._startColorVar=cc.color($startColorVar$$)},getEndColor:function(){return cc.color(this._endColor.r,this._endColor.g,this._endColor.b,this._endColor.a)},setEndColor:function($endColor$$){this._endColor=cc.color($endColor$$)},getEndColorVar:function(){return cc.color(this._endColorVar.r,this._endColorVar.g,this._endColorVar.b,this._endColorVar.a)},setEndColorVar:function($endColorVar$$){this._endColorVar=cc.color($endColorVar$$)},getStartSpin:function(){return this.startSpin},
setStartSpin:function($startSpin$$){this.startSpin=$startSpin$$},getStartSpinVar:function(){return this.startSpinVar},setStartSpinVar:function($startSpinVar$$){this.startSpinVar=$startSpinVar$$},getEndSpin:function(){return this.endSpin},setEndSpin:function($endSpin$$){this.endSpin=$endSpin$$},getEndSpinVar:function(){return this.endSpinVar},setEndSpinVar:function($endSpinVar$$){this.endSpinVar=$endSpinVar$$},getEmissionRate:function(){return this.emissionRate},setEmissionRate:function($emissionRate$$){this.emissionRate=
$emissionRate$$},getTotalParticles:function(){return this._totalParticles},setTotalParticles:function($tp$$){if(cc._renderType===cc._RENDER_TYPE_CANVAS)this._totalParticles=200>$tp$$?$tp$$:200;else{if($tp$$>this._allocatedParticles){var $i$$294_quadSize$$=cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT;this._indices=new Uint16Array(6*$tp$$);var $locQuadsArrayBuffer$$=new ArrayBuffer($tp$$*$i$$294_quadSize$$),$locParticles$$=this._particles;$locParticles$$.length=0;for(var $locQuads$$=this._quads,$j$$=$locQuads$$.length=
0;$j$$<$tp$$;$j$$++)$locParticles$$[$j$$]=new cc.Particle,$locQuads$$[$j$$]=new cc.V3F_C4B_T2F_Quad(null,null,null,null,$locQuadsArrayBuffer$$,$j$$*$i$$294_quadSize$$);this._totalParticles=this._allocatedParticles=$tp$$;if(this._batchNode)for($i$$294_quadSize$$=0;$i$$294_quadSize$$<$tp$$;$i$$294_quadSize$$++)$locParticles$$[$i$$294_quadSize$$].atlasIndex=$i$$294_quadSize$$;this._quadsArrayBuffer=$locQuadsArrayBuffer$$;this.initIndices();this._setupVBO();this._texture&&this.initTexCoordsWithRect(cc.rect(0,
0,this._texture.width,this._texture.height))}else this._totalParticles=$tp$$;this.resetSystem()}},getTexture:function(){return this._texture},setTexture:function($texture$$){$texture$$.isLoaded()?this.setTextureWithRect($texture$$,cc.rect(0,0,$texture$$.width,$texture$$.height)):(this._textureLoaded=!1,$texture$$.addEventListener("load",function($sender$$){this._textureLoaded=!0;this.setTextureWithRect($sender$$,cc.rect(0,0,$sender$$.width,$sender$$.height))},this))},getBlendFunc:function(){return this._blendFunc},
setBlendFunc:function($src$$,$dst$$){if(void 0===$dst$$)this._blendFunc!=$src$$&&(this._blendFunc=$src$$,this._updateBlendFunc());else if(this._blendFunc.src!=$src$$||this._blendFunc.dst!=$dst$$)this._blendFunc={src:$src$$,dst:$dst$$},this._updateBlendFunc()},isOpacityModifyRGB:function(){return this._opacityModifyRGB},setOpacityModifyRGB:function($newValue$$){this._opacityModifyRGB=$newValue$$},isBlendAdditive:function(){return this._blendFunc.src==cc.SRC_ALPHA&&this._blendFunc.dst==cc.ONE||this._blendFunc.src==
cc.ONE&&this._blendFunc.dst==cc.ONE},setBlendAdditive:function($isBlendAdditive$$){var $locBlendFunc$$=this._blendFunc;$isBlendAdditive$$?($locBlendFunc$$.src=cc.SRC_ALPHA,$locBlendFunc$$.dst=cc.ONE):cc._renderType===cc._RENDER_TYPE_WEBGL?this._texture&&!this._texture.hasPremultipliedAlpha()?($locBlendFunc$$.src=cc.SRC_ALPHA,$locBlendFunc$$.dst=cc.ONE_MINUS_SRC_ALPHA):($locBlendFunc$$.src=cc.BLEND_SRC,$locBlendFunc$$.dst=cc.BLEND_DST):($locBlendFunc$$.src=cc.BLEND_SRC,$locBlendFunc$$.dst=cc.BLEND_DST)},
getPositionType:function(){return this.positionType},setPositionType:function($positionType$$){this.positionType=$positionType$$},isAutoRemoveOnFinish:function(){return this.autoRemoveOnFinish},setAutoRemoveOnFinish:function($isAutoRemoveOnFinish$$){this.autoRemoveOnFinish=$isAutoRemoveOnFinish$$},getEmitterMode:function(){return this.emitterMode},setEmitterMode:function($emitterMode$$){this.emitterMode=$emitterMode$$},init:function(){return this.initWithTotalParticles(150)},initWithFile:function($dict$$6_plistFile$$){this._plistFile=
$dict$$6_plistFile$$;$dict$$6_plistFile$$=cc.loader.getRes($dict$$6_plistFile$$);return $dict$$6_plistFile$$?this.initWithDictionary($dict$$6_plistFile$$,""):(cc.log("cc.ParticleSystem.initWithFile(): Particles: file not found"),!1)},getBoundingBoxToWorld:function(){return cc.rect(0,0,cc._canvas.width,cc._canvas.height)},initWithDictionary:function($dictionary$$,$dirname$$){var $imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$=!1,$addTexture_buffer$$=
null,$addTexture_buffer$$=this._valueForKey,$imageFormat_locRotationIsDir_maxParticles_pszTmp_tex$$=parseInt($addTexture_buffer$$("maxParticles",$dictionary$$));if(this.initWithTotalParticles($imageFormat_locRotationIsDir_maxParticles_pszTmp_tex$$)){this.angle=parseFloat($addTexture_buffer$$("angle",$dictionary$$));this.angleVar=parseFloat($addTexture_buffer$$("angleVariance",$dictionary$$));this.duration=parseFloat($addTexture_buffer$$("duration",$dictionary$$));this._blendFunc.src=parseInt($addTexture_buffer$$("blendFuncSource",
$dictionary$$));this._blendFunc.dst=parseInt($addTexture_buffer$$("blendFuncDestination",$dictionary$$));$imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$=this._startColor;$imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$.r=255*parseFloat($addTexture_buffer$$("startColorRed",$dictionary$$));$imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$.g=255*parseFloat($addTexture_buffer$$("startColorGreen",
$dictionary$$));$imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$.b=255*parseFloat($addTexture_buffer$$("startColorBlue",$dictionary$$));$imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$.a=255*parseFloat($addTexture_buffer$$("startColorAlpha",$dictionary$$));$imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$=this._startColorVar;$imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$.r=
255*parseFloat($addTexture_buffer$$("startColorVarianceRed",$dictionary$$));$imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$.g=255*parseFloat($addTexture_buffer$$("startColorVarianceGreen",$dictionary$$));$imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$.b=255*parseFloat($addTexture_buffer$$("startColorVarianceBlue",$dictionary$$));$imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$.a=
255*parseFloat($addTexture_buffer$$("startColorVarianceAlpha",$dictionary$$));$imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$=this._endColor;$imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$.r=255*parseFloat($addTexture_buffer$$("finishColorRed",$dictionary$$));$imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$.g=255*parseFloat($addTexture_buffer$$("finishColorGreen",
$dictionary$$));$imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$.b=255*parseFloat($addTexture_buffer$$("finishColorBlue",$dictionary$$));$imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$.a=255*parseFloat($addTexture_buffer$$("finishColorAlpha",$dictionary$$));$imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$=this._endColorVar;$imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$.r=
255*parseFloat($addTexture_buffer$$("finishColorVarianceRed",$dictionary$$));$imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$.g=255*parseFloat($addTexture_buffer$$("finishColorVarianceGreen",$dictionary$$));$imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$.b=255*parseFloat($addTexture_buffer$$("finishColorVarianceBlue",$dictionary$$));$imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$.a=
255*parseFloat($addTexture_buffer$$("finishColorVarianceAlpha",$dictionary$$));this.startSize=parseFloat($addTexture_buffer$$("startParticleSize",$dictionary$$));this.startSizeVar=parseFloat($addTexture_buffer$$("startParticleSizeVariance",$dictionary$$));this.endSize=parseFloat($addTexture_buffer$$("finishParticleSize",$dictionary$$));this.endSizeVar=parseFloat($addTexture_buffer$$("finishParticleSizeVariance",$dictionary$$));this.setPosition(parseFloat($addTexture_buffer$$("sourcePositionx",$dictionary$$)),
parseFloat($addTexture_buffer$$("sourcePositiony",$dictionary$$)));this._posVar.x=parseFloat($addTexture_buffer$$("sourcePositionVariancex",$dictionary$$));this._posVar.y=parseFloat($addTexture_buffer$$("sourcePositionVariancey",$dictionary$$));this.startSpin=parseFloat($addTexture_buffer$$("rotationStart",$dictionary$$));this.startSpinVar=parseFloat($addTexture_buffer$$("rotationStartVariance",$dictionary$$));this.endSpin=parseFloat($addTexture_buffer$$("rotationEnd",$dictionary$$));this.endSpinVar=
parseFloat($addTexture_buffer$$("rotationEndVariance",$dictionary$$));this.emitterMode=parseInt($addTexture_buffer$$("emitterType",$dictionary$$));if(this.emitterMode==cc.ParticleSystem.MODE_GRAVITY)$imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$=this.modeA,$imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$.gravity.x=parseFloat($addTexture_buffer$$("gravityx",$dictionary$$)),$imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$.gravity.y=
parseFloat($addTexture_buffer$$("gravityy",$dictionary$$)),$imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$.speed=parseFloat($addTexture_buffer$$("speed",$dictionary$$)),$imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$.speedVar=parseFloat($addTexture_buffer$$("speedVariance",$dictionary$$)),$imageFormat_locRotationIsDir_maxParticles_pszTmp_tex$$=$addTexture_buffer$$("radialAcceleration",$dictionary$$),
$imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$.radialAccel=$imageFormat_locRotationIsDir_maxParticles_pszTmp_tex$$?parseFloat($imageFormat_locRotationIsDir_maxParticles_pszTmp_tex$$):0,$imageFormat_locRotationIsDir_maxParticles_pszTmp_tex$$=$addTexture_buffer$$("radialAccelVariance",$dictionary$$),$imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$.radialAccelVar=$imageFormat_locRotationIsDir_maxParticles_pszTmp_tex$$?
parseFloat($imageFormat_locRotationIsDir_maxParticles_pszTmp_tex$$):0,$imageFormat_locRotationIsDir_maxParticles_pszTmp_tex$$=$addTexture_buffer$$("tangentialAcceleration",$dictionary$$),$imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$.tangentialAccel=$imageFormat_locRotationIsDir_maxParticles_pszTmp_tex$$?parseFloat($imageFormat_locRotationIsDir_maxParticles_pszTmp_tex$$):0,$imageFormat_locRotationIsDir_maxParticles_pszTmp_tex$$=$addTexture_buffer$$("tangentialAccelVariance",
$dictionary$$),$imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$.tangentialAccelVar=$imageFormat_locRotationIsDir_maxParticles_pszTmp_tex$$?parseFloat($imageFormat_locRotationIsDir_maxParticles_pszTmp_tex$$):0,$imageFormat_locRotationIsDir_maxParticles_pszTmp_tex$$=$addTexture_buffer$$("rotationIsDir",$dictionary$$).toLowerCase(),$imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$.rotationIsDir=null!=$imageFormat_locRotationIsDir_maxParticles_pszTmp_tex$$&&
("true"===$imageFormat_locRotationIsDir_maxParticles_pszTmp_tex$$||"1"===$imageFormat_locRotationIsDir_maxParticles_pszTmp_tex$$);else if(this.emitterMode==cc.ParticleSystem.MODE_RADIUS)$imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$=this.modeB,$imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$.startRadius=parseFloat($addTexture_buffer$$("maxRadius",$dictionary$$)),$imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$.startRadiusVar=
parseFloat($addTexture_buffer$$("maxRadiusVariance",$dictionary$$)),$imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$.endRadius=parseFloat($addTexture_buffer$$("minRadius",$dictionary$$)),$imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$.endRadiusVar=0,$imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$.rotatePerSecond=parseFloat($addTexture_buffer$$("rotatePerSecond",
$dictionary$$)),$imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$.rotatePerSecondVar=parseFloat($addTexture_buffer$$("rotatePerSecondVariance",$dictionary$$));else return cc.log("cc.ParticleSystem.initWithDictionary(): Invalid emitterType in config file"),!1;this.life=parseFloat($addTexture_buffer$$("particleLifespan",$dictionary$$));this.lifeVar=parseFloat($addTexture_buffer$$("particleLifespanVariance",$dictionary$$));this.emissionRate=this._totalParticles/
this.life;if(!this._batchNode)if(this._opacityModifyRGB=!1,$imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$=$addTexture_buffer$$("textureFileName",$dictionary$$),$imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$=cc.path.changeBasename(this._plistFile,$imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$),$imageFormat_locRotationIsDir_maxParticles_pszTmp_tex$$=cc.textureCache.getTextureForKey($imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$))this.setTexture($imageFormat_locRotationIsDir_maxParticles_pszTmp_tex$$);
else if(($addTexture_buffer$$=$addTexture_buffer$$("textureImageData",$dictionary$$))&&0!==$addTexture_buffer$$.length){$addTexture_buffer$$=cc.unzipBase64AsArray($addTexture_buffer$$,1);if(!$addTexture_buffer$$)return cc.log("cc.ParticleSystem: error decoding or ungzipping textureImageData"),!1;$imageFormat_locRotationIsDir_maxParticles_pszTmp_tex$$=cc.getImageFormatByData($addTexture_buffer$$);if($imageFormat_locRotationIsDir_maxParticles_pszTmp_tex$$!==cc.FMT_TIFF&&$imageFormat_locRotationIsDir_maxParticles_pszTmp_tex$$!==
cc.FMT_PNG)return cc.log("cc.ParticleSystem: unknown image format with Data"),!1;var $canvasObj$$=cc.newElement("canvas");$imageFormat_locRotationIsDir_maxParticles_pszTmp_tex$$===cc.FMT_PNG?(new cc.PNGReader($addTexture_buffer$$)).render($canvasObj$$):cc.tiffReader.parseTIFF($addTexture_buffer$$,$canvasObj$$);cc.textureCache.cacheImage($imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$,$canvasObj$$);($addTexture_buffer$$=cc.textureCache.getTextureForKey($imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$))||
cc.log("cc.ParticleSystem.initWithDictionary() : error loading the texture");this.setTexture($addTexture_buffer$$)}else{$imageFormat_locRotationIsDir_maxParticles_pszTmp_tex$$=cc.textureCache.addImage($imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$);if(!$imageFormat_locRotationIsDir_maxParticles_pszTmp_tex$$)return!1;this.setTexture($imageFormat_locRotationIsDir_maxParticles_pszTmp_tex$$)}$imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$=
!0}return $imgPath_locEndColor$$3_locEndColorVar_locModeA_locModeB_locStartColor$$1_locStartColorVar_ret$$},initWithTotalParticles:function($numberOfParticles$$){this._totalParticles=$numberOfParticles$$;var $i$$,$locParticles$$=this._particles;for($i$$=$locParticles$$.length=0;$i$$<$numberOfParticles$$;$i$$++)$locParticles$$[$i$$]=new cc.Particle;if(!$locParticles$$)return cc.log("Particle system: not enough memory"),!1;this._allocatedParticles=$numberOfParticles$$;if(this._batchNode)for($i$$=0;$i$$<
this._totalParticles;$i$$++)$locParticles$$[$i$$].atlasIndex=$i$$;this._isActive=!0;this._blendFunc.src=cc.BLEND_SRC;this._blendFunc.dst=cc.BLEND_DST;this.positionType=cc.ParticleSystem.TYPE_FREE;this.emitterMode=cc.ParticleSystem.MODE_GRAVITY;this._transformSystemDirty=this.autoRemoveOnFinish=!1;this.scheduleUpdateWithPriority(1);if(cc._renderType===cc._RENDER_TYPE_WEBGL){if(!this._allocMemory())return!1;this.initIndices();this._setupVBO();this.shaderProgram=cc.shaderCache.programForKey(cc.SHADER_POSITION_TEXTURECOLOR)}return!0},
destroyParticleSystem:function(){this.unscheduleUpdate()},addParticle:function(){if(this.isFull())return!1;var $particle$$,$particles$$=this._particles;cc._renderType===cc._RENDER_TYPE_CANVAS?this.particleCount<$particles$$.length?$particle$$=$particles$$[this.particleCount]:($particle$$=new cc.Particle,$particles$$.push($particle$$)):$particle$$=$particles$$[this.particleCount];this.initParticle($particle$$);++this.particleCount;return!0},initParticle:function($locParitlceModeB_particle$$){var $locRandomMinus11$$=
cc.randomMinus1To1;$locParitlceModeB_particle$$.timeToLive=this.life+this.lifeVar*$locRandomMinus11$$();$locParitlceModeB_particle$$.timeToLive=Math.max(0,$locParitlceModeB_particle$$.timeToLive);$locParitlceModeB_particle$$.pos.x=this._sourcePosition.x+this._posVar.x*$locRandomMinus11$$();$locParitlceModeB_particle$$.pos.y=this._sourcePosition.y+this._posVar.y*$locRandomMinus11$$();var $a$$89_locStartColor$$2_start$$,$end$$7_endA_endS_locEndColorVar$$1_locModeB$$;$a$$89_locStartColor$$2_start$$=
this._startColor;var $locParticleDeltaColor_locStartColorVar$$1_s$$29_startRadius$$=this._startColorVar,$locEndColor$$4_locModeA$$=this._endColor;$end$$7_endA_endS_locEndColorVar$$1_locModeB$$=this._endColorVar;cc._renderType===cc._RENDER_TYPE_CANVAS?($a$$89_locStartColor$$2_start$$=cc.color(cc.clampf($a$$89_locStartColor$$2_start$$.r+$locParticleDeltaColor_locStartColorVar$$1_s$$29_startRadius$$.r*$locRandomMinus11$$(),0,255),cc.clampf($a$$89_locStartColor$$2_start$$.g+$locParticleDeltaColor_locStartColorVar$$1_s$$29_startRadius$$.g*
$locRandomMinus11$$(),0,255),cc.clampf($a$$89_locStartColor$$2_start$$.b+$locParticleDeltaColor_locStartColorVar$$1_s$$29_startRadius$$.b*$locRandomMinus11$$(),0,255),cc.clampf($a$$89_locStartColor$$2_start$$.a+$locParticleDeltaColor_locStartColorVar$$1_s$$29_startRadius$$.a*$locRandomMinus11$$(),0,255)),$end$$7_endA_endS_locEndColorVar$$1_locModeB$$=cc.color(cc.clampf($locEndColor$$4_locModeA$$.r+$end$$7_endA_endS_locEndColorVar$$1_locModeB$$.r*$locRandomMinus11$$(),0,255),cc.clampf($locEndColor$$4_locModeA$$.g+
$end$$7_endA_endS_locEndColorVar$$1_locModeB$$.g*$locRandomMinus11$$(),0,255),cc.clampf($locEndColor$$4_locModeA$$.b+$end$$7_endA_endS_locEndColorVar$$1_locModeB$$.b*$locRandomMinus11$$(),0,255),cc.clampf($locEndColor$$4_locModeA$$.a+$end$$7_endA_endS_locEndColorVar$$1_locModeB$$.a*$locRandomMinus11$$(),0,255))):($a$$89_locStartColor$$2_start$$={r:cc.clampf($a$$89_locStartColor$$2_start$$.r+$locParticleDeltaColor_locStartColorVar$$1_s$$29_startRadius$$.r*$locRandomMinus11$$(),0,255),g:cc.clampf($a$$89_locStartColor$$2_start$$.g+
$locParticleDeltaColor_locStartColorVar$$1_s$$29_startRadius$$.g*$locRandomMinus11$$(),0,255),b:cc.clampf($a$$89_locStartColor$$2_start$$.b+$locParticleDeltaColor_locStartColorVar$$1_s$$29_startRadius$$.b*$locRandomMinus11$$(),0,255),a:cc.clampf($a$$89_locStartColor$$2_start$$.a+$locParticleDeltaColor_locStartColorVar$$1_s$$29_startRadius$$.a*$locRandomMinus11$$(),0,255)},$end$$7_endA_endS_locEndColorVar$$1_locModeB$$={r:cc.clampf($locEndColor$$4_locModeA$$.r+$end$$7_endA_endS_locEndColorVar$$1_locModeB$$.r*
$locRandomMinus11$$(),0,255),g:cc.clampf($locEndColor$$4_locModeA$$.g+$end$$7_endA_endS_locEndColorVar$$1_locModeB$$.g*$locRandomMinus11$$(),0,255),b:cc.clampf($locEndColor$$4_locModeA$$.b+$end$$7_endA_endS_locEndColorVar$$1_locModeB$$.b*$locRandomMinus11$$(),0,255),a:cc.clampf($locEndColor$$4_locModeA$$.a+$end$$7_endA_endS_locEndColorVar$$1_locModeB$$.a*$locRandomMinus11$$(),0,255)});$locParitlceModeB_particle$$.color=$a$$89_locStartColor$$2_start$$;$locParticleDeltaColor_locStartColorVar$$1_s$$29_startRadius$$=
$locParitlceModeB_particle$$.deltaColor;$locEndColor$$4_locModeA$$=$locParitlceModeB_particle$$.timeToLive;$locParticleDeltaColor_locStartColorVar$$1_s$$29_startRadius$$.r=($end$$7_endA_endS_locEndColorVar$$1_locModeB$$.r-$a$$89_locStartColor$$2_start$$.r)/$locEndColor$$4_locModeA$$;$locParticleDeltaColor_locStartColorVar$$1_s$$29_startRadius$$.g=($end$$7_endA_endS_locEndColorVar$$1_locModeB$$.g-$a$$89_locStartColor$$2_start$$.g)/$locEndColor$$4_locModeA$$;$locParticleDeltaColor_locStartColorVar$$1_s$$29_startRadius$$.b=
($end$$7_endA_endS_locEndColorVar$$1_locModeB$$.b-$a$$89_locStartColor$$2_start$$.b)/$locEndColor$$4_locModeA$$;$locParticleDeltaColor_locStartColorVar$$1_s$$29_startRadius$$.a=($end$$7_endA_endS_locEndColorVar$$1_locModeB$$.a-$a$$89_locStartColor$$2_start$$.a)/$locEndColor$$4_locModeA$$;$a$$89_locStartColor$$2_start$$=this.startSize+this.startSizeVar*$locRandomMinus11$$();$a$$89_locStartColor$$2_start$$=Math.max(0,$a$$89_locStartColor$$2_start$$);$locParitlceModeB_particle$$.size=$a$$89_locStartColor$$2_start$$;
this.endSize===cc.ParticleSystem.START_SIZE_EQUAL_TO_END_SIZE?$locParitlceModeB_particle$$.deltaSize=0:($end$$7_endA_endS_locEndColorVar$$1_locModeB$$=this.endSize+this.endSizeVar*$locRandomMinus11$$(),$end$$7_endA_endS_locEndColorVar$$1_locModeB$$=Math.max(0,$end$$7_endA_endS_locEndColorVar$$1_locModeB$$),$locParitlceModeB_particle$$.deltaSize=($end$$7_endA_endS_locEndColorVar$$1_locModeB$$-$a$$89_locStartColor$$2_start$$)/$locEndColor$$4_locModeA$$);$a$$89_locStartColor$$2_start$$=this.startSpin+
this.startSpinVar*$locRandomMinus11$$();$end$$7_endA_endS_locEndColorVar$$1_locModeB$$=this.endSpin+this.endSpinVar*$locRandomMinus11$$();$locParitlceModeB_particle$$.rotation=$a$$89_locStartColor$$2_start$$;$locParitlceModeB_particle$$.deltaRotation=($end$$7_endA_endS_locEndColorVar$$1_locModeB$$-$a$$89_locStartColor$$2_start$$)/$locEndColor$$4_locModeA$$;this.positionType==cc.ParticleSystem.TYPE_FREE?$locParitlceModeB_particle$$.startPos=this.convertToWorldSpace(this._pointZeroForParticle):this.positionType==
cc.ParticleSystem.TYPE_RELATIVE&&($locParitlceModeB_particle$$.startPos.x=this._position.x,$locParitlceModeB_particle$$.startPos.y=this._position.y);$a$$89_locStartColor$$2_start$$=cc.degreesToRadians(this.angle+this.angleVar*$locRandomMinus11$$());if(this.emitterMode===cc.ParticleSystem.MODE_GRAVITY)$locEndColor$$4_locModeA$$=this.modeA,$end$$7_endA_endS_locEndColorVar$$1_locModeB$$=$locParitlceModeB_particle$$.modeA,$locParticleDeltaColor_locStartColorVar$$1_s$$29_startRadius$$=$locEndColor$$4_locModeA$$.speed+
$locEndColor$$4_locModeA$$.speedVar*$locRandomMinus11$$(),$end$$7_endA_endS_locEndColorVar$$1_locModeB$$.dir.x=Math.cos($a$$89_locStartColor$$2_start$$),$end$$7_endA_endS_locEndColorVar$$1_locModeB$$.dir.y=Math.sin($a$$89_locStartColor$$2_start$$),cc.pMultIn($end$$7_endA_endS_locEndColorVar$$1_locModeB$$.dir,$locParticleDeltaColor_locStartColorVar$$1_s$$29_startRadius$$),$end$$7_endA_endS_locEndColorVar$$1_locModeB$$.radialAccel=$locEndColor$$4_locModeA$$.radialAccel+$locEndColor$$4_locModeA$$.radialAccelVar*
$locRandomMinus11$$(),$end$$7_endA_endS_locEndColorVar$$1_locModeB$$.tangentialAccel=$locEndColor$$4_locModeA$$.tangentialAccel+$locEndColor$$4_locModeA$$.tangentialAccelVar*$locRandomMinus11$$(),$locEndColor$$4_locModeA$$.rotationIsDir&&($locParitlceModeB_particle$$.rotation=-cc.radiansToDegrees(cc.pToAngle($end$$7_endA_endS_locEndColorVar$$1_locModeB$$.dir)));else{$end$$7_endA_endS_locEndColorVar$$1_locModeB$$=this.modeB;$locParitlceModeB_particle$$=$locParitlceModeB_particle$$.modeB;var $locParticleDeltaColor_locStartColorVar$$1_s$$29_startRadius$$=
$end$$7_endA_endS_locEndColorVar$$1_locModeB$$.startRadius+$end$$7_endA_endS_locEndColorVar$$1_locModeB$$.startRadiusVar*$locRandomMinus11$$(),$endRadius$$=$end$$7_endA_endS_locEndColorVar$$1_locModeB$$.endRadius+$end$$7_endA_endS_locEndColorVar$$1_locModeB$$.endRadiusVar*$locRandomMinus11$$();$locParitlceModeB_particle$$.radius=$locParticleDeltaColor_locStartColorVar$$1_s$$29_startRadius$$;$locParitlceModeB_particle$$.deltaRadius=$end$$7_endA_endS_locEndColorVar$$1_locModeB$$.endRadius===cc.ParticleSystem.START_RADIUS_EQUAL_TO_END_RADIUS?
0:($endRadius$$-$locParticleDeltaColor_locStartColorVar$$1_s$$29_startRadius$$)/$locEndColor$$4_locModeA$$;$locParitlceModeB_particle$$.angle=$a$$89_locStartColor$$2_start$$;$locParitlceModeB_particle$$.degreesPerSecond=cc.degreesToRadians($end$$7_endA_endS_locEndColorVar$$1_locModeB$$.rotatePerSecond+$end$$7_endA_endS_locEndColorVar$$1_locModeB$$.rotatePerSecondVar*$locRandomMinus11$$())}},stopSystem:function(){this._isActive=!1;this._elapsed=this.duration;this._emitCounter=0},resetSystem:function(){this._isActive=
!0;this._elapsed=0;var $locParticles$$=this._particles;for(this._particleIdx=0;this._particleIdx<this.particleCount;++this._particleIdx)$locParticles$$[this._particleIdx].timeToLive=0},isFull:function(){return this.particleCount>=this._totalParticles},updateQuadWithParticle:function($particle$$,$newPosition$$){var $quad$$=null;this._batchNode?($quad$$=this._batchNode.textureAtlas.quads[this.atlasIndex+$particle$$.atlasIndex],this._batchNode.textureAtlas.dirty=!0):$quad$$=this._quads[this._particleIdx];
var $r$$,$g$$31_x1$$,$b$$63_y1$$,$a$$90_x$$;this._opacityModifyRGB?($r$$=0|$particle$$.color.r*$particle$$.color.a/255,$g$$31_x1$$=0|$particle$$.color.g*$particle$$.color.a/255,$b$$63_y1$$=0|$particle$$.color.b*$particle$$.color.a/255):($r$$=0|$particle$$.color.r,$g$$31_x1$$=0|$particle$$.color.g,$b$$63_y1$$=0|$particle$$.color.b);$a$$90_x$$=0|$particle$$.color.a;var $locColors$$2_y$$=$quad$$.bl.colors;$locColors$$2_y$$.r=$r$$;$locColors$$2_y$$.g=$g$$31_x1$$;$locColors$$2_y$$.b=$b$$63_y1$$;$locColors$$2_y$$.a=
$a$$90_x$$;$locColors$$2_y$$=$quad$$.br.colors;$locColors$$2_y$$.r=$r$$;$locColors$$2_y$$.g=$g$$31_x1$$;$locColors$$2_y$$.b=$b$$63_y1$$;$locColors$$2_y$$.a=$a$$90_x$$;$locColors$$2_y$$=$quad$$.tl.colors;$locColors$$2_y$$.r=$r$$;$locColors$$2_y$$.g=$g$$31_x1$$;$locColors$$2_y$$.b=$b$$63_y1$$;$locColors$$2_y$$.a=$a$$90_x$$;$locColors$$2_y$$=$quad$$.tr.colors;$locColors$$2_y$$.r=$r$$;$locColors$$2_y$$.g=$g$$31_x1$$;$locColors$$2_y$$.b=$b$$63_y1$$;$locColors$$2_y$$.a=$a$$90_x$$;$r$$=$particle$$.size/
2;if($particle$$.rotation){$g$$31_x1$$=-$r$$;$b$$63_y1$$=-$r$$;$a$$90_x$$=$newPosition$$.x;var $locColors$$2_y$$=$newPosition$$.y,$rad$$1_sr$$=-cc.degreesToRadians($particle$$.rotation),$cr$$=Math.cos($rad$$1_sr$$),$rad$$1_sr$$=Math.sin($rad$$1_sr$$);$quad$$.bl.vertices.x=$g$$31_x1$$*$cr$$-$b$$63_y1$$*$rad$$1_sr$$+$a$$90_x$$;$quad$$.bl.vertices.y=$g$$31_x1$$*$rad$$1_sr$$+$b$$63_y1$$*$cr$$+$locColors$$2_y$$;$quad$$.br.vertices.x=$r$$*$cr$$-$b$$63_y1$$*$rad$$1_sr$$+$a$$90_x$$;$quad$$.br.vertices.y=
$r$$*$rad$$1_sr$$+$b$$63_y1$$*$cr$$+$locColors$$2_y$$;$quad$$.tl.vertices.x=$g$$31_x1$$*$cr$$-$r$$*$rad$$1_sr$$+$a$$90_x$$;$quad$$.tl.vertices.y=$g$$31_x1$$*$rad$$1_sr$$+$r$$*$cr$$+$locColors$$2_y$$;$quad$$.tr.vertices.x=$r$$*$cr$$-$r$$*$rad$$1_sr$$+$a$$90_x$$;$quad$$.tr.vertices.y=$r$$*$rad$$1_sr$$+$r$$*$cr$$+$locColors$$2_y$$}else $quad$$.bl.vertices.x=$newPosition$$.x-$r$$,$quad$$.bl.vertices.y=$newPosition$$.y-$r$$,$quad$$.br.vertices.x=$newPosition$$.x+$r$$,$quad$$.br.vertices.y=$newPosition$$.y-
$r$$,$quad$$.tl.vertices.x=$newPosition$$.x-$r$$,$quad$$.tl.vertices.y=$newPosition$$.y+$r$$,$quad$$.tr.vertices.x=$newPosition$$.x+$r$$,$quad$$.tr.vertices.y=$newPosition$$.y+$r$$},postStep:function(){if(cc._renderType===cc._RENDER_TYPE_WEBGL){var $gl$$=cc._renderContext;$gl$$.bindBuffer($gl$$.ARRAY_BUFFER,this._buffersVBO[0]);$gl$$.bufferData($gl$$.ARRAY_BUFFER,this._quadsArrayBuffer,$gl$$.DYNAMIC_DRAW)}},update:function($dt$$){if(this._isActive&&this.emissionRate){var $currentPosition_rate$$=1/
this.emissionRate;this.particleCount<this._totalParticles&&(this._emitCounter+=$dt$$);for(;this.particleCount<this._totalParticles&&this._emitCounter>$currentPosition_rate$$;)this.addParticle(),this._emitCounter-=$currentPosition_rate$$;this._elapsed+=$dt$$;-1!=this.duration&&this.duration<this._elapsed&&this.stopSystem()}this._particleIdx=0;$currentPosition_rate$$=cc.Particle.TemporaryPoints[0];this.positionType==cc.ParticleSystem.TYPE_FREE?cc.pIn($currentPosition_rate$$,this.convertToWorldSpace(this._pointZeroForParticle)):
this.positionType==cc.ParticleSystem.TYPE_RELATIVE&&($currentPosition_rate$$.x=this._position.x,$currentPosition_rate$$.y=this._position.y);if(this._visible){for(var $tpa$$=cc.Particle.TemporaryPoints[1],$tpb$$=cc.Particle.TemporaryPoints[2],$tpc$$=cc.Particle.TemporaryPoints[3],$locParticles$$=this._particles;this._particleIdx<this.particleCount;){cc.pZeroIn($tpa$$);cc.pZeroIn($tpb$$);cc.pZeroIn($tpc$$);var $currentIndex_selParticle$$=$locParticles$$[this._particleIdx];$currentIndex_selParticle$$.timeToLive-=
$dt$$;if(0<$currentIndex_selParticle$$.timeToLive){if(this.emitterMode==cc.ParticleSystem.MODE_GRAVITY){var $deadParticle_newPos$$7_selModeB_tmp$$=$tpc$$,$diff$$=$tpa$$,$tangential$$=$tpb$$;$currentIndex_selParticle$$.pos.x||$currentIndex_selParticle$$.pos.y?(cc.pIn($diff$$,$currentIndex_selParticle$$.pos),cc.pNormalizeIn($diff$$)):cc.pZeroIn($diff$$);cc.pIn($tangential$$,$diff$$);cc.pMultIn($diff$$,$currentIndex_selParticle$$.modeA.radialAccel);var $newy$$=$tangential$$.x;$tangential$$.x=-$tangential$$.y;
$tangential$$.y=$newy$$;cc.pMultIn($tangential$$,$currentIndex_selParticle$$.modeA.tangentialAccel);cc.pIn($deadParticle_newPos$$7_selModeB_tmp$$,$diff$$);cc.pAddIn($deadParticle_newPos$$7_selModeB_tmp$$,$tangential$$);cc.pAddIn($deadParticle_newPos$$7_selModeB_tmp$$,this.modeA.gravity);cc.pMultIn($deadParticle_newPos$$7_selModeB_tmp$$,$dt$$);cc.pAddIn($currentIndex_selParticle$$.modeA.dir,$deadParticle_newPos$$7_selModeB_tmp$$);cc.pIn($deadParticle_newPos$$7_selModeB_tmp$$,$currentIndex_selParticle$$.modeA.dir);
cc.pMultIn($deadParticle_newPos$$7_selModeB_tmp$$,$dt$$);cc.pAddIn($currentIndex_selParticle$$.pos,$deadParticle_newPos$$7_selModeB_tmp$$)}else $deadParticle_newPos$$7_selModeB_tmp$$=$currentIndex_selParticle$$.modeB,$deadParticle_newPos$$7_selModeB_tmp$$.angle+=$deadParticle_newPos$$7_selModeB_tmp$$.degreesPerSecond*$dt$$,$deadParticle_newPos$$7_selModeB_tmp$$.radius+=$deadParticle_newPos$$7_selModeB_tmp$$.deltaRadius*$dt$$,$currentIndex_selParticle$$.pos.x=-Math.cos($deadParticle_newPos$$7_selModeB_tmp$$.angle)*
$deadParticle_newPos$$7_selModeB_tmp$$.radius,$currentIndex_selParticle$$.pos.y=-Math.sin($deadParticle_newPos$$7_selModeB_tmp$$.angle)*$deadParticle_newPos$$7_selModeB_tmp$$.radius;this._dontTint&&cc._renderType!==cc._RENDER_TYPE_WEBGL||($currentIndex_selParticle$$.color.r+=$currentIndex_selParticle$$.deltaColor.r*$dt$$,$currentIndex_selParticle$$.color.g+=$currentIndex_selParticle$$.deltaColor.g*$dt$$,$currentIndex_selParticle$$.color.b+=$currentIndex_selParticle$$.deltaColor.b*$dt$$,$currentIndex_selParticle$$.color.a+=
$currentIndex_selParticle$$.deltaColor.a*$dt$$,$currentIndex_selParticle$$.isChangeColor=!0);$currentIndex_selParticle$$.size+=$currentIndex_selParticle$$.deltaSize*$dt$$;$currentIndex_selParticle$$.size=Math.max(0,$currentIndex_selParticle$$.size);$currentIndex_selParticle$$.rotation+=$currentIndex_selParticle$$.deltaRotation*$dt$$;$deadParticle_newPos$$7_selModeB_tmp$$=$tpa$$;this.positionType==cc.ParticleSystem.TYPE_FREE||this.positionType==cc.ParticleSystem.TYPE_RELATIVE?($diff$$=$tpb$$,cc.pIn($diff$$,
$currentPosition_rate$$),cc.pSubIn($diff$$,$currentIndex_selParticle$$.startPos),cc.pIn($deadParticle_newPos$$7_selModeB_tmp$$,$currentIndex_selParticle$$.pos),cc.pSubIn($deadParticle_newPos$$7_selModeB_tmp$$,$diff$$)):cc.pIn($deadParticle_newPos$$7_selModeB_tmp$$,$currentIndex_selParticle$$.pos);this._batchNode&&($deadParticle_newPos$$7_selModeB_tmp$$.x+=this._position.x,$deadParticle_newPos$$7_selModeB_tmp$$.y+=this._position.y);cc._renderType==cc._RENDER_TYPE_WEBGL?this.updateQuadWithParticle($currentIndex_selParticle$$,
$deadParticle_newPos$$7_selModeB_tmp$$):cc.pIn($currentIndex_selParticle$$.drawPos,$deadParticle_newPos$$7_selModeB_tmp$$);++this._particleIdx}else if($currentIndex_selParticle$$=$currentIndex_selParticle$$.atlasIndex,this._particleIdx!==this.particleCount-1&&($deadParticle_newPos$$7_selModeB_tmp$$=$locParticles$$[this._particleIdx],$locParticles$$[this._particleIdx]=$locParticles$$[this.particleCount-1],$locParticles$$[this.particleCount-1]=$deadParticle_newPos$$7_selModeB_tmp$$),this._batchNode&&
(this._batchNode.disableParticle(this.atlasIndex+$currentIndex_selParticle$$),$locParticles$$[this.particleCount-1].atlasIndex=$currentIndex_selParticle$$),--this.particleCount,0==this.particleCount&&this.autoRemoveOnFinish){this.unscheduleUpdate();this._parent.removeChild(this,!0);return}}this._transformSystemDirty=!1}this._batchNode||this.postStep()},updateWithNoTime:function(){this.update(0)},_valueForKey:function($key$$,$dict$$){if($dict$$){var $pString$$=$dict$$[$key$$];return null!=$pString$$?
$pString$$:""}return""},_updateBlendFunc:function(){if(this._batchNode)cc.log("Can't change blending functions when the particle is being batched");else{var $locTexture$$=this._texture;if($locTexture$$&&$locTexture$$ instanceof cc.Texture2D){this._opacityModifyRGB=!1;var $locBlendFunc$$=this._blendFunc;$locBlendFunc$$.src==cc.BLEND_SRC&&$locBlendFunc$$.dst==cc.BLEND_DST&&($locTexture$$.hasPremultipliedAlpha()?this._opacityModifyRGB=!0:($locBlendFunc$$.src=cc.SRC_ALPHA,$locBlendFunc$$.dst=cc.ONE_MINUS_SRC_ALPHA))}}},
clone:function(){var $retParticle$$=new cc.ParticleSystem;if($retParticle$$.initWithTotalParticles(this.getTotalParticles())){$retParticle$$.setAngle(this.getAngle());$retParticle$$.setAngleVar(this.getAngleVar());$retParticle$$.setDuration(this.getDuration());var $blend_gra_texture$$=this.getBlendFunc();$retParticle$$.setBlendFunc($blend_gra_texture$$.src,$blend_gra_texture$$.dst);$retParticle$$.setStartColor(this.getStartColor());$retParticle$$.setStartColorVar(this.getStartColorVar());$retParticle$$.setEndColor(this.getEndColor());
$retParticle$$.setEndColorVar(this.getEndColorVar());$retParticle$$.setStartSize(this.getStartSize());$retParticle$$.setStartSizeVar(this.getStartSizeVar());$retParticle$$.setEndSize(this.getEndSize());$retParticle$$.setEndSizeVar(this.getEndSizeVar());$retParticle$$.setPosition(cc.p(this.x,this.y));$retParticle$$.setPosVar(cc.p(this.getPosVar().x,this.getPosVar().y));$retParticle$$.setStartSpin(this.getStartSpin()||0);$retParticle$$.setStartSpinVar(this.getStartSpinVar()||0);$retParticle$$.setEndSpin(this.getEndSpin()||
0);$retParticle$$.setEndSpinVar(this.getEndSpinVar()||0);$retParticle$$.setEmitterMode(this.getEmitterMode());this.getEmitterMode()==cc.ParticleSystem.MODE_GRAVITY?($blend_gra_texture$$=this.getGravity(),$retParticle$$.setGravity(cc.p($blend_gra_texture$$.x,$blend_gra_texture$$.y)),$retParticle$$.setSpeed(this.getSpeed()),$retParticle$$.setSpeedVar(this.getSpeedVar()),$retParticle$$.setRadialAccel(this.getRadialAccel()),$retParticle$$.setRadialAccelVar(this.getRadialAccelVar()),$retParticle$$.setTangentialAccel(this.getTangentialAccel()),
$retParticle$$.setTangentialAccelVar(this.getTangentialAccelVar())):this.getEmitterMode()==cc.ParticleSystem.MODE_RADIUS&&($retParticle$$.setStartRadius(this.getStartRadius()),$retParticle$$.setStartRadiusVar(this.getStartRadiusVar()),$retParticle$$.setEndRadius(this.getEndRadius()),$retParticle$$.setEndRadiusVar(this.getEndRadiusVar()),$retParticle$$.setRotatePerSecond(this.getRotatePerSecond()),$retParticle$$.setRotatePerSecondVar(this.getRotatePerSecondVar()));$retParticle$$.setLife(this.getLife());
$retParticle$$.setLifeVar(this.getLifeVar());$retParticle$$.setEmissionRate(this.getEmissionRate());if(!this.getBatchNode()&&($retParticle$$.setOpacityModifyRGB(this.isOpacityModifyRGB()),$blend_gra_texture$$=this.getTexture())){var $size$$=$blend_gra_texture$$.getContentSize();$retParticle$$.setTextureWithRect($blend_gra_texture$$,cc.rect(0,0,$size$$.width,$size$$.height))}}return $retParticle$$},setDisplayFrame:function($spriteFrame$$){var $locOffset$$=$spriteFrame$$.getOffsetInPixels();0==$locOffset$$.x&&
0==$locOffset$$.y||cc.log("cc.ParticleSystem.setDisplayFrame(): QuadParticle only supports SpriteFrames with no offsets");cc._renderType===cc._RENDER_TYPE_WEBGL&&(this._texture&&$spriteFrame$$.getTexture()._webTextureObj==this._texture._webTextureObj||this.setTexture($spriteFrame$$.getTexture()))},setTextureWithRect:function($texture$$,$rect$$){var $locTexture$$=this._texture;cc._renderType===cc._RENDER_TYPE_WEBGL?$locTexture$$&&$texture$$._webTextureObj==$locTexture$$._webTextureObj||$locTexture$$==
$texture$$||(this._texture=$texture$$,this._updateBlendFunc()):$locTexture$$&&$texture$$==$locTexture$$||$locTexture$$==$texture$$||(this._texture=$texture$$,this._updateBlendFunc());this._pointRect=$rect$$;this.initTexCoordsWithRect($rect$$)},draw:function($ctx$$){this._textureLoaded&&!this._batchNode&&(cc._renderType===cc._RENDER_TYPE_CANVAS?this._drawForCanvas($ctx$$):this._drawForWebGL($ctx$$),cc.g_NumberOfDraws++)},_drawForCanvas:function($context$$35_ctx$$){$context$$35_ctx$$=$context$$35_ctx$$||
cc._renderContext;$context$$35_ctx$$.save();this.isBlendAdditive()?$context$$35_ctx$$.globalCompositeOperation="lighter":$context$$35_ctx$$.globalCompositeOperation="source-over";for(var $element$$=this._texture.getHtmlElementObj(),$locScaleX$$=cc.view.getScaleX(),$locScaleY$$=cc.view.getScaleY(),$i$$=0;$i$$<this.particleCount;$i$$++){var $drawElement$$1_particle$$=this._particles[$i$$],$lpx$$1_size$$=0|.5*$drawElement$$1_particle$$.size;if(this.drawMode==cc.ParticleSystem.TEXTURE_MODE){if($element$$.width&&
$element$$.height){$context$$35_ctx$$.save();$context$$35_ctx$$.globalAlpha=$drawElement$$1_particle$$.color.a/255;$context$$35_ctx$$.translate(0|$drawElement$$1_particle$$.drawPos.x,-(0|$drawElement$$1_particle$$.drawPos.y));var $lpx$$1_size$$=4*Math.floor($drawElement$$1_particle$$.size/4),$w$$=this._pointRect.width,$h$$=this._pointRect.height;$context$$35_ctx$$.scale(Math.max($lpx$$1_size$$*$locScaleX$$/$w$$,1E-6),Math.max($lpx$$1_size$$*$locScaleY$$/$h$$,1E-6));$drawElement$$1_particle$$.rotation&&
$context$$35_ctx$$.rotate(cc.degreesToRadians($drawElement$$1_particle$$.rotation));$context$$35_ctx$$.translate(-(0|$w$$/2),-(0|$h$$/2));($drawElement$$1_particle$$=$drawElement$$1_particle$$.isChangeColor?this._changeTextureColor($element$$,$drawElement$$1_particle$$.color,this._pointRect):$element$$)&&$context$$35_ctx$$.drawImage($drawElement$$1_particle$$,0,0);$context$$35_ctx$$.restore()}}else $context$$35_ctx$$.save(),$context$$35_ctx$$.globalAlpha=$drawElement$$1_particle$$.color.a/255,$context$$35_ctx$$.translate(0|
$drawElement$$1_particle$$.drawPos.x,-(0|$drawElement$$1_particle$$.drawPos.y)),this.shapeType==cc.ParticleSystem.STAR_SHAPE?($drawElement$$1_particle$$.rotation&&$context$$35_ctx$$.rotate(cc.degreesToRadians($drawElement$$1_particle$$.rotation)),cc._drawingUtil.drawStar($context$$35_ctx$$,$lpx$$1_size$$,$drawElement$$1_particle$$.color)):cc._drawingUtil.drawColorBall($context$$35_ctx$$,$lpx$$1_size$$,$drawElement$$1_particle$$.color),$context$$35_ctx$$.restore()}$context$$35_ctx$$.restore()},_changeTextureColor:function($element$$,
$color$$,$rect$$){$element$$.tintCache||($element$$.tintCache=document.createElement("canvas"),$element$$.tintCache.width=$element$$.width,$element$$.tintCache.height=$element$$.height);return cc.generateTintImageWithMultiply($element$$,$color$$,$rect$$,$element$$.tintCache)},_drawForWebGL:function($ctx$$80_gl$$){this._texture&&($ctx$$80_gl$$=$ctx$$80_gl$$||cc._renderContext,this._shaderProgram.use(),this._shaderProgram.setUniformForModelViewAndProjectionMatrixWithMat4(),cc.glBindTexture2D(this._texture),
cc.glBlendFuncForParticle(this._blendFunc.src,this._blendFunc.dst),cc.glEnableVertexAttribs(cc.VERTEX_ATTRIB_FLAG_POS_COLOR_TEX),$ctx$$80_gl$$.bindBuffer($ctx$$80_gl$$.ARRAY_BUFFER,this._buffersVBO[0]),$ctx$$80_gl$$.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,3,$ctx$$80_gl$$.FLOAT,!1,24,0),$ctx$$80_gl$$.vertexAttribPointer(cc.VERTEX_ATTRIB_COLOR,4,$ctx$$80_gl$$.UNSIGNED_BYTE,!0,24,12),$ctx$$80_gl$$.vertexAttribPointer(cc.VERTEX_ATTRIB_TEX_COORDS,2,$ctx$$80_gl$$.FLOAT,!1,24,16),$ctx$$80_gl$$.bindBuffer($ctx$$80_gl$$.ELEMENT_ARRAY_BUFFER,
this._buffersVBO[1]),$ctx$$80_gl$$.drawElements($ctx$$80_gl$$.TRIANGLES,6*this._particleIdx,$ctx$$80_gl$$.UNSIGNED_SHORT,0))},listenBackToForeground:function($obj$$){cc.TEXTURE_ATLAS_USE_VAO?this._setupVBOandVAO():this._setupVBO()},_setupVBOandVAO:function(){},_setupVBO:function(){if(cc._renderType!=cc._RENDER_TYPE_CANVAS){var $gl$$=cc._renderContext;this._buffersVBO[0]=$gl$$.createBuffer();$gl$$.bindBuffer($gl$$.ARRAY_BUFFER,this._buffersVBO[0]);$gl$$.bufferData($gl$$.ARRAY_BUFFER,this._quadsArrayBuffer,
$gl$$.DYNAMIC_DRAW);this._buffersVBO[1]=$gl$$.createBuffer();$gl$$.bindBuffer($gl$$.ELEMENT_ARRAY_BUFFER,this._buffersVBO[1]);$gl$$.bufferData($gl$$.ELEMENT_ARRAY_BUFFER,this._indices,$gl$$.STATIC_DRAW)}},_allocMemory:function(){if(cc._renderType===cc._RENDER_TYPE_CANVAS)return!0;if(this._batchNode)return cc.log("cc.ParticleSystem._allocMemory(): Memory should not be allocated when not using batchNode"),!1;var $quadSize$$=cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT,$totalParticles$$=this._totalParticles,
$locQuads$$=this._quads;$locQuads$$.length=0;this._indices=new Uint16Array(6*$totalParticles$$);for(var $locQuadsArrayBuffer$$=new ArrayBuffer($quadSize$$*$totalParticles$$),$i$$=0;$i$$<$totalParticles$$;$i$$++)$locQuads$$[$i$$]=new cc.V3F_C4B_T2F_Quad(null,null,null,null,$locQuadsArrayBuffer$$,$i$$*$quadSize$$);if(!$locQuads$$||!this._indices)return cc.log("cocos2d: Particle system: not enough memory"),!1;this._quadsArrayBuffer=$locQuadsArrayBuffer$$;return!0}});_p=cc.ParticleSystem.prototype;
cc._renderType!==cc._RENDER_TYPE_CANVAS||cc.sys._supportCanvasNewBlendModes||(_p._changeTextureColor=function $_p$_changeTextureColor$($element$$,$color$$,$rect$$){var $cacheTextureForColor$$=cc.textureCache.getTextureColors($element$$);return $cacheTextureForColor$$?($cacheTextureForColor$$.tintCache||($cacheTextureForColor$$.tintCache=document.createElement("canvas"),$cacheTextureForColor$$.tintCache.width=$element$$.width,$cacheTextureForColor$$.tintCache.height=$element$$.height),cc.generateTintImage($element$$,
$cacheTextureForColor$$,$color$$,$rect$$,$cacheTextureForColor$$.tintCache),$cacheTextureForColor$$.tintCache):null});_p.opacityModifyRGB;cc.defineGetterSetter(_p,"opacityModifyRGB",_p.isOpacityModifyRGB,_p.setOpacityModifyRGB);_p.batchNode;cc.defineGetterSetter(_p,"batchNode",_p.getBatchNode,_p.setBatchNode);_p.active;cc.defineGetterSetter(_p,"active",_p.isActive);_p.sourcePos;cc.defineGetterSetter(_p,"sourcePos",_p.getSourcePosition,_p.setSourcePosition);_p.posVar;
cc.defineGetterSetter(_p,"posVar",_p.getPosVar,_p.setPosVar);_p.gravity;cc.defineGetterSetter(_p,"gravity",_p.getGravity,_p.setGravity);_p.speed;cc.defineGetterSetter(_p,"speed",_p.getSpeed,_p.setSpeed);_p.speedVar;cc.defineGetterSetter(_p,"speedVar",_p.getSpeedVar,_p.setSpeedVar);_p.tangentialAccel;cc.defineGetterSetter(_p,"tangentialAccel",_p.getTangentialAccel,_p.setTangentialAccel);_p.tangentialAccelVar;cc.defineGetterSetter(_p,"tangentialAccelVar",_p.getTangentialAccelVar,_p.setTangentialAccelVar);
_p.radialAccel;cc.defineGetterSetter(_p,"radialAccel",_p.getRadialAccel,_p.setRadialAccel);_p.radialAccelVar;cc.defineGetterSetter(_p,"radialAccelVar",_p.getRadialAccelVar,_p.setRadialAccelVar);_p.rotationIsDir;cc.defineGetterSetter(_p,"rotationIsDir",_p.getRotationIsDir,_p.setRotationIsDir);_p.startRadius;cc.defineGetterSetter(_p,"startRadius",_p.getStartRadius,_p.setStartRadius);_p.startRadiusVar;cc.defineGetterSetter(_p,"startRadiusVar",_p.getStartRadiusVar,_p.setStartRadiusVar);_p.endRadius;
cc.defineGetterSetter(_p,"endRadius",_p.getEndRadius,_p.setEndRadius);_p.endRadiusVar;cc.defineGetterSetter(_p,"endRadiusVar",_p.getEndRadiusVar,_p.setEndRadiusVar);_p.rotatePerS;cc.defineGetterSetter(_p,"rotatePerS",_p.getRotatePerSecond,_p.setRotatePerSecond);_p.rotatePerSVar;cc.defineGetterSetter(_p,"rotatePerSVar",_p.getRotatePerSecondVar,_p.setRotatePerSecondVar);_p.startColor;cc.defineGetterSetter(_p,"startColor",_p.getStartColor,_p.setStartColor);_p.startColorVar;
cc.defineGetterSetter(_p,"startColorVar",_p.getStartColorVar,_p.setStartColorVar);_p.endColor;cc.defineGetterSetter(_p,"endColor",_p.getEndColor,_p.setEndColor);_p.endColorVar;cc.defineGetterSetter(_p,"endColorVar",_p.getEndColorVar,_p.setEndColorVar);_p.totalParticles;cc.defineGetterSetter(_p,"totalParticles",_p.getTotalParticles,_p.setTotalParticles);_p.texture;cc.defineGetterSetter(_p,"texture",_p.getTexture,_p.setTexture);cc.ParticleSystem.create=function $cc$ParticleSystem$create$($plistFile$$){return new cc.ParticleSystem($plistFile$$)};
cc.ParticleSystem.createWithTotalParticles=cc.ParticleSystem.create;
cc.ParticleSystem.ModeA=function $cc$ParticleSystem$ModeA$($gravity$$,$speed$$,$speedVar$$,$tangentialAccel$$,$tangentialAccelVar$$,$radialAccel$$,$radialAccelVar$$,$rotationIsDir$$){this.gravity=$gravity$$?$gravity$$:cc.p(0,0);this.speed=$speed$$||0;this.speedVar=$speedVar$$||0;this.tangentialAccel=$tangentialAccel$$||0;this.tangentialAccelVar=$tangentialAccelVar$$||0;this.radialAccel=$radialAccel$$||0;this.radialAccelVar=$radialAccelVar$$||0;this.rotationIsDir=$rotationIsDir$$||!1};
cc.ParticleSystem.ModeB=function $cc$ParticleSystem$ModeB$($startRadius$$,$startRadiusVar$$,$endRadius$$,$endRadiusVar$$,$rotatePerSecond$$,$rotatePerSecondVar$$){this.startRadius=$startRadius$$||0;this.startRadiusVar=$startRadiusVar$$||0;this.endRadius=$endRadius$$||0;this.endRadiusVar=$endRadiusVar$$||0;this.rotatePerSecond=$rotatePerSecond$$||0;this.rotatePerSecondVar=$rotatePerSecondVar$$||0};cc.ParticleSystem.SHAPE_MODE=0;cc.ParticleSystem.TEXTURE_MODE=1;cc.ParticleSystem.STAR_SHAPE=0;
cc.ParticleSystem.BALL_SHAPE=1;cc.ParticleSystem.DURATION_INFINITY=-1;cc.ParticleSystem.START_SIZE_EQUAL_TO_END_SIZE=-1;cc.ParticleSystem.START_RADIUS_EQUAL_TO_END_RADIUS=-1;cc.ParticleSystem.MODE_GRAVITY=0;cc.ParticleSystem.MODE_RADIUS=1;cc.ParticleSystem.TYPE_FREE=0;cc.ParticleSystem.TYPE_RELATIVE=1;cc.ParticleSystem.TYPE_GROUPED=2;
cc.ParticleFire=cc.ParticleSystem.extend({ctor:function(){cc.ParticleSystem.prototype.ctor.call(this,cc._renderType===cc._RENDER_TYPE_WEBGL?300:150)},initWithTotalParticles:function($numberOfParticles$$1_winSize$$){return cc.ParticleSystem.prototype.initWithTotalParticles.call(this,$numberOfParticles$$1_winSize$$)?(this.setDuration(cc.ParticleSystem.DURATION_INFINITY),this.setEmitterMode(cc.ParticleSystem.MODE_GRAVITY),this.setGravity(cc.p(0,0)),this.setRadialAccel(0),this.setRadialAccelVar(0),this.setSpeed(60),
this.setSpeedVar(20),this.setAngle(90),this.setAngleVar(10),$numberOfParticles$$1_winSize$$=cc.director.getWinSize(),this.setPosition($numberOfParticles$$1_winSize$$.width/2,60),this.setPosVar(cc.p(40,20)),this.setLife(3),this.setLifeVar(.25),this.setStartSize(54),this.setStartSizeVar(10),this.setEndSize(cc.ParticleSystem.START_SIZE_EQUAL_TO_END_SIZE),this.setEmissionRate(this.getTotalParticles()/this.getLife()),this.setStartColor(cc.color(194,64,31,255)),this.setStartColorVar(cc.color(0,0,0,0)),
this.setEndColor(cc.color(0,0,0,255)),this.setEndColorVar(cc.color(0,0,0,0)),this.setBlendAdditive(!0),!0):!1}});cc.ParticleFire.create=function $cc$ParticleFire$create$(){return new cc.ParticleFire};
cc.ParticleFireworks=cc.ParticleSystem.extend({ctor:function(){cc.ParticleSystem.prototype.ctor.call(this,cc._renderType===cc._RENDER_TYPE_WEBGL?1500:150)},initWithTotalParticles:function($numberOfParticles$$2_winSize$$){return cc.ParticleSystem.prototype.initWithTotalParticles.call(this,$numberOfParticles$$2_winSize$$)?(this.setDuration(cc.ParticleSystem.DURATION_INFINITY),this.setEmitterMode(cc.ParticleSystem.MODE_GRAVITY),this.setGravity(cc.p(0,-90)),this.setRadialAccel(0),this.setRadialAccelVar(0),
this.setSpeed(180),this.setSpeedVar(50),$numberOfParticles$$2_winSize$$=cc.director.getWinSize(),this.setPosition($numberOfParticles$$2_winSize$$.width/2,$numberOfParticles$$2_winSize$$.height/2),this.setAngle(90),this.setAngleVar(20),this.setLife(3.5),this.setLifeVar(1),this.setEmissionRate(this.getTotalParticles()/this.getLife()),this.setStartColor(cc.color(128,128,128,255)),this.setStartColorVar(cc.color(128,128,128,255)),this.setEndColor(cc.color(26,26,26,51)),this.setEndColorVar(cc.color(26,
26,26,51)),this.setStartSize(8),this.setStartSizeVar(2),this.setEndSize(cc.ParticleSystem.START_SIZE_EQUAL_TO_END_SIZE),this.setBlendAdditive(!1),!0):!1}});cc.ParticleFireworks.create=function $cc$ParticleFireworks$create$(){return new cc.ParticleFireworks};
cc.ParticleSun=cc.ParticleSystem.extend({ctor:function(){cc.ParticleSystem.prototype.ctor.call(this,cc._renderType===cc._RENDER_TYPE_WEBGL?350:150)},initWithTotalParticles:function($numberOfParticles$$3_winSize$$){return cc.ParticleSystem.prototype.initWithTotalParticles.call(this,$numberOfParticles$$3_winSize$$)?(this.setBlendAdditive(!0),this.setDuration(cc.ParticleSystem.DURATION_INFINITY),this.setEmitterMode(cc.ParticleSystem.MODE_GRAVITY),this.setGravity(cc.p(0,0)),this.setRadialAccel(0),this.setRadialAccelVar(0),
this.setSpeed(20),this.setSpeedVar(5),this.setAngle(90),this.setAngleVar(360),$numberOfParticles$$3_winSize$$=cc.director.getWinSize(),this.setPosition($numberOfParticles$$3_winSize$$.width/2,$numberOfParticles$$3_winSize$$.height/2),this.setPosVar(cc.p(0,0)),this.setLife(1),this.setLifeVar(.5),this.setStartSize(30),this.setStartSizeVar(10),this.setEndSize(cc.ParticleSystem.START_SIZE_EQUAL_TO_END_SIZE),this.setEmissionRate(this.getTotalParticles()/this.getLife()),this.setStartColor(cc.color(194,
64,31,255)),this.setStartColorVar(cc.color(0,0,0,0)),this.setEndColor(cc.color(0,0,0,255)),this.setEndColorVar(cc.color(0,0,0,0)),!0):!1}});cc.ParticleSun.create=function $cc$ParticleSun$create$(){return new cc.ParticleSun};
cc.ParticleGalaxy=cc.ParticleSystem.extend({ctor:function(){cc.ParticleSystem.prototype.ctor.call(this,cc._renderType===cc._RENDER_TYPE_WEBGL?200:100)},initWithTotalParticles:function($numberOfParticles$$4_winSize$$){return cc.ParticleSystem.prototype.initWithTotalParticles.call(this,$numberOfParticles$$4_winSize$$)?(this.setDuration(cc.ParticleSystem.DURATION_INFINITY),this.setEmitterMode(cc.ParticleSystem.MODE_GRAVITY),this.setGravity(cc.p(0,0)),this.setSpeed(60),this.setSpeedVar(10),this.setRadialAccel(-80),
this.setRadialAccelVar(0),this.setTangentialAccel(80),this.setTangentialAccelVar(0),this.setAngle(90),this.setAngleVar(360),$numberOfParticles$$4_winSize$$=cc.director.getWinSize(),this.setPosition($numberOfParticles$$4_winSize$$.width/2,$numberOfParticles$$4_winSize$$.height/2),this.setPosVar(cc.p(0,0)),this.setLife(4),this.setLifeVar(1),this.setStartSize(37),this.setStartSizeVar(10),this.setEndSize(cc.ParticleSystem.START_SIZE_EQUAL_TO_END_SIZE),this.setEmissionRate(this.getTotalParticles()/this.getLife()),
this.setStartColor(cc.color(31,64,194,255)),this.setStartColorVar(cc.color(0,0,0,0)),this.setEndColor(cc.color(0,0,0,255)),this.setEndColorVar(cc.color(0,0,0,0)),this.setBlendAdditive(!0),!0):!1}});cc.ParticleGalaxy.create=function $cc$ParticleGalaxy$create$(){return new cc.ParticleGalaxy};
cc.ParticleFlower=cc.ParticleSystem.extend({ctor:function(){cc.ParticleSystem.prototype.ctor.call(this,cc._renderType===cc._RENDER_TYPE_WEBGL?250:100)},initWithTotalParticles:function($numberOfParticles$$5_winSize$$){return cc.ParticleSystem.prototype.initWithTotalParticles.call(this,$numberOfParticles$$5_winSize$$)?(this.setDuration(cc.ParticleSystem.DURATION_INFINITY),this.setEmitterMode(cc.ParticleSystem.MODE_GRAVITY),this.setGravity(cc.p(0,0)),this.setSpeed(80),this.setSpeedVar(10),this.setRadialAccel(-60),
this.setRadialAccelVar(0),this.setTangentialAccel(15),this.setTangentialAccelVar(0),this.setAngle(90),this.setAngleVar(360),$numberOfParticles$$5_winSize$$=cc.director.getWinSize(),this.setPosition($numberOfParticles$$5_winSize$$.width/2,$numberOfParticles$$5_winSize$$.height/2),this.setPosVar(cc.p(0,0)),this.setLife(4),this.setLifeVar(1),this.setStartSize(30),this.setStartSizeVar(10),this.setEndSize(cc.ParticleSystem.START_SIZE_EQUAL_TO_END_SIZE),this.setEmissionRate(this.getTotalParticles()/this.getLife()),
this.setStartColor(cc.color(128,128,128,255)),this.setStartColorVar(cc.color(128,128,128,128)),this.setEndColor(cc.color(0,0,0,255)),this.setEndColorVar(cc.color(0,0,0,0)),this.setBlendAdditive(!0),!0):!1}});cc.ParticleFlower.create=function $cc$ParticleFlower$create$(){return new cc.ParticleFlower};
cc.ParticleMeteor=cc.ParticleSystem.extend({ctor:function(){cc.ParticleSystem.prototype.ctor.call(this,cc._renderType===cc._RENDER_TYPE_WEBGL?150:100)},initWithTotalParticles:function($numberOfParticles$$6_winSize$$){return cc.ParticleSystem.prototype.initWithTotalParticles.call(this,$numberOfParticles$$6_winSize$$)?(this.setDuration(cc.ParticleSystem.DURATION_INFINITY),this.setEmitterMode(cc.ParticleSystem.MODE_GRAVITY),this.setGravity(cc.p(-200,200)),this.setSpeed(15),this.setSpeedVar(5),this.setRadialAccel(0),
this.setRadialAccelVar(0),this.setTangentialAccel(0),this.setTangentialAccelVar(0),this.setAngle(90),this.setAngleVar(360),$numberOfParticles$$6_winSize$$=cc.director.getWinSize(),this.setPosition($numberOfParticles$$6_winSize$$.width/2,$numberOfParticles$$6_winSize$$.height/2),this.setPosVar(cc.p(0,0)),this.setLife(2),this.setLifeVar(1),this.setStartSize(60),this.setStartSizeVar(10),this.setEndSize(cc.ParticleSystem.START_SIZE_EQUAL_TO_END_SIZE),this.setEmissionRate(this.getTotalParticles()/this.getLife()),
this.setStartColor(cc.color(51,102,179)),this.setStartColorVar(cc.color(0,0,51,26)),this.setEndColor(cc.color(0,0,0,255)),this.setEndColorVar(cc.color(0,0,0,0)),this.setBlendAdditive(!0),!0):!1}});cc.ParticleMeteor.create=function $cc$ParticleMeteor$create$(){return new cc.ParticleMeteor};
cc.ParticleSpiral=cc.ParticleSystem.extend({ctor:function(){cc.ParticleSystem.prototype.ctor.call(this,cc._renderType===cc._RENDER_TYPE_WEBGL?500:100)},initWithTotalParticles:function($numberOfParticles$$7_winSize$$){return cc.ParticleSystem.prototype.initWithTotalParticles.call(this,$numberOfParticles$$7_winSize$$)?(this.setDuration(cc.ParticleSystem.DURATION_INFINITY),this.setEmitterMode(cc.ParticleSystem.MODE_GRAVITY),this.setGravity(cc.p(0,0)),this.setSpeed(150),this.setSpeedVar(0),this.setRadialAccel(-380),
this.setRadialAccelVar(0),this.setTangentialAccel(45),this.setTangentialAccelVar(0),this.setAngle(90),this.setAngleVar(0),$numberOfParticles$$7_winSize$$=cc.director.getWinSize(),this.setPosition($numberOfParticles$$7_winSize$$.width/2,$numberOfParticles$$7_winSize$$.height/2),this.setPosVar(cc.p(0,0)),this.setLife(12),this.setLifeVar(0),this.setStartSize(20),this.setStartSizeVar(0),this.setEndSize(cc.ParticleSystem.START_SIZE_EQUAL_TO_END_SIZE),this.setEmissionRate(this.getTotalParticles()/this.getLife()),
this.setStartColor(cc.color(128,128,128,255)),this.setStartColorVar(cc.color(128,128,128,0)),this.setEndColor(cc.color(128,128,128,255)),this.setEndColorVar(cc.color(128,128,128,0)),this.setBlendAdditive(!1),!0):!1}});cc.ParticleSpiral.create=function $cc$ParticleSpiral$create$(){return new cc.ParticleSpiral};
cc.ParticleExplosion=cc.ParticleSystem.extend({ctor:function(){cc.ParticleSystem.prototype.ctor.call(this,cc._renderType===cc._RENDER_TYPE_WEBGL?700:300)},initWithTotalParticles:function($numberOfParticles$$8_winSize$$){return cc.ParticleSystem.prototype.initWithTotalParticles.call(this,$numberOfParticles$$8_winSize$$)?(this.setDuration(.1),this.setEmitterMode(cc.ParticleSystem.MODE_GRAVITY),this.setGravity(cc.p(0,0)),this.setSpeed(70),this.setSpeedVar(40),this.setRadialAccel(0),this.setRadialAccelVar(0),
this.setTangentialAccel(0),this.setTangentialAccelVar(0),this.setAngle(90),this.setAngleVar(360),$numberOfParticles$$8_winSize$$=cc.director.getWinSize(),this.setPosition($numberOfParticles$$8_winSize$$.width/2,$numberOfParticles$$8_winSize$$.height/2),this.setPosVar(cc.p(0,0)),this.setLife(5),this.setLifeVar(2),this.setStartSize(15),this.setStartSizeVar(10),this.setEndSize(cc.ParticleSystem.START_SIZE_EQUAL_TO_END_SIZE),this.setEmissionRate(this.getTotalParticles()/this.getDuration()),this.setStartColor(cc.color(179,
26,51,255)),this.setStartColorVar(cc.color(128,128,128,0)),this.setEndColor(cc.color(128,128,128,0)),this.setEndColorVar(cc.color(128,128,128,0)),this.setBlendAdditive(!1),!0):!1}});cc.ParticleExplosion.create=function $cc$ParticleExplosion$create$(){return new cc.ParticleExplosion};
cc.ParticleSmoke=cc.ParticleSystem.extend({ctor:function(){cc.ParticleSystem.prototype.ctor.call(this,cc._renderType===cc._RENDER_TYPE_WEBGL?200:100)},initWithTotalParticles:function($numberOfParticles$$9_winSize$$){return cc.ParticleSystem.prototype.initWithTotalParticles.call(this,$numberOfParticles$$9_winSize$$)?(this.setDuration(cc.ParticleSystem.DURATION_INFINITY),this.setEmitterMode(cc.ParticleSystem.MODE_GRAVITY),this.setGravity(cc.p(0,0)),this.setRadialAccel(0),this.setRadialAccelVar(0),this.setSpeed(25),
this.setSpeedVar(10),this.setAngle(90),this.setAngleVar(5),$numberOfParticles$$9_winSize$$=cc.director.getWinSize(),this.setPosition($numberOfParticles$$9_winSize$$.width/2,0),this.setPosVar(cc.p(20,0)),this.setLife(4),this.setLifeVar(1),this.setStartSize(60),this.setStartSizeVar(10),this.setEndSize(cc.ParticleSystem.START_SIZE_EQUAL_TO_END_SIZE),this.setEmissionRate(this.getTotalParticles()/this.getLife()),this.setStartColor(cc.color(204,204,204,255)),this.setStartColorVar(cc.color(5,5,5,0)),this.setEndColor(cc.color(0,
0,0,255)),this.setEndColorVar(cc.color(0,0,0,0)),this.setBlendAdditive(!1),!0):!1}});cc.ParticleSmoke.create=function $cc$ParticleSmoke$create$(){return new cc.ParticleSmoke};
cc.ParticleSnow=cc.ParticleSystem.extend({ctor:function(){cc.ParticleSystem.prototype.ctor.call(this,cc._renderType===cc._RENDER_TYPE_WEBGL?700:250)},initWithTotalParticles:function($numberOfParticles$$10_winSize$$){return cc.ParticleSystem.prototype.initWithTotalParticles.call(this,$numberOfParticles$$10_winSize$$)?(this.setDuration(cc.ParticleSystem.DURATION_INFINITY),this.setEmitterMode(cc.ParticleSystem.MODE_GRAVITY),this.setGravity(cc.p(0,-1)),this.setSpeed(5),this.setSpeedVar(1),this.setRadialAccel(0),
this.setRadialAccelVar(1),this.setTangentialAccel(0),this.setTangentialAccelVar(1),$numberOfParticles$$10_winSize$$=cc.director.getWinSize(),this.setPosition($numberOfParticles$$10_winSize$$.width/2,$numberOfParticles$$10_winSize$$.height+10),this.setPosVar(cc.p($numberOfParticles$$10_winSize$$.width/2,0)),this.setAngle(-90),this.setAngleVar(5),this.setLife(45),this.setLifeVar(15),this.setStartSize(10),this.setStartSizeVar(5),this.setEndSize(cc.ParticleSystem.START_SIZE_EQUAL_TO_END_SIZE),this.setEmissionRate(10),
this.setStartColor(cc.color(255,255,255,255)),this.setStartColorVar(cc.color(0,0,0,0)),this.setEndColor(cc.color(255,255,255,0)),this.setEndColorVar(cc.color(0,0,0,0)),this.setBlendAdditive(!1),!0):!1}});cc.ParticleSnow.create=function $cc$ParticleSnow$create$(){return new cc.ParticleSnow};
cc.ParticleRain=cc.ParticleSystem.extend({ctor:function(){cc.ParticleSystem.prototype.ctor.call(this,cc._renderType===cc._RENDER_TYPE_WEBGL?1E3:300)},initWithTotalParticles:function($numberOfParticles$$11_winSize$$){return cc.ParticleSystem.prototype.initWithTotalParticles.call(this,$numberOfParticles$$11_winSize$$)?(this.setDuration(cc.ParticleSystem.DURATION_INFINITY),this.setEmitterMode(cc.ParticleSystem.MODE_GRAVITY),this.setGravity(cc.p(10,-10)),this.setRadialAccel(0),this.setRadialAccelVar(1),
this.setTangentialAccel(0),this.setTangentialAccelVar(1),this.setSpeed(130),this.setSpeedVar(30),this.setAngle(-90),this.setAngleVar(5),$numberOfParticles$$11_winSize$$=cc.director.getWinSize(),this.setPosition($numberOfParticles$$11_winSize$$.width/2,$numberOfParticles$$11_winSize$$.height),this.setPosVar(cc.p($numberOfParticles$$11_winSize$$.width/2,0)),this.setLife(4.5),this.setLifeVar(0),this.setStartSize(4),this.setStartSizeVar(2),this.setEndSize(cc.ParticleSystem.START_SIZE_EQUAL_TO_END_SIZE),
this.setEmissionRate(20),this.setStartColor(cc.color(179,204,255,255)),this.setStartColorVar(cc.color(0,0,0,0)),this.setEndColor(cc.color(179,204,255,128)),this.setEndColorVar(cc.color(0,0,0,0)),this.setBlendAdditive(!1),!0):!1}});cc.ParticleRain.create=function $cc$ParticleRain$create$(){return new cc.ParticleRain};cc.PARTICLE_DEFAULT_CAPACITY=500;
cc.ParticleBatchNode=cc.Node.extend({textureAtlas:null,TextureProtocol:!0,_blendFunc:null,_className:"ParticleBatchNode",ctor:function($fileImage$$,$capacity$$){cc.Node.prototype.ctor.call(this);this._blendFunc={src:cc.BLEND_SRC,dst:cc.BLEND_DST};cc.isString($fileImage$$)?this.init($fileImage$$,$capacity$$):$fileImage$$ instanceof cc.Texture2D&&this.initWithTexture($fileImage$$,$capacity$$)},initWithTexture:function($texture$$,$capacity$$){this.textureAtlas=new cc.TextureAtlas;this.textureAtlas.initWithTexture($texture$$,
$capacity$$);this._children.length=0;cc._renderType===cc._RENDER_TYPE_WEBGL&&(this.shaderProgram=cc.shaderCache.programForKey(cc.SHADER_POSITION_TEXTURECOLOR));return!0},initWithFile:function($fileImage$$,$capacity$$){var $tex$$=cc.textureCache.addImage($fileImage$$);return this.initWithTexture($tex$$,$capacity$$)},init:function($fileImage$$,$capacity$$){var $tex$$=cc.TextureCache.getInstance().addImage($fileImage$$);return this.initWithTexture($tex$$,$capacity$$)},addChild:function($child$$,$p$$21_pos$$43_zOrder$$,
$atlasIndex$$3_tag$$){if(!$child$$)throw"cc.ParticleBatchNode.addChild() : child should be non-null";if(!($child$$ instanceof cc.ParticleSystem))throw"cc.ParticleBatchNode.addChild() : only supports cc.ParticleSystem as children";$p$$21_pos$$43_zOrder$$=null==$p$$21_pos$$43_zOrder$$?$child$$.zIndex:$p$$21_pos$$43_zOrder$$;$atlasIndex$$3_tag$$=null==$atlasIndex$$3_tag$$?$child$$.tag:$atlasIndex$$3_tag$$;if($child$$.getTexture()!=this.textureAtlas.texture)throw"cc.ParticleSystem.addChild() : the child is not using the same texture id";
var $childBlendFunc$$=$child$$.getBlendFunc();if(0===this._children.length)this.setBlendFunc($childBlendFunc$$);else if($childBlendFunc$$.src!=this._blendFunc.src||$childBlendFunc$$.dst!=this._blendFunc.dst){cc.log("cc.ParticleSystem.addChild() : Can't add a ParticleSystem that uses a different blending function");return}$p$$21_pos$$43_zOrder$$=this._addChildHelper($child$$,$p$$21_pos$$43_zOrder$$,$atlasIndex$$3_tag$$);$atlasIndex$$3_tag$$=0;0!=$p$$21_pos$$43_zOrder$$?($p$$21_pos$$43_zOrder$$=this._children[$p$$21_pos$$43_zOrder$$-
1],$atlasIndex$$3_tag$$=$p$$21_pos$$43_zOrder$$.getAtlasIndex()+$p$$21_pos$$43_zOrder$$.getTotalParticles()):$atlasIndex$$3_tag$$=0;this.insertChild($child$$,$atlasIndex$$3_tag$$);$child$$.setBatchNode(this)},insertChild:function($pSystem$$,$index$$){var $totalParticles$$=$pSystem$$.getTotalParticles(),$locTextureAtlas$$=this.textureAtlas,$totalQuads$$=$locTextureAtlas$$.totalQuads;$pSystem$$.setAtlasIndex($index$$);$totalQuads$$+$totalParticles$$>$locTextureAtlas$$.getCapacity()&&(this._increaseAtlasCapacityTo($totalQuads$$+
$totalParticles$$),$locTextureAtlas$$.fillWithEmptyQuadsFromIndex($locTextureAtlas$$.getCapacity()-$totalParticles$$,$totalParticles$$));$pSystem$$.getAtlasIndex()+$totalParticles$$!=$totalQuads$$&&$locTextureAtlas$$.moveQuadsFromIndex($index$$,$index$$+$totalParticles$$);$locTextureAtlas$$.increaseTotalQuadsWith($totalParticles$$);this._updateAllAtlasIndexes()},removeChild:function($child$$,$cleanup$$){if(null!=$child$$){if(!($child$$ instanceof cc.ParticleSystem))throw"cc.ParticleBatchNode.removeChild(): only supports cc.ParticleSystem as children";
if(-1==this._children.indexOf($child$$))cc.log("cc.ParticleBatchNode.removeChild(): doesn't contain the sprite. Can't remove it");else{cc.Node.prototype.removeChild.call(this,$child$$,$cleanup$$);var $locTextureAtlas$$=this.textureAtlas;$locTextureAtlas$$.removeQuadsAtIndex($child$$.getAtlasIndex(),$child$$.getTotalParticles());$locTextureAtlas$$.fillWithEmptyQuadsFromIndex($locTextureAtlas$$.totalQuads,$child$$.getTotalParticles());$child$$.setBatchNode(null);this._updateAllAtlasIndexes()}}},reorderChild:function($child$$,
$zOrder$$){if(!$child$$)throw"cc.ParticleBatchNode.reorderChild(): child should be non-null";if(!($child$$ instanceof cc.ParticleSystem))throw"cc.ParticleBatchNode.reorderChild(): only supports cc.QuadParticleSystems as children";if(-1===this._children.indexOf($child$$))cc.log("cc.ParticleBatchNode.reorderChild(): Child doesn't belong to batch");else if($zOrder$$!=$child$$.zIndex){if(1<this._children.length){var $getIndexes_oldAtlasIndex$$=this._getCurrentIndex($child$$,$zOrder$$);if($getIndexes_oldAtlasIndex$$.oldIndex!=
$getIndexes_oldAtlasIndex$$.newIndex){this._children.splice($getIndexes_oldAtlasIndex$$.oldIndex,1);this._children.splice($getIndexes_oldAtlasIndex$$.newIndex,0,$child$$);$getIndexes_oldAtlasIndex$$=$child$$.getAtlasIndex();this._updateAllAtlasIndexes();for(var $newAtlasIndex$$=0,$locChildren$$=this._children,$i$$=0;$i$$<$locChildren$$.length;$i$$++)if($locChildren$$[$i$$]==$child$$){$newAtlasIndex$$=$child$$.getAtlasIndex();break}this.textureAtlas.moveQuadsFromIndex($getIndexes_oldAtlasIndex$$,$child$$.getTotalParticles(),
$newAtlasIndex$$);$child$$.updateWithNoTime()}}$child$$._setLocalZOrder($zOrder$$)}},removeChildAtIndex:function($index$$,$doCleanup$$){this.removeChild(this._children[i],$doCleanup$$)},removeAllChildren:function($doCleanup$$){for(var $locChildren$$=this._children,$i$$=0;$i$$<$locChildren$$.length;$i$$++)$locChildren$$[$i$$].setBatchNode(null);cc.Node.prototype.removeAllChildren.call(this,$doCleanup$$);this.textureAtlas.removeAllQuads()},disableParticle:function($particleIndex_quad$$){$particleIndex_quad$$=
this.textureAtlas.quads[$particleIndex_quad$$];$particleIndex_quad$$.br.vertices.x=$particleIndex_quad$$.br.vertices.y=$particleIndex_quad$$.tr.vertices.x=$particleIndex_quad$$.tr.vertices.y=$particleIndex_quad$$.tl.vertices.x=$particleIndex_quad$$.tl.vertices.y=$particleIndex_quad$$.bl.vertices.x=$particleIndex_quad$$.bl.vertices.y=0;this.textureAtlas._setDirty(!0)},draw:function($ctx$$){cc._renderType!==cc._RENDER_TYPE_CANVAS&&0!=this.textureAtlas.totalQuads&&(cc.nodeDrawSetup(this),cc.glBlendFuncForParticle(this._blendFunc.src,
this._blendFunc.dst),this.textureAtlas.drawQuads())},getTexture:function(){return this.textureAtlas.texture},setTexture:function($texture$$){this.textureAtlas.texture=$texture$$;var $locBlendFunc$$=this._blendFunc;$texture$$&&!$texture$$.hasPremultipliedAlpha()&&$locBlendFunc$$.src==cc.BLEND_SRC&&$locBlendFunc$$.dst==cc.BLEND_DST&&($locBlendFunc$$.src=cc.SRC_ALPHA,$locBlendFunc$$.dst=cc.ONE_MINUS_SRC_ALPHA)},setBlendFunc:function($src$$,$dst$$){void 0===$dst$$?(this._blendFunc.src=$src$$.src,this._blendFunc.dst=
$src$$.dst):(this._blendFunc.src=$src$$,this._blendFunc.src=$dst$$)},getBlendFunc:function(){return{src:this._blendFunc.src,dst:this._blendFunc.dst}},visit:function($ctx$$){if(cc._renderType!==cc._RENDER_TYPE_CANVAS&&this._visible){var $currentStack$$=cc.current_stack;$currentStack$$.stack.push($currentStack$$.top);cc.kmMat4Assign(this._stackMatrix,$currentStack$$.top);$currentStack$$.top=this._stackMatrix;this.transform($ctx$$);this._rendererCmd&&cc.renderer.pushRenderCommand(this._rendererCmd);
cc.kmGLPopMatrix()}},_updateAllAtlasIndexes:function(){for(var $index$$=0,$locChildren$$=this._children,$i$$=0;$i$$<$locChildren$$.length;$i$$++){var $child$$=$locChildren$$[$i$$];$child$$.setAtlasIndex($index$$);$index$$+=$child$$.getTotalParticles()}},_increaseAtlasCapacityTo:function($quantity$$){cc.log("cocos2d: cc.ParticleBatchNode: resizing TextureAtlas capacity from ["+this.textureAtlas.getCapacity()+"] to ["+$quantity$$+"].");this.textureAtlas.resizeCapacity($quantity$$)||cc.log("cc.ParticleBatchNode._increaseAtlasCapacityTo() : WARNING: Not enough memory to resize the atlas")},
_searchNewPositionInChildrenForZ:function($z$$){for(var $locChildren$$=this._children,$count$$=$locChildren$$.length,$i$$=0;$i$$<$count$$;$i$$++)if($locChildren$$[$i$$].zIndex>$z$$)return $i$$;return $count$$},_getCurrentIndex:function($child$$,$z$$){for(var $foundCurrentIdx$$=!1,$foundNewIdx$$=!1,$newIndex$$=0,$oldIndex$$=0,$minusOne$$=0,$locChildren$$=this._children,$count$$=$locChildren$$.length,$i$$=0;$i$$<$count$$;$i$$++){var $pNode$$=$locChildren$$[$i$$];if($pNode$$.zIndex>$z$$&&!$foundNewIdx$$&&
($newIndex$$=$i$$,$foundNewIdx$$=!0,$foundCurrentIdx$$&&$foundNewIdx$$))break;if($child$$==$pNode$$&&($oldIndex$$=$i$$,$foundCurrentIdx$$=!0,$foundNewIdx$$||($minusOne$$=-1),$foundCurrentIdx$$&&$foundNewIdx$$))break}$foundNewIdx$$||($newIndex$$=$count$$);return{newIndex:$newIndex$$+$minusOne$$,oldIndex:$oldIndex$$}},_addChildHelper:function($child$$,$z$$,$aTag$$){if(!$child$$)throw"cc.ParticleBatchNode._addChildHelper(): child should be non-null";if($child$$.parent)return cc.log("cc.ParticleBatchNode._addChildHelper(): child already added. It can't be added again"),
null;this._children||(this._children=[]);var $pos$$=this._searchNewPositionInChildrenForZ($z$$);this._children.splice($pos$$,0,$child$$);$child$$.tag=$aTag$$;$child$$._setLocalZOrder($z$$);$child$$.parent=this;this._running&&($child$$.onEnter(),$child$$.onEnterTransitionDidFinish());return $pos$$},_updateBlendFunc:function(){this.textureAtlas.texture.hasPremultipliedAlpha()||(this._blendFunc.src=cc.SRC_ALPHA,this._blendFunc.dst=cc.ONE_MINUS_SRC_ALPHA)},getTextureAtlas:function(){return this.textureAtlas},
setTextureAtlas:function($textureAtlas$$){this.textureAtlas=$textureAtlas$$},_initRendererCmd:function(){cc._renderType===cc._RENDER_TYPE_WEBGL&&(this._rendererCmd=new cc.ParticleBatchNodeRenderCmdWebGL(this))}});_p=cc.ParticleBatchNode.prototype;_p.texture;cc.defineGetterSetter(_p,"texture",_p.getTexture,_p.setTexture);cc.ParticleBatchNode.create=function $cc$ParticleBatchNode$create$($fileImage$$,$capacity$$){return new cc.ParticleBatchNode($fileImage$$,$capacity$$)};
cc.IMEKeyboardNotificationInfo=function $cc$IMEKeyboardNotificationInfo$($begin$$,$end$$,$duration$$){this.begin=$begin$$||cc.rect(0,0,0,0);this.end=$end$$||cc.rect(0,0,0,0);this.duration=$duration$$||0};
cc.IMEDelegate=cc.Class.extend({ctor:function(){cc.imeDispatcher.addDelegate(this)},removeDelegate:function(){cc.imeDispatcher.removeDelegate(this)},attachWithIME:function(){return cc.imeDispatcher.attachDelegateWithIME(this)},detachWithIME:function(){return cc.imeDispatcher.detachDelegateWithIME(this)},canAttachWithIME:function(){return!1},didAttachWithIME:function(){},canDetachWithIME:function(){return!1},didDetachWithIME:function(){},insertText:function($text$$,$len$$){},deleteBackward:function(){},
getContentText:function(){return""},keyboardWillShow:function($info$$){},keyboardDidShow:function($info$$){},keyboardWillHide:function($info$$){},keyboardDidHide:function($info$$){}});
cc.IMEDispatcher=cc.Class.extend({_domInputControl:null,impl:null,_currentInputString:"",_lastClickPosition:null,ctor:function(){this.impl=new cc.IMEDispatcher.Impl;this._lastClickPosition=cc.p(0,0)},init:function(){if(!cc.sys.isMobile){this._domInputControl=cc.$("#imeDispatcherInput");this._domInputControl||(this._domInputControl=cc.$new("input"),this._domInputControl.setAttribute("type","text"),this._domInputControl.setAttribute("id","imeDispatcherInput"),this._domInputControl.resize(0,0),this._domInputControl.translates(0,
0),this._domInputControl.style.opacity="0",this._domInputControl.style.fontSize="1px",this._domInputControl.setAttribute("tabindex",2),this._domInputControl.style.position="absolute",this._domInputControl.style.top=0,this._domInputControl.style.left=0,document.body.appendChild(this._domInputControl));var $selfPointer$$=this;cc._addEventListener(this._domInputControl,"input",function(){$selfPointer$$._processDomInputString($selfPointer$$._domInputControl.value)},!1);cc._addEventListener(this._domInputControl,
"keydown",function($e$$){$e$$.keyCode===cc.KEY.tab?($e$$.stopPropagation(),$e$$.preventDefault()):$e$$.keyCode==cc.KEY.enter&&($selfPointer$$.dispatchInsertText("\n",1),$e$$.stopPropagation(),$e$$.preventDefault())},!1);/msie/i.test(navigator.userAgent)&&cc._addEventListener(this._domInputControl,"keyup",function($e$$){$e$$.keyCode==cc.KEY.backspace&&$selfPointer$$._processDomInputString($selfPointer$$._domInputControl.value)},!1);cc._addEventListener(window,"mousedown",function($event$$){var $ty$$=
$event$$.pageY||0;$selfPointer$$._lastClickPosition.x=$event$$.pageX||0;$selfPointer$$._lastClickPosition.y=$ty$$},!1)}},_processDomInputString:function($text$$){var $i$$303_len$$,$startPos$$;$i$$303_len$$=this._currentInputString.length<$text$$.length?this._currentInputString.length:$text$$.length;for($startPos$$=0;$startPos$$<$i$$303_len$$&&$text$$[$startPos$$]===this._currentInputString[$startPos$$];$startPos$$++);var $delTimes$$=this._currentInputString.length-$startPos$$,$insTimes$$=$text$$.length-
$startPos$$;for($i$$303_len$$=0;$i$$303_len$$<$delTimes$$;$i$$303_len$$++)this.dispatchDeleteBackward();for($i$$303_len$$=0;$i$$303_len$$<$insTimes$$;$i$$303_len$$++)this.dispatchInsertText($text$$[$startPos$$+$i$$303_len$$],1);this._currentInputString=$text$$},dispatchInsertText:function($text$$,$len$$){!this.impl||!$text$$||0>=$len$$||this.impl._delegateWithIme&&this.impl._delegateWithIme.insertText($text$$,$len$$)},dispatchDeleteBackward:function(){this.impl&&this.impl._delegateWithIme&&this.impl._delegateWithIme.deleteBackward()},
getContentText:function(){if(this.impl&&this.impl._delegateWithIme){var $pszContentText$$=this.impl._delegateWithIme.getContentText();return $pszContentText$$?$pszContentText$$:""}return""},dispatchKeyboardWillShow:function($info$$){if(this.impl)for(var $i$$=0;$i$$<this.impl._delegateList.length;$i$$++){var $delegate$$=this.impl._delegateList[$i$$];$delegate$$&&$delegate$$.keyboardWillShow($info$$)}},dispatchKeyboardDidShow:function($info$$){if(this.impl)for(var $i$$=0;$i$$<this.impl._delegateList.length;$i$$++){var $delegate$$=
this.impl._delegateList[$i$$];$delegate$$&&$delegate$$.keyboardDidShow($info$$)}},dispatchKeyboardWillHide:function($info$$){if(this.impl)for(var $i$$=0;$i$$<this.impl._delegateList.length;$i$$++){var $delegate$$=this.impl._delegateList[$i$$];$delegate$$&&$delegate$$.keyboardWillHide($info$$)}},dispatchKeyboardDidHide:function($info$$){if(this.impl)for(var $i$$=0;$i$$<this.impl._delegateList.length;$i$$++){var $delegate$$=this.impl._delegateList[$i$$];$delegate$$&&$delegate$$.keyboardDidHide($info$$)}},
addDelegate:function($delegate$$){$delegate$$&&this.impl&&(-1<this.impl._delegateList.indexOf($delegate$$)||this.impl._delegateList.splice(0,0,$delegate$$))},attachDelegateWithIME:function($delegate$$){if(!this.impl||!$delegate$$||-1==this.impl._delegateList.indexOf($delegate$$))return!1;if(this.impl._delegateWithIme){if(!this.impl._delegateWithIme.canDetachWithIME()||!$delegate$$.canAttachWithIME())return!1;var $pOldDelegate$$=this.impl._delegateWithIme;this.impl._delegateWithIme=null;$pOldDelegate$$.didDetachWithIME();
this._focusDomInput($delegate$$);return!0}if(!$delegate$$.canAttachWithIME())return!1;this._focusDomInput($delegate$$);return!0},_focusDomInput:function($delegate$$){cc.sys.isMobile?(this.impl._delegateWithIme=$delegate$$,$delegate$$.didAttachWithIME(),this._currentInputString=$delegate$$.string||"",$delegate$$=prompt("please enter your word:",this._currentInputString),null!=$delegate$$&&this._processDomInputString($delegate$$),this.dispatchInsertText("\n",1)):(this.impl._delegateWithIme=$delegate$$,
this._currentInputString=$delegate$$.string||"",$delegate$$.didAttachWithIME(),this._domInputControl.focus(),this._domInputControl.value=this._currentInputString,this._domInputControlTranslate())},_domInputControlTranslate:function(){/msie/i.test(navigator.userAgent)?(this._domInputControl.style.left=this._lastClickPosition.x+"px",this._domInputControl.style.top=this._lastClickPosition.y+"px"):this._domInputControl.translates(this._lastClickPosition.x,this._lastClickPosition.y)},detachDelegateWithIME:function($delegate$$){if(!this.impl||
!$delegate$$||this.impl._delegateWithIme!=$delegate$$||!$delegate$$.canDetachWithIME())return!1;this.impl._delegateWithIme=null;$delegate$$.didDetachWithIME();cc._canvas.focus();return!0},removeDelegate:function($delegate$$){this.impl&&$delegate$$&&-1!=this.impl._delegateList.indexOf($delegate$$)&&(this.impl._delegateWithIme&&$delegate$$==this.impl._delegateWithIme&&(this.impl._delegateWithIme=null),cc.arrayRemoveObject(this.impl._delegateList,$delegate$$))},processKeycode:function($keyCode$$){32>
$keyCode$$?$keyCode$$==cc.KEY.backspace?this.dispatchDeleteBackward():$keyCode$$==cc.KEY.enter&&this.dispatchInsertText("\n",1):255>$keyCode$$&&this.dispatchInsertText(String.fromCharCode($keyCode$$),1)}});cc.IMEDispatcher.Impl=cc.Class.extend({_delegateWithIme:null,_delegateList:null,ctor:function(){this._delegateList=[]},findDelegate:function($delegate$$){for(var $i$$=0;$i$$<this._delegateList.length;$i$$++)if(this._delegateList[$i$$]==$delegate$$)return $i$$;return null}});cc.imeDispatcher=new cc.IMEDispatcher;
document.body?cc.imeDispatcher.init():cc._addEventListener(window,"load",function(){cc.imeDispatcher.init()},!1);cc.TextFieldDelegate=cc.Class.extend({onTextFieldAttachWithIME:function($sender$$){return!1},onTextFieldDetachWithIME:function($sender$$){return!1},onTextFieldInsertText:function($sender$$,$text$$,$len$$){return!1},onTextFieldDeleteBackward:function($sender$$,$delText$$,$len$$){return!1},onDraw:function($sender$$){return!1}});
cc.TextFieldTTF=cc.LabelTTF.extend({delegate:null,colorSpaceHolder:null,_colorText:null,_lens:null,_inputText:"",_placeHolder:"",_charCount:0,_className:"TextFieldTTF",ctor:function($placeholder$$,$dimensions$$,$alignment$$,$fontName$$,$fontSize$$){this.colorSpaceHolder=cc.color(127,127,127);this._colorText=cc.color(255,255,255,255);cc.imeDispatcher.addDelegate(this);cc.LabelTTF.prototype.ctor.call(this);void 0!==$fontSize$$?(this.initWithPlaceHolder("",$dimensions$$,$alignment$$,$fontName$$,$fontSize$$),
$placeholder$$&&this.setPlaceHolder($placeholder$$)):void 0===$fontName$$&&void 0!==$alignment$$&&(this.initWithString("",$dimensions$$,$alignment$$),$placeholder$$&&this.setPlaceHolder($placeholder$$))},getDelegate:function(){return this.delegate},setDelegate:function($value$$){this.delegate=$value$$},getCharCount:function(){return this._charCount},getColorSpaceHolder:function(){return cc.color(this.colorSpaceHolder)},setColorSpaceHolder:function($value$$){this.colorSpaceHolder.r=$value$$.r;this.colorSpaceHolder.g=
$value$$.g;this.colorSpaceHolder.b=$value$$.b;this.colorSpaceHolder.a=cc.isUndefined($value$$.a)?255:$value$$.a},setTextColor:function($textColor$$){this._colorText.r=$textColor$$.r;this._colorText.g=$textColor$$.g;this._colorText.b=$textColor$$.b;this._colorText.a=cc.isUndefined($textColor$$.a)?255:$textColor$$.a},initWithPlaceHolder:function($placeholder$$,$dimensions$$,$alignment$$,$fontName$$,$fontSize$$){switch(arguments.length){case 5:return $placeholder$$&&this.setPlaceHolder($placeholder$$),
this.initWithString(this._placeHolder,$fontName$$,$fontSize$$,$dimensions$$,$alignment$$);case 3:return $placeholder$$&&this.setPlaceHolder($placeholder$$),this.initWithString(this._placeHolder,arguments[1],arguments[2]);default:throw"Argument must be non-nil ";}},setString:function($text$$){this._inputText=($text$$=String($text$$))||"";this._inputText.length?(cc.LabelTTF.prototype.setString.call(this,this._inputText),this.setColor(this._colorText)):(cc.LabelTTF.prototype.setString.call(this,this._placeHolder),
this.setColor(this.colorSpaceHolder));cc._renderType===cc._RENDER_TYPE_CANVAS&&this._updateTexture();this._charCount=this._inputText.length},getString:function(){return this._inputText},setPlaceHolder:function($text$$){this._placeHolder=$text$$||"";this._inputText.length||(cc.LabelTTF.prototype.setString.call(this,this._placeHolder),this.setColor(this.colorSpaceHolder))},getPlaceHolder:function(){return this._placeHolder},draw:function($context$$36_ctx$$){$context$$36_ctx$$=$context$$36_ctx$$||cc._renderContext;
this.delegate&&this.delegate.onDraw(this)||cc.LabelTTF.prototype.draw.call(this,$context$$36_ctx$$)},visit:function($ctx$$){this._super($ctx$$)},attachWithIME:function(){return cc.imeDispatcher.attachDelegateWithIME(this)},detachWithIME:function(){return cc.imeDispatcher.detachDelegateWithIME(this)},canAttachWithIME:function(){return this.delegate?!this.delegate.onTextFieldAttachWithIME(this):!0},didAttachWithIME:function(){},canDetachWithIME:function(){return this.delegate?!this.delegate.onTextFieldDetachWithIME(this):
!0},didDetachWithIME:function(){},deleteBackward:function(){var $strLen$$=this._inputText.length;0==$strLen$$||this.delegate&&this.delegate.onTextFieldDeleteBackward(this,this._inputText[$strLen$$-1],1)||(1>=$strLen$$?(this._inputText="",this._charCount=0,cc.LabelTTF.prototype.setString.call(this,this._placeHolder),this.setColor(this.colorSpaceHolder)):this.string=this._inputText.substring(0,$strLen$$-1))},removeDelegate:function(){cc.imeDispatcher.removeDelegate(this)},insertText:function($text$$,
$len$$){var $sInsert_sText$$=$text$$,$pos$$=$sInsert_sText$$.indexOf("\n");-1<$pos$$&&($sInsert_sText$$=$sInsert_sText$$.substring(0,$pos$$));if(0<$sInsert_sText$$.length){if(this.delegate&&this.delegate.onTextFieldInsertText(this,$sInsert_sText$$,$sInsert_sText$$.length))return;$sInsert_sText$$=this._inputText+$sInsert_sText$$;this._charCount=$sInsert_sText$$.length;this.string=$sInsert_sText$$}-1!=$pos$$&&(this.delegate&&this.delegate.onTextFieldInsertText(this,"\n",1)||this.detachWithIME())},getContentText:function(){return this._inputText},
keyboardWillShow:function($info$$){},keyboardDidShow:function($info$$){},keyboardWillHide:function($info$$){},keyboardDidHide:function($info$$){}});_p=cc.TextFieldTTF.prototype;_p.charCount;cc.defineGetterSetter(_p,"charCount",_p.getCharCount);_p.placeHolder;cc.defineGetterSetter(_p,"placeHolder",_p.getPlaceHolder,_p.setPlaceHolder);
cc.TextFieldTTF.create=function $cc$TextFieldTTF$create$($placeholder$$,$dimensions$$,$alignment$$,$fontName$$,$fontSize$$){return new cc.TextFieldTTF($placeholder$$,$dimensions$$,$alignment$$,$fontName$$,$fontSize$$)};cc.TGA_OK=0;cc.TGA_ERROR_FILE_OPEN=1;cc.TGA_ERROR_READING_FILE=2;cc.TGA_ERROR_INDEXED_COLOR=3;cc.TGA_ERROR_MEMORY=4;cc.TGA_ERROR_COMPRESSED_FILE=5;
cc.ImageTGA=function $cc$ImageTGA$($status$$,$type$$,$pixelDepth$$,$width$$,$height$$,$imageData$$,$flipped$$){this.status=$status$$||0;this.type=$type$$||0;this.pixelDepth=$pixelDepth$$||0;this.width=$width$$||0;this.height=$height$$||0;this.imageData=$imageData$$||[];this.flipped=$flipped$$||0};
cc.tgaLoadHeader=function $cc$tgaLoadHeader$($binaryReader_buffer$$,$bufSize_garbage$$,$psInfo$$){var $step$$=2;if($step$$+1>$bufSize_garbage$$)return!1;$binaryReader_buffer$$=new cc.BinaryStreamReader($binaryReader_buffer$$);$binaryReader_buffer$$.setOffset($step$$);$psInfo$$.type=$binaryReader_buffer$$.readByte();$step$$+=10;if($step$$+4+1>$bufSize_garbage$$)return!1;$binaryReader_buffer$$.setOffset($step$$);$psInfo$$.width=$binaryReader_buffer$$.readUnsignedShort();$psInfo$$.height=$binaryReader_buffer$$.readUnsignedInteger();
$psInfo$$.pixelDepth=$binaryReader_buffer$$.readByte();if($step$$+5+1>$bufSize_garbage$$)return!1;$bufSize_garbage$$=$binaryReader_buffer$$.readByte();$psInfo$$.flipped=0;$bufSize_garbage$$&32&&($psInfo$$.flipped=1);return!0};
cc.tgaLoadImageData=function $cc$tgaLoadImageData$($buffer$$11_i$$,$aux_bufSize$$,$psInfo$$){var $mode$$,$total$$;$mode$$=0|$psInfo$$.pixelDepth/2;$total$$=$psInfo$$.height*$psInfo$$.width*$mode$$;if(18+$total$$>$aux_bufSize$$)return!1;$psInfo$$.imageData=cc.__getSubArray($buffer$$11_i$$,18,18+$total$$);if(3<=$mode$$)for($buffer$$11_i$$=0;$buffer$$11_i$$<$total$$;$buffer$$11_i$$+=$mode$$)$aux_bufSize$$=$psInfo$$.imageData[$buffer$$11_i$$],$psInfo$$.imageData[$buffer$$11_i$$]=$psInfo$$.imageData[$buffer$$11_i$$+
2],$psInfo$$.imageData[$buffer$$11_i$$+2]=$aux_bufSize$$;return!0};
cc.tgaRGBtogreyscale=function $cc$tgaRGBtogreyscale$($psInfo$$){var $i$$,$j$$;if(8!==$psInfo$$.pixelDepth){var $mode$$=$psInfo$$.pixelDepth/8,$newImageData$$=new Uint8Array($psInfo$$.height*$psInfo$$.width);if(null!==$newImageData$$){for($j$$=$i$$=0;$j$$<$psInfo$$.width*$psInfo$$.height;$i$$+=$mode$$,$j$$++)$newImageData$$[$j$$]=.3*$psInfo$$.imageData[$i$$]+.59*$psInfo$$.imageData[$i$$+1]+.11*$psInfo$$.imageData[$i$$+2];$psInfo$$.pixelDepth=8;$psInfo$$.type=3;$psInfo$$.imageData=$newImageData$$}}};
cc.tgaDestroy=function $cc$tgaDestroy$($psInfo$$){$psInfo$$&&($psInfo$$.imageData=null)};
cc.tgaLoadRLEImageData=function $cc$tgaLoadRLEImageData$($buffer$$,$bufSize$$,$psInfo$$){var $mode$$,$total$$,$i$$,$index$$=0,$j$$55_skip$$1_tmp$$=0,$flag$$=0,$aux$$=[],$runlength$$=0,$step$$=18;$mode$$=$psInfo$$.pixelDepth/8;$total$$=$psInfo$$.height*$psInfo$$.width;for($i$$=0;$i$$<$total$$;$i$$++){if(0!=$runlength$$)$runlength$$--,$j$$55_skip$$1_tmp$$=0!=$flag$$;else{if($step$$+1>$bufSize$$)break;$runlength$$=$buffer$$[$step$$];$step$$+=1;($flag$$=$runlength$$&128)&&($runlength$$-=128);$j$$55_skip$$1_tmp$$=
0}if(!$j$$55_skip$$1_tmp$$){if($step$$+$mode$$>$bufSize$$)break;$aux$$=cc.__getSubArray($buffer$$,$step$$,$step$$+$mode$$);$step$$+=$mode$$;3<=$mode$$&&($j$$55_skip$$1_tmp$$=$aux$$[0],$aux$$[0]=$aux$$[2],$aux$$[2]=$j$$55_skip$$1_tmp$$)}for($j$$55_skip$$1_tmp$$=0;$j$$55_skip$$1_tmp$$<$mode$$;$j$$55_skip$$1_tmp$$++)$psInfo$$.imageData[$index$$+$j$$55_skip$$1_tmp$$]=$aux$$[$j$$55_skip$$1_tmp$$];$index$$+=$mode$$}return!0};
cc.tgaFlipImage=function $cc$tgaFlipImage$($psInfo$$){for(var $rowbytes$$=$psInfo$$.pixelDepth/8*$psInfo$$.width,$y$$=0;$y$$<$psInfo$$.height/2;$y$$++){var $row$$=cc.__getSubArray($psInfo$$.imageData,$y$$*$rowbytes$$,$y$$*$rowbytes$$+$rowbytes$$);cc.__setDataToArray(cc.__getSubArray($psInfo$$.imageData,($psInfo$$.height-($y$$+1))*$rowbytes$$,$rowbytes$$),$psInfo$$.imageData,$y$$*$rowbytes$$);cc.__setDataToArray($row$$,$psInfo$$.imageData,($psInfo$$.height-($y$$+1))*$rowbytes$$)}$psInfo$$.flipped=
0};cc.__getSubArray=function $cc$__getSubArray$($array$$,$start$$,$end$$){return $array$$ instanceof Array?$array$$.slice($start$$,$end$$):$array$$.subarray($start$$,$end$$)};cc.__setDataToArray=function $cc$__setDataToArray$($sourceData$$,$destArray$$,$startIndex$$){for(var $i$$=0;$i$$<$sourceData$$.length;$i$$++)$destArray$$[$startIndex$$+$i$$]=$sourceData$$[$i$$]};
cc.BinaryStreamReader=cc.Class.extend({_binaryData:null,_offset:0,ctor:function($binaryData$$){this._binaryData=$binaryData$$},setBinaryData:function($binaryData$$){this._binaryData=$binaryData$$;this._offset=0},getBinaryData:function(){return this._binaryData},_checkSize:function($neededBits$$){if(!(this._offset+Math.ceil($neededBits$$/8)<this._data.length))throw Error("Index out of bound");},_decodeFloat:function($precisionBits$$,$exponentBits$$){var $bias_length$$=$precisionBits$$+$exponentBits$$+
1,$size$$=$bias_length$$>>3;this._checkSize($bias_length$$);var $bias_length$$=Math.pow(2,$exponentBits$$-1)-1,$signal$$=this._readBits($precisionBits$$+$exponentBits$$,1,$size$$),$exponent$$=this._readBits($precisionBits$$,$exponentBits$$,$size$$),$significand$$=0,$divisor$$=2,$curByte$$=0;do for(var $byteValue$$=this._readByte(++$curByte$$,$size$$),$startBit$$=$precisionBits$$%8||8,$mask$$=1<<$startBit$$;$mask$$>>=1;)$byteValue$$&$mask$$&&($significand$$+=1/$divisor$$),$divisor$$*=2;while($precisionBits$$-=
$startBit$$);this._offset+=$size$$;return $exponent$$==($bias_length$$<<1)+1?$significand$$?NaN:$signal$$?-Infinity:Infinity:(1+-2*$signal$$)*($exponent$$||$significand$$?$exponent$$?Math.pow(2,$exponent$$-$bias_length$$)*(1+$significand$$):Math.pow(2,-$bias_length$$+1)*$significand$$:0)},_readByte:function($i$$,$size$$){return this._data[this._offset+$size$$-$i$$-1]},_decodeInt:function($bits$$,$signed$$){var $x$$=this._readBits(0,$bits$$,$bits$$/8),$max$$=Math.pow(2,$bits$$);this._offset+=$bits$$/
8;return $signed$$&&$x$$>=$max$$/2?$x$$-$max$$:$x$$},_shl:function($a$$,$b$$){for(++$b$$;--$b$$;$a$$=1073741824==(($a$$%=2147483648)&1073741824)?2*$a$$:2*($a$$-1073741824)+2147483648);return $a$$},_readBits:function($lastByte_start$$,$length$$,$size$$){var $offsetLeft$$=($lastByte_start$$+$length$$)%8,$offsetRight$$=$lastByte_start$$%8,$curByte$$=$size$$-($lastByte_start$$>>3)-1;$lastByte_start$$=$size$$+(-($lastByte_start$$+$length$$)>>3);var $diff$$=$curByte$$-$lastByte_start$$;$length$$=this._readByte($curByte$$,
$size$$)>>$offsetRight$$&(1<<($diff$$?8-$offsetRight$$:$length$$))-1;for($diff$$&&$offsetLeft$$&&($length$$+=(this._readByte($lastByte_start$$++,$size$$)&(1<<$offsetLeft$$)-1)<<($diff$$--<<3)-$offsetRight$$);$diff$$;)$length$$+=this._shl(this._readByte($lastByte_start$$++,$size$$),($diff$$--<<3)-$offsetRight$$);return $length$$},readInteger:function(){return this._decodeInt(32,!0)},readUnsignedInteger:function(){return this._decodeInt(32,!1)},readSingle:function(){return this._decodeFloat(23,8)},
readShort:function(){return this._decodeInt(16,!0)},readUnsignedShort:function(){return this._decodeInt(16,!1)},readByte:function(){var $readByte$$=this._data[this._offset];this._offset+=1;return $readByte$$},readData:function($start$$,$end$$){return this._binaryData instanceof Array?this._binaryData.slice($start$$,$end$$):this._binaryData.subarray($start$$,$end$$)},setOffset:function($offset$$){this._offset=$offset$$},getOffset:function(){return this._offset}});cc.TMX_ORIENTATION_ORTHO=0;
cc.TMX_ORIENTATION_HEX=1;cc.TMX_ORIENTATION_ISO=2;
cc.TMXTiledMap=cc.Node.extend({properties:null,mapOrientation:null,objectGroups:null,_mapSize:null,_tileSize:null,_tileProperties:null,_className:"TMXTiledMap",ctor:function($tmxFile$$,$resourcePath$$){cc.Node.prototype.ctor.call(this);this._mapSize=cc.size(0,0);this._tileSize=cc.size(0,0);void 0!==$resourcePath$$?this.initWithXML($tmxFile$$,$resourcePath$$):void 0!==$tmxFile$$&&this.initWithTMXFile($tmxFile$$)},getMapSize:function(){return cc.size(this._mapSize.width,this._mapSize.height)},setMapSize:function($Var$$){this._mapSize.width=
$Var$$.width;this._mapSize.height=$Var$$.height},_getMapWidth:function(){return this._mapSize.width},_setMapWidth:function($width$$){this._mapSize.width=$width$$},_getMapHeight:function(){return this._mapSize.height},_setMapHeight:function($height$$){this._mapSize.height=$height$$},getTileSize:function(){return cc.size(this._tileSize.width,this._tileSize.height)},setTileSize:function($Var$$){this._tileSize.width=$Var$$.width;this._tileSize.height=$Var$$.height},_getTileWidth:function(){return this._tileSize.width},
_setTileWidth:function($width$$){this._tileSize.width=$width$$},_getTileHeight:function(){return this._tileSize.height},_setTileHeight:function($height$$){this._tileSize.height=$height$$},getMapOrientation:function(){return this.mapOrientation},setMapOrientation:function($Var$$){this.mapOrientation=$Var$$},getObjectGroups:function(){return this.objectGroups},setObjectGroups:function($Var$$){this.objectGroups=$Var$$},getProperties:function(){return this.properties},setProperties:function($Var$$){this.properties=
$Var$$},initWithTMXFile:function($mapInfo_tmxFile$$){if(!$mapInfo_tmxFile$$||0==$mapInfo_tmxFile$$.length)throw"cc.TMXTiledMap.initWithTMXFile(): tmxFile should be non-null or non-empty string.";this.height=this.width=0;$mapInfo_tmxFile$$=new cc.TMXMapInfo($mapInfo_tmxFile$$);if(!$mapInfo_tmxFile$$)return!1;var $locTilesets$$=$mapInfo_tmxFile$$.getTilesets();$locTilesets$$&&0!==$locTilesets$$.length||cc.log("cc.TMXTiledMap.initWithTMXFile(): Map not found. Please check the filename.");this._buildWithMapInfo($mapInfo_tmxFile$$);
return!0},initWithXML:function($tmxString$$,$resourcePath$$){this.height=this.width=0;var $mapInfo$$=new cc.TMXMapInfo($tmxString$$,$resourcePath$$),$locTilesets$$=$mapInfo$$.getTilesets();$locTilesets$$&&0!==$locTilesets$$.length||cc.log("cc.TMXTiledMap.initWithXML(): Map not found. Please check the filename.");this._buildWithMapInfo($mapInfo$$);return!0},_buildWithMapInfo:function($mapInfo$$){this._mapSize=$mapInfo$$.getMapSize();this._tileSize=$mapInfo$$.getTileSize();this.mapOrientation=$mapInfo$$.orientation;
this.objectGroups=$mapInfo$$.getObjectGroups();this.properties=$mapInfo$$.properties;this._tileProperties=$mapInfo$$.getTileProperties();var $idx$$=0,$layers$$=$mapInfo$$.getLayers();if($layers$$)for(var $child$$=null,$i$$=0,$len$$=$layers$$.length;$i$$<$len$$;$i$$++)($child$$=$layers$$[$i$$])&&$child$$.visible&&($child$$=this._parseLayer($child$$,$mapInfo$$),this.addChild($child$$,$idx$$,$idx$$),this.width=Math.max(this.width,$child$$.width),this.height=Math.max(this.height,$child$$.height),$idx$$++)},
allLayers:function(){for(var $retArr$$=[],$locChildren$$=this._children,$i$$=0,$len$$=$locChildren$$.length;$i$$<$len$$;$i$$++){var $layer$$=$locChildren$$[$i$$];$layer$$&&$layer$$ instanceof cc.TMXLayer&&$retArr$$.push($layer$$)}return $retArr$$},getLayer:function($layerName$$){if(!$layerName$$||0===$layerName$$.length)throw"cc.TMXTiledMap.getLayer(): layerName should be non-null or non-empty string.";for(var $locChildren$$=this._children,$i$$=0;$i$$<$locChildren$$.length;$i$$++){var $layer$$=$locChildren$$[$i$$];
if($layer$$&&$layer$$.layerName==$layerName$$)return $layer$$}return null},getObjectGroup:function($groupName$$){if(!$groupName$$||0===$groupName$$.length)throw"cc.TMXTiledMap.getObjectGroup(): groupName should be non-null or non-empty string.";if(this.objectGroups)for(var $i$$=0;$i$$<this.objectGroups.length;$i$$++){var $objectGroup$$=this.objectGroups[$i$$];if($objectGroup$$&&$objectGroup$$.groupName==$groupName$$)return $objectGroup$$}return null},getProperty:function($propertyName$$){return this.properties[$propertyName$$.toString()]},
propertiesForGID:function($GID$$){cc.log("propertiesForGID is deprecated. Please use getPropertiesForGID instead.");return this.getPropertiesForGID[$GID$$]},getPropertiesForGID:function($GID$$){return this._tileProperties[$GID$$]},_parseLayer:function($layerInfo$$,$mapInfo$$){var $layer$$=this._tilesetForLayer($layerInfo$$,$mapInfo$$),$layer$$=new cc.TMXLayer($layer$$,$layerInfo$$,$mapInfo$$);$layerInfo$$.ownTiles=!1;$layer$$.setupTiles();return $layer$$},_tilesetForLayer:function($layerInfo$$,$mapInfo$$){var $size$$=
$layerInfo$$._layerSize,$tilesets$$=$mapInfo$$.getTilesets();if($tilesets$$)for(var $i$$=$tilesets$$.length-1;0<=$i$$;$i$$--){var $tileset$$=$tilesets$$[$i$$];if($tileset$$)for(var $y$$=0;$y$$<$size$$.height;$y$$++)for(var $x$$=0;$x$$<$size$$.width;$x$$++){var $gid$$=$layerInfo$$._tiles[$x$$+$size$$.width*$y$$];if(0!=$gid$$&&($gid$$&cc.TMX_TILE_FLIPPED_MASK)>>>0>=$tileset$$.firstGid)return $tileset$$}}cc.log("cocos2d: Warning: TMX Layer "+$layerInfo$$.name+" has no tiles");return null}});_p=cc.TMXTiledMap.prototype;
_p.mapWidth;cc.defineGetterSetter(_p,"mapWidth",_p._getMapWidth,_p._setMapWidth);_p.mapHeight;cc.defineGetterSetter(_p,"mapHeight",_p._getMapHeight,_p._setMapHeight);_p.tileWidth;cc.defineGetterSetter(_p,"tileWidth",_p._getTileWidth,_p._setTileWidth);_p.tileHeight;cc.defineGetterSetter(_p,"tileHeight",_p._getTileHeight,_p._setTileHeight);cc.TMXTiledMap.create=function $cc$TMXTiledMap$create$($tmxFile$$,$resourcePath$$){return new cc.TMXTiledMap($tmxFile$$,$resourcePath$$)};cc.TMX_PROPERTY_NONE=0;
cc.TMX_PROPERTY_MAP=1;cc.TMX_PROPERTY_LAYER=2;cc.TMX_PROPERTY_OBJECTGROUP=3;cc.TMX_PROPERTY_OBJECT=4;cc.TMX_PROPERTY_TILE=5;cc.TMX_TILE_HORIZONTAL_FLAG=2147483648;cc.TMX_TILE_VERTICAL_FLAG=1073741824;cc.TMX_TILE_DIAGONAL_FLAG=536870912;cc.TMX_TILE_FLIPPED_ALL=(cc.TMX_TILE_HORIZONTAL_FLAG|cc.TMX_TILE_VERTICAL_FLAG|cc.TMX_TILE_DIAGONAL_FLAG)>>>0;cc.TMX_TILE_FLIPPED_MASK=~cc.TMX_TILE_FLIPPED_ALL>>>0;
cc.TMXLayerInfo=cc.Class.extend({properties:null,name:"",_layerSize:null,_tiles:null,visible:null,_opacity:null,ownTiles:!0,_minGID:1E5,_maxGID:0,offset:null,ctor:function(){this.properties=[];this.name="";this._layerSize=null;this._tiles=[];this.visible=!0;this._opacity=0;this.ownTiles=!0;this._minGID=1E5;this._maxGID=0;this.offset=cc.p(0,0)},getProperties:function(){return this.properties},setProperties:function($value$$){this.properties=$value$$}});
cc.TMXTilesetInfo=cc.Class.extend({name:"",firstGid:0,_tileSize:null,spacing:0,margin:0,sourceImage:"",imageSize:null,ctor:function(){this._tileSize=cc.size(0,0);this.imageSize=cc.size(0,0)},rectForGID:function($gid$$){var $rect$$=cc.rect(0,0,0,0);$rect$$.width=this._tileSize.width;$rect$$.height=this._tileSize.height;$gid$$&=cc.TMX_TILE_FLIPPED_MASK;$gid$$-=parseInt(this.firstGid,10);var $max_x$$=parseInt((this.imageSize.width-2*this.margin+this.spacing)/(this._tileSize.width+this.spacing),10);$rect$$.x=
parseInt($gid$$%$max_x$$*(this._tileSize.width+this.spacing)+this.margin,10);$rect$$.y=parseInt(parseInt($gid$$/$max_x$$,10)*(this._tileSize.height+this.spacing)+this.margin,10);return $rect$$}});
cc.TMXMapInfo=cc.SAXParser.extend({properties:null,orientation:null,parentElement:null,parentGID:null,layerAttrs:0,storingCharacters:!1,tmxFileName:null,currentString:null,_objectGroups:null,_mapSize:null,_tileSize:null,_layers:null,_tilesets:null,_tileProperties:null,_resources:"",_currentFirstGID:0,ctor:function($tmxFile$$,$resourcePath$$){cc.SAXParser.prototype.ctor.apply(this);this._mapSize=cc.size(0,0);this._tileSize=cc.size(0,0);this._layers=[];this._tilesets=[];this._objectGroups=[];this.properties=
[];this._tileProperties={};this._currentFirstGID=0;void 0!==$resourcePath$$?this.initWithXML($tmxFile$$,$resourcePath$$):void 0!==$tmxFile$$&&this.initWithTMXFile($tmxFile$$)},getOrientation:function(){return this.orientation},setOrientation:function($value$$){this.orientation=$value$$},getMapSize:function(){return cc.size(this._mapSize.width,this._mapSize.height)},setMapSize:function($value$$){this._mapSize.width=$value$$.width;this._mapSize.height=$value$$.height},_getMapWidth:function(){return this._mapSize.width},
_setMapWidth:function($width$$){this._mapSize.width=$width$$},_getMapHeight:function(){return this._mapSize.height},_setMapHeight:function($height$$){this._mapSize.height=$height$$},getTileSize:function(){return cc.size(this._tileSize.width,this._tileSize.height)},setTileSize:function($value$$){this._tileSize.width=$value$$.width;this._tileSize.height=$value$$.height},_getTileWidth:function(){return this._tileSize.width},_setTileWidth:function($width$$){this._tileSize.width=$width$$},_getTileHeight:function(){return this._tileSize.height},
_setTileHeight:function($height$$){this._tileSize.height=$height$$},getLayers:function(){return this._layers},setLayers:function($value$$){this._layers.push($value$$)},getTilesets:function(){return this._tilesets},setTilesets:function($value$$){this._tilesets.push($value$$)},getObjectGroups:function(){return this._objectGroups},setObjectGroups:function($value$$){this._objectGroups.push($value$$)},getParentElement:function(){return this.parentElement},setParentElement:function($value$$){this.parentElement=
$value$$},getParentGID:function(){return this.parentGID},setParentGID:function($value$$){this.parentGID=$value$$},getLayerAttribs:function(){return this.layerAttrs},setLayerAttribs:function($value$$){this.layerAttrs=$value$$},getStoringCharacters:function(){return this.storingCharacters},setStoringCharacters:function($value$$){this.storingCharacters=$value$$},getProperties:function(){return this.properties},setProperties:function($value$$){this.properties=$value$$},initWithTMXFile:function($tmxFile$$){this._internalInit($tmxFile$$,
null);return this.parseXMLFile($tmxFile$$)},initWithXML:function($tmxString$$,$resourcePath$$){this._internalInit(null,$resourcePath$$);return this.parseXMLString($tmxString$$)},parseXMLFile:function($tmxFile$$,$isXmlString$$){var $map$$=($isXmlString$$=$isXmlString$$||!1)?$tmxFile$$:cc.loader.getRes($tmxFile$$);if(!$map$$)throw"Please load the resource first : "+$tmxFile$$;var $i$$319_mapSize_version$$,$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$,
$map$$=this._parseXML($map$$).documentElement;$i$$319_mapSize_version$$=$map$$.getAttribute("version");$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$=$map$$.getAttribute("orientation");if("map"==$map$$.nodeName&&("1.0"!=$i$$319_mapSize_version$$&&null!==$i$$319_mapSize_version$$&&cc.log("cocos2d: TMXFormat: Unsupported TMX version:"+$i$$319_mapSize_version$$),"orthogonal"==$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$?
this.orientation=cc.TMX_ORIENTATION_ORTHO:"isometric"==$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$?this.orientation=cc.TMX_ORIENTATION_ISO:"hexagonal"==$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$?this.orientation=cc.TMX_ORIENTATION_HEX:null!==$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$&&
cc.log("cocos2d: TMXFomat: Unsupported orientation:"+$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$),$i$$319_mapSize_version$$=cc.size(0,0),$i$$319_mapSize_version$$.width=parseFloat($map$$.getAttribute("width")),$i$$319_mapSize_version$$.height=parseFloat($map$$.getAttribute("height")),this.setMapSize($i$$319_mapSize_version$$),$i$$319_mapSize_version$$=cc.size(0,0),$i$$319_mapSize_version$$.width=parseFloat($map$$.getAttribute("tilewidth")),
$i$$319_mapSize_version$$.height=parseFloat($map$$.getAttribute("tileheight")),this.setTileSize($i$$319_mapSize_version$$),$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$=$map$$.querySelectorAll("map > properties >  property"))){var $aPropertyDict_layers$$3_objectGroups_tilesets$$={};for($i$$319_mapSize_version$$=0;$i$$319_mapSize_version$$<$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$.length;$i$$319_mapSize_version$$++)$aPropertyDict_layers$$3_objectGroups_tilesets$$[$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$[$i$$319_mapSize_version$$].getAttribute("name")]=
$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$[$i$$319_mapSize_version$$].getAttribute("value");this.properties=$aPropertyDict_layers$$3_objectGroups_tilesets$$}$aPropertyDict_layers$$3_objectGroups_tilesets$$=$map$$.getElementsByTagName("tileset");"map"!==$map$$.nodeName&&($aPropertyDict_layers$$3_objectGroups_tilesets$$=[],$aPropertyDict_layers$$3_objectGroups_tilesets$$.push($map$$));for($i$$319_mapSize_version$$=
0;$i$$319_mapSize_version$$<$aPropertyDict_layers$$3_objectGroups_tilesets$$.length;$i$$319_mapSize_version$$++){$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$=$aPropertyDict_layers$$3_objectGroups_tilesets$$[$i$$319_mapSize_version$$];var $layer$$5_objectGroup$$1_tileset$$=$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$.getAttribute("source");
if($layer$$5_objectGroup$$1_tileset$$)$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$=$isXmlString$$?cc.path.join(this._resources,$layer$$5_objectGroup$$1_tileset$$):cc.path.changeBasename($tmxFile$$,$layer$$5_objectGroup$$1_tileset$$),this.parseXMLFile($compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$);else{$layer$$5_objectGroup$$1_tileset$$=
new cc.TMXTilesetInfo;$layer$$5_objectGroup$$1_tileset$$.name=$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$.getAttribute("name")||"";$layer$$5_objectGroup$$1_tileset$$.firstGid=parseInt($compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$.getAttribute("firstgid"))||0;$layer$$5_objectGroup$$1_tileset$$.spacing=parseInt($compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$.getAttribute("spacing"))||
0;$layer$$5_objectGroup$$1_tileset$$.margin=parseInt($compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$.getAttribute("margin"))||0;var $imagename_layerProps_objects_selGroup_selLayer_tiles_tilesetSize$$=cc.size(0,0);$imagename_layerProps_objects_selGroup_selLayer_tiles_tilesetSize$$.width=parseFloat($compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$.getAttribute("tilewidth"));
$imagename_layerProps_objects_selGroup_selLayer_tiles_tilesetSize$$.height=parseFloat($compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$.getAttribute("tileheight"));$layer$$5_objectGroup$$1_tileset$$._tileSize=$imagename_layerProps_objects_selGroup_selLayer_tiles_tilesetSize$$;var $imagename_layerProps_objects_selGroup_selLayer_tiles_tilesetSize$$=$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$.getElementsByTagName("image")[0].getAttribute("source"),
$csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$=-1;this.tmxFileName&&($csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$=this.tmxFileName.lastIndexOf("/"));-1!==$csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$?($csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$=this.tmxFileName.substr(0,$csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$+1),$layer$$5_objectGroup$$1_tileset$$.sourceImage=$csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$+$imagename_layerProps_objects_selGroup_selLayer_tiles_tilesetSize$$):
$layer$$5_objectGroup$$1_tileset$$.sourceImage=this._resources+(this._resources?"/":"")+$imagename_layerProps_objects_selGroup_selLayer_tiles_tilesetSize$$;this.setTilesets($layer$$5_objectGroup$$1_tileset$$);if($imagename_layerProps_objects_selGroup_selLayer_tiles_tilesetSize$$=$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$.getElementsByTagName("tile"))for($csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$=
0;$csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$<$imagename_layerProps_objects_selGroup_selLayer_tiles_tilesetSize$$.length;$csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$++){$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$=$imagename_layerProps_objects_selGroup_selLayer_tiles_tilesetSize$$[$csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$];this.parentGID=parseInt($layer$$5_objectGroup$$1_tileset$$.firstGid)+
parseInt($compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$.getAttribute("id")||0);var $groupProp_nodeValue_polylineProps_selObj_selPlPointStr_tp$$=$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$.querySelectorAll("properties > property");if($groupProp_nodeValue_polylineProps_selObj_selPlPointStr_tp$$){var $dict$$8_docObjProps_encoding$$1_polygonProps_selPgPointStr_y$$=
{};for($compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$=0;$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$<$groupProp_nodeValue_polylineProps_selObj_selPlPointStr_tp$$.length;$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$++){var $k$$12_name$$=
$groupProp_nodeValue_polylineProps_selObj_selPlPointStr_tp$$[$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$].getAttribute("name");$dict$$8_docObjProps_encoding$$1_polygonProps_selPgPointStr_y$$[$k$$12_name$$]=$groupProp_nodeValue_polylineProps_selObj_selPlPointStr_tp$$[$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$].getAttribute("value")}this._tileProperties[this.parentGID]=
$dict$$8_docObjProps_encoding$$1_polygonProps_selPgPointStr_y$$}}}}if($aPropertyDict_layers$$3_objectGroups_tilesets$$=$map$$.getElementsByTagName("layer"))for($i$$319_mapSize_version$$=0;$i$$319_mapSize_version$$<$aPropertyDict_layers$$3_objectGroups_tilesets$$.length;$i$$319_mapSize_version$$++){$imagename_layerProps_objects_selGroup_selLayer_tiles_tilesetSize$$=$aPropertyDict_layers$$3_objectGroups_tilesets$$[$i$$319_mapSize_version$$];$csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$=$imagename_layerProps_objects_selGroup_selLayer_tiles_tilesetSize$$.getElementsByTagName("data")[0];
$layer$$5_objectGroup$$1_tileset$$=new cc.TMXLayerInfo;$layer$$5_objectGroup$$1_tileset$$.name=$imagename_layerProps_objects_selGroup_selLayer_tiles_tilesetSize$$.getAttribute("name");$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$=cc.size(0,0);$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$.width=parseFloat($imagename_layerProps_objects_selGroup_selLayer_tiles_tilesetSize$$.getAttribute("width"));
$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$.height=parseFloat($imagename_layerProps_objects_selGroup_selLayer_tiles_tilesetSize$$.getAttribute("height"));$layer$$5_objectGroup$$1_tileset$$._layerSize=$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$;$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$=
$imagename_layerProps_objects_selGroup_selLayer_tiles_tilesetSize$$.getAttribute("visible");$layer$$5_objectGroup$$1_tileset$$.visible="0"!=$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$;$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$=$imagename_layerProps_objects_selGroup_selLayer_tiles_tilesetSize$$.getAttribute("opacity")||
1;$layer$$5_objectGroup$$1_tileset$$._opacity=$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$?parseInt(255*parseFloat($compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$)):255;$layer$$5_objectGroup$$1_tileset$$.offset=cc.p(parseFloat($imagename_layerProps_objects_selGroup_selLayer_tiles_tilesetSize$$.getAttribute("x"))||0,parseFloat($imagename_layerProps_objects_selGroup_selLayer_tiles_tilesetSize$$.getAttribute("y"))||
0);$groupProp_nodeValue_polylineProps_selObj_selPlPointStr_tp$$="";for($compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$=0;$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$<$csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$.childNodes.length;$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$++)$groupProp_nodeValue_polylineProps_selObj_selPlPointStr_tp$$+=
$csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$.childNodes[$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$].nodeValue;$groupProp_nodeValue_polylineProps_selObj_selPlPointStr_tp$$=$groupProp_nodeValue_polylineProps_selObj_selPlPointStr_tp$$.trim();$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$=$csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$.getAttribute("compression");
$dict$$8_docObjProps_encoding$$1_polygonProps_selPgPointStr_y$$=$csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$.getAttribute("encoding");if($compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$&&"gzip"!==$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$&&"zlib"!==$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$)return cc.log("cc.TMXMapInfo.parseXMLFile(): unsupported compression method"),
null;switch($compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$){case "gzip":$layer$$5_objectGroup$$1_tileset$$._tiles=cc.unzipBase64AsArray($groupProp_nodeValue_polylineProps_selObj_selPlPointStr_tp$$,4);break;case "zlib":$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$=new Zlib.Inflate(cc.Codec.Base64.decodeAsArray($groupProp_nodeValue_polylineProps_selObj_selPlPointStr_tp$$,
1));$layer$$5_objectGroup$$1_tileset$$._tiles=cc.uint8ArrayToUint32Array($compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$.decompress());break;case null:case "":if("base64"==$dict$$8_docObjProps_encoding$$1_polygonProps_selPgPointStr_y$$)$layer$$5_objectGroup$$1_tileset$$._tiles=cc.Codec.Base64.decodeAsArray($groupProp_nodeValue_polylineProps_selObj_selPlPointStr_tp$$,4);else if("csv"===$dict$$8_docObjProps_encoding$$1_polygonProps_selPgPointStr_y$$)for($layer$$5_objectGroup$$1_tileset$$._tiles=
[],$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$=$groupProp_nodeValue_polylineProps_selObj_selPlPointStr_tp$$.split(","),$csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$=0;$csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$<$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$.length;$csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$++)$layer$$5_objectGroup$$1_tileset$$._tiles.push(parseInt($compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$[$csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$]));
else for($compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$=$csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$.getElementsByTagName("tile"),$layer$$5_objectGroup$$1_tileset$$._tiles=[],$csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$=0;$csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$<$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$.length;$csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$++)$layer$$5_objectGroup$$1_tileset$$._tiles.push(parseInt($compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$[$csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$].getAttribute("gid")));
break;default:this.layerAttrs==cc.TMXLayerInfo.ATTRIB_NONE&&cc.log("cc.TMXMapInfo.parseXMLFile(): Only base64 and/or gzip/zlib maps are supported")}if($imagename_layerProps_objects_selGroup_selLayer_tiles_tilesetSize$$=$imagename_layerProps_objects_selGroup_selLayer_tiles_tilesetSize$$.querySelectorAll("properties > property")){$csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$={};for($compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$=
0;$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$<$imagename_layerProps_objects_selGroup_selLayer_tiles_tilesetSize$$.length;$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$++)$csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$[$imagename_layerProps_objects_selGroup_selLayer_tiles_tilesetSize$$[$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$].getAttribute("name")]=
$imagename_layerProps_objects_selGroup_selLayer_tiles_tilesetSize$$[$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$].getAttribute("value");$layer$$5_objectGroup$$1_tileset$$.properties=$csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$}this.setLayers($layer$$5_objectGroup$$1_tileset$$)}if($aPropertyDict_layers$$3_objectGroups_tilesets$$=$map$$.getElementsByTagName("objectgroup"))for($i$$319_mapSize_version$$=
0;$i$$319_mapSize_version$$<$aPropertyDict_layers$$3_objectGroups_tilesets$$.length;$i$$319_mapSize_version$$++){$imagename_layerProps_objects_selGroup_selLayer_tiles_tilesetSize$$=$aPropertyDict_layers$$3_objectGroups_tilesets$$[$i$$319_mapSize_version$$];$layer$$5_objectGroup$$1_tileset$$=new cc.TMXObjectGroup;$layer$$5_objectGroup$$1_tileset$$.groupName=$imagename_layerProps_objects_selGroup_selLayer_tiles_tilesetSize$$.getAttribute("name");$layer$$5_objectGroup$$1_tileset$$.setPositionOffset(cc.p(parseFloat($imagename_layerProps_objects_selGroup_selLayer_tiles_tilesetSize$$.getAttribute("x"))*
this.getTileSize().width||0,parseFloat($imagename_layerProps_objects_selGroup_selLayer_tiles_tilesetSize$$.getAttribute("y"))*this.getTileSize().height||0));if($csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$=$imagename_layerProps_objects_selGroup_selLayer_tiles_tilesetSize$$.querySelectorAll("objectgroup > properties > property"))for($compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$=0;$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$<
$csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$.length;$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$++)$groupProp_nodeValue_polylineProps_selObj_selPlPointStr_tp$$={},$groupProp_nodeValue_polylineProps_selObj_selPlPointStr_tp$$[$csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$[$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$].getAttribute("name")]=
$csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$[$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$].getAttribute("value"),$layer$$5_objectGroup$$1_tileset$$.properties=$groupProp_nodeValue_polylineProps_selObj_selPlPointStr_tp$$;if($imagename_layerProps_objects_selGroup_selLayer_tiles_tilesetSize$$=$imagename_layerProps_objects_selGroup_selLayer_tiles_tilesetSize$$.querySelectorAll("object"))for($compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$=
0;$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$<$imagename_layerProps_objects_selGroup_selLayer_tiles_tilesetSize$$.length;$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$++){$groupProp_nodeValue_polylineProps_selObj_selPlPointStr_tp$$=$imagename_layerProps_objects_selGroup_selLayer_tiles_tilesetSize$$[$compression$$1_csvTiles_inflator_j$$56_layerSize_opacity$$22_orientationStr_propertyArr_selDataTiles_selTileset_t$$142_tsxPath_visible$$];
$csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$={};$csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$.name=$groupProp_nodeValue_polylineProps_selObj_selPlPointStr_tp$$.getAttribute("name")||"";$csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$.type=$groupProp_nodeValue_polylineProps_selObj_selPlPointStr_tp$$.getAttribute("type")||"";$csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$.x=parseInt($groupProp_nodeValue_polylineProps_selObj_selPlPointStr_tp$$.getAttribute("x")||0)+$layer$$5_objectGroup$$1_tileset$$.getPositionOffset().x;
$dict$$8_docObjProps_encoding$$1_polygonProps_selPgPointStr_y$$=parseInt($groupProp_nodeValue_polylineProps_selObj_selPlPointStr_tp$$.getAttribute("y")||0)+$layer$$5_objectGroup$$1_tileset$$.getPositionOffset().y;$csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$.width=parseInt($groupProp_nodeValue_polylineProps_selObj_selPlPointStr_tp$$.getAttribute("width"))||0;$csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$.height=parseInt($groupProp_nodeValue_polylineProps_selObj_selPlPointStr_tp$$.getAttribute("height"))||
0;$csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$.y=parseInt(this.getMapSize().height*this.getTileSize().height)-$dict$$8_docObjProps_encoding$$1_polygonProps_selPgPointStr_y$$-$csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$.height;$csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$.rotation=parseInt($groupProp_nodeValue_polylineProps_selObj_selPlPointStr_tp$$.getAttribute("rotation"))||0;if($dict$$8_docObjProps_encoding$$1_polygonProps_selPgPointStr_y$$=$groupProp_nodeValue_polylineProps_selObj_selPlPointStr_tp$$.querySelectorAll("properties > property"))for($k$$12_name$$=
0;$k$$12_name$$<$dict$$8_docObjProps_encoding$$1_polygonProps_selPgPointStr_y$$.length;$k$$12_name$$++)$csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$[$dict$$8_docObjProps_encoding$$1_polygonProps_selPgPointStr_y$$[$k$$12_name$$].getAttribute("name")]=$dict$$8_docObjProps_encoding$$1_polygonProps_selPgPointStr_y$$[$k$$12_name$$].getAttribute("value");($dict$$8_docObjProps_encoding$$1_polygonProps_selPgPointStr_y$$=$groupProp_nodeValue_polylineProps_selObj_selPlPointStr_tp$$.querySelectorAll("polygon"))&&
0<$dict$$8_docObjProps_encoding$$1_polygonProps_selPgPointStr_y$$.length&&($dict$$8_docObjProps_encoding$$1_polygonProps_selPgPointStr_y$$=$dict$$8_docObjProps_encoding$$1_polygonProps_selPgPointStr_y$$[0].getAttribute("points"))&&($csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$.polygonPoints=this._parsePointsString($dict$$8_docObjProps_encoding$$1_polygonProps_selPgPointStr_y$$));($groupProp_nodeValue_polylineProps_selObj_selPlPointStr_tp$$=$groupProp_nodeValue_polylineProps_selObj_selPlPointStr_tp$$.querySelectorAll("polyline"))&&
0<$groupProp_nodeValue_polylineProps_selObj_selPlPointStr_tp$$.length&&($groupProp_nodeValue_polylineProps_selObj_selPlPointStr_tp$$=$groupProp_nodeValue_polylineProps_selObj_selPlPointStr_tp$$[0].getAttribute("points"))&&($csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$.polylinePoints=this._parsePointsString($groupProp_nodeValue_polylineProps_selObj_selPlPointStr_tp$$));$layer$$5_objectGroup$$1_tileset$$.setObjects($csvIdx_data$$52_dir$$3_groupProps_layerProp_num$$)}this.setObjectGroups($layer$$5_objectGroup$$1_tileset$$)}return $map$$},
_parsePointsString:function($pointsStr_pointsString$$){if(!$pointsStr_pointsString$$)return null;var $points$$=[];$pointsStr_pointsString$$=$pointsStr_pointsString$$.split(" ");for(var $i$$=0;$i$$<$pointsStr_pointsString$$.length;$i$$++){var $selPointStr$$=$pointsStr_pointsString$$[$i$$].split(",");$points$$.push({x:$selPointStr$$[0],y:$selPointStr$$[1]})}return $points$$},parseXMLString:function($xmlString$$){return this.parseXMLFile($xmlString$$,!0)},getTileProperties:function(){return this._tileProperties},
setTileProperties:function($tileProperties$$){this._tileProperties.push($tileProperties$$)},getCurrentString:function(){return this.currentString},setCurrentString:function($currentString$$){this.currentString=$currentString$$},getTMXFileName:function(){return this.tmxFileName},setTMXFileName:function($fileName$$){this.tmxFileName=$fileName$$},_internalInit:function($tmxFileName$$,$resourcePath$$){this._tilesets.length=0;this._layers.length=0;this.tmxFileName=$tmxFileName$$;$resourcePath$$&&(this._resources=
$resourcePath$$);this._objectGroups.length=0;this.properties.length=0;this._tileProperties.length=0;this.currentString="";this.storingCharacters=!1;this.layerAttrs=cc.TMXLayerInfo.ATTRIB_NONE;this.parentElement=cc.TMX_PROPERTY_NONE;this._currentFirstGID=0}});_p=cc.TMXMapInfo.prototype;_p.mapWidth;cc.defineGetterSetter(_p,"mapWidth",_p._getMapWidth,_p._setMapWidth);_p.mapHeight;cc.defineGetterSetter(_p,"mapHeight",_p._getMapHeight,_p._setMapHeight);_p.tileWidth;
cc.defineGetterSetter(_p,"tileWidth",_p._getTileWidth,_p._setTileWidth);_p.tileHeight;cc.defineGetterSetter(_p,"tileHeight",_p._getTileHeight,_p._setTileHeight);cc.TMXMapInfo.create=function $cc$TMXMapInfo$create$($tmxFile$$,$resourcePath$$){return new cc.TMXMapInfo($tmxFile$$,$resourcePath$$)};cc.loader.register(["tmx","tsx"],cc._txtLoader);cc.TMXLayerInfo.ATTRIB_NONE=1;cc.TMXLayerInfo.ATTRIB_BASE64=2;cc.TMXLayerInfo.ATTRIB_GZIP=4;cc.TMXLayerInfo.ATTRIB_ZLIB=8;
cc.TMXObjectGroup=cc.Class.extend({properties:null,groupName:"",_positionOffset:null,_objects:null,ctor:function(){this.groupName="";this._positionOffset=cc.p(0,0);this.properties=[];this._objects=[]},getPositionOffset:function(){return cc.p(this._positionOffset)},setPositionOffset:function($offset$$){this._positionOffset.x=$offset$$.x;this._positionOffset.y=$offset$$.y},getProperties:function(){return this.properties},setProperties:function($Var$$){this.properties.push($Var$$)},getGroupName:function(){return this.groupName.toString()},
setGroupName:function($groupName$$){this.groupName=$groupName$$},propertyNamed:function($propertyName$$){return this.properties[$propertyName$$]},objectNamed:function($objectName$$){if(this._objects&&0<this._objects.length)for(var $locObjects$$=this._objects,$i$$=0,$len$$=$locObjects$$.length;$i$$<$len$$;$i$$++){var $name$$=$locObjects$$[$i$$].name;if($name$$&&$name$$==$objectName$$)return $locObjects$$[$i$$]}return null},getObjects:function(){return this._objects},setObjects:function($objects$$){this._objects.push($objects$$)}});
cc.TMXLayer=cc.SpriteBatchNode.extend({tiles:null,tileset:null,layerOrientation:null,properties:null,layerName:"",_layerSize:null,_mapTileSize:null,_opacity:255,_minGID:null,_maxGID:null,_vertexZvalue:null,_useAutomaticVertexZ:null,_reusedTile:null,_atlasIndexArray:null,_contentScaleFactor:null,_cacheCanvas:null,_cacheContext:null,_cacheTexture:null,_className:"TMXLayer",ctor:function($tilesetInfo$$,$layerInfo$$,$mapInfo$$){cc.SpriteBatchNode.prototype.ctor.call(this);this._descendants=[];this._layerSize=
cc.size(0,0);this._mapTileSize=cc.size(0,0);if(cc._renderType===cc._RENDER_TYPE_CANVAS){var $locCanvas$$=cc._canvas,$tmpCanvas$$=cc.newElement("canvas");$tmpCanvas$$.width=$locCanvas$$.width;$tmpCanvas$$.height=$locCanvas$$.height;this._cacheCanvas=$tmpCanvas$$;this._cacheContext=this._cacheCanvas.getContext("2d");var $tempTexture$$=new cc.Texture2D;$tempTexture$$.initWithElement($tmpCanvas$$);$tempTexture$$.handleLoadedTexture();this._cacheTexture=$tempTexture$$;this.width=$locCanvas$$.width;this.height=
$locCanvas$$.height;this._cachedParent=this}void 0!==$mapInfo$$&&this.initWithTilesetInfo($tilesetInfo$$,$layerInfo$$,$mapInfo$$)},_initRendererCmd:function(){this._rendererCmd=cc._renderType===cc._RENDER_TYPE_CANVAS?new cc.TMXLayerRenderCmdCanvas(this):new cc.TMXLayerRenderCmdWebGL(this)},setContentSize:function($size$$,$height$$){var $locContentSize$$=this._contentSize;cc.Node.prototype.setContentSize.call(this,$size$$,$height$$);if(cc._renderType===cc._RENDER_TYPE_CANVAS){var $locCanvas$$=this._cacheCanvas,
$i$$322_scaleFactor$$=cc.contentScaleFactor();$locCanvas$$.width=0|1.5*$locContentSize$$.width*$i$$322_scaleFactor$$;$locCanvas$$.height=0|1.5*$locContentSize$$.height*$i$$322_scaleFactor$$;this.layerOrientation===cc.TMX_ORIENTATION_HEX?this._cacheContext.translate(0,$locCanvas$$.height-.5*this._mapTileSize.height):this._cacheContext.translate(0,$locCanvas$$.height);$locContentSize$$=this._cacheTexture._contentSize;$locContentSize$$.width=$locCanvas$$.width;$locContentSize$$.height=$locCanvas$$.height;
$locContentSize$$=$locCanvas$$.width*$locCanvas$$.height;if($locContentSize$$>this._maxCachePixel){this._subCacheCanvas||(this._subCacheCanvas=[]);this._subCacheContext||(this._subCacheContext=[]);this._subCacheCount=Math.ceil($locContentSize$$/this._maxCachePixel);$locContentSize$$=this._subCacheCanvas;for($i$$322_scaleFactor$$=0;$i$$322_scaleFactor$$<this._subCacheCount;$i$$322_scaleFactor$$++){$locContentSize$$[$i$$322_scaleFactor$$]||($locContentSize$$[$i$$322_scaleFactor$$]=document.createElement("canvas"),
this._subCacheContext[$i$$322_scaleFactor$$]=$locContentSize$$[$i$$322_scaleFactor$$].getContext("2d"));var $tmpCanvas$$=$locContentSize$$[$i$$322_scaleFactor$$];$tmpCanvas$$.width=this._subCacheWidth=Math.round($locCanvas$$.width/this._subCacheCount);$tmpCanvas$$.height=$locCanvas$$.height}for($i$$322_scaleFactor$$=this._subCacheCount;$i$$322_scaleFactor$$<$locContentSize$$.length;$i$$322_scaleFactor$$++)$tmpCanvas$$.width=0,$tmpCanvas$$.height=0}else this._subCacheCount=0}},getTexture:null,_getTextureForCanvas:function(){return this._cacheTexture},
visit:null,_visitForCanvas:function($ctx$$85_locCacheContext$$){var $i$$323_t$$,$len$$,$locChildren$$=this._children;if(this._visible&&$locChildren$$&&0!==$locChildren$$.length){this._parent&&(this._curLevel=this._parent._curLevel+1);this.transform();if(this._cacheDirty){$ctx$$85_locCacheContext$$=this._cacheContext;var $locCanvas$$=this._cacheCanvas,$locView$$=cc.view,$instanceID$$=this.__instanceId,$renderer$$=cc.renderer;$renderer$$._turnToCacheMode($instanceID$$);this.sortAllChildren();$i$$323_t$$=
0;for($len$$=$locChildren$$.length;$i$$323_t$$<$len$$;$i$$323_t$$++)$locChildren$$[$i$$323_t$$]&&($locChildren$$[$i$$323_t$$].visit(),$locChildren$$[$i$$323_t$$]._cacheDirty=!1);this._rendererCmd._copyRendererCmds($renderer$$._cacheToCanvasCmds[$instanceID$$]);$ctx$$85_locCacheContext$$.save();$ctx$$85_locCacheContext$$.clearRect(0,0,$locCanvas$$.width,-$locCanvas$$.height);$i$$323_t$$=cc.affineTransformInvert(this._transformWorld);$ctx$$85_locCacheContext$$.transform($i$$323_t$$.a,$i$$323_t$$.c,
$i$$323_t$$.b,$i$$323_t$$.d,$i$$323_t$$.tx*$locView$$.getScaleX(),-$i$$323_t$$.ty*$locView$$.getScaleY());$renderer$$._renderingToCacheCanvas($ctx$$85_locCacheContext$$,$instanceID$$);$ctx$$85_locCacheContext$$.restore();this._cacheDirty=!1}cc.renderer.pushRenderCommand(this._rendererCmd)}},_setNodeDirtyForCache:function(){this._cacheDirty=!0;-1===cc.renderer._transformNodePool.indexOf(this)&&cc.renderer.pushDirtyNode(this);this._renderCmdDiry=!0},draw:null,_drawForCanvas:function($context$$37_ctx$$){$context$$37_ctx$$=
$context$$37_ctx$$||cc._renderContext;var $posX$$=0|-this._anchorPointInPoints.x,$posY$$=0|-this._anchorPointInPoints.y,$eglViewer$$=cc.view,$locCacheCanvas$$=this._cacheCanvas;if($locCacheCanvas$$){var $locSubCacheCount$$=this._subCacheCount,$locCanvasHeight$$=$locCacheCanvas$$.height*$eglViewer$$._scaleY,$halfTileSize$$=.5*this._mapTileSize.height*$eglViewer$$._scaleY;if(0<$locSubCacheCount$$)for(var $locCacheCanvas$$=this._subCacheCanvas,$i$$=0;$i$$<$locSubCacheCount$$;$i$$++){var $selSubCanvas$$=
$locCacheCanvas$$[$i$$];this.layerOrientation===cc.TMX_ORIENTATION_HEX?$context$$37_ctx$$.drawImage($locCacheCanvas$$[$i$$],0,0,$selSubCanvas$$.width,$selSubCanvas$$.height,$posX$$+$i$$*this._subCacheWidth*$eglViewer$$._scaleX,-($posY$$+$locCanvasHeight$$)+$halfTileSize$$,$selSubCanvas$$.width*$eglViewer$$._scaleX,$locCanvasHeight$$):$context$$37_ctx$$.drawImage($locCacheCanvas$$[$i$$],0,0,$selSubCanvas$$.width,$selSubCanvas$$.height,$posX$$+$i$$*this._subCacheWidth*$eglViewer$$._scaleX,-($posY$$+
$locCanvasHeight$$),$selSubCanvas$$.width*$eglViewer$$._scaleX,$locCanvasHeight$$)}else this.layerOrientation===cc.TMX_ORIENTATION_HEX?$context$$37_ctx$$.drawImage($locCacheCanvas$$,0,0,$locCacheCanvas$$.width,$locCacheCanvas$$.height,$posX$$,-($posY$$+$locCanvasHeight$$)+$halfTileSize$$,$locCacheCanvas$$.width*$eglViewer$$._scaleX,$locCanvasHeight$$):$context$$37_ctx$$.drawImage($locCacheCanvas$$,0,0,$locCacheCanvas$$.width,$locCacheCanvas$$.height,$posX$$,-($posY$$+$locCanvasHeight$$),$locCacheCanvas$$.width*
$eglViewer$$._scaleX,$locCanvasHeight$$)}},getLayerSize:function(){return cc.size(this._layerSize.width,this._layerSize.height)},setLayerSize:function($Var$$){this._layerSize.width=$Var$$.width;this._layerSize.height=$Var$$.height},_getLayerWidth:function(){return this._layerSize.width},_setLayerWidth:function($width$$){this._layerSize.width=$width$$},_getLayerHeight:function(){return this._layerSize.height},_setLayerHeight:function($height$$){this._layerSize.height=$height$$},getMapTileSize:function(){return cc.size(this._mapTileSize.width,
this._mapTileSize.height)},setMapTileSize:function($Var$$){this._mapTileSize.width=$Var$$.width;this._mapTileSize.height=$Var$$.height},_getTileWidth:function(){return this._mapTileSize.width},_setTileWidth:function($width$$){this._mapTileSize.width=$width$$},_getTileHeight:function(){return this._mapTileSize.height},_setTileHeight:function($height$$){this._mapTileSize.height=$height$$},getTiles:function(){return this.tiles},setTiles:function($Var$$){this.tiles=$Var$$},getTileset:function(){return this.tileset},
setTileset:function($Var$$){this.tileset=$Var$$},getLayerOrientation:function(){return this.layerOrientation},setLayerOrientation:function($Var$$){this.layerOrientation=$Var$$},getProperties:function(){return this.properties},setProperties:function($Var$$){this.properties=$Var$$},initWithTilesetInfo:function($offset$$44_tilesetInfo$$,$layerInfo$$,$mapInfo$$){var $size$$=$layerInfo$$._layerSize,$capacity$$=.35*parseInt($size$$.width*$size$$.height)+1,$texture$$;$offset$$44_tilesetInfo$$&&($texture$$=
cc.textureCache.addImage($offset$$44_tilesetInfo$$.sourceImage));return this.initWithTexture($texture$$,$capacity$$)?(this.layerName=$layerInfo$$.name,this._layerSize=$size$$,this.tiles=$layerInfo$$._tiles,this._minGID=$layerInfo$$._minGID,this._maxGID=$layerInfo$$._maxGID,this._opacity=$layerInfo$$._opacity,this.properties=$layerInfo$$.properties,this._contentScaleFactor=cc.director.getContentScaleFactor(),this.tileset=$offset$$44_tilesetInfo$$,this._mapTileSize=$mapInfo$$.getTileSize(),this.layerOrientation=
$mapInfo$$.orientation,$offset$$44_tilesetInfo$$=this._calculateLayerOffset($layerInfo$$.offset),this.setPosition(cc.pointPixelsToPoints($offset$$44_tilesetInfo$$)),this._atlasIndexArray=[],this.setContentSize(cc.sizePixelsToPoints(cc.size(this._layerSize.width*this._mapTileSize.width,this._layerSize.height*this._mapTileSize.height))),this._useAutomaticVertexZ=!1,this._vertexZvalue=0,!0):!1},releaseMap:function(){this.tiles&&(this.tiles=null);this._atlasIndexArray&&(this._atlasIndexArray=null)},getTileAt:function($pos$$,
$y$$){if(!$pos$$)throw"cc.TMXLayer.getTileAt(): pos should be non-null";void 0!==$y$$&&($pos$$=cc.p($pos$$,$y$$));if($pos$$.x>=this._layerSize.width||$pos$$.y>=this._layerSize.height||0>$pos$$.x||0>$pos$$.y)throw"cc.TMXLayer.getTileAt(): invalid position";if(!this.tiles||!this._atlasIndexArray)return cc.log("cc.TMXLayer.getTileAt(): TMXLayer: the tiles map has been released"),null;var $tile$$=null,$gid$$2_indexForZ_rect$$=this.getTileGIDAt($pos$$);if(0===$gid$$2_indexForZ_rect$$)return $tile$$;var $z$$=
0|$pos$$.x+$pos$$.y*this._layerSize.width,$tile$$=this.getChildByTag($z$$);$tile$$||($gid$$2_indexForZ_rect$$=this.tileset.rectForGID($gid$$2_indexForZ_rect$$),$gid$$2_indexForZ_rect$$=cc.rectPixelsToPoints($gid$$2_indexForZ_rect$$),$tile$$=new cc.Sprite,$tile$$.initWithTexture(this.texture,$gid$$2_indexForZ_rect$$),$tile$$.batchNode=this,$tile$$.setPosition(this.getPositionAt($pos$$)),$tile$$.vertexZ=this._vertexZForPos($pos$$),$tile$$.anchorX=0,$tile$$.anchorY=0,$tile$$.opacity=this._opacity,$gid$$2_indexForZ_rect$$=
this._atlasIndexForExistantZ($z$$),this.addSpriteWithoutQuad($tile$$,$gid$$2_indexForZ_rect$$,$z$$));return $tile$$},getTileGIDAt:function($pos$$,$y$$){if(!$pos$$)throw"cc.TMXLayer.getTileGIDAt(): pos should be non-null";void 0!==$y$$&&($pos$$=cc.p($pos$$,$y$$));if($pos$$.x>=this._layerSize.width||$pos$$.y>=this._layerSize.height||0>$pos$$.x||0>$pos$$.y)throw"cc.TMXLayer.getTileGIDAt(): invalid position";return this.tiles&&this._atlasIndexArray?(this.tiles[0|$pos$$.x+$pos$$.y*this._layerSize.width]&
cc.TMX_TILE_FLIPPED_MASK)>>>0:(cc.log("cc.TMXLayer.getTileGIDAt(): TMXLayer: the tiles map has been released"),null)},getTileFlagsAt:function($pos$$,$y$$){if(!$pos$$)throw"cc.TMXLayer.getTileFlagsAt(): pos should be non-null";void 0!==$y$$&&($pos$$=cc.p($pos$$,$y$$));if($pos$$.x>=this._layerSize.width||$pos$$.y>=this._layerSize.height||0>$pos$$.x||0>$pos$$.y)throw"cc.TMXLayer.getTileFlagsAt(): invalid position";return this.tiles&&this._atlasIndexArray?(this.tiles[0|$pos$$.x+$pos$$.y*this._layerSize.width]&
cc.TMX_TILE_FLIPPED_ALL)>>>0:(cc.log("cc.TMXLayer.getTileFlagsAt(): TMXLayer: the tiles map has been released"),null)},setTileGID:function($gid$$3_rect$$,$pos$$50_posOrX$$,$currentFlags_flagsOrY_gidAndFlags$$,$flags$$){if(!$pos$$50_posOrX$$)throw"cc.TMXLayer.setTileGID(): pos should be non-null";void 0!==$flags$$?$pos$$50_posOrX$$=cc.p($pos$$50_posOrX$$,$currentFlags_flagsOrY_gidAndFlags$$):$flags$$=$currentFlags_flagsOrY_gidAndFlags$$;if($pos$$50_posOrX$$.x>=this._layerSize.width||$pos$$50_posOrX$$.y>=
this._layerSize.height||0>$pos$$50_posOrX$$.x||0>$pos$$50_posOrX$$.y)throw"cc.TMXLayer.setTileGID(): invalid position";if(this.tiles&&this._atlasIndexArray)if(0!==$gid$$3_rect$$&&$gid$$3_rect$$<this.tileset.firstGid)cc.log("cc.TMXLayer.setTileGID(): invalid gid:"+$gid$$3_rect$$);else{$flags$$=$flags$$||0;this._setNodeDirtyForCache();$currentFlags_flagsOrY_gidAndFlags$$=this.getTileFlagsAt($pos$$50_posOrX$$);var $currentGID_z$$=this.getTileGIDAt($pos$$50_posOrX$$);if($currentGID_z$$!=$gid$$3_rect$$||
$currentFlags_flagsOrY_gidAndFlags$$!=$flags$$)if($currentFlags_flagsOrY_gidAndFlags$$=($gid$$3_rect$$|$flags$$)>>>0,0===$gid$$3_rect$$)this.removeTileAt($pos$$50_posOrX$$);else if(0===$currentGID_z$$)this._insertTileForGID($currentFlags_flagsOrY_gidAndFlags$$,$pos$$50_posOrX$$);else{var $currentGID_z$$=$pos$$50_posOrX$$.x+$pos$$50_posOrX$$.y*this._layerSize.width,$sprite$$=this.getChildByTag($currentGID_z$$);$sprite$$?($gid$$3_rect$$=this.tileset.rectForGID($gid$$3_rect$$),$gid$$3_rect$$=cc.rectPixelsToPoints($gid$$3_rect$$),
$sprite$$.setTextureRect($gid$$3_rect$$,!1),null!=$flags$$&&this._setupTileSprite($sprite$$,$pos$$50_posOrX$$,$currentFlags_flagsOrY_gidAndFlags$$),this.tiles[$currentGID_z$$]=$currentFlags_flagsOrY_gidAndFlags$$):this._updateTileForGID($currentFlags_flagsOrY_gidAndFlags$$,$pos$$50_posOrX$$)}}else cc.log("cc.TMXLayer.setTileGID(): TMXLayer: the tiles map has been released")},removeTileAt:function($pos$$,$y$$){if(!$pos$$)throw"cc.TMXLayer.removeTileAt(): pos should be non-null";void 0!==$y$$&&($pos$$=
cc.p($pos$$,$y$$));if($pos$$.x>=this._layerSize.width||$pos$$.y>=this._layerSize.height||0>$pos$$.x||0>$pos$$.y)throw"cc.TMXLayer.removeTileAt(): invalid position";if(!this.tiles||!this._atlasIndexArray)cc.log("cc.TMXLayer.removeTileAt(): TMXLayer: the tiles map has been released");else if(0!==this.getTileGIDAt($pos$$)){cc._renderType===cc._RENDER_TYPE_CANVAS&&this._setNodeDirtyForCache();var $locChildren$$42_sprite$$22_z$$=0|$pos$$.x+$pos$$.y*this._layerSize.width,$atlasIndex$$=this._atlasIndexForExistantZ($locChildren$$42_sprite$$22_z$$);
this.tiles[$locChildren$$42_sprite$$22_z$$]=0;this._atlasIndexArray.splice($atlasIndex$$,1);if($locChildren$$42_sprite$$22_z$$=this.getChildByTag($locChildren$$42_sprite$$22_z$$))cc.SpriteBatchNode.prototype.removeChild.call(this,$locChildren$$42_sprite$$22_z$$,!0);else if(cc._renderType===cc._RENDER_TYPE_WEBGL&&this.textureAtlas.removeQuadAtIndex($atlasIndex$$),this._children)for(var $locChildren$$42_sprite$$22_z$$=this._children,$i$$=0,$len$$=$locChildren$$42_sprite$$22_z$$.length;$i$$<$len$$;$i$$++){var $child$$=
$locChildren$$42_sprite$$22_z$$[$i$$];if($child$$){var $ai$$=$child$$.atlasIndex;$ai$$>=$atlasIndex$$&&($child$$.atlasIndex=$ai$$-1)}}}},getPositionAt:function($pos$$,$y$$){void 0!==$y$$&&($pos$$=cc.p($pos$$,$y$$));var $ret$$=cc.p(0,0);switch(this.layerOrientation){case cc.TMX_ORIENTATION_ORTHO:$ret$$=this._positionForOrthoAt($pos$$);break;case cc.TMX_ORIENTATION_ISO:$ret$$=this._positionForIsoAt($pos$$);break;case cc.TMX_ORIENTATION_HEX:$ret$$=this._positionForHexAt($pos$$)}return cc.pointPixelsToPoints($ret$$)},
getProperty:function($propertyName$$){return this.properties[$propertyName$$]},setupTiles:function(){cc._renderType===cc._RENDER_TYPE_CANVAS?this.tileset.imageSize=this._originalTexture.getContentSizeInPixels():(this.tileset.imageSize=this.textureAtlas.texture.getContentSizeInPixels(),this.textureAtlas.texture.setAliasTexParameters());this._parseInternalProperties();cc._renderType===cc._RENDER_TYPE_CANVAS&&this._setNodeDirtyForCache();for(var $locLayerHeight$$=this._layerSize.height,$locLayerWidth$$=
this._layerSize.width,$y$$=0;$y$$<$locLayerHeight$$;$y$$++)for(var $x$$=0;$x$$<$locLayerWidth$$;$x$$++){var $gid$$=this.tiles[$x$$+$locLayerWidth$$*$y$$];0!==$gid$$&&(this._appendTileForGID($gid$$,cc.p($x$$,$y$$)),this._minGID=Math.min($gid$$,this._minGID),this._maxGID=Math.max($gid$$,this._maxGID))}this._maxGID>=this.tileset.firstGid&&this._minGID>=this.tileset.firstGid||cc.log("cocos2d:TMX: Only 1 tileset per layer is supported")},addChild:function($child$$,$zOrder$$,$tag$$){cc.log("addChild: is not supported on cc.TMXLayer. Instead use setTileGID or tileAt.")},
removeChild:function($sprite$$,$cleanup$$){if($sprite$$)if(-1===this._children.indexOf($sprite$$))cc.log("cc.TMXLayer.removeChild(): Tile does not belong to TMXLayer");else{cc._renderType===cc._RENDER_TYPE_CANVAS&&this._setNodeDirtyForCache();var $atlasIndex$$=$sprite$$.atlasIndex;this.tiles[this._atlasIndexArray[$atlasIndex$$]]=0;this._atlasIndexArray.splice($atlasIndex$$,1);cc.SpriteBatchNode.prototype.removeChild.call(this,$sprite$$,$cleanup$$);cc.renderer.childrenOrderDirty=!0}},getLayerName:function(){return this.layerName},
setLayerName:function($layerName$$){this.layerName=$layerName$$},_positionForIsoAt:function($pos$$){return cc.p(this._mapTileSize.width/2*(this._layerSize.width+$pos$$.x-$pos$$.y-1),this._mapTileSize.height/2*(2*this._layerSize.height-$pos$$.x-$pos$$.y-2))},_positionForOrthoAt:function($pos$$){return cc.p($pos$$.x*this._mapTileSize.width,(this._layerSize.height-$pos$$.y-1)*this._mapTileSize.height)},_positionForHexAt:function($pos$$){return cc.p($pos$$.x*this._mapTileSize.width*3/4,(this._layerSize.height-
$pos$$.y-1)*this._mapTileSize.height+(1==$pos$$.x%2?-this._mapTileSize.height/2:0))},_calculateLayerOffset:function($pos$$){var $ret$$=cc.p(0,0);switch(this.layerOrientation){case cc.TMX_ORIENTATION_ORTHO:$ret$$=cc.p($pos$$.x*this._mapTileSize.width,-$pos$$.y*this._mapTileSize.height);break;case cc.TMX_ORIENTATION_ISO:$ret$$=cc.p(this._mapTileSize.width/2*($pos$$.x-$pos$$.y),this._mapTileSize.height/2*(-$pos$$.x-$pos$$.y));break;case cc.TMX_ORIENTATION_HEX:0===$pos$$.x&&0===$pos$$.y||cc.log("offset for hexagonal map not implemented yet")}return $ret$$},
_appendTileForGID:function($gid$$,$pos$$){var $rect$$57_tile$$=this.tileset.rectForGID($gid$$),$rect$$57_tile$$=cc.rectPixelsToPoints($rect$$57_tile$$),$z$$=0|$pos$$.x+$pos$$.y*this._layerSize.width,$rect$$57_tile$$=this._reusedTileWithRect($rect$$57_tile$$);this._setupTileSprite($rect$$57_tile$$,$pos$$,$gid$$);var $indexForZ$$=this._atlasIndexArray.length;this.insertQuadFromSprite($rect$$57_tile$$,$indexForZ$$);this._atlasIndexArray.splice($indexForZ$$,0,$z$$);return $rect$$57_tile$$},_insertTileForGID:function($gid$$,
$pos$$){var $rect$$58_tile$$=this.tileset.rectForGID($gid$$),$rect$$58_tile$$=cc.rectPixelsToPoints($rect$$58_tile$$),$z$$=0|$pos$$.x+$pos$$.y*this._layerSize.width,$rect$$58_tile$$=this._reusedTileWithRect($rect$$58_tile$$);this._setupTileSprite($rect$$58_tile$$,$pos$$,$gid$$);var $indexForZ$$=this._atlasIndexForNewZ($z$$);this.insertQuadFromSprite($rect$$58_tile$$,$indexForZ$$);this._atlasIndexArray.splice($indexForZ$$,0,$z$$);if(this._children)for(var $locChildren$$=this._children,$i$$=0,$len$$=
$locChildren$$.length;$i$$<$len$$;$i$$++){var $child$$=$locChildren$$[$i$$];if($child$$){var $ai$$=$child$$.atlasIndex;$ai$$>=$indexForZ$$&&($child$$.atlasIndex=$ai$$+1)}}this.tiles[$z$$]=$gid$$;return $rect$$58_tile$$},_updateTileForGID:function($gid$$,$pos$$){var $rect$$59_tile$$=this.tileset.rectForGID($gid$$),$locScaleFactor$$4_z$$=this._contentScaleFactor,$rect$$59_tile$$=cc.rect($rect$$59_tile$$.x/$locScaleFactor$$4_z$$,$rect$$59_tile$$.y/$locScaleFactor$$4_z$$,$rect$$59_tile$$.width/$locScaleFactor$$4_z$$,
$rect$$59_tile$$.height/$locScaleFactor$$4_z$$),$locScaleFactor$$4_z$$=$pos$$.x+$pos$$.y*this._layerSize.width,$rect$$59_tile$$=this._reusedTileWithRect($rect$$59_tile$$);this._setupTileSprite($rect$$59_tile$$,$pos$$,$gid$$);$rect$$59_tile$$.atlasIndex=this._atlasIndexForExistantZ($locScaleFactor$$4_z$$);$rect$$59_tile$$.dirty=!0;$rect$$59_tile$$.updateTransform();this.tiles[$locScaleFactor$$4_z$$]=$gid$$;return $rect$$59_tile$$},_parseInternalProperties:function(){var $alphaFuncValue_vertexz$$=this.getProperty("cc_vertexz");
if($alphaFuncValue_vertexz$$)if("automatic"==$alphaFuncValue_vertexz$$){this._useAutomaticVertexZ=!0;var $alphaFuncVal_alphaValueLocation$$=this.getProperty("cc_alpha_func"),$alphaFuncValue_vertexz$$=0;$alphaFuncVal_alphaValueLocation$$&&($alphaFuncValue_vertexz$$=parseFloat($alphaFuncVal_alphaValueLocation$$));cc._renderType===cc._RENDER_TYPE_WEBGL&&(this.shaderProgram=cc.shaderCache.programForKey(cc.SHADER_POSITION_TEXTURECOLORALPHATEST),$alphaFuncVal_alphaValueLocation$$=cc._renderContext.getUniformLocation(this.shaderProgram.getProgram(),
cc.UNIFORM_ALPHA_TEST_VALUE_S),this.shaderProgram.use(),this.shaderProgram.setUniformLocationWith1f($alphaFuncVal_alphaValueLocation$$,$alphaFuncValue_vertexz$$))}else this._vertexZvalue=parseInt($alphaFuncValue_vertexz$$,10)},_setupTileSprite:function($sprite$$,$flag$$4_pos$$,$gid$$){var $z$$=$flag$$4_pos$$.x+$flag$$4_pos$$.y*this._layerSize.width;$sprite$$.setPosition(this.getPositionAt($flag$$4_pos$$));cc._renderType===cc._RENDER_TYPE_WEBGL?$sprite$$.vertexZ=this._vertexZForPos($flag$$4_pos$$):
$sprite$$.tag=$z$$;$sprite$$.anchorX=0;$sprite$$.anchorY=0;$sprite$$.opacity=this._opacity;cc._renderType===cc._RENDER_TYPE_WEBGL&&($sprite$$.rotation=0);$sprite$$.setFlippedX(!1);$sprite$$.setFlippedY(!1);($gid$$&cc.TMX_TILE_DIAGONAL_FLAG)>>>0?($sprite$$.anchorX=.5,$sprite$$.anchorY=.5,$sprite$$.x=this.getPositionAt($flag$$4_pos$$).x+$sprite$$.width/2,$sprite$$.y=this.getPositionAt($flag$$4_pos$$).y+$sprite$$.height/2,$flag$$4_pos$$=($gid$$&(cc.TMX_TILE_HORIZONTAL_FLAG|cc.TMX_TILE_VERTICAL_FLAG)>>>
0)>>>0,$flag$$4_pos$$==cc.TMX_TILE_HORIZONTAL_FLAG?$sprite$$.rotation=90:$flag$$4_pos$$==cc.TMX_TILE_VERTICAL_FLAG?$sprite$$.rotation=270:($sprite$$.rotation=$flag$$4_pos$$==(cc.TMX_TILE_VERTICAL_FLAG|cc.TMX_TILE_HORIZONTAL_FLAG)>>>0?90:270,$sprite$$.setFlippedX(!0))):(($gid$$&cc.TMX_TILE_HORIZONTAL_FLAG)>>>0&&$sprite$$.setFlippedX(!0),($gid$$&cc.TMX_TILE_VERTICAL_FLAG)>>>0&&$sprite$$.setFlippedY(!0))},_reusedTileWithRect:function($rect$$){cc._renderType===cc._RENDER_TYPE_WEBGL?(this._reusedTile?
(this._reusedTile.batchNode=null,this._reusedTile.setTextureRect($rect$$,!1)):(this._reusedTile=new cc.Sprite,this._reusedTile.initWithTexture(this.texture,$rect$$,!1)),this._reusedTile.batchNode=this):(this._reusedTile=new cc.Sprite,this._reusedTile.initWithTexture(this._textureForCanvas,$rect$$,!1),this._reusedTile.batchNode=this,this._reusedTile.parent=this,this._reusedTile._cachedParent=this);return this._reusedTile},_vertexZForPos:function($pos$$){var $ret$$=0,$maxVal$$=0;if(this._useAutomaticVertexZ)switch(this.layerOrientation){case cc.TMX_ORIENTATION_ISO:$maxVal$$=
this._layerSize.width+this._layerSize.height;$ret$$=-($maxVal$$-($pos$$.x+$pos$$.y));break;case cc.TMX_ORIENTATION_ORTHO:$ret$$=-(this._layerSize.height-$pos$$.y);break;case cc.TMX_ORIENTATION_HEX:cc.log("TMX Hexa zOrder not supported");break;default:cc.log("TMX invalid value")}else $ret$$=this._vertexZvalue;return $ret$$},_atlasIndexForExistantZ:function($z$$){var $item$$;if(this._atlasIndexArray)for(var $locAtlasIndexArray$$=this._atlasIndexArray,$i$$=0,$len$$=$locAtlasIndexArray$$.length;$i$$<
$len$$&&($item$$=$locAtlasIndexArray$$[$i$$],$item$$!=$z$$);$i$$++);cc.isNumber($item$$)||cc.log("cc.TMXLayer._atlasIndexForExistantZ(): TMX atlas index not found. Shall not happen");return $i$$},_atlasIndexForNewZ:function($z$$){for(var $locAtlasIndexArray$$=this._atlasIndexArray,$i$$=0,$len$$=$locAtlasIndexArray$$.length;$i$$<$len$$&&!($z$$<$locAtlasIndexArray$$[$i$$]);$i$$++);return $i$$}});_p=cc.TMXLayer.prototype;
cc._renderType==cc._RENDER_TYPE_WEBGL?(_p.draw=cc.SpriteBatchNode.prototype.draw,_p.visit=cc.SpriteBatchNode.prototype.visit,_p.getTexture=cc.SpriteBatchNode.prototype.getTexture):(_p.draw=_p._drawForCanvas,_p.visit=_p._visitForCanvas,_p.getTexture=_p._getTextureForCanvas);cc.defineGetterSetter(_p,"texture",_p.getTexture,_p.setTexture);_p.layerWidth;cc.defineGetterSetter(_p,"layerWidth",_p._getLayerWidth,_p._setLayerWidth);_p.layerHeight;cc.defineGetterSetter(_p,"layerHeight",_p._getLayerHeight,_p._setLayerHeight);
_p.tileWidth;cc.defineGetterSetter(_p,"tileWidth",_p._getTileWidth,_p._setTileWidth);_p.tileHeight;cc.defineGetterSetter(_p,"tileHeight",_p._getTileHeight,_p._setTileHeight);cc.TMXLayer.create=function $cc$TMXLayer$create$($tilesetInfo$$,$layerInfo$$,$mapInfo$$){return new cc.TMXLayer($tilesetInfo$$,$layerInfo$$,$mapInfo$$)};
cc.PointObject=cc.Class.extend({_ratio:null,_offset:null,_child:null,ctor:function($ratio$$,$offset$$){this.initWithCCPoint($ratio$$,$offset$$)},getRatio:function(){return this._ratio},setRatio:function($value$$){this._ratio=$value$$},getOffset:function(){return this._offset},setOffset:function($value$$){this._offset=$value$$},getChild:function(){return this._child},setChild:function($value$$){this._child=$value$$},initWithCCPoint:function($ratio$$,$offset$$){this._ratio=$ratio$$;this._offset=$offset$$;
this._child=null;return!0}});cc.PointObject.create=function $cc$PointObject$create$($ratio$$,$offset$$){return new cc.PointObject($ratio$$,$offset$$)};
cc.ParallaxNode=cc.Node.extend({parallaxArray:null,_lastPosition:null,_className:"ParallaxNode",getParallaxArray:function(){return this.parallaxArray},setParallaxArray:function($value$$){this.parallaxArray=$value$$},ctor:function(){cc.Node.prototype.ctor.call(this);this.parallaxArray=[];this._lastPosition=cc.p(-100,-100)},addChild:function($child$$,$z$$,$ratio$$,$offset$$){if(3===arguments.length)cc.log("ParallaxNode: use addChild(child, z, ratio, offset) instead");else{if(!$child$$)throw"cc.ParallaxNode.addChild(): child should be non-null";
var $obj$$=new cc.PointObject($ratio$$,$offset$$);$obj$$.setChild($child$$);this.parallaxArray.push($obj$$);$child$$.setPosition(this._position.x*$ratio$$.x+$offset$$.x,this._position.y*$ratio$$.y+$offset$$.y);cc.Node.prototype.addChild.call(this,$child$$,$z$$,$child$$.tag)}},removeChild:function($child$$,$cleanup$$){for(var $locParallaxArray$$=this.parallaxArray,$i$$=0;$i$$<$locParallaxArray$$.length;$i$$++)if($locParallaxArray$$[$i$$].getChild()==$child$$){$locParallaxArray$$.splice($i$$,1);break}cc.Node.prototype.removeChild.call(this,
$child$$,$cleanup$$)},removeAllChildren:function($cleanup$$){this.parallaxArray.length=0;cc.Node.prototype.removeAllChildren.call(this,$cleanup$$)},visit:function(){var $pos$$=this._absolutePosition();if(!cc.pointEqualToPoint($pos$$,this._lastPosition)){for(var $locParallaxArray$$=this.parallaxArray,$i$$=0,$len$$=$locParallaxArray$$.length;$i$$<$len$$;$i$$++){var $point$$=$locParallaxArray$$[$i$$];$point$$.getChild().setPosition(-$pos$$.x+$pos$$.x*$point$$.getRatio().x+$point$$.getOffset().x,-$pos$$.y+
$pos$$.y*$point$$.getRatio().y+$point$$.getOffset().y)}this._lastPosition=$pos$$}cc.Node.prototype.visit.call(this)},_absolutePosition:function(){for(var $ret$$=this._position,$cn$$=this;null!=$cn$$.parent;)$cn$$=$cn$$.parent,$ret$$=cc.pAdd($ret$$,$cn$$.getPosition());return $ret$$},_transformForRenderer:function(){var $pos$$=this._absolutePosition();if(!cc.pointEqualToPoint($pos$$,this._lastPosition)){for(var $locParallaxArray$$=this.parallaxArray,$i$$=0,$len$$=$locParallaxArray$$.length;$i$$<$len$$;$i$$++){var $point$$=
$locParallaxArray$$[$i$$];$point$$.getChild().setPosition(-$pos$$.x+$pos$$.x*$point$$.getRatio().x+$point$$.getOffset().x,-$pos$$.y+$pos$$.y*$point$$.getRatio().y+$point$$.getOffset().y)}this._lastPosition=$pos$$}cc.Node.prototype._transformForRenderer.call(this)}});cc.ParallaxNode.create=function $cc$ParallaxNode$create$(){return new cc.ParallaxNode};cc.CONTROL_EVENT_TOTAL_NUMBER=9;cc.CONTROL_EVENT_TOUCH_DOWN=1;cc.CONTROL_EVENT_TOUCH_DRAG_INSIDE=2;cc.CONTROL_EVENT_TOUCH_DRAG_OUTSIDE=4;
cc.CONTROL_EVENT_TOUCH_DRAG_ENTER=8;cc.CONTROL_EVENT_TOUCH_DRAG_EXIT=16;cc.CONTROL_EVENT_TOUCH_UP_INSIDE=32;cc.CONTROL_EVENT_TOUCH_UP_OUTSIDE=64;cc.CONTROL_EVENT_TOUCH_CANCEL=128;cc.CONTROL_EVENT_VALUECHANGED=256;cc.CONTROL_STATE_NORMAL=1;cc.CONTROL_STATE_HIGHLIGHTED=2;cc.CONTROL_STATE_DISABLED=4;cc.CONTROL_STATE_SELECTED=8;cc.CONTROL_STATE_INITIAL=8;
cc.Control=cc.Layer.extend({_isOpacityModifyRGB:!1,_hasVisibleParents:!1,_touchListener:null,_className:"Control",isOpacityModifyRGB:function(){return this._isOpacityModifyRGB},setOpacityModifyRGB:function($opacityModifyRGB$$){this._isOpacityModifyRGB=$opacityModifyRGB$$;for(var $children$$=this.getChildren(),$i$$=0,$len$$=$children$$.length;$i$$<$len$$;$i$$++){var $selNode$$=$children$$[$i$$];$selNode$$&&$selNode$$.setOpacityModifyRGB($opacityModifyRGB$$)}},_state:cc.CONTROL_STATE_NORMAL,getState:function(){return this._state},
_enabled:!1,_selected:!1,_highlighted:!1,_dispatchTable:null,setEnabled:function($enabled$$){this._state=(this._enabled=$enabled$$)?cc.CONTROL_STATE_NORMAL:cc.CONTROL_STATE_DISABLED;this.needsLayout()},isEnabled:function(){return this._enabled},setSelected:function($selected$$){this._selected=$selected$$;this.needsLayout()},isSelected:function(){return this._selected},setHighlighted:function($highlighted$$){this._highlighted=$highlighted$$;this.needsLayout()},isHighlighted:function(){return this._highlighted},
hasVisibleParents:function(){for(var $c$$=this.getParent();null!=$c$$;$c$$=$c$$.getParent())if(!$c$$.isVisible())return!1;return!0},ctor:function(){cc.Layer.prototype.ctor.call(this);this._dispatchTable={};this._color=cc.color.WHITE},init:function(){if(cc.Layer.prototype.init.call(this)){this._state=cc.CONTROL_STATE_NORMAL;this._enabled=!0;this._highlighted=this._selected=!1;var $listener$$=cc.EventListener.create({event:cc.EventListener.TOUCH_ONE_BY_ONE});this.onTouchBegan&&($listener$$.onTouchBegan=
this.onTouchBegan.bind(this));this.onTouchMoved&&($listener$$.onTouchMoved=this.onTouchMoved.bind(this));this.onTouchEnded&&($listener$$.onTouchEnded=this.onTouchEnded.bind(this));this.onTouchCancelled&&($listener$$.onTouchCancelled=this.onTouchCancelled.bind(this));this._touchListener=$listener$$;return!0}return!1},onEnter:function(){var $locListener$$=this._touchListener;$locListener$$._isRegistered()||cc.eventManager.addListener($locListener$$,this);cc.Node.prototype.onEnter.call(this)},sendActionsForControlEvents:function($controlEvents$$){for(var $i$$=
0,$len$$=cc.CONTROL_EVENT_TOTAL_NUMBER;$i$$<$len$$;$i$$++)if($controlEvents$$&1<<$i$$)for(var $invocationList$$=this._dispatchListforControlEvent(1<<$i$$),$j$$=0,$inLen$$=$invocationList$$.length;$j$$<$inLen$$;$j$$++)$invocationList$$[$j$$].invoke(this)},addTargetWithActionForControlEvents:function($target$$,$action$$,$controlEvents$$){for(var $i$$=0,$len$$=cc.CONTROL_EVENT_TOTAL_NUMBER;$i$$<$len$$;$i$$++)$controlEvents$$&1<<$i$$&&this._addTargetWithActionForControlEvent($target$$,$action$$,1<<$i$$)},
removeTargetWithActionForControlEvents:function($target$$,$action$$,$controlEvents$$){for(var $i$$=0,$len$$=cc.CONTROL_EVENT_TOTAL_NUMBER;$i$$<$len$$;$i$$++)$controlEvents$$&1<<$i$$&&this._removeTargetWithActionForControlEvent($target$$,$action$$,1<<$i$$)},getTouchLocation:function($touch$$11_touchLocation$$){$touch$$11_touchLocation$$=$touch$$11_touchLocation$$.getLocation();return this.convertToNodeSpace($touch$$11_touchLocation$$)},isTouchInside:function($touch$$12_touchLocation$$){$touch$$12_touchLocation$$=
$touch$$12_touchLocation$$.getLocation();$touch$$12_touchLocation$$=this.getParent().convertToNodeSpace($touch$$12_touchLocation$$);return cc.rectContainsPoint(this.getBoundingBox(),$touch$$12_touchLocation$$)},_invocationWithTargetAndActionForControlEvent:function($target$$,$action$$,$controlEvent$$){return null},_dispatchListforControlEvent:function($controlEvent$$){$controlEvent$$=$controlEvent$$.toString();this._dispatchTable[$controlEvent$$]||(this._dispatchTable[$controlEvent$$]=[]);return this._dispatchTable[$controlEvent$$]},
_addTargetWithActionForControlEvent:function($invocation_target$$,$action$$,$controlEvent$$){$invocation_target$$=new cc.Invocation($invocation_target$$,$action$$,$controlEvent$$);this._dispatchListforControlEvent($controlEvent$$).push($invocation_target$$)},_removeTargetWithActionForControlEvent:function($target$$,$action$$,$controlEvent$$3_eventInvocationList$$){$controlEvent$$3_eventInvocationList$$=this._dispatchListforControlEvent($controlEvent$$3_eventInvocationList$$);if($target$$||$action$$)for(var $i$$=
0;$i$$<$controlEvent$$3_eventInvocationList$$.length;){var $invocation$$=$controlEvent$$3_eventInvocationList$$[$i$$],$shouldBeRemoved$$=!0;$target$$&&($shouldBeRemoved$$=$target$$==$invocation$$.getTarget());$action$$&&($shouldBeRemoved$$=$shouldBeRemoved$$&&$action$$==$invocation$$.getAction());$shouldBeRemoved$$?cc.arrayRemoveObject($controlEvent$$3_eventInvocationList$$,$invocation$$):$i$$++}else $controlEvent$$3_eventInvocationList$$.length=0},needsLayout:function(){}});_p=cc.Control.prototype;
_p.state;cc.defineGetterSetter(_p,"state",_p.getState);_p.enabled;cc.defineGetterSetter(_p,"enabled",_p.isEnabled,_p.setEnabled);_p.selected;cc.defineGetterSetter(_p,"selected",_p.isSelected,_p.setSelected);_p.highlighted;cc.defineGetterSetter(_p,"highlighted",_p.isHighlighted,_p.setHighlighted);_p=null;cc.Control.create=function $cc$Control$create$(){var $retControl$$=new cc.Control;return $retControl$$&&$retControl$$.init()?$retControl$$:null};cc.CONTROL_ZOOM_ACTION_TAG=3435855873;
cc.ControlButton=cc.Control.extend({_doesAdjustBackgroundImage:!1,zoomOnTouchDown:!1,_preferredSize:null,_labelAnchorPoint:null,_currentTitle:null,_currentTitleColor:null,_titleLabel:null,_backgroundSprite:null,_opacity:0,_isPushed:!1,_titleDispatchTable:null,_titleColorDispatchTable:null,_titleLabelDispatchTable:null,_backgroundSpriteDispatchTable:null,_parentInited:!1,_marginV:0,_marginH:0,_className:"ControlButton",ctor:function($label$$,$backgroundSprite$$,$fontSize$$){cc.Control.prototype.ctor.call(this);
this._preferredSize=cc.size(0,0);this._labelAnchorPoint=cc.p(0,0);this._currentTitle="";this._currentTitleColor=cc.color.WHITE;this._titleDispatchTable={};this._titleColorDispatchTable={};this._titleLabelDispatchTable={};this._backgroundSpriteDispatchTable={};void 0!=$fontSize$$?this.initWithTitleAndFontNameAndFontSize($label$$,$backgroundSprite$$,$fontSize$$):void 0!=$backgroundSprite$$?this.initWithLabelAndBackgroundSprite($label$$,$backgroundSprite$$):void 0!=$label$$?this.initWithBackgroundSprite($label$$):
this.init()},init:function(){return this.initWithLabelAndBackgroundSprite(new cc.LabelTTF("","Arial",12),new cc.Scale9Sprite)},needsLayout:function(){if(this._parentInited){this._titleLabel&&this._titleLabel.setVisible(!1);this._backgroundSprite&&this._backgroundSprite.setVisible(!1);this.setLabelAnchorPoint(this._labelAnchorPoint);var $locBackgroundSprite_locState$$=this._state;this._currentTitle=this.getTitleForState($locBackgroundSprite_locState$$);this._currentTitleColor=this.getTitleColorForState($locBackgroundSprite_locState$$);
var $label$$=this._titleLabel=this.getTitleLabelForState($locBackgroundSprite_locState$$);$label$$&&$label$$.setString&&$label$$.setString(this._currentTitle);$label$$&&$label$$.setColor(this._currentTitleColor);var $locContentSize$$=this.getContentSize();$label$$&&$label$$.setPosition($locContentSize$$.width/2,$locContentSize$$.height/2);($locBackgroundSprite_locState$$=this._backgroundSprite=this.getBackgroundSpriteForState($locBackgroundSprite_locState$$))&&$locBackgroundSprite_locState$$.setPosition($locContentSize$$.width/
2,$locContentSize$$.height/2);$locContentSize$$=cc.size(0,0);if($label$$){var $boundingBox$$=$label$$.getBoundingBox();$locContentSize$$.width=$boundingBox$$.width;$locContentSize$$.height=$boundingBox$$.height}this._doesAdjustBackgroundImage?$locBackgroundSprite_locState$$&&$locBackgroundSprite_locState$$.setContentSize($locContentSize$$.width+2*this._marginH,$locContentSize$$.height+2*this._marginV):$locBackgroundSprite_locState$$&&($boundingBox$$=$locBackgroundSprite_locState$$.getPreferredSize(),
$boundingBox$$=cc.size($boundingBox$$.width,$boundingBox$$.height),0>=$boundingBox$$.width&&($boundingBox$$.width=$locContentSize$$.width),0>=$boundingBox$$.height&&($boundingBox$$.height=$locContentSize$$.height),$locBackgroundSprite_locState$$.setContentSize($boundingBox$$));$locContentSize$$=$label$$?$label$$.getBoundingBox():cc.rect(0,0,0,0);$boundingBox$$=$locBackgroundSprite_locState$$?$locBackgroundSprite_locState$$.getBoundingBox():cc.rect(0,0,0,0);$locContentSize$$=cc.rectUnion($locContentSize$$,
$boundingBox$$);this.setContentSize($locContentSize$$.width,$locContentSize$$.height);$locContentSize$$=this.getContentSize();$label$$&&($label$$.setPosition($locContentSize$$.width/2,$locContentSize$$.height/2),$label$$.setVisible(!0));$locBackgroundSprite_locState$$&&($locBackgroundSprite_locState$$.setPosition($locContentSize$$.width/2,$locContentSize$$.height/2),$locBackgroundSprite_locState$$.setVisible(!0))}},initWithLabelAndBackgroundSprite:function($label$$,$backgroundSprite$$){if(!$label$$)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): label should be non-null";
if(!$backgroundSprite$$)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): backgroundSprite should be non-null";if(cc.Control.prototype.init.call(this,!0)){this._parentInited=!0;this._titleDispatchTable={};this._titleColorDispatchTable={};this._titleLabelDispatchTable={};this._backgroundSpriteDispatchTable={};this._isPushed=!1;this.zoomOnTouchDown=!0;this._currentTitle=null;this.setAdjustBackgroundImage(!0);this.setPreferredSize(cc.size(0,0));this.zoomOnTouchDown=!0;this.ignoreAnchorPointForPosition(!1);
this.setAnchorPoint(.5,.5);this._titleLabel=$label$$;this._backgroundSprite=$backgroundSprite$$;this.setOpacity(255);this.setOpacityModifyRGB(!0);var $tempString$$=$label$$.getString();this.setTitleForState($tempString$$,cc.CONTROL_STATE_NORMAL);this.setTitleColorForState($label$$.getColor(),cc.CONTROL_STATE_NORMAL);this.setTitleLabelForState($label$$,cc.CONTROL_STATE_NORMAL);this.setBackgroundSpriteForState($backgroundSprite$$,cc.CONTROL_STATE_NORMAL);this._state=cc.CONTROL_STATE_NORMAL;this._marginH=
24;this._marginV=12;this._labelAnchorPoint=cc.p(.5,.5);this.setPreferredSize(cc.size(0,0));this.needsLayout();return!0}return!1},initWithTitleAndFontNameAndFontSize:function($label$$23_title$$,$fontName$$,$fontSize$$){$label$$23_title$$=new cc.LabelTTF($label$$23_title$$,$fontName$$,$fontSize$$);return this.initWithLabelAndBackgroundSprite($label$$23_title$$,new cc.Scale9Sprite)},initWithBackgroundSprite:function($sprite$$){var $label$$=new cc.LabelTTF("","Arial",30);return this.initWithLabelAndBackgroundSprite($label$$,
$sprite$$)},doesAdjustBackgroundImage:function(){return this._doesAdjustBackgroundImage},setAdjustBackgroundImage:function($adjustBackgroundImage$$){this._doesAdjustBackgroundImage=$adjustBackgroundImage$$;this.needsLayout()},getZoomOnTouchDown:function(){return this.zoomOnTouchDown},setZoomOnTouchDown:function($zoomOnTouchDown$$){return this.zoomOnTouchDown=$zoomOnTouchDown$$},getPreferredSize:function(){return this._preferredSize},setPreferredSize:function($size$$){if(0===$size$$.width&&0===$size$$.height)this._doesAdjustBackgroundImage=
!0;else{this._doesAdjustBackgroundImage=!1;var $locTable$$=this._backgroundSpriteDispatchTable,$itemKey$$;for($itemKey$$ in $locTable$$)$locTable$$[$itemKey$$].setPreferredSize($size$$)}this._preferredSize=$size$$;this.needsLayout()},getLabelAnchorPoint:function(){return this._labelAnchorPoint},setLabelAnchorPoint:function($labelAnchorPoint$$){this._labelAnchorPoint=$labelAnchorPoint$$;this._titleLabel&&this._titleLabel.setAnchorPoint($labelAnchorPoint$$)},_getCurrentTitle:function(){return this._currentTitle},
_getCurrentTitleColor:function(){return this._currentTitleColor},getOpacity:function(){return this._opacity},setOpacity:function($opacity$$){cc.Control.prototype.setOpacity.call(this,$opacity$$);var $locTable$$=this._backgroundSpriteDispatchTable,$itemKey$$;for($itemKey$$ in $locTable$$)$locTable$$[$itemKey$$].setOpacity($opacity$$)},setColor:function($color$$){cc.Control.prototype.setColor.call(this,$color$$);var $locTable$$=this._backgroundSpriteDispatchTable,$key$$;for($key$$ in $locTable$$)$locTable$$[$key$$].setColor($color$$)},
getColor:function(){var $locRealColor$$=this._realColor;return cc.color($locRealColor$$.r,$locRealColor$$.g,$locRealColor$$.b,$locRealColor$$.a)},isPushed:function(){return this._isPushed},_getVerticalMargin:function(){return this._marginV},_getHorizontalOrigin:function(){return this._marginH},setMargins:function($marginH$$,$marginV$$){this._marginV=$marginV$$;this._marginH=$marginH$$;this.needsLayout()},setEnabled:function($enabled$$){cc.Control.prototype.setEnabled.call(this,$enabled$$);this.needsLayout()},
setSelected:function($enabled$$){cc.Control.prototype.setSelected.call(this,$enabled$$);this.needsLayout()},setHighlighted:function($action$$185_enabled$$13_scaleValue_zoomAction$$){this._state=$action$$185_enabled$$13_scaleValue_zoomAction$$?cc.CONTROL_STATE_HIGHLIGHTED:cc.CONTROL_STATE_NORMAL;cc.Control.prototype.setHighlighted.call(this,$action$$185_enabled$$13_scaleValue_zoomAction$$);($action$$185_enabled$$13_scaleValue_zoomAction$$=this.getActionByTag(cc.CONTROL_ZOOM_ACTION_TAG))&&this.stopAction($action$$185_enabled$$13_scaleValue_zoomAction$$);
this.needsLayout();this.zoomOnTouchDown&&($action$$185_enabled$$13_scaleValue_zoomAction$$=this.isHighlighted()&&this.isEnabled()&&!this.isSelected()?1.1:1,$action$$185_enabled$$13_scaleValue_zoomAction$$=cc.scaleTo(.05,$action$$185_enabled$$13_scaleValue_zoomAction$$),$action$$185_enabled$$13_scaleValue_zoomAction$$.setTag(cc.CONTROL_ZOOM_ACTION_TAG),this.runAction($action$$185_enabled$$13_scaleValue_zoomAction$$))},onTouchBegan:function($touch$$,$event$$){if(!(this.isTouchInside($touch$$)&&this.isEnabled()&&
this.isVisible()&&this.hasVisibleParents()))return!1;this._isPushed=!0;this.setHighlighted(!0);this.sendActionsForControlEvents(cc.CONTROL_EVENT_TOUCH_DOWN);return!0},onTouchMoved:function($touch$$,$event$$){if(this._enabled&&this._isPushed&&!this._selected){var $isTouchMoveInside$$=this.isTouchInside($touch$$);$isTouchMoveInside$$&&!this._highlighted?(this.setHighlighted(!0),this.sendActionsForControlEvents(cc.CONTROL_EVENT_TOUCH_DRAG_ENTER)):$isTouchMoveInside$$&&this._highlighted?this.sendActionsForControlEvents(cc.CONTROL_EVENT_TOUCH_DRAG_INSIDE):
!$isTouchMoveInside$$&&this._highlighted?(this.setHighlighted(!1),this.sendActionsForControlEvents(cc.CONTROL_EVENT_TOUCH_DRAG_EXIT)):$isTouchMoveInside$$||this._highlighted||this.sendActionsForControlEvents(cc.CONTROL_EVENT_TOUCH_DRAG_OUTSIDE)}else this._highlighted&&this.setHighlighted(!1)},onTouchEnded:function($touch$$,$event$$){this._isPushed=!1;this.setHighlighted(!1);this.isTouchInside($touch$$)?this.sendActionsForControlEvents(cc.CONTROL_EVENT_TOUCH_UP_INSIDE):this.sendActionsForControlEvents(cc.CONTROL_EVENT_TOUCH_UP_OUTSIDE)},
onTouchCancelled:function($touch$$,$event$$){this._isPushed=!1;this.setHighlighted(!1);this.sendActionsForControlEvents(cc.CONTROL_EVENT_TOUCH_CANCEL)},getTitleForState:function($state$$){var $locTable$$=this._titleDispatchTable;return $locTable$$?$locTable$$[$state$$]?$locTable$$[$state$$]:$locTable$$[cc.CONTROL_STATE_NORMAL]:""},setTitleForState:function($title$$,$state$$){this._titleDispatchTable[$state$$]=$title$$||"";this.getState()==$state$$&&this.needsLayout()},getTitleColorForState:function($colorObject_state$$){return($colorObject_state$$=
this._titleColorDispatchTable[$colorObject_state$$])?$colorObject_state$$:($colorObject_state$$=this._titleColorDispatchTable[cc.CONTROL_STATE_NORMAL])?$colorObject_state$$:cc.color.WHITE},setTitleColorForState:function($color$$,$state$$){this._titleColorDispatchTable[$state$$]=$color$$;this.getState()==$state$$&&this.needsLayout()},getTitleLabelForState:function($state$$){var $locTable$$=this._titleLabelDispatchTable;return $locTable$$[$state$$]?$locTable$$[$state$$]:$locTable$$[cc.CONTROL_STATE_NORMAL]},
setTitleLabelForState:function($titleLabel$$,$state$$){var $locTable$$=this._titleLabelDispatchTable;if($locTable$$[$state$$]){var $previousLabel$$=$locTable$$[$state$$];$previousLabel$$&&this.removeChild($previousLabel$$,!0)}$locTable$$[$state$$]=$titleLabel$$;$titleLabel$$.setVisible(!1);$titleLabel$$.setAnchorPoint(.5,.5);this.addChild($titleLabel$$,1);this.getState()==$state$$&&this.needsLayout()},setTitleTTFForState:function($fntFile$$,$state$$){var $title$$=this.getTitleForState($state$$);$title$$||
($title$$="");this.setTitleLabelForState(new cc.LabelTTF($title$$,$fntFile$$,12),$state$$)},getTitleTTFForState:function($labelTTF_state$$){$labelTTF_state$$=this.getTitleLabelForState($labelTTF_state$$);return null!=$labelTTF_state$$&&$labelTTF_state$$ instanceof cc.LabelTTF?$labelTTF_state$$.getFontName():""},setTitleTTFSizeForState:function($size$$,$state$$){var $labelTTF$$=this.getTitleLabelForState($state$$);null!=$labelTTF$$&&$labelTTF$$ instanceof cc.LabelTTF&&$labelTTF$$.setFontSize($size$$)},
getTitleTTFSizeForState:function($labelTTF$$2_state$$){$labelTTF$$2_state$$=this.getTitleLabelForState($labelTTF$$2_state$$);return null!=$labelTTF$$2_state$$&&$labelTTF$$2_state$$ instanceof cc.LabelTTF?$labelTTF$$2_state$$.getFontSize():0},setTitleBMFontForState:function($fntFile$$,$state$$){var $title$$=this.getTitleForState($state$$);$title$$||($title$$="");this.setTitleLabelForState(new cc.LabelBMFont($title$$,$fntFile$$),$state$$)},getTitleBMFontForState:function($labelBMFont_state$$){$labelBMFont_state$$=
this.getTitleLabelForState($labelBMFont_state$$);return null!=$labelBMFont_state$$&&$labelBMFont_state$$ instanceof cc.LabelBMFont?$labelBMFont_state$$.getFntFile():""},getBackgroundSpriteForState:function($state$$){var $locTable$$=this._backgroundSpriteDispatchTable;return $locTable$$[$state$$]?$locTable$$[$state$$]:$locTable$$[cc.CONTROL_STATE_NORMAL]},setBackgroundSpriteForState:function($sprite$$,$state$$){var $locPreferredSize_locTable$$=this._backgroundSpriteDispatchTable;if($locPreferredSize_locTable$$[$state$$]){var $previousSprite$$=
$locPreferredSize_locTable$$[$state$$];$previousSprite$$&&this.removeChild($previousSprite$$,!0)}$locPreferredSize_locTable$$[$state$$]=$sprite$$;$sprite$$.setVisible(!1);$sprite$$.setAnchorPoint(.5,.5);this.addChild($sprite$$);$locPreferredSize_locTable$$=this._preferredSize;0===$locPreferredSize_locTable$$.width&&0===$locPreferredSize_locTable$$.height||$sprite$$.setPreferredSize($locPreferredSize_locTable$$);this._state===$state$$&&this.needsLayout()},setBackgroundSpriteFrameForState:function($spriteFrame$$,
$state$$){var $sprite$$=cc.Scale9Sprite.createWithSpriteFrame($spriteFrame$$);this.setBackgroundSpriteForState($sprite$$,$state$$)}});_p=cc.ControlButton.prototype;_p.adjustBackground;cc.defineGetterSetter(_p,"adjustBackground",_p.getAdjustBackgroundImage,_p.setAdjustBackgroundImage);_p.preferredSize;cc.defineGetterSetter(_p,"preferredSize",_p.getPreferredSize,_p.setPreferredSize);_p.labelAnchor;cc.defineGetterSetter(_p,"labelAnchor",_p.getLabelAnchorPoint,_p.setLabelAnchorPoint);_p=null;
cc.ControlButton.create=function $cc$ControlButton$create$($label$$,$backgroundSprite$$,$fontSize$$){return new cc.ControlButton($label$$,$backgroundSprite$$,$fontSize$$)};cc.RGBA=function $cc$RGBA$($r$$,$g$$,$b$$,$a$$){this.r=$r$$;this.g=$g$$;this.b=$b$$;this.a=$a$$};cc.HSV=function $cc$HSV$($h$$,$s$$,$v$$){this.h=$h$$;this.s=$s$$;this.v=$v$$};cc.ControlUtils={};
cc.ControlUtils.addSpriteToTargetWithPosAndAnchor=function $cc$ControlUtils$addSpriteToTargetWithPosAndAnchor$($sprite$$,$target$$,$pos$$,$anchor$$){$sprite$$=new cc.Sprite("#"+$sprite$$);if(!$sprite$$)return null;$sprite$$.setPosition($pos$$);$sprite$$.setAnchorPoint($anchor$$);$target$$.addChild($sprite$$);return $sprite$$};
cc.ControlUtils.HSVfromRGB=function $cc$ControlUtils$HSVfromRGB$($rgbaValue$$){var $out$$=new cc.HSV,$delta$$3_min$$,$max$$;$delta$$3_min$$=$rgbaValue$$.r<$rgbaValue$$.g?$rgbaValue$$.r:$rgbaValue$$.g;$delta$$3_min$$=$delta$$3_min$$<$rgbaValue$$.b?$delta$$3_min$$:$rgbaValue$$.b;$max$$=$rgbaValue$$.r>$rgbaValue$$.g?$rgbaValue$$.r:$rgbaValue$$.g;$max$$=$max$$>$rgbaValue$$.b?$max$$:$rgbaValue$$.b;$out$$.v=$max$$;$delta$$3_min$$=$max$$-$delta$$3_min$$;if(0<$max$$)$out$$.s=$delta$$3_min$$/$max$$;else return $out$$.s=
0,$out$$.h=-1,$out$$;$out$$.h=$rgbaValue$$.r>=$max$$?($rgbaValue$$.g-$rgbaValue$$.b)/$delta$$3_min$$:$rgbaValue$$.g>=$max$$?2+($rgbaValue$$.b-$rgbaValue$$.r)/$delta$$3_min$$:4+($rgbaValue$$.r-$rgbaValue$$.g)/$delta$$3_min$$;$out$$.h*=60;0>$out$$.h&&($out$$.h+=360);return $out$$};
cc.ControlUtils.RGBfromHSV=function $cc$ControlUtils$RGBfromHSV$($hsvValue$$){var $hh$$3_p$$,$q$$,$ff_t$$,$i$$,$out$$=new cc.RGBA;$out$$.a=1;if(0>=$hsvValue$$.s){if(!$hsvValue$$.h)return $out$$.r=$hsvValue$$.v,$out$$.g=$hsvValue$$.v,$out$$.b=$hsvValue$$.v,$out$$;$out$$.r=0;$out$$.g=0;$out$$.b=0;return $out$$}$hh$$3_p$$=$hsvValue$$.h;360<=$hh$$3_p$$&&($hh$$3_p$$=0);$hh$$3_p$$/=60;$i$$=0|$hh$$3_p$$;$ff_t$$=$hh$$3_p$$-$i$$;$hh$$3_p$$=$hsvValue$$.v*(1-$hsvValue$$.s);$q$$=$hsvValue$$.v*(1-$hsvValue$$.s*
$ff_t$$);$ff_t$$=$hsvValue$$.v*(1-$hsvValue$$.s*(1-$ff_t$$));switch($i$$){case 0:$out$$.r=$hsvValue$$.v;$out$$.g=$ff_t$$;$out$$.b=$hh$$3_p$$;break;case 1:$out$$.r=$q$$;$out$$.g=$hsvValue$$.v;$out$$.b=$hh$$3_p$$;break;case 2:$out$$.r=$hh$$3_p$$;$out$$.g=$hsvValue$$.v;$out$$.b=$ff_t$$;break;case 3:$out$$.r=$hh$$3_p$$;$out$$.g=$q$$;$out$$.b=$hsvValue$$.v;break;case 4:$out$$.r=$ff_t$$;$out$$.g=$hh$$3_p$$;$out$$.b=$hsvValue$$.v;break;default:$out$$.r=$hsvValue$$.v,$out$$.g=$hh$$3_p$$,$out$$.b=$q$$}return $out$$};
cc.ControlUtils.CCRectUnion=function $cc$ControlUtils$CCRectUnion$($rect1$$,$rect2$$){return cc.rectUnion($rect1$$,$rect2$$)};
cc.Invocation=cc.Class.extend({_action:null,_target:null,_controlEvent:null,ctor:function($target$$,$action$$,$controlEvent$$){this._target=$target$$;this._action=$action$$;this._controlEvent=$controlEvent$$},getAction:function(){return this._action},getTarget:function(){return this._target},getControlEvent:function(){return this._controlEvent},invoke:function($sender$$){if(this._target&&this._action)if(cc.isString(this._action))this._target[this._action]($sender$$,this._controlEvent);else this._action.call(this._target,
$sender$$,this._controlEvent)}});
cc.Scale9Sprite=cc.Node.extend({_spriteRect:null,_capInsetsInternal:null,_positionsAreDirty:!1,_scale9Image:null,_topLeft:null,_top:null,_topRight:null,_left:null,_centre:null,_right:null,_bottomLeft:null,_bottom:null,_bottomRight:null,_cacheSprite:null,_cacheCanvas:null,_cacheContext:null,_cacheTexture:null,_scale9Dirty:!0,_opacityModifyRGB:!1,_originalSize:null,_preferredSize:null,_opacity:0,_color:null,_capInsets:null,_insetLeft:0,_insetTop:0,_insetRight:0,_insetBottom:0,_spritesGenerated:!1,_spriteFrameRotated:!1,
_textureLoaded:!1,_className:"Scale9Sprite",textureLoaded:function(){return this._textureLoaded},addLoadedEventListener:function($callback$$,$target$$){this.addEventListener("load",$callback$$,$target$$)},_updateCapInset:function(){var $insets_locInsetLeft$$;$insets_locInsetLeft$$=this._insetLeft;var $locInsetTop$$=this._insetTop,$locInsetRight$$=this._insetRight,$locSpriteRect$$=this._spriteRect,$locInsetBottom$$=this._insetBottom;$insets_locInsetLeft$$=0===$insets_locInsetLeft$$&&0===$locInsetTop$$&&
0===$locInsetRight$$&&0===$locInsetBottom$$?cc.rect(0,0,0,0):this._spriteFrameRotated?cc.rect($locInsetBottom$$,$insets_locInsetLeft$$,$locSpriteRect$$.width-$locInsetRight$$-$insets_locInsetLeft$$,$locSpriteRect$$.height-$locInsetTop$$-$locInsetBottom$$):cc.rect($insets_locInsetLeft$$,$locInsetTop$$,$locSpriteRect$$.width-$insets_locInsetLeft$$-$locInsetRight$$,$locSpriteRect$$.height-$locInsetTop$$-$locInsetBottom$$);this.setCapInsets($insets_locInsetLeft$$)},_updatePositions:function(){if(this._topLeft&&
this._topRight&&this._bottomRight&&this._bottomLeft&&this._centre){var $sizableHeight_size$$=this._contentSize,$locTopLeft$$=this._topLeft,$locTopRight$$=this._topRight,$locBottomRight$$=this._bottomRight,$locBottomLeft$$=this._bottomLeft,$locCenter$$=this._centre,$locCenterContentSize_locLeft$$=this._centre.getContentSize(),$locTopLeftContentSize_rescaledWidth$$=$locTopLeft$$.getContentSize(),$bottomHeight_locBottomLeftContentSize$$=$locBottomLeft$$.getContentSize(),$horizontalScale_sizableWidth$$=
$sizableHeight_size$$.width-$locTopLeftContentSize_rescaledWidth$$.width-$locTopRight$$.getContentSize().width,$sizableHeight_size$$=$sizableHeight_size$$.height-$locTopLeftContentSize_rescaledWidth$$.height-$locBottomRight$$.getContentSize().height,$horizontalScale_sizableWidth$$=$horizontalScale_sizableWidth$$/$locCenterContentSize_locLeft$$.width,$sizableHeight_size$$=$sizableHeight_size$$/$locCenterContentSize_locLeft$$.height,$locTopLeftContentSize_rescaledWidth$$=$locCenterContentSize_locLeft$$.width*
$horizontalScale_sizableWidth$$,$rescaledHeight$$=$locCenterContentSize_locLeft$$.height*$sizableHeight_size$$,$leftWidth$$=$bottomHeight_locBottomLeftContentSize$$.width,$bottomHeight_locBottomLeftContentSize$$=$bottomHeight_locBottomLeftContentSize$$.height;if(cc._renderType==cc._RENDER_TYPE_WEBGL){var $locRight_roundedRescaledHeight_roundedRescaledWidth$$=Math.round($locTopLeftContentSize_rescaledWidth$$);$locTopLeftContentSize_rescaledWidth$$!=$locRight_roundedRescaledHeight_roundedRescaledWidth$$&&
($locTopLeftContentSize_rescaledWidth$$=$locRight_roundedRescaledHeight_roundedRescaledWidth$$,$horizontalScale_sizableWidth$$=$locTopLeftContentSize_rescaledWidth$$/$locCenterContentSize_locLeft$$.width);$locRight_roundedRescaledHeight_roundedRescaledWidth$$=Math.round($rescaledHeight$$);$rescaledHeight$$!=$locRight_roundedRescaledHeight_roundedRescaledWidth$$&&($rescaledHeight$$=$locRight_roundedRescaledHeight_roundedRescaledWidth$$,$sizableHeight_size$$=$rescaledHeight$$/$locCenterContentSize_locLeft$$.height)}$locCenter$$.setScaleX($horizontalScale_sizableWidth$$);
$locCenter$$.setScaleY($sizableHeight_size$$);var $locCenterContentSize_locLeft$$=this._left,$locRight_roundedRescaledHeight_roundedRescaledWidth$$=this._right,$locTop$$=this._top,$locBottom$$=this._bottom,$tempAP$$=cc.p(0,0);$locBottomLeft$$.setAnchorPoint($tempAP$$);$locBottomRight$$.setAnchorPoint($tempAP$$);$locTopLeft$$.setAnchorPoint($tempAP$$);$locTopRight$$.setAnchorPoint($tempAP$$);$locCenterContentSize_locLeft$$.setAnchorPoint($tempAP$$);$locRight_roundedRescaledHeight_roundedRescaledWidth$$.setAnchorPoint($tempAP$$);
$locTop$$.setAnchorPoint($tempAP$$);$locBottom$$.setAnchorPoint($tempAP$$);$locCenter$$.setAnchorPoint($tempAP$$);$locBottomLeft$$.setPosition(0,0);$locBottomRight$$.setPosition($leftWidth$$+$locTopLeftContentSize_rescaledWidth$$,0);$locTopLeft$$.setPosition(0,$bottomHeight_locBottomLeftContentSize$$+$rescaledHeight$$);$locTopRight$$.setPosition($leftWidth$$+$locTopLeftContentSize_rescaledWidth$$,$bottomHeight_locBottomLeftContentSize$$+$rescaledHeight$$);$locCenterContentSize_locLeft$$.setPosition(0,
$bottomHeight_locBottomLeftContentSize$$);$locCenterContentSize_locLeft$$.setScaleY($sizableHeight_size$$);$locRight_roundedRescaledHeight_roundedRescaledWidth$$.setPosition($leftWidth$$+$locTopLeftContentSize_rescaledWidth$$,$bottomHeight_locBottomLeftContentSize$$);$locRight_roundedRescaledHeight_roundedRescaledWidth$$.setScaleY($sizableHeight_size$$);$locBottom$$.setPosition($leftWidth$$,0);$locBottom$$.setScaleX($horizontalScale_sizableWidth$$);$locTop$$.setPosition($leftWidth$$,$bottomHeight_locBottomLeftContentSize$$+
$rescaledHeight$$);$locTop$$.setScaleX($horizontalScale_sizableWidth$$);$locCenter$$.setPosition($leftWidth$$,$bottomHeight_locBottomLeftContentSize$$)}},_cacheScale9Sprite:function(){if(this._scale9Image){var $locScaleFactor$$5_sizeInPixels$$=cc.contentScaleFactor(),$size$$=this._contentSize,$locScaleFactor$$5_sizeInPixels$$=cc.size($size$$.width*$locScaleFactor$$5_sizeInPixels$$,$size$$.height*$locScaleFactor$$5_sizeInPixels$$),$locCanvas$$=this._cacheCanvas,$contentSizeChanged$$=!1;if($locCanvas$$.width!=
$locScaleFactor$$5_sizeInPixels$$.width||$locCanvas$$.height!=$locScaleFactor$$5_sizeInPixels$$.height)$locCanvas$$.width=$locScaleFactor$$5_sizeInPixels$$.width,$locCanvas$$.height=$locScaleFactor$$5_sizeInPixels$$.height,this._cacheContext.translate(0,$locScaleFactor$$5_sizeInPixels$$.height),$contentSizeChanged$$=!0;cc.renderer._turnToCacheMode(this.__instanceId);this._scale9Image.visit();this._cacheContext.clearRect(0,0,$locScaleFactor$$5_sizeInPixels$$.width,-$locScaleFactor$$5_sizeInPixels$$.height);
cc.renderer._renderingToCacheCanvas(this._cacheContext,this.__instanceId);$contentSizeChanged$$&&this._cacheSprite.setTextureRect(cc.rect(0,0,$size$$.width,$size$$.height));this._cacheSprite.getParent()||this.addChild(this._cacheSprite,-1)}},ctor:function($file$$,$rect$$,$capInsets$$){cc.Node.prototype.ctor.call(this);this._spriteRect=cc.rect(0,0,0,0);this._capInsetsInternal=cc.rect(0,0,0,0);this._originalSize=cc.size(0,0);this._preferredSize=cc.size(0,0);this._capInsets=cc.rect(0,0,0,0);if(cc._renderType===
cc._RENDER_TYPE_CANVAS){var $frame$$18_locCacheCanvas$$=this._cacheCanvas=cc.newElement("canvas");$frame$$18_locCacheCanvas$$.width=1;$frame$$18_locCacheCanvas$$.height=1;this._cacheContext=$frame$$18_locCacheCanvas$$.getContext("2d");var $locTexture$$=this._cacheTexture=new cc.Texture2D;$locTexture$$.initWithElement($frame$$18_locCacheCanvas$$);$locTexture$$.handleLoadedTexture();this._cacheSprite=new cc.Sprite($locTexture$$);this._cacheSprite.setAnchorPoint(0,0);this.addChild(this._cacheSprite)}void 0!=
$file$$?$file$$ instanceof cc.SpriteFrame?this.initWithSpriteFrame($file$$,$rect$$):($frame$$18_locCacheCanvas$$=cc.spriteFrameCache.getSpriteFrame($file$$),null!=$frame$$18_locCacheCanvas$$?this.initWithSpriteFrame($frame$$18_locCacheCanvas$$,$rect$$):this.initWithFile($file$$,$rect$$,$capInsets$$)):this.init()},getOriginalSize:function(){return cc.size(this._originalSize)},getPreferredSize:function(){return cc.size(this._preferredSize)},_getPreferredWidth:function(){return this._preferredSize.width},
_getPreferredHeight:function(){return this._preferredSize.height},setPreferredSize:function($preferredSize$$){this.setContentSize($preferredSize$$);this._preferredSize=$preferredSize$$;this._positionsAreDirty&&(this._updatePositions(),this._positionsAreDirty=!1,this._scale9Dirty=!0)},_setPreferredWidth:function($value$$){this._setWidth($value$$);this._preferredSize.width=$value$$},_setPreferredHeight:function($value$$){this._setHeight($value$$);this._preferredSize.height=$value$$},setOpacity:function($opacity$$){if(this._scale9Image){cc.Node.prototype.setOpacity.call(this,
$opacity$$);for(var $scaleChildren$$=this._scale9Image.getChildren(),$i$$=0;$i$$<$scaleChildren$$.length;$i$$++){var $selChild$$=$scaleChildren$$[$i$$];$selChild$$&&$selChild$$.setOpacity($opacity$$)}this._scale9Dirty=!0}},updateDisplayedOpacity:function($parentOpacity$$){if(this._scale9Image){cc.Node.prototype.updateDisplayedOpacity.call(this,$parentOpacity$$);for(var $scaleChildren$$=this._scale9Image.getChildren(),$i$$=0;$i$$<$scaleChildren$$.length;$i$$++){var $selChild$$=$scaleChildren$$[$i$$];
$selChild$$&&$selChild$$.updateDisplayedOpacity($parentOpacity$$)}this._scale9Dirty=!0}},setColor:function($color$$){if(this._scale9Image){cc.Node.prototype.setColor.call(this,$color$$);for(var $scaleChildren$$=this._scale9Image.getChildren(),$i$$=0;$i$$<$scaleChildren$$.length;$i$$++){var $selChild$$=$scaleChildren$$[$i$$];$selChild$$&&$selChild$$.setColor($color$$)}this._scale9Dirty=!0}},updateDisplayedColor:function($parentColor$$){if(this._scale9Image){cc.Node.prototype.updateDisplayedColor.call(this,
$parentColor$$);for(var $scaleChildren$$=this._scale9Image.getChildren(),$i$$=0;$i$$<$scaleChildren$$.length;$i$$++){var $selChild$$=$scaleChildren$$[$i$$];if($selChild$$)if(cc._renderType===cc._RENDER_TYPE_CANVAS){if(cc.Node.prototype.updateDisplayedColor.call($selChild$$,$parentColor$$),255!==$parentColor$$.r||255!==$parentColor$$.g||255!==$parentColor$$.b)$selChild$$._changeTextureColor(),$selChild$$._setNodeDirtyForCache()}else $selChild$$.updateDisplayedColor($parentColor$$)}this._scale9Dirty=
!0}},getCapInsets:function(){return cc.rect(this._capInsets)},setCapInsets:function($capInsets$$){if(this._scale9Image){var $contentSize$$=this._contentSize,$tempWidth$$=$contentSize$$.width,$contentSize$$=$contentSize$$.height;this.updateWithBatchNode(this._scale9Image,this._spriteRect,this._spriteFrameRotated,$capInsets$$);this.setContentSize($tempWidth$$,$contentSize$$)}},getInsetLeft:function(){return this._insetLeft},setInsetLeft:function($insetLeft$$){this._insetLeft=$insetLeft$$;this._updateCapInset()},
getInsetTop:function(){return this._insetTop},setInsetTop:function($insetTop$$){this._insetTop=$insetTop$$;this._updateCapInset()},getInsetRight:function(){return this._insetRight},setInsetRight:function($insetRight$$){this._insetRight=$insetRight$$;this._updateCapInset()},getInsetBottom:function(){return this._insetBottom},setInsetBottom:function($insetBottom$$){this._insetBottom=$insetBottom$$;this._updateCapInset()},setContentSize:function($size$$,$height$$){cc.Node.prototype.setContentSize.call(this,
$size$$,$height$$);this._positionsAreDirty=!0},_setWidth:function($value$$){cc.Node.prototype._setWidth.call(this,$value$$);this._positionsAreDirty=!0},_setHeight:function($value$$){cc.Node.prototype._setHeight.call(this,$value$$);this._positionsAreDirty=!0},visit:function($ctx$$){this._visible&&(this._positionsAreDirty&&(this._updatePositions(),this._positionsAreDirty=!1,this._scale9Dirty=!0),cc._renderType===cc._RENDER_TYPE_CANVAS&&(this._scale9Dirty=!1,this._cacheScale9Sprite()),cc.Node.prototype.visit.call(this,
$ctx$$))},_transformForRenderer:function(){cc._renderType===cc._RENDER_TYPE_CANVAS&&(this._cacheScale9Sprite(),this.transform());cc.Node.prototype._transformForRenderer.call(this)},init:function(){return this.initWithBatchNode(null,cc.rect(0,0,0,0),!1,cc.rect(0,0,0,0))},initWithBatchNode:function($batchNode$$,$rect$$,$rotated$$,$capInsets$$){void 0===$capInsets$$&&($capInsets$$=$rotated$$,$rotated$$=!1);$batchNode$$&&this.updateWithBatchNode($batchNode$$,$rect$$,$rotated$$,$capInsets$$);this.setCascadeColorEnabled(!0);
this.setCascadeOpacityEnabled(!0);this.setAnchorPoint(.5,.5);return this._positionsAreDirty=!0},initWithFile:function($file$$,$rect$$,$capInsets$$){$file$$ instanceof cc.Rect?($capInsets$$=$file$$=$rect$$,$rect$$=cc.rect(0,0,0,0)):($rect$$=$rect$$||cc.rect(0,0,0,0),$capInsets$$=$capInsets$$||cc.rect(0,0,0,0));if(!$file$$)throw"cc.Scale9Sprite.initWithFile(): file should be non-null";var $texture$$=cc.textureCache.getTextureForKey($file$$);$texture$$||($texture$$=cc.textureCache.addImage($file$$));
var $locLoaded$$=$texture$$.isLoaded();(this._textureLoaded=$locLoaded$$)||$texture$$.addEventListener("load",function($sender$$17_size$$){var $preferredSize$$=this._preferredSize,$preferredSize$$=cc.size($preferredSize$$.width,$preferredSize$$.height);$sender$$17_size$$=$sender$$17_size$$.getContentSize();this.updateWithBatchNode(this._scale9Image,cc.rect(0,0,$sender$$17_size$$.width,$sender$$17_size$$.height),!1,this._capInsets);this.setPreferredSize($preferredSize$$);this._positionsAreDirty=!0;
this.dispatchEvent("load")},this);return this.initWithBatchNode(new cc.SpriteBatchNode($file$$,9),$rect$$,!1,$capInsets$$)},initWithSpriteFrame:function($spriteFrame$$,$capInsets$$){if(!$spriteFrame$$||!$spriteFrame$$.getTexture())throw"cc.Scale9Sprite.initWithSpriteFrame(): spriteFrame should be non-null and its texture should be non-null";$capInsets$$=$capInsets$$||cc.rect(0,0,0,0);var $batchNode$$3_locLoaded$$=$spriteFrame$$.textureLoaded();(this._textureLoaded=$batchNode$$3_locLoaded$$)||$spriteFrame$$.addEventListener("load",
function($sender$$){var $preferredSize$$=this._preferredSize,$preferredSize$$=cc.size($preferredSize$$.width,$preferredSize$$.height);this.updateWithBatchNode(this._scale9Image,$sender$$.getRect(),cc._renderType==cc._RENDER_TYPE_WEBGL&&$sender$$.isRotated(),this._capInsets);this.setPreferredSize($preferredSize$$);this._positionsAreDirty=!0;this.dispatchEvent("load")},this);$batchNode$$3_locLoaded$$=new cc.SpriteBatchNode($spriteFrame$$.getTexture(),9);return this.initWithBatchNode($batchNode$$3_locLoaded$$,
$spriteFrame$$.getRect(),cc._renderType==cc._RENDER_TYPE_WEBGL&&$spriteFrame$$.isRotated(),$capInsets$$)},initWithSpriteFrameName:function($spriteFrameName$$,$capInsets$$){if(!$spriteFrameName$$)throw"cc.Scale9Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";$capInsets$$=$capInsets$$||cc.rect(0,0,0,0);var $frame$$=cc.spriteFrameCache.getSpriteFrame($spriteFrameName$$);return null==$frame$$?(cc.log("cc.Scale9Sprite.initWithSpriteFrameName(): can't find the sprite frame by spriteFrameName"),
!1):this.initWithSpriteFrame($frame$$,$capInsets$$)},resizableSpriteWithCapInsets:function($capInsets$$){var $pReturn$$=new cc.Scale9Sprite;return $pReturn$$&&$pReturn$$.initWithBatchNode(this._scale9Image,this._spriteRect,!1,$capInsets$$)?$pReturn$$:null},setOpacityModifyRGB:function($value$$){if(this._scale9Image){this._opacityModifyRGB=$value$$;var $scaleChildren$$=this._scale9Image.getChildren();if($scaleChildren$$)for(var $i$$=0,$len$$=$scaleChildren$$.length;$i$$<$len$$;$i$$++)$scaleChildren$$[$i$$].setOpacityModifyRGB($value$$)}},
isOpacityModifyRGB:function(){return this._opacityModifyRGB},updateWithBatchNode:function($batchNode$$,$originalRect_rect$$,$rotated$$,$capInsets$$7_h$$){var $opacity$$=this.getOpacity(),$color$$=this.getColor();$originalRect_rect$$=cc.rect($originalRect_rect$$.x,$originalRect_rect$$.y,$originalRect_rect$$.width,$originalRect_rect$$.height);this.removeAllChildren(!0);this._scale9Image!=$batchNode$$&&(this._scale9Image=$batchNode$$);if(!this._scale9Image)return!1;$batchNode$$=$batchNode$$.getTexture();
var $locCapInsets_locLoaded$$4_selTexture$$=$batchNode$$.isLoaded();this._textureLoaded=$locCapInsets_locLoaded$$4_selTexture$$;if(!$locCapInsets_locLoaded$$4_selTexture$$)return $batchNode$$.addEventListener("load",function($sender$$){this._positionsAreDirty=!0;this.dispatchEvent("load")},this),!0;$batchNode$$=this._scale9Image;$batchNode$$.removeAllChildren(!0);$locCapInsets_locLoaded$$4_selTexture$$=this._capInsets;$locCapInsets_locLoaded$$4_selTexture$$.x=$capInsets$$7_h$$.x;$locCapInsets_locLoaded$$4_selTexture$$.y=
$capInsets$$7_h$$.y;$locCapInsets_locLoaded$$4_selTexture$$.width=$capInsets$$7_h$$.width;$locCapInsets_locLoaded$$4_selTexture$$.height=$capInsets$$7_h$$.height;this._spriteFrameRotated=$rotated$$;$locCapInsets_locLoaded$$4_selTexture$$=$batchNode$$.getTexture();cc._rectEqualToZero($originalRect_rect$$)&&($originalRect_rect$$=$locCapInsets_locLoaded$$4_selTexture$$.getContentSize(),$originalRect_rect$$=cc.rect(0,0,$originalRect_rect$$.width,$originalRect_rect$$.height));var $centertopbounds_locCapInsetsInternal_locPreferredSize$$1_locSpriteRect$$=
this._spriteRect=$originalRect_rect$$;$centertopbounds_locCapInsetsInternal_locPreferredSize$$1_locSpriteRect$$.x=$originalRect_rect$$.x;$centertopbounds_locCapInsetsInternal_locPreferredSize$$1_locSpriteRect$$.y=$originalRect_rect$$.y;$centertopbounds_locCapInsetsInternal_locPreferredSize$$1_locSpriteRect$$.width=$originalRect_rect$$.width;$centertopbounds_locCapInsetsInternal_locPreferredSize$$1_locSpriteRect$$.height=$originalRect_rect$$.height;this._originalSize.width=$originalRect_rect$$.width;
this._originalSize.height=$originalRect_rect$$.height;$centertopbounds_locCapInsetsInternal_locPreferredSize$$1_locSpriteRect$$=this._preferredSize;0===$centertopbounds_locCapInsetsInternal_locPreferredSize$$1_locSpriteRect$$.width&&0===$centertopbounds_locCapInsetsInternal_locPreferredSize$$1_locSpriteRect$$.height&&($centertopbounds_locCapInsetsInternal_locPreferredSize$$1_locSpriteRect$$.width=$originalRect_rect$$.width,$centertopbounds_locCapInsetsInternal_locPreferredSize$$1_locSpriteRect$$.height=
$originalRect_rect$$.height);$centertopbounds_locCapInsetsInternal_locPreferredSize$$1_locSpriteRect$$=this._capInsetsInternal;$capInsets$$7_h$$&&($centertopbounds_locCapInsetsInternal_locPreferredSize$$1_locSpriteRect$$.x=$capInsets$$7_h$$.x,$centertopbounds_locCapInsetsInternal_locPreferredSize$$1_locSpriteRect$$.y=$capInsets$$7_h$$.y,$centertopbounds_locCapInsetsInternal_locPreferredSize$$1_locSpriteRect$$.width=$capInsets$$7_h$$.width,$centertopbounds_locCapInsetsInternal_locPreferredSize$$1_locSpriteRect$$.height=
$capInsets$$7_h$$.height);var $righttopbounds_w$$=$originalRect_rect$$.width;$capInsets$$7_h$$=$originalRect_rect$$.height;cc._rectEqualToZero($centertopbounds_locCapInsetsInternal_locPreferredSize$$1_locSpriteRect$$)&&($centertopbounds_locCapInsetsInternal_locPreferredSize$$1_locSpriteRect$$.x=$righttopbounds_w$$/3,$centertopbounds_locCapInsetsInternal_locPreferredSize$$1_locSpriteRect$$.y=$capInsets$$7_h$$/3,$centertopbounds_locCapInsetsInternal_locPreferredSize$$1_locSpriteRect$$.width=$righttopbounds_w$$/
3,$centertopbounds_locCapInsetsInternal_locPreferredSize$$1_locSpriteRect$$.height=$capInsets$$7_h$$/3);var $centerbottombounds_left_w$$=$centertopbounds_locCapInsetsInternal_locPreferredSize$$1_locSpriteRect$$.x,$center_w_rightbottombounds$$=$centertopbounds_locCapInsetsInternal_locPreferredSize$$1_locSpriteRect$$.width,$right_w_t$$=$righttopbounds_w$$-($centerbottombounds_left_w$$+$center_w_rightbottombounds$$),$leftbottombounds_top_h$$=$centertopbounds_locCapInsetsInternal_locPreferredSize$$1_locSpriteRect$$.y,
$center_h_rotatedlefttopbounds$$=$centertopbounds_locCapInsetsInternal_locPreferredSize$$1_locSpriteRect$$.height,$bottom_h_rotatedrightbottombounds$$=$capInsets$$7_h$$-($leftbottombounds_top_h$$+$center_h_rotatedlefttopbounds$$),$rotatedleftbottombounds_x$$=0,$rotatedrighttopbounds_y$$=0;$capInsets$$7_h$$=cc.rect($rotatedleftbottombounds_x$$+.5|0,$rotatedrighttopbounds_y$$+.5|0,$centerbottombounds_left_w$$+.5|0,$leftbottombounds_top_h$$+.5|0);var $rotatedleftbottombounds_x$$=$rotatedleftbottombounds_x$$+
$centerbottombounds_left_w$$,$centertopbounds_locCapInsetsInternal_locPreferredSize$$1_locSpriteRect$$=cc.rect($rotatedleftbottombounds_x$$+.5|0,$rotatedrighttopbounds_y$$+.5|0,$center_w_rightbottombounds$$+.5|0,$leftbottombounds_top_h$$+.5|0),$righttopbounds_w$$=cc.rect($rotatedleftbottombounds_x$$+$center_w_rightbottombounds$$+.5|0,$rotatedrighttopbounds_y$$+.5|0,$right_w_t$$+.5|0,$leftbottombounds_top_h$$+.5|0),$rotatedleftbottombounds_x$$=0,$rotatedrighttopbounds_y$$=0+$leftbottombounds_top_h$$,
$leftcenterbounds$$=cc.rect($rotatedleftbottombounds_x$$+.5|0,$rotatedrighttopbounds_y$$+.5|0,$centerbottombounds_left_w$$+.5|0,$center_h_rotatedlefttopbounds$$+.5|0),$rotatedleftbottombounds_x$$=$rotatedleftbottombounds_x$$+$centerbottombounds_left_w$$,$centerbounds$$=cc.rect($rotatedleftbottombounds_x$$+.5|0,$rotatedrighttopbounds_y$$+.5|0,$center_w_rightbottombounds$$+.5|0,$center_h_rotatedlefttopbounds$$+.5|0),$rotatedleftbottombounds_x$$=$rotatedleftbottombounds_x$$+$center_w_rightbottombounds$$,
$rightcenterbounds$$=cc.rect($rotatedleftbottombounds_x$$+.5|0,$rotatedrighttopbounds_y$$+.5|0,$right_w_t$$+.5|0,$center_h_rotatedlefttopbounds$$+.5|0),$rotatedleftbottombounds_x$$=0,$rotatedrighttopbounds_y$$=0+$leftbottombounds_top_h$$+$center_h_rotatedlefttopbounds$$,$leftbottombounds_top_h$$=cc.rect($rotatedleftbottombounds_x$$+.5|0,$rotatedrighttopbounds_y$$+.5|0,$centerbottombounds_left_w$$+.5|0,$bottom_h_rotatedrightbottombounds$$+.5|0),$rotatedleftbottombounds_x$$=$rotatedleftbottombounds_x$$+
$centerbottombounds_left_w$$,$centerbottombounds_left_w$$=cc.rect($rotatedleftbottombounds_x$$+.5|0,$rotatedrighttopbounds_y$$+.5|0,$center_w_rightbottombounds$$+.5|0,$bottom_h_rotatedrightbottombounds$$+.5|0),$rotatedleftbottombounds_x$$=$rotatedleftbottombounds_x$$+$center_w_rightbottombounds$$,$center_w_rightbottombounds$$=cc.rect($rotatedleftbottombounds_x$$+.5|0,$rotatedrighttopbounds_y$$+.5|0,$right_w_t$$+.5|0,$bottom_h_rotatedrightbottombounds$$+.5|0),$right_w_t$$=cc.affineTransformMakeIdentity();
if($rotated$$){$rotated$$=$centerbounds$$;var $bottom_h_rotatedrightbottombounds$$=$center_w_rightbottombounds$$,$rotatedleftbottombounds_x$$=$leftbottombounds_top_h$$,$rotatedrighttopbounds_y$$=$righttopbounds_w$$,$center_h_rotatedlefttopbounds$$=$capInsets$$7_h$$,$rotatedrightcenterbounds$$=$rightcenterbounds$$,$rotatedleftcenterbounds$$=$leftcenterbounds$$,$rotatedcenterbottombounds$$=$centerbottombounds_left_w$$,$rotatedcentertopbounds$$=$centertopbounds_locCapInsetsInternal_locPreferredSize$$1_locSpriteRect$$,
$right_w_t$$=cc.affineTransformTranslate($right_w_t$$,$originalRect_rect$$.height+$originalRect_rect$$.x,$originalRect_rect$$.y),$right_w_t$$=cc.affineTransformRotate($right_w_t$$,1.57079633),$centerbounds$$=cc.rectApplyAffineTransform($centerbounds$$,$right_w_t$$),$center_w_rightbottombounds$$=cc.rectApplyAffineTransform($center_w_rightbottombounds$$,$right_w_t$$),$leftbottombounds_top_h$$=cc.rectApplyAffineTransform($leftbottombounds_top_h$$,$right_w_t$$),$righttopbounds_w$$=cc.rectApplyAffineTransform($righttopbounds_w$$,
$right_w_t$$);$capInsets$$7_h$$=cc.rectApplyAffineTransform($capInsets$$7_h$$,$right_w_t$$);$rightcenterbounds$$=cc.rectApplyAffineTransform($rightcenterbounds$$,$right_w_t$$);$leftcenterbounds$$=cc.rectApplyAffineTransform($leftcenterbounds$$,$right_w_t$$);$centerbottombounds_left_w$$=cc.rectApplyAffineTransform($centerbottombounds_left_w$$,$right_w_t$$);$centertopbounds_locCapInsetsInternal_locPreferredSize$$1_locSpriteRect$$=cc.rectApplyAffineTransform($centertopbounds_locCapInsetsInternal_locPreferredSize$$1_locSpriteRect$$,
$right_w_t$$);$rotated$$.x=$centerbounds$$.x;$rotated$$.y=$centerbounds$$.y;$bottom_h_rotatedrightbottombounds$$.x=$center_w_rightbottombounds$$.x;$bottom_h_rotatedrightbottombounds$$.y=$center_w_rightbottombounds$$.y;$rotatedleftbottombounds_x$$.x=$leftbottombounds_top_h$$.x;$rotatedleftbottombounds_x$$.y=$leftbottombounds_top_h$$.y;$rotatedrighttopbounds_y$$.x=$righttopbounds_w$$.x;$rotatedrighttopbounds_y$$.y=$righttopbounds_w$$.y;$center_h_rotatedlefttopbounds$$.x=$capInsets$$7_h$$.x;$center_h_rotatedlefttopbounds$$.y=
$capInsets$$7_h$$.y;$rotatedrightcenterbounds$$.x=$rightcenterbounds$$.x;$rotatedrightcenterbounds$$.y=$rightcenterbounds$$.y;$rotatedleftcenterbounds$$.x=$leftcenterbounds$$.x;$rotatedleftcenterbounds$$.y=$leftcenterbounds$$.y;$rotatedcenterbottombounds$$.x=$centerbottombounds_left_w$$.x;$rotatedcenterbottombounds$$.y=$centerbottombounds_left_w$$.y;$rotatedcentertopbounds$$.x=$centertopbounds_locCapInsetsInternal_locPreferredSize$$1_locSpriteRect$$.x;$rotatedcentertopbounds$$.y=$centertopbounds_locCapInsetsInternal_locPreferredSize$$1_locSpriteRect$$.y;
this._centre=new cc.Sprite;this._centre.initWithTexture($locCapInsets_locLoaded$$4_selTexture$$,$rotated$$,!0);$batchNode$$.addChild(this._centre,0,cc.Scale9Sprite.POSITIONS_CENTRE);this._top=new cc.Sprite;this._top.initWithTexture($locCapInsets_locLoaded$$4_selTexture$$,$rotatedcentertopbounds$$,!0);$batchNode$$.addChild(this._top,1,cc.Scale9Sprite.POSITIONS_TOP);this._bottom=new cc.Sprite;this._bottom.initWithTexture($locCapInsets_locLoaded$$4_selTexture$$,$rotatedcenterbottombounds$$,!0);$batchNode$$.addChild(this._bottom,
1,cc.Scale9Sprite.POSITIONS_BOTTOM);this._left=new cc.Sprite;this._left.initWithTexture($locCapInsets_locLoaded$$4_selTexture$$,$rotatedleftcenterbounds$$,!0);$batchNode$$.addChild(this._left,1,cc.Scale9Sprite.POSITIONS_LEFT);this._right=new cc.Sprite;this._right.initWithTexture($locCapInsets_locLoaded$$4_selTexture$$,$rotatedrightcenterbounds$$,!0);$batchNode$$.addChild(this._right,1,cc.Scale9Sprite.POSITIONS_RIGHT);this._topLeft=new cc.Sprite;this._topLeft.initWithTexture($locCapInsets_locLoaded$$4_selTexture$$,
$center_h_rotatedlefttopbounds$$,!0);$batchNode$$.addChild(this._topLeft,2,cc.Scale9Sprite.POSITIONS_TOPLEFT);this._topRight=new cc.Sprite;this._topRight.initWithTexture($locCapInsets_locLoaded$$4_selTexture$$,$rotatedrighttopbounds_y$$,!0);$batchNode$$.addChild(this._topRight,2,cc.Scale9Sprite.POSITIONS_TOPRIGHT);this._bottomLeft=new cc.Sprite;this._bottomLeft.initWithTexture($locCapInsets_locLoaded$$4_selTexture$$,$rotatedleftbottombounds_x$$,!0);$batchNode$$.addChild(this._bottomLeft,2,cc.Scale9Sprite.POSITIONS_BOTTOMLEFT);
this._bottomRight=new cc.Sprite;this._bottomRight.initWithTexture($locCapInsets_locLoaded$$4_selTexture$$,$bottom_h_rotatedrightbottombounds$$,!0)}else $right_w_t$$=cc.affineTransformTranslate($right_w_t$$,$originalRect_rect$$.x,$originalRect_rect$$.y),cc._rectApplyAffineTransformIn($centerbounds$$,$right_w_t$$),cc._rectApplyAffineTransformIn($center_w_rightbottombounds$$,$right_w_t$$),cc._rectApplyAffineTransformIn($leftbottombounds_top_h$$,$right_w_t$$),cc._rectApplyAffineTransformIn($righttopbounds_w$$,
$right_w_t$$),cc._rectApplyAffineTransformIn($capInsets$$7_h$$,$right_w_t$$),cc._rectApplyAffineTransformIn($rightcenterbounds$$,$right_w_t$$),cc._rectApplyAffineTransformIn($leftcenterbounds$$,$right_w_t$$),cc._rectApplyAffineTransformIn($centerbottombounds_left_w$$,$right_w_t$$),cc._rectApplyAffineTransformIn($centertopbounds_locCapInsetsInternal_locPreferredSize$$1_locSpriteRect$$,$right_w_t$$),this._centre=new cc.Sprite,this._centre.initWithTexture($locCapInsets_locLoaded$$4_selTexture$$,$centerbounds$$),
$batchNode$$.addChild(this._centre,0,cc.Scale9Sprite.POSITIONS_CENTRE),this._top=new cc.Sprite,this._top.initWithTexture($locCapInsets_locLoaded$$4_selTexture$$,$centertopbounds_locCapInsetsInternal_locPreferredSize$$1_locSpriteRect$$),$batchNode$$.addChild(this._top,1,cc.Scale9Sprite.POSITIONS_TOP),this._bottom=new cc.Sprite,this._bottom.initWithTexture($locCapInsets_locLoaded$$4_selTexture$$,$centerbottombounds_left_w$$),$batchNode$$.addChild(this._bottom,1,cc.Scale9Sprite.POSITIONS_BOTTOM),this._left=
new cc.Sprite,this._left.initWithTexture($locCapInsets_locLoaded$$4_selTexture$$,$leftcenterbounds$$),$batchNode$$.addChild(this._left,1,cc.Scale9Sprite.POSITIONS_LEFT),this._right=new cc.Sprite,this._right.initWithTexture($locCapInsets_locLoaded$$4_selTexture$$,$rightcenterbounds$$),$batchNode$$.addChild(this._right,1,cc.Scale9Sprite.POSITIONS_RIGHT),this._topLeft=new cc.Sprite,this._topLeft.initWithTexture($locCapInsets_locLoaded$$4_selTexture$$,$capInsets$$7_h$$),$batchNode$$.addChild(this._topLeft,
2,cc.Scale9Sprite.POSITIONS_TOPLEFT),this._topRight=new cc.Sprite,this._topRight.initWithTexture($locCapInsets_locLoaded$$4_selTexture$$,$righttopbounds_w$$),$batchNode$$.addChild(this._topRight,2,cc.Scale9Sprite.POSITIONS_TOPRIGHT),this._bottomLeft=new cc.Sprite,this._bottomLeft.initWithTexture($locCapInsets_locLoaded$$4_selTexture$$,$leftbottombounds_top_h$$),$batchNode$$.addChild(this._bottomLeft,2,cc.Scale9Sprite.POSITIONS_BOTTOMLEFT),this._bottomRight=new cc.Sprite,this._bottomRight.initWithTexture($locCapInsets_locLoaded$$4_selTexture$$,
$center_w_rightbottombounds$$);$batchNode$$.addChild(this._bottomRight,2,cc.Scale9Sprite.POSITIONS_BOTTOMRIGHT);this.setContentSize($originalRect_rect$$.width,$originalRect_rect$$.height);cc._renderType===cc._RENDER_TYPE_WEBGL&&this.addChild($batchNode$$);this._spritesGenerated&&(this.setOpacity($opacity$$),this.setColor($color$$));return this._spritesGenerated=!0},setSpriteFrame:function($spriteFrame$$){var $batchNode$$=new cc.SpriteBatchNode($spriteFrame$$.getTexture(),9),$locLoaded$$=$spriteFrame$$.textureLoaded();
(this._textureLoaded=$locLoaded$$)||$spriteFrame$$.addEventListener("load",function($sender$$){var $preferredSize$$=this._preferredSize,$preferredSize$$=cc.size($preferredSize$$.width,$preferredSize$$.height);this.updateWithBatchNode(this._scale9Image,$sender$$.getRect(),cc._renderType==cc._RENDER_TYPE_WEBGL&&$sender$$.isRotated(),this._capInsets);this.setPreferredSize($preferredSize$$);this._positionsAreDirty=!0;this.dispatchEvent("load")},this);this.updateWithBatchNode($batchNode$$,$spriteFrame$$.getRect(),
cc._renderType==cc._RENDER_TYPE_WEBGL&&$spriteFrame$$.isRotated(),cc.rect(0,0,0,0));this._insetBottom=this._insetRight=this._insetTop=this._insetLeft=0}});_p=cc.Scale9Sprite.prototype;cc.EventHelper.prototype.apply(_p);_p.preferredSize;cc.defineGetterSetter(_p,"preferredSize",_p.getPreferredSize,_p.setPreferredSize);_p.capInsets;cc.defineGetterSetter(_p,"capInsets",_p.getCapInsets,_p.setCapInsets);_p.insetLeft;cc.defineGetterSetter(_p,"insetLeft",_p.getInsetLeft,_p.setInsetLeft);_p.insetTop;
cc.defineGetterSetter(_p,"insetTop",_p.getInsetTop,_p.setInsetTop);_p.insetRight;cc.defineGetterSetter(_p,"insetRight",_p.getInsetRight,_p.setInsetRight);_p.insetBottom;cc.defineGetterSetter(_p,"insetBottom",_p.getInsetBottom,_p.setInsetBottom);_p=null;cc.Scale9Sprite.create=function $cc$Scale9Sprite$create$($file$$,$rect$$,$capInsets$$){return new cc.Scale9Sprite($file$$,$rect$$,$capInsets$$)};
cc.Scale9Sprite.createWithSpriteFrame=function $cc$Scale9Sprite$createWithSpriteFrame$($spriteFrame$$,$capInsets$$){return new cc.Scale9Sprite($spriteFrame$$,$capInsets$$)};cc.Scale9Sprite.createWithSpriteFrameName=function $cc$Scale9Sprite$createWithSpriteFrameName$($spriteFrameName$$,$capInsets$$){return new cc.Scale9Sprite($spriteFrameName$$,$capInsets$$)};cc.Scale9Sprite.POSITIONS_CENTRE=0;cc.Scale9Sprite.POSITIONS_TOP=1;cc.Scale9Sprite.POSITIONS_LEFT=2;cc.Scale9Sprite.POSITIONS_RIGHT=3;
cc.Scale9Sprite.POSITIONS_BOTTOM=4;cc.Scale9Sprite.POSITIONS_TOPRIGHT=5;cc.Scale9Sprite.POSITIONS_TOPLEFT=6;cc.Scale9Sprite.POSITIONS_BOTTOMRIGHT=7;cc.Spacer=cc.Layer.extend({});cc.Spacer.verticalSpacer=function $cc$Spacer$verticalSpacer$($space$$){var $pRet$$=new cc.Spacer;$pRet$$.init();$pRet$$.setContentSize(0,$space$$);return $pRet$$};cc.Spacer.horizontalSpacer=function $cc$Spacer$horizontalSpacer$($space$$){var $pRet$$=new cc.Spacer;$pRet$$.init();$pRet$$.setContentSize($space$$,0);return $pRet$$};
cc.MenuPassive=cc.Layer.extend({_color:null,_opacity:0,_className:"MenuPassive",ctor:function(){},getColor:function(){var $locColor$$=this._color;return cc.color($locColor$$.r,$locColor$$.g,$locColor$$.b,$locColor$$.a)},setColor:function($color$$){var $i$$343_locColor$$=this._color;$i$$343_locColor$$.r=$color$$.r;$i$$343_locColor$$.g=$color$$.g;$i$$343_locColor$$.b=$color$$.b;if(this._children&&0<this._children.length)for($i$$343_locColor$$=0;$i$$343_locColor$$<this._children.length;$i$$343_locColor$$++)this._children[$i$$343_locColor$$]&&
this._children[$i$$343_locColor$$].setColor($color$$);void 0===$color$$.a||$color$$.a_undefined||this.setOpacity($color$$.a)},getOpacity:function(){return this._opacity},setOpacity:function($opacity$$){this._opacity=$opacity$$;if(this._children&&0<this._children.length)for(var $i$$=0;$i$$<this._children.length;$i$$++)this._children[$i$$]&&this._children[$i$$].setOpacity($opacity$$);this._color.a=$opacity$$},initWithItems:function($item$$,$args$$){if(this.init()){var $winSize$$24_z$$=cc.director.getWinSize();
this.ignoreAnchorPointForPosition(!0);this.setAnchorPoint(.5,.5);this.setContentSize($winSize$$24_z$$);this.setPosition($winSize$$24_z$$.width/2,$winSize$$24_z$$.height/2);$winSize$$24_z$$=0;if($item$$){this.addChild($item$$,$winSize$$24_z$$);for(var $i$$=0;$i$$<$args$$.length;$i$$++)$args$$[$i$$]&&($winSize$$24_z$$++,this.addChild($args$$[$i$$],$winSize$$24_z$$))}return!0}return!1},alignItemsVertically:function(){this.alignItemsVerticallyWithPadding(cc.DEFAULT_PADDING)},alignItemsVerticallyWithPadding:function($padding$$){var $height$$=
-$padding$$,$i$$;if(this._children&&0<this._children.length)for($i$$=0;$i$$<this._children.length;$i$$++)this._children[$i$$]&&($height$$+=this._children[$i$$].getContentSize().height*this._children[$i$$].getScaleY()+$padding$$);var $width$$=0,$y$$=$height$$/2;if(this._children&&0<this._children.length)for($i$$=0;$i$$<this._children.length;$i$$++)this._children[$i$$]&&($width$$=Math.max($width$$,this._children[$i$$].getContentSize().width),this._children[$i$$].setPosition(0,$y$$-this._children[$i$$].getContentSize().height*
this._children[$i$$].getScaleY()/2),$y$$-=this._children[$i$$].getContentSize().height*this._children[$i$$].getScaleY()+$padding$$);this.setContentSize($width$$,$height$$)},alignItemsHorizontally:function(){this.alignItemsHorizontallyWithPadding(cc.DEFAULT_PADDING)},alignItemsHorizontallyWithPadding:function($padding$$){var $width$$=-$padding$$,$i$$;if(this._children&&0<this._children.length)for($i$$=0;$i$$<this._children.length;$i$$++)this._children[$i$$]&&($width$$+=this._children[$i$$].getContentSize().width*
this._children[$i$$].getScaleX()+$padding$$);var $height$$=0,$x$$=-$width$$/2;if(this._children&&0<this._children.length)for($i$$=0;$i$$<this._children.length;$i$$++)this._children[$i$$]&&($height$$=Math.max($height$$,this._children[$i$$].getContentSize().height),this._children[$i$$].setPosition($x$$+this._children[$i$$].getContentSize().width*this._children[$i$$].getScaleX()/2,0),$x$$+=this._children[$i$$].getContentSize().width*this._children[$i$$].getScaleX()+$padding$$);this.setContentSize($width$$,
$height$$)},alignItemsInColumns:function($columns$$){var $rows$$=[],$i$$;for($i$$=1;$i$$<arguments.length;$i$$++)$rows$$.push(arguments[$i$$]);var $height$$64_y$$=-5,$row$$=0,$rowHeight$$=0,$columnsOccupied$$=0,$rowColumns$$,$tmp$$;if(this._children&&0<this._children.length)for($i$$=0;$i$$<this._children.length;$i$$++)this._children[$i$$]&&($row$$>=$rows$$.length?cc.log("cc.MenuPassive.alignItemsInColumns(): invalid row index"):($rowColumns$$=$rows$$[$row$$])?($tmp$$=this._children[$i$$].getContentSize().height,
$rowHeight$$=0|($rowHeight$$>=$tmp$$||null==$tmp$$?$rowHeight$$:$tmp$$),++$columnsOccupied$$,$columnsOccupied$$>=$rowColumns$$&&($height$$64_y$$+=$rowHeight$$+5,$rowHeight$$=$columnsOccupied$$=0,++$row$$)):cc.log("cc.MenuPassive.alignItemsInColumns(): can not have zero columns on a row"));var $winSize$$=cc.director.getWinSize(),$w$$=$rowColumns$$=$rowHeight$$=$row$$=0,$x$$=0,$height$$64_y$$=$height$$64_y$$/2;if(this._children&&0<this._children.length)for($i$$=0;$i$$<this._children.length;$i$$++)this._children[$i$$]&&
(0==$rowColumns$$&&($rowColumns$$=$rows$$[$row$$],$x$$=$w$$=$winSize$$.width/(1+$rowColumns$$)),$tmp$$=this._children[$i$$].getContentSize().height,$rowHeight$$=0|($rowHeight$$>=$tmp$$||null==$tmp$$?$rowHeight$$:$tmp$$),this._children[$i$$].setPosition($x$$-$winSize$$.width/2,$height$$64_y$$-this._children[$i$$].getContentSize().height/2),$x$$+=$w$$,++$columnsOccupied$$,$columnsOccupied$$>=$rowColumns$$&&($height$$64_y$$-=$rowHeight$$+5,$rowHeight$$=$rowColumns$$=$columnsOccupied$$=0,++$row$$))},
alignItemsInRows:function($rows$$){var $columns$$=[],$i$$;for($i$$=1;$i$$<arguments.length;$i$$++)$columns$$.push(arguments[$i$$]);var $columnWidths$$=[],$columnHeights$$=[],$width$$61_x$$=-10,$columnHeight$$1_winSize$$=-5,$column$$=0,$columnWidth$$=0,$rowsOccupied$$=0,$columnRows$$,$tmp$$;if(this._children&&0<this._children.length)for($i$$=0;$i$$<this._children.length;$i$$++)this._children[$i$$]&&($column$$>=$columns$$.length?cc.log("cc.MenuPassive.alignItemsInRows(): invalid row index"):($columnRows$$=
$columns$$[$column$$])?($tmp$$=this._children[$i$$].getContentSize().width,$columnWidth$$=0|($columnWidth$$>=$tmp$$||null==$tmp$$?$columnWidth$$:$tmp$$),$columnHeight$$1_winSize$$+=0|this._children[$i$$].getContentSize().height+5,++$rowsOccupied$$,$rowsOccupied$$>=$columnRows$$&&($columnWidths$$.push($columnWidth$$),$columnHeights$$.push($columnHeight$$1_winSize$$),$width$$61_x$$+=$columnWidth$$+10,$columnWidth$$=$rowsOccupied$$=0,$columnHeight$$1_winSize$$=-5,++$column$$)):cc.log("cc.MenuPassive.alignItemsInColumns(): can't have zero rows on a column"));
$columnHeight$$1_winSize$$=cc.director.getWinSize();$columnWidth$$=$column$$=0;$columnRows$$=null;var $width$$61_x$$=-$width$$61_x$$/2,$y$$=0;if(this._children&&0<this._children.length)for($i$$=0;$i$$<this._children.length;$i$$++)this._children[$i$$]&&(null==$columnRows$$&&($columnRows$$=$columns$$[$column$$],$y$$=$columnHeights$$[$column$$]),$tmp$$=this._children[$i$$].getContentSize().width,$columnWidth$$=0|($columnWidth$$>=$tmp$$||null==$tmp$$?$columnWidth$$:$tmp$$),this._children[$i$$].setPosition($width$$61_x$$+
$columnWidths$$[$column$$]/2,$y$$-$columnHeight$$1_winSize$$.height/2),$y$$-=this._children[$i$$].getContentSize().height+10,++$rowsOccupied$$,$rowsOccupied$$>=$columnRows$$&&($width$$61_x$$+=$columnWidth$$+5,$columnWidth$$=$columnRows$$=$rowsOccupied$$=0,++$column$$))},setOpacityModifyRGB:function($bValue$$){},isOpacityModifyRGB:function(){return!1}});
cc.MenuPassive.create=function $cc$MenuPassive$create$($item$$){$item$$||($item$$=null);for(var $argArr$$=[],$i$$350_pRet$$=1;$i$$350_pRet$$<arguments.length;$i$$350_pRet$$++)$argArr$$.push(arguments[$i$$350_pRet$$]);return($i$$350_pRet$$=new cc.MenuPassive)&&$i$$350_pRet$$.initWithItems($item$$,$argArr$$)?$i$$350_pRet$$:null};cc.MenuPassive.createWithItem=function $cc$MenuPassive$createWithItem$($item$$){return cc.MenuPassive.create($item$$,null)};
cc.ControlSaturationBrightnessPicker=cc.Control.extend({_saturation:0,_brightness:0,_background:null,_overlay:null,_shadow:null,_slider:null,_startPos:null,_boxPos:0,_boxSize:0,_className:"ControlSaturationBrightnessPicker",ctor:function($target$$,$pos$$){cc.Control.prototype.ctor.call(this);$pos$$&&this.initWithTargetAndPos($target$$,$pos$$)},getSaturation:function(){return this._saturation},getBrightness:function(){return this._brightness},getBackground:function(){return this._background},getOverlay:function(){return this._brightness},
getShadow:function(){return this._shadow},getSlider:function(){return this._slider},getStartPos:function(){return this._startPos},initWithTargetAndPos:function($target$$,$pos$$){return cc.Control.prototype.init.call(this)?(this._background=cc.ControlUtils.addSpriteToTargetWithPosAndAnchor("colourPickerBackground.png",$target$$,$pos$$,cc.p(0,0)),this._overlay=cc.ControlUtils.addSpriteToTargetWithPosAndAnchor("colourPickerOverlay.png",$target$$,$pos$$,cc.p(0,0)),this._shadow=cc.ControlUtils.addSpriteToTargetWithPosAndAnchor("colourPickerShadow.png",
$target$$,$pos$$,cc.p(0,0)),this._slider=cc.ControlUtils.addSpriteToTargetWithPosAndAnchor("colourPicker.png",$target$$,$pos$$,cc.p(.5,.5)),this._startPos=$pos$$,this._boxPos=35,this._boxSize=this._background.getContentSize().width/2,!0):!1},setEnabled:function($enabled$$){cc.Control.prototype.setEnabled.call(this,$enabled$$);this._slider&&this._slider.setOpacity($enabled$$?255:128)},updateWithHSV:function($hsv_rgb$$){var $hsvTemp$$=new cc.HSV;$hsvTemp$$.s=1;$hsvTemp$$.h=$hsv_rgb$$.h;$hsvTemp$$.v=
1;$hsv_rgb$$=cc.ControlUtils.RGBfromHSV($hsvTemp$$);this._background.setColor(cc.color(0|255*$hsv_rgb$$.r,0|255*$hsv_rgb$$.g,0|255*$hsv_rgb$$.b))},updateDraggerWithHSV:function($hsv$$1_pos$$){$hsv$$1_pos$$=cc.p(this._startPos.x+this._boxPos+this._boxSize*(1-$hsv$$1_pos$$.s),this._startPos.y+this._boxPos+this._boxSize*$hsv$$1_pos$$.v);this._updateSliderPosition($hsv$$1_pos$$)},_updateSliderPosition:function($sliderPosition$$){var $centerX$$=this._startPos.x+.5*this._background.getBoundingBox().width,
$centerY$$=this._startPos.y+.5*this._background.getBoundingBox().height,$angle$$19_dx$$=$sliderPosition$$.x-$centerX$$,$dy$$6_limit$$=$sliderPosition$$.y-$centerY$$,$dist$$=Math.sqrt($angle$$19_dx$$*$angle$$19_dx$$+$dy$$6_limit$$*$dy$$6_limit$$),$angle$$19_dx$$=Math.atan2($dy$$6_limit$$,$angle$$19_dx$$),$dy$$6_limit$$=.5*this._background.getBoundingBox().width;$dist$$>$dy$$6_limit$$&&($sliderPosition$$.x=$centerX$$+$dy$$6_limit$$*Math.cos($angle$$19_dx$$),$sliderPosition$$.y=$centerY$$+$dy$$6_limit$$*
Math.sin($angle$$19_dx$$));this._slider.setPosition($sliderPosition$$);$sliderPosition$$.x<this._startPos.x+this._boxPos?$sliderPosition$$.x=this._startPos.x+this._boxPos:$sliderPosition$$.x>this._startPos.x+this._boxPos+this._boxSize-1&&($sliderPosition$$.x=this._startPos.x+this._boxPos+this._boxSize-1);$sliderPosition$$.y<this._startPos.y+this._boxPos?$sliderPosition$$.y=this._startPos.y+this._boxPos:$sliderPosition$$.y>this._startPos.y+this._boxPos+this._boxSize&&($sliderPosition$$.y=this._startPos.y+
this._boxPos+this._boxSize);this._saturation=1-Math.abs((this._startPos.x+this._boxPos-$sliderPosition$$.x)/this._boxSize);this._brightness=Math.abs((this._startPos.y+this._boxPos-$sliderPosition$$.y)/this._boxSize)},_checkSliderPosition:function($location$$){var $centerX$$4_dx$$=this._startPos.x+.5*this._background.getBoundingBox().width,$centerY$$4_dy$$=this._startPos.y+.5*this._background.getBoundingBox().height,$centerX$$4_dx$$=$location$$.x-$centerX$$4_dx$$,$centerY$$4_dy$$=$location$$.y-$centerY$$4_dy$$;
return Math.sqrt($centerX$$4_dx$$*$centerX$$4_dx$$+$centerY$$4_dy$$*$centerY$$4_dy$$)<=.5*this._background.getBoundingBox().width?(this._updateSliderPosition($location$$),this.sendActionsForControlEvents(cc.CONTROL_EVENT_VALUECHANGED),!0):!1},onTouchBegan:function($touch$$,$event$$){if(!this.isEnabled()||!this.isVisible())return!1;var $touchLocation$$=this.getTouchLocation($touch$$);return this._checkSliderPosition($touchLocation$$)},onTouchMoved:function($touch$$,$event$$){var $touchLocation$$=this.getTouchLocation($touch$$);
this._checkSliderPosition($touchLocation$$)}});_p=cc.ControlSaturationBrightnessPicker.prototype;_p.saturation;cc.defineGetterSetter(_p,"saturation",_p.getSaturation);_p.brightness;cc.defineGetterSetter(_p,"brightness",_p.getBrightness);_p.background;cc.defineGetterSetter(_p,"background",_p.getBackground);_p.overlay;cc.defineGetterSetter(_p,"overlay",_p.getOverlay);_p.shadow;cc.defineGetterSetter(_p,"shadow",_p.getShadow);_p.slider;cc.defineGetterSetter(_p,"slider",_p.getSlider);_p.startPos;
cc.defineGetterSetter(_p,"startPos",_p.getStartPos);_p=null;cc.ControlSaturationBrightnessPicker.create=function $cc$ControlSaturationBrightnessPicker$create$($target$$,$pos$$){return new cc.ControlSaturationBrightnessPicker($target$$,$pos$$)};
cc.ControlHuePicker=cc.Control.extend({_hue:0,_huePercentage:0,_background:null,_slider:null,_startPos:null,_className:"ControlHuePicker",ctor:function($target$$,$pos$$){cc.Control.prototype.ctor.call(this);$pos$$&&this.initWithTargetAndPos($target$$,$pos$$)},getHue:function(){return this._hue},setHue:function($hueValue$$){this._hue=$hueValue$$;this.setHuePercentage(this._hue/360)},getHuePercentage:function(){return this._huePercentage},setHuePercentage:function($centerY$$5_hueValueInPercent_y$$){this._huePercentage=
$centerY$$5_hueValueInPercent_y$$;this._hue=360*this._huePercentage;var $backgroundBox_limit$$=this._background.getBoundingBox(),$centerX$$5_x$$=this._startPos.x+.5*$backgroundBox_limit$$.width;$centerY$$5_hueValueInPercent_y$$=this._startPos.y+.5*$backgroundBox_limit$$.height;var $backgroundBox_limit$$=.5*$backgroundBox_limit$$.width-15,$angle$$=cc.degreesToRadians(360*this._huePercentage-180),$centerX$$5_x$$=$centerX$$5_x$$+$backgroundBox_limit$$*Math.cos($angle$$);$centerY$$5_hueValueInPercent_y$$+=
$backgroundBox_limit$$*Math.sin($angle$$);this._slider.setPosition($centerX$$5_x$$,$centerY$$5_hueValueInPercent_y$$)},setEnabled:function($enabled$$){cc.Control.prototype.setEnabled.call(this,$enabled$$);this._slider&&this._slider.setOpacity($enabled$$?255:128)},getBackground:function(){return this._background},getSlider:function(){return this._slider},getStartPos:function(){return this._startPos},initWithTargetAndPos:function($target$$,$pos$$){return cc.Control.prototype.init.call(this)?(this._background=
cc.ControlUtils.addSpriteToTargetWithPosAndAnchor("huePickerBackground.png",$target$$,$pos$$,cc.p(0,0)),this._slider=cc.ControlUtils.addSpriteToTargetWithPosAndAnchor("colourPicker.png",$target$$,$pos$$,cc.p(.5,.5)),this._slider.setPosition($pos$$.x,$pos$$.y+.5*this._background.getBoundingBox().height),this._startPos=$pos$$,this._huePercentage=this._hue=0,!0):!1},_updateSliderPosition:function($angle$$21_angleDeg$$1_location$$){var $backgroundBox$$=this._background.getBoundingBox();$angle$$21_angleDeg$$1_location$$=
Math.atan2($angle$$21_angleDeg$$1_location$$.y-(this._startPos.y+.5*$backgroundBox$$.height),$angle$$21_angleDeg$$1_location$$.x-(this._startPos.x+.5*$backgroundBox$$.width));$angle$$21_angleDeg$$1_location$$=cc.radiansToDegrees($angle$$21_angleDeg$$1_location$$)+180;this.setHue($angle$$21_angleDeg$$1_location$$);this.sendActionsForControlEvents(cc.CONTROL_EVENT_VALUECHANGED)},_checkSliderPosition:function($location$$){var $distance$$=Math.sqrt(Math.pow($location$$.x+10,2)+Math.pow($location$$.y,
2));return 80>$distance$$&&59<$distance$$?(this._updateSliderPosition($location$$),!0):!1},onTouchBegan:function($touch$$,$event$$){if(!this.isEnabled()||!this.isVisible())return!1;var $touchLocation$$=this.getTouchLocation($touch$$);return this._checkSliderPosition($touchLocation$$)},onTouchMoved:function($touch$$,$event$$){var $touchLocation$$=this.getTouchLocation($touch$$);this._checkSliderPosition($touchLocation$$)}});_p=cc.ControlHuePicker.prototype;_p.hue;
cc.defineGetterSetter(_p,"hue",_p.getHue,_p.setHue);_p.huePercent;cc.defineGetterSetter(_p,"huePercent",_p.getHuePercentage,_p.setHuePercentage);_p.background;cc.defineGetterSetter(_p,"background",_p.getBackground);_p.slider;cc.defineGetterSetter(_p,"slider",_p.getSlider);_p.startPos;cc.defineGetterSetter(_p,"startPos",_p.getStartPos);_p=null;cc.ControlHuePicker.create=function $cc$ControlHuePicker$create$($target$$,$pos$$){return new cc.ControlHuePicker($target$$,$pos$$)};
cc.ControlColourPicker=cc.Control.extend({_hsv:null,_colourPicker:null,_huePicker:null,_background:null,_className:"ControlColourPicker",ctor:function(){cc.Control.prototype.ctor.call(this);this.init()},hueSliderValueChanged:function($sender$$,$controlEvent$$){this._hsv.h=$sender$$.getHue();var $rgb$$=cc.ControlUtils.RGBfromHSV(this._hsv);cc.Control.prototype.setColor.call(this,cc.color(0|255*$rgb$$.r,0|255*$rgb$$.g,0|255*$rgb$$.b));this.sendActionsForControlEvents(cc.CONTROL_EVENT_VALUECHANGED);
this._updateControlPicker()},colourSliderValueChanged:function($sender$$,$controlEvent$$){this._hsv.s=$sender$$.getSaturation();this._hsv.v=$sender$$.getBrightness();var $rgb$$=cc.ControlUtils.RGBfromHSV(this._hsv);cc.Control.prototype.setColor.call(this,cc.color(0|255*$rgb$$.r,0|255*$rgb$$.g,0|255*$rgb$$.b));this.sendActionsForControlEvents(cc.CONTROL_EVENT_VALUECHANGED)},setColor:function($color$$){cc.Control.prototype.setColor.call(this,$color$$);var $rgba$$=new cc.RGBA;$rgba$$.r=$color$$.r/255;
$rgba$$.g=$color$$.g/255;$rgba$$.b=$color$$.b/255;$rgba$$.a=1;this._hsv=cc.ControlUtils.HSVfromRGB($rgba$$);this._updateHueAndControlPicker()},getBackground:function(){return this._background},init:function(){if(cc.Control.prototype.init.call(this)){cc.spriteFrameCache.addSpriteFrames(res.CCControlColourPickerSpriteSheet_plist);var $spriteSheet$$=new cc.SpriteBatchNode(res.CCControlColourPickerSpriteSheet_png);this.addChild($spriteSheet$$);this._hsv=new cc.HSV(0,0,0);this._background=cc.ControlUtils.addSpriteToTargetWithPosAndAnchor("menuColourPanelBackground.png",
$spriteSheet$$,cc.p(0,0),cc.p(.5,.5));var $backgroundPointZero$$=cc.pSub(this._background.getPosition(),cc.p(this._background.getContentSize().width/2,this._background.getContentSize().height/2));this._huePicker=new cc.ControlHuePicker($spriteSheet$$,cc.p($backgroundPointZero$$.x+8,$backgroundPointZero$$.y+8));this._colourPicker=new cc.ControlSaturationBrightnessPicker($spriteSheet$$,cc.p($backgroundPointZero$$.x+28,$backgroundPointZero$$.y+28));this._huePicker.addTargetWithActionForControlEvents(this,
this.hueSliderValueChanged,cc.CONTROL_EVENT_VALUECHANGED);this._colourPicker.addTargetWithActionForControlEvents(this,this.colourSliderValueChanged,cc.CONTROL_EVENT_VALUECHANGED);this._updateHueAndControlPicker();this.addChild(this._huePicker);this.addChild(this._colourPicker);this.setContentSize(this._background.getContentSize());return!0}return!1},_updateControlPicker:function(){this._huePicker.setHue(this._hsv.h);this._colourPicker.updateWithHSV(this._hsv)},_updateHueAndControlPicker:function(){this._huePicker.setHue(this._hsv.h);
this._colourPicker.updateWithHSV(this._hsv);this._colourPicker.updateDraggerWithHSV(this._hsv)},setEnabled:function($enabled$$){cc.Control.prototype.setEnabled.call(this,$enabled$$);null!=this._huePicker&&this._huePicker.setEnabled($enabled$$);this._colourPicker&&this._colourPicker.setEnabled($enabled$$)},onTouchBegan:function(){return!1}});_p=cc.ControlColourPicker.prototype;_p.background;cc.defineGetterSetter(_p,"background",_p.getBackground);_p=null;cc.ControlColourPicker.create=function $cc$ControlColourPicker$create$(){return new cc.ControlColourPicker};
var res=res||{};res.CCControlColourPickerSpriteSheet_plist=res.CCControlColourPickerSpriteSheet_plist||"res/extensions/CCControlColourPickerSpriteSheet.plist";res.CCControlColourPickerSpriteSheet_png=res.CCControlColourPickerSpriteSheet_png||"res/extensions/CCControlColourPickerSpriteSheet.png";cc.SLIDER_MARGIN_H=24;cc.SLIDER_MARGIN_V=8;
cc.ControlSlider=cc.Control.extend({_value:0,_minimumValue:0,_maximumValue:0,_minimumAllowedValue:0,_maximumAllowedValue:0,_thumbSprite:null,_progressSprite:null,_backgroundSprite:null,_className:"ControlSlider",ctor:function($bgFile$$,$progressFile$$,$thumbFile$$){cc.Control.prototype.ctor.call(this);void 0!=$thumbFile$$&&(bgSprite=new cc.Sprite($bgFile$$),progressSprite=new cc.Sprite($progressFile$$),thumbSprite=new cc.Sprite($thumbFile$$),this.initWithSprites(bgSprite,progressSprite,thumbSprite))},
getValue:function(){return this._value},setValue:function($value$$){$value$$=Math.max($value$$,this._minimumValue);this._value=$value$$=Math.min($value$$,this._maximumValue);this.needsLayout();this.sendActionsForControlEvents(cc.CONTROL_EVENT_VALUECHANGED)},getMinimumValue:function(){return this._minimumValue},setMinimumValue:function($minimumValue$$){this._minimumAllowedValue=this._minimumValue=$minimumValue$$;this._minimumValue>=this._maximumValue&&(this._maximumValue=this._minimumValue+1);this.setValue(this._value)},
getMaximumValue:function(){return this._maximumValue},setMaximumValue:function($maximumValue$$){this._maximumAllowedValue=this._maximumValue=$maximumValue$$;this._maximumValue<=this._minimumValue&&(this._minimumValue=this._maximumValue-1);this.setValue(this._value)},isTouchInside:function($touch$$21_touchLocation$$){$touch$$21_touchLocation$$=$touch$$21_touchLocation$$.getLocation();$touch$$21_touchLocation$$=this.getParent().convertToNodeSpace($touch$$21_touchLocation$$);var $rect$$=this.getBoundingBox();
$rect$$.width+=this._thumbSprite.getContentSize().width;$rect$$.x-=this._thumbSprite.getContentSize().width/2;return cc.rectContainsPoint($rect$$,$touch$$21_touchLocation$$)},locationFromTouch:function($touch$$22_touchLocation$$){$touch$$22_touchLocation$$=$touch$$22_touchLocation$$.getLocation();$touch$$22_touchLocation$$=this.convertToNodeSpace($touch$$22_touchLocation$$);0>$touch$$22_touchLocation$$.x?$touch$$22_touchLocation$$.x=0:$touch$$22_touchLocation$$.x>this._backgroundSprite.getContentSize().width&&
($touch$$22_touchLocation$$.x=this._backgroundSprite.getContentSize().width);return $touch$$22_touchLocation$$},getMinimumAllowedValue:function(){return this._minimumAllowedValue},setMinimumAllowedValue:function($val$$){this._minimumAllowedValue=$val$$},getMaximumAllowedValue:function(){return this._maximumAllowedValue},setMaximumAllowedValue:function($val$$){this._maximumAllowedValue=$val$$},getThumbSprite:function(){return this._thumbSprite},getProgressSprite:function(){return this._progressSprite},
getBackgroundSprite:function(){return this._backgroundSprite},initWithSprites:function($backgroundSprite$$3_maxRect$$,$progressSprite$$,$thumbSprite$$){return cc.Control.prototype.init.call(this)?(this.ignoreAnchorPointForPosition(!1),this._backgroundSprite=$backgroundSprite$$3_maxRect$$,this._progressSprite=$progressSprite$$,this._thumbSprite=$thumbSprite$$,$backgroundSprite$$3_maxRect$$=cc.ControlUtils.CCRectUnion($backgroundSprite$$3_maxRect$$.getBoundingBox(),$thumbSprite$$.getBoundingBox()),
this.setContentSize($backgroundSprite$$3_maxRect$$.width,$backgroundSprite$$3_maxRect$$.height),this._backgroundSprite.setAnchorPoint(.5,.5),this._backgroundSprite.setPosition($backgroundSprite$$3_maxRect$$.width/2,$backgroundSprite$$3_maxRect$$.height/2),this.addChild(this._backgroundSprite),this._progressSprite.setAnchorPoint(0,.5),this._progressSprite.setPosition(0,$backgroundSprite$$3_maxRect$$.height/2),this.addChild(this._progressSprite),this._thumbSprite.setPosition(0,$backgroundSprite$$3_maxRect$$.height/
2),this.addChild(this._thumbSprite),this._minimumValue=0,this._maximumValue=1,this.setValue(this._minimumValue),!0):!1},setEnabled:function($enabled$$){cc.Control.prototype.setEnabled.call(this,$enabled$$);this._thumbSprite&&this._thumbSprite.setOpacity($enabled$$?255:128)},sliderBegan:function($location$$){this.setSelected(!0);this.getThumbSprite().setColor(cc.color.GRAY);this.setValue(this.valueForLocation($location$$))},sliderMoved:function($location$$){this.setValue(this.valueForLocation($location$$))},
sliderEnded:function($location$$){this.isSelected()&&this.setValue(this.valueForLocation(this._thumbSprite.getPosition()));this._thumbSprite.setColor(cc.color.WHITE);this.setSelected(!1)},getTouchLocationInControl:function($touch$$23_touchLocation$$){$touch$$23_touchLocation$$=$touch$$23_touchLocation$$.getLocation();$touch$$23_touchLocation$$=this.convertToNodeSpace($touch$$23_touchLocation$$);0>$touch$$23_touchLocation$$.x?$touch$$23_touchLocation$$.x=0:$touch$$23_touchLocation$$.x>this._backgroundSprite.getContentSize().width+
cc.SLIDER_MARGIN_H&&($touch$$23_touchLocation$$.x=this._backgroundSprite.getContentSize().width+cc.SLIDER_MARGIN_H);return $touch$$23_touchLocation$$},onTouchBegan:function($touch$$,$event$$){if(!this.isTouchInside($touch$$)||!this.isEnabled()||!this.isVisible())return!1;var $location$$=this.locationFromTouch($touch$$);this.sliderBegan($location$$);return!0},onTouchMoved:function($touch$$,$event$$){var $location$$=this.locationFromTouch($touch$$);this.sliderMoved($location$$)},onTouchEnded:function($touch$$,
$event$$){this.sliderEnded(cc.p(0,0))},needsLayout:function(){this._thumbSprite.setPositionX((this._value-this._minimumValue)/(this._maximumValue-this._minimumValue)*this._backgroundSprite.getContentSize().width);var $textureRect$$=this._progressSprite.getTextureRect(),$textureRect$$=cc.rect($textureRect$$.x,$textureRect$$.y,this._thumbSprite.getPositionX(),$textureRect$$.height);this._progressSprite.setTextureRect($textureRect$$,this._progressSprite.isTextureRectRotated())},valueForLocation:function($location$$56_percent$$){$location$$56_percent$$=
$location$$56_percent$$.x/this._backgroundSprite.getContentSize().width;return Math.max(Math.min(this._minimumValue+$location$$56_percent$$*(this._maximumValue-this._minimumValue),this._maximumAllowedValue),this._minimumAllowedValue)}});_p=cc.ControlSlider.prototype;_p.value;cc.defineGetterSetter(_p,"value",_p.getValue,_p.setValue);_p.minValue;cc.defineGetterSetter(_p,"minValue",_p.getMinimumValue,_p.setMinimumValue);_p.maxValue;cc.defineGetterSetter(_p,"maxValue",_p.getMaximumValue,_p.setMaximumValue);
_p.minAllowedValue;cc.defineGetterSetter(_p,"minAllowedValue",_p.getMinimumAllowedValue,_p.setMinimumAllowedValue);_p.maxAllowedValue;cc.defineGetterSetter(_p,"maxAllowedValue",_p.getMaximumAllowedValue,_p.setMaximumAllowedValue);_p.thumbSprite;cc.defineGetterSetter(_p,"thumbSprite",_p.getThumbSprite);_p.progressSprite;cc.defineGetterSetter(_p,"progressSprite",_p.getProgressSprite);_p.backgroundSprite;cc.defineGetterSetter(_p,"backgroundSprite",_p.getBackgroundSprite);_p=null;
cc.ControlSlider.create=function $cc$ControlSlider$create$($bgFile$$,$progressFile$$,$thumbFile$$){return new cc.ControlSlider($bgFile$$,$progressFile$$,$thumbFile$$)};
cc.ControlSwitch=cc.Control.extend({_switchSprite:null,_initialTouchXPosition:0,_moved:!1,_on:!1,_className:"ControlSwitch",ctor:function($maskSprite$$,$onSprite$$,$offSprite$$,$thumbSprite$$,$onLabel$$,$offLabel$$){cc.Control.prototype.ctor.call(this);$offLabel$$&&this.initWithMaskSprite($maskSprite$$,$onSprite$$,$offSprite$$,$thumbSprite$$,$onLabel$$,$offLabel$$)},initWithMaskSprite:function($maskSprite$$,$onSprite$$,$offSprite$$,$thumbSprite$$,$onLabel$$,$offLabel$$){if(!$maskSprite$$)throw"cc.ControlSwitch.initWithMaskSprite(): maskSprite should be non-null.";
if(!$onSprite$$)throw"cc.ControlSwitch.initWithMaskSprite(): onSprite should be non-null.";if(!$offSprite$$)throw"cc.ControlSwitch.initWithMaskSprite(): offSprite should be non-null.";if(!$thumbSprite$$)throw"cc.ControlSwitch.initWithMaskSprite(): thumbSprite should be non-null.";return this.init()?(this._on=!0,this._switchSprite=new cc.ControlSwitchSprite,this._switchSprite.initWithMaskSprite($maskSprite$$,$onSprite$$,$offSprite$$,$thumbSprite$$,$onLabel$$,$offLabel$$),this._switchSprite.setPosition(this._switchSprite.getContentSize().width/
2,this._switchSprite.getContentSize().height/2),this.addChild(this._switchSprite),this.ignoreAnchorPointForPosition(!1),this.setAnchorPoint(.5,.5),this.setContentSize(this._switchSprite.getContentSize()),!0):!1},setOn:function($isOn$$,$animated$$){$animated$$=$animated$$||!1;var $xPosition$$=(this._on=$isOn$$)?this._switchSprite.getOnPosition():this._switchSprite.getOffPosition();$animated$$?this._switchSprite.runAction(new cc.ActionTween(.2,"sliderXPosition",this._switchSprite.getSliderXPosition(),
$xPosition$$)):this._switchSprite.setSliderXPosition($xPosition$$);this.sendActionsForControlEvents(cc.CONTROL_EVENT_VALUECHANGED)},isOn:function(){return this._on},hasMoved:function(){return this._moved},setEnabled:function($enabled$$){this._enabled=$enabled$$;this._switchSprite.setOpacity($enabled$$?255:128)},locationFromTouch:function($touch$$27_touchLocation$$){$touch$$27_touchLocation$$=$touch$$27_touchLocation$$.getLocation();return $touch$$27_touchLocation$$=this.convertToNodeSpace($touch$$27_touchLocation$$)},
onTouchBegan:function($touch$$,$event$$){if(!this.isTouchInside($touch$$)||!this.isEnabled()||!this.isVisible())return!1;this._moved=!1;this._initialTouchXPosition=this.locationFromTouch($touch$$).x-this._switchSprite.getSliderXPosition();this._switchSprite.getThumbSprite().setColor(cc.color.GRAY);this._switchSprite.needsLayout();return!0},onTouchMoved:function($touch$$,$event$$){var $location$$=this.locationFromTouch($touch$$),$location$$=cc.p($location$$.x-this._initialTouchXPosition,0);this._moved=
!0;this._switchSprite.setSliderXPosition($location$$.x)},onTouchEnded:function($touch$$,$event$$){var $location$$=this.locationFromTouch($touch$$);this._switchSprite.getThumbSprite().setColor(cc.color.WHITE);this.hasMoved()?this.setOn(!($location$$.x<this._switchSprite.getContentSize().width/2),!0):this.setOn(!this._on,!0)},onTouchCancelled:function($touch$$,$event$$){var $location$$=this.locationFromTouch($touch$$);this._switchSprite.getThumbSprite().setColor(cc.color.WHITE);this.hasMoved()?this.setOn(!($location$$.x<
this._switchSprite.getContentSize().width/2),!0):this.setOn(!this._on,!0)}});cc.ControlSwitch.create=function $cc$ControlSwitch$create$($maskSprite$$,$onSprite$$,$offSprite$$,$thumbSprite$$,$onLabel$$,$offLabel$$){return new cc.ControlSwitch($maskSprite$$,$onSprite$$,$offSprite$$,$thumbSprite$$,$onLabel$$,$offLabel$$)};
cc.ControlSwitchSprite=cc.Sprite.extend({_sliderXPosition:0,_onPosition:0,_offPosition:0,_textureLocation:0,_maskLocation:0,_maskSize:null,_onSprite:null,_offSprite:null,_thumbSprite:null,_onLabel:null,_offLabel:null,_clipper:null,_stencil:null,_backRT:null,ctor:function(){cc.Sprite.prototype.ctor.call(this);this._maskLocation=this._offPosition=this._onPosition=this._sliderXPosition=0;this._maskSize=cc.size(0,0);this._offLabel=this._onLabel=this._thumbSprite=this._offSprite=this._onSprite=null},initWithMaskSprite:function($maskSize_maskSprite$$,
$onSprite$$,$offSprite$$,$thumbSprite$$,$onLabel$$,$offLabel$$){return cc.Sprite.prototype.initWithTexture.call(this,$maskSize_maskSprite$$.getTexture())?(this._onPosition=0,this._offPosition=-$onSprite$$.getContentSize().width+$thumbSprite$$.getContentSize().width/2,this._sliderXPosition=this._onPosition,this.setOnSprite($onSprite$$),this.setOffSprite($offSprite$$),this.setThumbSprite($thumbSprite$$),this.setOnLabel($onLabel$$),this.setOffLabel($offLabel$$),this._stencil=$maskSize_maskSprite$$,$maskSize_maskSprite$$=
this._maskSize=this._stencil.getContentSize(),this._stencil.setPosition(0,0),this._clipper=new cc.ClippingNode,this._clipper.setAnchorPoint(.5,.5),this._clipper.setPosition($maskSize_maskSprite$$.width/2,$maskSize_maskSprite$$.height/2),this._clipper.setStencil(this._stencil),this.addChild(this._clipper),this._clipper.addChild($onSprite$$),this._clipper.addChild($offSprite$$),this._clipper.addChild($onLabel$$),this._clipper.addChild($offLabel$$),this.addChild(this._thumbSprite),this.needsLayout(),
!0):!1},needsLayout:function(){var $maskSize$$=this._maskSize;this._onSprite.setPosition(this._onSprite.getContentSize().width/2+this._sliderXPosition-$maskSize$$.width/2,this._onSprite.getContentSize().height/2-$maskSize$$.height/2);this._offSprite.setPosition(this._onSprite.getContentSize().width+this._offSprite.getContentSize().width/2+this._sliderXPosition-$maskSize$$.width/2,this._offSprite.getContentSize().height/2-$maskSize$$.height/2);this._onLabel&&this._onLabel.setPosition(this._onSprite.getPositionX()-
this._thumbSprite.getContentSize().width/6,this._onSprite.getContentSize().height/2-$maskSize$$.height/2);this._offLabel&&this._offLabel.setPosition(this._offSprite.getPositionX()+this._thumbSprite.getContentSize().width/6,this._offSprite.getContentSize().height/2-$maskSize$$.height/2);this._thumbSprite.setPosition(this._onSprite.getContentSize().width+this._sliderXPosition,this._maskSize.height/2)},setSliderXPosition:function($sliderXPosition$$){$sliderXPosition$$<=this._offPosition?$sliderXPosition$$=
this._offPosition:$sliderXPosition$$>=this._onPosition&&($sliderXPosition$$=this._onPosition);this._sliderXPosition=$sliderXPosition$$;this.needsLayout()},getSliderXPosition:function(){return this._sliderXPosition},_getOnSideWidth:function(){return this._onSprite.getContentSize().width},_getOffSideWidth:function(){return this._offSprite.getContentSize().height},updateTweenAction:function($value$$,$key$$){cc.log("key = "+$key$$+", value = "+$value$$);this.setSliderXPosition($value$$)},setOnPosition:function($onPosition$$){this._onPosition=
$onPosition$$},getOnPosition:function(){return this._onPosition},setOffPosition:function($offPosition$$){this._offPosition=$offPosition$$},getOffPosition:function(){return this._offPosition},setMaskTexture:function($maskTexture$$){this._stencil.setTexture($maskTexture$$)},getMaskTexture:function(){return this._stencil.getTexture()},setTextureLocation:function($textureLocation$$){this._textureLocation=$textureLocation$$},getTextureLocation:function(){return this._textureLocation},setMaskLocation:function($maskLocation$$){this._maskLocation=
$maskLocation$$},getMaskLocation:function(){return this._maskLocation},setOnSprite:function($onSprite$$){this._onSprite=$onSprite$$},getOnSprite:function(){return this._onSprite},setOffSprite:function($offSprite$$){this._offSprite=$offSprite$$},getOffSprite:function(){return this._offSprite},setThumbSprite:function($thumbSprite$$){this._thumbSprite=$thumbSprite$$},getThumbSprite:function(){return this._thumbSprite},setOnLabel:function($onLabel$$){this._onLabel=$onLabel$$},getOnLabel:function(){return this._onLabel},
setOffLabel:function($offLabel$$){this._offLabel=$offLabel$$},getOffLabel:function(){return this._offLabel}});_p=cc.ControlSwitchSprite.prototype;_p.sliderX;cc.defineGetterSetter(_p,"sliderX",_p.getSliderXPosition,_p.setSliderXPosition);_p.onPos;cc.defineGetterSetter(_p,"onPos",_p.getOnPosition,_p.setOnPosition);_p.offPos;cc.defineGetterSetter(_p,"offPos",_p.getOffPosition,_p.setOffPosition);_p.maskTexture;cc.defineGetterSetter(_p,"maskTexture",_p.getMaskTexture,_p.setMaskTexture);_p.maskPos;
cc.defineGetterSetter(_p,"maskPos",_p.getMaskLocation,_p.setMaskLocation);_p.onSprite;cc.defineGetterSetter(_p,"onSprite",_p.getOnSprite,_p.setOnSprite);_p.offSprite;cc.defineGetterSetter(_p,"offSprite",_p.getOffSprite,_p.setOffSprite);_p.thumbSprite;cc.defineGetterSetter(_p,"thumbSprite",_p.getThumbSprite,_p.setThumbSprite);_p.onLabel;cc.defineGetterSetter(_p,"onLabel",_p.getOnLabel,_p.setOnLabel);_p.offLabel;cc.defineGetterSetter(_p,"offLabel",_p.getOffLabel,_p.setOffLabel);_p.onSideWidth;
cc.defineGetterSetter(_p,"onSideWidth",_p._getOnSideWidth);_p.offSideWidth;cc.defineGetterSetter(_p,"offSideWidth",_p._getOffSideWidth);_p=null;cc.CONTROL_STEPPER_PARTMINUS=0;cc.CONTROL_STEPPER_PARTPLUS=1;cc.CONTROL_STEPPER_PARTNONE=2;cc.CONTROL_STEPPER_LABELCOLOR_ENABLED=cc.color(55,55,55);cc.CONTROL_STEPPER_LABELCOLOR_DISABLED=cc.color(147,147,147);cc.CONTROL_STEPPER_LABELFONT="CourierNewPSMT";cc.AUTOREPEAT_DELTATIME=.15;cc.AUTOREPEAT_INCREASETIME_INCREMENT=12;
cc.ControlStepper=cc.Control.extend({_minusSprite:null,_plusSprite:null,_minusLabel:null,_plusLabel:null,_value:0,_continuous:!1,_autorepeat:!1,_wraps:!1,_minimumValue:0,_maximumValue:0,_stepValue:0,_touchInsideFlag:!1,_touchedPart:cc.CONTROL_STEPPER_PARTNONE,_autorepeatCount:0,_className:"ControlStepper",ctor:function($minusSprite$$,$plusSprite$$){cc.Control.prototype.ctor.call(this);this._plusLabel=this._minusLabel=this._plusSprite=this._minusSprite=null;this._value=0;this._wraps=this._autorepeat=
this._continuous=!1;this._stepValue=this._maximumValue=this._minimumValue=0;this._touchInsideFlag=!1;this._touchedPart=cc.CONTROL_STEPPER_PARTNONE;this._autorepeatCount=0;$plusSprite$$&&this.initWithMinusSpriteAndPlusSprite($minusSprite$$,$plusSprite$$)},initWithMinusSpriteAndPlusSprite:function($minusSprite$$,$plusSprite$$){if(!$minusSprite$$)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Minus sprite should be non-null.";if(!$plusSprite$$)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Plus sprite should be non-null.";
if(this.init()){this._continuous=this._autorepeat=!0;this._minimumValue=0;this._maximumValue=100;this._value=0;this._stepValue=1;this._wraps=!1;this.ignoreAnchorPointForPosition(!1);this.setMinusSprite($minusSprite$$);this._minusSprite.setPosition($minusSprite$$.getContentSize().width/2,$minusSprite$$.getContentSize().height/2);this.addChild(this._minusSprite);this.setMinusLabel(new cc.LabelTTF("-",cc.CONTROL_STEPPER_LABELFONT,40,cc.size(40,40),cc.TEXT_ALIGNMENT_CENTER,cc.VERTICAL_TEXT_ALIGNMENT_CENTER));
this._minusLabel.setColor(cc.CONTROL_STEPPER_LABELCOLOR_DISABLED);this._minusLabel.setPosition(this._minusSprite.getContentSize().width/2,this._minusSprite.getContentSize().height/2);this._minusSprite.addChild(this._minusLabel);this.setPlusSprite($plusSprite$$);this._plusSprite.setPosition($minusSprite$$.getContentSize().width+$plusSprite$$.getContentSize().width/2,$minusSprite$$.getContentSize().height/2);this.addChild(this._plusSprite);this.setPlusLabel(new cc.LabelTTF("+",cc.CONTROL_STEPPER_LABELFONT,
40,cc.size(40,40),cc.TEXT_ALIGNMENT_CENTER,cc.VERTICAL_TEXT_ALIGNMENT_CENTER));this._plusLabel.setColor(cc.CONTROL_STEPPER_LABELCOLOR_ENABLED);this._plusLabel.setPosition(this._plusSprite.getContentSize().width/2,this._plusSprite.getContentSize().height/2);this._plusSprite.addChild(this._plusLabel);var $maxRect$$=cc.ControlUtils.CCRectUnion(this._minusSprite.getBoundingBox(),this._plusSprite.getBoundingBox());this.setContentSize(this._minusSprite.getContentSize().width+this._plusSprite.getContentSize().height,
$maxRect$$.height);return!0}return!1},setWraps:function($wraps$$){if(this._wraps=$wraps$$)this._minusLabel.setColor(cc.CONTROL_STEPPER_LABELCOLOR_ENABLED),this._plusLabel.setColor(cc.CONTROL_STEPPER_LABELCOLOR_ENABLED);this.setValue(this._value)},getWraps:function(){return this._wraps},setMinimumValue:function($minimumValue$$){if($minimumValue$$>=this._maximumValue)throw"cc.ControlStepper.setMinimumValue(): minimumValue should be numerically less than maximumValue.";this._minimumValue=$minimumValue$$;
this.setValue(this._value)},getMinimumValue:function(){return this._minimumValue},setMaximumValue:function($maximumValue$$){if($maximumValue$$<=this._minimumValue)throw"cc.ControlStepper.setMaximumValue(): maximumValue should be numerically less than maximumValue.";this._maximumValue=$maximumValue$$;this.setValue(this._value)},getMaximumValue:function(){return this._maximumValue},setValue:function($value$$){this.setValueWithSendingEvent($value$$,!0)},getValue:function(){return this._value},setStepValue:function($stepValue$$){if(0>=
$stepValue$$)throw"cc.ControlStepper.setMaximumValue(): stepValue should be numerically greater than 0.";this._stepValue=$stepValue$$},getStepValue:function(){return this._stepValue},isContinuous:function(){return this._continuous},setValueWithSendingEvent:function($value$$,$send$$){$value$$<this._minimumValue?$value$$=this._wraps?this._maximumValue:this._minimumValue:$value$$>this._maximumValue&&($value$$=this._wraps?this._minimumValue:this._maximumValue);this._value=$value$$;this._wraps||(this._minusLabel.setColor($value$$==
this._minimumValue?cc.CONTROL_STEPPER_LABELCOLOR_DISABLED:cc.CONTROL_STEPPER_LABELCOLOR_ENABLED),this._plusLabel.setColor($value$$==this._maximumValue?cc.CONTROL_STEPPER_LABELCOLOR_DISABLED:cc.CONTROL_STEPPER_LABELCOLOR_ENABLED));$send$$&&this.sendActionsForControlEvents(cc.CONTROL_EVENT_VALUECHANGED)},startAutorepeat:function(){this._autorepeatCount=-1;this.schedule(this.update,cc.AUTOREPEAT_DELTATIME,cc.REPEAT_FOREVER,3*cc.AUTOREPEAT_DELTATIME)},stopAutorepeat:function(){this.unschedule(this.update)},
update:function($dt$$){this._autorepeatCount++;this._autorepeatCount<cc.AUTOREPEAT_INCREASETIME_INCREMENT&&0!=this._autorepeatCount%3||(this._touchedPart==cc.CONTROL_STEPPER_PARTMINUS?this.setValueWithSendingEvent(this._value-this._stepValue,this._continuous):this._touchedPart==cc.CONTROL_STEPPER_PARTPLUS&&this.setValueWithSendingEvent(this._value+this._stepValue,this._continuous))},updateLayoutUsingTouchLocation:function($location$$){$location$$.x<this._minusSprite.getContentSize().width&&this._value>
this._minimumValue?(this._touchedPart=cc.CONTROL_STEPPER_PARTMINUS,this._minusSprite.setColor(cc.color.GRAY),this._plusSprite.setColor(cc.color.WHITE)):$location$$.x>=this._minusSprite.getContentSize().width&&this._value<this._maximumValue?(this._touchedPart=cc.CONTROL_STEPPER_PARTPLUS,this._minusSprite.setColor(cc.color.WHITE),this._plusSprite.setColor(cc.color.GRAY)):(this._touchedPart=cc.CONTROL_STEPPER_PARTNONE,this._minusSprite.setColor(cc.color.WHITE),this._plusSprite.setColor(cc.color.WHITE))},
onTouchBegan:function($touch$$,$event$$){if(!this.isTouchInside($touch$$)||!this.isEnabled()||!this.isVisible())return!1;var $location$$=this.getTouchLocation($touch$$);this.updateLayoutUsingTouchLocation($location$$);this._touchInsideFlag=!0;this._autorepeat&&this.startAutorepeat();return!0},onTouchMoved:function($touch$$,$event$$){if(this.isTouchInside($touch$$)){var $location$$=this.getTouchLocation($touch$$);this.updateLayoutUsingTouchLocation($location$$);this._touchInsideFlag||(this._touchInsideFlag=
!0,this._autorepeat&&this.startAutorepeat())}else this._touchInsideFlag=!1,this._touchedPart=cc.CONTROL_STEPPER_PARTNONE,this._minusSprite.setColor(cc.color.WHITE),this._plusSprite.setColor(cc.color.WHITE),this._autorepeat&&this.stopAutorepeat()},onTouchEnded:function($touch$$,$event$$){this._minusSprite.setColor(cc.color.WHITE);this._plusSprite.setColor(cc.color.WHITE);this._autorepeat&&this.stopAutorepeat();if(this.isTouchInside($touch$$)){var $location$$=this.getTouchLocation($touch$$);this.setValue(this._value+
($location$$.x<this._minusSprite.getContentSize().width?0-this._stepValue:this._stepValue))}},setMinusSprite:function($sprite$$){this._minusSprite=$sprite$$},getMinusSprite:function(){return this._minusSprite},setPlusSprite:function($sprite$$){this._plusSprite=$sprite$$},getPlusSprite:function(){return this._plusSprite},setMinusLabel:function($sprite$$){this._minusLabel=$sprite$$},getMinusLabel:function(){return this._minusLabel},setPlusLabel:function($sprite$$){this._plusLabel=$sprite$$},getPlusLabel:function(){return this._plusLabel}});
_p=cc.ControlStepper.prototype;_p.wraps;cc.defineGetterSetter(_p,"wraps",_p.getWraps,_p.setWraps);_p.value;cc.defineGetterSetter(_p,"value",_p.getValue,_p.setValue);_p.minValue;cc.defineGetterSetter(_p,"minValue",_p.getMinimumValue,_p.setMinimumValue);_p.maxValue;cc.defineGetterSetter(_p,"maxValue",_p.getMaximumValue,_p.setMaximumValue);_p.stepValue;cc.defineGetterSetter(_p,"stepValue",_p.getStepValue,_p.setStepValue);_p.continuous;cc.defineGetterSetter(_p,"continuous",_p.isContinuous);_p.minusSprite;
cc.defineGetterSetter(_p,"minusSprite",_p.getMinusSprite,_p.setMinusSprite);_p.plusSprite;cc.defineGetterSetter(_p,"plusSprite",_p.getPlusSprite,_p.setPlusSprite);_p.minusLabel;cc.defineGetterSetter(_p,"minusLabel",_p.getMinusLabel,_p.setMinusLabel);_p.plusLabel;cc.defineGetterSetter(_p,"plusLabel",_p.getPlusLabel,_p.setPlusLabel);_p=null;cc.ControlStepper.create=function $cc$ControlStepper$create$($minusSprite$$,$plusSprite$$){return new cc.ControlStepper($minusSprite$$,$plusSprite$$)};
cc.ControlPotentiometer=cc.Control.extend({_thumbSprite:null,_progressTimer:null,_previousLocation:null,_value:0,_minimumValue:0,_maximumValue:1,_className:"ControlPotentiometer",ctor:function($backgroundFile_backgroundSprite$$,$progressFile$$,$thumbFile$$2_thumbSprite$$){cc.Control.prototype.ctor.call(this);void 0!=$thumbFile$$2_thumbSprite$$&&($backgroundFile_backgroundSprite$$=new cc.Sprite($backgroundFile_backgroundSprite$$),$thumbFile$$2_thumbSprite$$=new cc.Sprite($thumbFile$$2_thumbSprite$$),
$progressFile$$=new cc.ProgressTimer(new cc.Sprite($progressFile$$)),this.initWithTrackSprite_ProgressTimer_ThumbSprite($backgroundFile_backgroundSprite$$,$progressFile$$,$thumbFile$$2_thumbSprite$$))},initWithTrackSprite_ProgressTimer_ThumbSprite:function($trackSprite$$,$progressTimer$$,$thumbSprite$$){return this.init()?(this.setProgressTimer($progressTimer$$),this.setThumbSprite($thumbSprite$$),this._thumbSprite.setPosition($progressTimer$$.getPosition()),this.addChild($thumbSprite$$,2),this.addChild($progressTimer$$,
1),this.addChild($trackSprite$$),this.setContentSize($trackSprite$$.getContentSize()),this._minimumValue=0,this._maximumValue=1,this.setValue(this._minimumValue),!0):!1},setEnabled:function($enabled$$){this.setEnabled($enabled$$);this._thumbSprite!=NULL&&this._thumbSprite.setOpacity($enabled$$?255:128)},setValue:function($percent$$7_value$$){$percent$$7_value$$<this._minimumValue&&($percent$$7_value$$=this._minimumValue);$percent$$7_value$$>this._maximumValue&&($percent$$7_value$$=this._maximumValue);
this._value=$percent$$7_value$$;$percent$$7_value$$=($percent$$7_value$$-this._minimumValue)/(this._maximumValue-this._minimumValue);this._progressTimer.setPercentage(100*$percent$$7_value$$);this._thumbSprite.setRotation(360*$percent$$7_value$$);this.sendActionsForControlEvents(cc.CONTROL_EVENT_VALUECHANGED)},getValue:function(){return this._value},setMinimumValue:function($minimumValue$$){this._minimumValue=$minimumValue$$;this._minimumValue>=this._maximumValue&&(this._maximumValue=this._minimumValue+
1);this.setValue(this._maximumValue)},getMinimumValue:function(){return this._minimumValue},setMaximumValue:function($maximumValue$$){this._maximumValue=$maximumValue$$;this._maximumValue<=this._minimumValue&&(this._minimumValue=this._maximumValue-1);this.setValue(this._minimumValue)},getMaximumValue:function(){return this._maximumValue},isTouchInside:function($touch$$35_touchLocation$$){$touch$$35_touchLocation$$=this.getTouchLocation($touch$$35_touchLocation$$);return this.distanceBetweenPointAndPoint(this._progressTimer.getPosition(),
$touch$$35_touchLocation$$)<Math.min(this.getContentSize().width/2,this.getContentSize().height/2)},onTouchBegan:function($touch$$,$event$$){if(!this.isTouchInside($touch$$)||!this.isEnabled()||!this.isVisible())return!1;this._previousLocation=this.getTouchLocation($touch$$);this.potentiometerBegan(this._previousLocation);return!0},onTouchMoved:function($touch$$,$event$$){var $location$$=this.getTouchLocation($touch$$);this.potentiometerMoved($location$$)},onTouchEnded:function($touch$$,$event$$){this.potentiometerEnded(cc.p(0,
0))},distanceBetweenPointAndPoint:function($point1$$,$point2$$){var $dx$$=$point1$$.x-$point2$$.x,$dy$$=$point1$$.y-$point2$$.y;return Math.sqrt($dx$$*$dx$$+$dy$$*$dy$$)},angleInDegreesBetweenLineFromPoint_toPoint_toLineFromPoint_toPoint:function($atanA_beginLineA$$,$endLineA$$,$beginLineB_d$$,$endLineB$$){var $atanB_c$$=$endLineB$$.x-$beginLineB_d$$.x;$beginLineB_d$$=$endLineB$$.y-$beginLineB_d$$.y;$atanA_beginLineA$$=Math.atan2($endLineA$$.x-$atanA_beginLineA$$.x,$endLineA$$.y-$atanA_beginLineA$$.y);
$atanB_c$$=Math.atan2($atanB_c$$,$beginLineB_d$$);return 180*($atanA_beginLineA$$-$atanB_c$$)/Math.PI},potentiometerBegan:function($location$$){this.setSelected(!0);this.getThumbSprite().setColor(cc.color.GRAY)},potentiometerMoved:function($location$$){var $angle$$=this.angleInDegreesBetweenLineFromPoint_toPoint_toLineFromPoint_toPoint(this._progressTimer.getPosition(),$location$$,this._progressTimer.getPosition(),this._previousLocation);180<$angle$$?$angle$$-=360:-180>$angle$$&&($angle$$+=360);this.setValue(this._value+
$angle$$/360*(this._maximumValue-this._minimumValue));this._previousLocation=$location$$},potentiometerEnded:function($location$$){this.getThumbSprite().setColor(cc.color.WHITE);this.setSelected(!1)},setThumbSprite:function($sprite$$){this._thumbSprite=$sprite$$},getThumbSprite:function(){return this._thumbSprite},setProgressTimer:function($sprite$$){this._progressTimer=$sprite$$},getProgressTimer:function(){return this._progressTimer},setPreviousLocation:function($point$$){this._previousLocation=
$point$$},getPreviousLocation:function(){return this._previousLocation}});_p=cc.ControlPotentiometer.prototype;_p.value;cc.defineGetterSetter(_p,"value",_p.getValue,_p.setValue);_p.minValue;cc.defineGetterSetter(_p,"minValue",_p.getMinimumValue,_p.setMinimumValue);_p.maxValue;cc.defineGetterSetter(_p,"maxValue",_p.getMaximumValue,_p.setMaximumValue);_p.progressTimer;cc.defineGetterSetter(_p,"progressTimer",_p.getProgressTimer,_p.setProgressTimer);_p.thumbSprite;
cc.defineGetterSetter(_p,"thumbSprite",_p.getThumbSprite,_p.setThumbSprite);_p.prevLocation;cc.defineGetterSetter(_p,"prevLocation",_p.getPreviousLocation,_p.setPreviousLocation);_p=null;cc.ControlPotentiometer.create=function $cc$ControlPotentiometer$create$($backgroundFile$$,$progressFile$$,$thumbFile$$){return new cc.ControlPotentiometer($backgroundFile$$,$progressFile$$,$thumbFile$$)};cc.SCROLLVIEW_DIRECTION_NONE=-1;cc.SCROLLVIEW_DIRECTION_HORIZONTAL=0;cc.SCROLLVIEW_DIRECTION_VERTICAL=1;
cc.SCROLLVIEW_DIRECTION_BOTH=2;var SCROLL_DEACCEL_RATE=.95,SCROLL_DEACCEL_DIST=1,BOUNCE_DURATION=.15,INSET_RATIO=.2,MOVE_INCH=.04375,BOUNCE_BACK_FACTOR=.35;cc.convertDistanceFromPointToInch=function $cc$convertDistanceFromPointToInch$($pointDis$$){var $eglViewer$$1_factor$$=cc.view,$eglViewer$$1_factor$$=($eglViewer$$1_factor$$.getScaleX()+$eglViewer$$1_factor$$.getScaleY())/2;return $pointDis$$*$eglViewer$$1_factor$$/160};
cc.ScrollViewDelegate=cc.Class.extend({scrollViewDidScroll:function($view$$){},scrollViewDidZoom:function($view$$){}});
cc.ScrollView=cc.Layer.extend({_zoomScale:0,_minZoomScale:0,_maxZoomScale:0,_delegate:null,_direction:cc.SCROLLVIEW_DIRECTION_BOTH,_dragging:!1,_contentOffset:null,_container:null,_touchMoved:!1,_maxInset:null,_minInset:null,_bounceable:!1,_clippingToBounds:!1,_scrollDistance:null,_touchPoint:null,_touchLength:0,_touches:null,_viewSize:null,_minScale:0,_maxScale:0,_parentScissorRect:null,_scissorRestored:!1,_tmpViewRect:null,_touchListener:null,_className:"ScrollView",_beforeDrawCmd:null,_afterDrawCmd:null,
ctor:function($size$$,$container$$){cc.Layer.prototype.ctor.call(this);this._contentOffset=cc.p(0,0);this._maxInset=cc.p(0,0);this._minInset=cc.p(0,0);this._scrollDistance=cc.p(0,0);this._touchPoint=cc.p(0,0);this._touches=[];this._viewSize=cc.size(0,0);this._parentScissorRect=new cc.Rect(0,0,0,0);this._tmpViewRect=new cc.Rect(0,0,0,0);cc._renderType===cc._RENDER_TYPE_CANVAS&&(this.startCmd=new cc.CustomRenderCmdCanvas(this,function($ctx$$,$scaleX$$,$scaleY$$){$ctx$$=$ctx$$||cc.context;$ctx$$.save();
$ctx$$.save();this.transform();var $t$$=this._transformWorld;$ctx$$.transform($t$$.a,$t$$.b,$t$$.c,$t$$.d,$t$$.tx*$scaleX$$,-$t$$.ty*$scaleY$$);cc.ScrollView.prototype._beforeDraw.call(this)}),this.endCmd=new cc.CustomRenderCmdCanvas(this,function($ctx$$){$ctx$$=$ctx$$||cc.context;cc.ScrollView.prototype._afterDraw.call(this);$ctx$$.restore()}));void 0!=$container$$?this.initWithViewSize($size$$,$container$$):this.initWithViewSize(cc.size(200,200),null)},_initRendererCmd:function(){cc._renderType===
cc._RENDER_TYPE_WEBGL&&(this._beforeDrawCmd=new cc.CustomRenderCmdWebGL(this,this._onBeforeDraw),this._afterDrawCmd=new cc.CustomRenderCmdWebGL(this,this._onAfterDraw))},init:function(){return this.initWithViewSize(cc.size(200,200),null)},initWithViewSize:function($size$$,$container$$){var $pZero$$=cc.p(0,0);return cc.Layer.prototype.init.call(this)?(this._container=$container$$,this._container||(this._container=new cc.Layer,this._container.ignoreAnchorPointForPosition(!1),this._container.setAnchorPoint($pZero$$)),
this.setViewSize($size$$),this.setTouchEnabled(!0),this._touches.length=0,this._delegate=null,this._clippingToBounds=this._bounceable=!0,this._direction=cc.SCROLLVIEW_DIRECTION_BOTH,this._container.setPosition($pZero$$),this._touchLength=0,this.addChild(this._container),this._minScale=this._maxScale=1,!0):!1},setContentOffset:function($offset$$,$animated$$){if($animated$$)this.setContentOffsetInDuration($offset$$,BOUNCE_DURATION);else{if(!this._bounceable){var $locDelegate_minOffset$$=this.minContainerOffset(),
$maxOffset$$=this.maxContainerOffset();$offset$$.x=Math.max($locDelegate_minOffset$$.x,Math.min($maxOffset$$.x,$offset$$.x));$offset$$.y=Math.max($locDelegate_minOffset$$.y,Math.min($maxOffset$$.y,$offset$$.y))}this._container.setPosition($offset$$);$locDelegate_minOffset$$=this._delegate;null!=$locDelegate_minOffset$$&&$locDelegate_minOffset$$.scrollViewDidScroll&&$locDelegate_minOffset$$.scrollViewDidScroll(this)}},getContentOffset:function(){var $locPos$$=this._container.getPosition();return cc.p($locPos$$.x,
$locPos$$.y)},setContentOffsetInDuration:function($offset$$,$dt$$){var $scroll$$=cc.moveTo($dt$$,$offset$$),$expire$$=cc.callFunc(this._stoppedAnimatedScroll,this);this._container.runAction(cc.sequence($scroll$$,$expire$$));this.schedule(this._performedAnimatedScroll)},setZoomScale:function($scale$$,$animated$$){if($animated$$)this.setZoomScaleInDuration($scale$$,BOUNCE_DURATION);else{var $locContainer$$=this._container;if($locContainer$$.getScale()!=$scale$$){var $newCenter_oldCenter$$,$center$$7_locViewSize_offset$$;
0==this._touchLength?($center$$7_locViewSize_offset$$=this._viewSize,$center$$7_locViewSize_offset$$=cc.p(.5*$center$$7_locViewSize_offset$$.width,.5*$center$$7_locViewSize_offset$$.height),$center$$7_locViewSize_offset$$=this.convertToWorldSpace($center$$7_locViewSize_offset$$)):$center$$7_locViewSize_offset$$=this._touchPoint;$newCenter_oldCenter$$=$locContainer$$.convertToNodeSpace($center$$7_locViewSize_offset$$);$locContainer$$.setScale(Math.max(this._minScale,Math.min(this._maxScale,$scale$$)));
$newCenter_oldCenter$$=$locContainer$$.convertToWorldSpace($newCenter_oldCenter$$);$center$$7_locViewSize_offset$$=cc.pSub($center$$7_locViewSize_offset$$,$newCenter_oldCenter$$);this._delegate&&this._delegate.scrollViewDidZoom&&this._delegate.scrollViewDidZoom(this);this.setContentOffset(cc.pAdd($locContainer$$.getPosition(),$center$$7_locViewSize_offset$$))}}},getZoomScale:function(){return this._container.getScale()},setZoomScaleInDuration:function($s$$,$dt$$){if(0<$dt$$){var $locScale_scaleAction$$=
this._container.getScale();$locScale_scaleAction$$!=$s$$&&($locScale_scaleAction$$=cc.actionTween($dt$$,"zoomScale",$locScale_scaleAction$$,$s$$),this.runAction($locScale_scaleAction$$))}else this.setZoomScale($s$$)},minContainerOffset:function(){var $locContainer$$=this._container,$locContentSize$$=$locContainer$$.getContentSize(),$locViewSize$$=this._viewSize;return cc.p($locViewSize$$.width-$locContentSize$$.width*$locContainer$$.getScaleX(),$locViewSize$$.height-$locContentSize$$.height*$locContainer$$.getScaleY())},
maxContainerOffset:function(){return cc.p(0,0)},isNodeVisible:function($node$$){var $offset$$=this.getContentOffset(),$size$$=this.getViewSize(),$scale$$=this.getZoomScale(),$offset$$=cc.rect(-$offset$$.x/$scale$$,-$offset$$.y/$scale$$,$size$$.width/$scale$$,$size$$.height/$scale$$);return cc.rectIntersectsRect($offset$$,$node$$.getBoundingBox())},pause:function($selChildren$$4_sender$$){this._container.pause();$selChildren$$4_sender$$=this._container.getChildren();for(var $i$$=0;$i$$<$selChildren$$4_sender$$.length;$i$$++)$selChildren$$4_sender$$[$i$$].pause();
this._super()},resume:function($selChildren$$5_sender$$){$selChildren$$5_sender$$=this._container.getChildren();for(var $i$$=0,$len$$=$selChildren$$5_sender$$.length;$i$$<$len$$;$i$$++)$selChildren$$5_sender$$[$i$$].resume();this._container.resume();this._super()},isDragging:function(){return this._dragging},isTouchMoved:function(){return this._touchMoved},isBounceable:function(){return this._bounceable},setBounceable:function($bounceable$$){this._bounceable=$bounceable$$},getViewSize:function(){return this._viewSize},
setViewSize:function($size$$){this._viewSize=$size$$;cc.Node.prototype.setContentSize.call(this,$size$$)},getContainer:function(){return this._container},setContainer:function($container$$){$container$$&&(this.removeAllChildren(!0),this._container=$container$$,$container$$.ignoreAnchorPointForPosition(!1),$container$$.setAnchorPoint(0,0),this.addChild($container$$),this.setViewSize(this._viewSize))},getDirection:function(){return this._direction},setDirection:function($direction$$){this._direction=
$direction$$},getDelegate:function(){return this._delegate},setDelegate:function($delegate$$){this._delegate=$delegate$$},onTouchBegan:function($touch$$,$event$$){if(!this.isVisible())return!1;var $frame$$=this._getViewRect(),$locContainer$$=this._container,$locPoint$$=$locContainer$$.convertToWorldSpace($locContainer$$.convertTouchToNodeSpace($touch$$)),$locTouches$$=this._touches;if(2<$locTouches$$.length||this._touchMoved||!cc.rectContainsPoint($frame$$,$locPoint$$))return!1;$locTouches$$.push($touch$$);
1===$locTouches$$.length?(this._touchPoint=this.convertTouchToNodeSpace($touch$$),this._touchMoved=!1,this._dragging=!0,this._scrollDistance.x=0,this._touchLength=this._scrollDistance.y=0):2==$locTouches$$.length&&(this._touchPoint=cc.pMidpoint(this.convertTouchToNodeSpace($locTouches$$[0]),this.convertTouchToNodeSpace($locTouches$$[1])),this._touchLength=cc.pDistance($locContainer$$.convertTouchToNodeSpace($locTouches$$[0]),$locContainer$$.convertTouchToNodeSpace($locTouches$$[1])),this._dragging=
!1);return!0},onTouchMoved:function($touch$$,$event$$){if(this.isVisible())if(this.setNodeDirty(),1===this._touches.length&&this._dragging){this._touchMoved=!0;this._getViewRect();var $newPoint$$1_newX$$=this.convertTouchToNodeSpace($touch$$),$len$$=cc.pSub($newPoint$$1_newX$$,this._touchPoint),$dis_locPosition$$=0,$locDirection$$=this._direction,$pos$$;if($locDirection$$===cc.SCROLLVIEW_DIRECTION_VERTICAL)$dis_locPosition$$=$len$$.y,$pos$$=this._container.getPositionY(),this.minContainerOffset().y<=
$pos$$&&$pos$$<=this.maxContainerOffset().y||($len$$.y*=BOUNCE_BACK_FACTOR);else if($locDirection$$===cc.SCROLLVIEW_DIRECTION_HORIZONTAL)$dis_locPosition$$=$len$$.x,$pos$$=this._container.getPositionX(),this.minContainerOffset().x<=$pos$$&&$pos$$<=this.maxContainerOffset().x||($len$$.x*=BOUNCE_BACK_FACTOR);else{$dis_locPosition$$=Math.sqrt($len$$.x*$len$$.x+$len$$.y*$len$$.y);$pos$$=this._container.getPositionY();var $_minOffset$$=this.minContainerOffset(),$_maxOffset$$=this.maxContainerOffset();
$_minOffset$$.y<=$pos$$&&$pos$$<=$_maxOffset$$.y||($len$$.y*=BOUNCE_BACK_FACTOR);$pos$$=this._container.getPositionX();$_minOffset$$.x<=$pos$$&&$pos$$<=$_maxOffset$$.x||($len$$.x*=BOUNCE_BACK_FACTOR)}if(this._touchMoved||!(Math.abs(cc.convertDistanceFromPointToInch($dis_locPosition$$))<MOVE_INCH))if(this._touchMoved||($len$$.x=0,$len$$.y=0),this._touchPoint=$newPoint$$1_newX$$,this._touchMoved=!0,this._dragging){switch($locDirection$$){case cc.SCROLLVIEW_DIRECTION_VERTICAL:$len$$.x=0;break;case cc.SCROLLVIEW_DIRECTION_HORIZONTAL:$len$$.y=
0}$dis_locPosition$$=this._container.getPosition();$newPoint$$1_newX$$=$dis_locPosition$$.x+$len$$.x;$dis_locPosition$$=$dis_locPosition$$.y+$len$$.y;this._scrollDistance=$len$$;this.setContentOffset(cc.p($newPoint$$1_newX$$,$dis_locPosition$$))}}else 2!==this._touches.length||this._dragging||($len$$=cc.pDistance(this._container.convertTouchToNodeSpace(this._touches[0]),this._container.convertTouchToNodeSpace(this._touches[1])),this.setZoomScale(this.getZoomScale()*$len$$/this._touchLength))},onTouchEnded:function($touch$$,
$event$$){this.isVisible()&&(1==this._touches.length&&this._touchMoved&&this.schedule(this._deaccelerateScrolling),this._touches.length=0,this._touchMoved=this._dragging=!1)},onTouchCancelled:function($touch$$,$event$$){this.isVisible()&&(this._touches.length=0,this._touchMoved=this._dragging=!1)},setContentSize:function($size$$,$height$$){null!=this.getContainer()&&(void 0===$height$$?this.getContainer().setContentSize($size$$):this.getContainer().setContentSize($size$$,$height$$),this.updateInset())},
_setWidth:function($value$$){var $container$$=this.getContainer();null!=$container$$&&($container$$._setWidth($value$$),this.updateInset())},_setHeight:function($value$$){var $container$$=this.getContainer();null!=$container$$&&($container$$._setHeight($value$$),this.updateInset())},getContentSize:function(){return this._container.getContentSize()},updateInset:function(){if(null!=this.getContainer()){var $locViewSize$$=this._viewSize,$tempOffset$$=this.maxContainerOffset();this._maxInset.x=$tempOffset$$.x+
$locViewSize$$.width*INSET_RATIO;this._maxInset.y=$tempOffset$$.y+$locViewSize$$.height*INSET_RATIO;$tempOffset$$=this.minContainerOffset();this._minInset.x=$tempOffset$$.x-$locViewSize$$.width*INSET_RATIO;this._minInset.y=$tempOffset$$.y-$locViewSize$$.height*INSET_RATIO}},isClippingToBounds:function(){return this._clippingToBounds},setClippingToBounds:function($clippingToBounds$$){this._clippingToBounds=$clippingToBounds$$},visit:function($context$$38_ctx$$){if(this.isVisible()){$context$$38_ctx$$=
$context$$38_ctx$$||cc._renderContext;var $i$$,$locChildren$$=this._children,$selChild$$,$childrenLen$$;if(cc._renderType===cc._RENDER_TYPE_CANVAS){this.transform($context$$38_ctx$$);this.startCmd&&cc.renderer.pushRenderCommand(this.startCmd);if($locChildren$$&&0<$locChildren$$.length){$childrenLen$$=$locChildren$$.length;this.sortAllChildren();for($i$$=0;$i$$<$childrenLen$$;$i$$++)if(($selChild$$=$locChildren$$[$i$$])&&0>$selChild$$._localZOrder)$selChild$$.visit($context$$38_ctx$$);else break;for(this._rendererCmd&&
cc.renderer.pushRenderCommand(this._rendererCmd);$i$$<$childrenLen$$;$i$$++)$locChildren$$[$i$$].visit($context$$38_ctx$$)}else this._rendererCmd&&cc.renderer.pushRenderCommand(this._rendererCmd);this.endCmd&&cc.renderer.pushRenderCommand(this.endCmd)}else{cc.kmGLPushMatrix();this.transform($context$$38_ctx$$);this._beforeDraw($context$$38_ctx$$);if($locChildren$$&&0<$locChildren$$.length){$childrenLen$$=$locChildren$$.length;for($i$$=0;$i$$<$childrenLen$$;$i$$++)if(($selChild$$=$locChildren$$[$i$$])&&
0>$selChild$$._localZOrder)$selChild$$.visit();else break;for(this._rendererCmd&&cc.renderer.pushRenderCommand(this._rendererCmd);$i$$<$childrenLen$$;$i$$++)$locChildren$$[$i$$].visit()}else this._rendererCmd&&cc.renderer.pushRenderCommand(this._rendererCmd);this._afterDraw($context$$38_ctx$$);cc.kmGLPopMatrix()}}},addChild:function($child$$,$zOrder$$,$tag$$){if(!$child$$)throw Error("child must not nil!");$zOrder$$=$zOrder$$||$child$$.getLocalZOrder();$tag$$=$tag$$||$child$$.getTag();this._container!=
$child$$?this._container.addChild($child$$,$zOrder$$,$tag$$):cc.Layer.prototype.addChild.call(this,$child$$,$zOrder$$,$tag$$)},isTouchEnabled:function(){return null!=this._touchListener},setTouchEnabled:function($e$$42_listener$$){this._touchListener&&cc.eventManager.removeListener(this._touchListener);this._touchListener=null;$e$$42_listener$$?($e$$42_listener$$=cc.EventListener.create({event:cc.EventListener.TOUCH_ONE_BY_ONE}),this.onTouchBegan&&($e$$42_listener$$.onTouchBegan=this.onTouchBegan.bind(this)),
this.onTouchMoved&&($e$$42_listener$$.onTouchMoved=this.onTouchMoved.bind(this)),this.onTouchEnded&&($e$$42_listener$$.onTouchEnded=this.onTouchEnded.bind(this)),this.onTouchCancelled&&($e$$42_listener$$.onTouchCancelled=this.onTouchCancelled.bind(this)),this._touchListener=$e$$42_listener$$,cc.eventManager.addListener($e$$42_listener$$,this)):(this._touchMoved=this._dragging=!1,this._touches.length=0)},_initWithViewSize:function($size$$){return null},_relocateContainer:function($animated$$){var $min$$=
this.minContainerOffset(),$max$$=this.maxContainerOffset(),$locDirection$$=this._direction,$oldPoint$$=this._container.getPosition(),$newX$$=$oldPoint$$.x,$newY$$=$oldPoint$$.y;if($locDirection$$===cc.SCROLLVIEW_DIRECTION_BOTH||$locDirection$$===cc.SCROLLVIEW_DIRECTION_HORIZONTAL)$newX$$=Math.max($newX$$,$min$$.x),$newX$$=Math.min($newX$$,$max$$.x);if($locDirection$$==cc.SCROLLVIEW_DIRECTION_BOTH||$locDirection$$==cc.SCROLLVIEW_DIRECTION_VERTICAL)$newY$$=Math.min($newY$$,$max$$.y),$newY$$=Math.max($newY$$,
$min$$.y);$newY$$==$oldPoint$$.y&&$newX$$==$oldPoint$$.x||this.setContentOffset(cc.p($newX$$,$newY$$),$animated$$)},_deaccelerateScrolling:function($dt$$){if(this._dragging)this.unschedule(this._deaccelerateScrolling);else{var $maxInset_oldPosition$$,$minInset$$;$maxInset_oldPosition$$=this._container.getPosition();$dt$$=this._scrollDistance;this._container.setPosition($maxInset_oldPosition$$.x+$dt$$.x,$maxInset_oldPosition$$.y+$dt$$.y);this._bounceable?($maxInset_oldPosition$$=this._maxInset,$minInset$$=
this._minInset):($maxInset_oldPosition$$=this.maxContainerOffset(),$minInset$$=this.minContainerOffset());var $newX$$=this._container.getPositionX(),$newY$$=this._container.getPositionY();$dt$$.x*=SCROLL_DEACCEL_RATE;$dt$$.y*=SCROLL_DEACCEL_RATE;this.setContentOffset(cc.p($newX$$,$newY$$));if(Math.abs($dt$$.x)<=SCROLL_DEACCEL_DIST&&Math.abs($dt$$.y)<=SCROLL_DEACCEL_DIST||$newY$$>$maxInset_oldPosition$$.y||$newY$$<$minInset$$.y||$newX$$>$maxInset_oldPosition$$.x||$newX$$<$minInset$$.x||$newX$$==$maxInset_oldPosition$$.x||
$newX$$==$minInset$$.x||$newY$$==$maxInset_oldPosition$$.y||$newY$$==$minInset$$.y)this.unschedule(this._deaccelerateScrolling),this._relocateContainer(!0)}},_performedAnimatedScroll:function($dt$$){this._dragging?this.unschedule(this._performedAnimatedScroll):this._delegate&&this._delegate.scrollViewDidScroll&&this._delegate.scrollViewDidScroll(this)},_stoppedAnimatedScroll:function($node$$){this.unschedule(this._performedAnimatedScroll);this._delegate&&this._delegate.scrollViewDidScroll&&this._delegate.scrollViewDidScroll(this)},
_beforeDraw:function($context$$39_ctx$$){if(this._clippingToBounds){this._scissorRestored=!1;var $getHeight_locEGLViewer$$=cc.view,$getWidth_scaleX$$=this.getScaleX(),$scaleY$$=this.getScaleY();$context$$39_ctx$$=$context$$39_ctx$$||cc._renderContext;cc._renderType===cc._RENDER_TYPE_CANVAS?($getWidth_scaleX$$=this._viewSize.width*$getWidth_scaleX$$*$getHeight_locEGLViewer$$.getScaleX(),$getHeight_locEGLViewer$$=this._viewSize.height*$scaleY$$*$getHeight_locEGLViewer$$.getScaleY(),$context$$39_ctx$$.beginPath(),
$context$$39_ctx$$.rect(0,0,$getWidth_scaleX$$,-$getHeight_locEGLViewer$$),$context$$39_ctx$$.restore(),$context$$39_ctx$$.clip(),$context$$39_ctx$$.closePath()):cc.renderer.pushRenderCommand(this._beforeDrawCmd)}},_onBeforeDraw:function(){var $EGLViewer$$=cc.view,$frame$$22_yy$$=this._getViewRect();if($EGLViewer$$.isScissorEnabled()){if(this._scissorRestored=!0,this._parentScissorRect=$EGLViewer$$.getScissorRect(),cc.rectIntersection($frame$$22_yy$$,this._parentScissorRect)){var $locPSRect$$=this._parentScissorRect,
$ctx$$92_x$$=Math.max($frame$$22_yy$$.x,$locPSRect$$.x),$y$$=Math.max($frame$$22_yy$$.y,$locPSRect$$.y),$xx$$=Math.min($frame$$22_yy$$.x+$frame$$22_yy$$.width,$locPSRect$$.x+$locPSRect$$.width),$frame$$22_yy$$=Math.min($frame$$22_yy$$.y+$frame$$22_yy$$.height,$locPSRect$$.y+$locPSRect$$.height);$EGLViewer$$.setScissorInPoints($ctx$$92_x$$,$y$$,$xx$$-$ctx$$92_x$$,$frame$$22_yy$$-$y$$)}}else $ctx$$92_x$$=cc._renderContext,$ctx$$92_x$$.enable($ctx$$92_x$$.SCISSOR_TEST),$EGLViewer$$.setScissorInPoints($frame$$22_yy$$.x,
$frame$$22_yy$$.y,$frame$$22_yy$$.width,$frame$$22_yy$$.height)},_afterDraw:function($context$$){this._clippingToBounds&&cc._renderType===cc._RENDER_TYPE_WEBGL&&cc.renderer.pushRenderCommand(this._afterDrawCmd)},_onAfterDraw:function(){if(this._scissorRestored){var $ctx$$93_rect$$=this._parentScissorRect;cc.view.setScissorInPoints($ctx$$93_rect$$.x,$ctx$$93_rect$$.y,$ctx$$93_rect$$.width,$ctx$$93_rect$$.height)}else $ctx$$93_rect$$=cc._renderContext,$ctx$$93_rect$$.disable($ctx$$93_rect$$.SCISSOR_TEST)},
_handleZoom:function(){},_getViewRect:function(){for(var $screenPos$$=this.convertToWorldSpace(cc.p(0,0)),$locViewSize$$=this._viewSize,$scaleX$$=this.getScaleX(),$scaleY$$=this.getScaleY(),$locViewRect_p$$=this._parent;null!=$locViewRect_p$$;$locViewRect_p$$=$locViewRect_p$$.getParent())$scaleX$$*=$locViewRect_p$$.getScaleX(),$scaleY$$*=$locViewRect_p$$.getScaleY();0>$scaleX$$&&($screenPos$$.x+=$locViewSize$$.width*$scaleX$$,$scaleX$$=-$scaleX$$);0>$scaleY$$&&($screenPos$$.y+=$locViewSize$$.height*
$scaleY$$,$scaleY$$=-$scaleY$$);$locViewRect_p$$=this._tmpViewRect;$locViewRect_p$$.x=$screenPos$$.x;$locViewRect_p$$.y=$screenPos$$.y;$locViewRect_p$$.width=$locViewSize$$.width*$scaleX$$;$locViewRect_p$$.height=$locViewSize$$.height*$scaleY$$;return $locViewRect_p$$}});_p=cc.ScrollView.prototype;_p.minOffset;cc.defineGetterSetter(_p,"minOffset",_p.minContainerOffset);_p.maxOffset;cc.defineGetterSetter(_p,"maxOffset",_p.maxContainerOffset);_p.bounceable;
cc.defineGetterSetter(_p,"bounceable",_p.isBounceable,_p.setBounceable);_p.viewSize;cc.defineGetterSetter(_p,"viewSize",_p.getViewSize,_p.setViewSize);_p.container;cc.defineGetterSetter(_p,"container",_p.getContainer,_p.setContainer);_p.direction;cc.defineGetterSetter(_p,"direction",_p.getDirection,_p.setDirection);_p.delegate;cc.defineGetterSetter(_p,"delegate",_p.getDelegate,_p.setDelegate);_p.clippingToBounds;cc.defineGetterSetter(_p,"clippingToBounds",_p.isClippingToBounds,_p.setClippingToBounds);
_p=null;cc.ScrollView.create=function $cc$ScrollView$create$($size$$,$container$$){return new cc.ScrollView($size$$,$container$$)};cc.SortableObject=cc.Class.extend({setObjectID:function($objectId$$){},getObjectID:function(){return 0}});cc.SortedObject=cc.SortableObject.extend({_objectID:0,ctor:function(){this._objectID=0},setObjectID:function($objectID$$){this._objectID=$objectID$$},getObjectID:function(){return this._objectID}});
var _compareObject=function $_compareObject$($val1$$,$val2$$){return $val1$$.getObjectID()-$val2$$.getObjectID()};
cc.ArrayForObjectSorting=cc.Class.extend({_saveObjectArr:null,ctor:function(){this._saveObjectArr=[]},insertSortedObject:function($addObject$$){if(!$addObject$$)throw"cc.ArrayForObjectSorting.insertSortedObject(): addObject should be non-null.";var $idx$$=this.indexOfSortedObject($addObject$$);this.insertObject($addObject$$,$idx$$)},removeSortedObject:function($delObject$$){if(0!=this.count()){var $idx$$=this.indexOfSortedObject($delObject$$);$idx$$<this.count()&&$idx$$!=cc.INVALID_INDEX&&this.objectAtIndex($idx$$).getObjectID()==
$delObject$$.getObjectID()&&this.removeObjectAtIndex($idx$$)}},setObjectID_ofSortedObject:function($tag$$,$setObject$$){var $idx$$=this.indexOfSortedObject($setObject$$);if($idx$$<this.count()&&$idx$$!=cc.INVALID_INDEX){var $foundObj$$=this.objectAtIndex($idx$$);$foundObj$$.getObjectID()==$setObject$$.getObjectID()&&(this.removeObjectAtIndex($idx$$),$foundObj$$.setObjectID($tag$$),this.insertSortedObject($foundObj$$))}},objectWithObjectID:function($tag$$){if(0==this.count())return null;var $foundObj$$=
new cc.SortedObject;$foundObj$$.setObjectID($tag$$);var $idx$$=this.indexOfSortedObject($foundObj$$);$idx$$<this.count()&&$idx$$!=cc.INVALID_INDEX&&($foundObj$$=this.objectAtIndex($idx$$),$foundObj$$.getObjectID()!=$tag$$&&($foundObj$$=null));return $foundObj$$},getObjectWithObjectID:function($tag$$){return null},indexOfSortedObject:function($idxObj_uOfSortObjectID$$){var $idx$$=0;if($idxObj_uOfSortObjectID$$){var $uPrevObjectID$$=0;$idxObj_uOfSortObjectID$$=$idxObj_uOfSortObjectID$$.getObjectID();
for(var $locObjectArr$$=this._saveObjectArr,$i$$=0;$i$$<$locObjectArr$$.length;$i$$++){var $curObjectID$$=$locObjectArr$$[$i$$].getObjectID();if($idxObj_uOfSortObjectID$$==$curObjectID$$||$idxObj_uOfSortObjectID$$>=$uPrevObjectID$$&&$idxObj_uOfSortObjectID$$<$curObjectID$$)break;$uPrevObjectID$$=$curObjectID$$;$idx$$++}}else $idx$$=cc.INVALID_INDEX;return $idx$$},count:function(){return this._saveObjectArr.length},lastObject:function(){var $locObjectArr$$=this._saveObjectArr;return 0==$locObjectArr$$.length?
null:$locObjectArr$$[$locObjectArr$$.length-1]},objectAtIndex:function($idx$$){return this._saveObjectArr[$idx$$]},addObject:function($addObj$$){this._saveObjectArr.push($addObj$$);this._saveObjectArr.sort(_compareObject)},removeObjectAtIndex:function($idx$$){this._saveObjectArr.splice($idx$$,1);this._saveObjectArr.sort(_compareObject)},insertObject:function($addObj$$,$idx$$){this._saveObjectArr.splice($idx$$,0,$addObj$$);this._saveObjectArr.sort(_compareObject)}});cc.TABLEVIEW_FILL_TOPDOWN=0;
cc.TABLEVIEW_FILL_BOTTOMUP=1;cc.TableViewCell=cc.Node.extend({_idx:0,_className:"TableViewCell",getIdx:function(){return this._idx},setIdx:function($idx$$){this._idx=$idx$$},reset:function(){this._idx=cc.INVALID_INDEX},setObjectID:function($idx$$){this._idx=$idx$$},getObjectID:function(){return this._idx}});_p=cc.TableViewCell.prototype;_p.objectId;cc.defineGetterSetter(_p,"objectId",_p.getObjectID,_p.setObjectID);_p=null;
cc.TableViewDelegate=cc.ScrollViewDelegate.extend({tableCellTouched:function($table$$,$cell$$){},tableCellHighlight:function($table$$,$cell$$){},tableCellUnhighlight:function($table$$,$cell$$){},tableCellWillRecycle:function($table$$,$cell$$){}});cc.TableViewDataSource=cc.Class.extend({tableCellSizeForIndex:function($table$$,$idx$$){return this.cellSizeForTable($table$$)},cellSizeForTable:function($table$$){return cc.size(0,0)},tableCellAtIndex:function($table$$,$idx$$){return null},numberOfCellsInTableView:function($table$$){return 0}});
cc.TableView=cc.ScrollView.extend({_vOrdering:null,_indices:null,_cellsFreed:null,_dataSource:null,_tableViewDelegate:null,_oldDirection:null,_cellsPositions:null,_touchedCell:null,ctor:function($dataSource$$,$size$$,$container$$){cc.ScrollView.prototype.ctor.call(this);this._oldDirection=cc.SCROLLVIEW_DIRECTION_NONE;this._cellsPositions=[];this.initWithViewSize($size$$,$container$$);this.setDataSource($dataSource$$);this._updateCellPositions();this._updateContentSize()},__indexFromOffset:function($offset$$){var $low$$=
0,$high$$=this._dataSource.numberOfCellsInTableView(this)-1;switch(this.getDirection()){case cc.SCROLLVIEW_DIRECTION_HORIZONTAL:$offset$$=$offset$$.x;break;default:$offset$$=$offset$$.y}for(var $locCellsPositions$$=this._cellsPositions;$high$$>=$low$$;){var $index$$=0|$low$$+($high$$-$low$$)/2,$cellStart$$=$locCellsPositions$$[$index$$],$cellEnd$$=$locCellsPositions$$[$index$$+1];if($offset$$>=$cellStart$$&&$offset$$<=$cellEnd$$)return $index$$;$offset$$<$cellStart$$?$high$$=$index$$-1:$low$$=$index$$+
1}return 0>=$low$$?0:-1},_indexFromOffset:function($maxIdx_offset$$){var $index$$101_locOffset$$={x:$maxIdx_offset$$.x,y:$maxIdx_offset$$.y};$maxIdx_offset$$=this._dataSource.numberOfCellsInTableView(this)-1;this._vOrdering===cc.TABLEVIEW_FILL_TOPDOWN&&($index$$101_locOffset$$.y=this.getContainer().getContentSize().height-$index$$101_locOffset$$.y);$index$$101_locOffset$$=this.__indexFromOffset($index$$101_locOffset$$);-1!=$index$$101_locOffset$$&&($index$$101_locOffset$$=Math.max(0,$index$$101_locOffset$$),
$index$$101_locOffset$$>$maxIdx_offset$$&&($index$$101_locOffset$$=cc.INVALID_INDEX));return $index$$101_locOffset$$},__offsetFromIndex:function($index$$102_offset$$){switch(this.getDirection()){case cc.SCROLLVIEW_DIRECTION_HORIZONTAL:$index$$102_offset$$=cc.p(this._cellsPositions[$index$$102_offset$$],0);break;default:$index$$102_offset$$=cc.p(0,this._cellsPositions[$index$$102_offset$$])}return $index$$102_offset$$},_offsetFromIndex:function($cellSize_index$$){var $offset$$=this.__offsetFromIndex($cellSize_index$$);
$cellSize_index$$=this._dataSource.tableCellSizeForIndex(this,$cellSize_index$$);this._vOrdering===cc.TABLEVIEW_FILL_TOPDOWN&&($offset$$.y=this.getContainer().getContentSize().height-$offset$$.y-$cellSize_index$$.height);return $offset$$},_updateCellPositions:function(){var $cellsCount$$=this._dataSource.numberOfCellsInTableView(this),$locCellsPositions$$=this._cellsPositions;if(0<$cellsCount$$){for(var $currentPos$$=0,$cellSize$$,$locDataSource$$=this._dataSource,$i$$=0;$i$$<$cellsCount$$;$i$$++)switch($locCellsPositions$$[$i$$]=
$currentPos$$,$cellSize$$=$locDataSource$$.tableCellSizeForIndex(this,$i$$),this.getDirection()){case cc.SCROLLVIEW_DIRECTION_HORIZONTAL:$currentPos$$+=$cellSize$$.width;break;default:$currentPos$$+=$cellSize$$.height}this._cellsPositions[$cellsCount$$]=$currentPos$$}},_updateContentSize:function(){var $maxPosition_size$$=cc.size(0,0),$cellsCount$$=this._dataSource.numberOfCellsInTableView(this);if(0<$cellsCount$$)switch($maxPosition_size$$=this._cellsPositions[$cellsCount$$],this.getDirection()){case cc.SCROLLVIEW_DIRECTION_HORIZONTAL:$maxPosition_size$$=
cc.size($maxPosition_size$$,this._viewSize.height);break;default:$maxPosition_size$$=cc.size(this._viewSize.width,$maxPosition_size$$)}this.setContentSize($maxPosition_size$$);this._oldDirection!=this._direction&&(this._direction==cc.SCROLLVIEW_DIRECTION_HORIZONTAL?this.setContentOffset(cc.p(0,0)):this.setContentOffset(cc.p(0,this.minContainerOffset().y)),this._oldDirection=this._direction)},_moveCellOutOfSight:function($cell$$){this._tableViewDelegate&&this._tableViewDelegate.tableCellWillRecycle&&
this._tableViewDelegate.tableCellWillRecycle(this,$cell$$);this._cellsFreed.addObject($cell$$);this._cellsUsed.removeSortedObject($cell$$);cc.arrayRemoveObject(this._indices,$cell$$.getIdx());$cell$$.reset();$cell$$.getParent()==this.getContainer()&&this.getContainer().removeChild($cell$$,!0)},_setIndexForCell:function($index$$,$cell$$){$cell$$.setAnchorPoint(0,0);$cell$$.setPosition(this._offsetFromIndex($index$$));$cell$$.setIdx($index$$)},_addCellIfNecessary:function($addIdx_cell$$){$addIdx_cell$$.getParent()!=
this.getContainer()&&this.getContainer().addChild($addIdx_cell$$);this._cellsUsed.insertSortedObject($addIdx_cell$$);var $locIndices$$=this._indices;$addIdx_cell$$=$addIdx_cell$$.getIdx();-1==$locIndices$$.indexOf($addIdx_cell$$)&&($locIndices$$.push($addIdx_cell$$),$locIndices$$.sort(function($a$$,$b$$){return $a$$-$b$$}))},getDataSource:function(){return this._dataSource},setDataSource:function($source$$){this._dataSource=$source$$},getDelegate:function(){return this._tableViewDelegate},setDelegate:function($delegate$$){this._tableViewDelegate=
$delegate$$},setVerticalFillOrder:function($fillOrder$$){this._vOrdering!=$fillOrder$$&&(this._vOrdering=$fillOrder$$,0<this._cellsUsed.count()&&this.reloadData())},getVerticalFillOrder:function(){return this._vOrdering},initWithViewSize:function($size$$,$container$$){return cc.ScrollView.prototype.initWithViewSize.call(this,$size$$,$container$$)?(this._cellsUsed=new cc.ArrayForObjectSorting,this._cellsFreed=new cc.ArrayForObjectSorting,this._indices=[],this._tableViewDelegate=null,this._vOrdering=
cc.TABLEVIEW_FILL_BOTTOMUP,this.setDirection(cc.SCROLLVIEW_DIRECTION_VERTICAL),cc.ScrollView.prototype.setDelegate.call(this,this),!0):!1},updateCellAtIndex:function($idx$$){if(!($idx$$==cc.INVALID_INDEX||$idx$$>this._dataSource.numberOfCellsInTableView(this)-1)){var $cell$$=this.cellAtIndex($idx$$);$cell$$&&this._moveCellOutOfSight($cell$$);$cell$$=this._dataSource.tableCellAtIndex(this,$idx$$);this._setIndexForCell($idx$$,$cell$$);this._addCellIfNecessary($cell$$)}},insertCellAtIndex:function($idx$$){if(!($idx$$==
cc.INVALID_INDEX||$idx$$>this._dataSource.numberOfCellsInTableView(this)-1)){var $cell$$8_newIdx$$,$locCellsUsed$$=this._cellsUsed;if($cell$$8_newIdx$$=$locCellsUsed$$.objectWithObjectID($idx$$))for(var $i$$=$cell$$8_newIdx$$=$locCellsUsed$$.indexOfSortedObject($cell$$8_newIdx$$);$i$$<$locCellsUsed$$.count();$i$$++)$cell$$8_newIdx$$=$locCellsUsed$$.objectAtIndex($i$$),this._setIndexForCell($cell$$8_newIdx$$.getIdx()+1,$cell$$8_newIdx$$);$cell$$8_newIdx$$=this._dataSource.tableCellAtIndex(this,$idx$$);
this._setIndexForCell($idx$$,$cell$$8_newIdx$$);this._addCellIfNecessary($cell$$8_newIdx$$);this._updateCellPositions();this._updateContentSize()}},removeCellAtIndex:function($i$$357_idx$$){if(!($i$$357_idx$$==cc.INVALID_INDEX||$i$$357_idx$$>this._dataSource.numberOfCellsInTableView(this)-1)){var $cell$$=this.cellAtIndex($i$$357_idx$$);if($cell$$){var $locCellsUsed$$=this._cellsUsed,$newIdx$$=$locCellsUsed$$.indexOfSortedObject($cell$$);this._moveCellOutOfSight($cell$$);cc.arrayRemoveObject(this._indices,
$i$$357_idx$$);this._updateCellPositions();for($i$$357_idx$$=$locCellsUsed$$.count()-1;$i$$357_idx$$>$newIdx$$;$i$$357_idx$$--)$cell$$=$locCellsUsed$$.objectAtIndex($i$$357_idx$$),this._setIndexForCell($cell$$.getIdx()-1,$cell$$)}}},reloadData:function(){this._oldDirection=cc.SCROLLVIEW_DIRECTION_NONE;for(var $locCellsUsed$$=this._cellsUsed,$locCellsFreed$$=this._cellsFreed,$locContainer$$=this.getContainer(),$i$$=0,$len$$=$locCellsUsed$$.count();$i$$<$len$$;$i$$++){var $cell$$=$locCellsUsed$$.objectAtIndex($i$$);
this._tableViewDelegate&&this._tableViewDelegate.tableCellWillRecycle&&this._tableViewDelegate.tableCellWillRecycle(this,$cell$$);$locCellsFreed$$.addObject($cell$$);$cell$$.reset();$cell$$.getParent()==$locContainer$$&&$locContainer$$.removeChild($cell$$,!0)}this._indices=[];this._cellsUsed=new cc.ArrayForObjectSorting;this._updateCellPositions();this._updateContentSize();0<this._dataSource.numberOfCellsInTableView(this)&&this.scrollViewDidScroll(this)},dequeueCell:function(){if(0===this._cellsFreed.count())return null;
var $cell$$=this._cellsFreed.objectAtIndex(0);this._cellsFreed.removeObjectAtIndex(0);return $cell$$},cellAtIndex:function($idx$$){return-1==this._indices.indexOf($idx$$)?null:this._cellsUsed.objectWithObjectID($idx$$)},scrollViewDidScroll:function($i$$360_startIdx_view$$){var $cell$$=this._dataSource.numberOfCellsInTableView(this);if(0!==$cell$$){null!=this._tableViewDelegate&&this._tableViewDelegate.scrollViewDidScroll&&this._tableViewDelegate.scrollViewDidScroll(this);var $idx$$27_locContainer$$=
0,$endIdx_locViewSize$$=this._viewSize,$idx$$27_locContainer$$=this.getContainer(),$locCellsUsed$$3_offset$$=this.getContentOffset();$locCellsUsed$$3_offset$$.x*=-1;$locCellsUsed$$3_offset$$.y*=-1;var $locIndices$$5_maxIdx$$=Math.max($cell$$-1,0);this._vOrdering===cc.TABLEVIEW_FILL_TOPDOWN&&($locCellsUsed$$3_offset$$.y+=$endIdx_locViewSize$$.height/$idx$$27_locContainer$$.getScaleY());$i$$360_startIdx_view$$=this._indexFromOffset($locCellsUsed$$3_offset$$);$i$$360_startIdx_view$$===cc.INVALID_INDEX&&
($i$$360_startIdx_view$$=$cell$$-1);$locCellsUsed$$3_offset$$.y=this._vOrdering===cc.TABLEVIEW_FILL_TOPDOWN?$locCellsUsed$$3_offset$$.y-$endIdx_locViewSize$$.height/$idx$$27_locContainer$$.getScaleY():$locCellsUsed$$3_offset$$.y+$endIdx_locViewSize$$.height/$idx$$27_locContainer$$.getScaleY();$locCellsUsed$$3_offset$$.x+=$endIdx_locViewSize$$.width/$idx$$27_locContainer$$.getScaleX();$endIdx_locViewSize$$=this._indexFromOffset($locCellsUsed$$3_offset$$);$endIdx_locViewSize$$===cc.INVALID_INDEX&&($endIdx_locViewSize$$=
$cell$$-1);$locCellsUsed$$3_offset$$=this._cellsUsed;if(0<$locCellsUsed$$3_offset$$.count())for($cell$$=$locCellsUsed$$3_offset$$.objectAtIndex(0),$idx$$27_locContainer$$=$cell$$.getIdx();$idx$$27_locContainer$$<$i$$360_startIdx_view$$;)if(this._moveCellOutOfSight($cell$$),0<$locCellsUsed$$3_offset$$.count())$cell$$=$locCellsUsed$$3_offset$$.objectAtIndex(0),$idx$$27_locContainer$$=$cell$$.getIdx();else break;if(0<$locCellsUsed$$3_offset$$.count())for($cell$$=$locCellsUsed$$3_offset$$.lastObject(),
$idx$$27_locContainer$$=$cell$$.getIdx();$idx$$27_locContainer$$<=$locIndices$$5_maxIdx$$&&$idx$$27_locContainer$$>$endIdx_locViewSize$$;)if(this._moveCellOutOfSight($cell$$),0<$locCellsUsed$$3_offset$$.count())$cell$$=$locCellsUsed$$3_offset$$.lastObject(),$idx$$27_locContainer$$=$cell$$.getIdx();else break;for($locIndices$$5_maxIdx$$=this._indices;$i$$360_startIdx_view$$<=$endIdx_locViewSize$$;$i$$360_startIdx_view$$++)-1==$locIndices$$5_maxIdx$$.indexOf($i$$360_startIdx_view$$)&&this.updateCellAtIndex($i$$360_startIdx_view$$)}},
scrollViewDidZoom:function($view$$){},onTouchEnded:function($touch$$,$event$$){if(this.isVisible()){if(this._touchedCell){var $bb$$=this.getBoundingBox(),$locTableViewDelegate_tmpOrigin$$=cc.p($bb$$.x,$bb$$.y),$locTableViewDelegate_tmpOrigin$$=this._parent.convertToWorldSpace($locTableViewDelegate_tmpOrigin$$);$bb$$.x=$locTableViewDelegate_tmpOrigin$$.x;$bb$$.y=$locTableViewDelegate_tmpOrigin$$.y;$locTableViewDelegate_tmpOrigin$$=this._tableViewDelegate;cc.rectContainsPoint($bb$$,$touch$$.getLocation())&&
null!=$locTableViewDelegate_tmpOrigin$$&&($locTableViewDelegate_tmpOrigin$$.tableCellUnhighlight&&$locTableViewDelegate_tmpOrigin$$.tableCellUnhighlight(this,this._touchedCell),$locTableViewDelegate_tmpOrigin$$.tableCellTouched&&$locTableViewDelegate_tmpOrigin$$.tableCellTouched(this,this._touchedCell));this._touchedCell=null}cc.ScrollView.prototype.onTouchEnded.call(this,$touch$$,$event$$)}},onTouchBegan:function($touch$$,$event$$){if(!this.isVisible())return!1;var $touchResult$$=cc.ScrollView.prototype.onTouchBegan.call(this,
$touch$$,$event$$);if(1===this._touches.length){var $index$$105_point$$;$index$$105_point$$=this.getContainer().convertTouchToNodeSpace($touch$$);$index$$105_point$$=this._indexFromOffset($index$$105_point$$);(this._touchedCell=$index$$105_point$$===cc.INVALID_INDEX?null:this.cellAtIndex($index$$105_point$$))&&null!=this._tableViewDelegate&&this._tableViewDelegate.tableCellHighlight&&this._tableViewDelegate.tableCellHighlight(this,this._touchedCell)}else this._touchedCell&&(null!=this._tableViewDelegate&&
this._tableViewDelegate.tableCellUnhighlight&&this._tableViewDelegate.tableCellUnhighlight(this,this._touchedCell),this._touchedCell=null);return $touchResult$$},onTouchMoved:function($touch$$,$event$$){cc.ScrollView.prototype.onTouchMoved.call(this,$touch$$,$event$$);this._touchedCell&&this.isTouchMoved()&&(null!=this._tableViewDelegate&&this._tableViewDelegate.tableCellUnhighlight&&this._tableViewDelegate.tableCellUnhighlight(this,this._touchedCell),this._touchedCell=null)},onTouchCancelled:function($touch$$,
$event$$){cc.ScrollView.prototype.onTouchCancelled.call(this,$touch$$,$event$$);this._touchedCell&&(null!=this._tableViewDelegate&&this._tableViewDelegate.tableCellUnhighlight&&this._tableViewDelegate.tableCellUnhighlight(this,this._touchedCell),this._touchedCell=null)}});_p=cc.TableView.prototype;_p.dataSource;cc.defineGetterSetter(_p,"dataSource",_p.getDataSource,_p.setDataSource);_p.delegate;cc.defineGetterSetter(_p,"delegate",_p.getDelegate,_p.setDelegate);_p.verticalFillOrder;
cc.defineGetterSetter(_p,"verticalFillOrder",_p.getVerticalFillOrder,_p.setVerticalFillOrder);_p=null;cc.TableView.create=function $cc$TableView$create$($dataSource$$,$size$$,$container$$){return new cc.TableView($dataSource$$,$size$$,$container$$)};
var PROPERTY_POSITION="position",PROPERTY_CONTENTSIZE="contentSize",PROPERTY_SKEW="skew",PROPERTY_ANCHORPOINT="anchorPoint",PROPERTY_SCALE="scale",PROPERTY_ROTATION="rotation",PROPERTY_TAG="tag",PROPERTY_IGNOREANCHORPOINTFORPOSITION="ignoreAnchorPointForPosition",PROPERTY_VISIBLE="visible",ASSERT_FAIL_UNEXPECTED_PROPERTY=function $ASSERT_FAIL_UNEXPECTED_PROPERTY$($propertyName$$){cc.log("Unexpected property: '"+$propertyName$$+"'!")},ASSERT_FAIL_UNEXPECTED_PROPERTYTYPE=function $ASSERT_FAIL_UNEXPECTED_PROPERTYTYPE$($propertyName$$){cc.log("Unexpected property type: '"+
$propertyName$$+"'!")};function BlockData($selMenuHander$$,$target$$){this.selMenuHander=$selMenuHander$$;this.target=$target$$}function BlockCCControlData($selCCControlHandler$$,$target$$,$controlEvents$$){this.selCCControlHandler=$selCCControlHandler$$;this.target=$target$$;this.controlEvents=$controlEvents$$}
cc.NodeLoader=cc.Class.extend({_customProperties:null,ctor:function(){this._customProperties=new cc._Dictionary},loadCCNode:function($parent$$,$ccbReader$$){return this._createCCNode($parent$$,$ccbReader$$)},parseProperties:function($node$$,$parent$$,$ccbReader$$){for(var $numRegularProps$$=$ccbReader$$.readInt(!1),$numExturaProps_propertyCount$$=$ccbReader$$.readInt(!1),$numExturaProps_propertyCount$$=$numRegularProps$$+$numExturaProps_propertyCount$$,$i$$=0;$i$$<$numExturaProps_propertyCount$$;$i$$++){var $extraPropsNames_isExtraProp$$=
$i$$>=$numRegularProps$$,$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$=$ccbReader$$.readInt(!1),$propertyName$$=$ccbReader$$.readCachedString(),$setProp$$=!1,$platform$$=$ccbReader$$.readByte();if($platform$$===CCB_PLATFORM_ALL||$platform$$===
CCB_PLATFORM_IOS||$platform$$===CCB_PLATFORM_MAC)$setProp$$=!0;$node$$ instanceof cc.BuilderFile?$node$$.getCCBFileNode()&&$extraPropsNames_isExtraProp$$&&($node$$=$node$$.getCCBFileNode(),$setProp$$=-1!=$node$$.userObject.indexOf($propertyName$$)):$extraPropsNames_isExtraProp$$&&$node$$==$ccbReader$$.getAnimationManager().getRootNode()&&($extraPropsNames_isExtraProp$$=$node$$.userObject,$extraPropsNames_isExtraProp$$||($extraPropsNames_isExtraProp$$=[],$node$$.userObject=$extraPropsNames_isExtraProp$$),
$extraPropsNames_isExtraProp$$.push($propertyName$$));switch($blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$){case CCB_PROPTYPE_POSITION:$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$=
this.parsePropTypePosition($node$$,$parent$$,$ccbReader$$,$propertyName$$);if($setProp$$)this.onHandlePropTypePosition($node$$,$parent$$,$propertyName$$,$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$,$ccbReader$$);break;case CCB_PROPTYPE_POINT:$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$=
this.parsePropTypePoint($node$$,$parent$$,$ccbReader$$);if($setProp$$)this.onHandlePropTypePoint($node$$,$parent$$,$propertyName$$,$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$,$ccbReader$$);break;case CCB_PROPTYPE_POINTLOCK:$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$=
this.parsePropTypePointLock($node$$,$parent$$,$ccbReader$$);if($setProp$$)this.onHandlePropTypePointLock($node$$,$parent$$,$propertyName$$,$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$,$ccbReader$$);break;case CCB_PROPTYPE_SIZE:$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$=
this.parsePropTypeSize($node$$,$parent$$,$ccbReader$$);if($setProp$$)this.onHandlePropTypeSize($node$$,$parent$$,$propertyName$$,$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$,$ccbReader$$);break;case CCB_PROPTYPE_SCALELOCK:$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$=
this.parsePropTypeScaleLock($node$$,$parent$$,$ccbReader$$,$propertyName$$);if($setProp$$)this.onHandlePropTypeScaleLock($node$$,$parent$$,$propertyName$$,$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$,$ccbReader$$);break;case CCB_PROPTYPE_FLOATXY:$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$=
this.parsePropTypeFloatXY($node$$,$parent$$,$ccbReader$$);if($setProp$$)this.onHandlePropTypeFloatXY($node$$,$parent$$,$propertyName$$,$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$,$ccbReader$$);break;case CCB_PROPTYPE_FLOAT:$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$=
this.parsePropTypeFloat($node$$,$parent$$,$ccbReader$$);if($setProp$$)this.onHandlePropTypeFloat($node$$,$parent$$,$propertyName$$,$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$,$ccbReader$$);break;case CCB_PROPTYPE_DEGREES:$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$=
this.parsePropTypeDegrees($node$$,$parent$$,$ccbReader$$,$propertyName$$);if($setProp$$)this.onHandlePropTypeDegrees($node$$,$parent$$,$propertyName$$,$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$,$ccbReader$$);break;case CCB_PROPTYPE_FLOATSCALE:$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$=
this.parsePropTypeFloatScale($node$$,$parent$$,$ccbReader$$);if($setProp$$)this.onHandlePropTypeFloatScale($node$$,$parent$$,$propertyName$$,$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$,$ccbReader$$);break;case CCB_PROPTYPE_INTEGER:$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$=
this.parsePropTypeInteger($node$$,$parent$$,$ccbReader$$);if($setProp$$)this.onHandlePropTypeInteger($node$$,$parent$$,$propertyName$$,$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$,$ccbReader$$);break;case CCB_PROPTYPE_INTEGERLABELED:$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$=
this.parsePropTypeIntegerLabeled($node$$,$parent$$,$ccbReader$$);if($setProp$$)this.onHandlePropTypeIntegerLabeled($node$$,$parent$$,$propertyName$$,$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$,$ccbReader$$);break;case CCB_PROPTYPE_FLOATVAR:$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$=
this.parsePropTypeFloatVar($node$$,$parent$$,$ccbReader$$);if($setProp$$)this.onHandlePropTypeFloatVar($node$$,$parent$$,$propertyName$$,$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$,$ccbReader$$);break;case CCB_PROPTYPE_CHECK:$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$=
this.parsePropTypeCheck($node$$,$parent$$,$ccbReader$$,$propertyName$$);if($setProp$$)this.onHandlePropTypeCheck($node$$,$parent$$,$propertyName$$,$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$,$ccbReader$$);break;case CCB_PROPTYPE_SPRITEFRAME:$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$=
this.parsePropTypeSpriteFrame($node$$,$parent$$,$ccbReader$$,$propertyName$$);if($setProp$$)this.onHandlePropTypeSpriteFrame($node$$,$parent$$,$propertyName$$,$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$,$ccbReader$$);break;case CCB_PROPTYPE_ANIMATION:$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$=
this.parsePropTypeAnimation($node$$,$parent$$,$ccbReader$$);if($setProp$$)this.onHandlePropTypeAnimation($node$$,$parent$$,$propertyName$$,$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$,$ccbReader$$);break;case CCB_PROPTYPE_TEXTURE:$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$=
this.parsePropTypeTexture($node$$,$parent$$,$ccbReader$$);if($setProp$$)this.onHandlePropTypeTexture($node$$,$parent$$,$propertyName$$,$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$,$ccbReader$$);break;case CCB_PROPTYPE_BYTE:$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$=
this.parsePropTypeByte($node$$,$parent$$,$ccbReader$$,$propertyName$$);if($setProp$$)this.onHandlePropTypeByte($node$$,$parent$$,$propertyName$$,$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$,$ccbReader$$);break;case CCB_PROPTYPE_COLOR3:$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$=
this.parsePropTypeColor3($node$$,$parent$$,$ccbReader$$,$propertyName$$);if($setProp$$)this.onHandlePropTypeColor3($node$$,$parent$$,$propertyName$$,$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$,$ccbReader$$);break;case CCB_PROPTYPE_COLOR4VAR:$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$=
this.parsePropTypeColor4FVar($node$$,$parent$$,$ccbReader$$);if($setProp$$)this.onHandlePropTypeColor4FVar($node$$,$parent$$,$propertyName$$,$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$,$ccbReader$$);break;case CCB_PROPTYPE_FLIP:$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$=
this.parsePropTypeFlip($node$$,$parent$$,$ccbReader$$);if($setProp$$)this.onHandlePropTypeFlip($node$$,$parent$$,$propertyName$$,$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$,$ccbReader$$);break;case CCB_PROPTYPE_BLENDMODE:$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$=
this.parsePropTypeBlendFunc($node$$,$parent$$,$ccbReader$$);if($setProp$$)this.onHandlePropTypeBlendFunc($node$$,$parent$$,$propertyName$$,$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$,$ccbReader$$);break;case CCB_PROPTYPE_FNTFILE:$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$=
$ccbReader$$.getCCBRootPath()+this.parsePropTypeFntFile($node$$,$parent$$,$ccbReader$$);if($setProp$$)this.onHandlePropTypeFntFile($node$$,$parent$$,$propertyName$$,$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$,$ccbReader$$);break;case CCB_PROPTYPE_FONTTTF:$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$=
this.parsePropTypeFontTTF($node$$,$parent$$,$ccbReader$$);if($setProp$$)this.onHandlePropTypeFontTTF($node$$,$parent$$,$propertyName$$,$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$,$ccbReader$$);break;case CCB_PROPTYPE_STRING:$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$=
this.parsePropTypeString($node$$,$parent$$,$ccbReader$$);if($setProp$$)this.onHandlePropTypeString($node$$,$parent$$,$propertyName$$,$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$,$ccbReader$$);break;case CCB_PROPTYPE_TEXT:$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$=
this.parsePropTypeText($node$$,$parent$$,$ccbReader$$);if($setProp$$)this.onHandlePropTypeText($node$$,$parent$$,$propertyName$$,$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$,$ccbReader$$);break;case CCB_PROPTYPE_BLOCK:$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$=
this.parsePropTypeBlock($node$$,$parent$$,$ccbReader$$);if($setProp$$)this.onHandlePropTypeBlock($node$$,$parent$$,$propertyName$$,$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$,$ccbReader$$);break;case CCB_PROPTYPE_BLOCKCCCONTROL:$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$=
this.parsePropTypeBlockCCControl($node$$,$parent$$,$ccbReader$$);if($setProp$$&&null!=$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$)this.onHandlePropTypeBlockCCControl($node$$,$parent$$,$propertyName$$,$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$,
$ccbReader$$);break;case CCB_PROPTYPE_CCBFILE:$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$=this.parsePropTypeCCBFile($node$$,$parent$$,$ccbReader$$);if($setProp$$)this.onHandlePropTypeCCBFile($node$$,$parent$$,$propertyName$$,$blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$,
$ccbReader$$);break;default:ASSERT_FAIL_UNEXPECTED_PROPERTYTYPE($blendFunc$$5_blockCCControlData_blockData_byteValue$$1_ccAnimation_ccSpriteFrame_ccTexture2D_ccbFileNode_check_color$$65_color4FVar_degrees$$3_f$$25_flip$$6_floatScale_floatVar$$2_fntFile$$7_fontTTF_integer_integerLabeled_point$$22_pointLock_position$$30_scaleLock_size$$67_stringValue$$1_textValue_type$$)}}},getCustomProperties:function(){return this._customProperties},_createCCNode:function($parent$$,$ccbReader$$){return new cc.Node},
parsePropTypePosition:function($node$$,$parent$$8_pt$$,$ccbReader$$,$propertyName$$){var $baseValue_x$$=$ccbReader$$.readFloat(),$y$$=$ccbReader$$.readFloat(),$type$$=$ccbReader$$.readInt(!1),$containerSize$$=$ccbReader$$.getAnimationManager().getContainerSize($parent$$8_pt$$);$parent$$8_pt$$=cc._getAbsolutePosition($baseValue_x$$,$y$$,$type$$,$containerSize$$,$propertyName$$);$node$$.setPosition(cc.getAbsolutePosition($parent$$8_pt$$,$type$$,$containerSize$$,$propertyName$$));-1<$ccbReader$$.getAnimatedProperties().indexOf($propertyName$$)&&
($baseValue_x$$=[$baseValue_x$$,$y$$,$type$$],$ccbReader$$.getAnimationManager().setBaseValue($baseValue_x$$,$node$$,$propertyName$$));return $parent$$8_pt$$},parsePropTypePoint:function($node$$76_x$$,$parent$$,$ccbReader$$4_y$$){$node$$76_x$$=$ccbReader$$4_y$$.readFloat();$ccbReader$$4_y$$=$ccbReader$$4_y$$.readFloat();return cc.p($node$$76_x$$,$ccbReader$$4_y$$)},parsePropTypePointLock:function($node$$77_x$$,$parent$$,$ccbReader$$5_y$$){$node$$77_x$$=$ccbReader$$5_y$$.readFloat();$ccbReader$$5_y$$=
$ccbReader$$5_y$$.readFloat();return cc.p($node$$77_x$$,$ccbReader$$5_y$$)},parsePropTypeSize:function($node$$78_width$$,$containerSize$$1_parent$$,$ccbReader$$){$node$$78_width$$=$ccbReader$$.readFloat();var $height$$=$ccbReader$$.readFloat(),$type$$=$ccbReader$$.readInt(!1);$containerSize$$1_parent$$=$ccbReader$$.getAnimationManager().getContainerSize($containerSize$$1_parent$$);switch($type$$){case CCB_SIZETYPE_ABSOLUTE:break;case CCB_SIZETYPE_RELATIVE_CONTAINER:$node$$78_width$$=$containerSize$$1_parent$$.width-
$node$$78_width$$;$height$$=$containerSize$$1_parent$$.height-$height$$;break;case CCB_SIZETYPE_PERCENT:$node$$78_width$$=$containerSize$$1_parent$$.width*$node$$78_width$$/100;$height$$=$containerSize$$1_parent$$.height*$height$$/100;break;case CCB_SIZETYPE_HORIZONTAL_PERCENT:$node$$78_width$$=$containerSize$$1_parent$$.width*$node$$78_width$$/100;break;case CCB_SIZETYPE_VERTICAL_PERCENT:$height$$=$containerSize$$1_parent$$.height*$height$$/100;break;case CCB_SIZETYPE_MULTIPLY_RESOLUTION:$containerSize$$1_parent$$=
cc.BuilderReader.getResolutionScale();$node$$78_width$$*=$containerSize$$1_parent$$;$height$$*=$containerSize$$1_parent$$;break;default:cc.log("Unknown CCB type.")}return cc.size($node$$78_width$$,$height$$)},parsePropTypeScaleLock:function($node$$,$parent$$12_x$$,$ccbReader$$,$propertyName$$){$parent$$12_x$$=$ccbReader$$.readFloat();var $y$$=$ccbReader$$.readFloat(),$type$$=$ccbReader$$.readInt(!1);cc.setRelativeScale($node$$,$parent$$12_x$$,$y$$,$type$$,$propertyName$$);-1<$ccbReader$$.getAnimatedProperties().indexOf($propertyName$$)&&
$ccbReader$$.getAnimationManager().setBaseValue([$parent$$12_x$$,$y$$,$type$$],$node$$,$propertyName$$);$type$$==CCB_SCALETYPE_MULTIPLY_RESOLUTION&&($parent$$12_x$$*=cc.BuilderReader.getResolutionScale(),$y$$*=cc.BuilderReader.getResolutionScale());return[$parent$$12_x$$,$y$$]},parsePropTypeFloat:function($node$$,$parent$$,$ccbReader$$){return $ccbReader$$.readFloat()},parsePropTypeDegrees:function($node$$,$parent$$14_ret$$,$ccbReader$$,$propertyName$$){$parent$$14_ret$$=$ccbReader$$.readFloat();
-1<$ccbReader$$.getAnimatedProperties().indexOf($propertyName$$)&&$ccbReader$$.getAnimationManager().setBaseValue($parent$$14_ret$$,$node$$,$propertyName$$);return $parent$$14_ret$$},parsePropTypeFloatScale:function($f$$26_node$$,$parent$$,$ccbReader$$){$f$$26_node$$=$ccbReader$$.readFloat();$ccbReader$$.readInt(!1)==CCB_SCALETYPE_MULTIPLY_RESOLUTION&&($f$$26_node$$*=cc.BuilderReader.getResolutionScale());return $f$$26_node$$},parsePropTypeInteger:function($node$$,$parent$$,$ccbReader$$){return $ccbReader$$.readInt(!0)},
parsePropTypeIntegerLabeled:function($node$$,$parent$$,$ccbReader$$){return $ccbReader$$.readInt(!0)},parsePropTypeFloatVar:function($f$$27_node$$,$parent$$,$ccbReader$$){$f$$27_node$$=$ccbReader$$.readFloat();$ccbReader$$=$ccbReader$$.readFloat();return[$f$$27_node$$,$ccbReader$$]},parsePropTypeCheck:function($node$$,$parent$$19_ret$$,$ccbReader$$,$propertyName$$){$parent$$19_ret$$=$ccbReader$$.readBool();-1<$ccbReader$$.getAnimatedProperties().indexOf($propertyName$$)&&$ccbReader$$.getAnimationManager().setBaseValue($parent$$19_ret$$,
$node$$,$propertyName$$);return $parent$$19_ret$$},parsePropTypeSpriteFrame:function($node$$,$parent$$20_spriteSheet$$1_texture$$,$ccbReader$$,$propertyName$$){$parent$$20_spriteSheet$$1_texture$$=$ccbReader$$.readCachedString();var $bounds_locContentSize$$=$ccbReader$$.readCachedString(),$frameCache$$2_spriteFrame$$;null!=$bounds_locContentSize$$&&0!=$bounds_locContentSize$$.length&&(0==$parent$$20_spriteSheet$$1_texture$$.length?($bounds_locContentSize$$=$ccbReader$$.getCCBRootPath()+$bounds_locContentSize$$,
$parent$$20_spriteSheet$$1_texture$$=cc.textureCache.addImage($bounds_locContentSize$$),$bounds_locContentSize$$=$parent$$20_spriteSheet$$1_texture$$.getContentSize(),$bounds_locContentSize$$=cc.rect(0,0,$bounds_locContentSize$$.width,$bounds_locContentSize$$.height),$frameCache$$2_spriteFrame$$=new cc.SpriteFrame($parent$$20_spriteSheet$$1_texture$$,$bounds_locContentSize$$)):($frameCache$$2_spriteFrame$$=cc.spriteFrameCache,$parent$$20_spriteSheet$$1_texture$$=$ccbReader$$.getCCBRootPath()+$parent$$20_spriteSheet$$1_texture$$,
-1==$ccbReader$$.getLoadedSpriteSheet().indexOf($parent$$20_spriteSheet$$1_texture$$)&&($frameCache$$2_spriteFrame$$.addSpriteFrames($parent$$20_spriteSheet$$1_texture$$),$ccbReader$$.getLoadedSpriteSheet().push($parent$$20_spriteSheet$$1_texture$$)),$frameCache$$2_spriteFrame$$=$frameCache$$2_spriteFrame$$.getSpriteFrame($bounds_locContentSize$$)),-1<$ccbReader$$.getAnimatedProperties().indexOf($propertyName$$)&&$ccbReader$$.getAnimationManager().setBaseValue($frameCache$$2_spriteFrame$$,$node$$,
$propertyName$$));return $frameCache$$2_spriteFrame$$},parsePropTypeAnimation:function($animationFile_node$$,$animationCache_ccAnimation$$1_parent$$,$animation$$8_ccbReader$$){$animationFile_node$$=$animation$$8_ccbReader$$.getCCBRootPath()+$animation$$8_ccbReader$$.readCachedString();$animation$$8_ccbReader$$=$animation$$8_ccbReader$$.readCachedString();$animationCache_ccAnimation$$1_parent$$=null;$animation$$8_ccbReader$$=cc.BuilderReader.lastPathComponent($animation$$8_ccbReader$$);$animationFile_node$$=
cc.BuilderReader.lastPathComponent($animationFile_node$$);null!=$animation$$8_ccbReader$$&&""!=$animation$$8_ccbReader$$&&($animationCache_ccAnimation$$1_parent$$=cc.animationCache,$animationCache_ccAnimation$$1_parent$$.addAnimations($animationFile_node$$),$animationCache_ccAnimation$$1_parent$$=$animationCache_ccAnimation$$1_parent$$.getAnimation($animation$$8_ccbReader$$));return $animationCache_ccAnimation$$1_parent$$},parsePropTypeTexture:function($node$$89_spriteFile$$,$parent$$,$ccbReader$$){$node$$89_spriteFile$$=
$ccbReader$$.getCCBRootPath()+$ccbReader$$.readCachedString();return""!=$node$$89_spriteFile$$?cc.textureCache.addImage($node$$89_spriteFile$$):null},parsePropTypeByte:function($node$$,$parent$$23_ret$$,$ccbReader$$,$propertyName$$){$parent$$23_ret$$=$ccbReader$$.readByte();-1<$ccbReader$$.getAnimatedProperties().indexOf($propertyName$$)&&$ccbReader$$.getAnimationManager().setBaseValue($parent$$23_ret$$,$node$$,$propertyName$$);return $parent$$23_ret$$},parsePropTypeColor3:function($node$$,$color$$66_parent$$24_red$$,
$ccbReader$$,$propertyName$$){$color$$66_parent$$24_red$$=$ccbReader$$.readByte();var $green$$=$ccbReader$$.readByte(),$blue$$=$ccbReader$$.readByte();$color$$66_parent$$24_red$$={r:$color$$66_parent$$24_red$$,g:$green$$,b:$blue$$};-1<$ccbReader$$.getAnimatedProperties().indexOf($propertyName$$)&&$ccbReader$$.getAnimationManager().setBaseValue(cc.Color3BWapper.create($color$$66_parent$$24_red$$),$node$$,$propertyName$$);return $color$$66_parent$$24_red$$},parsePropTypeColor4FVar:function($node$$92_red$$,
$green$$8_parent$$,$alphaVar_ccbReader$$){$node$$92_red$$=0|255*$alphaVar_ccbReader$$.readFloat();$green$$8_parent$$=0|255*$alphaVar_ccbReader$$.readFloat();var $blue$$=0|255*$alphaVar_ccbReader$$.readFloat(),$alpha$$=$alphaVar_ccbReader$$.readFloat(),$alpha$$=1>=$alpha$$?0|255*$alpha$$:$alpha$$,$redVar$$=0|255*$alphaVar_ccbReader$$.readFloat(),$greenVar$$=0|255*$alphaVar_ccbReader$$.readFloat(),$blueVar$$=0|255*$alphaVar_ccbReader$$.readFloat();$alphaVar_ccbReader$$=$alphaVar_ccbReader$$.readFloat();
var $colors$$=[];$colors$$[0]={r:$node$$92_red$$,g:$green$$8_parent$$,b:$blue$$,a:$alpha$$};$colors$$[1]={r:$redVar$$,g:$greenVar$$,b:$blueVar$$,a:1>=$alphaVar_ccbReader$$?0|255*$alphaVar_ccbReader$$:$alphaVar_ccbReader$$};return $colors$$},parsePropTypeFlip:function($flipX_node$$,$parent$$,$ccbReader$$){$flipX_node$$=$ccbReader$$.readBool();$ccbReader$$=$ccbReader$$.readBool();return[$flipX_node$$,$ccbReader$$]},parsePropTypeBlendFunc:function($node$$94_source$$,$parent$$,$ccbReader$$22_destination$$){$node$$94_source$$=
$ccbReader$$22_destination$$.readInt(!1);$ccbReader$$22_destination$$=$ccbReader$$22_destination$$.readInt(!1);return new cc.BlendFunc($node$$94_source$$,$ccbReader$$22_destination$$)},parsePropTypeFntFile:function($node$$,$parent$$,$ccbReader$$){return $ccbReader$$.readCachedString()},parsePropTypeString:function($node$$,$parent$$,$ccbReader$$){return $ccbReader$$.readCachedString()},parsePropTypeText:function($node$$,$parent$$,$ccbReader$$){return $ccbReader$$.readCachedString()},parsePropTypeFontTTF:function($node$$,
$parent$$,$ccbReader$$){return $ccbReader$$.readCachedString()},parsePropTypeBlock:function($node$$,$parent$$,$ccbReader$$){$parent$$=$ccbReader$$.readCachedString();var $selectorTarget$$=$ccbReader$$.readInt(!1);if($selectorTarget$$!==CCB_TARGETTYPE_NONE){var $target$$=null;if($ccbReader$$.isJSControlled())$selectorTarget$$===CCB_TARGETTYPE_DOCUMENTROOT?($ccbReader$$.addDocumentCallbackNode($node$$),$ccbReader$$.addDocumentCallbackName($parent$$),$ccbReader$$.addDocumentCallbackControlEvents(0)):
($ccbReader$$.addOwnerCallbackNode($node$$),$ccbReader$$.addOwnerCallbackName($parent$$),$ccbReader$$.addOwnerCallbackControlEvents(0));else if($selectorTarget$$===CCB_TARGETTYPE_DOCUMENTROOT?$target$$=$ccbReader$$.getAnimationManager().getRootNode():$selectorTarget$$===CCB_TARGETTYPE_OWNER&&($target$$=$ccbReader$$.getOwner()),null!=$target$$)if(0<$parent$$.length)if($node$$=0,null!=$target$$&&$target$$.onResolveCCBCCMenuItemSelector&&($node$$=$target$$.onResolveCCBCCMenuItemSelector($target$$,$parent$$)),
0==$node$$&&($ccbReader$$=$ccbReader$$.getCCBSelectorResolver(),null!=$ccbReader$$&&($node$$=$ccbReader$$.onResolveCCBCCMenuItemSelector($target$$,$parent$$))),0==$node$$)cc.log("Skipping selector '"+$parent$$+"' since no CCBSelectorResolver is present.");else return new BlockData($node$$,$target$$);else cc.log("Unexpected empty selector.");else cc.log("Unexpected NULL target for selector.")}return null},parsePropTypeBlockCCControl:function($node$$100_target$$,$parent$$33_selectorName$$,$ccbReader$$28_ccbSelectorResolver$$){$parent$$33_selectorName$$=
$ccbReader$$28_ccbSelectorResolver$$.readCachedString();var $selCCControlHandler$$1_selectorTarget$$=$ccbReader$$28_ccbSelectorResolver$$.readInt(!1),$controlEvents$$=$ccbReader$$28_ccbSelectorResolver$$.readInt(!1);if($selCCControlHandler$$1_selectorTarget$$!==CCB_TARGETTYPE_NONE)if($ccbReader$$28_ccbSelectorResolver$$.isJSControlled())$selCCControlHandler$$1_selectorTarget$$==CCB_TARGETTYPE_DOCUMENTROOT?($ccbReader$$28_ccbSelectorResolver$$.addDocumentCallbackNode($node$$100_target$$),$ccbReader$$28_ccbSelectorResolver$$.addDocumentCallbackName($parent$$33_selectorName$$),
$ccbReader$$28_ccbSelectorResolver$$.addDocumentCallbackControlEvents($controlEvents$$)):($ccbReader$$28_ccbSelectorResolver$$.addOwnerCallbackNode($node$$100_target$$),$ccbReader$$28_ccbSelectorResolver$$.addOwnerCallbackName($parent$$33_selectorName$$),$ccbReader$$28_ccbSelectorResolver$$.addOwnerCallbackControlEvents($controlEvents$$));else if($node$$100_target$$=null,$selCCControlHandler$$1_selectorTarget$$==CCB_TARGETTYPE_DOCUMENTROOT?$node$$100_target$$=$ccbReader$$28_ccbSelectorResolver$$.getAnimationManager().getRootNode():
$selCCControlHandler$$1_selectorTarget$$==CCB_TARGETTYPE_OWNER&&($node$$100_target$$=$ccbReader$$28_ccbSelectorResolver$$.getOwner()),null!=$node$$100_target$$)if(0<$parent$$33_selectorName$$.length)if($selCCControlHandler$$1_selectorTarget$$=0,null!=$node$$100_target$$&&$node$$100_target$$.onResolveCCBCCControlSelector&&($selCCControlHandler$$1_selectorTarget$$=$node$$100_target$$.onResolveCCBCCControlSelector($node$$100_target$$,$parent$$33_selectorName$$)),0==$selCCControlHandler$$1_selectorTarget$$&&
($ccbReader$$28_ccbSelectorResolver$$=$ccbReader$$28_ccbSelectorResolver$$.getCCBSelectorResolver(),null!=$ccbReader$$28_ccbSelectorResolver$$&&($selCCControlHandler$$1_selectorTarget$$=$ccbReader$$28_ccbSelectorResolver$$.onResolveCCBCCControlSelector($node$$100_target$$,$parent$$33_selectorName$$))),0==$selCCControlHandler$$1_selectorTarget$$)cc.log("Skipping selector '"+$parent$$33_selectorName$$+"' since no CCBSelectorResolver is present.");else return new BlockCCControlData($selCCControlHandler$$1_selectorTarget$$,
$node$$100_target$$,$controlEvents$$);else cc.log("Unexpected empty selector.");else cc.log("Unexpected NULL target for selector.");return null},parsePropTypeCCBFile:function($myCCBReader_node$$,$ccbFileNode$$1_parent$$,$ccbReader$$){var $ccbFileName$$=$ccbReader$$.getCCBRootPath()+$ccbReader$$.readCachedString(),$ccbFileName$$=cc.BuilderReader.deletePathExtension($ccbFileName$$)+".ccbi";$myCCBReader_node$$=new cc.BuilderReader($ccbReader$$);var $bytes$$5_realUrl$$=cc.loader.getRes($ccbFileName$$);
$bytes$$5_realUrl$$||($bytes$$5_realUrl$$=cc.loader.getUrl($ccbFileName$$),$bytes$$5_realUrl$$=cc.loader.loadBinarySync($bytes$$5_realUrl$$),cc.loader.cache[$ccbFileName$$]=$bytes$$5_realUrl$$);$myCCBReader_node$$.initWithData($bytes$$5_realUrl$$,$ccbReader$$.getOwner());$myCCBReader_node$$.getAnimationManager().setRootContainerSize($ccbFileNode$$1_parent$$.getContentSize());$myCCBReader_node$$.setAnimationManagers($ccbReader$$.getAnimationManagers());$myCCBReader_node$$.getAnimationManager().setOwner($ccbReader$$.getOwner());
$ccbFileNode$$1_parent$$=$myCCBReader_node$$.readFileWithCleanUp(!1);$ccbReader$$.setAnimationManagers($myCCBReader_node$$.getAnimationManagers());$ccbFileNode$$1_parent$$&&-1!=$myCCBReader_node$$.getAnimationManager().getAutoPlaySequenceId()&&$myCCBReader_node$$.getAnimationManager().runAnimations($myCCBReader_node$$.getAnimationManager().getAutoPlaySequenceId(),0);return $ccbFileNode$$1_parent$$},parsePropTypeFloatXY:function($node$$102_x$$,$parent$$,$ccbReader$$30_y$$){$node$$102_x$$=$ccbReader$$30_y$$.readFloat();
$ccbReader$$30_y$$=$ccbReader$$30_y$$.readFloat();return[$node$$102_x$$,$ccbReader$$30_y$$]},onHandlePropTypePosition:function($node$$,$parent$$,$propertyName$$,$position$$,$ccbReader$$){$propertyName$$===PROPERTY_POSITION?$node$$.setPosition($position$$):ASSERT_FAIL_UNEXPECTED_PROPERTY($propertyName$$)},onHandlePropTypePoint:function($node$$,$parent$$,$propertyName$$,$position$$,$ccbReader$$){$propertyName$$===PROPERTY_ANCHORPOINT?$node$$.setAnchorPoint($position$$):ASSERT_FAIL_UNEXPECTED_PROPERTY($propertyName$$)},
onHandlePropTypePointLock:function($node$$,$parent$$,$propertyName$$,$pointLock$$,$ccbReader$$){ASSERT_FAIL_UNEXPECTED_PROPERTY($propertyName$$)},onHandlePropTypeSize:function($node$$,$parent$$,$propertyName$$,$sizeValue$$,$ccbReader$$){$propertyName$$===PROPERTY_CONTENTSIZE?$node$$.setContentSize($sizeValue$$):ASSERT_FAIL_UNEXPECTED_PROPERTY($propertyName$$)},onHandlePropTypeScaleLock:function($node$$,$parent$$,$propertyName$$,$scaleLock$$,$ccbReader$$){$propertyName$$===PROPERTY_SCALE?($node$$.setScaleX($scaleLock$$[0]),
$node$$.setScaleY($scaleLock$$[1])):ASSERT_FAIL_UNEXPECTED_PROPERTY($propertyName$$)},onHandlePropTypeFloatXY:function($node$$,$nameX_parent$$,$propertyName$$,$xy$$,$ccbReader$$){$propertyName$$===PROPERTY_SKEW?($node$$.setSkewX($xy$$[0]),$node$$.setSkewY($xy$$[1])):($nameX_parent$$=$propertyName$$+"X",$ccbReader$$=$propertyName$$+"Y",$node$$[$nameX_parent$$]&&$node$$[$ccbReader$$]||ASSERT_FAIL_UNEXPECTED_PROPERTY($propertyName$$),$node$$[$nameX_parent$$]($xy$$[0]),$node$$[$ccbReader$$]($xy$$[1]))},
onHandlePropTypeFloat:function($node$$,$parent$$,$propertyName$$,$floatValue$$,$ccbReader$$){this._customProperties.setObject($floatValue$$,$propertyName$$)},onHandlePropTypeDegrees:function($node$$,$parent$$,$propertyName$$,$degrees$$,$ccbReader$$){$propertyName$$===PROPERTY_ROTATION?$node$$.setRotation($degrees$$):ASSERT_FAIL_UNEXPECTED_PROPERTY($propertyName$$)},onHandlePropTypeFloatScale:function($node$$,$parent$$,$propertyName$$,$floatScale$$,$ccbReader$$){ASSERT_FAIL_UNEXPECTED_PROPERTY($propertyName$$)},
onHandlePropTypeInteger:function($node$$,$parent$$,$propertyName$$,$integer$$,$ccbReader$$){$propertyName$$===PROPERTY_TAG?$node$$.setTag($integer$$):ASSERT_FAIL_UNEXPECTED_PROPERTY($propertyName$$)},onHandlePropTypeIntegerLabeled:function($node$$,$parent$$,$propertyName$$,$integerLabeled$$,$ccbReader$$){ASSERT_FAIL_UNEXPECTED_PROPERTY($propertyName$$)},onHandlePropTypeFloatVar:function($node$$,$parent$$,$propertyName$$,$floatVar$$,$ccbReader$$){ASSERT_FAIL_UNEXPECTED_PROPERTY($propertyName$$)},onHandlePropTypeCheck:function($node$$,
$parent$$,$propertyName$$,$check$$,$ccbReader$$){$propertyName$$===PROPERTY_VISIBLE?$node$$.setVisible($check$$):$propertyName$$===PROPERTY_IGNOREANCHORPOINTFORPOSITION?$node$$.ignoreAnchorPointForPosition($check$$):ASSERT_FAIL_UNEXPECTED_PROPERTY($propertyName$$)},onHandlePropTypeSpriteFrame:function($node$$,$parent$$,$propertyName$$,$spriteFrame$$,$ccbReader$$){ASSERT_FAIL_UNEXPECTED_PROPERTY($propertyName$$)},onHandlePropTypeAnimation:function($node$$,$parent$$,$propertyName$$,$ccAnimation$$,$ccbReader$$){ASSERT_FAIL_UNEXPECTED_PROPERTY($propertyName$$)},
onHandlePropTypeTexture:function($node$$,$parent$$,$propertyName$$,$ccTexture2D$$,$ccbReader$$){ASSERT_FAIL_UNEXPECTED_PROPERTY($propertyName$$)},onHandlePropTypeByte:function($node$$,$parent$$,$propertyName$$,$byteValue$$,$ccbReader$$){ASSERT_FAIL_UNEXPECTED_PROPERTY($propertyName$$)},onHandlePropTypeColor3:function($node$$,$parent$$,$propertyName$$,$ccColor3B$$,$ccbReader$$){ASSERT_FAIL_UNEXPECTED_PROPERTY($propertyName$$)},onHandlePropTypeColor4FVar:function($node$$,$parent$$,$propertyName$$,$ccColor4FVar$$,
$ccbReader$$){ASSERT_FAIL_UNEXPECTED_PROPERTY($propertyName$$)},onHandlePropTypeFlip:function($node$$,$parent$$,$propertyName$$,$flip$$,$ccbReader$$){ASSERT_FAIL_UNEXPECTED_PROPERTY($propertyName$$)},onHandlePropTypeBlendFunc:function($node$$,$parent$$,$propertyName$$,$ccBlendFunc$$,$ccbReader$$){ASSERT_FAIL_UNEXPECTED_PROPERTY($propertyName$$)},onHandlePropTypeFntFile:function($node$$,$parent$$,$propertyName$$,$fntFile$$,$ccbReader$$){ASSERT_FAIL_UNEXPECTED_PROPERTY($propertyName$$)},onHandlePropTypeString:function($node$$,
$parent$$,$propertyName$$,$strValue$$,$ccbReader$$){this._customProperties.setObject($strValue$$,$propertyName$$)},onHandlePropTypeText:function($node$$,$parent$$,$propertyName$$,$textValue$$,$ccbReader$$){ASSERT_FAIL_UNEXPECTED_PROPERTY($propertyName$$)},onHandlePropTypeFontTTF:function($node$$,$parent$$,$propertyName$$,$fontTTF$$,$ccbReader$$){ASSERT_FAIL_UNEXPECTED_PROPERTY($propertyName$$)},onHandlePropTypeBlock:function($node$$,$parent$$,$propertyName$$,$blockData$$,$ccbReader$$){ASSERT_FAIL_UNEXPECTED_PROPERTY($propertyName$$)},
onHandlePropTypeBlockCCControl:function($node$$,$parent$$,$propertyName$$,$blockCCControlData$$,$ccbReader$$){ASSERT_FAIL_UNEXPECTED_PROPERTY($propertyName$$)},onHandlePropTypeCCBFile:function($node$$,$parent$$,$propertyName$$,$ccbFileNode$$,$ccbReader$$){ASSERT_FAIL_UNEXPECTED_PROPERTY($propertyName$$)}});cc.NodeLoader.loader=function $cc$NodeLoader$loader$(){return new cc.NodeLoader};cc.NodeLoaderListener=cc.Class.extend({onNodeLoaded:function($node$$,$nodeLoader$$){}});
cc.BuilderSelectorResolver=cc.Class.extend({onResolveCCBCCMenuItemSelector:function($target$$,$selectorName$$){},onResolveCCBCCCallFuncSelector:function($target$$,$selectorName$$){},onResolveCCBCCControlSelector:function($target$$,$selectorName$$){}});cc.BuilderScriptOwnerProtocol=cc.Class.extend({createNew:function(){}});
cc.BuilderMemberVariableAssigner=cc.Class.extend({onAssignCCBMemberVariable:function($target$$,$memberVariableName$$,$node$$){return!1},onAssignCCBCustomProperty:function($target$$,$memberVariableName$$,$value$$){return!1}});var PROPERTY_CCBFILE="ccbFile";
cc.BuilderFileLoader=cc.NodeLoader.extend({_createCCNode:function($parent$$,$ccbReader$$){return cc.BuilderFile.create()},onHandlePropTypeCCBFile:function($node$$,$parent$$,$propertyName$$,$ccbFileNode$$,$ccbReader$$){$propertyName$$==PROPERTY_CCBFILE?$node$$.setCCBFileNode($ccbFileNode$$):cc.NodeLoader.prototype.onHandlePropTypeCCBFile.call(this,$node$$,$parent$$,$propertyName$$,$ccbFileNode$$,$ccbReader$$)}});cc.BuilderFileLoader.loader=function $cc$BuilderFileLoader$loader$(){return new cc.BuilderFileLoader};
var PROPERTY_ENABLED="enabled",PROPERTY_SELECTED="selected",PROPERTY_CCCONTROL="ccControl";
cc.ControlLoader=cc.NodeLoader.extend({_createCCNode:function($parent$$,$ccbReander$$){},onHandlePropTypeBlockCCControl:function($node$$,$parent$$,$propertyName$$,$blockCCControlData$$,$ccbReader$$){$propertyName$$==PROPERTY_CCCONTROL?$node$$.addTargetWithActionForControlEvents($blockCCControlData$$.target,$blockCCControlData$$.selCCControlHandler,$blockCCControlData$$.controlEvents):cc.NodeLoader.prototype.onHandlePropTypeBlockCCControl.call(this,$node$$,$parent$$,$propertyName$$,$blockCCControlData$$,
$ccbReader$$)},onHandlePropTypeCheck:function($node$$,$parent$$,$propertyName$$,$check$$,$ccbReader$$){$propertyName$$==PROPERTY_ENABLED?$node$$.setEnabled($check$$):$propertyName$$==PROPERTY_SELECTED?$node$$.setSelected($check$$):cc.NodeLoader.prototype.onHandlePropTypeCheck.call(this,$node$$,$parent$$,$propertyName$$,$check$$,$ccbReader$$)}});
var PROPERTY_ZOOMONTOUCHDOWN="zoomOnTouchDown",PROPERTY_TITLE_NORMAL="title|1",PROPERTY_TITLE_HIGHLIGHTED="title|2",PROPERTY_TITLE_DISABLED="title|3",PROPERTY_TITLECOLOR_NORMAL="titleColor|1",PROPERTY_TITLECOLOR_HIGHLIGHTED="titleColor|2",PROPERTY_TITLECOLOR_DISABLED="titleColor|3",PROPERTY_TITLETTF_NORMAL="titleTTF|1",PROPERTY_TITLETTF_HIGHLIGHTED="titleTTF|2",PROPERTY_TITLETTF_DISABLED="titleTTF|3",PROPERTY_TITLETTFSIZE_NORMAL="titleTTFSize|1",PROPERTY_TITLETTFSIZE_HIGHLIGHTED="titleTTFSize|2",
PROPERTY_TITLETTFSIZE_DISABLED="titleTTFSize|4",PROPERTY_LABELANCHORPOINT="labelAnchorPoint",PROPERTY_PREFEREDSIZE="preferedSize",PROPERTY_BACKGROUNDSPRITEFRAME_NORMAL="backgroundSpriteFrame|1",PROPERTY_BACKGROUNDSPRITEFRAME_HIGHLIGHTED="backgroundSpriteFrame|2",PROPERTY_BACKGROUNDSPRITEFRAME_DISABLED="backgroundSpriteFrame|3";
cc.ControlButtonLoader=cc.ControlLoader.extend({_createCCNode:function($parent$$,$ccbReader$$){return new cc.ControlButton},onHandlePropTypeCheck:function($node$$,$parent$$,$propertyName$$,$check$$,$ccbReader$$){$propertyName$$==PROPERTY_ZOOMONTOUCHDOWN?$node$$.setZoomOnTouchDown($check$$):cc.ControlLoader.prototype.onHandlePropTypeCheck.call(this,$node$$,$parent$$,$propertyName$$,$check$$,$ccbReader$$)},onHandlePropTypeString:function($node$$,$parent$$,$propertyName$$,$stringValue$$,$ccbReader$$){$propertyName$$==
PROPERTY_TITLE_NORMAL?$node$$.setTitleForState($stringValue$$,cc.CONTROL_STATE_NORMAL):$propertyName$$==PROPERTY_TITLE_HIGHLIGHTED?$node$$.setTitleForState($stringValue$$,cc.CONTROL_STATE_HIGHLIGHTED):$propertyName$$==PROPERTY_TITLE_DISABLED?$node$$.setTitleForState($stringValue$$,cc.CONTROL_STATE_DISABLED):cc.ControlLoader.prototype.onHandlePropTypeString.call(this,$node$$,$parent$$,$propertyName$$,$stringValue$$,$ccbReader$$)},onHandlePropTypeFontTTF:function($node$$,$parent$$,$propertyName$$,$fontTTF$$,
$ccbReader$$){$propertyName$$==PROPERTY_TITLETTF_NORMAL?$node$$.setTitleTTFForState($fontTTF$$,cc.CONTROL_STATE_NORMAL):$propertyName$$==PROPERTY_TITLETTF_HIGHLIGHTED?$node$$.setTitleTTFForState($fontTTF$$,cc.CONTROL_STATE_HIGHLIGHTED):$propertyName$$==PROPERTY_TITLETTF_DISABLED?$node$$.setTitleTTFForState($fontTTF$$,cc.CONTROL_STATE_DISABLED):cc.ControlLoader.prototype.onHandlePropTypeFontTTF.call(this,$node$$,$parent$$,$propertyName$$,$fontTTF$$,$ccbReader$$)},onHandlePropTypeFloatScale:function($node$$,
$parent$$,$propertyName$$,$floatScale$$,$ccbReader$$){$propertyName$$==PROPERTY_TITLETTFSIZE_NORMAL?$node$$.setTitleTTFSizeForState($floatScale$$,cc.CONTROL_STATE_NORMAL):$propertyName$$==PROPERTY_TITLETTFSIZE_HIGHLIGHTED?$node$$.setTitleTTFSizeForState($floatScale$$,cc.CONTROL_STATE_HIGHLIGHTED):$propertyName$$==PROPERTY_TITLETTFSIZE_DISABLED?$node$$.setTitleTTFSizeForState($floatScale$$,cc.CONTROL_STATE_DISABLED):cc.ControlLoader.prototype.onHandlePropTypeFloatScale.call(this,$node$$,$parent$$,
$propertyName$$,$floatScale$$,$ccbReader$$)},onHandlePropTypePoint:function($node$$,$parent$$,$propertyName$$,$point$$,$ccbReader$$){$propertyName$$==PROPERTY_LABELANCHORPOINT?$node$$.setLabelAnchorPoint($point$$):cc.ControlLoader.prototype.onHandlePropTypePoint.call(this,$node$$,$parent$$,$propertyName$$,$point$$,$ccbReader$$)},onHandlePropTypeSize:function($node$$,$parent$$,$propertyName$$,$size$$,$ccbReader$$){$propertyName$$==PROPERTY_PREFEREDSIZE?$node$$.setPreferredSize($size$$):cc.ControlLoader.prototype.onHandlePropTypeSize.call(this,
$node$$,$parent$$,$propertyName$$,$size$$,$ccbReader$$)},onHandlePropTypeSpriteFrame:function($node$$,$parent$$,$propertyName$$,$spriteFrame$$,$ccbReader$$){$propertyName$$==PROPERTY_BACKGROUNDSPRITEFRAME_NORMAL?null!=$spriteFrame$$&&$node$$.setBackgroundSpriteFrameForState($spriteFrame$$,cc.CONTROL_STATE_NORMAL):$propertyName$$==PROPERTY_BACKGROUNDSPRITEFRAME_HIGHLIGHTED?null!=$spriteFrame$$&&$node$$.setBackgroundSpriteFrameForState($spriteFrame$$,cc.CONTROL_STATE_HIGHLIGHTED):$propertyName$$==PROPERTY_BACKGROUNDSPRITEFRAME_DISABLED?
null!=$spriteFrame$$&&$node$$.setBackgroundSpriteFrameForState($spriteFrame$$,cc.CONTROL_STATE_DISABLED):cc.ControlLoader.prototype.onHandlePropTypeSpriteFrame.call(this,$node$$,$parent$$,$propertyName$$,$spriteFrame$$,$ccbReader$$)},onHandlePropTypeColor3:function($node$$,$parent$$,$propertyName$$,$ccColor3B$$,$ccbReader$$){$propertyName$$==PROPERTY_TITLECOLOR_NORMAL?$node$$.setTitleColorForState($ccColor3B$$,cc.CONTROL_STATE_NORMAL):$propertyName$$==PROPERTY_TITLECOLOR_HIGHLIGHTED?$node$$.setTitleColorForState($ccColor3B$$,
cc.CONTROL_STATE_HIGHLIGHTED):$propertyName$$==PROPERTY_TITLECOLOR_DISABLED?$node$$.setTitleColorForState($ccColor3B$$,cc.CONTROL_STATE_DISABLED):cc.ControlLoader.prototype.onHandlePropTypeColor3.call(this,$node$$,$parent$$,$propertyName$$,$ccColor3B$$,$ccbReader$$)}});cc.ControlButtonLoader.loader=function $cc$ControlButtonLoader$loader$(){return new cc.ControlButtonLoader};
var PROPERTY_CONTAINER="container",PROPERTY_DIRECTION="direction",PROPERTY_CLIPSTOBOUNDS="clipsToBounds",PROPERTY_BOUNCES="bounces",PROPERTY_SCALE="scale";
cc.ScrollViewLoader=cc.NodeLoader.extend({_createCCNode:function($parent$$,$ccbReader$$){return new cc.ScrollView},onHandlePropTypeSize:function($node$$,$parent$$,$propertyName$$,$size$$,$ccbReader$$){$propertyName$$==PROPERTY_CONTENTSIZE?$node$$.setViewSize($size$$):cc.NodeLoader.prototype.onHandlePropTypeSize.call(this,$node$$,$parent$$,$propertyName$$,$size$$,$ccbReader$$)},onHandlePropTypeCCBFile:function($node$$,$parent$$,$propertyName$$,$ccbFileNode$$,$ccbReader$$){$propertyName$$==PROPERTY_CONTAINER?
($node$$.setContainer($ccbFileNode$$),$node$$.updateInset()):cc.NodeLoader.prototype.onHandlePropTypeCCBFile.call(this,$node$$,$parent$$,$propertyName$$,$ccbFileNode$$,$ccbReader$$)},onHandlePropTypeCheck:function($node$$,$parent$$,$propertyName$$,$check$$,$ccbReader$$){$propertyName$$==PROPERTY_CLIPSTOBOUNDS?$node$$.setClippingToBounds($check$$):$propertyName$$==PROPERTY_BOUNCES?$node$$.setBounceable($check$$):cc.NodeLoader.prototype.onHandlePropTypeCheck.call(this,$node$$,$parent$$,$propertyName$$,
$check$$,$ccbReader$$)},onHandlePropTypeFloat:function($node$$,$parent$$,$propertyName$$,$floatValue$$,$ccbReader$$){$propertyName$$==PROPERTY_SCALE?$node$$.setScale($floatValue$$):cc.NodeLoader.prototype.onHandlePropTypeFloat.call(this,$node$$,$parent$$,$propertyName$$,$floatValue$$,$ccbReader$$)},onHandlePropTypeIntegerLabeled:function($node$$,$parent$$,$propertyName$$,$integerLabeled$$,$ccbReader$$){$propertyName$$==PROPERTY_DIRECTION?$node$$.setDirection($integerLabeled$$):cc.NodeLoader.prototype.onHandlePropTypeIntegerLabeled.call(this,
$node$$,$parent$$,$propertyName$$,$integerLabeled$$,$ccbReader$$)}});cc.ScrollViewLoader.loader=function $cc$ScrollViewLoader$loader$(){return new cc.ScrollViewLoader};var PROPERTY_CONTENTSIZE="contentSize",PROPERTY_SPRITEFRAME="spriteFrame",PROPERTY_COLOR="color",PROPERTY_OPACITY="opacity",PROPERTY_BLENDFUNC="blendFunc",PROPERTY_INSETLEFT="insetLeft",PROPERTY_INSETTOP="insetTop",PROPERTY_INSETRIGHT="insetRight",PROPERTY_INSETBOTTOM="insetBottom";
cc.Scale9SpriteLoader=cc.NodeLoader.extend({_createCCNode:function($parent$$,$ccbReader$$){var $sprite$$=new cc.Scale9Sprite;$sprite$$.setAnchorPoint(0,0);return $sprite$$},onHandlePropTypeColor3:function($node$$,$parent$$,$propertyName$$,$ccColor3B$$,$ccbReader$$){$propertyName$$==PROPERTY_COLOR?255===$ccColor3B$$.r&&255===$ccColor3B$$.g&&255===$ccColor3B$$.b||$node$$.setColor($ccColor3B$$):cc.NodeLoader.prototype.onHandlePropTypeColor3.call(this,$node$$,$parent$$,$propertyName$$,$ccColor3B$$,$ccbReader$$)},
onHandlePropTypeByte:function($node$$,$parent$$,$propertyName$$,$byteValue$$,$ccbReader$$){$propertyName$$==PROPERTY_OPACITY?$node$$.setOpacity($byteValue$$):cc.NodeLoader.prototype.onHandlePropTypeByte.call(this,$node$$,$parent$$,$propertyName$$,$byteValue$$,$ccbReader$$)},onHandlePropTypeBlendFunc:function($node$$,$parent$$,$propertyName$$,$ccBlendFunc$$,$ccbReader$$){$propertyName$$!=PROPERTY_BLENDFUNC&&cc.NodeLoader.prototype.onHandlePropTypeBlendFunc.call(this,$node$$,$parent$$,$propertyName$$,
$ccBlendFunc$$,$ccbReader$$)},onHandlePropTypeSpriteFrame:function($node$$,$parent$$,$propertyName$$,$spriteFrame$$,$ccbReader$$){$propertyName$$==PROPERTY_SPRITEFRAME?$node$$.setSpriteFrame($spriteFrame$$):cc.NodeLoader.prototype.onHandlePropTypeSpriteFrame.call(this,$node$$,$parent$$,$propertyName$$,$spriteFrame$$,$ccbReader$$)},onHandlePropTypeSize:function($node$$,$parent$$,$propertyName$$,$size$$,$ccbReader$$){$propertyName$$!=PROPERTY_CONTENTSIZE&&($propertyName$$==PROPERTY_PREFEREDSIZE?$node$$.setPreferredSize($size$$):
cc.NodeLoader.prototype.onHandlePropTypeSize.call(this,$node$$,$parent$$,$propertyName$$,$size$$,$ccbReader$$))},onHandlePropTypeFloat:function($node$$,$parent$$,$propertyName$$,$floatValue$$,$ccbReader$$){$propertyName$$==PROPERTY_INSETLEFT?$node$$.setInsetLeft($floatValue$$):$propertyName$$==PROPERTY_INSETTOP?$node$$.setInsetTop($floatValue$$):$propertyName$$==PROPERTY_INSETRIGHT?$node$$.setInsetRight($floatValue$$):$propertyName$$==PROPERTY_INSETBOTTOM?$node$$.setInsetBottom($floatValue$$):cc.NodeLoader.prototype.onHandlePropTypeFloat.call(this,
$node$$,$parent$$,$propertyName$$,$floatValue$$,$ccbReader$$)}});cc.Scale9SpriteLoader.loader=function $cc$Scale9SpriteLoader$loader$(){return new cc.Scale9SpriteLoader};var PROPERTY_FLIP="flip",PROPERTY_DISPLAYFRAME="displayFrame",PROPERTY_COLOR="color",PROPERTY_OPACITY="opacity",PROPERTY_BLENDFUNC="blendFunc";
cc.SpriteLoader=cc.NodeLoader.extend({_createCCNode:function($parent$$,$ccbReader$$){return new cc.Sprite},onHandlePropTypeColor3:function($node$$,$parent$$,$propertyName$$,$ccColor3B$$,$ccbReader$$){$propertyName$$===PROPERTY_COLOR?255===$ccColor3B$$.r&&255===$ccColor3B$$.g&&255===$ccColor3B$$.b||$node$$.setColor($ccColor3B$$):cc.NodeLoader.prototype.onHandlePropTypeColor3.call(this,$node$$,$parent$$,$propertyName$$,$ccColor3B$$,$ccbReader$$)},onHandlePropTypeByte:function($node$$,$parent$$,$propertyName$$,
$byteValue$$,$ccbReader$$){$propertyName$$===PROPERTY_OPACITY?$node$$.setOpacity($byteValue$$):cc.NodeLoader.prototype.onHandlePropTypeByte.call(this,$node$$,$parent$$,$propertyName$$,$byteValue$$,$ccbReader$$)},onHandlePropTypeBlendFunc:function($node$$,$parent$$,$propertyName$$,$ccbBlendFunc$$,$ccbReader$$){$propertyName$$===PROPERTY_BLENDFUNC?$node$$.setBlendFunc($ccbBlendFunc$$):cc.NodeLoader.prototype.onHandlePropTypeBlendFunc.call(this,$node$$,$parent$$,$propertyName$$,$ccbBlendFunc$$,$ccbReader$$)},
onHandlePropTypeSpriteFrame:function($node$$,$parent$$,$propertyName$$,$ccSpriteFrame$$,$ccbReader$$){$propertyName$$===PROPERTY_DISPLAYFRAME?$ccSpriteFrame$$?$node$$.setSpriteFrame($ccSpriteFrame$$):cc.log("ERROR: SpriteFrame is null"):cc.NodeLoader.prototype.onHandlePropTypeSpriteFrame.call(this,$node$$,$parent$$,$propertyName$$,$ccSpriteFrame$$,$ccbReader$$)},onHandlePropTypeFlip:function($node$$,$parent$$,$propertyName$$,$flip$$,$ccbReader$$){$propertyName$$===PROPERTY_FLIP?($node$$.setFlippedX($flip$$[0]),
$node$$.setFlippedY($flip$$[1])):cc.NodeLoader.prototype.onHandlePropTypeFlip.call(this,$node$$,$parent$$,$propertyName$$,$flip$$,$ccbReader$$)}});cc.SpriteLoader.loader=function $cc$SpriteLoader$loader$(){return new cc.SpriteLoader};
var PROPERTY_TOUCH_ENABLED="touchEnabled",PROPERTY_IS_TOUCH_ENABLED="isTouchEnabled",PROPERTY_ACCELEROMETER_ENABLED="accelerometerEnabled",PROPERTY_IS_ACCELEROMETER_ENABLED="isAccelerometerEnabled",PROPERTY_IS_MOUSE_ENABLED="isMouseEnabled",PROPERTY_MOUSE_ENABLED="mouseEnabled",PROPERTY_KEYBOARD_ENABLED="keyboardEnabled",PROPERTY_IS_KEYBOARD_ENABLED="isKeyboardEnabled";
cc.LayerLoader=cc.NodeLoader.extend({_createCCNode:function($parent$$,$ccbReader$$){var $layer$$=new cc.Layer;$layer$$.setContentSize(0,0);return $layer$$},onHandlePropTypeCheck:function($node$$,$parent$$,$propertyName$$,$check$$,$ccbReader$$){$propertyName$$!==PROPERTY_TOUCH_ENABLED&&$propertyName$$!==PROPERTY_IS_TOUCH_ENABLED&&$propertyName$$!==PROPERTY_ACCELEROMETER_ENABLED&&$propertyName$$!==PROPERTY_IS_ACCELEROMETER_ENABLED&&$propertyName$$!==PROPERTY_MOUSE_ENABLED&&$propertyName$$!==PROPERTY_IS_MOUSE_ENABLED&&
($propertyName$$===PROPERTY_KEYBOARD_ENABLED||$propertyName$$===PROPERTY_IS_KEYBOARD_ENABLED?$node$$.setKeyboardEnabled&&!cc.sys.isNative?$node$$.setKeyboardEnabled($check$$):cc.log("The property '"+PROPERTY_IS_KEYBOARD_ENABLED+"' is not supported!"):cc.NodeLoader.prototype.onHandlePropTypeCheck.call(this,$node$$,$parent$$,$propertyName$$,$check$$,$ccbReader$$))}});cc.LayerLoader.loader=function $cc$LayerLoader$loader$(){return new cc.LayerLoader};
cc.LayerColorLoader=cc.LayerLoader.extend({_createCCNode:function($parent$$,$ccbReader$$){return new cc.LayerColor},onHandlePropTypeColor3:function($node$$,$parent$$,$propertyName$$,$ccColor3B$$,$ccbReader$$){$propertyName$$===PROPERTY_COLOR?$node$$.setColor($ccColor3B$$):cc.LayerLoader.prototype.onHandlePropTypeColor3.call(this,$node$$,$parent$$,$propertyName$$,$ccColor3B$$,$ccbReader$$)},onHandlePropTypeByte:function($node$$,$parent$$,$propertyName$$,$byteValue$$,$ccbReader$$){$propertyName$$===
PROPERTY_OPACITY?$node$$.setOpacity($byteValue$$):cc.LayerLoader.prototype.onHandlePropTypeByte.call(this,$node$$,$parent$$,$propertyName$$,$byteValue$$,$ccbReader$$)},onHandlePropTypeBlendFunc:function($node$$,$parent$$,$propertyName$$,$ccBlendFunc$$,$ccbReader$$){$propertyName$$===PROPERTY_BLENDFUNC?$node$$.setBlendFunc($ccBlendFunc$$):cc.LayerLoader.prototype.onHandlePropTypeBlendFunc.call(this,$node$$,$parent$$,$propertyName$$,$ccBlendFunc$$,$ccbReader$$)}});cc.LayerColorLoader.loader=function $cc$LayerColorLoader$loader$(){return new cc.LayerColorLoader};
var PROPERTY_STARTCOLOR="startColor",PROPERTY_ENDCOLOR="endColor",PROPERTY_STARTOPACITY="startOpacity",PROPERTY_ENDOPACITY="endOpacity",PROPERTY_VECTOR="vector";
cc.LayerGradientLoader=cc.LayerLoader.extend({_createCCNode:function($parent$$,$ccbReader$$){return new cc.LayerGradient},onHandlePropTypeColor3:function($node$$,$parent$$,$propertyName$$,$ccColor3B$$,$ccbReader$$){$propertyName$$===PROPERTY_STARTCOLOR?$node$$.setStartColor($ccColor3B$$):$propertyName$$==PROPERTY_ENDCOLOR?$node$$.setEndColor($ccColor3B$$):cc.LayerLoader.prototype.onHandlePropTypeColor3.call(this,$node$$,$parent$$,$propertyName$$,$ccColor3B$$,$ccbReader$$)},onHandlePropTypeByte:function($node$$,
$parent$$,$propertyName$$,$byteValue$$,$ccbReader$$){$propertyName$$===PROPERTY_STARTOPACITY?$node$$.setStartOpacity($byteValue$$):$propertyName$$===PROPERTY_ENDOPACITY?$node$$.setEndOpacity($byteValue$$):cc.LayerLoader.prototype.onHandlePropTypeByte.call(this,$node$$,$parent$$,$propertyName$$,$byteValue$$,$ccbReader$$)},onHandlePropTypePoint:function($node$$,$parent$$,$propertyName$$,$point$$,$ccbReader$$){$propertyName$$===PROPERTY_VECTOR?$node$$.setVector($point$$):cc.LayerLoader.prototype.onHandlePropTypePoint.call(this,
$node$$,$parent$$,$propertyName$$,$point$$,$ccbReader$$)},onHandlePropTypeBlendFunc:function($node$$,$parent$$,$propertyName$$,$ccBlendFunc$$,$ccbReader$$){$propertyName$$===PROPERTY_BLENDFUNC?$node$$.setBlendFunc($ccBlendFunc$$):cc.LayerLoader.prototype.onHandlePropTypeBlendFunc.call(this,$node$$,$parent$$,$propertyName$$,$ccBlendFunc$$,$ccbReader$$)}});cc.LayerGradientLoader.loader=function $cc$LayerGradientLoader$loader$(){return new cc.LayerGradientLoader};
cc.MenuLoader=cc.LayerLoader.extend({_createCCNode:function($parent$$,$ccbReader$$){var $menu$$=new cc.Menu;$menu$$.setContentSize(0,0);return $menu$$}});cc.MenuLoader.loader=function $cc$MenuLoader$loader$(){return new cc.MenuLoader};var PROPERTY_BLOCK="block",PROPERTY_ISENABLED="isEnabled";
cc.MenuItemLoader=cc.NodeLoader.extend({_createCCNode:function($parent$$,$ccbReader$$){return null},onHandlePropTypeBlock:function($node$$,$parent$$,$propertyName$$,$blockData$$,$ccbReader$$){$propertyName$$===PROPERTY_BLOCK?null!=$blockData$$&&$node$$.setTarget($blockData$$.selMenuHander,$blockData$$.target):cc.NodeLoader.prototype.onHandlePropTypeBlock.call(this,$node$$,$parent$$,$propertyName$$,$blockData$$,$ccbReader$$)},onHandlePropTypeCheck:function($node$$,$parent$$,$propertyName$$,$check$$,
$ccbReader$$){$propertyName$$===PROPERTY_ISENABLED?$node$$.setEnabled($check$$):cc.NodeLoader.prototype.onHandlePropTypeCheck.call(this,$node$$,$parent$$,$propertyName$$,$check$$,$ccbReader$$)}});var PROPERTY_NORMALDISPLAYFRAME="normalSpriteFrame",PROPERTY_SELECTEDDISPLAYFRAME="selectedSpriteFrame",PROPERTY_DISABLEDDISPLAYFRAME="disabledSpriteFrame";
cc.MenuItemImageLoader=cc.MenuItemLoader.extend({_createCCNode:function($parent$$,$ccbReader$$){return new cc.MenuItemImage},onHandlePropTypeSpriteFrame:function($node$$,$parent$$,$propertyName$$,$spriteFrame$$,$ccbReader$$){$propertyName$$===PROPERTY_NORMALDISPLAYFRAME?null!=$spriteFrame$$&&$node$$.setNormalSpriteFrame($spriteFrame$$):$propertyName$$===PROPERTY_SELECTEDDISPLAYFRAME?null!=$spriteFrame$$&&$node$$.setSelectedSpriteFrame($spriteFrame$$):$propertyName$$===PROPERTY_DISABLEDDISPLAYFRAME?
null!=$spriteFrame$$&&$node$$.setDisabledSpriteFrame($spriteFrame$$):cc.MenuItemLoader.prototype.onHandlePropTypeSpriteFrame.call(this,$node$$,$parent$$,$propertyName$$,$spriteFrame$$,$ccbReader$$)}});cc.MenuItemImageLoader.loader=function $cc$MenuItemImageLoader$loader$(){return new cc.MenuItemImageLoader};
var PROPERTY_FONTNAME="fontName",PROPERTY_FONTSIZE="fontSize",PROPERTY_HORIZONTALALIGNMENT="horizontalAlignment",PROPERTY_VERTICALALIGNMENT="verticalAlignment",PROPERTY_STRING="string",PROPERTY_DIMENSIONS="dimensions";
cc.LabelTTFLoader=cc.NodeLoader.extend({_createCCNode:function($parent$$,$ccbReader$$){return new cc.LabelTTF},onHandlePropTypeColor3:function($node$$,$parent$$,$propertyName$$,$ccColor3B$$,$ccbReader$$){$propertyName$$===PROPERTY_COLOR?255===$ccColor3B$$.r&&255===$ccColor3B$$.g&&255===$ccColor3B$$.b||$node$$.setColor($ccColor3B$$):cc.NodeLoader.prototype.onHandlePropTypeColor3.call(this,$node$$,$parent$$,$propertyName$$,$ccColor3B$$,$ccbReader$$)},onHandlePropTypeByte:function($node$$,$parent$$,
$propertyName$$,$byteValue$$,$ccbReader$$){$propertyName$$===PROPERTY_OPACITY?$node$$.setOpacity($byteValue$$):cc.NodeLoader.prototype.onHandlePropTypeByte.call(this,$node$$,$parent$$,$propertyName$$,$byteValue$$,$ccbReader$$)},onHandlePropTypeBlendFunc:function($node$$,$parent$$,$propertyName$$,$ccBlendFunc$$,$ccbReader$$){$propertyName$$===PROPERTY_BLENDFUNC?$node$$.setBlendFunc($ccBlendFunc$$):cc.NodeLoader.prototype.onHandlePropTypeBlendFunc.call(this,$node$$,$parent$$,$propertyName$$,$ccBlendFunc$$,
$ccbReader$$)},onHandlePropTypeFontTTF:function($node$$,$parent$$,$propertyName$$,$fontTTF$$,$ccbReader$$){$propertyName$$===PROPERTY_FONTNAME?$node$$.setFontName($fontTTF$$):cc.NodeLoader.prototype.onHandlePropTypeFontTTF.call(this,$node$$,$parent$$,$propertyName$$,$fontTTF$$,$ccbReader$$)},onHandlePropTypeText:function($node$$,$parent$$,$propertyName$$,$textValue$$,$ccbReader$$){$propertyName$$===PROPERTY_STRING?$node$$.setString($textValue$$):cc.NodeLoader.prototype.onHandlePropTypeText.call(this,
$node$$,$parent$$,$propertyName$$,$textValue$$,$ccbReader$$)},onHandlePropTypeFloatScale:function($node$$,$parent$$,$propertyName$$,$floatScale$$,$ccbReader$$){$propertyName$$===PROPERTY_FONTSIZE?$node$$.setFontSize($floatScale$$):cc.NodeLoader.prototype.onHandlePropTypeFloatScale.call(this,$node$$,$parent$$,$propertyName$$,$floatScale$$,$ccbReader$$)},onHandlePropTypeIntegerLabeled:function($node$$,$parent$$,$propertyName$$,$integerLabeled$$,$ccbReader$$){$propertyName$$===PROPERTY_HORIZONTALALIGNMENT?
$node$$.setHorizontalAlignment($integerLabeled$$):$propertyName$$===PROPERTY_VERTICALALIGNMENT?$node$$.setVerticalAlignment($integerLabeled$$):cc.NodeLoader.prototype.onHandlePropTypeIntegerLabeled.call(this,$node$$,$parent$$,$propertyName$$,$integerLabeled$$,$ccbReader$$)},onHandlePropTypeSize:function($node$$,$parent$$,$propertyName$$,$size$$,$ccbReader$$){$propertyName$$===PROPERTY_DIMENSIONS?$node$$.setDimensions($size$$):cc.NodeLoader.prototype.onHandlePropTypeSize.call(this,$node$$,$parent$$,
$propertyName$$,$size$$,$ccbReader$$)}});cc.LabelTTFLoader.loader=function $cc$LabelTTFLoader$loader$(){return new cc.LabelTTFLoader};var PROPERTY_FNTFILE="fntFile";
cc.LabelBMFontLoader=cc.NodeLoader.extend({_createCCNode:function($parent$$,$ccbReader$$){return new cc.LabelBMFont},onHandlePropTypeColor3:function($node$$,$parent$$,$propertyName$$,$ccColor3B$$,$ccbReader$$){$propertyName$$===PROPERTY_COLOR?255===$ccColor3B$$.r&&255===$ccColor3B$$.g&&255===$ccColor3B$$.b||$node$$.setColor($ccColor3B$$):cc.NodeLoader.prototype.onHandlePropTypeColor3.call(this,$node$$,$parent$$,$propertyName$$,$ccColor3B$$,$ccbReader$$)},onHandlePropTypeByte:function($node$$,$parent$$,
$propertyName$$,$byteValue$$,$ccbReader$$){$propertyName$$===PROPERTY_OPACITY?$node$$.setOpacity($byteValue$$):cc.NodeLoader.prototype.onHandlePropTypeByte.call(this,$node$$,$parent$$,$propertyName$$,$byteValue$$,$ccbReader$$)},onHandlePropTypeBlendFunc:function($node$$,$parent$$,$propertyName$$,$ccBlendFunc$$,$ccbReader$$){$propertyName$$===PROPERTY_BLENDFUNC?$node$$.setBlendFunc($ccBlendFunc$$):cc.NodeLoader.prototype.onHandlePropTypeBlendFunc.call(this,$node$$,$parent$$,$propertyName$$,$ccBlendFunc$$,
$ccbReader$$)},onHandlePropTypeFntFile:function($node$$,$parent$$,$propertyName$$,$fntFile$$,$ccbReader$$){$propertyName$$===PROPERTY_FNTFILE?$node$$.setFntFile($fntFile$$):cc.NodeLoader.prototype.onHandlePropTypeFntFile.call(this,$node$$,$parent$$,$propertyName$$,$fntFile$$,$ccbReader$$)},onHandlePropTypeText:function($node$$,$parent$$,$propertyName$$,$textValue$$,$ccbReader$$){$propertyName$$===PROPERTY_STRING?$node$$.setString($textValue$$):cc.NodeLoader.prototype.onHandlePropTypeText.call(this,
$node$$,$parent$$,$propertyName$$,$textValue$$,$ccbReader$$)}});cc.LabelBMFontLoader.loader=function $cc$LabelBMFontLoader$loader$(){return new cc.LabelBMFontLoader};
var PROPERTY_EMITERMODE="emitterMode",PROPERTY_POSVAR="posVar",PROPERTY_EMISSIONRATE="emissionRate",PROPERTY_DURATION="duration",PROPERTY_TOTALPARTICLES="totalParticles",PROPERTY_LIFE="life",PROPERTY_STARTSIZE="startSize",PROPERTY_ENDSIZE="endSize",PROPERTY_STARTSPIN="startSpin",PROPERTY_ENDSPIN="endSpin",PROPERTY_ANGLE="angle",PROPERTY_GRAVITY="gravity",PROPERTY_SPEED="speed",PROPERTY_TANGENTIALACCEL="tangentialAccel",PROPERTY_RADIALACCEL="radialAccel",PROPERTY_TEXTURE="texture",PROPERTY_STARTRADIUS=
"startRadius",PROPERTY_ENDRADIUS="endRadius",PROPERTY_ROTATEPERSECOND="rotatePerSecond";
cc.ParticleSystemLoader=cc.NodeLoader.extend({_createCCNode:function($parent$$,$ccbReader$$){return new cc.ParticleSystem},onHandlePropTypeIntegerLabeled:function($node$$,$parent$$,$propertyName$$,$integerLabeled$$,$ccbReader$$){$propertyName$$===PROPERTY_EMITERMODE?$node$$.setEmitterMode($integerLabeled$$):cc.NodeLoader.prototype.onHandlePropTypeIntegerLabeled.call(this,$node$$,$parent$$,$propertyName$$,$integerLabeled$$,$ccbReader$$)},onHandlePropTypePoint:function($node$$,$parent$$,$propertyName$$,
$point$$,$ccbReader$$){$propertyName$$===PROPERTY_POSVAR?$node$$.setPosVar($point$$):$propertyName$$===PROPERTY_GRAVITY?$node$$.setGravity($point$$):cc.NodeLoader.prototype.onHandlePropTypePoint.call(this,$node$$,$parent$$,$propertyName$$,$point$$,$ccbReader$$)},onHandlePropTypeFloat:function($node$$,$parent$$,$propertyName$$,$floatValue$$,$ccbReader$$){$propertyName$$===PROPERTY_EMISSIONRATE?$node$$.setEmissionRate($floatValue$$):$propertyName$$===PROPERTY_DURATION?$node$$.setDuration($floatValue$$):
cc.NodeLoader.prototype.onHandlePropTypeFloat.call(this,$node$$,$parent$$,$propertyName$$,$floatValue$$,$ccbReader$$)},onHandlePropTypeInteger:function($node$$,$parent$$,$propertyName$$,$integerValue$$,$ccbReader$$){$propertyName$$===PROPERTY_TOTALPARTICLES?$node$$.setTotalParticles($integerValue$$):cc.NodeLoader.prototype.onHandlePropTypeInteger.call(this,$node$$,$parent$$,$propertyName$$,$integerValue$$,$ccbReader$$)},onHandlePropTypeFloatVar:function($node$$,$parent$$,$propertyName$$,$floatVar$$,
$ccbReader$$){$propertyName$$===PROPERTY_LIFE?($node$$.setLife($floatVar$$[0]),$node$$.setLifeVar($floatVar$$[1])):$propertyName$$===PROPERTY_STARTSIZE?($node$$.setStartSize($floatVar$$[0]),$node$$.setStartSizeVar($floatVar$$[1])):$propertyName$$===PROPERTY_ENDSIZE?($node$$.setEndSize($floatVar$$[0]),$node$$.setEndSizeVar($floatVar$$[1])):$propertyName$$===PROPERTY_STARTSPIN?($node$$.setStartSpin($floatVar$$[0]),$node$$.setStartSpinVar($floatVar$$[1])):$propertyName$$===PROPERTY_ENDSPIN?($node$$.setEndSpin($floatVar$$[0]),
$node$$.setEndSpinVar($floatVar$$[1])):$propertyName$$===PROPERTY_ANGLE?($node$$.setAngle($floatVar$$[0]),$node$$.setAngleVar($floatVar$$[1])):$propertyName$$===PROPERTY_SPEED?($node$$.setSpeed($floatVar$$[0]),$node$$.setSpeedVar($floatVar$$[1])):$propertyName$$===PROPERTY_TANGENTIALACCEL?($node$$.setTangentialAccel($floatVar$$[0]),$node$$.setTangentialAccelVar($floatVar$$[1])):$propertyName$$===PROPERTY_RADIALACCEL?($node$$.setRadialAccel($floatVar$$[0]),$node$$.setRadialAccelVar($floatVar$$[1])):
$propertyName$$===PROPERTY_STARTRADIUS?($node$$.setStartRadius($floatVar$$[0]),$node$$.setStartRadiusVar($floatVar$$[1])):$propertyName$$===PROPERTY_ENDRADIUS?($node$$.setEndRadius($floatVar$$[0]),$node$$.setEndRadiusVar($floatVar$$[1])):$propertyName$$===PROPERTY_ROTATEPERSECOND?($node$$.setRotatePerSecond($floatVar$$[0]),$node$$.setRotatePerSecondVar($floatVar$$[1])):cc.NodeLoader.prototype.onHandlePropTypeFloatVar.call(this,$node$$,$parent$$,$propertyName$$,$floatVar$$,$ccbReader$$)},onHandlePropTypeColor4FVar:function($node$$,
$parent$$,$propertyName$$,$ccColor4FVar$$,$ccbReader$$){$propertyName$$===PROPERTY_STARTCOLOR?($node$$.setStartColor($ccColor4FVar$$[0]),$node$$.setStartColorVar($ccColor4FVar$$[1])):$propertyName$$===PROPERTY_ENDCOLOR?($node$$.setEndColor($ccColor4FVar$$[0]),$node$$.setEndColorVar($ccColor4FVar$$[1])):cc.NodeLoader.prototype.onHandlePropTypeColor4FVar.call(this,$node$$,$parent$$,$propertyName$$,$ccColor4FVar$$,$ccbReader$$)},onHandlePropTypeBlendFunc:function($node$$,$parent$$,$propertyName$$,$ccBlendFunc$$,
$ccbReader$$){$propertyName$$===PROPERTY_BLENDFUNC?$node$$.setBlendFunc($ccBlendFunc$$):cc.NodeLoader.prototype.onHandlePropTypeBlendFunc.call(this,$node$$,$parent$$,$propertyName$$,$ccBlendFunc$$,$ccbReader$$)},onHandlePropTypeTexture:function($node$$,$parent$$,$propertyName$$,$ccTexture2D$$,$ccbReader$$){$propertyName$$===PROPERTY_TEXTURE?$node$$.setTexture($ccTexture2D$$):cc.NodeLoader.prototype.onHandlePropTypeTexture.call(this,$node$$,$parent$$,$propertyName$$,$ccTexture2D$$,$ccbReader$$)}});
cc.ParticleSystemLoader.loader=function $cc$ParticleSystemLoader$loader$(){return new cc.ParticleSystemLoader};
cc.NodeLoaderLibrary=cc.Class.extend({_ccNodeLoaders:null,ctor:function(){this._ccNodeLoaders={}},registerDefaultCCNodeLoaders:function(){this.registerCCNodeLoader("CCNode",cc.NodeLoader.loader());this.registerCCNodeLoader("CCLayer",cc.LayerLoader.loader());this.registerCCNodeLoader("CCLayerColor",cc.LayerColorLoader.loader());this.registerCCNodeLoader("CCLayerGradient",cc.LayerGradientLoader.loader());this.registerCCNodeLoader("CCSprite",cc.SpriteLoader.loader());this.registerCCNodeLoader("CCLabelBMFont",
cc.LabelBMFontLoader.loader());this.registerCCNodeLoader("CCLabelTTF",cc.LabelTTFLoader.loader());this.registerCCNodeLoader("CCScale9Sprite",cc.Scale9SpriteLoader.loader());this.registerCCNodeLoader("CCScrollView",cc.ScrollViewLoader.loader());this.registerCCNodeLoader("CCBFile",cc.BuilderFileLoader.loader());this.registerCCNodeLoader("CCMenu",cc.MenuLoader.loader());this.registerCCNodeLoader("CCMenuItemImage",cc.MenuItemImageLoader.loader());this.registerCCNodeLoader("CCControlButton",cc.ControlButtonLoader.loader());
this.registerCCNodeLoader("CCParticleSystemQuad",cc.ParticleSystemLoader.loader())},registerCCNodeLoader:function($className$$,$ccNodeLoader$$){this._ccNodeLoaders[$className$$]=$ccNodeLoader$$},unregisterCCNodeLoader:function($className$$){this._ccNodeLoaders[$className$$]&&delete this._ccNodeLoaders[$className$$]},getCCNodeLoader:function($className$$){return this._ccNodeLoaders[$className$$]?this._ccNodeLoaders[$className$$]:null},purge:function($releaseCCNodeLoaders$$){if($releaseCCNodeLoaders$$)for(var $className$$ in this._ccNodeLoaders)delete this._ccNodeLoaders[$className$$];
this._ccNodeLoaders={}}});cc.NodeLoaderLibrary.sSharedCCNodeLoaderLibrary=null;cc.NodeLoaderLibrary.library=function $cc$NodeLoaderLibrary$library$(){return new cc.NodeLoaderLibrary};cc.NodeLoaderLibrary.sharedCCNodeLoaderLibrary=function $cc$NodeLoaderLibrary$sharedCCNodeLoaderLibrary$(){null==cc.NodeLoaderLibrary.sSharedCCNodeLoaderLibrary&&(cc.NodeLoaderLibrary.sSharedCCNodeLoaderLibrary=new cc.NodeLoaderLibrary,cc.NodeLoaderLibrary.sSharedCCNodeLoaderLibrary.registerDefaultCCNodeLoaders());return cc.NodeLoaderLibrary.sSharedCCNodeLoaderLibrary};
cc.NodeLoaderLibrary.purgeSharedCCNodeLoaderLibrary=function $cc$NodeLoaderLibrary$purgeSharedCCNodeLoaderLibrary$(){cc.NodeLoaderLibrary.sSharedCCNodeLoaderLibrary=null};cc.NodeLoaderLibrary.newDefaultCCNodeLoaderLibrary=function $cc$NodeLoaderLibrary$newDefaultCCNodeLoaderLibrary$(){var $ccNodeLoaderLibrary$$=cc.NodeLoaderLibrary.library();$ccNodeLoaderLibrary$$.registerDefaultCCNodeLoaders();return $ccNodeLoaderLibrary$$};
var CCB_VERSION=5,CCB_PROPTYPE_POSITION=0,CCB_PROPTYPE_SIZE=1,CCB_PROPTYPE_POINT=2,CCB_PROPTYPE_POINTLOCK=3,CCB_PROPTYPE_SCALELOCK=4,CCB_PROPTYPE_DEGREES=5,CCB_PROPTYPE_INTEGER=6,CCB_PROPTYPE_FLOAT=7,CCB_PROPTYPE_FLOATVAR=8,CCB_PROPTYPE_CHECK=9,CCB_PROPTYPE_SPRITEFRAME=10,CCB_PROPTYPE_TEXTURE=11,CCB_PROPTYPE_BYTE=12,CCB_PROPTYPE_COLOR3=13,CCB_PROPTYPE_COLOR4VAR=14,CCB_PROPTYPE_FLIP=15,CCB_PROPTYPE_BLENDMODE=16,CCB_PROPTYPE_FNTFILE=17,CCB_PROPTYPE_TEXT=18,CCB_PROPTYPE_FONTTTF=19,CCB_PROPTYPE_INTEGERLABELED=
20,CCB_PROPTYPE_BLOCK=21,CCB_PROPTYPE_ANIMATION=22,CCB_PROPTYPE_CCBFILE=23,CCB_PROPTYPE_STRING=24,CCB_PROPTYPE_BLOCKCCCONTROL=25,CCB_PROPTYPE_FLOATSCALE=26,CCB_PROPTYPE_FLOATXY=27,CCB_FLOAT0=0,CCB_FLOAT1=1,CCB_FLOAT_MINUS1=2,CCB_FLOAT05=3,CCB_FLOAT_INTEGER=4,CCB_FLOAT_FULL=5,CCB_PLATFORM_ALL=0,CCB_PLATFORM_IOS=1,CCB_PLATFORM_MAC=2,CCB_TARGETTYPE_NONE=0,CCB_TARGETTYPE_DOCUMENTROOT=1,CCB_TARGETTYPE_OWNER=2,CCB_KEYFRAME_EASING_INSTANT=0,CCB_KEYFRAME_EASING_LINEAR=1,CCB_KEYFRAME_EASING_CUBIC_IN=2,CCB_KEYFRAME_EASING_CUBIC_OUT=
3,CCB_KEYFRAME_EASING_CUBIC_INOUT=4,CCB_KEYFRAME_EASING_ELASTIC_IN=5,CCB_KEYFRAME_EASING_ELASTIC_OUT=6,CCB_KEYFRAME_EASING_ELASTIC_INOUT=7,CCB_KEYFRAME_EASING_BOUNCE_IN=8,CCB_KEYFRAME_EASING_BOUNCE_OUT=9,CCB_KEYFRAME_EASING_BOUNCE_INOUT=10,CCB_KEYFRAME_EASING_BACK_IN=11,CCB_KEYFRAME_EASING_BACK_OUT=12,CCB_KEYFRAME_EASING_BACK_INOUT=13,CCB_POSITIONTYPE_RELATIVE_BOTTOM_LEFT=0,CCB_POSITIONTYPE_RELATIVE_TOP_LEFT=1,CCB_POSITIONTYPE_RELATIVE_TOP_RIGHT=2,CCB_POSITIONTYPE_RELATIVE_BOTTOM_RIGHT=3,CCB_POSITIONTYPE_PERCENT=
4,CCB_POSITIONTYPE_MULTIPLY_RESOLUTION=5,CCB_SIZETYPE_ABSOLUTE=0,CCB_SIZETYPE_PERCENT=1,CCB_SIZETYPE_RELATIVE_CONTAINER=2,CCB_SIZETYPE_HORIZONTAL_PERCENT=3,CCB_SIZETYPE_VERTICAL_PERCENT=4,CCB_SIZETYPE_MULTIPLY_RESOLUTION=5,CCB_SCALETYPE_ABSOLUTE=0,CCB_SCALETYPE_MULTIPLY_RESOLUTION=1;cc.BuilderFile=cc.Node.extend({_ccbFileNode:null,getCCBFileNode:function(){return this._ccbFileNode},setCCBFileNode:function($node$$){this._ccbFileNode=$node$$}});cc.BuilderFile.create=function $cc$BuilderFile$create$(){return new cc.BuilderFile};
cc.BuilderReader=cc.Class.extend({_jsControlled:!1,_data:null,_ccbRootPath:"",_bytes:0,_currentByte:0,_currentBit:0,_stringCache:null,_loadedSpriteSheets:null,_owner:null,_animationManager:null,_animationManagers:null,_animatedProps:null,_ccNodeLoaderLibrary:null,_ccNodeLoaderListener:null,_ccbMemberVariableAssigner:null,_ccbSelectorResolver:null,_ownerOutletNames:null,_ownerOutletNodes:null,_nodesWithAnimationManagers:null,_animationManagerForNodes:null,_ownerCallbackNames:null,_ownerCallbackNodes:null,
_ownerCallbackEvents:null,_readNodeGraphFromData:!1,ctor:function($ccNodeLoaderLibrary$$,$ccbMemberVariableAssigner$$,$ccbSelectorResolver$$,$ccNodeLoaderListener$$){this._stringCache=[];this._loadedSpriteSheets=[];this._currentByte=this._currentBit=-1;0!=arguments.length&&($ccNodeLoaderLibrary$$ instanceof cc.BuilderReader?(this._loadedSpriteSheets=$ccNodeLoaderLibrary$$._loadedSpriteSheets,this._ccNodeLoaderLibrary=$ccNodeLoaderLibrary$$._ccNodeLoaderLibrary,this._ccbMemberVariableAssigner=$ccNodeLoaderLibrary$$._ccbMemberVariableAssigner,
this._ccbSelectorResolver=$ccNodeLoaderLibrary$$._ccbSelectorResolver,this._ccNodeLoaderListener=$ccNodeLoaderLibrary$$._ccNodeLoaderListener,this._ownerCallbackNames=$ccNodeLoaderLibrary$$._ownerCallbackNames,this._ownerCallbackNodes=$ccNodeLoaderLibrary$$._ownerCallbackNodes,this._ownerCallbackEvents=$ccNodeLoaderLibrary$$._ownerCallbackEvents,this._ownerOutletNames=$ccNodeLoaderLibrary$$._ownerOutletNames,this._ownerOutletNodes=$ccNodeLoaderLibrary$$._ownerOutletNodes,this._ccbRootPath=$ccNodeLoaderLibrary$$._ccbRootPath):
(this._ccNodeLoaderLibrary=$ccNodeLoaderLibrary$$,this._ccbMemberVariableAssigner=$ccbMemberVariableAssigner$$,this._ccbSelectorResolver=$ccbSelectorResolver$$,this._ccNodeLoaderListener=$ccNodeLoaderListener$$))},getCCBRootPath:function(){return this._ccbRootPath},setCCBRootPath:function($rootPath$$){this._ccbRootPath=$rootPath$$},initWithData:function($data$$,$owner$$){this._animationManager=new cc.BuilderAnimationManager;this._data=$data$$;this._bytes=$data$$.length;this._currentByte=this._currentBit=
0;this._owner=$owner$$;this._animationManager.setRootContainerSize(cc.director.getWinSize());return!0},_loadBinarySync:function($url$$){var $fileContents$$2_req$$=this.getXMLHttpRequest(),$errInfo$$="load "+$url$$+" failed!";$fileContents$$2_req$$.open("GET",$url$$,!1);var $arrayInfo$$=null;if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){$fileContents$$2_req$$.setRequestHeader("Accept-Charset","x-user-defined");$fileContents$$2_req$$.send(null);if(200!=$fileContents$$2_req$$.status)return cc.log($errInfo$$),
null;if($fileContents$$2_req$$=cc._convertResponseBodyToText($fileContents$$2_req$$.responseBody))$arrayInfo$$=this._stringConvertToArray($fileContents$$2_req$$),this._fileDataCache[$url$$]=$arrayInfo$$}else{$fileContents$$2_req$$.overrideMimeType&&$fileContents$$2_req$$.overrideMimeType("text/plain; charset=x-user-defined");$fileContents$$2_req$$.send(null);if(200!=$fileContents$$2_req$$.status)return cc.log($errInfo$$),null;$arrayInfo$$=this._stringConvertToArray($fileContents$$2_req$$.responseText);
this._fileDataCache[$url$$]=$arrayInfo$$}return $arrayInfo$$},readNodeGraphFromFile:function($ccbFileName$$,$owner$$,$parentSize$$,$animationManager$$){null==$parentSize$$?$parentSize$$=cc.director.getWinSize():$parentSize$$ instanceof cc.BuilderAnimationManager&&($animationManager$$=$parentSize$$,$parentSize$$=cc.director.getWinSize());var $data$$54_realUrl$$=cc.loader.getRes($ccbFileName$$);$data$$54_realUrl$$||($data$$54_realUrl$$=cc.loader.getUrl($ccbFileName$$),$data$$54_realUrl$$=cc.loader.loadBinarySync($data$$54_realUrl$$),
cc.loader.cache[$ccbFileName$$]=$data$$54_realUrl$$);return this.readNodeGraphFromData($data$$54_realUrl$$,$owner$$,$parentSize$$,$animationManager$$)},readNodeGraphFromData:function($data$$,$nodeGraph_owner$$,$locNodes_parentSize$$){this.initWithData($data$$,$nodeGraph_owner$$);$data$$=this._animationManager;$data$$.setRootContainerSize($locNodes_parentSize$$);$data$$.setOwner($nodeGraph_owner$$);this._ownerOutletNames=[];this._ownerOutletNodes=[];this._ownerCallbackNames=[];this._ownerCallbackNodes=
[];this._ownerCallbackEvents=[];this._animationManagers=new cc._Dictionary;($nodeGraph_owner$$=this.readFileWithCleanUp(!0))&&-1!=$data$$.getAutoPlaySequenceId()&&$data$$.runAnimations($data$$.getAutoPlaySequenceId(),0);if(this._jsControlled){$locNodes_parentSize$$=[];$data$$=[];for(var $locAnimationManagers$$=this._animationManagers,$getAllKeys$$=$locAnimationManagers$$.allKeys(),$i$$=0;$i$$<$getAllKeys$$.length;$i$$++)$locNodes_parentSize$$.push($getAllKeys$$[$i$$]),$data$$.push($locAnimationManagers$$.objectForKey($getAllKeys$$[$i$$]));
this._nodesWithAnimationManagers=$locNodes_parentSize$$;this._animationManagerForNodes=$data$$}return $nodeGraph_owner$$},createSceneWithNodeGraphFromFile:function($ccbFileName$$2_node$$,$owner$$3_scene$$,$parentSize$$,$animationManager$$){$ccbFileName$$2_node$$=this.readNodeGraphFromFile($ccbFileName$$2_node$$,$owner$$3_scene$$,$parentSize$$,$animationManager$$);$owner$$3_scene$$=new cc.Scene;$owner$$3_scene$$.addChild($ccbFileName$$2_node$$);return $owner$$3_scene$$},getCCBMemberVariableAssigner:function(){return this._ccbMemberVariableAssigner},
getCCBSelectorResolver:function(){return this._ccbSelectorResolver},getAnimationManager:function(){return this._animationManager},setAnimationManager:function($animationManager$$){this._animationManager=$animationManager$$},getAnimatedProperties:function(){return this._animatedProps},getLoadedSpriteSheet:function(){return this._loadedSpriteSheets},getOwner:function(){return this._owner},readInt:function($num$$6_signed$$){for(var $numBits$$=0;!this._getBit();)$numBits$$++;for(var $current$$=0,$a$$=
$numBits$$-1;0<=$a$$;$a$$--)this._getBit()&&($current$$|=1<<$a$$);$current$$|=1<<$numBits$$;$num$$6_signed$$=$num$$6_signed$$?$current$$%2?0|$current$$/2:0|-$current$$/2:$current$$-1;this._alignBits();return $num$$6_signed$$},readByte:function(){var $byteValue$$=this._data[this._currentByte];this._currentByte++;return $byteValue$$},readBool:function(){return 0!=this.readByte()},readFloat:function(){switch(this.readByte()){case CCB_FLOAT0:return 0;case CCB_FLOAT1:return 1;case CCB_FLOAT_MINUS1:return-1;
case CCB_FLOAT05:return.5;case CCB_FLOAT_INTEGER:return this.readInt(!0);default:return this._decodeFloat(23,8)}},_decodeFloat:function($precisionBits$$,$exponentBits$$){var $bias$$1_length$$=$precisionBits$$+$exponentBits$$+1,$size$$=$bias$$1_length$$>>3;this._checkSize($bias$$1_length$$);var $bias$$1_length$$=Math.pow(2,$exponentBits$$-1)-1,$signal$$=this._readBitsOnly($precisionBits$$+$exponentBits$$,1,$size$$),$exponent$$=this._readBitsOnly($precisionBits$$,$exponentBits$$,$size$$),$significand$$=
0,$divisor$$=2,$curByte$$=0;do for(var $byteValue$$=this._readByteOnly(++$curByte$$,$size$$),$startBit$$=$precisionBits$$%8||8,$mask$$=1<<$startBit$$;$mask$$>>=1;)$byteValue$$&$mask$$&&($significand$$+=1/$divisor$$),$divisor$$*=2;while($precisionBits$$-=$startBit$$);this._currentByte+=$size$$;return $exponent$$==($bias$$1_length$$<<1)+1?$significand$$?NaN:$signal$$?-Infinity:Infinity:(1+-2*$signal$$)*($exponent$$||$significand$$?$exponent$$?Math.pow(2,$exponent$$-$bias$$1_length$$)*(1+$significand$$):
Math.pow(2,-$bias$$1_length$$+1)*$significand$$:0)},_readBitsOnly:function($lastByte$$1_start$$,$length$$26_sum$$,$size$$){var $offsetLeft$$=($lastByte$$1_start$$+$length$$26_sum$$)%8,$offsetRight$$=$lastByte$$1_start$$%8,$curByte$$=$size$$-($lastByte$$1_start$$>>3)-1;$lastByte$$1_start$$=$size$$+(-($lastByte$$1_start$$+$length$$26_sum$$)>>3);var $diff$$=$curByte$$-$lastByte$$1_start$$;$length$$26_sum$$=this._readByteOnly($curByte$$,$size$$)>>$offsetRight$$&(1<<($diff$$?8-$offsetRight$$:$length$$26_sum$$))-
1;for($diff$$&&$offsetLeft$$&&($length$$26_sum$$+=(this._readByteOnly($lastByte$$1_start$$++,$size$$)&(1<<$offsetLeft$$)-1)<<($diff$$--<<3)-$offsetRight$$);$diff$$;)$length$$26_sum$$+=this._shl(this._readByteOnly($lastByte$$1_start$$++,$size$$),($diff$$--<<3)-$offsetRight$$);return $length$$26_sum$$},_readByteOnly:function($i$$,$size$$){return this._data[this._currentByte+$size$$-$i$$-1]},_shl:function($a$$,$b$$){for(++$b$$;--$b$$;$a$$=1073741824==(($a$$%=2147483648)&1073741824)?2*$a$$:2*($a$$-1073741824)+
2147483648);return $a$$},_checkSize:function($neededBits$$){if(!(this._currentByte+Math.ceil($neededBits$$/8)<this._data.length))throw Error("Index out of bound");},readCachedString:function(){return this._stringCache[this.readInt(!1)]},isJSControlled:function(){return this._jsControlled},getOwnerCallbackNames:function(){return this._ownerCallbackNames},getOwnerCallbackNodes:function(){return this._ownerCallbackNodes},getOwnerCallbackControlEvents:function(){return this._ownerCallbackEvents},getOwnerOutletNames:function(){return this._ownerOutletNames},
getOwnerOutletNodes:function(){return this._ownerOutletNodes},getNodesWithAnimationManagers:function(){return this._nodesWithAnimationManagers},getAnimationManagersForNodes:function(){return this._animationManagerForNodes},getAnimationManagers:function(){return this._animationManagers},setAnimationManagers:function($animationManagers$$){this._animationManagers=$animationManagers$$},addOwnerCallbackName:function($name$$){this._ownerCallbackNames.push($name$$)},addOwnerCallbackNode:function($node$$){this._ownerCallbackNodes.push($node$$)},
addOwnerCallbackControlEvents:function($event$$){this._ownerCallbackEvents.push($event$$)},addDocumentCallbackName:function($name$$){this._animationManager.addDocumentCallbackName($name$$)},addDocumentCallbackNode:function($node$$){this._animationManager.addDocumentCallbackNode($node$$)},addDocumentCallbackControlEvents:function($controlEvents$$){this._animationManager.addDocumentCallbackControlEvents($controlEvents$$)},readFileWithCleanUp:function($cleanUp$$){if(!this._readHeader()||!this._readStringCache()||
!this._readSequences())return null;var $node$$=this._readNodeGraph();this._animationManagers.setObject(this._animationManager,$node$$);$cleanUp$$&&this._cleanUpNodeGraph($node$$);return $node$$},addOwnerOutletName:function($name$$){this._ownerOutletNames.push($name$$)},addOwnerOutletNode:function($node$$){null!=$node$$&&this._ownerOutletNodes.push($node$$)},_cleanUpNodeGraph:function($getChildren_node$$){$getChildren_node$$.userObject=null;$getChildren_node$$=$getChildren_node$$.getChildren();for(var $i$$=
0,$len$$=$getChildren_node$$.length;$i$$<$len$$;$i$$++)this._cleanUpNodeGraph($getChildren_node$$[$i$$])},_readCallbackKeyframesForSeq:function($seq$$){var $numKeyframes$$=this.readInt(!1);if(!$numKeyframes$$)return!0;for(var $channel$$=new cc.BuilderSequenceProperty,$locJsControlled$$=this._jsControlled,$locAnimationManager$$=this._animationManager,$locKeyframes$$=$channel$$.getKeyframes(),$i$$=0;$i$$<$numKeyframes$$;$i$$++){var $time$$=this.readFloat(),$callbackName$$=this.readCachedString(),$callbackType$$=
this.readInt(!1),$value$$=[$callbackName$$,$callbackType$$],$keyframe$$=new cc.BuilderKeyframe;$keyframe$$.setTime($time$$);$keyframe$$.setValue($value$$);$locJsControlled$$&&$locAnimationManager$$.getKeyframeCallbacks().push($callbackType$$+":"+$callbackName$$);$locKeyframes$$.push($keyframe$$)}$seq$$.setCallbackChannel($channel$$);return!0},_readSoundKeyframesForSeq:function($seq$$){var $numKeyframes$$=this.readInt(!1);if(!$numKeyframes$$)return!0;for(var $channel$$=new cc.BuilderSequenceProperty,
$locKeyframes$$=$channel$$.getKeyframes(),$i$$=0;$i$$<$numKeyframes$$;$i$$++){var $time$$=this.readFloat(),$soundFile_value$$=this.readCachedString(),$keyframe$$1_pitch$$=this.readFloat(),$pan$$=this.readFloat(),$gain$$=this.readFloat(),$soundFile_value$$=[$soundFile_value$$,$keyframe$$1_pitch$$,$pan$$,$gain$$],$keyframe$$1_pitch$$=new cc.BuilderKeyframe;$keyframe$$1_pitch$$.setTime($time$$);$keyframe$$1_pitch$$.setValue($soundFile_value$$);$locKeyframes$$.push($keyframe$$1_pitch$$)}$seq$$.setSoundChannel($channel$$);
return!0},_readSequences:function(){for(var $sequences$$=this._animationManager.getSequences(),$numSeqs$$=this.readInt(!1),$i$$=0;$i$$<$numSeqs$$;$i$$++){var $seq$$=new cc.BuilderSequence;$seq$$.setDuration(this.readFloat());$seq$$.setName(this.readCachedString());$seq$$.setSequenceId(this.readInt(!1));$seq$$.setChainedSequenceId(this.readInt(!0));if(!this._readCallbackKeyframesForSeq($seq$$)||!this._readSoundKeyframesForSeq($seq$$))return!1;$sequences$$.push($seq$$)}this._animationManager.setAutoPlaySequenceId(this.readInt(!0));
return!0},readKeyframe:function($c$$67_spriteSheet$$2_texture$$73_type$$){var $keyframe$$=new cc.BuilderKeyframe;$keyframe$$.setTime(this.readFloat());var $bounds$$1_easingType_locContentSize$$7_spriteFile$$=this.readInt(!1),$easingOpt_frameCache$$=0,$value$$=null;if($bounds$$1_easingType_locContentSize$$7_spriteFile$$===CCB_KEYFRAME_EASING_CUBIC_IN||$bounds$$1_easingType_locContentSize$$7_spriteFile$$===CCB_KEYFRAME_EASING_CUBIC_OUT||$bounds$$1_easingType_locContentSize$$7_spriteFile$$===CCB_KEYFRAME_EASING_CUBIC_INOUT||
$bounds$$1_easingType_locContentSize$$7_spriteFile$$===CCB_KEYFRAME_EASING_ELASTIC_IN||$bounds$$1_easingType_locContentSize$$7_spriteFile$$===CCB_KEYFRAME_EASING_ELASTIC_OUT||$bounds$$1_easingType_locContentSize$$7_spriteFile$$===CCB_KEYFRAME_EASING_ELASTIC_INOUT)$easingOpt_frameCache$$=this.readFloat();$keyframe$$.setEasingType($bounds$$1_easingType_locContentSize$$7_spriteFile$$);$keyframe$$.setEasingOpt($easingOpt_frameCache$$);$c$$67_spriteSheet$$2_texture$$73_type$$==CCB_PROPTYPE_CHECK?$value$$=
this.readBool():$c$$67_spriteSheet$$2_texture$$73_type$$==CCB_PROPTYPE_BYTE?$value$$=this.readByte():$c$$67_spriteSheet$$2_texture$$73_type$$==CCB_PROPTYPE_COLOR3?($c$$67_spriteSheet$$2_texture$$73_type$$=cc.color(this.readByte(),this.readByte(),this.readByte()),$value$$=cc.Color3BWapper.create($c$$67_spriteSheet$$2_texture$$73_type$$)):$c$$67_spriteSheet$$2_texture$$73_type$$==CCB_PROPTYPE_FLOATXY?$value$$=[this.readFloat(),this.readFloat()]:$c$$67_spriteSheet$$2_texture$$73_type$$==CCB_PROPTYPE_DEGREES?
$value$$=this.readFloat():$c$$67_spriteSheet$$2_texture$$73_type$$==CCB_PROPTYPE_SCALELOCK||$c$$67_spriteSheet$$2_texture$$73_type$$==CCB_PROPTYPE_POSITION||$c$$67_spriteSheet$$2_texture$$73_type$$==CCB_PROPTYPE_FLOATXY?$value$$=[this.readFloat(),this.readFloat()]:$c$$67_spriteSheet$$2_texture$$73_type$$==CCB_PROPTYPE_SPRITEFRAME&&($c$$67_spriteSheet$$2_texture$$73_type$$=this.readCachedString(),$bounds$$1_easingType_locContentSize$$7_spriteFile$$=this.readCachedString(),""==$c$$67_spriteSheet$$2_texture$$73_type$$?
($bounds$$1_easingType_locContentSize$$7_spriteFile$$=this._ccbRootPath+$bounds$$1_easingType_locContentSize$$7_spriteFile$$,$c$$67_spriteSheet$$2_texture$$73_type$$=cc.textureCache.addImage($bounds$$1_easingType_locContentSize$$7_spriteFile$$),$bounds$$1_easingType_locContentSize$$7_spriteFile$$=$c$$67_spriteSheet$$2_texture$$73_type$$.getContentSize(),$bounds$$1_easingType_locContentSize$$7_spriteFile$$=cc.rect(0,0,$bounds$$1_easingType_locContentSize$$7_spriteFile$$.width,$bounds$$1_easingType_locContentSize$$7_spriteFile$$.height),
$value$$=new cc.SpriteFrame($c$$67_spriteSheet$$2_texture$$73_type$$,$bounds$$1_easingType_locContentSize$$7_spriteFile$$)):($c$$67_spriteSheet$$2_texture$$73_type$$=this._ccbRootPath+$c$$67_spriteSheet$$2_texture$$73_type$$,$easingOpt_frameCache$$=cc.spriteFrameCache,-1==this._loadedSpriteSheets.indexOf($c$$67_spriteSheet$$2_texture$$73_type$$)&&($easingOpt_frameCache$$.addSpriteFrames($c$$67_spriteSheet$$2_texture$$73_type$$),this._loadedSpriteSheets.push($c$$67_spriteSheet$$2_texture$$73_type$$)),
$value$$=$easingOpt_frameCache$$.getSpriteFrame($bounds$$1_easingType_locContentSize$$7_spriteFile$$)));$keyframe$$.setValue($value$$);return $keyframe$$},_readHeader:function(){if(null==this._data)return!1;var $magicBytes_version$$=this._readStringFromBytes(this._currentByte,4,!0);this._currentByte+=4;if("ccbi"!=$magicBytes_version$$)return!1;$magicBytes_version$$=this.readInt(!1);if($magicBytes_version$$!=CCB_VERSION)return cc.log("WARNING! Incompatible ccbi file version (file: "+$magicBytes_version$$+
" reader: "+CCB_VERSION+")"),!1;this._jsControlled=this.readBool();this._animationManager._jsControlled=this._jsControlled;return!0},_readStringFromBytes:function($startIndex$$2_strValue$$,$strLen$$,$i$$368_reverse$$){$startIndex$$2_strValue$$="";var $locData$$=this._data,$locCurrentByte$$=this._currentByte;if($i$$368_reverse$$)for($i$$368_reverse$$=$strLen$$-1;0<=$i$$368_reverse$$;$i$$368_reverse$$--)$startIndex$$2_strValue$$+=String.fromCharCode($locData$$[$locCurrentByte$$+$i$$368_reverse$$]);
else for($i$$368_reverse$$=0;$i$$368_reverse$$<$strLen$$;$i$$368_reverse$$++)$startIndex$$2_strValue$$+=String.fromCharCode($locData$$[$locCurrentByte$$+$i$$368_reverse$$]);return $startIndex$$2_strValue$$},_readStringCache:function(){for(var $numStrings$$=this.readInt(!1),$i$$=0;$i$$<$numStrings$$;$i$$++)this._readStringCacheEntry();return!0},_readStringCacheEntry:function(){for(var $b0_numBytes$$=this.readByte(),$b1$$3_str$$=this.readByte(),$b0_numBytes$$=$b0_numBytes$$<<8|$b1$$3_str$$,$b1$$3_str$$=
"",$locData$$=this._data,$locCurrentByte$$=this._currentByte,$i$$=0;$i$$<$b0_numBytes$$;$i$$++)var $hexChar$$=$locData$$[$locCurrentByte$$+$i$$].toString("16").toUpperCase(),$hexChar$$=1<$hexChar$$.length?$hexChar$$:"0"+$hexChar$$,$b1$$3_str$$=$b1$$3_str$$+("%"+$hexChar$$);$b1$$3_str$$=decodeURIComponent($b1$$3_str$$);this._currentByte+=$b0_numBytes$$;this._stringCache.push($b1$$3_str$$)},_readNodeGraph:function($isCCBFileNode_parent$$){var $ccNodeLoader$$1_className$$=this.readCachedString(),$assigned_embeddedNode_i$$,
$customProperties_locJsControlled$$=this._jsControlled,$customPropKeys_locActionManager$$=this._animationManager;$customProperties_locJsControlled$$&&($assigned_embeddedNode_i$$=this.readCachedString());var $customPropValue_memberVarAssignmentType$$=this.readInt(!1),$child$$;$customPropValue_memberVarAssignmentType$$!=CCB_TARGETTYPE_NONE&&($child$$=this.readCachedString());($ccNodeLoader$$1_className$$=this._ccNodeLoaderLibrary.getCCNodeLoader($ccNodeLoader$$1_className$$))||($ccNodeLoader$$1_className$$=
this._ccNodeLoaderLibrary.getCCNodeLoader("CCNode"));var $node$$=$ccNodeLoader$$1_className$$.loadCCNode($isCCBFileNode_parent$$,this);$customPropKeys_locActionManager$$.getRootNode()||$customPropKeys_locActionManager$$.setRootNode($node$$);$customProperties_locJsControlled$$&&$node$$==$customPropKeys_locActionManager$$.getRootNode()&&$customPropKeys_locActionManager$$.setDocumentControllerName($assigned_embeddedNode_i$$);var $seqs_target$$=new cc._Dictionary,$locAnimatedProps_locMemberAssigner$$=
this._animatedProps=[],$numSequence$$=this.readInt(!1);for($assigned_embeddedNode_i$$=0;$assigned_embeddedNode_i$$<$numSequence$$;++$assigned_embeddedNode_i$$){for(var $seqId$$=this.readInt(!1),$seqNodeProps$$=new cc._Dictionary,$numProps$$=this.readInt(!1),$j$$=0;$j$$<$numProps$$;++$j$$){var $seqProp$$=new cc.BuilderSequenceProperty;$seqProp$$.setName(this.readCachedString());$seqProp$$.setType(this.readInt(!1));$locAnimatedProps_locMemberAssigner$$.push($seqProp$$.getName());for(var $numKeyframes$$=
this.readInt(!1),$locKeyframes$$=$seqProp$$.getKeyframes(),$k$$=0;$k$$<$numKeyframes$$;++$k$$){var $keyFrame$$=this.readKeyframe($seqProp$$.getType());$locKeyframes$$.push($keyFrame$$)}$seqNodeProps$$.setObject($seqProp$$,$seqProp$$.getName())}$seqs_target$$.setObject($seqNodeProps$$,$seqId$$)}0<$seqs_target$$.count()&&$customPropKeys_locActionManager$$.addNode($node$$,$seqs_target$$);$ccNodeLoader$$1_className$$.parseProperties($node$$,$isCCBFileNode_parent$$,this);if($isCCBFileNode_parent$$=$node$$ instanceof
cc.BuilderFile)$assigned_embeddedNode_i$$=$node$$.getCCBFileNode(),$assigned_embeddedNode_i$$.setPosition($node$$.getPosition()),$assigned_embeddedNode_i$$.setRotation($node$$.getRotation()),$assigned_embeddedNode_i$$.setScaleX($node$$.getScaleX()),$assigned_embeddedNode_i$$.setScaleY($node$$.getScaleY()),$assigned_embeddedNode_i$$.setTag($node$$.getTag()),$assigned_embeddedNode_i$$.setVisible(!0),$customPropKeys_locActionManager$$.moveAnimationsFromNode($node$$,$assigned_embeddedNode_i$$),$node$$.setCCBFileNode(null),
$node$$=$assigned_embeddedNode_i$$;$locAnimatedProps_locMemberAssigner$$=$seqs_target$$=null;if($customPropValue_memberVarAssignmentType$$!=CCB_TARGETTYPE_NONE)if($customProperties_locJsControlled$$)$customPropValue_memberVarAssignmentType$$==CCB_TARGETTYPE_DOCUMENTROOT?($customPropKeys_locActionManager$$.addDocumentOutletName($child$$),$customPropKeys_locActionManager$$.addDocumentOutletNode($node$$)):(this._ownerOutletNames.push($child$$),this._ownerOutletNodes.push($node$$));else if($customPropValue_memberVarAssignmentType$$===
CCB_TARGETTYPE_DOCUMENTROOT?$seqs_target$$=$customPropKeys_locActionManager$$.getRootNode():$customPropValue_memberVarAssignmentType$$===CCB_TARGETTYPE_OWNER&&($seqs_target$$=this._owner),null!=$seqs_target$$&&($assigned_embeddedNode_i$$=!1,null!=$seqs_target$$&&$seqs_target$$.onAssignCCBMemberVariable&&($assigned_embeddedNode_i$$=$seqs_target$$.onAssignCCBMemberVariable($seqs_target$$,$child$$,$node$$)),$locAnimatedProps_locMemberAssigner$$=this._ccbMemberVariableAssigner,!$assigned_embeddedNode_i$$&&
null!=$locAnimatedProps_locMemberAssigner$$&&$locAnimatedProps_locMemberAssigner$$.onAssignCCBMemberVariable))$locAnimatedProps_locMemberAssigner$$.onAssignCCBMemberVariable($seqs_target$$,$child$$,$node$$);if(0<$ccNodeLoader$$1_className$$.getCustomProperties().length&&($child$$=!1,!$customProperties_locJsControlled$$&&($seqs_target$$=$node$$,null!=$seqs_target$$&&null!=$seqs_target$$.onAssignCCBCustomProperty)))for($customProperties_locJsControlled$$=$ccNodeLoader$$1_className$$.getCustomProperties(),
$customPropKeys_locActionManager$$=$customProperties_locJsControlled$$.allKeys(),$assigned_embeddedNode_i$$=0;$assigned_embeddedNode_i$$<$customPropKeys_locActionManager$$.length;$assigned_embeddedNode_i$$++)if($customPropValue_memberVarAssignmentType$$=$customProperties_locJsControlled$$.objectForKey($customPropKeys_locActionManager$$[$assigned_embeddedNode_i$$]),$child$$=$seqs_target$$.onAssignCCBCustomProperty($seqs_target$$,$customPropKeys_locActionManager$$[$assigned_embeddedNode_i$$],$customPropValue_memberVarAssignmentType$$),
$locAnimatedProps_locMemberAssigner$$=this._ccbMemberVariableAssigner,!$child$$&&null!=$locAnimatedProps_locMemberAssigner$$&&null!=$locAnimatedProps_locMemberAssigner$$.onAssignCCBCustomProperty)$locAnimatedProps_locMemberAssigner$$.onAssignCCBCustomProperty($seqs_target$$,$customPropKeys_locActionManager$$[$assigned_embeddedNode_i$$],$customPropValue_memberVarAssignmentType$$);this._animatedProps=null;$customProperties_locJsControlled$$=this.readInt(!1);for($assigned_embeddedNode_i$$=0;$assigned_embeddedNode_i$$<
$customProperties_locJsControlled$$;$assigned_embeddedNode_i$$++)$child$$=this._readNodeGraph($node$$),$node$$.addChild($child$$);if(!$isCCBFileNode_parent$$)if(null!=$node$$&&$node$$.onNodeLoaded)$node$$.onNodeLoaded($node$$,$ccNodeLoader$$1_className$$);else if(null!=this._ccNodeLoaderListener)this._ccNodeLoaderListener.onNodeLoaded($node$$,$ccNodeLoader$$1_className$$);return $node$$},_getBit:function(){var $bit$$=0!=(this._data[this._currentByte]&1<<this._currentBit);this._currentBit++;if(8<=
this._currentBit&&(this._currentBit=0,this._currentByte++,this._currentByte>this._data.length))throw"out of the data bound";return $bit$$},_alignBits:function(){this._currentBit&&(this._currentBit=0,this._currentByte++)},_readUTF8:function(){}});cc.BuilderReader._ccbResolutionScale=1;cc.BuilderReader.setResolutionScale=function $cc$BuilderReader$setResolutionScale$($scale$$){cc.BuilderReader._ccbResolutionScale=$scale$$};cc.BuilderReader.getResolutionScale=function $cc$BuilderReader$getResolutionScale$(){return cc.BuilderReader._ccbResolutionScale};
cc.BuilderReader.loadAsScene=function $cc$BuilderReader$loadAsScene$($ccbFilePath_getNode$$,$owner$$4_scene$$,$parentSize$$,$ccbRootPath$$){$ccbRootPath$$=$ccbRootPath$$||cc.BuilderReader.getResourcePath();$ccbFilePath_getNode$$=cc.BuilderReader.load($ccbFilePath_getNode$$,$owner$$4_scene$$,$parentSize$$,$ccbRootPath$$);$owner$$4_scene$$=new cc.Scene;$owner$$4_scene$$.addChild($ccbFilePath_getNode$$);return $owner$$4_scene$$};cc.BuilderReader._controllerClassCache={};
cc.BuilderReader.registerController=function $cc$BuilderReader$registerController$($controllerName$$,$controller$$){cc.BuilderReader._controllerClassCache[$controllerName$$]=cc.Class.extend($controller$$)};
cc.BuilderReader.load=function $cc$BuilderReader$load$($ccbFilePath$$1_node$$,$owner$$,$i$$372_parentSize$$,$ccbRootPath$$){$ccbRootPath$$=$ccbRootPath$$||cc.BuilderReader.getResourcePath();var $animationManagersForNodes_reader$$=new cc.BuilderReader(cc.NodeLoaderLibrary.newDefaultCCNodeLoaderLibrary());$animationManagersForNodes_reader$$.setCCBRootPath($ccbRootPath$$);if(5>$ccbFilePath$$1_node$$.length||$ccbFilePath$$1_node$$.toLowerCase().lastIndexOf(".ccbi")!=$ccbFilePath$$1_node$$.length-5)$ccbFilePath$$1_node$$+=
".ccbi";$ccbFilePath$$1_node$$=$animationManagersForNodes_reader$$.readNodeGraphFromFile($ccbFilePath$$1_node$$,$owner$$,$i$$372_parentSize$$);var $callbackName$$1_controllerName$$,$callbackNode_callbackType$$,$callbackControlEvents_callbackSplit_documentOutletNames_kfCallbackName$$;if($owner$$){$ccbRootPath$$=$animationManagersForNodes_reader$$.getOwnerCallbackNames();var $controllerClassCache_ownerCallbackNodes_ownerOutletNodes$$=$animationManagersForNodes_reader$$.getOwnerCallbackNodes(),$animationManager$$=
$animationManagersForNodes_reader$$.getOwnerCallbackControlEvents();for($i$$372_parentSize$$=0;$i$$372_parentSize$$<$ccbRootPath$$.length;$i$$372_parentSize$$++)$callbackName$$1_controllerName$$=$ccbRootPath$$[$i$$372_parentSize$$],$callbackNode_callbackType$$=$controllerClassCache_ownerCallbackNodes_ownerOutletNodes$$[$i$$372_parentSize$$],$callbackControlEvents_callbackSplit_documentOutletNames_kfCallbackName$$=$animationManager$$[$i$$372_parentSize$$],$callbackNode_callbackType$$ instanceof cc.ControlButton?
$callbackNode_callbackType$$.addTargetWithActionForControlEvents($owner$$,$owner$$[$callbackName$$1_controllerName$$],$callbackControlEvents_callbackSplit_documentOutletNames_kfCallbackName$$):$callbackNode_callbackType$$.setCallback($owner$$[$callbackName$$1_controllerName$$],$owner$$);$ccbRootPath$$=$animationManagersForNodes_reader$$.getOwnerOutletNames();$controllerClassCache_ownerCallbackNodes_ownerOutletNodes$$=$animationManagersForNodes_reader$$.getOwnerOutletNodes();for($i$$372_parentSize$$=
0;$i$$372_parentSize$$<$ccbRootPath$$.length;$i$$372_parentSize$$++)$callbackName$$1_controllerName$$=$ccbRootPath$$[$i$$372_parentSize$$],$callbackNode_callbackType$$=$controllerClassCache_ownerCallbackNodes_ownerOutletNodes$$[$i$$372_parentSize$$],$owner$$[$callbackName$$1_controllerName$$]=$callbackNode_callbackType$$}$ccbRootPath$$=$animationManagersForNodes_reader$$.getNodesWithAnimationManagers();$animationManagersForNodes_reader$$=$animationManagersForNodes_reader$$.getAnimationManagersForNodes();
if(!$ccbRootPath$$||!$animationManagersForNodes_reader$$)return $ccbFilePath$$1_node$$;$controllerClassCache_ownerCallbackNodes_ownerOutletNodes$$=cc.BuilderReader._controllerClassCache;for($i$$372_parentSize$$=0;$i$$372_parentSize$$<$ccbRootPath$$.length;$i$$372_parentSize$$++){var $innerNode_j$$=$ccbRootPath$$[$i$$372_parentSize$$],$animationManager$$=$animationManagersForNodes_reader$$[$i$$372_parentSize$$];$innerNode_j$$.animationManager=$animationManager$$;if($callbackName$$1_controllerName$$=
$animationManager$$.getDocumentControllerName()){var $controller$$=$controllerClassCache_ownerCallbackNodes_ownerOutletNodes$$[$callbackName$$1_controllerName$$];if(!$controller$$)throw"Can not find controller : "+$callbackName$$1_controllerName$$;$controller$$=new $controller$$;$controller$$.controllerName=$callbackName$$1_controllerName$$;$innerNode_j$$.controller=$controller$$;$controller$$.rootNode=$innerNode_j$$;for(var $documentCallbackNames_documentOutletNodes$$=$animationManager$$.getDocumentCallbackNames(),
$documentCallbackNodes$$=$animationManager$$.getDocumentCallbackNodes(),$documentCallbackControlEvents$$=$animationManager$$.getDocumentCallbackControlEvents(),$innerNode_j$$=0;$innerNode_j$$<$documentCallbackNames_documentOutletNodes$$.length;$innerNode_j$$++)$callbackName$$1_controllerName$$=$documentCallbackNames_documentOutletNodes$$[$innerNode_j$$],$callbackNode_callbackType$$=$documentCallbackNodes$$[$innerNode_j$$],$callbackControlEvents_callbackSplit_documentOutletNames_kfCallbackName$$=$documentCallbackControlEvents$$[$innerNode_j$$],
$callbackNode_callbackType$$ instanceof cc.ControlButton?$callbackNode_callbackType$$.addTargetWithActionForControlEvents($controller$$,$controller$$[$callbackName$$1_controllerName$$],$callbackControlEvents_callbackSplit_documentOutletNames_kfCallbackName$$):$callbackNode_callbackType$$.setCallback($controller$$[$callbackName$$1_controllerName$$],$controller$$);$callbackControlEvents_callbackSplit_documentOutletNames_kfCallbackName$$=$animationManager$$.getDocumentOutletNames();$documentCallbackNames_documentOutletNodes$$=
$animationManager$$.getDocumentOutletNodes();for($innerNode_j$$=0;$innerNode_j$$<$callbackControlEvents_callbackSplit_documentOutletNames_kfCallbackName$$.length;$innerNode_j$$++)$callbackName$$1_controllerName$$=$callbackControlEvents_callbackSplit_documentOutletNames_kfCallbackName$$[$innerNode_j$$],$callbackNode_callbackType$$=$documentCallbackNames_documentOutletNodes$$[$innerNode_j$$],$controller$$[$callbackName$$1_controllerName$$]=$callbackNode_callbackType$$;if($controller$$.onDidLoadFromCCB&&
cc.isFunction($controller$$.onDidLoadFromCCB))$controller$$.onDidLoadFromCCB();$callbackName$$1_controllerName$$=$animationManager$$.getKeyframeCallbacks();for($innerNode_j$$=0;$innerNode_j$$<$callbackName$$1_controllerName$$.length;$innerNode_j$$++)$callbackControlEvents_callbackSplit_documentOutletNames_kfCallbackName$$=$callbackName$$1_controllerName$$[$innerNode_j$$].split(":"),$callbackNode_callbackType$$=$callbackControlEvents_callbackSplit_documentOutletNames_kfCallbackName$$[0],$callbackControlEvents_callbackSplit_documentOutletNames_kfCallbackName$$=
$callbackControlEvents_callbackSplit_documentOutletNames_kfCallbackName$$[1],1==$callbackNode_callbackType$$?$animationManager$$.setCallFunc(cc.callFunc($controller$$[$callbackControlEvents_callbackSplit_documentOutletNames_kfCallbackName$$],$controller$$),$callbackName$$1_controllerName$$[$innerNode_j$$]):2==$callbackNode_callbackType$$&&$owner$$&&$animationManager$$.setCallFunc(cc.callFunc($owner$$[$callbackControlEvents_callbackSplit_documentOutletNames_kfCallbackName$$],$owner$$),$callbackName$$1_controllerName$$[$innerNode_j$$])}}return $ccbFilePath$$1_node$$};
cc.BuilderReader._resourcePath="";cc.BuilderReader.setResourcePath=function $cc$BuilderReader$setResourcePath$($rootPath$$){cc.BuilderReader._resourcePath=$rootPath$$};cc.BuilderReader.getResourcePath=function $cc$BuilderReader$getResourcePath$(){return cc.BuilderReader._resourcePath};
cc.BuilderReader.lastPathComponent=function $cc$BuilderReader$lastPathComponent$($pathStr$$){var $slashPos$$=$pathStr$$.lastIndexOf("/");return-1!=$slashPos$$?$pathStr$$.substring($slashPos$$+1,$pathStr$$.length-$slashPos$$):$pathStr$$};cc.BuilderReader.deletePathExtension=function $cc$BuilderReader$deletePathExtension$($pathStr$$){var $dotPos$$=$pathStr$$.lastIndexOf(".");return-1!=$dotPos$$?$pathStr$$.substring(0,$dotPos$$):$pathStr$$};cc.BuilderReader.toLowerCase=function $cc$BuilderReader$toLowerCase$($sourceStr$$){return $sourceStr$$.toLowerCase()};
cc.BuilderReader.endsWith=function $cc$BuilderReader$endsWith$($sourceStr$$,$ending$$){return $sourceStr$$.length>=$ending$$.length?0==$sourceStr$$.lastIndexOf($ending$$):!1};cc.BuilderReader.concat=function $cc$BuilderReader$concat$($stringA$$,$stringB$$){return $stringA$$+$stringB$$};cc.loader.register(["ccbi"],cc._binaryLoader);cc.INT_VALUE=0;cc.FLOAT_VALUE=1;cc.POINTER_VALUE=2;cc.BOOL_VALUE=3;cc.UNSIGNEDCHAR_VALUE=4;
cc.Color3BWapper=cc.Class.extend({_color:null,ctor:function(){this._color=cc.color(0,0,0)},getColor:function(){return this._color}});cc.Color3BWapper.create=function $cc$Color3BWapper$create$($color$$){var $ret$$=new cc.Color3BWapper;$ret$$&&($ret$$._color.r=$color$$.r,$ret$$._color.g=$color$$.g,$ret$$._color.b=$color$$.b);return $ret$$};
cc.BuilderValue=cc.Class.extend({_value:null,_type:0,getIntValue:function(){},getFloatValue:function(){},getBoolValue:function(){},getByteValue:function(){},getPointer:function(){},getValue:function(){return this._value}});cc.BuilderValue.create=function $cc$BuilderValue$create$($value$$){return new cc.BuilderValue};
cc.BuilderKeyframe=cc.Class.extend({_value:null,_time:0,_easingType:0,_easingOpt:0,getValue:function(){return this._value},setValue:function($value$$){this._value=$value$$},getTime:function(){return this._time},setTime:function($time$$){this._time=$time$$},getEasingType:function(){return this._easingType},setEasingType:function($easingType$$){this._easingType=$easingType$$},getEasingOpt:function(){return this._easingOpt},setEasingOpt:function($easingOpt$$){this._easingOpt=$easingOpt$$}});
cc.BuilderSequence=cc.Class.extend({_duration:0,_name:"",_sequenceId:0,_chainedSequenceId:0,_callbackChannel:null,_soundChannel:null,ctor:function(){this._name=""},getDuration:function(){return this._duration},setDuration:function($duration$$){this._duration=$duration$$},getName:function(){return this._name},setName:function($name$$){this._name=$name$$},getSequenceId:function(){return this._sequenceId},setSequenceId:function($sequenceId$$){this._sequenceId=$sequenceId$$},getChainedSequenceId:function(){return this._chainedSequenceId},
setChainedSequenceId:function($chainedSequenceId$$){this._chainedSequenceId=$chainedSequenceId$$},getCallbackChannel:function(){return this._callbackChannel},setCallbackChannel:function($channel$$){this._callbackChannel=$channel$$},getSoundChannel:function(){return this._soundChannel},setSoundChannel:function($channel$$){this._soundChannel=$channel$$}});
cc.BuilderSequenceProperty=cc.Class.extend({_name:null,_type:0,_keyFrames:null,ctor:function(){this.init()},init:function(){this._keyFrames=[];this._name=""},getName:function(){return this._name},setName:function($name$$){this._name=$name$$},getType:function(){return this._type},setType:function($type$$){this._type=$type$$},getKeyframes:function(){return this._keyFrames}});
cc.getAbsolutePosition=function $cc$getAbsolutePosition$($pt$$,$resolutionScale$$1_type$$,$containerSize$$,$absPt_propName$$){$absPt_propName$$=cc.p(0,0);$resolutionScale$$1_type$$===CCB_POSITIONTYPE_RELATIVE_BOTTOM_LEFT?$absPt_propName$$=$pt$$:$resolutionScale$$1_type$$===CCB_POSITIONTYPE_RELATIVE_TOP_LEFT?($absPt_propName$$.x=$pt$$.x,$absPt_propName$$.y=$containerSize$$.height-$pt$$.y):$resolutionScale$$1_type$$===CCB_POSITIONTYPE_RELATIVE_TOP_RIGHT?($absPt_propName$$.x=$containerSize$$.width-$pt$$.x,
$absPt_propName$$.y=$containerSize$$.height-$pt$$.y):$resolutionScale$$1_type$$===CCB_POSITIONTYPE_RELATIVE_BOTTOM_RIGHT?($absPt_propName$$.x=$containerSize$$.width-$pt$$.x,$absPt_propName$$.y=$pt$$.y):$resolutionScale$$1_type$$===CCB_POSITIONTYPE_PERCENT?($absPt_propName$$.x=$containerSize$$.width*$pt$$.x/100,$absPt_propName$$.y=$containerSize$$.height*$pt$$.y/100):$resolutionScale$$1_type$$===CCB_POSITIONTYPE_MULTIPLY_RESOLUTION&&($resolutionScale$$1_type$$=cc.BuilderReader.getResolutionScale(),
$absPt_propName$$.x=$pt$$.x*$resolutionScale$$1_type$$,$absPt_propName$$.y=$pt$$.y*$resolutionScale$$1_type$$);return $absPt_propName$$};
cc._getAbsolutePosition=function $cc$_getAbsolutePosition$($x$$,$y$$,$resolutionScale$$2_type$$,$containerSize$$,$absPt$$1_propName$$){$absPt$$1_propName$$=cc.p(0,0);$resolutionScale$$2_type$$===CCB_POSITIONTYPE_RELATIVE_BOTTOM_LEFT?($absPt$$1_propName$$.x=$x$$,$absPt$$1_propName$$.y=$y$$):$resolutionScale$$2_type$$===CCB_POSITIONTYPE_RELATIVE_TOP_LEFT?($absPt$$1_propName$$.x=$x$$,$absPt$$1_propName$$.y=$containerSize$$.height-$y$$):$resolutionScale$$2_type$$===CCB_POSITIONTYPE_RELATIVE_TOP_RIGHT?
($absPt$$1_propName$$.x=$containerSize$$.width-$x$$,$absPt$$1_propName$$.y=$containerSize$$.height-$y$$):$resolutionScale$$2_type$$===CCB_POSITIONTYPE_RELATIVE_BOTTOM_RIGHT?($absPt$$1_propName$$.x=$containerSize$$.width-$x$$,$absPt$$1_propName$$.y=$y$$):$resolutionScale$$2_type$$===CCB_POSITIONTYPE_PERCENT?($absPt$$1_propName$$.x=$containerSize$$.width*$x$$/100,$absPt$$1_propName$$.y=$containerSize$$.height*$y$$/100):$resolutionScale$$2_type$$===CCB_POSITIONTYPE_MULTIPLY_RESOLUTION&&($resolutionScale$$2_type$$=
cc.BuilderReader.getResolutionScale(),$absPt$$1_propName$$.x=$x$$*$resolutionScale$$2_type$$,$absPt$$1_propName$$.y=$y$$*$resolutionScale$$2_type$$);return $absPt$$1_propName$$};
cc.setRelativeScale=function $cc$setRelativeScale$($node$$,$scaleX$$,$scaleY$$,$resolutionScale$$3_type$$,$propName$$){if(!$node$$)throw"cc.setRelativeScale(): node should be non-null";$resolutionScale$$3_type$$===CCB_POSITIONTYPE_MULTIPLY_RESOLUTION&&($resolutionScale$$3_type$$=cc.BuilderReader.getResolutionScale(),$scaleX$$*=$resolutionScale$$3_type$$,$scaleY$$*=$resolutionScale$$3_type$$);$node$$.setScaleX($scaleX$$);$node$$.setScaleY($scaleY$$)};cc.BuilderAnimationManagerDelegate=cc.Class.extend({completedAnimationSequenceNamed:function($name$$){}});
cc.BuilderAnimationManager=cc.Class.extend({_sequences:null,_nodeSequences:null,_baseValues:null,_autoPlaySequenceId:0,_rootNode:null,_owner:null,_rootContainerSize:null,_delegate:null,_runningSequence:null,_documentOutletNames:null,_documentOutletNodes:null,_documentCallbackNames:null,_documentCallbackNodes:null,_documentCallbackControlEvents:null,_documentControllerName:"",_lastCompletedSequenceName:"",_keyframeCallbacks:null,_keyframeCallFuncs:null,_animationCompleteCallbackFunc:null,_target:null,
_jsControlled:!1,ctor:function(){this._rootContainerSize=cc.size(0,0);this.init()},init:function(){this._sequences=[];this._nodeSequences=new cc._Dictionary;this._baseValues=new cc._Dictionary;this._documentOutletNames=[];this._documentOutletNodes=[];this._documentCallbackNames=[];this._documentCallbackNodes=[];this._documentCallbackControlEvents=[];this._keyframeCallbacks=[];this._keyframeCallFuncs={};return!0},getSequences:function(){return this._sequences},setSequences:function($seqs$$){this._sequences=
$seqs$$},getAutoPlaySequenceId:function(){return this._autoPlaySequenceId},setAutoPlaySequenceId:function($autoPlaySequenceId$$){this._autoPlaySequenceId=$autoPlaySequenceId$$},getRootNode:function(){return this._rootNode},setRootNode:function($rootNode$$){this._rootNode=$rootNode$$},getOwner:function(){return this._owner},setOwner:function($owner$$){this._owner=$owner$$},addDocumentCallbackNode:function($node$$){this._documentCallbackNodes.push($node$$)},addDocumentCallbackName:function($name$$){this._documentCallbackNames.push($name$$)},
addDocumentCallbackControlEvents:function($controlEvents$$){this._documentCallbackControlEvents.push($controlEvents$$)},addDocumentOutletNode:function($node$$){this._documentOutletNodes.push($node$$)},addDocumentOutletName:function($name$$){this._documentOutletNames.push($name$$)},setDocumentControllerName:function($name$$){this._documentControllerName=$name$$},getDocumentControllerName:function(){return this._documentControllerName},getDocumentCallbackNames:function(){return this._documentCallbackNames},
getDocumentCallbackNodes:function(){return this._documentCallbackNodes},getDocumentCallbackControlEvents:function(){return this._documentCallbackControlEvents},getDocumentOutletNames:function(){return this._documentOutletNames},getDocumentOutletNodes:function(){return this._documentOutletNodes},getLastCompletedSequenceName:function(){return this._lastCompletedSequenceName},getKeyframeCallbacks:function(){return this._keyframeCallbacks},getRootContainerSize:function(){return this._rootContainerSize},
setRootContainerSize:function($rootContainerSize$$){this._rootContainerSize=cc.size($rootContainerSize$$.width,$rootContainerSize$$.height)},getDelegate:function(){return this._delegate},setDelegate:function($delegate$$){this._delegate=$delegate$$},getRunningSequenceName:function(){return this._runningSequence?this._runningSequence.getName():null},getContainerSize:function($node$$){return $node$$?$node$$.getContentSize():this._rootContainerSize},addNode:function($node$$,$seq$$){this._nodeSequences.setObject($seq$$,
$node$$)},setBaseValue:function($value$$,$node$$,$propName$$){var $props$$=this._baseValues.objectForKey($node$$);$props$$||($props$$=new cc._Dictionary,this._baseValues.setObject($props$$,$node$$));$props$$.setObject($value$$,$propName$$)},moveAnimationsFromNode:function($fromNode$$,$toNode$$){var $locBaseValues_locNodeSequences$$=this._baseValues,$baseValue$$1_seqs$$=$locBaseValues_locNodeSequences$$.objectForKey($fromNode$$);null!=$baseValue$$1_seqs$$&&($locBaseValues_locNodeSequences$$.setObject($baseValue$$1_seqs$$,
$toNode$$),$locBaseValues_locNodeSequences$$.removeObjectForKey($fromNode$$));$locBaseValues_locNodeSequences$$=this._nodeSequences;$baseValue$$1_seqs$$=$locBaseValues_locNodeSequences$$.objectForKey($fromNode$$);null!=$baseValue$$1_seqs$$&&($locBaseValues_locNodeSequences$$.setObject($baseValue$$1_seqs$$,$toNode$$),$locBaseValues_locNodeSequences$$.removeObjectForKey($fromNode$$))},getActionForCallbackChannel:function($channel$$){var $lastKeyframeTime$$=0,$actions$$=[];$channel$$=$channel$$.getKeyframes();
for(var $numKeyframes$$=$channel$$.length,$i$$=0;$i$$<$numKeyframes$$;++$i$$){var $callback$$64_keyframe$$3_selectorName$$=$channel$$[$i$$],$keyVal_selCallFunc_selectorTarget$$=$callback$$64_keyframe$$3_selectorName$$.getTime()-$lastKeyframeTime$$,$lastKeyframeTime$$=$callback$$64_keyframe$$3_selectorName$$.getTime();0<$keyVal_selCallFunc_selectorTarget$$&&$actions$$.push(cc.delayTime($keyVal_selCallFunc_selectorTarget$$));$keyVal_selCallFunc_selectorTarget$$=$callback$$64_keyframe$$3_selectorName$$.getValue();
$callback$$64_keyframe$$3_selectorName$$=$keyVal_selCallFunc_selectorTarget$$[0];$keyVal_selCallFunc_selectorTarget$$=$keyVal_selCallFunc_selectorTarget$$[1];if(this._jsControlled)$callback$$64_keyframe$$3_selectorName$$=this._keyframeCallFuncs[$keyVal_selCallFunc_selectorTarget$$+":"+$callback$$64_keyframe$$3_selectorName$$],null!=$callback$$64_keyframe$$3_selectorName$$&&$actions$$.push($callback$$64_keyframe$$3_selectorName$$);else{var $target$$;$keyVal_selCallFunc_selectorTarget$$==CCB_TARGETTYPE_DOCUMENTROOT?
$target$$=this._rootNode:$keyVal_selCallFunc_selectorTarget$$==CCB_TARGETTYPE_OWNER&&($target$$=this._owner);if(null!=$target$$)if(0<$callback$$64_keyframe$$3_selectorName$$.length){var $keyVal_selCallFunc_selectorTarget$$=0,$targetAsCCBSelectorResolver$$=$target$$;null!=$target$$.onResolveCCBCCCallFuncSelector&&($keyVal_selCallFunc_selectorTarget$$=$targetAsCCBSelectorResolver$$.onResolveCCBCCCallFuncSelector($target$$,$callback$$64_keyframe$$3_selectorName$$));0==$keyVal_selCallFunc_selectorTarget$$?
cc.log("Skipping selector '"+$callback$$64_keyframe$$3_selectorName$$+"' since no CCBSelectorResolver is present."):$actions$$.push(cc.callFunc($keyVal_selCallFunc_selectorTarget$$,$target$$))}else cc.log("Unexpected empty selector.")}}return 1>$actions$$.length?null:cc.sequence($actions$$)},getActionForSoundChannel:function($channel$$5_keyframes$$){var $lastKeyframeTime$$=0,$actions$$=[];$channel$$5_keyframes$$=$channel$$5_keyframes$$.getKeyframes();for(var $numKeyframes$$=$channel$$5_keyframes$$.length,
$i$$=0;$i$$<$numKeyframes$$;++$i$$){var $keyframe$$4_soundFile$$=$channel$$5_keyframes$$[$i$$],$pitch$$3_timeSinceLastKeyframe$$=$keyframe$$4_soundFile$$.getTime()-$lastKeyframeTime$$,$lastKeyframeTime$$=$keyframe$$4_soundFile$$.getTime();0<$pitch$$3_timeSinceLastKeyframe$$&&$actions$$.push(cc.delayTime($pitch$$3_timeSinceLastKeyframe$$));var $gain$$1_keyVal$$=$keyframe$$4_soundFile$$.getValue(),$keyframe$$4_soundFile$$=cc.BuilderReader.getResourcePath()+$gain$$1_keyVal$$[0],$pitch$$3_timeSinceLastKeyframe$$=
parseFloat($gain$$1_keyVal$$[1]),$pan$$=parseFloat($gain$$1_keyVal$$[2]),$gain$$1_keyVal$$=parseFloat($gain$$1_keyVal$$[3]);$actions$$.push(cc.BuilderSoundEffect.create($keyframe$$4_soundFile$$,$pitch$$3_timeSinceLastKeyframe$$,$pan$$,$gain$$1_keyVal$$))}return 1>$actions$$.length?null:cc.sequence($actions$$)},runAnimationsForSequenceNamed:function($name$$){this.runAnimationsForSequenceIdTweenDuration(this._getSequenceId($name$$),0)},runAnimationsForSequenceNamedTweenDuration:function($name$$,$tweenDuration$$){this.runAnimationsForSequenceIdTweenDuration(this._getSequenceId($name$$),
$tweenDuration$$)},runAnimationsForSequenceIdTweenDuration:function($nSeqId$$,$tweenDuration$$){if(-1===$nSeqId$$)throw"cc.BuilderAnimationManager.runAnimationsForSequenceIdTweenDuration(): Sequence id should not be -1";$tweenDuration$$=$tweenDuration$$||0;this._rootNode.stopAllActions();for(var $allKeys_seq$$=this._nodeSequences.allKeys(),$action$$187_completeAction_i$$=0,$len$$=$allKeys_seq$$.length;$action$$187_completeAction_i$$<$len$$;$action$$187_completeAction_i$$++){var $node$$=$allKeys_seq$$[$action$$187_completeAction_i$$];
$node$$.stopAllActions();var $nodeBaseValues_seqNodeProps$$=this._nodeSequences.objectForKey($node$$).objectForKey($nSeqId$$),$j$$,$seqNodePropNames$$=[];if($nodeBaseValues_seqNodeProps$$){var $baseKeys_propKeys$$=$nodeBaseValues_seqNodeProps$$.allKeys();for($j$$=0;$j$$<$baseKeys_propKeys$$.length;$j$$++){var $propName$$=$baseKeys_propKeys$$[$j$$],$seqProp$$1_value$$=$nodeBaseValues_seqNodeProps$$.objectForKey($propName$$);$seqNodePropNames$$.push($propName$$);this._setFirstFrame($node$$,$seqProp$$1_value$$,
$tweenDuration$$);this._runAction($node$$,$seqProp$$1_value$$,$tweenDuration$$)}}if($nodeBaseValues_seqNodeProps$$=this._baseValues.objectForKey($node$$))for($baseKeys_propKeys$$=$nodeBaseValues_seqNodeProps$$.allKeys(),$j$$=0;$j$$<$baseKeys_propKeys$$.length;$j$$++)$propName$$=$baseKeys_propKeys$$[$j$$],-1==$seqNodePropNames$$.indexOf($propName$$)&&($seqProp$$1_value$$=$nodeBaseValues_seqNodeProps$$.objectForKey($propName$$),null!=$seqProp$$1_value$$&&this._setAnimatedProperty($propName$$,$node$$,
$seqProp$$1_value$$,$tweenDuration$$))}$allKeys_seq$$=this._getSequence($nSeqId$$);$action$$187_completeAction_i$$=cc.sequence(cc.delayTime($allKeys_seq$$.getDuration()+$tweenDuration$$),cc.callFunc(this._sequenceCompleted,this));this._rootNode.runAction($action$$187_completeAction_i$$);$allKeys_seq$$.getCallbackChannel()&&($action$$187_completeAction_i$$=this.getActionForCallbackChannel($allKeys_seq$$.getCallbackChannel()))&&this._rootNode.runAction($action$$187_completeAction_i$$);$allKeys_seq$$.getSoundChannel()&&
($action$$187_completeAction_i$$=this.getActionForSoundChannel($allKeys_seq$$.getSoundChannel()))&&this._rootNode.runAction($action$$187_completeAction_i$$);this._runningSequence=this._getSequence($nSeqId$$)},runAnimations:function($name$$,$tweenDuration$$){$tweenDuration$$=$tweenDuration$$||0;var $nSeqId$$;$nSeqId$$=cc.isString($name$$)?this._getSequenceId($name$$):$name$$;this.runAnimationsForSequenceIdTweenDuration($nSeqId$$,$tweenDuration$$)},setAnimationCompletedCallback:function($target$$,$callbackFunc$$){this._target=
$target$$;this._animationCompleteCallbackFunc=$callbackFunc$$},setCompletedAnimationCallback:function($target$$,$callbackFunc$$){this.setAnimationCompletedCallback($target$$,$callbackFunc$$)},setCallFunc:function($callFunc$$,$callbackNamed$$){this._keyframeCallFuncs[$callbackNamed$$]=$callFunc$$},debug:function(){},_getBaseValue:function($node$$,$propName$$){var $props$$=this._baseValues.objectForKey($node$$);return $props$$?$props$$.objectForKey($propName$$):null},_getSequenceId:function($sequenceName$$){for(var $element$$=
null,$locSequences$$=this._sequences,$i$$=0,$len$$=$locSequences$$.length;$i$$<$len$$;$i$$++)if(($element$$=$locSequences$$[$i$$])&&$element$$.getName()===$sequenceName$$)return $element$$.getSequenceId();return-1},_getSequence:function($sequenceId$$){for(var $element$$=null,$locSequences$$=this._sequences,$i$$=0,$len$$=$locSequences$$.length;$i$$<$len$$;$i$$++)if(($element$$=$locSequences$$[$i$$])&&$element$$.getSequenceId()===$sequenceId$$)return $element$$;return null},_getAction:function($duration$$,
$keyframe1_x$$,$absPos_propName$$6_resolutionScale$$,$containerSize$$4_node$$){$duration$$=$keyframe1_x$$.getTime()-($duration$$?$duration$$.getTime():0);var $getArr_type$$,$getValueArr_y$$;if("rotation"===$absPos_propName$$6_resolutionScale$$)return cc.BuilderRotateTo.create($duration$$,$keyframe1_x$$.getValue());if("rotationX"===$absPos_propName$$6_resolutionScale$$)return cc.BuilderRotateXTo.create($duration$$,$keyframe1_x$$.getValue());if("rotationY"===$absPos_propName$$6_resolutionScale$$)return cc.BuilderRotateYTo.create($duration$$,
$keyframe1_x$$.getValue());if("opacity"===$absPos_propName$$6_resolutionScale$$)return cc.fadeTo($duration$$,$keyframe1_x$$.getValue());if("color"===$absPos_propName$$6_resolutionScale$$)return $absPos_propName$$6_resolutionScale$$=$keyframe1_x$$.getValue().getColor(),cc.tintTo($duration$$,$absPos_propName$$6_resolutionScale$$.r,$absPos_propName$$6_resolutionScale$$.g,$absPos_propName$$6_resolutionScale$$.b);if("visible"===$absPos_propName$$6_resolutionScale$$)return $keyframe1_x$$.getValue()?cc.sequence(cc.delayTime($duration$$),
cc.show()):cc.sequence(cc.delayTime($duration$$),cc.hide());if("displayFrame"===$absPos_propName$$6_resolutionScale$$)return cc.sequence(cc.delayTime($duration$$),cc.BuilderSetSpriteFrame.create($keyframe1_x$$.getValue()));if("position"===$absPos_propName$$6_resolutionScale$$)return $getArr_type$$=this._getBaseValue($containerSize$$4_node$$,$absPos_propName$$6_resolutionScale$$),$getArr_type$$=$getArr_type$$[2],$getValueArr_y$$=$keyframe1_x$$.getValue(),$keyframe1_x$$=$getValueArr_y$$[0],$getValueArr_y$$=
$getValueArr_y$$[1],$containerSize$$4_node$$=this.getContainerSize($containerSize$$4_node$$.getParent()),$absPos_propName$$6_resolutionScale$$=cc._getAbsolutePosition($keyframe1_x$$,$getValueArr_y$$,$getArr_type$$,$containerSize$$4_node$$,$absPos_propName$$6_resolutionScale$$),cc.moveTo($duration$$,$absPos_propName$$6_resolutionScale$$);if("scale"===$absPos_propName$$6_resolutionScale$$)return $getArr_type$$=this._getBaseValue($containerSize$$4_node$$,$absPos_propName$$6_resolutionScale$$),$getArr_type$$=
$getArr_type$$[2],$getValueArr_y$$=$keyframe1_x$$.getValue(),$keyframe1_x$$=$getValueArr_y$$[0],$getValueArr_y$$=$getValueArr_y$$[1],$getArr_type$$===CCB_SCALETYPE_MULTIPLY_RESOLUTION&&($absPos_propName$$6_resolutionScale$$=cc.BuilderReader.getResolutionScale(),$keyframe1_x$$*=$absPos_propName$$6_resolutionScale$$,$getValueArr_y$$*=$absPos_propName$$6_resolutionScale$$),cc.scaleTo($duration$$,$keyframe1_x$$,$getValueArr_y$$);if("skew"===$absPos_propName$$6_resolutionScale$$)return $getValueArr_y$$=
$keyframe1_x$$.getValue(),$keyframe1_x$$=$getValueArr_y$$[0],$getValueArr_y$$=$getValueArr_y$$[1],cc.skewTo($duration$$,$keyframe1_x$$,$getValueArr_y$$);cc.log("BuilderReader: Failed to create animation for property: "+$absPos_propName$$6_resolutionScale$$);return null},_setAnimatedProperty:function($ccColor3B$$8_propName$$,$node$$,$value$$124_y$$,$getArr$$1_nType_tweenDuration$$){if(0<$getArr$$1_nType_tweenDuration$$){var $kf1_x$$=new cc.BuilderKeyframe;$kf1_x$$.setValue($value$$124_y$$);$kf1_x$$.setTime($getArr$$1_nType_tweenDuration$$);
$kf1_x$$.setEasingType(CCB_KEYFRAME_EASING_LINEAR);$ccColor3B$$8_propName$$=this._getAction(null,$kf1_x$$,$ccColor3B$$8_propName$$,$node$$);$node$$.runAction($ccColor3B$$8_propName$$)}else"position"===$ccColor3B$$8_propName$$?($getArr$$1_nType_tweenDuration$$=this._getBaseValue($node$$,$ccColor3B$$8_propName$$),$getArr$$1_nType_tweenDuration$$=$getArr$$1_nType_tweenDuration$$[2],$kf1_x$$=$value$$124_y$$[0],$value$$124_y$$=$value$$124_y$$[1],$node$$.setPosition(cc._getAbsolutePosition($kf1_x$$,$value$$124_y$$,
$getArr$$1_nType_tweenDuration$$,this.getContainerSize($node$$.getParent()),$ccColor3B$$8_propName$$))):"scale"===$ccColor3B$$8_propName$$?($getArr$$1_nType_tweenDuration$$=this._getBaseValue($node$$,$ccColor3B$$8_propName$$),$getArr$$1_nType_tweenDuration$$=$getArr$$1_nType_tweenDuration$$[2],$kf1_x$$=$value$$124_y$$[0],$value$$124_y$$=$value$$124_y$$[1],cc.setRelativeScale($node$$,$kf1_x$$,$value$$124_y$$,$getArr$$1_nType_tweenDuration$$,$ccColor3B$$8_propName$$)):"skew"===$ccColor3B$$8_propName$$?
($kf1_x$$=$value$$124_y$$[0],$value$$124_y$$=$value$$124_y$$[1],$node$$.setSkewX($kf1_x$$),$node$$.setSkewY($value$$124_y$$)):"rotation"===$ccColor3B$$8_propName$$?$node$$.setRotation($value$$124_y$$):"rotationX"==$ccColor3B$$8_propName$$?$node$$.setRotationSkewX($value$$124_y$$):"rotationY"==$ccColor3B$$8_propName$$?$node$$.setRotationSkewY($value$$124_y$$):"opacity"===$ccColor3B$$8_propName$$?$node$$.setOpacity($value$$124_y$$):"displayFrame"===$ccColor3B$$8_propName$$?$node$$.setSpriteFrame($value$$124_y$$):
"color"===$ccColor3B$$8_propName$$?($ccColor3B$$8_propName$$=$value$$124_y$$.getColor(),255===$ccColor3B$$8_propName$$.r&&255===$ccColor3B$$8_propName$$.g&&255===$ccColor3B$$8_propName$$.b||$node$$.setColor($ccColor3B$$8_propName$$)):"visible"===$ccColor3B$$8_propName$$?$node$$.setVisible($value$$124_y$$||!1):cc.log("unsupported property name is "+$ccColor3B$$8_propName$$)},_setFirstFrame:function($node$$,$seqProp$$,$tweenDuration$$){var $baseValue$$2_keyframe$$5_keyframes$$=$seqProp$$.getKeyframes();
0===$baseValue$$2_keyframe$$5_keyframes$$.length?(($baseValue$$2_keyframe$$5_keyframes$$=this._getBaseValue($node$$,$seqProp$$.getName()))||cc.log("cc.BuilderAnimationManager._setFirstFrame(): No baseValue found for property"),this._setAnimatedProperty($seqProp$$.getName(),$node$$,$baseValue$$2_keyframe$$5_keyframes$$,$tweenDuration$$)):($baseValue$$2_keyframe$$5_keyframes$$=$baseValue$$2_keyframe$$5_keyframes$$[0],this._setAnimatedProperty($seqProp$$.getName(),$node$$,$baseValue$$2_keyframe$$5_keyframes$$.getValue(),
$tweenDuration$$))},_getEaseAction:function($action$$,$easingType$$,$easingOpt$$){if($easingType$$===CCB_KEYFRAME_EASING_LINEAR||$easingType$$===CCB_KEYFRAME_EASING_INSTANT)return $action$$;if($easingType$$===CCB_KEYFRAME_EASING_CUBIC_IN)return $action$$.easing(cc.easeIn($easingOpt$$));if($easingType$$===CCB_KEYFRAME_EASING_CUBIC_OUT)return $action$$.easing(cc.easeOut($easingOpt$$));if($easingType$$===CCB_KEYFRAME_EASING_CUBIC_INOUT)return $action$$.easing(cc.easeInOut($easingOpt$$));if($easingType$$===
CCB_KEYFRAME_EASING_BACK_IN)return $action$$.easing(cc.easeBackIn());if($easingType$$===CCB_KEYFRAME_EASING_BACK_OUT)return $action$$.easing(cc.easeBackOut());if($easingType$$===CCB_KEYFRAME_EASING_BACK_INOUT)return $action$$.easing(cc.easeBackInOut());if($easingType$$===CCB_KEYFRAME_EASING_BOUNCE_IN)return $action$$.easing(cc.easeBounceIn());if($easingType$$===CCB_KEYFRAME_EASING_BOUNCE_OUT)return $action$$.easing(cc.easeBounceOut());if($easingType$$===CCB_KEYFRAME_EASING_BOUNCE_INOUT)return $action$$.easing(cc.easeBounceInOut());
if($easingType$$===CCB_KEYFRAME_EASING_ELASTIC_IN)return $action$$.easing(cc.easeElasticIn($easingOpt$$));if($easingType$$===CCB_KEYFRAME_EASING_ELASTIC_OUT)return $action$$.easing(cc.easeElasticOut($easingOpt$$));if($easingType$$===CCB_KEYFRAME_EASING_ELASTIC_INOUT)return $action$$.easing(cc.easeElasticInOut($easingOpt$$));cc.log("BuilderReader: Unkown easing type "+$easingType$$);return $action$$},_runAction:function($node$$,$seqProp$$,$i$$378_timeFirst_tweenDuration$$){var $keyframes$$=$seqProp$$.getKeyframes(),
$numKeyframes$$=$keyframes$$.length;if(1<$numKeyframes$$){var $actions$$=[];$i$$378_timeFirst_tweenDuration$$=$keyframes$$[0].getTime()+$i$$378_timeFirst_tweenDuration$$;0<$i$$378_timeFirst_tweenDuration$$&&$actions$$.push(cc.delayTime($i$$378_timeFirst_tweenDuration$$));for($i$$378_timeFirst_tweenDuration$$=0;$i$$378_timeFirst_tweenDuration$$<$numKeyframes$$-1;++$i$$378_timeFirst_tweenDuration$$){var $kf0$$=$keyframes$$[$i$$378_timeFirst_tweenDuration$$],$action$$=this._getAction($kf0$$,$keyframes$$[$i$$378_timeFirst_tweenDuration$$+
1],$seqProp$$.getName(),$node$$);$action$$&&($action$$=this._getEaseAction($action$$,$kf0$$.getEasingType(),$kf0$$.getEasingOpt()),$actions$$.push($action$$))}$node$$.runAction(cc.sequence($actions$$))}},_sequenceCompleted:function(){var $locRunningSequence_nextSeqId$$=this._runningSequence,$locRunningName$$=$locRunningSequence_nextSeqId$$.getName();this._lastCompletedSequenceName!=$locRunningSequence_nextSeqId$$.getName()&&(this._lastCompletedSequenceName=$locRunningSequence_nextSeqId$$.getName());
$locRunningSequence_nextSeqId$$=$locRunningSequence_nextSeqId$$.getChainedSequenceId();this._runningSequence=null;-1!=$locRunningSequence_nextSeqId$$&&this.runAnimations($locRunningSequence_nextSeqId$$,0);this._delegate&&this._delegate.completedAnimationSequenceNamed($locRunningName$$);this._target&&this._animationCompleteCallbackFunc&&this._animationCompleteCallbackFunc.call(this._target)}});
cc.BuilderSetSpriteFrame=cc.ActionInstant.extend({_spriteFrame:null,initWithSpriteFrame:function($spriteFrame$$){this._spriteFrame=$spriteFrame$$;return!0},update:function($time$$){this.target.setSpriteFrame(this._spriteFrame)}});cc.BuilderSetSpriteFrame.create=function $cc$BuilderSetSpriteFrame$create$($spriteFrame$$){var $ret$$=new cc.BuilderSetSpriteFrame;return $ret$$&&$ret$$.initWithSpriteFrame($spriteFrame$$)?$ret$$:null};
cc.BuilderRotateTo=cc.ActionInterval.extend({_startAngle:0,_dstAngle:0,_diffAngle:0,initWithDuration:function($duration$$,$angle$$){return cc.ActionInterval.prototype.initWithDuration.call(this,$duration$$)?(this._dstAngle=$angle$$,!0):!1},update:function($time$$){this.target.setRotation(this._startAngle+this._diffAngle*$time$$)},startWithTarget:function($node$$){cc.ActionInterval.prototype.startWithTarget.call(this,$node$$);this._startAngle=this.target.getRotation();this._diffAngle=this._dstAngle-
this._startAngle}});cc.BuilderRotateTo.create=function $cc$BuilderRotateTo$create$($duration$$,$angle$$){var $ret$$=new cc.BuilderRotateTo;return $ret$$&&$ret$$.initWithDuration($duration$$,$angle$$)?$ret$$:null};cc.BuilderRotateXTo=cc.ActionInterval.extend({});cc.BuilderRotateXTo.create=function $cc$BuilderRotateXTo$create$($duration$$,$angle$$){throw"rotationX has not been implemented in cocos2d-html5";};cc.BuilderRotateYTo=cc.ActionInterval.extend({});
cc.BuilderRotateYTo.create=function $cc$BuilderRotateYTo$create$($duration$$,$angle$$){throw"rotationY has not been implemented in cocos2d-html5";};cc.BuilderSoundEffect=cc.ActionInstant.extend({init:function($file$$){this._file=$file$$;return!0},update:function($dt$$){cc.audioEngine.playEffect(this._file)}});
cc.BuilderSoundEffect.create=function $cc$BuilderSoundEffect$create$($file$$,$pitch$$4_ret$$,$pan$$,$gain$$){return($pitch$$4_ret$$=new cc.BuilderSoundEffect)&&$pitch$$4_ret$$.init($file$$)?$pitch$$4_ret$$:null};cc.DOM={};
cc.DOM._addMethods=function $cc$DOM$_addMethods$($node$$){for(var $funcs$$ in cc.DOM.methods)$node$$[$funcs$$]=cc.DOM.methods[$funcs$$];cc.defineGetterSetter($node$$,"x",$node$$.getPositionX,$node$$.setPositionX);cc.defineGetterSetter($node$$,"y",$node$$.getPositionY,$node$$.setPositionY);cc.defineGetterSetter($node$$,"width",$node$$._getWidth,$node$$._setWidth);cc.defineGetterSetter($node$$,"height",$node$$._getHeight,$node$$._setHeight);cc.defineGetterSetter($node$$,"anchorX",$node$$._getAnchorX,
$node$$._setAnchorX);cc.defineGetterSetter($node$$,"anchorY",$node$$._getAnchorY,$node$$._setAnchorY);cc.defineGetterSetter($node$$,"scale",$node$$.getScale,$node$$.setScale);cc.defineGetterSetter($node$$,"scaleX",$node$$.getScaleX,$node$$.setScaleX);cc.defineGetterSetter($node$$,"scaleY",$node$$.getScaleY,$node$$.getScaleY);cc.defineGetterSetter($node$$,"rotation",$node$$.getRotation,$node$$.setRotation);cc.defineGetterSetter($node$$,"skewX",$node$$.getSkewX,$node$$.setSkewX);cc.defineGetterSetter($node$$,
"skewY",$node$$.getSkewY,$node$$.setSkewY);cc.defineGetterSetter($node$$,"visible",$node$$.isVisible,$node$$.setVisible);cc.defineGetterSetter($node$$,"parent",$node$$.getParent,$node$$.setParent);cc.defineGetterSetter($node$$,"opacity",$node$$.getOpacity,$node$$.setOpacity)};
cc.DOM.methods={setPosition:function $cc$DOM$methods$setPosition$($x$$,$y$$){void 0===$y$$?(this._position.x=$x$$.x,this._position.y=$x$$.y):(this._position.x=$x$$,this._position.y=$y$$);this.setNodeDirty();this.dom.translates(this._position.x,-this._position.y)},setPositionY:function $cc$DOM$methods$setPositionY$($y$$){this._position.y=$y$$;this.setNodeDirty();this.dom.translates(this._position.x,-this._position.y)},setPositionX:function $cc$DOM$methods$setPositionX$($x$$){this._position.x=$x$$;
this.setNodeDirty();this.dom.translates(this._position.x,-this._position.y)},setScale:function $cc$DOM$methods$setScale$($scale$$,$scaleY$$){this._scaleX=$scale$$;this._scaleY=$scaleY$$||$scale$$;this.setNodeDirty();this.dom.resize(this._scaleX,this._scaleY)},setScaleX:function $cc$DOM$methods$setScaleX$($x$$){this._scaleX=$x$$;this.setNodeDirty();this.dom.resize(this._scaleX,this._scaleY)},setScaleY:function $cc$DOM$methods$setScaleY$($y$$){this._scaleY=$y$$;this.setNodeDirty();this.dom.resize(this._scaleX,
this._scaleY)},setAnchorPoint:function $cc$DOM$methods$setAnchorPoint$($point$$,$y$$){var $locAnchorPoint$$=this._anchorPoint;void 0===$y$$?($locAnchorPoint$$.x=$point$$.x,$locAnchorPoint$$.y=$point$$.y):($locAnchorPoint$$.x=$point$$,$locAnchorPoint$$.y=$y$$);var $locAPP$$=this._anchorPointInPoints,$locSize$$=this._contentSize;$locAPP$$.x=$locSize$$.width*$locAnchorPoint$$.x;$locAPP$$.y=$locSize$$.height*$locAnchorPoint$$.y;this.dom.style[cc.$.pfx+"TransformOrigin"]=""+$locAPP$$.x+"px "+-$locAPP$$.y+
"px";this.ignoreAnchor?(this.dom.style.marginLeft=0,this.dom.style.marginBottom=0):(this.dom.style.marginLeft=this.isToggler?0:-$locAPP$$.x+"px",this.dom.style.marginBottom=-$locAPP$$.y+"px");this.setNodeDirty()},_setAnchorX:function $cc$DOM$methods$_setAnchorX$($locAPP$$3_x$$){var $locAnchorPoint$$=this._anchorPoint;$locAPP$$3_x$$!==$locAnchorPoint$$.x&&($locAnchorPoint$$.x=$locAPP$$3_x$$,$locAPP$$3_x$$=this._anchorPointInPoints,$locAPP$$3_x$$.x=this._contentSize.width*$locAnchorPoint$$.x,this.dom.style[cc.$.pfx+
"TransformOrigin"]=""+$locAPP$$3_x$$.x+"px "+-$locAPP$$3_x$$.y+"px",this.ignoreAnchor?(this.dom.style.marginLeft=0,this.dom.style.marginBottom=0):this.dom.style.marginLeft=this.isToggler?0:-$locAPP$$3_x$$.x+"px",this.setNodeDirty())},_setAnchorY:function $cc$DOM$methods$_setAnchorY$($locAPP$$4_y$$){var $locAnchorPoint$$=this._anchorPoint;$locAPP$$4_y$$!==$locAnchorPoint$$.y&&($locAnchorPoint$$.y=$locAPP$$4_y$$,$locAPP$$4_y$$=this._anchorPointInPoints,$locAPP$$4_y$$.y=this._contentSize.height*$locAnchorPoint$$.y,
this.dom.style[cc.$.pfx+"TransformOrigin"]=""+$locAPP$$4_y$$.x+"px "+-$locAPP$$4_y$$.y+"px",this.ignoreAnchor?(this.dom.style.marginLeft=0,this.dom.style.marginBottom=0):this.dom.style.marginBottom=-$locAPP$$4_y$$.y+"px",this.setNodeDirty())},setContentSize:function $cc$DOM$methods$setContentSize$($size$$,$height$$){var $locContentSize$$=this._contentSize;void 0===$height$$?($locContentSize$$.width=$size$$.width,$locContentSize$$.height=$size$$.height):($locContentSize$$.width=$size$$,$locContentSize$$.height=
$height$$);var $locAPP$$=this._anchorPointInPoints,$locAnchorPoint$$=this._anchorPoint;$locAPP$$.x=$locContentSize$$.width*$locAnchorPoint$$.x;$locAPP$$.y=$locContentSize$$.height*$locAnchorPoint$$.y;this.dom.width=$locContentSize$$.width;this.dom.height=$locContentSize$$.height;this.setAnchorPoint(this.getAnchorPoint());this.canvas&&(this.canvas.width=$locContentSize$$.width,this.canvas.height=$locContentSize$$.height);this.setNodeDirty();this.redraw()},_setWidth:function $cc$DOM$methods$_setWidth$($locAnchorPoint$$7_width$$){var $locContentSize$$=
this._contentSize;$locAnchorPoint$$7_width$$!==$locContentSize$$.width&&($locContentSize$$.width=$locAnchorPoint$$7_width$$,$locAnchorPoint$$7_width$$=this._anchorPoint,this._anchorPointInPoints.x=$locContentSize$$.width*$locAnchorPoint$$7_width$$.x,this.dom.width=$locContentSize$$.width,this.anchorX=$locAnchorPoint$$7_width$$.x,this.canvas&&(this.canvas.width=$locContentSize$$.width),this.setNodeDirty(),this.redraw())},_setHeight:function $cc$DOM$methods$_setHeight$($height$$68_locAnchorPoint$$){var $locContentSize$$=
this._contentSize;$height$$68_locAnchorPoint$$!==$locContentSize$$.height&&($locContentSize$$.height=$height$$68_locAnchorPoint$$,$height$$68_locAnchorPoint$$=this._anchorPoint,this._anchorPointInPoints.y=$locContentSize$$.height*$height$$68_locAnchorPoint$$.y,this.dom.height=$locContentSize$$.height,this.anchorY=$height$$68_locAnchorPoint$$.y,this.canvas&&(this.canvas.height=$locContentSize$$.height),this.setNodeDirty(),this.redraw())},setRotation:function $cc$DOM$methods$setRotation$($newRotation$$){this._rotation!=
$newRotation$$&&(this._rotationX=this._rotationY=$newRotation$$,this._rotationRadiansX=Math.PI/180*this._rotationX,this._rotationRadiansY=Math.PI/180*this._rotationY,this.setNodeDirty(),this.dom.rotate($newRotation$$))},setSkewX:function $cc$DOM$methods$setSkewX$($x$$){this._skewX=$x$$;this.setNodeDirty();this.dom.setSkew(this._skewX,this._skewY)},setSkewY:function $cc$DOM$methods$setSkewY$($y$$){this._skewY=$y$$;this.setNodeDirty();this.dom.setSkew(this._skewX,this._skewY)},setVisible:function $cc$DOM$methods$setVisible$($x$$){this._visible=
$x$$;this.setNodeDirty();this.dom&&(this.dom.style.display=$x$$?"block":"none")},_setLocalZOrder:function $cc$DOM$methods$_setLocalZOrder$($z$$){this._localZOrder=$z$$;this.setNodeDirty();this.dom&&(this.dom.zIndex=$z$$)},setParent:function $cc$DOM$methods$setParent$($p$$){this._parent=$p$$;null!==$p$$&&($p$$.setAnchorPoint($p$$.getAnchorPoint()),this.setNodeDirty(),cc.DOM.parentDOM(this))},resume:function $cc$DOM$methods$resume$(){this.getScheduler().resumeTarget(this);this.getActionManager().resumeTarget(this);
cc.eventManager.resumeTarget(this);this.dom&&!this.dom.parentNode&&(this.getParent()?cc.DOM.parentDOM(this):""==this.dom.id?cc.DOM._createEGLViewDiv(this):this.dom.appendTo(cc.container));this.dom&&(this.dom.style.visibility="visible")},pause:function $cc$DOM$methods$pause$(){this.getScheduler().pauseTarget(this);this.getActionManager().pauseTarget(this);cc.eventManager.pauseTarget(this);this.dom&&(this.dom.style.visibility="hidden")},cleanup:function $cc$DOM$methods$cleanup$(){this.stopAllActions();
this.unscheduleAllCallbacks();this._arrayMakeObjectsPerformSelector(this._children,cc.Node._StateCallbackType.cleanup);this.dom&&this.dom.remove()},removeFromParentAndCleanup:function $cc$DOM$methods$removeFromParentAndCleanup$(){this.dom.remove()},setOpacity:function $cc$DOM$methods$setOpacity$($o$$){this._opacity=$o$$;this.dom.style.opacity=$o$$/255},redraw:function $cc$DOM$methods$redraw$(){if(this.isSprite){var $tmp$$=this._children;this._children=[];cc.Sprite.prototype.visit.call(this,this.ctx);
this._children=$tmp$$}else cc.Sprite.prototype.visit.call(this,this.ctx)}};
cc.DOM._resetEGLViewDiv=function $cc$DOM$_resetEGLViewDiv$(){var $eglViewDiv$$=cc.$("#EGLViewDiv");if($eglViewDiv$$){var $eglViewer$$=cc.view,$designSize_viewPortWidth$$=$eglViewer$$.getDesignResolutionSize(),$viewPortRect$$=$eglViewer$$.getViewPortRect(),$screenSize$$=$eglViewer$$.getFrameSize(),$pixelRatio$$=$eglViewer$$.getDevicePixelRatio(),$designSizeWidth$$=$designSize_viewPortWidth$$.width,$designSizeHeight$$=$designSize_viewPortWidth$$.height;0===$designSize_viewPortWidth$$.width&&0===$designSize_viewPortWidth$$.height&&
($designSizeWidth$$=$screenSize$$.width,$designSizeHeight$$=$screenSize$$.height);$designSize_viewPortWidth$$=$viewPortRect$$.width/$pixelRatio$$;0===$viewPortRect$$.width&&0===$viewPortRect$$.height&&($designSize_viewPortWidth$$=$screenSize$$.width);$eglViewDiv$$.style.position="absolute";$eglViewDiv$$.style.width=$designSizeWidth$$+"px";$eglViewDiv$$.style.maxHeight=$designSizeHeight$$+"px";$eglViewDiv$$.style.margin=0;$eglViewDiv$$.resize($eglViewer$$.getScaleX()/$pixelRatio$$,$eglViewer$$.getScaleY()/
$pixelRatio$$);$eglViewDiv$$.style.left=($designSize_viewPortWidth$$-$designSizeWidth$$)/2+"px";$eglViewDiv$$.style.bottom="0px"}};
cc.DOM.parentDOM=function $cc$DOM$parentDOM$($eglViewDiv$$1_x$$){var $p$$=$eglViewDiv$$1_x$$.getParent();if(!$p$$||!$eglViewDiv$$1_x$$.dom)return!1;$p$$.dom||(cc.DOM.placeHolder($p$$),$p$$.setParent=cc.DOM.methods.setParent);$eglViewDiv$$1_x$$.dom.appendTo($p$$.dom);$p$$.setAnchorPoint($p$$.getAnchorPoint());$p$$.getParent()?cc.DOM.parentDOM($p$$):$p$$.isRunning()&&(($eglViewDiv$$1_x$$=cc.$("#EGLViewDiv"))?$p$$.dom.appendTo($eglViewDiv$$1_x$$):cc.DOM._createEGLViewDiv($p$$));return!0};
cc.DOM._createEGLViewDiv=function $cc$DOM$_createEGLViewDiv$($p$$){var $eglViewDiv$$=cc.$("#EGLViewDiv");$eglViewDiv$$||($eglViewDiv$$=cc.$new("div"),$eglViewDiv$$.id="EGLViewDiv");var $eglViewer$$=cc.view,$designSize$$1_viewPortWidth$$=$eglViewer$$.getDesignResolutionSize(),$viewPortRect$$=$eglViewer$$.getViewPortRect(),$screenSize$$=$eglViewer$$.getFrameSize(),$pixelRatio$$=$eglViewer$$.getDevicePixelRatio(),$designSizeWidth$$=$designSize$$1_viewPortWidth$$.width,$designSizeHeight$$=$designSize$$1_viewPortWidth$$.height;
0===$designSize$$1_viewPortWidth$$.width&&0===$designSize$$1_viewPortWidth$$.height&&($designSizeWidth$$=$screenSize$$.width,$designSizeHeight$$=$screenSize$$.height);$designSize$$1_viewPortWidth$$=$viewPortRect$$.width/$pixelRatio$$;0===$viewPortRect$$.width&&0===$viewPortRect$$.height&&($designSize$$1_viewPortWidth$$=$screenSize$$.width);$eglViewDiv$$.style.position="absolute";$eglViewDiv$$.style.width=$designSizeWidth$$+"px";$eglViewDiv$$.style.maxHeight=$designSizeHeight$$+"px";$eglViewDiv$$.style.margin=
0;$eglViewDiv$$.resize($eglViewer$$.getScaleX()/$pixelRatio$$,$eglViewer$$.getScaleY()/$pixelRatio$$);$eglViewDiv$$.style.left=($designSize$$1_viewPortWidth$$-$designSizeWidth$$)/2+"px";$eglViewDiv$$.style.bottom="0px";$p$$.dom.appendTo($eglViewDiv$$);$eglViewDiv$$.appendTo(cc.container)};
cc.DOM.setTransform=function $cc$DOM$setTransform$($x$$){if($x$$.ctx)if($x$$.ctx.translate($x$$.getAnchorPointInPoints().x,$x$$.getAnchorPointInPoints().y),$x$$.isSprite){var $tmp$$=$x$$._children;$x$$._children=[];cc.Sprite.prototype.visit.call($x$$,$x$$.ctx);$x$$._children=$tmp$$}else cc.Sprite.prototype.visit.call($x$$,$x$$.ctx);$x$$.dom&&($x$$.dom.position.x=$x$$.getPositionX(),$x$$.dom.position.y=-$x$$.getPositionY(),$x$$.dom.rotation=$x$$.getRotation(),$x$$.dom.scale={x:$x$$.getScaleX(),y:$x$$.getScaleY()},
$x$$.dom.skew={x:$x$$.getSkewX(),y:$x$$.getSkewY()},$x$$.setAnchorPoint&&$x$$.setAnchorPoint($x$$.getAnchorPoint()),$x$$.dom.transforms())};
cc.DOM.forSprite=function $cc$DOM$forSprite$($x$$){$x$$.dom=cc.$new("div");$x$$.canvas=cc.$new("canvas");var $locContentSize$$=$x$$.getContentSize();$x$$.canvas.width=$locContentSize$$.width;$x$$.canvas.height=$locContentSize$$.height;$x$$.dom.style.position="absolute";$x$$.dom.style.bottom=0;$x$$.ctx=$x$$.canvas.getContext("2d");$x$$.dom.appendChild($x$$.canvas);$x$$.getParent()&&cc.DOM.parentDOM($x$$);$x$$.isSprite=!0};
cc.DOM.placeHolder=function $cc$DOM$placeHolder$($x$$){$x$$.dom=cc.$new("div");$x$$.placeholder=!0;$x$$.dom.style.position="absolute";$x$$.dom.style.bottom=0;$x$$.dom.style.width=($x$$.getContentSize().width||cc.director.getWinSize().width)+"px";$x$$.dom.style.maxHeight=($x$$.getContentSize().height||cc.director.getWinSize().height)+"px";$x$$.dom.style.margin=0;cc.DOM.setTransform($x$$);$x$$.dom.transforms();cc.DOM._addMethods($x$$)};
cc.DOM.convert=function $cc$DOM$convert$($nodeObject$$){if(1<arguments.length)cc.DOM.convert(arguments);else if(1!=arguments.length||arguments[0].length)for(var $args$$=arguments[0],$i$$=0;$i$$<$args$$.length;$i$$++)$args$$[$i$$]instanceof cc.Sprite?$args$$[$i$$].dom||cc.DOM.forSprite($args$$[$i$$]):cc.log("DOM converter only supports sprite and menuitems yet"),cc.DOM._addMethods($args$$[$i$$]),$args$$[$i$$].visit=function $$args$$$$i$$$visit$(){},$args$$[$i$$].transform=function $$args$$$$i$$$transform$(){},
cc.DOM.setTransform($args$$[$i$$]),$args$$[$i$$].setVisible($args$$[$i$$].isVisible());else cc.DOM.convert([arguments[0]])};cc.KEYBOARD_RETURNTYPE_DEFAULT=0;cc.KEYBOARD_RETURNTYPE_DONE=1;cc.KEYBOARD_RETURNTYPE_SEND=2;cc.KEYBOARD_RETURNTYPE_SEARCH=3;cc.KEYBOARD_RETURNTYPE_GO=4;cc.EDITBOX_INPUT_MODE_ANY=0;cc.EDITBOX_INPUT_MODE_EMAILADDR=1;cc.EDITBOX_INPUT_MODE_NUMERIC=2;cc.EDITBOX_INPUT_MODE_PHONENUMBER=3;cc.EDITBOX_INPUT_MODE_URL=4;cc.EDITBOX_INPUT_MODE_DECIMAL=5;cc.EDITBOX_INPUT_MODE_SINGLELINE=6;
cc.EDITBOX_INPUT_FLAG_PASSWORD=0;cc.EDITBOX_INPUT_FLAG_SENSITIVE=1;cc.EDITBOX_INPUT_FLAG_INITIAL_CAPS_WORD=2;cc.EDITBOX_INPUT_FLAG_INITIAL_CAPS_SENTENCE=3;cc.EDITBOX_INPUT_FLAG_INITIAL_CAPS_ALL_CHARACTERS=4;cc.EditBoxDelegate=cc.Class.extend({editBoxEditingDidBegin:function($sender$$){},editBoxEditingDidEnd:function($sender$$){},editBoxTextChanged:function($sender$$,$text$$){},editBoxReturn:function($sender$$){}});
cc.EditBox=cc.ControlButton.extend({_domInputSprite:null,_delegate:null,_editBoxInputMode:cc.EDITBOX_INPUT_MODE_ANY,_editBoxInputFlag:cc.EDITBOX_INPUT_FLAG_SENSITIVE,_keyboardReturnType:cc.KEYBOARD_RETURNTYPE_DEFAULT,_text:"",_placeholderText:"",_textColor:null,_placeholderColor:null,_maxLength:50,_adjustHeight:18,_edTxt:null,_edFontSize:14,_edFontName:"Arial",_placeholderFontName:"",_placeholderFontSize:14,_tooltip:!1,_className:"EditBox",ctor:function($size$$,$normal9SpriteBg$$,$press9SpriteBg$$,
$disabled9SpriteBg$$){cc.ControlButton.prototype.ctor.call(this);this._textColor=cc.color.WHITE;this._placeholderColor=cc.color.GRAY;this.setContentSize($size$$);var $tmpDOMSprite$$=this._domInputSprite=new cc.Sprite;$tmpDOMSprite$$.draw=function $$tmpDOMSprite$$$draw$(){};this.addChild($tmpDOMSprite$$);var $selfPointer$$=this,$tmpEdTxt$$=this._edTxt=cc.newElement("input");$tmpEdTxt$$.type="text";$tmpEdTxt$$.style.fontSize=this._edFontSize+"px";$tmpEdTxt$$.style.color="#000000";$tmpEdTxt$$.style.border=
0;$tmpEdTxt$$.style.background="transparent";$tmpEdTxt$$.style.width="100%";$tmpEdTxt$$.style.height="100%";$tmpEdTxt$$.style.active=0;$tmpEdTxt$$.style.outline="medium";$tmpEdTxt$$.style.padding="0";var $onCanvasClick$$=function $$onCanvasClick$$$(){$tmpEdTxt$$.blur()};cc._addEventListener($tmpEdTxt$$,"input",function(){$selfPointer$$._delegate&&$selfPointer$$._delegate.editBoxTextChanged&&$selfPointer$$._delegate.editBoxTextChanged($selfPointer$$,this.value)});cc._addEventListener($tmpEdTxt$$,"keypress",
function($e$$){$e$$.keyCode===cc.KEY.enter&&($e$$.stopPropagation(),$e$$.preventDefault(),cc._canvas.focus())});cc._addEventListener($tmpEdTxt$$,"focus",function(){this.value==$selfPointer$$._placeholderText&&(this.value="",this.style.fontSize=$selfPointer$$._edFontSize+"px",this.style.color=cc.colorToHex($selfPointer$$._textColor));$selfPointer$$._delegate&&$selfPointer$$._delegate.editBoxEditingDidBegin&&$selfPointer$$._delegate.editBoxEditingDidBegin($selfPointer$$);cc._addEventListener(cc._canvas,
"click",$onCanvasClick$$)});cc._addEventListener($tmpEdTxt$$,"blur",function(){""==this.value&&(this.value=$selfPointer$$._placeholderText,this.style.fontSize=$selfPointer$$._placeholderFontSize+"px",this.style.color=cc.colorToHex($selfPointer$$._placeholderColor));$selfPointer$$._delegate&&$selfPointer$$._delegate.editBoxEditingDidEnd&&$selfPointer$$._delegate.editBoxEditingDidEnd($selfPointer$$);$selfPointer$$._delegate&&$selfPointer$$._delegate.editBoxReturn&&$selfPointer$$._delegate.editBoxReturn($selfPointer$$);
cc._canvas.removeEventListener("click",$onCanvasClick$$)});cc.DOM.convert($tmpDOMSprite$$);$tmpDOMSprite$$.dom.appendChild($tmpEdTxt$$);$tmpDOMSprite$$.dom.showTooltipDiv=!1;$tmpDOMSprite$$.dom.style.width=$size$$.width-6+"px";$tmpDOMSprite$$.dom.style.height=$size$$.height-6+"px";$tmpDOMSprite$$.canvas.remove();this.initWithSizeAndBackgroundSprite($size$$,$normal9SpriteBg$$)&&($press9SpriteBg$$&&this.setBackgroundSpriteForState($press9SpriteBg$$,cc.CONTROL_STATE_HIGHLIGHTED),$disabled9SpriteBg$$&&
this.setBackgroundSpriteForState($disabled9SpriteBg$$,cc.CONTROL_STATE_DISABLED))},setFont:function($fontName$$,$fontSize$$){this._edFontSize=$fontSize$$;this._edFontName=$fontName$$;this._setFontToEditBox()},_setFont:function($fontStyle$$3_res$$){if($fontStyle$$3_res$$=cc.LabelTTF._fontStyleRE.exec($fontStyle$$3_res$$))this._edFontSize=parseInt($fontStyle$$3_res$$[1]),this._edFontName=$fontStyle$$3_res$$[2],this._setFontToEditBox()},setFontName:function($fontName$$){this._edFontName=$fontName$$;
this._setFontToEditBox()},setFontSize:function($fontSize$$){this._edFontSize=$fontSize$$;this._setFontToEditBox()},_setFontToEditBox:function(){this._edTxt.value!=this._placeholderText&&(this._edTxt.style.fontFamily=this._edFontName,this._edTxt.style.fontSize=this._edFontSize+"px")},setText:function($text$$){cc.log("Please use the setString");null!=$text$$&&(""==$text$$?(this._edTxt.value=this._placeholderText,this._edTxt.style.color=cc.colorToHex(this._placeholderColor)):(this._edTxt.value=$text$$,
this._edTxt.style.color=cc.colorToHex(this._textColor)))},setString:function($text$$){null!=$text$$&&(""==$text$$?(this._edTxt.value=this._placeholderText,this._edTxt.style.color=cc.colorToHex(this._placeholderColor)):(this._edTxt.value=$text$$,this._edTxt.style.color=cc.colorToHex(this._textColor)))},setFontColor:function($color$$){this._textColor=$color$$;this._edTxt.value!=this._placeholderText&&(this._edTxt.style.color=cc.colorToHex($color$$))},setMaxLength:function($maxLength$$){!isNaN($maxLength$$)&&
0<$maxLength$$&&(this._maxLength=$maxLength$$,this._edTxt.maxLength=$maxLength$$)},getMaxLength:function(){return this._maxLength},setPlaceHolder:function($text$$){if(null!=$text$$){var $oldPlaceholderText$$=this._placeholderText;this._placeholderText=$text$$;this._edTxt.value==$oldPlaceholderText$$&&(this._edTxt.value=$text$$,this._edTxt.style.color=cc.colorToHex(this._placeholderColor),this._setPlaceholderFontToEditText())}},setPlaceholderFont:function($fontName$$,$fontSize$$){this._placeholderFontName=
$fontName$$;this._placeholderFontSize=$fontSize$$;this._setPlaceholderFontToEditText()},_setPlaceholderFont:function($fontStyle$$4_res$$){if($fontStyle$$4_res$$=cc.LabelTTF._fontStyleRE.exec($fontStyle$$4_res$$))this._placeholderFontName=$fontStyle$$4_res$$[2],this._placeholderFontSize=parseInt($fontStyle$$4_res$$[1]),this._setPlaceholderFontToEditText()},setPlaceholderFontName:function($fontName$$){this._placeholderFontName=$fontName$$;this._setPlaceholderFontToEditText()},setPlaceholderFontSize:function($fontSize$$){this._placeholderFontSize=
$fontSize$$;this._setPlaceholderFontToEditText()},_setPlaceholderFontToEditText:function(){this._edTxt.value==this._placeholderText&&(this._edTxt.style.fontFamily=this._placeholderFontName,this._edTxt.style.fontSize=this._placeholderFontSize+"px")},setPlaceholderFontColor:function($color$$){this._placeholderColor=$color$$;this._edTxt.value==this._placeholderText&&(this._edTxt.style.color=cc.colorToHex($color$$))},setInputFlag:function($inputFlag$$){this._editBoxInputFlag=$inputFlag$$;this._edTxt.type=
$inputFlag$$==cc.EDITBOX_INPUT_FLAG_PASSWORD?"password":"text"},getText:function(){cc.log("Please use the getString");return this._edTxt.value},getString:function(){return this._edTxt.value},initWithSizeAndBackgroundSprite:function($size$$,$normal9SpriteBg$$){return this.initWithBackgroundSprite($normal9SpriteBg$$)?(this._domInputSprite.x=3,this._domInputSprite.y=3,this.setZoomOnTouchDown(!1),this.setPreferredSize($size$$),this.y=this.x=0,this._addTargetWithActionForControlEvent(this,this.touchDownAction,
cc.CONTROL_EVENT_TOUCH_UP_INSIDE),!0):!1},setDelegate:function($delegate$$){this._delegate=$delegate$$},getPlaceHolder:function(){return this._placeholderText},setInputMode:function($inputMode$$){this._editBoxInputMode=$inputMode$$},setReturnType:function($returnType$$){this._keyboardReturnType=$returnType$$},keyboardWillShow:function($info$$){var $rectTracked$$=cc.EditBox.getRect(this);$rectTracked$$.y-=4;$rectTracked$$.intersectsRect($info$$.end)?this._adjustHeight=$info$$.end.getMaxY()-$rectTracked$$.getMinY():
cc.log("needn't to adjust view layout.")},keyboardDidShow:function($info$$){},keyboardWillHide:function($info$$){},keyboardDidHide:function($info$$){},touchDownAction:function($sender$$,$controlEvent$$){},initWithBackgroundColor:function($size$$,$bgColor$$){this._edWidth=$size$$.width;this.dom.style.width=this._edWidth.toString()+"px";this._edHeight=$size$$.height;this.dom.style.height=this._edHeight.toString()+"px";this.dom.style.backgroundColor=cc.colorToHex($bgColor$$)}});_p=cc.EditBox.prototype;
_p.font;cc.defineGetterSetter(_p,"font",null,_p._setFont);_p.fontName;cc.defineGetterSetter(_p,"fontName",null,_p.setFontName);_p.fontSize;cc.defineGetterSetter(_p,"fontSize",null,_p.setFontSize);_p.fontColor;cc.defineGetterSetter(_p,"fontColor",null,_p.setFontColor);_p.string;cc.defineGetterSetter(_p,"string",_p.getString,_p.setString);_p.maxLength;cc.defineGetterSetter(_p,"maxLength",_p.getMaxLength,_p.setMaxLength);_p.placeHolder;cc.defineGetterSetter(_p,"placeHolder",_p.getPlaceHolder,_p.setPlaceHolder);
_p.placeHolderFont;cc.defineGetterSetter(_p,"placeHolderFont",null,_p._setPlaceholderFont);_p.placeHolderFontName;cc.defineGetterSetter(_p,"placeHolderFontName",null,_p.setPlaceholderFontName);_p.placeHolderFontSize;cc.defineGetterSetter(_p,"placeHolderFontSize",null,_p.setPlaceholderFontSize);_p.placeHolderFontColor;cc.defineGetterSetter(_p,"placeHolderFontColor",null,_p.setPlaceholderFontColor);_p.inputFlag;cc.defineGetterSetter(_p,"inputFlag",null,_p.setInputFlag);_p.delegate;
cc.defineGetterSetter(_p,"delegate",null,_p.setDelegate);_p.inputMode;cc.defineGetterSetter(_p,"inputMode",null,_p.setInputMode);_p.returnType;cc.defineGetterSetter(_p,"returnType",null,_p.setReturnType);_p=null;cc.EditBox.getRect=function $cc$EditBox$getRect$($node$$){var $contentSize$$4_rect$$=$node$$.getContentSize(),$contentSize$$4_rect$$=cc.rect(0,0,$contentSize$$4_rect$$.width,$contentSize$$4_rect$$.height);return cc.rectApplyAffineTransform($contentSize$$4_rect$$,$node$$.nodeToWorldTransform())};
cc.EditBox.create=function $cc$EditBox$create$($size$$,$normal9SpriteBg$$,$press9SpriteBg$$,$disabled9SpriteBg$$){return new cc.EditBox($size$$,$normal9SpriteBg$$,$press9SpriteBg$$,$disabled9SpriteBg$$)};
cc.ProtectedNode=cc.Node.extend({_protectedChildren:null,_reorderProtectedChildDirty:!1,_insertProtectedChild:function($child$$,$z$$){this._reorderProtectedChildDirty=!0;this._protectedChildren.push($child$$);$child$$._setLocalZOrder($z$$)},ctor:function(){cc.Node.prototype.ctor.call(this);this._protectedChildren=[]},addProtectedChild:function($child$$,$localZOrder$$,$tag$$){cc.assert(null!=$child$$,"child must be non-nil");cc.assert(!$child$$.parent,"child already added. It can't be added again");
$localZOrder$$=$localZOrder$$||$child$$.getLocalZOrder();$tag$$&&$child$$.setTag($tag$$);this._insertProtectedChild($child$$,$localZOrder$$);$child$$.setParent(this);$child$$.setOrderOfArrival(cc.s_globalOrderOfArrival);if(this._running&&($child$$.onEnter(),this._isTransitionFinished))$child$$.onEnterTransitionDidFinish();this._cascadeColorEnabled&&this._enableCascadeColor();this._cascadeOpacityEnabled&&this._enableCascadeOpacity()},getProtectedChildByTag:function($tag$$){cc.assert($tag$$!=cc.NODE_TAG_INVALID,
"Invalid tag");for(var $locChildren$$=this._protectedChildren,$i$$=0,$len$$=$locChildren$$.length;$i$$<$len$$;$i$$++)if($locChildren$$.getTag()==$tag$$)return $locChildren$$[$i$$];return null},removeProtectedChild:function($child$$,$cleanup$$){null==$cleanup$$&&($cleanup$$=!0);var $locChildren$$=this._protectedChildren;if(0!==$locChildren$$.length){var $idx$$=$locChildren$$.indexOf($child$$);-1<$idx$$&&(this._running&&($child$$.onExitTransitionDidStart(),$child$$.onExit()),$cleanup$$&&$child$$.cleanup(),
$child$$.setParent(null),$locChildren$$.splice($idx$$,1))}},removeProtectedChildByTag:function($tag$$,$cleanup$$){cc.assert($tag$$!=cc.NODE_TAG_INVALID,"Invalid tag");null==$cleanup$$&&($cleanup$$=!0);var $child$$=this.getProtectedChildByTag($tag$$);null==$child$$?cc.log("cocos2d: removeChildByTag(tag = %d): child not found!",$tag$$):this.removeProtectedChild($child$$,$cleanup$$)},removeAllProtectedChildren:function(){this.removeAllProtectedChildrenWithCleanup(!0)},removeAllProtectedChildrenWithCleanup:function($cleanup$$){null==
$cleanup$$&&($cleanup$$=!0);for(var $locChildren$$=this._protectedChildren,$i$$=0,$len$$=$locChildren$$.length;$i$$<$len$$;$i$$++){var $child$$=$locChildren$$[$i$$];this._running&&($child$$.onExitTransitionDidStart(),$child$$.onExit());$cleanup$$&&$child$$.cleanup();$child$$.setParent(null)}$locChildren$$.length=0},reorderProtectedChild:function($child$$,$localZOrder$$){cc.assert(null!=$child$$,"Child must be non-nil");this._reorderProtectedChildDirty=!0;$child$$.setOrderOfArrival(cc.s_globalOrderOfArrival++);
$child$$._setLocalZOrder($localZOrder$$)},sortAllProtectedChildren:function(){if(this._reorderProtectedChildDirty){var $_children$$=this._protectedChildren,$len$$=$_children$$.length,$i$$,$j$$,$tmp$$;for($i$$=1;$i$$<$len$$;$i$$++){$tmp$$=$_children$$[$i$$];for($j$$=$i$$-1;0<=$j$$;){if($tmp$$._localZOrder<$_children$$[$j$$]._localZOrder)$_children$$[$j$$+1]=$_children$$[$j$$];else if($tmp$$._localZOrder===$_children$$[$j$$]._localZOrder&&$tmp$$.arrivalOrder<$_children$$[$j$$].arrivalOrder)$_children$$[$j$$+
1]=$_children$$[$j$$];else break;$j$$--}$_children$$[$j$$+1]=$tmp$$}this._reorderProtectedChildDirty=!1}},visit:null,_visitForCanvas:function($context$$41_ctx$$){if(this._visible){$context$$41_ctx$$=$context$$41_ctx$$||cc._renderContext;var $i$$,$j$$,$children$$=this._children,$child$$,$locProtectedChildren$$=this._protectedChildren,$childLen$$=this._children.length,$pLen$$=$locProtectedChildren$$.length;this.transform($context$$41_ctx$$);this.sortAllChildren();this.sortAllProtectedChildren();for($i$$=
0;$i$$<$childLen$$;$i$$++)if($child$$=$children$$[$i$$],0>$child$$._localZOrder)$child$$.visit($context$$41_ctx$$);else break;for($j$$=0;$j$$<$pLen$$;$j$$++)if($child$$=$locProtectedChildren$$[$j$$],0>$child$$._localZOrder)$child$$.visit($context$$41_ctx$$);else break;for(this._rendererCmd&&cc.renderer.pushRenderCommand(this._rendererCmd);$i$$<$childLen$$;$i$$++)$children$$[$i$$]&&$children$$[$i$$].visit($context$$41_ctx$$);for(;$j$$<$pLen$$;$j$$++)$locProtectedChildren$$[$j$$]&&$locProtectedChildren$$[$j$$].visit($context$$41_ctx$$);
this._cacheDirty=!1}},_visitForWebGL:function(){if(this._visible){var $i$$,$currentStack$$=cc.current_stack,$j$$;$currentStack$$.stack.push($currentStack$$.top);cc.kmMat4Assign(this._stackMatrix,$currentStack$$.top);$currentStack$$.top=this._stackMatrix;var $locGrid$$=this.grid;$locGrid$$&&$locGrid$$._active&&$locGrid$$.beforeDraw();this.transform();var $locChildren$$=this._children,$locProtectedChildren$$=this._protectedChildren,$childLen$$=$locChildren$$.length,$pLen$$=$locProtectedChildren$$.length;
this.sortAllChildren();this.sortAllProtectedChildren();for($i$$=0;$i$$<$childLen$$;$i$$++)if($locChildren$$[$i$$]&&0>$locChildren$$[$i$$]._localZOrder)$locChildren$$[$i$$].visit();else break;for($j$$=0;$j$$<$pLen$$;$j$$++)if($locProtectedChildren$$[$j$$]&&0>$locProtectedChildren$$[$j$$]._localZOrder)$locProtectedChildren$$[$j$$].visit();else break;for(this._rendererCmd&&cc.renderer.pushRenderCommand(this._rendererCmd);$i$$<$childLen$$;$i$$++)$locChildren$$[$i$$]&&$locChildren$$[$i$$].visit();for(;$j$$<
$pLen$$;$j$$++)$locProtectedChildren$$[$j$$]&&$locProtectedChildren$$[$j$$].visit();$locGrid$$&&$locGrid$$._active&&$locGrid$$.afterDraw(this);$currentStack$$.top=$currentStack$$.stack.pop()}},cleanup:function(){cc.Node.prototype.cleanup.call(this);for(var $locChildren$$=this._protectedChildren,$i$$=0,$len$$=$locChildren$$.length;$i$$<$len$$;$i$$++)$locChildren$$[$i$$].cleanup()},onEnter:function(){cc.Node.prototype.onEnter.call(this);for(var $locChildren$$=this._protectedChildren,$i$$=0,$len$$=$locChildren$$.length;$i$$<
$len$$;$i$$++)$locChildren$$[$i$$].onEnter()},onEnterTransitionDidFinish:function(){cc.Node.prototype.onEnterTransitionDidFinish.call(this);for(var $locChildren$$=this._protectedChildren,$i$$=0,$len$$=$locChildren$$.length;$i$$<$len$$;$i$$++)$locChildren$$[$i$$].onEnterTransitionDidFinish()},onExit:function(){cc.Node.prototype.onExit.call(this);for(var $locChildren$$=this._protectedChildren,$i$$=0,$len$$=$locChildren$$.length;$i$$<$len$$;$i$$++)$locChildren$$[$i$$].onExit()},onExitTransitionDidStart:function(){cc.Node.prototype.onExitTransitionDidStart.call(this);
for(var $locChildren$$=this._protectedChildren,$i$$=0,$len$$=$locChildren$$.length;$i$$<$len$$;$i$$++)$locChildren$$[$i$$].onExitTransitionDidStart()},updateDisplayedOpacity:function($i$$390_parentOpacity$$){this._displayedOpacity=this._realOpacity*$i$$390_parentOpacity$$/255;this._updateColor();var $len$$,$locChildren$$,$_opacity$$=this._displayedOpacity;if(this._cascadeOpacityEnabled)for($locChildren$$=this._children,$i$$390_parentOpacity$$=0,$len$$=$locChildren$$.length;$i$$390_parentOpacity$$<
$len$$;$i$$390_parentOpacity$$++)$locChildren$$[$i$$390_parentOpacity$$].updateDisplayedOpacity&&$locChildren$$[$i$$390_parentOpacity$$].updateDisplayedOpacity($_opacity$$);$locChildren$$=this._protectedChildren;$i$$390_parentOpacity$$=0;for($len$$=$locChildren$$.length;$i$$390_parentOpacity$$<$len$$;$i$$390_parentOpacity$$++)$locChildren$$[$i$$390_parentOpacity$$]&&$locChildren$$[$i$$390_parentOpacity$$].updateDisplayedOpacity($_opacity$$)},updateDisplayedColor:function($i$$391_parentColor$$){var $displayedColor$$=
this._displayedColor,$len$$=this._realColor;$displayedColor$$.r=$len$$.r*$i$$391_parentColor$$.r/255;$displayedColor$$.g=$len$$.g*$i$$391_parentColor$$.g/255;$displayedColor$$.b=$len$$.b*$i$$391_parentColor$$.b/255;this._updateColor();var $locChildren$$;if(this._cascadeColorEnabled)for($locChildren$$=this._children,$i$$391_parentColor$$=0,$len$$=$locChildren$$.length;$i$$391_parentColor$$<$len$$;$i$$391_parentColor$$++)$locChildren$$[$i$$391_parentColor$$].updateDisplayedColor&&$locChildren$$[$i$$391_parentColor$$].updateDisplayedColor($displayedColor$$);
$locChildren$$=this._protectedChildren;$i$$391_parentColor$$=0;for($len$$=$locChildren$$.length;$i$$391_parentColor$$<$len$$;$i$$391_parentColor$$++)$locChildren$$[$i$$391_parentColor$$]&&$locChildren$$[$i$$391_parentColor$$].updateDisplayedColor($displayedColor$$)},_disableCascadeOpacity:function(){this._displayedOpacity=this._realOpacity;var $selChildren$$=this._children,$i$$,$item$$;for($i$$=0;$i$$<$selChildren$$.length;$i$$++)($item$$=$selChildren$$[$i$$])&&$item$$.updateDisplayedOpacity(255);
$selChildren$$=this._protectedChildren;for($i$$=0;$i$$<$selChildren$$.length;$i$$++)($item$$=$selChildren$$[$i$$])&&$item$$.updateDisplayedOpacity(255)},_disableCascadeColor:function(){var $white$$=cc.color.WHITE,$i$$,$len$$,$locChildren$$=this._children;$i$$=0;for($len$$=$locChildren$$.length;$i$$<$len$$;$i$$++)$locChildren$$[$i$$].updateDisplayedColor($white$$);$locChildren$$=this._protectedChildren;$i$$=0;for($len$$=$locChildren$$.length;$i$$<$len$$;$i$$++)$locChildren$$[$i$$].setColor($white$$)}});
cc._renderType===cc._RENDER_TYPE_CANVAS?(cc.ProtectedNode.prototype.visit=cc.ProtectedNode.prototype._visitForCanvas,cc.ProtectedNode.prototype._transformForRenderer=function $cc$ProtectedNode$$_transformForRenderer$(){var $i$$394_t$$=this.nodeToParentTransform(),$len$$119_worldT$$=this._transformWorld;if(this._parent){var $locChildren$$58_pt$$=this._parent._transformWorld;$len$$119_worldT$$.a=$i$$394_t$$.a*$locChildren$$58_pt$$.a+$i$$394_t$$.b*$locChildren$$58_pt$$.c;$len$$119_worldT$$.b=$i$$394_t$$.a*
$locChildren$$58_pt$$.b+$i$$394_t$$.b*$locChildren$$58_pt$$.d;$len$$119_worldT$$.c=$i$$394_t$$.c*$locChildren$$58_pt$$.a+$i$$394_t$$.d*$locChildren$$58_pt$$.c;$len$$119_worldT$$.d=$i$$394_t$$.c*$locChildren$$58_pt$$.b+$i$$394_t$$.d*$locChildren$$58_pt$$.d;if(this._skewX||this._skewY){var $plt$$=this._parent._transform,$yOffset$$=-($plt$$.b+$plt$$.c)*$i$$394_t$$.tx;$len$$119_worldT$$.tx=$i$$394_t$$.tx*$locChildren$$58_pt$$.a+$i$$394_t$$.ty*$locChildren$$58_pt$$.c+$locChildren$$58_pt$$.tx+-($plt$$.b+
$plt$$.c)*$i$$394_t$$.ty;$len$$119_worldT$$.ty=$i$$394_t$$.tx*$locChildren$$58_pt$$.b+$i$$394_t$$.ty*$locChildren$$58_pt$$.d+$locChildren$$58_pt$$.ty+$yOffset$$}else $len$$119_worldT$$.tx=$i$$394_t$$.tx*$locChildren$$58_pt$$.a+$i$$394_t$$.ty*$locChildren$$58_pt$$.c+$locChildren$$58_pt$$.tx,$len$$119_worldT$$.ty=$i$$394_t$$.tx*$locChildren$$58_pt$$.b+$i$$394_t$$.ty*$locChildren$$58_pt$$.d+$locChildren$$58_pt$$.ty}else $len$$119_worldT$$.a=$i$$394_t$$.a,$len$$119_worldT$$.b=$i$$394_t$$.b,$len$$119_worldT$$.c=
$i$$394_t$$.c,$len$$119_worldT$$.d=$i$$394_t$$.d,$len$$119_worldT$$.tx=$i$$394_t$$.tx,$len$$119_worldT$$.ty=$i$$394_t$$.ty;this._renderCmdDiry=!1;$locChildren$$58_pt$$=this._children;$i$$394_t$$=0;for($len$$119_worldT$$=$locChildren$$58_pt$$.length;$i$$394_t$$<$len$$119_worldT$$;$i$$394_t$$++)$locChildren$$58_pt$$[$i$$394_t$$]._transformForRenderer();$locChildren$$58_pt$$=this._protectedChildren;$i$$394_t$$=0;for($len$$119_worldT$$=$locChildren$$58_pt$$.length;$i$$394_t$$<$len$$119_worldT$$;$i$$394_t$$++)$locChildren$$58_pt$$[$i$$394_t$$]._transformForRenderer()}):
(cc.ProtectedNode.prototype.visit=cc.ProtectedNode.prototype._visitForWebGL,cc.ProtectedNode.prototype._transformForRenderer=function $cc$ProtectedNode$$_transformForRenderer$(){var $i$$395_t4x4$$=this._transform4x4,$len$$120_stackMatrix$$=this._stackMatrix,$locChildren$$59_parentMatrix$$=this._parent?this._parent._stackMatrix:cc.current_stack.top,$trans$$=this.nodeToParentTransform(),$t4x4Mat$$=$i$$395_t4x4$$.mat;$t4x4Mat$$[0]=$trans$$.a;$t4x4Mat$$[4]=$trans$$.c;$t4x4Mat$$[12]=$trans$$.tx;$t4x4Mat$$[1]=
$trans$$.b;$t4x4Mat$$[5]=$trans$$.d;$t4x4Mat$$[13]=$trans$$.ty;$t4x4Mat$$[14]=this._vertexZ;cc.kmMat4Multiply($len$$120_stackMatrix$$,$locChildren$$59_parentMatrix$$,$i$$395_t4x4$$);this._renderCmdDiry=!1;$locChildren$$59_parentMatrix$$=this._children;$i$$395_t4x4$$=0;for($len$$120_stackMatrix$$=$locChildren$$59_parentMatrix$$.length;$i$$395_t4x4$$<$len$$120_stackMatrix$$;$i$$395_t4x4$$++)$locChildren$$59_parentMatrix$$[$i$$395_t4x4$$]._transformForRenderer();$locChildren$$59_parentMatrix$$=this._protectedChildren;
$i$$395_t4x4$$=0;for($len$$120_stackMatrix$$=$locChildren$$59_parentMatrix$$.length;$i$$395_t4x4$$<$len$$120_stackMatrix$$;$i$$395_t4x4$$++)$locChildren$$59_parentMatrix$$[$i$$395_t4x4$$]._transformForRenderer()});cc.ProtectedNode.create=function $cc$ProtectedNode$create$(){return new cc.ProtectedNode};var ccui=ccui||{};ccui.Class=ccui.Class||cc.Class;ccui.Class.extend=ccui.Class.extend||cc.Class.extend;ccui.Node=ccui.Node||cc.Node;ccui.Node.extend=ccui.Node.extend||cc.Node.extend;
ccui.ProtectedNode=ccui.ProtectedNode||cc.ProtectedNode;ccui.ProtectedNode.extend=ccui.ProtectedNode.extend||cc.ProtectedNode.extend;ccui.cocosGUIVersion="CocosGUI v1.0.0.0";ccui.__LAYOUT_COMPONENT_NAME="__ui_layout";
ccui.Widget=ccui.ProtectedNode.extend({_enabled:!0,_bright:!0,_touchEnabled:!1,_brightStyle:null,_touchBeganPosition:null,_touchMovePosition:null,_touchEndPosition:null,_touchEventListener:null,_touchEventSelector:null,_name:"default",_widgetType:null,_actionTag:0,_customSize:null,_layoutParameterDictionary:null,_layoutParameterType:0,_focused:!1,_focusEnabled:!0,_ignoreSize:!1,_affectByClipping:!1,_sizeType:null,_sizePercent:null,_positionType:null,_positionPercent:null,_hit:!1,_nodes:null,_touchListener:null,
_className:"Widget",_flippedX:!1,_flippedY:!1,_opacity:255,_highlight:!1,_touchEventCallback:null,_propagateTouchEvents:!0,_unifySize:!1,ctor:function(){cc.ProtectedNode.prototype.ctor.call(this);this._brightStyle=ccui.Widget.BRIGHT_STYLE_NONE;this._touchBeganPosition=cc.p(0,0);this._touchMovePosition=cc.p(0,0);this._touchEndPosition=cc.p(0,0);this._widgetType=ccui.Widget.TYPE_WIDGET;this._customSize=cc.size(0,0);this._layoutParameterDictionary={};this._sizeType=ccui.Widget.SIZE_ABSOLUTE;this._sizePercent=
cc.p(0,0);this._positionType=ccui.Widget.POSITION_ABSOLUTE;this._positionPercent=cc.p(0,0);this._nodes=[];this._layoutParameterType=ccui.LayoutParameter.NONE;this.init()},init:function(){return cc.ProtectedNode.prototype.init.call(this)?(this._layoutParameterDictionary={},this._initRenderer(),this.setBright(!0),this.onFocusChanged=this.onFocusChange.bind(this),this.onNextFocusedWidget=null,this.setAnchorPoint(cc.p(.5,.5)),this.ignoreContentAdaptWithSize(!0),!0):!1},onEnter:function(){this.updateSizeAndPosition();
cc.ProtectedNode.prototype.onEnter.call(this)},onExit:function(){this.unscheduleUpdate();cc.ProtectedNode.prototype.onExit.call(this)},getOrCreateLayoutComponent:function(){var $component$$=this.getComponent(ccui.__LAYOUT_COMPONENT_NAME);null==$component$$&&($component$$=new ccui.LayoutComponent,this.addComponent($component$$));return $component$$},visit:function($ctx$$){this._visible&&(this._adaptRenderers(),cc.ProtectedNode.prototype.visit.call(this,$ctx$$))},getWidgetParent:function(){var $widget$$=
this.getParent();return $widget$$ instanceof ccui.Widget?$widget$$:null},_updateContentSizeWithTextureSize:function($size$$){this.setContentSize(this._ignoreSize?$size$$:this._customSize)},_isAncestorsEnabled:function(){var $parentWidget$$=this._getAncensterWidget(this);return null==$parentWidget$$?!0:$parentWidget$$&&!$parentWidget$$.isEnabled()?!1:$parentWidget$$._isAncestorsEnabled()},setPropagateTouchEvents:function($isPropagate$$){this._propagateTouchEvents=$isPropagate$$},isPropagateTouchEvents:function(){return this._propagateTouchEvents},
setSwallowTouches:function($swallow$$){this._touchListener&&this._touchListener.setSwallowTouches($swallow$$)},isSwallowTouches:function(){return this._touchListener?!0:!1},_getAncensterWidget:function($node$$216_parent$$){if(null==$node$$216_parent$$)return null;$node$$216_parent$$=$node$$216_parent$$.getParent();return null==$node$$216_parent$$?null:$node$$216_parent$$ instanceof ccui.Widget?$node$$216_parent$$:this._getAncensterWidget($node$$216_parent$$.getParent())},_isAncestorsVisible:function($node$$217_parent$$){return null==
$node$$217_parent$$?!0:($node$$217_parent$$=$node$$217_parent$$.getParent())&&!$node$$217_parent$$.isVisible()?!1:this._isAncestorsVisible($node$$217_parent$$)},_cleanupWidget:function(){this._eventDispatcher.removeEventListener(this._touchListener);ccui.Widget._focusedWidget==this&&(ccui.Widget._focusedWidget=null)},setEnabled:function($enabled$$){this._enabled=$enabled$$},_initRenderer:function(){},setContentSize:function($contentSize$$,$height$$){var $locWidth$$=void 0===$height$$?$contentSize$$.width:
$contentSize$$,$locHeight$$=void 0===$height$$?$contentSize$$.height:$height$$;cc.Node.prototype.setContentSize.call(this,$locWidth$$,$locHeight$$);this._customSize.width=$locWidth$$;this._customSize.height=$locHeight$$;this._ignoreSize&&(this._contentSize=this.getVirtualRendererSize());if(this._running){var $pSize_widgetParent$$=this.getWidgetParent(),$pSize_widgetParent$$=$pSize_widgetParent$$?$pSize_widgetParent$$.getContentSize():this._parent.getContentSize();this._sizePercent.x=0<$pSize_widgetParent$$.width?
$locWidth$$/$pSize_widgetParent$$.width:0;this._sizePercent.y=0<$pSize_widgetParent$$.height?$locHeight$$/$pSize_widgetParent$$.height:0}this._onSizeChanged()},_setWidth:function($locWidth$$5_w$$30_widgetParent$$){cc.Node.prototype._setWidth.call(this,$locWidth$$5_w$$30_widgetParent$$);this._customSize.width=$locWidth$$5_w$$30_widgetParent$$;this._ignoreSize&&(this._contentSize=this.getVirtualRendererSize());this._running&&($locWidth$$5_w$$30_widgetParent$$=($locWidth$$5_w$$30_widgetParent$$=this.getWidgetParent())?
$locWidth$$5_w$$30_widgetParent$$.width:this._parent.width,this._sizePercent.x=0<$locWidth$$5_w$$30_widgetParent$$?this._customSize.width/$locWidth$$5_w$$30_widgetParent$$:0);this._onSizeChanged()},_setHeight:function($h$$39_locH_widgetParent$$){cc.Node.prototype._setHeight.call(this,$h$$39_locH_widgetParent$$);this._customSize.height=$h$$39_locH_widgetParent$$;this._ignoreSize&&(this._contentSize=this.getVirtualRendererSize());this._running&&($h$$39_locH_widgetParent$$=($h$$39_locH_widgetParent$$=
this.getWidgetParent())?$h$$39_locH_widgetParent$$.height:this._parent.height,this._sizePercent.y=0<$h$$39_locH_widgetParent$$?this._customSize.height/$h$$39_locH_widgetParent$$:0);this._onSizeChanged()},setSizePercent:function($percent$$){this._sizePercent.x=$percent$$.x;this._sizePercent.y=$percent$$.y;var $width$$=this._customSize.width,$height$$70_widgetParent$$=this._customSize.height;this._running&&(($height$$70_widgetParent$$=this.getWidgetParent())?($width$$=$height$$70_widgetParent$$.width*
$percent$$.x,$height$$70_widgetParent$$=$height$$70_widgetParent$$.height*$percent$$.y):($width$$=this._parent.width*$percent$$.x,$height$$70_widgetParent$$=this._parent.height*$percent$$.y));this._ignoreSize?this.setContentSize(this.getVirtualRendererSize()):this.setContentSize($width$$,$height$$70_widgetParent$$);this._customSize.width=$width$$;this._customSize.height=$height$$70_widgetParent$$},_setWidthPercent:function($percent$$){this._sizePercent.x=$percent$$;var $widgetParent$$4_width$$=this._customSize.width;
this._running&&($widgetParent$$4_width$$=this.getWidgetParent(),$widgetParent$$4_width$$=($widgetParent$$4_width$$?$widgetParent$$4_width$$.width:this._parent.width)*$percent$$);this._ignoreSize?this._setWidth(this.getVirtualRendererSize().width):this._setWidth($widgetParent$$4_width$$);this._customSize.width=$widgetParent$$4_width$$},_setHeightPercent:function($percent$$){this._sizePercent.y=$percent$$;var $height$$71_widgetParent$$=this._customSize.height;this._running&&($height$$71_widgetParent$$=
this.getWidgetParent(),$height$$71_widgetParent$$=($height$$71_widgetParent$$?$height$$71_widgetParent$$.height:this._parent.height)*$percent$$);this._ignoreSize?this._setHeight(this.getVirtualRendererSize().height):this._setHeight($height$$71_widgetParent$$);this._customSize.height=$height$$71_widgetParent$$},updateSizeAndPosition:function($parentSize$$5_renderer$$2_widgetParent$$){$parentSize$$5_renderer$$2_widgetParent$$||($parentSize$$5_renderer$$2_widgetParent$$=($parentSize$$5_renderer$$2_widgetParent$$=
this.getWidgetParent())?$parentSize$$5_renderer$$2_widgetParent$$.getLayoutSize():this._parent.getContentSize());switch(this._sizeType){case ccui.Widget.SIZE_ABSOLUTE:this._ignoreSize?this.setContentSize(this.getVirtualRendererSize()):this.setContentSize(this._customSize);this._sizePercent.x=0<$parentSize$$5_renderer$$2_widgetParent$$.width?this._customSize.width/$parentSize$$5_renderer$$2_widgetParent$$.width:0;this._sizePercent.y=0<$parentSize$$5_renderer$$2_widgetParent$$.height?this._customSize.height/
$parentSize$$5_renderer$$2_widgetParent$$.height:0;break;case ccui.Widget.SIZE_PERCENT:var $absPos$$=cc.size($parentSize$$5_renderer$$2_widgetParent$$.width*this._sizePercent.x,$parentSize$$5_renderer$$2_widgetParent$$.height*this._sizePercent.y);this._ignoreSize?this.setContentSize(this.getVirtualRendererSize()):this.setContentSize($absPos$$);this._customSize.width=$absPos$$.width;this._customSize.height=$absPos$$.height}this._onSizeChanged();$absPos$$=this.getPosition();switch(this._positionType){case ccui.Widget.POSITION_ABSOLUTE:0>=
$parentSize$$5_renderer$$2_widgetParent$$.width||0>=$parentSize$$5_renderer$$2_widgetParent$$.height?this._positionPercent.x=this._positionPercent.y=0:(this._positionPercent.x=$absPos$$.x/$parentSize$$5_renderer$$2_widgetParent$$.width,this._positionPercent.y=$absPos$$.y/$parentSize$$5_renderer$$2_widgetParent$$.height);break;case ccui.Widget.POSITION_PERCENT:$absPos$$=cc.p($parentSize$$5_renderer$$2_widgetParent$$.width*this._positionPercent.x,$parentSize$$5_renderer$$2_widgetParent$$.height*this._positionPercent.y)}if(this._parent instanceof
ccui.ImageView&&($parentSize$$5_renderer$$2_widgetParent$$=this._parent._imageRenderer)&&!$parentSize$$5_renderer$$2_widgetParent$$._textureLoaded)return;this.setPosition($absPos$$)},setSizeType:function($type$$){this._sizeType=$type$$},getSizeType:function(){return this._sizeType},ignoreContentAdaptWithSize:function($ignore$$){this._ignoreSize!=$ignore$$&&(this._ignoreSize=$ignore$$,this.setContentSize($ignore$$?this.getVirtualRendererSize():this._customSize),this._onSizeChanged())},isIgnoreContentAdaptWithSize:function(){return this._ignoreSize},
getCustomSize:function(){return cc.size(this._customSize)},getLayoutSize:function(){return cc.size(this._contentSize)},getSizePercent:function(){return this.getOrCreateLayoutComponent().getPercentContentSize()},_getWidthPercent:function(){return this._sizePercent.x},_getHeightPercent:function(){return this._sizePercent.y},getWorldPosition:function(){return this.convertToWorldSpace(cc.p(this._anchorPoint.x*this._contentSize.width,this._anchorPoint.y*this._contentSize.height))},getVirtualRenderer:function(){return this},
getVirtualRendererSize:function(){return cc.size(this._contentSize)},_onSizeChanged:function(){for(var $locChildren$$=this.getChildren(),$i$$=0,$len$$=$locChildren$$.length;$i$$<$len$$;$i$$++){var $child$$=$locChildren$$[$i$$];$child$$ instanceof ccui.Widget&&$child$$.updateSizeAndPosition()}},setTouchEnabled:function($enable$$){this._touchEnabled!==$enable$$&&((this._touchEnabled=$enable$$)?(this._touchListener||(this._touchListener=cc.EventListener.create({event:cc.EventListener.TOUCH_ONE_BY_ONE,
swallowTouches:!0,onTouchBegan:this.onTouchBegan.bind(this),onTouchMoved:this.onTouchMoved.bind(this),onTouchEnded:this.onTouchEnded.bind(this)})),cc.eventManager.addListener(this._touchListener,this)):cc.eventManager.removeListener(this._touchListener))},isTouchEnabled:function(){return this._touchEnabled},isHighlighted:function(){return this._highlight},setHighlighted:function($highlight$$){$highlight$$!=this._highlight&&(this._highlight=$highlight$$,this._bright?this._highlight?this.setBrightStyle(ccui.Widget.BRIGHT_STYLE_HIGH_LIGHT):
this.setBrightStyle(ccui.Widget.BRIGHT_STYLE_NORMAL):this._onPressStateChangedToDisabled())},isFocused:function(){return this._focused},setFocused:function($focus$$){if(this._focused=$focus$$)ccui.Widget._focusedWidget=this},isFocusEnabled:function(){return this._focusEnabled},setFocusEnabled:function($enable$$){this._focused=$enable$$},findNextFocusedWidget:function($direction$$,$current$$){if(null==this.onNextFocusedWidget||null==this.onNextFocusedWidget($direction$$)){var $getFocusWidget_isLayout$$=
$current$$ instanceof ccui.Layout;if(this.isFocused()||$getFocusWidget_isLayout$$){var $layout$$=this.getParent();return null==$layout$$?$getFocusWidget_isLayout$$?$current$$.findNextFocusedWidget($direction$$,$current$$):$current$$:$layout$$.findNextFocusedWidget($direction$$,$current$$)}return $current$$}$getFocusWidget_isLayout$$=this.onNextFocusedWidget($direction$$);this.dispatchFocusEvent(this,$getFocusWidget_isLayout$$);return $getFocusWidget_isLayout$$},requestFocus:function(){this!=ccui.Widget._focusedWidget&&
this.dispatchFocusEvent(ccui.Widget._focusedWidget,this)},getCurrentFocusedWidget:function(){return ccui.Widget._focusedWidget},enableDpadNavigation:function($enable$$){},onFocusChanged:null,onNextFocusedWidget:null,interceptTouchEvent:function($eventType$$,$sender$$,$touch$$){var $widgetParent$$=this.getWidgetParent();$widgetParent$$&&$widgetParent$$.interceptTouchEvent($eventType$$,$sender$$,$touch$$)},onFocusChange:function($widgetLostFocus$$,$widgetGetFocus$$){$widgetLostFocus$$&&$widgetLostFocus$$.setFocused(!1);
$widgetGetFocus$$&&$widgetGetFocus$$.setFocused(!0)},dispatchFocusEvent:function($widgetLostFocus$$,$widgetGetFocus$$){$widgetLostFocus$$&&!$widgetLostFocus$$.isFocused()&&($widgetLostFocus$$=ccui.Widget._focusedWidget);if($widgetGetFocus$$!=$widgetLostFocus$$){if($widgetGetFocus$$&&$widgetGetFocus$$.onFocusChanged)$widgetGetFocus$$.onFocusChanged($widgetLostFocus$$,$widgetGetFocus$$);if($widgetLostFocus$$&&$widgetGetFocus$$.onFocusChanged)$widgetLostFocus$$.onFocusChanged($widgetLostFocus$$,$widgetGetFocus$$);
cc.eventManager.dispatchEvent(new cc.EventFocus($widgetLostFocus$$,$widgetGetFocus$$))}},setBright:function($bright$$){(this._bright=$bright$$)?(this._brightStyle=ccui.Widget.BRIGHT_STYLE_NONE,this.setBrightStyle(ccui.Widget.BRIGHT_STYLE_NORMAL)):this._onPressStateChangedToDisabled()},setBrightStyle:function($style$$){if(this._brightStyle!=$style$$)switch(this._brightStyle=$style$$=$style$$||ccui.Widget.BRIGHT_STYLE_NORMAL,this._brightStyle){case ccui.Widget.BRIGHT_STYLE_NORMAL:this._onPressStateChangedToNormal();
break;case ccui.Widget.BRIGHT_STYLE_HIGH_LIGHT:this._onPressStateChangedToPressed()}},_onPressStateChangedToNormal:function(){},_onPressStateChangedToPressed:function(){},_onPressStateChangedToDisabled:function(){},_updateChildrenDisplayedRGBA:function(){this.setColor(this.getColor());this.setOpacity(this.getOpacity())},didNotSelectSelf:function(){},onTouchBegan:function($touch$$,$event$$){this._hit=!1;if(this.isVisible()&&this.isEnabled()&&this._isAncestorsEnabled()&&this._isAncestorsVisible(this)){var $touchPoint$$=
$touch$$.getLocation();this._touchBeganPosition.x=$touchPoint$$.x;this._touchBeganPosition.y=$touchPoint$$.y;this.hitTest(this._touchBeganPosition)&&this.isClippingParentContainsPoint(this._touchBeganPosition)&&(this._hit=!0)}if(!this._hit)return!1;this.setHighlighted(!0);this._propagateTouchEvents&&this.propagateTouchEvent(ccui.Widget.TOUCH_BEGAN,this,$touch$$);this._pushDownEvent();return!0},propagateTouchEvent:function($event$$,$sender$$,$touch$$){var $widgetParent$$=this.getWidgetParent();$widgetParent$$&&
$widgetParent$$.interceptTouchEvent($event$$,$sender$$,$touch$$)},onTouchMoved:function($touch$$,$event$$){var $touchPoint$$1_widgetParent$$=$touch$$.getLocation();this._touchMovePosition.x=$touchPoint$$1_widgetParent$$.x;this._touchMovePosition.y=$touchPoint$$1_widgetParent$$.y;this.setHighlighted(this.hitTest($touchPoint$$1_widgetParent$$));($touchPoint$$1_widgetParent$$=this.getWidgetParent())&&$touchPoint$$1_widgetParent$$.interceptTouchEvent(ccui.Widget.TOUCH_MOVED,this,$touch$$);this._moveEvent()},
onTouchEnded:function($touch$$,$event$$){var $highlight$$1_touchPoint$$2_widgetParent$$=$touch$$.getLocation();this._touchEndPosition.x=$highlight$$1_touchPoint$$2_widgetParent$$.x;this._touchEndPosition.y=$highlight$$1_touchPoint$$2_widgetParent$$.y;($highlight$$1_touchPoint$$2_widgetParent$$=this.getWidgetParent())&&$highlight$$1_touchPoint$$2_widgetParent$$.interceptTouchEvent(ccui.Widget.TOUCH_ENDED,this,$touch$$);$highlight$$1_touchPoint$$2_widgetParent$$=this._highlight;this.setHighlighted(!1);
$highlight$$1_touchPoint$$2_widgetParent$$?this._releaseUpEvent():this._cancelUpEvent()},onTouchCancelled:function($touchPoint$$){this.setHighlighted(!1);this._cancelUpEvent()},onTouchLongClicked:function($touchPoint$$){this.longClickEvent()},_pushDownEvent:function(){this._touchEventCallback&&this._touchEventCallback(this,ccui.Widget.TOUCH_BEGAN);this._touchEventListener&&this._touchEventSelector&&this._touchEventSelector.call(this._touchEventListener,this,ccui.Widget.TOUCH_BEGAN)},_moveEvent:function(){this._touchEventCallback&&
this._touchEventCallback(this,ccui.Widget.TOUCH_MOVED);this._touchEventListener&&this._touchEventSelector&&this._touchEventSelector.call(this._touchEventListener,this,ccui.Widget.TOUCH_MOVED)},_releaseUpEvent:function(){this._touchEventCallback&&this._touchEventCallback(this,ccui.Widget.TOUCH_ENDED);this._touchEventListener&&this._touchEventSelector&&this._touchEventSelector.call(this._touchEventListener,this,ccui.Widget.TOUCH_ENDED);this._clickEventListener&&this._clickEventListener(this)},_cancelUpEvent:function(){this._touchEventCallback&&
this._touchEventCallback(this,ccui.Widget.TOUCH_CANCELED);this._touchEventListener&&this._touchEventSelector&&this._touchEventSelector.call(this._touchEventListener,this,ccui.Widget.TOUCH_CANCELED)},longClickEvent:function(){},addTouchEventListener:function($selector$$,$target$$){void 0===$target$$?this._touchEventCallback=$selector$$:(this._touchEventSelector=$selector$$,this._touchEventListener=$target$$)},addClickEventListener:function($callback$$){this._clickEventListener=$callback$$},hitTest:function($pt$$){var $bb$$=
cc.rect(0,0,this._contentSize.width,this._contentSize.height);return cc.rectContainsPoint($bb$$,this.convertToNodeSpace($pt$$))},isClippingParentContainsPoint:function($pt$$){this._affectByClipping=!1;for(var $parent$$=this.getParent(),$clippingParent$$=null;$parent$$;){if($parent$$ instanceof ccui.Layout&&$parent$$.isClippingEnabled()){this._affectByClipping=!0;$clippingParent$$=$parent$$;break}$parent$$=$parent$$.getParent()}return this._affectByClipping?$clippingParent$$?$clippingParent$$.hitTest($pt$$)?
$clippingParent$$.isClippingParentContainsPoint($pt$$):!1:!0:!0},checkChildInfo:function($handleState$$,$sender$$,$touchPoint$$){var $widgetParent$$=this.getWidgetParent();$widgetParent$$&&$widgetParent$$.checkChildInfo($handleState$$,$sender$$,$touchPoint$$)},setPosition:function($pos$$,$posY$$){if(this._running){var $pSize$$1_widgetParent$$=this.getWidgetParent();$pSize$$1_widgetParent$$&&($pSize$$1_widgetParent$$=$pSize$$1_widgetParent$$.getContentSize(),0>=$pSize$$1_widgetParent$$.width||0>=$pSize$$1_widgetParent$$.height?
(this._positionPercent.x=0,this._positionPercent.y=0):void 0==$posY$$?(this._positionPercent.x=$pos$$.x/$pSize$$1_widgetParent$$.width,this._positionPercent.y=$pos$$.y/$pSize$$1_widgetParent$$.height):(this._positionPercent.x=$pos$$/$pSize$$1_widgetParent$$.width,this._positionPercent.y=$posY$$/$pSize$$1_widgetParent$$.height))}cc.Node.prototype.setPosition.call(this,$pos$$,$posY$$);this._positionType=ccui.Widget.POSITION_ABSOLUTE},setPositionX:function($x$$){if(this._running){var $pw_widgetParent$$=
this.getWidgetParent();$pw_widgetParent$$&&($pw_widgetParent$$=$pw_widgetParent$$.width,this._positionPercent.x=0>=$pw_widgetParent$$?0:$x$$/$pw_widgetParent$$)}cc.Node.prototype.setPositionX.call(this,$x$$)},setPositionY:function($y$$){if(this._running){var $ph_widgetParent$$=this.getWidgetParent();$ph_widgetParent$$&&($ph_widgetParent$$=$ph_widgetParent$$.height,this._positionPercent.y=0>=$ph_widgetParent$$?0:$y$$/$ph_widgetParent$$)}cc.Node.prototype.setPositionY.call(this,$y$$)},setPositionPercent:function($parentSize$$6_percent$$11_widgetParent$$){this._positionPercent=
$parentSize$$6_percent$$11_widgetParent$$;this._running&&($parentSize$$6_percent$$11_widgetParent$$=this.getWidgetParent())&&($parentSize$$6_percent$$11_widgetParent$$=$parentSize$$6_percent$$11_widgetParent$$.getSize(),this.setPosition($parentSize$$6_percent$$11_widgetParent$$.width*this._positionPercent.x,$parentSize$$6_percent$$11_widgetParent$$.height*this._positionPercent.y))},_setXPercent:function($percent$$){this._positionPercent.x=$percent$$;if(this._running){var $widgetParent$$=this.getWidgetParent();
$widgetParent$$&&this.setPositionX($widgetParent$$.width*$percent$$)}},_setYPercent:function($percent$$){this._positionPercent.y=$percent$$;if(this._running){var $widgetParent$$=this.getWidgetParent();$widgetParent$$&&this.setPositionY($widgetParent$$.height*$percent$$)}},getPositionPercent:function(){return cc.p(this.getNormalizedPosition())},_getXPercent:function(){return this._positionPercent.x},_getYPercent:function(){return this._positionPercent.y},setPositionType:function($type$$){this._positionType=
$type$$;this.setNodeDirty()},getPositionType:function(){return this._positionType},setFlippedX:function($flipX$$){this._flippedX=$flipX$$;this._updateFlippedX()},isFlippedX:function(){return this._flippedX},setFlippedY:function($flipY$$){this._flippedY=$flipY$$;this._updateFlippedY()},isFlippedY:function(){return this._flippedY},_updateFlippedX:function(){},_updateFlippedY:function(){},_adaptRenderers:function(){},isBright:function(){return this._bright},isEnabled:function(){return this._enabled},
getLeftBoundary:function(){return this.getPositionX()-this._getAnchorX()*this._contentSize.width},getBottomBoundary:function(){return this.getPositionY()-this._getAnchorY()*this._contentSize.height},getRightBoundary:function(){return this.getLeftBoundary()+this._contentSize.width},getTopBoundary:function(){return this.getBottomBoundary()+this._contentSize.height},getTouchBeganPosition:function(){return cc.p(this._touchBeganPosition)},getTouchMovePosition:function(){return cc.p(this._touchMovePosition)},
getTouchEndPosition:function(){return cc.p(this._touchEndPosition)},getWidgetType:function(){return this._widgetType},setLayoutParameter:function($parameter$$){$parameter$$&&(this._layoutParameterDictionary[$parameter$$.getLayoutType()]=$parameter$$,this._layoutParameterType=$parameter$$.getLayoutType())},getLayoutParameter:function($type$$){$type$$=$type$$||this._layoutParameterType;return this._layoutParameterDictionary[$type$$]},getDescription:function(){return"Widget"},clone:function(){var $clonedWidget$$=
this._createCloneInstance();$clonedWidget$$._copyProperties(this);$clonedWidget$$._copyClonedWidgetChildren(this);return $clonedWidget$$},_createCloneInstance:function(){return new ccui.Widget},_copyClonedWidgetChildren:function($model_widgetChildren$$){$model_widgetChildren$$=$model_widgetChildren$$.getChildren();for(var $i$$=0;$i$$<$model_widgetChildren$$.length;$i$$++){var $locChild$$=$model_widgetChildren$$[$i$$];$locChild$$ instanceof ccui.Widget&&this.addChild($locChild$$.clone())}},_copySpecialProperties:function($model$$){},
_copyProperties:function($widget$$){this.setEnabled($widget$$.isEnabled());this.setVisible($widget$$.isVisible());this.setBright($widget$$.isBright());this.setTouchEnabled($widget$$.isTouchEnabled());this.setLocalZOrder($widget$$.getLocalZOrder());this.setTag($widget$$.getTag());this.setName($widget$$.getName());this.setActionTag($widget$$.getActionTag());this._ignoreSize=$widget$$._ignoreSize;this.setContentSize($widget$$._contentSize);this._customSize.width=$widget$$._customSize.width;this._customSize.height=
$widget$$._customSize.height;this._copySpecialProperties($widget$$);this._sizeType=$widget$$.getSizeType();this._sizePercent.x=$widget$$._sizePercent.x;this._sizePercent.y=$widget$$._sizePercent.y;this._positionType=$widget$$._positionType;this._positionPercent.x=$widget$$._positionPercent.x;this._positionPercent.y=$widget$$._positionPercent.y;this.setPosition($widget$$.getPosition());this.setAnchorPoint($widget$$.getAnchorPoint());this.setScaleX($widget$$.getScaleX());this.setScaleY($widget$$.getScaleY());
this.setRotation($widget$$.getRotation());this.setRotationX($widget$$.getRotationX());this.setRotationY($widget$$.getRotationY());this.setFlippedX($widget$$.isFlippedX());this.setFlippedY($widget$$.isFlippedY());this.setColor($widget$$.getColor());this.setOpacity($widget$$.getOpacity());this._touchEventCallback=$widget$$._touchEventCallback;this._touchEventListener=$widget$$._touchEventListener;this._touchEventSelector=$widget$$._touchEventSelector;this._clickEventListener=$widget$$._clickEventListener;
this._focused=$widget$$._focused;this._focusEnabled=$widget$$._focusEnabled;this._propagateTouchEvents=$widget$$._propagateTouchEvents;for(var $key$$ in $widget$$._layoutParameterDictionary){var $parameter$$=$widget$$._layoutParameterDictionary[$key$$];$parameter$$&&this.setLayoutParameter($parameter$$.clone())}this._onSizeChanged()},setActionTag:function($tag$$){this._actionTag=$tag$$},getActionTag:function(){return this._actionTag},getLeftInParent:function(){cc.log("getLeftInParent is deprecated. Please use getLeftBoundary instead.");
return this.getLeftBoundary()},getBottomInParent:function(){cc.log("getBottomInParent is deprecated. Please use getBottomBoundary instead.");return this.getBottomBoundary()},getRightInParent:function(){cc.log("getRightInParent is deprecated. Please use getRightBoundary instead.");return this.getRightBoundary()},getTopInParent:function(){cc.log("getTopInParent is deprecated. Please use getTopBoundary instead.");return this.getTopBoundary()},getTouchEndPos:function(){cc.log("getTouchEndPos is deprecated. Please use getTouchEndPosition instead.");
return this.getTouchEndPosition()},getTouchMovePos:function(){cc.log("getTouchMovePos is deprecated. Please use getTouchMovePosition instead.");return this.getTouchMovePosition()},clippingParentAreaContainPoint:function($pt$$){cc.log("clippingParentAreaContainPoint is deprecated. Please use isClippingParentContainsPoint instead.");this.isClippingParentContainsPoint($pt$$)},getTouchStartPos:function(){cc.log("getTouchStartPos is deprecated. Please use getTouchBeganPosition instead.");return this.getTouchBeganPosition()},
setSize:function($size$$){this.setContentSize($size$$)},getSize:function(){return this.getContentSize()},addNode:function($node$$,$zOrder$$,$tag$$){$node$$ instanceof ccui.Widget?cc.log("Please use addChild to add a Widget."):(cc.Node.prototype.addChild.call(this,$node$$,$zOrder$$,$tag$$),this._nodes.push($node$$))},getNodeByTag:function($tag$$){for(var $_nodes$$=this._nodes,$i$$=0;$i$$<$_nodes$$.length;$i$$++){var $node$$=$_nodes$$[$i$$];if($node$$&&$node$$.getTag()==$tag$$)return $node$$}return null},
getNodes:function(){return this._nodes},removeNode:function($node$$,$cleanup$$){cc.Node.prototype.removeChild.call(this,$node$$,$cleanup$$);cc.arrayRemoveObject(this._nodes,$node$$)},removeNodeByTag:function($tag$$,$cleanup$$){var $node$$=this.getNodeByTag($tag$$);$node$$?this.removeNode($node$$):cc.log("cocos2d: removeNodeByTag(tag = %d): child not found!",$tag$$)},removeAllNodes:function(){for(var $i$$=0;$i$$<this._nodes.length;$i$$++)cc.Node.prototype.removeChild.call(this,this._nodes[$i$$]);this._nodes.length=
0},_findLayout:function(){cc.renderer.childrenOrderDirty=!0;for(var $layout$$=this._parent;$layout$$;)if($layout$$._doLayout){$layout$$._doLayoutDirty=!0;break}else $layout$$=$layout$$._parent},isUnifySizeEnabled:function(){return this._unifySize},setUnifySizeEnabled:function($enable$$){this._unifySize=$enable$$}});_p=ccui.Widget.prototype;_p.xPercent;cc.defineGetterSetter(_p,"xPercent",_p._getXPercent,_p._setXPercent);_p.yPercent;cc.defineGetterSetter(_p,"yPercent",_p._getYPercent,_p._setYPercent);
_p.widthPercent;cc.defineGetterSetter(_p,"widthPercent",_p._getWidthPercent,_p._setWidthPercent);_p.heightPercent;cc.defineGetterSetter(_p,"heightPercent",_p._getHeightPercent,_p._setHeightPercent);_p.widgetParent;cc.defineGetterSetter(_p,"widgetParent",_p.getWidgetParent);_p.enabled;cc.defineGetterSetter(_p,"enabled",_p.isEnabled,_p.setEnabled);_p.focused;cc.defineGetterSetter(_p,"focused",_p.isFocused,_p.setFocused);_p.sizeType;cc.defineGetterSetter(_p,"sizeType",_p.getSizeType,_p.setSizeType);
_p.widgetType;cc.defineGetterSetter(_p,"widgetType",_p.getWidgetType);_p.touchEnabled;cc.defineGetterSetter(_p,"touchEnabled",_p.isTouchEnabled,_p.setTouchEnabled);_p.updateEnabled;cc.defineGetterSetter(_p,"updateEnabled",_p.isUpdateEnabled,_p.setUpdateEnabled);_p.bright;cc.defineGetterSetter(_p,"bright",_p.isBright,_p.setBright);_p.name;cc.defineGetterSetter(_p,"name",_p.getName,_p.setName);_p.actionTag;cc.defineGetterSetter(_p,"actionTag",_p.getActionTag,_p.setActionTag);_p.opacity;
cc.defineGetterSetter(_p,"opacity",_p.getOpacity,_p.setOpacity);_p=null;ccui.Widget.create=function $ccui$Widget$create$(){return new ccui.Widget};ccui.Widget._focusedWidget=null;ccui.Widget.getCurrentFocusedWidget=function $ccui$Widget$getCurrentFocusedWidget$(){return ccui.Widget._focusedWidget};ccui.Widget.BRIGHT_STYLE_NONE=-1;ccui.Widget.BRIGHT_STYLE_NORMAL=0;ccui.Widget.BRIGHT_STYLE_HIGH_LIGHT=1;ccui.Widget.TYPE_WIDGET=0;ccui.Widget.TYPE_CONTAINER=1;ccui.Widget.LEFT=0;ccui.Widget.RIGHT=1;
ccui.Widget.UP=0;ccui.Widget.DOWN=1;ccui.Widget.LOCAL_TEXTURE=0;ccui.Widget.PLIST_TEXTURE=1;ccui.Widget.TOUCH_BEGAN=0;ccui.Widget.TOUCH_MOVED=1;ccui.Widget.TOUCH_ENDED=2;ccui.Widget.TOUCH_CANCELED=3;ccui.Widget.SIZE_ABSOLUTE=0;ccui.Widget.SIZE_PERCENT=1;ccui.Widget.POSITION_ABSOLUTE=0;ccui.Widget.POSITION_PERCENT=1;
cc.EventFocus=cc.Event.extend({_widgetGetFocus:null,_widgetLoseFocus:null,ctor:function($widgetLoseFocus$$,$widgetGetFocus$$){this._widgetGetFocus=$widgetGetFocus$$;this._widgetLoseFocus=$widgetLoseFocus$$}});
ccui.Scale9Sprite=cc.Node.extend({_spriteRect:null,_capInsetsInternal:null,_positionsAreDirty:!1,_scale9Image:null,_topLeft:null,_top:null,_topRight:null,_left:null,_centre:null,_right:null,_bottomLeft:null,_bottom:null,_bottomRight:null,_cacheSprite:null,_cacheCanvas:null,_cacheContext:null,_cacheTexture:null,_scale9Dirty:!0,_opacityModifyRGB:!1,_originalSize:null,_preferredSize:null,_opacity:0,_color:null,_capInsets:null,_insetLeft:0,_insetTop:0,_insetRight:0,_insetBottom:0,_spritesGenerated:!1,
_spriteFrameRotated:!1,_textureLoaded:!1,_className:"Scale9Sprite",textureLoaded:function(){return this._textureLoaded},addLoadedEventListener:function($callback$$,$target$$){this.addEventListener("load",$callback$$,$target$$)},_updateCapInset:function(){var $insets$$1_locInsetLeft$$;$insets$$1_locInsetLeft$$=this._insetLeft;var $locInsetTop$$=this._insetTop,$locInsetRight$$=this._insetRight,$locSpriteRect$$=this._spriteRect,$locInsetBottom$$=this._insetBottom;$insets$$1_locInsetLeft$$=0===$insets$$1_locInsetLeft$$&&
0===$locInsetTop$$&&0===$locInsetRight$$&&0===$locInsetBottom$$?cc.rect(0,0,0,0):this._spriteFrameRotated?cc.rect($locInsetBottom$$,$insets$$1_locInsetLeft$$,$locSpriteRect$$.width-$locInsetRight$$-$insets$$1_locInsetLeft$$,$locSpriteRect$$.height-$locInsetTop$$-$locInsetBottom$$):cc.rect($insets$$1_locInsetLeft$$,$locInsetTop$$,$locSpriteRect$$.width-$insets$$1_locInsetLeft$$-$locInsetRight$$,$locSpriteRect$$.height-$locInsetTop$$-$locInsetBottom$$);this.setCapInsets($insets$$1_locInsetLeft$$)},
_updatePositions:function(){if(this._topLeft&&this._topRight&&this._bottomRight&&this._bottomLeft&&this._centre){var $sizableHeight$$1_size$$82_verticalScale$$=this._contentSize,$locTopLeft$$=this._topLeft,$locTopRight$$=this._topRight,$locBottomRight$$=this._bottomRight,$locBottomLeft$$=this._bottomLeft,$locCenter$$=this._centre,$locCenterContentSize$$1_locLeft$$=this._centre.getContentSize(),$locTopLeftContentSize$$1_rescaledWidth$$=$locTopLeft$$.getContentSize(),$bottomHeight$$1_locBottomLeftContentSize$$=
$locBottomLeft$$.getContentSize(),$horizontalScale$$1_sizableWidth$$=$sizableHeight$$1_size$$82_verticalScale$$.width-$locTopLeftContentSize$$1_rescaledWidth$$.width-$locTopRight$$.getContentSize().width,$sizableHeight$$1_size$$82_verticalScale$$=$sizableHeight$$1_size$$82_verticalScale$$.height-$locTopLeftContentSize$$1_rescaledWidth$$.height-$locBottomRight$$.getContentSize().height,$horizontalScale$$1_sizableWidth$$=$horizontalScale$$1_sizableWidth$$/$locCenterContentSize$$1_locLeft$$.width,$sizableHeight$$1_size$$82_verticalScale$$=
$sizableHeight$$1_size$$82_verticalScale$$/$locCenterContentSize$$1_locLeft$$.height,$locTopLeftContentSize$$1_rescaledWidth$$=$locCenterContentSize$$1_locLeft$$.width*$horizontalScale$$1_sizableWidth$$,$rescaledHeight$$=$locCenterContentSize$$1_locLeft$$.height*$sizableHeight$$1_size$$82_verticalScale$$,$leftWidth$$=$bottomHeight$$1_locBottomLeftContentSize$$.width,$bottomHeight$$1_locBottomLeftContentSize$$=$bottomHeight$$1_locBottomLeftContentSize$$.height;if(cc._renderType==cc._RENDER_TYPE_WEBGL){var $locRight$$1_roundedRescaledHeight$$1_roundedRescaledWidth$$=
Math.round($locTopLeftContentSize$$1_rescaledWidth$$);$locTopLeftContentSize$$1_rescaledWidth$$!=$locRight$$1_roundedRescaledHeight$$1_roundedRescaledWidth$$&&($locTopLeftContentSize$$1_rescaledWidth$$=$locRight$$1_roundedRescaledHeight$$1_roundedRescaledWidth$$,$horizontalScale$$1_sizableWidth$$=$locTopLeftContentSize$$1_rescaledWidth$$/$locCenterContentSize$$1_locLeft$$.width);$locRight$$1_roundedRescaledHeight$$1_roundedRescaledWidth$$=Math.round($rescaledHeight$$);$rescaledHeight$$!=$locRight$$1_roundedRescaledHeight$$1_roundedRescaledWidth$$&&
($rescaledHeight$$=$locRight$$1_roundedRescaledHeight$$1_roundedRescaledWidth$$,$sizableHeight$$1_size$$82_verticalScale$$=$rescaledHeight$$/$locCenterContentSize$$1_locLeft$$.height)}$locCenter$$.setScaleX($horizontalScale$$1_sizableWidth$$);$locCenter$$.setScaleY($sizableHeight$$1_size$$82_verticalScale$$);var $locCenterContentSize$$1_locLeft$$=this._left,$locRight$$1_roundedRescaledHeight$$1_roundedRescaledWidth$$=this._right,$locTop$$=this._top,$locBottom$$=this._bottom,$tempAP$$=cc.p(0,0);$locBottomLeft$$.setAnchorPoint($tempAP$$);
$locBottomRight$$.setAnchorPoint($tempAP$$);$locTopLeft$$.setAnchorPoint($tempAP$$);$locTopRight$$.setAnchorPoint($tempAP$$);$locCenterContentSize$$1_locLeft$$.setAnchorPoint($tempAP$$);$locRight$$1_roundedRescaledHeight$$1_roundedRescaledWidth$$.setAnchorPoint($tempAP$$);$locTop$$.setAnchorPoint($tempAP$$);$locBottom$$.setAnchorPoint($tempAP$$);$locCenter$$.setAnchorPoint($tempAP$$);$locBottomLeft$$.setPosition(0,0);$locBottomRight$$.setPosition($leftWidth$$+$locTopLeftContentSize$$1_rescaledWidth$$,
0);$locTopLeft$$.setPosition(0,$bottomHeight$$1_locBottomLeftContentSize$$+$rescaledHeight$$);$locTopRight$$.setPosition($leftWidth$$+$locTopLeftContentSize$$1_rescaledWidth$$,$bottomHeight$$1_locBottomLeftContentSize$$+$rescaledHeight$$);$locCenterContentSize$$1_locLeft$$.setPosition(0,$bottomHeight$$1_locBottomLeftContentSize$$);$locCenterContentSize$$1_locLeft$$.setScaleY($sizableHeight$$1_size$$82_verticalScale$$);$locRight$$1_roundedRescaledHeight$$1_roundedRescaledWidth$$.setPosition($leftWidth$$+
$locTopLeftContentSize$$1_rescaledWidth$$,$bottomHeight$$1_locBottomLeftContentSize$$);$locRight$$1_roundedRescaledHeight$$1_roundedRescaledWidth$$.setScaleY($sizableHeight$$1_size$$82_verticalScale$$);$locBottom$$.setPosition($leftWidth$$,0);$locBottom$$.setScaleX($horizontalScale$$1_sizableWidth$$);$locTop$$.setPosition($leftWidth$$,$bottomHeight$$1_locBottomLeftContentSize$$+$rescaledHeight$$);$locTop$$.setScaleX($horizontalScale$$1_sizableWidth$$);$locCenter$$.setPosition($leftWidth$$,$bottomHeight$$1_locBottomLeftContentSize$$)}},
_cacheScale9Sprite:function(){if(this._scale9Image){var $size$$=this._contentSize,$locCanvas$$=this._cacheCanvas,$contentSizeChanged$$=!1;if($locCanvas$$.width!=$size$$.width||$locCanvas$$.height!=$size$$.height)$locCanvas$$.width=$size$$.width,$locCanvas$$.height=$size$$.height,this._cacheContext.translate(0,$size$$.height),$contentSizeChanged$$=!0;cc.renderer._turnToCacheMode(this.__instanceId);this._scale9Image.visit();this._cacheContext.clearRect(0,0,$size$$.width,-$size$$.height);cc.renderer._renderingToCacheCanvas(this._cacheContext,
this.__instanceId);$contentSizeChanged$$&&this._cacheSprite.setTextureRect(cc.rect(0,0,$size$$.width,$size$$.height));this._cacheSprite.getParent()||this.addChild(this._cacheSprite)}},ctor:function($file$$,$rect$$,$capInsets$$){cc.Node.prototype.ctor.call(this);this._spriteRect=cc.rect(0,0,0,0);this._capInsetsInternal=cc.rect(0,0,0,0);this._originalSize=cc.size(0,0);this._preferredSize=cc.size(0,0);this._capInsets=cc.rect(0,0,0,0);if(cc._renderType===cc._RENDER_TYPE_CANVAS){var $frame$$23_locCacheCanvas$$=
this._cacheCanvas=cc.newElement("canvas");$frame$$23_locCacheCanvas$$.width=1;$frame$$23_locCacheCanvas$$.height=1;this._cacheContext=$frame$$23_locCacheCanvas$$.getContext("2d");var $locTexture$$=this._cacheTexture=new cc.Texture2D;$locTexture$$.initWithElement($frame$$23_locCacheCanvas$$);$locTexture$$.handleLoadedTexture();this._cacheSprite=new cc.Sprite($locTexture$$);this._cacheSprite.setAnchorPoint(0,0);this.addChild(this._cacheSprite)}void 0!=$file$$?$file$$ instanceof cc.SpriteFrame?this.initWithSpriteFrame($file$$,
$rect$$):($frame$$23_locCacheCanvas$$=cc.spriteFrameCache.getSpriteFrame($file$$),null!=$frame$$23_locCacheCanvas$$?this.initWithSpriteFrame($frame$$23_locCacheCanvas$$,$rect$$):this.initWithFile($file$$,$rect$$,$capInsets$$)):this.init()},getOriginalSize:function(){return cc.size(this._originalSize)},getPreferredSize:function(){return cc.size(this._preferredSize)},_getPreferredWidth:function(){return this._preferredSize.width},_getPreferredHeight:function(){return this._preferredSize.height},setPreferredSize:function($preferredSize$$){this.setContentSize($preferredSize$$);
this._preferredSize=$preferredSize$$;this._positionsAreDirty&&(this._updatePositions(),this._positionsAreDirty=!1,this._scale9Dirty=!0)},_setPreferredWidth:function($value$$){this._setWidth($value$$);this._preferredSize.width=$value$$},_setPreferredHeight:function($value$$){this._setHeight($value$$);this._preferredSize.height=$value$$},setOpacity:function($opacity$$){if(this._scale9Image){cc.Node.prototype.setOpacity.call(this,$opacity$$);for(var $scaleChildren$$=this._scale9Image.getChildren(),$i$$=
0;$i$$<$scaleChildren$$.length;$i$$++){var $selChild$$=$scaleChildren$$[$i$$];$selChild$$&&$selChild$$.setOpacity($opacity$$)}this._scale9Dirty=!0}},updateDisplayedOpacity:function($parentOpacity$$){if(this._scale9Image){cc.Node.prototype.updateDisplayedOpacity.call(this,$parentOpacity$$);for(var $scaleChildren$$=this._scale9Image.getChildren(),$i$$=0;$i$$<$scaleChildren$$.length;$i$$++){var $selChild$$=$scaleChildren$$[$i$$];$selChild$$&&$selChild$$.updateDisplayedOpacity($parentOpacity$$)}this._scale9Dirty=
!0}},setColor:function($color$$){if(this._scale9Image){cc.Node.prototype.setColor.call(this,$color$$);for(var $scaleChildren$$=this._scale9Image.getChildren(),$i$$=0;$i$$<$scaleChildren$$.length;$i$$++){var $selChild$$=$scaleChildren$$[$i$$];$selChild$$&&$selChild$$.setColor($color$$)}this._scale9Dirty=!0}},updateDisplayedColor:function($parentColor$$){if(this._scale9Image){cc.Node.prototype.updateDisplayedColor.call(this,$parentColor$$);for(var $scaleChildren$$=this._scale9Image.getChildren(),$i$$=
0;$i$$<$scaleChildren$$.length;$i$$++){var $selChild$$=$scaleChildren$$[$i$$];if($selChild$$)if(cc._renderType===cc._RENDER_TYPE_CANVAS){if(cc.Node.prototype.updateDisplayedColor.call($selChild$$,$parentColor$$),255!==$parentColor$$.r||255!==$parentColor$$.g||255!==$parentColor$$.b)$selChild$$._changeTextureColor(),$selChild$$._setNodeDirtyForCache()}else $selChild$$.updateDisplayedColor($parentColor$$)}this._scale9Dirty=!0}},getCapInsets:function(){return cc.rect(this._capInsets)},setCapInsets:function($capInsets$$){if(this._scale9Image){var $contentSize$$6_tempHeight$$=
this._contentSize,$tempWidth$$=$contentSize$$6_tempHeight$$.width,$contentSize$$6_tempHeight$$=$contentSize$$6_tempHeight$$.height;this.updateWithBatchNode(this._scale9Image,this._spriteRect,this._spriteFrameRotated,$capInsets$$);this.setContentSize($tempWidth$$,$contentSize$$6_tempHeight$$)}},getInsetLeft:function(){return this._insetLeft},setInsetLeft:function($insetLeft$$){this._insetLeft=$insetLeft$$;this._updateCapInset()},getInsetTop:function(){return this._insetTop},setInsetTop:function($insetTop$$){this._insetTop=
$insetTop$$;this._updateCapInset()},getInsetRight:function(){return this._insetRight},setInsetRight:function($insetRight$$){this._insetRight=$insetRight$$;this._updateCapInset()},getInsetBottom:function(){return this._insetBottom},setInsetBottom:function($insetBottom$$){this._insetBottom=$insetBottom$$;this._updateCapInset()},setContentSize:function($size$$,$height$$){cc.Node.prototype.setContentSize.call(this,$size$$,$height$$);this._positionsAreDirty=!0},_setWidth:function($value$$){cc.Node.prototype._setWidth.call(this,
$value$$);this._positionsAreDirty=!0},_setHeight:function($value$$){cc.Node.prototype._setHeight.call(this,$value$$);this._positionsAreDirty=!0},visit:function($ctx$$){this._visible&&(this._positionsAreDirty&&(this._updatePositions(),this._positionsAreDirty=!1,this._scale9Dirty=!0),cc._renderType===cc._RENDER_TYPE_CANVAS&&(this._scale9Dirty=!1,this._cacheScale9Sprite()),cc.Node.prototype.visit.call(this,$ctx$$))},_transformForRenderer:function(){cc._renderType===cc._RENDER_TYPE_CANVAS&&(this._cacheScale9Sprite(),
this.transform());cc.Node.prototype._transformForRenderer.call(this)},init:function(){return this.initWithBatchNode(null,cc.rect(0,0,0,0),!1,cc.rect(0,0,0,0))},initWithBatchNode:function($batchNode$$,$rect$$,$rotated$$,$capInsets$$){void 0===$capInsets$$&&($capInsets$$=$rotated$$,$rotated$$=!1);$batchNode$$&&this.updateWithBatchNode($batchNode$$,$rect$$,$rotated$$,$capInsets$$);this.setCascadeColorEnabled(!0);this.setCascadeOpacityEnabled(!0);this.setAnchorPoint(.5,.5);return this._positionsAreDirty=
!0},initWithFile:function($file$$,$rect$$,$capInsets$$){$file$$ instanceof cc.Rect?($capInsets$$=$file$$=$rect$$,$rect$$=cc.rect(0,0,0,0)):($rect$$=$rect$$||cc.rect(0,0,0,0),$capInsets$$=$capInsets$$||cc.rect(0,0,0,0));if(!$file$$)throw"ccui.Scale9Sprite.initWithFile(): file should be non-null";var $texture$$=cc.textureCache.getTextureForKey($file$$);$texture$$||($texture$$=cc.textureCache.addImage($file$$));var $locLoaded$$=$texture$$.isLoaded();(this._textureLoaded=$locLoaded$$)||$texture$$.addEventListener("load",
function($sender$$33_size$$){var $preferredSize$$=this._preferredSize,$preferredSize$$=cc.size($preferredSize$$.width,$preferredSize$$.height);$sender$$33_size$$=$sender$$33_size$$.getContentSize();this.updateWithBatchNode(this._scale9Image,cc.rect(0,0,$sender$$33_size$$.width,$sender$$33_size$$.height),!1,this._capInsets);this.setPreferredSize($preferredSize$$);this._positionsAreDirty=!0;this.dispatchEvent("load")},this);return this.initWithBatchNode(new cc.SpriteBatchNode($file$$,9),$rect$$,!1,
$capInsets$$)},initWithSpriteFrame:function($spriteFrame$$,$capInsets$$){if(!$spriteFrame$$||!$spriteFrame$$.getTexture())throw"ccui.Scale9Sprite.initWithSpriteFrame(): spriteFrame should be non-null and its texture should be non-null";$capInsets$$=$capInsets$$||cc.rect(0,0,0,0);var $batchNode$$7_locLoaded$$=$spriteFrame$$.textureLoaded();(this._textureLoaded=$batchNode$$7_locLoaded$$)||$spriteFrame$$.addEventListener("load",function($sender$$){var $preferredSize$$=this._preferredSize,$preferredSize$$=
cc.size($preferredSize$$.width,$preferredSize$$.height);this.updateWithBatchNode(this._scale9Image,$sender$$.getRect(),cc._renderType==cc._RENDER_TYPE_WEBGL&&$sender$$.isRotated(),this._capInsets);this.setPreferredSize($preferredSize$$);this._positionsAreDirty=!0;this.dispatchEvent("load")},this);$batchNode$$7_locLoaded$$=new cc.SpriteBatchNode($spriteFrame$$.getTexture(),9);return this.initWithBatchNode($batchNode$$7_locLoaded$$,$spriteFrame$$.getRect(),cc._renderType==cc._RENDER_TYPE_WEBGL&&$spriteFrame$$.isRotated(),
$capInsets$$)},initWithSpriteFrameName:function($spriteFrameName$$,$capInsets$$){if(!$spriteFrameName$$)throw"ccui.Scale9Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";$capInsets$$=$capInsets$$||cc.rect(0,0,0,0);var $frame$$=cc.spriteFrameCache.getSpriteFrame($spriteFrameName$$);return null==$frame$$?(cc.log("ccui.Scale9Sprite.initWithSpriteFrameName(): can't find the sprite frame by spriteFrameName"),!1):this.initWithSpriteFrame($frame$$,$capInsets$$)},resizableSpriteWithCapInsets:function($capInsets$$){var $pReturn$$=
new ccui.Scale9Sprite;return $pReturn$$&&$pReturn$$.initWithBatchNode(this._scale9Image,this._spriteRect,!1,$capInsets$$)?$pReturn$$:null},setOpacityModifyRGB:function($value$$){if(this._scale9Image){this._opacityModifyRGB=$value$$;var $scaleChildren$$=this._scale9Image.getChildren();if($scaleChildren$$)for(var $i$$=0,$len$$=$scaleChildren$$.length;$i$$<$len$$;$i$$++)$scaleChildren$$[$i$$].setOpacityModifyRGB($value$$)}},isOpacityModifyRGB:function(){return this._opacityModifyRGB},updateWithBatchNode:function($batchNode$$8_locScale9Image$$1_tmpTexture$$,
$originalRect$$1_rect$$72_textureSize$$,$rotated$$17_rotatedcenterbounds$$,$capInsets$$18_h$$40_lefttopbounds$$){var $opacity$$=this.getOpacity(),$color$$=this.getColor();$originalRect$$1_rect$$72_textureSize$$=cc.rect($originalRect$$1_rect$$72_textureSize$$.x,$originalRect$$1_rect$$72_textureSize$$.y,$originalRect$$1_rect$$72_textureSize$$.width,$originalRect$$1_rect$$72_textureSize$$.height);this.removeAllChildren(!0);this._scale9Image!=$batchNode$$8_locScale9Image$$1_tmpTexture$$&&(this._scale9Image=
$batchNode$$8_locScale9Image$$1_tmpTexture$$);if(!this._scale9Image)return!1;$batchNode$$8_locScale9Image$$1_tmpTexture$$=$batchNode$$8_locScale9Image$$1_tmpTexture$$.getTexture();var $locCapInsets$$1_locLoaded$$8_selTexture$$=$batchNode$$8_locScale9Image$$1_tmpTexture$$.isLoaded();this._textureLoaded=$locCapInsets$$1_locLoaded$$8_selTexture$$;if(!$locCapInsets$$1_locLoaded$$8_selTexture$$)return $batchNode$$8_locScale9Image$$1_tmpTexture$$.addEventListener("load",function($sender$$){this._positionsAreDirty=
!0;this.dispatchEvent("load")},this),!0;$batchNode$$8_locScale9Image$$1_tmpTexture$$=this._scale9Image;$batchNode$$8_locScale9Image$$1_tmpTexture$$.removeAllChildren(!0);$locCapInsets$$1_locLoaded$$8_selTexture$$=this._capInsets;$locCapInsets$$1_locLoaded$$8_selTexture$$.x=$capInsets$$18_h$$40_lefttopbounds$$.x;$locCapInsets$$1_locLoaded$$8_selTexture$$.y=$capInsets$$18_h$$40_lefttopbounds$$.y;$locCapInsets$$1_locLoaded$$8_selTexture$$.width=$capInsets$$18_h$$40_lefttopbounds$$.width;$locCapInsets$$1_locLoaded$$8_selTexture$$.height=
$capInsets$$18_h$$40_lefttopbounds$$.height;this._spriteFrameRotated=$rotated$$17_rotatedcenterbounds$$;$locCapInsets$$1_locLoaded$$8_selTexture$$=$batchNode$$8_locScale9Image$$1_tmpTexture$$.getTexture();cc._rectEqualToZero($originalRect$$1_rect$$72_textureSize$$)&&($originalRect$$1_rect$$72_textureSize$$=$locCapInsets$$1_locLoaded$$8_selTexture$$.getContentSize(),$originalRect$$1_rect$$72_textureSize$$=cc.rect(0,0,$originalRect$$1_rect$$72_textureSize$$.width,$originalRect$$1_rect$$72_textureSize$$.height));
var $centertopbounds$$1_locCapInsetsInternal$$1_locPreferredSize$$2_locSpriteRect$$=this._spriteRect=$originalRect$$1_rect$$72_textureSize$$;$centertopbounds$$1_locCapInsetsInternal$$1_locPreferredSize$$2_locSpriteRect$$.x=$originalRect$$1_rect$$72_textureSize$$.x;$centertopbounds$$1_locCapInsetsInternal$$1_locPreferredSize$$2_locSpriteRect$$.y=$originalRect$$1_rect$$72_textureSize$$.y;$centertopbounds$$1_locCapInsetsInternal$$1_locPreferredSize$$2_locSpriteRect$$.width=$originalRect$$1_rect$$72_textureSize$$.width;
$centertopbounds$$1_locCapInsetsInternal$$1_locPreferredSize$$2_locSpriteRect$$.height=$originalRect$$1_rect$$72_textureSize$$.height;this._originalSize.width=$originalRect$$1_rect$$72_textureSize$$.width;this._originalSize.height=$originalRect$$1_rect$$72_textureSize$$.height;$centertopbounds$$1_locCapInsetsInternal$$1_locPreferredSize$$2_locSpriteRect$$=this._preferredSize;0===$centertopbounds$$1_locCapInsetsInternal$$1_locPreferredSize$$2_locSpriteRect$$.width&&0===$centertopbounds$$1_locCapInsetsInternal$$1_locPreferredSize$$2_locSpriteRect$$.height&&
($centertopbounds$$1_locCapInsetsInternal$$1_locPreferredSize$$2_locSpriteRect$$.width=$originalRect$$1_rect$$72_textureSize$$.width,$centertopbounds$$1_locCapInsetsInternal$$1_locPreferredSize$$2_locSpriteRect$$.height=$originalRect$$1_rect$$72_textureSize$$.height);$centertopbounds$$1_locCapInsetsInternal$$1_locPreferredSize$$2_locSpriteRect$$=this._capInsetsInternal;$capInsets$$18_h$$40_lefttopbounds$$&&($centertopbounds$$1_locCapInsetsInternal$$1_locPreferredSize$$2_locSpriteRect$$.x=$capInsets$$18_h$$40_lefttopbounds$$.x,
$centertopbounds$$1_locCapInsetsInternal$$1_locPreferredSize$$2_locSpriteRect$$.y=$capInsets$$18_h$$40_lefttopbounds$$.y,$centertopbounds$$1_locCapInsetsInternal$$1_locPreferredSize$$2_locSpriteRect$$.width=$capInsets$$18_h$$40_lefttopbounds$$.width,$centertopbounds$$1_locCapInsetsInternal$$1_locPreferredSize$$2_locSpriteRect$$.height=$capInsets$$18_h$$40_lefttopbounds$$.height);var $righttopbounds$$1_w$$=$originalRect$$1_rect$$72_textureSize$$.width;$capInsets$$18_h$$40_lefttopbounds$$=$originalRect$$1_rect$$72_textureSize$$.height;
cc._rectEqualToZero($centertopbounds$$1_locCapInsetsInternal$$1_locPreferredSize$$2_locSpriteRect$$)&&($centertopbounds$$1_locCapInsetsInternal$$1_locPreferredSize$$2_locSpriteRect$$.x=$righttopbounds$$1_w$$/3,$centertopbounds$$1_locCapInsetsInternal$$1_locPreferredSize$$2_locSpriteRect$$.y=$capInsets$$18_h$$40_lefttopbounds$$/3,$centertopbounds$$1_locCapInsetsInternal$$1_locPreferredSize$$2_locSpriteRect$$.width=$righttopbounds$$1_w$$/3,$centertopbounds$$1_locCapInsetsInternal$$1_locPreferredSize$$2_locSpriteRect$$.height=
$capInsets$$18_h$$40_lefttopbounds$$/3);var $centerbottombounds$$1_left_w$$=$centertopbounds$$1_locCapInsetsInternal$$1_locPreferredSize$$2_locSpriteRect$$.x,$center_w$$1_rightbottombounds$$=$centertopbounds$$1_locCapInsetsInternal$$1_locPreferredSize$$2_locSpriteRect$$.width,$right_w$$1_t$$=$righttopbounds$$1_w$$-($centerbottombounds$$1_left_w$$+$center_w$$1_rightbottombounds$$),$leftbottombounds$$1_top_h$$=$centertopbounds$$1_locCapInsetsInternal$$1_locPreferredSize$$2_locSpriteRect$$.y,$center_h$$1_rotatedlefttopbounds$$=
$centertopbounds$$1_locCapInsetsInternal$$1_locPreferredSize$$2_locSpriteRect$$.height,$bottom_h$$1_rotatedrightbottombounds$$=$capInsets$$18_h$$40_lefttopbounds$$-($leftbottombounds$$1_top_h$$+$center_h$$1_rotatedlefttopbounds$$),$rotatedleftbottombounds$$1_x$$=0,$rotatedrighttopbounds$$1_y$$=0;$capInsets$$18_h$$40_lefttopbounds$$=cc.rect($rotatedleftbottombounds$$1_x$$+.5|0,$rotatedrighttopbounds$$1_y$$+.5|0,$centerbottombounds$$1_left_w$$+.5|0,$leftbottombounds$$1_top_h$$+.5|0);var $rotatedleftbottombounds$$1_x$$=
$rotatedleftbottombounds$$1_x$$+$centerbottombounds$$1_left_w$$,$centertopbounds$$1_locCapInsetsInternal$$1_locPreferredSize$$2_locSpriteRect$$=cc.rect($rotatedleftbottombounds$$1_x$$+.5|0,$rotatedrighttopbounds$$1_y$$+.5|0,$center_w$$1_rightbottombounds$$+.5|0,$leftbottombounds$$1_top_h$$+.5|0),$righttopbounds$$1_w$$=cc.rect($rotatedleftbottombounds$$1_x$$+$center_w$$1_rightbottombounds$$+.5|0,$rotatedrighttopbounds$$1_y$$+.5|0,$right_w$$1_t$$+.5|0,$leftbottombounds$$1_top_h$$+.5|0),$rotatedleftbottombounds$$1_x$$=
0,$rotatedrighttopbounds$$1_y$$=0+$leftbottombounds$$1_top_h$$,$leftcenterbounds$$=cc.rect($rotatedleftbottombounds$$1_x$$+.5|0,$rotatedrighttopbounds$$1_y$$+.5|0,$centerbottombounds$$1_left_w$$+.5|0,$center_h$$1_rotatedlefttopbounds$$+.5|0),$rotatedleftbottombounds$$1_x$$=$rotatedleftbottombounds$$1_x$$+$centerbottombounds$$1_left_w$$,$centerbounds$$=cc.rect($rotatedleftbottombounds$$1_x$$+.5|0,$rotatedrighttopbounds$$1_y$$+.5|0,$center_w$$1_rightbottombounds$$+.5|0,$center_h$$1_rotatedlefttopbounds$$+
.5|0),$rotatedleftbottombounds$$1_x$$=$rotatedleftbottombounds$$1_x$$+$center_w$$1_rightbottombounds$$,$rightcenterbounds$$=cc.rect($rotatedleftbottombounds$$1_x$$+.5|0,$rotatedrighttopbounds$$1_y$$+.5|0,$right_w$$1_t$$+.5|0,$center_h$$1_rotatedlefttopbounds$$+.5|0),$rotatedleftbottombounds$$1_x$$=0,$rotatedrighttopbounds$$1_y$$=0+$leftbottombounds$$1_top_h$$+$center_h$$1_rotatedlefttopbounds$$,$leftbottombounds$$1_top_h$$=cc.rect($rotatedleftbottombounds$$1_x$$+.5|0,$rotatedrighttopbounds$$1_y$$+
.5|0,$centerbottombounds$$1_left_w$$+.5|0,$bottom_h$$1_rotatedrightbottombounds$$+.5|0),$rotatedleftbottombounds$$1_x$$=$rotatedleftbottombounds$$1_x$$+$centerbottombounds$$1_left_w$$,$centerbottombounds$$1_left_w$$=cc.rect($rotatedleftbottombounds$$1_x$$+.5|0,$rotatedrighttopbounds$$1_y$$+.5|0,$center_w$$1_rightbottombounds$$+.5|0,$bottom_h$$1_rotatedrightbottombounds$$+.5|0),$rotatedleftbottombounds$$1_x$$=$rotatedleftbottombounds$$1_x$$+$center_w$$1_rightbottombounds$$,$center_w$$1_rightbottombounds$$=
cc.rect($rotatedleftbottombounds$$1_x$$+.5|0,$rotatedrighttopbounds$$1_y$$+.5|0,$right_w$$1_t$$+.5|0,$bottom_h$$1_rotatedrightbottombounds$$+.5|0),$right_w$$1_t$$=cc.affineTransformMakeIdentity();if($rotated$$17_rotatedcenterbounds$$){$rotated$$17_rotatedcenterbounds$$=$centerbounds$$;var $bottom_h$$1_rotatedrightbottombounds$$=$center_w$$1_rightbottombounds$$,$rotatedleftbottombounds$$1_x$$=$leftbottombounds$$1_top_h$$,$rotatedrighttopbounds$$1_y$$=$righttopbounds$$1_w$$,$center_h$$1_rotatedlefttopbounds$$=
$capInsets$$18_h$$40_lefttopbounds$$,$rotatedrightcenterbounds$$=$rightcenterbounds$$,$rotatedleftcenterbounds$$=$leftcenterbounds$$,$rotatedcenterbottombounds$$=$centerbottombounds$$1_left_w$$,$rotatedcentertopbounds$$=$centertopbounds$$1_locCapInsetsInternal$$1_locPreferredSize$$2_locSpriteRect$$,$right_w$$1_t$$=cc.affineTransformTranslate($right_w$$1_t$$,$originalRect$$1_rect$$72_textureSize$$.height+$originalRect$$1_rect$$72_textureSize$$.x,$originalRect$$1_rect$$72_textureSize$$.y),$right_w$$1_t$$=
cc.affineTransformRotate($right_w$$1_t$$,1.57079633),$centerbounds$$=cc.rectApplyAffineTransform($centerbounds$$,$right_w$$1_t$$),$center_w$$1_rightbottombounds$$=cc.rectApplyAffineTransform($center_w$$1_rightbottombounds$$,$right_w$$1_t$$),$leftbottombounds$$1_top_h$$=cc.rectApplyAffineTransform($leftbottombounds$$1_top_h$$,$right_w$$1_t$$),$righttopbounds$$1_w$$=cc.rectApplyAffineTransform($righttopbounds$$1_w$$,$right_w$$1_t$$);$capInsets$$18_h$$40_lefttopbounds$$=cc.rectApplyAffineTransform($capInsets$$18_h$$40_lefttopbounds$$,
$right_w$$1_t$$);$rightcenterbounds$$=cc.rectApplyAffineTransform($rightcenterbounds$$,$right_w$$1_t$$);$leftcenterbounds$$=cc.rectApplyAffineTransform($leftcenterbounds$$,$right_w$$1_t$$);$centerbottombounds$$1_left_w$$=cc.rectApplyAffineTransform($centerbottombounds$$1_left_w$$,$right_w$$1_t$$);$centertopbounds$$1_locCapInsetsInternal$$1_locPreferredSize$$2_locSpriteRect$$=cc.rectApplyAffineTransform($centertopbounds$$1_locCapInsetsInternal$$1_locPreferredSize$$2_locSpriteRect$$,$right_w$$1_t$$);
$rotated$$17_rotatedcenterbounds$$.x=$centerbounds$$.x;$rotated$$17_rotatedcenterbounds$$.y=$centerbounds$$.y;$bottom_h$$1_rotatedrightbottombounds$$.x=$center_w$$1_rightbottombounds$$.x;$bottom_h$$1_rotatedrightbottombounds$$.y=$center_w$$1_rightbottombounds$$.y;$rotatedleftbottombounds$$1_x$$.x=$leftbottombounds$$1_top_h$$.x;$rotatedleftbottombounds$$1_x$$.y=$leftbottombounds$$1_top_h$$.y;$rotatedrighttopbounds$$1_y$$.x=$righttopbounds$$1_w$$.x;$rotatedrighttopbounds$$1_y$$.y=$righttopbounds$$1_w$$.y;
$center_h$$1_rotatedlefttopbounds$$.x=$capInsets$$18_h$$40_lefttopbounds$$.x;$center_h$$1_rotatedlefttopbounds$$.y=$capInsets$$18_h$$40_lefttopbounds$$.y;$rotatedrightcenterbounds$$.x=$rightcenterbounds$$.x;$rotatedrightcenterbounds$$.y=$rightcenterbounds$$.y;$rotatedleftcenterbounds$$.x=$leftcenterbounds$$.x;$rotatedleftcenterbounds$$.y=$leftcenterbounds$$.y;$rotatedcenterbottombounds$$.x=$centerbottombounds$$1_left_w$$.x;$rotatedcenterbottombounds$$.y=$centerbottombounds$$1_left_w$$.y;$rotatedcentertopbounds$$.x=
$centertopbounds$$1_locCapInsetsInternal$$1_locPreferredSize$$2_locSpriteRect$$.x;$rotatedcentertopbounds$$.y=$centertopbounds$$1_locCapInsetsInternal$$1_locPreferredSize$$2_locSpriteRect$$.y;this._centre=new cc.Sprite;this._centre.initWithTexture($locCapInsets$$1_locLoaded$$8_selTexture$$,$rotated$$17_rotatedcenterbounds$$,!0);$batchNode$$8_locScale9Image$$1_tmpTexture$$.addChild(this._centre,0,ccui.Scale9Sprite.POSITIONS_CENTRE);this._top=new cc.Sprite;this._top.initWithTexture($locCapInsets$$1_locLoaded$$8_selTexture$$,
$rotatedcentertopbounds$$,!0);$batchNode$$8_locScale9Image$$1_tmpTexture$$.addChild(this._top,1,ccui.Scale9Sprite.POSITIONS_TOP);this._bottom=new cc.Sprite;this._bottom.initWithTexture($locCapInsets$$1_locLoaded$$8_selTexture$$,$rotatedcenterbottombounds$$,!0);$batchNode$$8_locScale9Image$$1_tmpTexture$$.addChild(this._bottom,1,ccui.Scale9Sprite.POSITIONS_BOTTOM);this._left=new cc.Sprite;this._left.initWithTexture($locCapInsets$$1_locLoaded$$8_selTexture$$,$rotatedleftcenterbounds$$,!0);$batchNode$$8_locScale9Image$$1_tmpTexture$$.addChild(this._left,
1,ccui.Scale9Sprite.POSITIONS_LEFT);this._right=new cc.Sprite;this._right.initWithTexture($locCapInsets$$1_locLoaded$$8_selTexture$$,$rotatedrightcenterbounds$$,!0);$batchNode$$8_locScale9Image$$1_tmpTexture$$.addChild(this._right,1,ccui.Scale9Sprite.POSITIONS_RIGHT);this._topLeft=new cc.Sprite;this._topLeft.initWithTexture($locCapInsets$$1_locLoaded$$8_selTexture$$,$center_h$$1_rotatedlefttopbounds$$,!0);$batchNode$$8_locScale9Image$$1_tmpTexture$$.addChild(this._topLeft,2,ccui.Scale9Sprite.POSITIONS_TOPLEFT);
this._topRight=new cc.Sprite;this._topRight.initWithTexture($locCapInsets$$1_locLoaded$$8_selTexture$$,$rotatedrighttopbounds$$1_y$$,!0);$batchNode$$8_locScale9Image$$1_tmpTexture$$.addChild(this._topRight,2,ccui.Scale9Sprite.POSITIONS_TOPRIGHT);this._bottomLeft=new cc.Sprite;this._bottomLeft.initWithTexture($locCapInsets$$1_locLoaded$$8_selTexture$$,$rotatedleftbottombounds$$1_x$$,!0);$batchNode$$8_locScale9Image$$1_tmpTexture$$.addChild(this._bottomLeft,2,ccui.Scale9Sprite.POSITIONS_BOTTOMLEFT);
this._bottomRight=new cc.Sprite;this._bottomRight.initWithTexture($locCapInsets$$1_locLoaded$$8_selTexture$$,$bottom_h$$1_rotatedrightbottombounds$$,!0)}else $right_w$$1_t$$=cc.affineTransformTranslate($right_w$$1_t$$,$originalRect$$1_rect$$72_textureSize$$.x,$originalRect$$1_rect$$72_textureSize$$.y),cc._rectApplyAffineTransformIn($centerbounds$$,$right_w$$1_t$$),cc._rectApplyAffineTransformIn($center_w$$1_rightbottombounds$$,$right_w$$1_t$$),cc._rectApplyAffineTransformIn($leftbottombounds$$1_top_h$$,
$right_w$$1_t$$),cc._rectApplyAffineTransformIn($righttopbounds$$1_w$$,$right_w$$1_t$$),cc._rectApplyAffineTransformIn($capInsets$$18_h$$40_lefttopbounds$$,$right_w$$1_t$$),cc._rectApplyAffineTransformIn($rightcenterbounds$$,$right_w$$1_t$$),cc._rectApplyAffineTransformIn($leftcenterbounds$$,$right_w$$1_t$$),cc._rectApplyAffineTransformIn($centerbottombounds$$1_left_w$$,$right_w$$1_t$$),cc._rectApplyAffineTransformIn($centertopbounds$$1_locCapInsetsInternal$$1_locPreferredSize$$2_locSpriteRect$$,
$right_w$$1_t$$),this._centre=new cc.Sprite,this._centre.initWithTexture($locCapInsets$$1_locLoaded$$8_selTexture$$,$centerbounds$$),$batchNode$$8_locScale9Image$$1_tmpTexture$$.addChild(this._centre,0,ccui.Scale9Sprite.POSITIONS_CENTRE),this._top=new cc.Sprite,this._top.initWithTexture($locCapInsets$$1_locLoaded$$8_selTexture$$,$centertopbounds$$1_locCapInsetsInternal$$1_locPreferredSize$$2_locSpriteRect$$),$batchNode$$8_locScale9Image$$1_tmpTexture$$.addChild(this._top,1,ccui.Scale9Sprite.POSITIONS_TOP),
this._bottom=new cc.Sprite,this._bottom.initWithTexture($locCapInsets$$1_locLoaded$$8_selTexture$$,$centerbottombounds$$1_left_w$$),$batchNode$$8_locScale9Image$$1_tmpTexture$$.addChild(this._bottom,1,ccui.Scale9Sprite.POSITIONS_BOTTOM),this._left=new cc.Sprite,this._left.initWithTexture($locCapInsets$$1_locLoaded$$8_selTexture$$,$leftcenterbounds$$),$batchNode$$8_locScale9Image$$1_tmpTexture$$.addChild(this._left,1,ccui.Scale9Sprite.POSITIONS_LEFT),this._right=new cc.Sprite,this._right.initWithTexture($locCapInsets$$1_locLoaded$$8_selTexture$$,
$rightcenterbounds$$),$batchNode$$8_locScale9Image$$1_tmpTexture$$.addChild(this._right,1,ccui.Scale9Sprite.POSITIONS_RIGHT),this._topLeft=new cc.Sprite,this._topLeft.initWithTexture($locCapInsets$$1_locLoaded$$8_selTexture$$,$capInsets$$18_h$$40_lefttopbounds$$),$batchNode$$8_locScale9Image$$1_tmpTexture$$.addChild(this._topLeft,2,ccui.Scale9Sprite.POSITIONS_TOPLEFT),this._topRight=new cc.Sprite,this._topRight.initWithTexture($locCapInsets$$1_locLoaded$$8_selTexture$$,$righttopbounds$$1_w$$),$batchNode$$8_locScale9Image$$1_tmpTexture$$.addChild(this._topRight,
2,ccui.Scale9Sprite.POSITIONS_TOPRIGHT),this._bottomLeft=new cc.Sprite,this._bottomLeft.initWithTexture($locCapInsets$$1_locLoaded$$8_selTexture$$,$leftbottombounds$$1_top_h$$),$batchNode$$8_locScale9Image$$1_tmpTexture$$.addChild(this._bottomLeft,2,ccui.Scale9Sprite.POSITIONS_BOTTOMLEFT),this._bottomRight=new cc.Sprite,this._bottomRight.initWithTexture($locCapInsets$$1_locLoaded$$8_selTexture$$,$center_w$$1_rightbottombounds$$);$batchNode$$8_locScale9Image$$1_tmpTexture$$.addChild(this._bottomRight,
2,ccui.Scale9Sprite.POSITIONS_BOTTOMRIGHT);this.setContentSize($originalRect$$1_rect$$72_textureSize$$.width,$originalRect$$1_rect$$72_textureSize$$.height);cc._renderType===cc._RENDER_TYPE_WEBGL&&this.addChild($batchNode$$8_locScale9Image$$1_tmpTexture$$);this._spritesGenerated&&(this.setOpacity($opacity$$),this.setColor($color$$));return this._spritesGenerated=!0},setSpriteFrame:function($spriteFrame$$){var $batchNode$$=new cc.SpriteBatchNode($spriteFrame$$.getTexture(),9),$locLoaded$$=$spriteFrame$$.textureLoaded();
(this._textureLoaded=$locLoaded$$)||$spriteFrame$$.addEventListener("load",function($sender$$){var $preferredSize$$=this._preferredSize,$preferredSize$$=cc.size($preferredSize$$.width,$preferredSize$$.height);this.updateWithBatchNode(this._scale9Image,$sender$$.getRect(),cc._renderType==cc._RENDER_TYPE_WEBGL&&$sender$$.isRotated(),this._capInsets);this.setPreferredSize($preferredSize$$);this._positionsAreDirty=!0;this.dispatchEvent("load")},this);this.updateWithBatchNode($batchNode$$,$spriteFrame$$.getRect(),
cc._renderType==cc._RENDER_TYPE_WEBGL&&$spriteFrame$$.isRotated(),cc.rect(0,0,0,0));this._insetBottom=this._insetRight=this._insetTop=this._insetLeft=0}});_p=ccui.Scale9Sprite.prototype;cc.EventHelper.prototype.apply(_p);_p.preferredSize;cc.defineGetterSetter(_p,"preferredSize",_p.getPreferredSize,_p.setPreferredSize);_p.capInsets;cc.defineGetterSetter(_p,"capInsets",_p.getCapInsets,_p.setCapInsets);_p.insetLeft;cc.defineGetterSetter(_p,"insetLeft",_p.getInsetLeft,_p.setInsetLeft);_p.insetTop;
cc.defineGetterSetter(_p,"insetTop",_p.getInsetTop,_p.setInsetTop);_p.insetRight;cc.defineGetterSetter(_p,"insetRight",_p.getInsetRight,_p.setInsetRight);_p.insetBottom;cc.defineGetterSetter(_p,"insetBottom",_p.getInsetBottom,_p.setInsetBottom);_p=null;ccui.Scale9Sprite.create=function $ccui$Scale9Sprite$create$($file$$,$rect$$,$capInsets$$){return new ccui.Scale9Sprite($file$$,$rect$$,$capInsets$$)};
ccui.Scale9Sprite.createWithSpriteFrame=function $ccui$Scale9Sprite$createWithSpriteFrame$($spriteFrame$$,$capInsets$$){return new ccui.Scale9Sprite($spriteFrame$$,$capInsets$$)};ccui.Scale9Sprite.createWithSpriteFrameName=function $ccui$Scale9Sprite$createWithSpriteFrameName$($spriteFrameName$$,$capInsets$$){return new ccui.Scale9Sprite($spriteFrameName$$,$capInsets$$)};ccui.Scale9Sprite.POSITIONS_CENTRE=0;ccui.Scale9Sprite.POSITIONS_TOP=1;ccui.Scale9Sprite.POSITIONS_LEFT=2;
ccui.Scale9Sprite.POSITIONS_RIGHT=3;ccui.Scale9Sprite.POSITIONS_BOTTOM=4;ccui.Scale9Sprite.POSITIONS_TOPRIGHT=5;ccui.Scale9Sprite.POSITIONS_TOPLEFT=6;ccui.Scale9Sprite.POSITIONS_BOTTOMRIGHT=7;
ccui.Layout=ccui.Widget.extend({_clippingEnabled:!1,_backGroundScale9Enabled:null,_backGroundImage:null,_backGroundImageFileName:null,_backGroundImageCapInsets:null,_colorType:null,_bgImageTexType:ccui.Widget.LOCAL_TEXTURE,_colorRender:null,_gradientRender:null,_color:null,_startColor:null,_endColor:null,_alongVector:null,_opacity:255,_backGroundImageTextureSize:null,_layoutType:null,_doLayoutDirty:!0,_clippingRectDirty:!0,_clippingType:null,_clippingStencil:null,_scissorRectDirty:!1,_clippingRect:null,
_clippingParent:null,_className:"Layout",_backGroundImageColor:null,_finalPositionX:0,_finalPositionY:0,_currentStencilEnabled:0,_currentStencilWriteMask:0,_currentStencilFunc:0,_currentStencilRef:0,_currentStencilValueMask:0,_currentStencilFail:0,_currentStencilPassDepthFail:0,_currentStencilPassDepthPass:0,_currentDepthWriteMask:0,_currentAlphaTestEnabled:0,_currentAlphaTestFunc:0,_currentAlphaTestRef:0,_backGroundImageOpacity:0,_mask_layer_le:0,_loopFocus:!1,__passFocusToChild:!1,_isFocusPassing:!1,
_isInterceptTouch:!1,_beforeVisitCmdStencil:null,_afterDrawStencilCmd:null,_afterVisitCmdStencil:null,_beforeVisitCmdScissor:null,_afterVisitCmdScissor:null,_clipElemType:!1,ctor:function(){this._layoutType=ccui.Layout.ABSOLUTE;this._widgetType=ccui.Widget.TYPE_CONTAINER;this._clippingType=ccui.Layout.CLIPPING_STENCIL;this._colorType=ccui.Layout.BG_COLOR_NONE;ccui.Widget.prototype.ctor.call(this);this._backGroundImageCapInsets=cc.rect(0,0,0,0);this._color=cc.color(255,255,255,255);this._startColor=
cc.color(255,255,255,255);this._endColor=cc.color(255,255,255,255);this._alongVector=cc.p(0,-1);this._backGroundImageTextureSize=cc.size(0,0);this._clippingRect=cc.rect(0,0,0,0);this._backGroundImageColor=cc.color(255,255,255,255);cc._renderType==cc._RENDER_TYPE_CANVAS?(this._rendererSaveCmd=new cc.CustomRenderCmdCanvas(this,this._onRenderSaveCmd),this._rendererSaveCmdSprite=new cc.CustomRenderCmdCanvas(this,this._onRenderSaveSpriteCmd),this._rendererClipCmd=new cc.CustomRenderCmdCanvas(this,this._onRenderClipCmd),
this._rendererRestoreCmd=new cc.CustomRenderCmdCanvas(this,this._onRenderRestoreCmd)):(this._beforeVisitCmdStencil=new cc.CustomRenderCmdWebGL(this,this._onBeforeVisitStencil),this._afterDrawStencilCmd=new cc.CustomRenderCmdWebGL(this,this._onAfterDrawStencil),this._afterVisitCmdStencil=new cc.CustomRenderCmdWebGL(this,this._onAfterVisitStencil),this._beforeVisitCmdScissor=new cc.CustomRenderCmdWebGL(this,this._onBeforeVisitScissor),this._afterVisitCmdScissor=new cc.CustomRenderCmdWebGL(this,this._onAfterVisitScissor))},
onEnter:function(){ccui.Widget.prototype.onEnter.call(this);if(this._clippingStencil)this._clippingStencil.onEnter();this._clippingRectDirty=this._doLayoutDirty=!0},onExit:function(){ccui.Widget.prototype.onExit.call(this);if(this._clippingStencil)this._clippingStencil.onExit()},setLoopFocus:function($loop$$){this._loopFocus=$loop$$},isLoopFocus:function(){return this._loopFocus},setPassFocusToChild:function($pass$$){this.__passFocusToChild=$pass$$},isPassFocusToChild:function(){return this.__passFocusToChild},
findNextFocusedWidget:function($direction$$,$current$$){if(this._isFocusPassing||this.isFocused()){var $parent$$=this.getParent();this._isFocusPassing=!1;if(this.__passFocusToChild){var $w$$=this._passFocusToChild($direction$$,$current$$);return $w$$ instanceof ccui.Layout&&$parent$$?($parent$$._isFocusPassing=!0,$parent$$.findNextFocusedWidget($direction$$,this)):$w$$}if(null==$parent$$)return this;$parent$$._isFocusPassing=!0;return $parent$$.findNextFocusedWidget($direction$$,this)}if($current$$.isFocused()||
$current$$ instanceof ccui.Layout)if(this._layoutType==ccui.Layout.LINEAR_HORIZONTAL)switch($direction$$){case ccui.Widget.LEFT:return this._getPreviousFocusedWidget($direction$$,$current$$);case ccui.Widget.RIGHT:return this._getNextFocusedWidget($direction$$,$current$$);case ccui.Widget.DOWN:case ccui.Widget.UP:return this._isLastWidgetInContainer(this,$direction$$)?this._isWidgetAncestorSupportLoopFocus($current$$,$direction$$)?this.findNextFocusedWidget($direction$$,this):$current$$:this.findNextFocusedWidget($direction$$,
this);default:return cc.assert(0,"Invalid Focus Direction"),$current$$}else if(this._layoutType==ccui.Layout.LINEAR_VERTICAL)switch($direction$$){case ccui.Widget.LEFT:case ccui.Widget.RIGHT:return this._isLastWidgetInContainer(this,$direction$$)?this._isWidgetAncestorSupportLoopFocus($current$$,$direction$$)?this.findNextFocusedWidget($direction$$,this):$current$$:this.findNextFocusedWidget($direction$$,this);case ccui.Widget.DOWN:return this._getNextFocusedWidget($direction$$,$current$$);case ccui.Widget.UP:return this._getPreviousFocusedWidget($direction$$,
$current$$);default:return cc.assert(0,"Invalid Focus Direction"),$current$$}else return cc.assert(0,"Un Supported Layout type, please use VBox and HBox instead!!!"),$current$$;else return $current$$},onPassFocusToChild:null,init:function(){return ccui.Widget.prototype.init.call(this)?(this.ignoreContentAdaptWithSize(!1),this.setContentSize(cc.size(0,0)),this.setAnchorPoint(0,0),this.onPassFocusToChild=this._findNearestChildWidgetIndex.bind(this),!0):!1},__stencilDraw:function($ctx$$97_locContext$$){$ctx$$97_locContext$$=
$ctx$$97_locContext$$||cc._renderContext;for(var $stencil$$=this._clippingStencil,$locEGL_ScaleX$$=cc.view.getScaleX(),$locEGL_ScaleY$$=cc.view.getScaleY(),$i$$=0;$i$$<$stencil$$._buffer.length;$i$$++){var $vertices$$=$stencil$$._buffer[$i$$].verts,$firstPoint$$4_j$$=$vertices$$[0];$ctx$$97_locContext$$.beginPath();$ctx$$97_locContext$$.moveTo($firstPoint$$4_j$$.x*$locEGL_ScaleX$$,-$firstPoint$$4_j$$.y*$locEGL_ScaleY$$);for(var $firstPoint$$4_j$$=1,$len$$=$vertices$$.length;$firstPoint$$4_j$$<$len$$;$firstPoint$$4_j$$++)$ctx$$97_locContext$$.lineTo($vertices$$[$firstPoint$$4_j$$].x*
$locEGL_ScaleX$$,-$vertices$$[$firstPoint$$4_j$$].y*$locEGL_ScaleY$$)}},addChild:function($widget$$,$zOrder$$,$tag$$){$widget$$ instanceof ccui.Widget&&this._supplyTheLayoutParameterLackToChild($widget$$);ccui.Widget.prototype.addChild.call(this,$widget$$,$zOrder$$,$tag$$);this._doLayoutDirty=!0},removeChild:function($widget$$,$cleanup$$){ccui.Widget.prototype.removeChild.call(this,$widget$$,$cleanup$$);this._doLayoutDirty=!0},removeAllChildren:function($cleanup$$){ccui.Widget.prototype.removeAllChildren.call(this,
$cleanup$$);this._doLayoutDirty=!0},removeAllChildrenWithCleanup:function($cleanup$$){ccui.Widget.prototype.removeAllChildrenWithCleanup.call(this,$cleanup$$);this._doLayoutDirty=!0},isClippingEnabled:function(){return this._clippingEnabled},visit:function($ctx$$){if(this._visible)if(this._adaptRenderers(),this._doLayout(),this._clippingEnabled)switch(this._clippingType){case ccui.Layout.CLIPPING_STENCIL:this._stencilClippingVisit($ctx$$);break;case ccui.Layout.CLIPPING_SCISSOR:this._scissorClippingVisit($ctx$$)}else ccui.Widget.prototype.visit.call(this,
$ctx$$)},_stencilClippingVisit:null,_stencilClippingVisitForWebGL:function($ctx$$99_currentStack$$){if(this._clippingStencil&&this._clippingStencil.isVisible())if(ccui.Layout._layer+1==cc.stencilBits)ccui.Layout._visit_once=!0,ccui.Layout._visit_once&&(cc.log("Nesting more than "+cc.stencilBits+"stencils is not supported. Everything will be drawn without stencil for this node and its childs."),ccui.Layout._visit_once=!1),cc.Node.prototype.visit.call(this,$ctx$$99_currentStack$$);else{cc.renderer.pushRenderCommand(this._beforeVisitCmdStencil);
$ctx$$99_currentStack$$=cc.current_stack;$ctx$$99_currentStack$$.stack.push($ctx$$99_currentStack$$.top);cc.kmMat4Assign(this._stackMatrix,$ctx$$99_currentStack$$.top);$ctx$$99_currentStack$$.top=this._stackMatrix;this.transform();this._clippingStencil.visit();cc.renderer.pushRenderCommand(this._afterDrawStencilCmd);var $i$$=0,$j$$=0;this.sortAllChildren();this.sortAllProtectedChildren();for(var $locChildren$$=this._children,$locProtectChildren$$=this._protectedChildren,$iLen$$=$locChildren$$.length,
$jLen$$=$locProtectChildren$$.length,$child$$;$i$$<$iLen$$;$i$$++)if(($child$$=$locChildren$$[$i$$])&&0>$child$$.getLocalZOrder())$child$$.visit();else break;for(;$j$$<$jLen$$;$j$$++)if(($child$$=$locProtectChildren$$[$j$$])&&0>$child$$.getLocalZOrder())$child$$.visit();else break;for(this._rendererCmd&&cc.renderer.pushRenderCommand(this._rendererCmd);$i$$<$iLen$$;$i$$++)$locChildren$$[$i$$].visit();for(;$j$$<$jLen$$;$j$$++)$locProtectChildren$$[$j$$].visit();cc.renderer.pushRenderCommand(this._afterVisitCmdStencil);
$ctx$$99_currentStack$$.top=$ctx$$99_currentStack$$.stack.pop()}},_stencilClippingVisitForCanvas:function($ctx$$100_i$$){if(this._clippingStencil&&this._clippingStencil.isVisible()){var $locChild$$;this._clipElemType=this._stencil instanceof cc.Sprite?!0:!1;var $context$$=$ctx$$100_i$$||cc._renderContext;this.transform();this._rendererSaveCmd&&cc.renderer.pushRenderCommand(this._rendererSaveCmd);this._clipElemType?(cc.ProtectedNode.prototype.visit.call(this,$context$$),this._rendererSaveCmdSprite&&
cc.renderer.pushRenderCommand(this._rendererSaveCmdSprite),this._clippingStencil.visit()):this._clippingStencil.visit($context$$);this._rendererClipCmd&&cc.renderer.pushRenderCommand(this._rendererClipCmd);if(!this._clipElemType){this.sortAllChildren();this.sortAllProtectedChildren();var $children$$=this._children,$j$$,$locProtectChildren$$=this._protectedChildren,$iLen$$=$children$$.length,$jLen$$=$locProtectChildren$$.length;for($ctx$$100_i$$=0;$ctx$$100_i$$<$iLen$$;$ctx$$100_i$$++)if(($locChild$$=
$children$$[$ctx$$100_i$$])&&0>$locChild$$._localZOrder)$locChild$$.visit($context$$);else break;for($j$$=0;$j$$<$jLen$$;$j$$++)if(($locChild$$=$locProtectChildren$$[$j$$])&&0>$locChild$$._localZOrder)$locChild$$.visit($context$$);else break;for(;$ctx$$100_i$$<$iLen$$;$ctx$$100_i$$++)$children$$[$ctx$$100_i$$].visit($context$$);for(;$j$$<$jLen$$;$j$$++)$locProtectChildren$$[$j$$].visit($context$$);this._rendererRestoreCmd&&cc.renderer.pushRenderCommand(this._rendererRestoreCmd)}}},_onRenderSaveCmd:function($context$$44_ctx$$,
$canvas$$6_scaleX$$,$scaleY$$){$context$$44_ctx$$=$context$$44_ctx$$||cc._renderContext;if(this._clipElemType)$canvas$$6_scaleX$$=$context$$44_ctx$$.canvas,this._locCache=ccui.Layout._getSharedCache(),this._locCache.width=$canvas$$6_scaleX$$.width,this._locCache.height=$canvas$$6_scaleX$$.height,this._locCache.getContext("2d").drawImage($canvas$$6_scaleX$$,0,0),$context$$44_ctx$$.save();else{this.transform();var $t$$=this._transformWorld;$context$$44_ctx$$.save();$context$$44_ctx$$.save();$context$$44_ctx$$.transform($t$$.a,
$t$$.c,$t$$.b,$t$$.d,$t$$.tx*$canvas$$6_scaleX$$,-$t$$.ty*$scaleY$$)}},_onRenderSaveSpriteCmd:function($context$$45_ctx$$){$context$$45_ctx$$=$context$$45_ctx$$||cc._renderContext;this._clipElemType&&($context$$45_ctx$$.globalCompositeOperation="destination-in",this.transform($context$$45_ctx$$))},_onRenderClipCmd:function($context$$46_ctx$$){$context$$46_ctx$$=$context$$46_ctx$$||cc._renderContext;this._clipElemType||($context$$46_ctx$$.restore(),$context$$46_ctx$$.clip())},_onRenderRestoreCmd:function($context$$47_ctx$$){$context$$47_ctx$$=
$context$$47_ctx$$||cc._renderContext;this._clipElemType&&($context$$47_ctx$$.restore(),$context$$47_ctx$$.save(),$context$$47_ctx$$.setTransform(1,0,0,1,0,0),$context$$47_ctx$$.globalCompositeOperation="destination-over",$context$$47_ctx$$.drawImage(this._node._locCache,0,0));$context$$47_ctx$$.restore()},_scissorClippingVisit:null,_scissorClippingVisitForWebGL:function($ctx$$){cc.renderer.pushRenderCommand(this._beforeVisitCmdScissor);cc.ProtectedNode.prototype.visit.call(this);cc.renderer.pushRenderCommand(this._afterVisitCmdScissor)},
setClippingEnabled:function($able$$){if($able$$!=this._clippingEnabled)switch(this._clippingEnabled=$able$$,this._clippingType){case ccui.Layout.CLIPPING_STENCIL:if($able$$){this._clippingStencil=new cc.DrawNode;cc._renderType===cc._RENDER_TYPE_CANVAS&&(this._clippingStencil._rendererCmd.rendering=this.__stencilDraw.bind(this));if(this._running)this._clippingStencil.onEnter();this._setStencilClippingSize(this._contentSize)}else{if(this._running&&this._clippingStencil)this._clippingStencil.onExit();
this._clippingStencil=null}}},setClippingType:function($type$$){if($type$$!=this._clippingType)if(cc._renderType===cc._RENDER_TYPE_CANVAS&&$type$$==ccui.Layout.CLIPPING_SCISSOR)cc.log("Only supports STENCIL on canvas mode.");else{var $clippingEnabled$$=this.isClippingEnabled();this.setClippingEnabled(!1);this._clippingType=$type$$;this.setClippingEnabled($clippingEnabled$$)}},getClippingType:function(){return this._clippingType},_setStencilClippingSize:function($green$$9_size$$){if(this._clippingEnabled&&
this._clippingType==ccui.Layout.CLIPPING_STENCIL){var $rect$$=[];$rect$$[0]=cc.p(0,0);$rect$$[1]=cc.p($green$$9_size$$.width,0);$rect$$[2]=cc.p($green$$9_size$$.width,$green$$9_size$$.height);$rect$$[3]=cc.p(0,$green$$9_size$$.height);$green$$9_size$$=cc.color.GREEN;this._clippingStencil.clear();this._clippingStencil.drawPoly($rect$$,4,$green$$9_size$$,0,$green$$9_size$$)}},_getClippingRect:function(){if(this._clippingRectDirty){for(var $bottomOffset_worldPos$$=this.convertToWorldSpace(cc.p(0,0)),
$parent$$143_parentClippingRect_t$$=this.nodeToWorldTransform(),$rightOffset_scissorWidth_topOffset$$=this._contentSize.width*$parent$$143_parentClippingRect_t$$.a,$scissorHeight$$=this._contentSize.height*$parent$$143_parentClippingRect_t$$.d,$parent$$143_parentClippingRect_t$$=this;$parent$$143_parentClippingRect_t$$;)if(($parent$$143_parentClippingRect_t$$=$parent$$143_parentClippingRect_t$$.getParent())&&$parent$$143_parentClippingRect_t$$ instanceof ccui.Layout&&$parent$$143_parentClippingRect_t$$.isClippingEnabled()){this._clippingParent=
$parent$$143_parentClippingRect_t$$;break}if(this._clippingParent){var $parent$$143_parentClippingRect_t$$=this._clippingParent._getClippingRect(),$finalX$$=$bottomOffset_worldPos$$.x-$rightOffset_scissorWidth_topOffset$$*this._anchorPoint.x,$finalY$$=$bottomOffset_worldPos$$.y-$scissorHeight$$*this._anchorPoint.y,$finalWidth$$=$rightOffset_scissorWidth_topOffset$$,$finalHeight$$=$scissorHeight$$,$leftOffset$$=$bottomOffset_worldPos$$.x-$parent$$143_parentClippingRect_t$$.x;0>$leftOffset$$&&($finalX$$=
$parent$$143_parentClippingRect_t$$.x,$finalWidth$$+=$leftOffset$$);$rightOffset_scissorWidth_topOffset$$=$bottomOffset_worldPos$$.x+$rightOffset_scissorWidth_topOffset$$-($parent$$143_parentClippingRect_t$$.x+$parent$$143_parentClippingRect_t$$.width);0<$rightOffset_scissorWidth_topOffset$$&&($finalWidth$$-=$rightOffset_scissorWidth_topOffset$$);$rightOffset_scissorWidth_topOffset$$=$bottomOffset_worldPos$$.y+$scissorHeight$$-($parent$$143_parentClippingRect_t$$.y+$parent$$143_parentClippingRect_t$$.height);
0<$rightOffset_scissorWidth_topOffset$$&&($finalHeight$$-=$rightOffset_scissorWidth_topOffset$$);$bottomOffset_worldPos$$=$bottomOffset_worldPos$$.y-$parent$$143_parentClippingRect_t$$.y;0>$bottomOffset_worldPos$$&&($finalY$$=$parent$$143_parentClippingRect_t$$.x,$finalHeight$$+=$bottomOffset_worldPos$$);0>$finalWidth$$&&($finalWidth$$=0);0>$finalHeight$$&&($finalHeight$$=0);this._clippingRect.x=$finalX$$;this._clippingRect.y=$finalY$$;this._clippingRect.width=$finalWidth$$;this._clippingRect.height=
$finalHeight$$}else this._clippingRect.x=$bottomOffset_worldPos$$.x-$rightOffset_scissorWidth_topOffset$$*this._anchorPoint.x,this._clippingRect.y=$bottomOffset_worldPos$$.y-$scissorHeight$$*this._anchorPoint.y,this._clippingRect.width=$rightOffset_scissorWidth_topOffset$$,this._clippingRect.height=$scissorHeight$$;this._clippingRectDirty=!1}return this._clippingRect},_onSizeChanged:function(){ccui.Widget.prototype._onSizeChanged.call(this);var $locContentSize$$=this._contentSize;this._setStencilClippingSize($locContentSize$$);
this._clippingRectDirty=this._doLayoutDirty=!0;this._backGroundImage&&(this._backGroundImage.setPosition(.5*$locContentSize$$.width,.5*$locContentSize$$.height),this._backGroundScale9Enabled&&this._backGroundImage instanceof ccui.Scale9Sprite&&this._backGroundImage.setPreferredSize($locContentSize$$));this._colorRender&&this._colorRender.setContentSize($locContentSize$$);this._gradientRender&&this._gradientRender.setContentSize($locContentSize$$)},setBackGroundImageScale9Enabled:function($able$$){this._backGroundScale9Enabled!=
$able$$&&(this.removeProtectedChild(this._backGroundImage),this._backGroundImage=null,this._backGroundScale9Enabled=$able$$,this._addBackGroundImage(),this.setBackGroundImage(this._backGroundImageFileName,this._bgImageTexType),this.setBackGroundImageCapInsets(this._backGroundImageCapInsets))},isBackGroundImageScale9Enabled:function(){return this._backGroundScale9Enabled},setBackGroundImage:function($fileName$$,$texType$$){if($fileName$$){$texType$$=$texType$$||ccui.Widget.LOCAL_TEXTURE;null==this._backGroundImage&&
(this._addBackGroundImage(),this.setBackGroundImageScale9Enabled(this._backGroundScale9Enabled));this._backGroundImageFileName=$fileName$$;this._bgImageTexType=$texType$$;var $locBackgroundImage$$=this._backGroundImage;if(this._backGroundScale9Enabled){switch(this._bgImageTexType){case ccui.Widget.LOCAL_TEXTURE:$locBackgroundImage$$.initWithFile($fileName$$);break;case ccui.Widget.PLIST_TEXTURE:$locBackgroundImage$$.initWithSpriteFrameName($fileName$$)}$locBackgroundImage$$.setPreferredSize(this._contentSize)}else switch(this._bgImageTexType){case ccui.Widget.LOCAL_TEXTURE:$locBackgroundImage$$.initWithFile($fileName$$);
break;case ccui.Widget.PLIST_TEXTURE:$locBackgroundImage$$.initWithSpriteFrameName($fileName$$)}this._backGroundImageTextureSize=$locBackgroundImage$$.getContentSize();$locBackgroundImage$$.setPosition(.5*this._contentSize.width,.5*this._contentSize.height);this._updateBackGroundImageColor()}},setBackGroundImageCapInsets:function($capInsets$$){if($capInsets$$){var $locInsets$$=this._backGroundImageCapInsets;$locInsets$$.x=$capInsets$$.x;$locInsets$$.y=$capInsets$$.y;$locInsets$$.width=$capInsets$$.width;
$locInsets$$.height=$capInsets$$.height;this._backGroundScale9Enabled&&this._backGroundImage.setCapInsets($capInsets$$)}},getBackGroundImageCapInsets:function(){return cc.rect(this._backGroundImageCapInsets)},_supplyTheLayoutParameterLackToChild:function($locChild$$){if($locChild$$)switch(this._layoutType){case ccui.Layout.LINEAR_HORIZONTAL:case ccui.Layout.LINEAR_VERTICAL:var $layoutParameter$$=$locChild$$.getLayoutParameter(ccui.LayoutParameter.LINEAR);$layoutParameter$$||$locChild$$.setLayoutParameter(new ccui.LinearLayoutParameter);
break;case ccui.Layout.RELATIVE:($layoutParameter$$=$locChild$$.getLayoutParameter(ccui.LayoutParameter.RELATIVE))||$locChild$$.setLayoutParameter(new ccui.RelativeLayoutParameter)}},_addBackGroundImage:function(){this._backGroundScale9Enabled?(this._backGroundImage=new ccui.Scale9Sprite,this._backGroundImage.setPreferredSize(this._contentSize)):this._backGroundImage=new cc.Sprite;this.addProtectedChild(this._backGroundImage,ccui.Layout.BACKGROUND_IMAGE_ZORDER,-1);this._backGroundImage.setPosition(this._contentSize.width/
2,this._contentSize.height/2)},removeBackGroundImage:function(){this._backGroundImage&&(this.removeProtectedChild(this._backGroundImage),this._backGroundImage=null,this._backGroundImageFileName="",this._backGroundImageTextureSize.width=0,this._backGroundImageTextureSize.height=0)},setBackGroundColorType:function($type$$){if(this._colorType!=$type$$){switch(this._colorType){case ccui.Layout.BG_COLOR_NONE:this._colorRender&&(this.removeProtectedChild(this._colorRender),this._colorRender=null);this._gradientRender&&
(this.removeProtectedChild(this._gradientRender),this._gradientRender=null);break;case ccui.Layout.BG_COLOR_SOLID:this._colorRender&&(this.removeProtectedChild(this._colorRender),this._colorRender=null);break;case ccui.Layout.BG_COLOR_GRADIENT:this._gradientRender&&(this.removeProtectedChild(this._gradientRender),this._gradientRender=null)}this._colorType=$type$$;switch(this._colorType){case ccui.Layout.BG_COLOR_SOLID:this._colorRender=new cc.LayerColor;this._colorRender.setContentSize(this._contentSize);
this._colorRender.setOpacity(this._opacity);this._colorRender.setColor(this._color);this.addProtectedChild(this._colorRender,ccui.Layout.BACKGROUND_RENDERER_ZORDER,-1);break;case ccui.Layout.BG_COLOR_GRADIENT:this._gradientRender=new cc.LayerGradient(cc.color(255,0,0,255),cc.color(0,255,0,255)),this._gradientRender.setContentSize(this._contentSize),this._gradientRender.setOpacity(this._opacity),this._gradientRender.setStartColor(this._startColor),this._gradientRender.setEndColor(this._endColor),this._gradientRender.setVector(this._alongVector),
this.addProtectedChild(this._gradientRender,ccui.Layout.BACKGROUND_RENDERER_ZORDER,-1)}}},getBackGroundColorType:function(){return this._colorType},setBackGroundColor:function($color$$,$endColor$$){$endColor$$?(this._startColor.r=$color$$.r,this._startColor.g=$color$$.g,this._startColor.b=$color$$.b,this._gradientRender&&this._gradientRender.setStartColor($color$$),this._endColor.r=$endColor$$.r,this._endColor.g=$endColor$$.g,this._endColor.b=$endColor$$.b,this._gradientRender&&this._gradientRender.setEndColor($endColor$$)):
(this._color.r=$color$$.r,this._color.g=$color$$.g,this._color.b=$color$$.b,this._colorRender&&this._colorRender.setColor($color$$))},getBackGroundColor:function(){var $tmpColor$$=this._color;return cc.color($tmpColor$$.r,$tmpColor$$.g,$tmpColor$$.b,$tmpColor$$.a)},getBackGroundStartColor:function(){var $tmpColor$$=this._startColor;return cc.color($tmpColor$$.r,$tmpColor$$.g,$tmpColor$$.b,$tmpColor$$.a)},getBackGroundEndColor:function(){var $tmpColor$$=this._endColor;return cc.color($tmpColor$$.r,
$tmpColor$$.g,$tmpColor$$.b,$tmpColor$$.a)},setBackGroundColorOpacity:function($opacity$$){this._opacity=$opacity$$;switch(this._colorType){case ccui.Layout.BG_COLOR_SOLID:this._colorRender.setOpacity($opacity$$);break;case ccui.Layout.BG_COLOR_GRADIENT:this._gradientRender.setOpacity($opacity$$)}},getBackGroundColorOpacity:function(){return this._opacity},setBackGroundColorVector:function($vector$$){this._alongVector.x=$vector$$.x;this._alongVector.y=$vector$$.y;this._gradientRender&&this._gradientRender.setVector($vector$$)},
getBackGroundColorVector:function(){return this._alongVector},setBackGroundImageColor:function($color$$){this._backGroundImageColor.r=$color$$.r;this._backGroundImageColor.g=$color$$.g;this._backGroundImageColor.b=$color$$.b;this._updateBackGroundImageColor()},setBackGroundImageOpacity:function($opacity$$){this._backGroundImageColor.a=$opacity$$;this.getBackGroundImageColor()},getBackGroundImageColor:function(){var $color$$=this._backGroundImageColor;return cc.color($color$$.r,$color$$.g,$color$$.b,
$color$$.a)},getBackGroundImageOpacity:function(){return this._backGroundImageColor.a},_updateBackGroundImageColor:function(){this._backGroundImage&&this._backGroundImage.setColor(this._backGroundImageColor)},getBackGroundImageTextureSize:function(){return this._backGroundImageTextureSize},setLayoutType:function($layoutChildrenArray_type$$){this._layoutType=$layoutChildrenArray_type$$;$layoutChildrenArray_type$$=this._children;for(var $locChild$$=null,$i$$=0;$i$$<$layoutChildrenArray_type$$.length;$i$$++)$locChild$$=
$layoutChildrenArray_type$$[$i$$],$locChild$$ instanceof ccui.Widget&&this._supplyTheLayoutParameterLackToChild($locChild$$);this._doLayoutDirty=!0},getLayoutType:function(){return this._layoutType},requestDoLayout:function(){this._doLayoutDirty=!0},_doLayout:function(){if(this._doLayoutDirty){this.sortAllChildren();var $executant$$=ccui.getLayoutManager(this._layoutType);$executant$$&&$executant$$._doLayout(this);this._doLayoutDirty=!1}},_getLayoutContentSize:function(){return this.getContentSize()},
_getLayoutElements:function(){return this.getChildren()},_onBeforeVisitStencil:function($ctx$$106_gl$$){$ctx$$106_gl$$=$ctx$$106_gl$$||cc._renderContext;ccui.Layout._layer++;var $mask_layer$$=1<<ccui.Layout._layer;this._mask_layer_le=$mask_layer$$|$mask_layer$$-1;this._currentStencilEnabled=$ctx$$106_gl$$.isEnabled($ctx$$106_gl$$.STENCIL_TEST);this._currentStencilWriteMask=$ctx$$106_gl$$.getParameter($ctx$$106_gl$$.STENCIL_WRITEMASK);this._currentStencilFunc=$ctx$$106_gl$$.getParameter($ctx$$106_gl$$.STENCIL_FUNC);
this._currentStencilRef=$ctx$$106_gl$$.getParameter($ctx$$106_gl$$.STENCIL_REF);this._currentStencilValueMask=$ctx$$106_gl$$.getParameter($ctx$$106_gl$$.STENCIL_VALUE_MASK);this._currentStencilFail=$ctx$$106_gl$$.getParameter($ctx$$106_gl$$.STENCIL_FAIL);this._currentStencilPassDepthFail=$ctx$$106_gl$$.getParameter($ctx$$106_gl$$.STENCIL_PASS_DEPTH_FAIL);this._currentStencilPassDepthPass=$ctx$$106_gl$$.getParameter($ctx$$106_gl$$.STENCIL_PASS_DEPTH_PASS);$ctx$$106_gl$$.enable($ctx$$106_gl$$.STENCIL_TEST);
$ctx$$106_gl$$.stencilMask($mask_layer$$);this._currentDepthWriteMask=$ctx$$106_gl$$.getParameter($ctx$$106_gl$$.DEPTH_WRITEMASK);$ctx$$106_gl$$.depthMask(!1);$ctx$$106_gl$$.stencilFunc($ctx$$106_gl$$.NEVER,$mask_layer$$,$mask_layer$$);$ctx$$106_gl$$.stencilOp($ctx$$106_gl$$.ZERO,$ctx$$106_gl$$.KEEP,$ctx$$106_gl$$.KEEP);this._drawFullScreenQuadClearStencil();$ctx$$106_gl$$.stencilFunc($ctx$$106_gl$$.NEVER,$mask_layer$$,$mask_layer$$);$ctx$$106_gl$$.stencilOp($ctx$$106_gl$$.REPLACE,$ctx$$106_gl$$.KEEP,
$ctx$$106_gl$$.KEEP)},_drawFullScreenQuadClearStencil:function(){cc.kmGLMatrixMode(cc.KM_GL_PROJECTION);cc.kmGLPushMatrix();cc.kmGLLoadIdentity();cc.kmGLMatrixMode(cc.KM_GL_MODELVIEW);cc.kmGLPushMatrix();cc.kmGLLoadIdentity();cc._drawingUtil.drawSolidRect(cc.p(-1,-1),cc.p(1,1),cc.color(255,255,255,255));cc.kmGLMatrixMode(cc.KM_GL_PROJECTION);cc.kmGLPopMatrix();cc.kmGLMatrixMode(cc.KM_GL_MODELVIEW);cc.kmGLPopMatrix()},_onAfterDrawStencil:function($ctx$$107_gl$$){$ctx$$107_gl$$=$ctx$$107_gl$$||cc._renderContext;
$ctx$$107_gl$$.depthMask(this._currentDepthWriteMask);$ctx$$107_gl$$.stencilFunc($ctx$$107_gl$$.EQUAL,this._mask_layer_le,this._mask_layer_le);$ctx$$107_gl$$.stencilOp($ctx$$107_gl$$.KEEP,$ctx$$107_gl$$.KEEP,$ctx$$107_gl$$.KEEP)},_onAfterVisitStencil:function($ctx$$108_gl$$){$ctx$$108_gl$$=$ctx$$108_gl$$||cc._renderContext;$ctx$$108_gl$$.stencilFunc(this._currentStencilFunc,this._currentStencilRef,this._currentStencilValueMask);$ctx$$108_gl$$.stencilOp(this._currentStencilFail,this._currentStencilPassDepthFail,
this._currentStencilPassDepthPass);$ctx$$108_gl$$.stencilMask(this._currentStencilWriteMask);this._currentStencilEnabled||$ctx$$108_gl$$.disable($ctx$$108_gl$$.STENCIL_TEST);ccui.Layout._layer--},_onBeforeVisitScissor:function($ctx$$109_gl$$){var $clippingRect$$=this._getClippingRect();$ctx$$109_gl$$=$ctx$$109_gl$$||cc._renderContext;$ctx$$109_gl$$.enable($ctx$$109_gl$$.SCISSOR_TEST);cc.view.setScissorInPoints($clippingRect$$.x,$clippingRect$$.y,$clippingRect$$.width,$clippingRect$$.height)},_onAfterVisitScissor:function($ctx$$){gl.disable(gl.SCISSOR_TEST)},
_updateBackGroundImageOpacity:function(){this._backGroundImage&&this._backGroundImage.setOpacity(this._backGroundImageOpacity)},_updateBackGroundImageRGBA:function(){this._backGroundImage&&(this._backGroundImage.setColor(this._backGroundImageColor),this._backGroundImage.setOpacity(this._backGroundImageOpacity))},_getLayoutAccumulatedSize:function(){for(var $children$$21_type$$=this.getChildren(),$layoutSize$$=cc.size(0,0),$widgetCount$$=0,$layout$$2_locSize$$,$i$$=0,$len$$=$children$$21_type$$.length;$i$$<
$len$$;$i$$++)if($layout$$2_locSize$$=$children$$21_type$$[$i$$],null!=$layout$$2_locSize$$&&$layout$$2_locSize$$ instanceof ccui.Layout)$layout$$2_locSize$$=$layout$$2_locSize$$._getLayoutAccumulatedSize(),$layoutSize$$.width+=$layout$$2_locSize$$.width,$layoutSize$$.height+=$layout$$2_locSize$$.height;else if($layout$$2_locSize$$ instanceof ccui.Widget){$widgetCount$$++;var $m$$=$layout$$2_locSize$$.getLayoutParameter().getMargin();$layout$$2_locSize$$=$layout$$2_locSize$$.getContentSize();$layoutSize$$.width+=
$layout$$2_locSize$$.width+.5*($m$$.right+$m$$.left);$layoutSize$$.height+=$layout$$2_locSize$$.height+.5*($m$$.top+$m$$.bottom)}$children$$21_type$$=this.getLayoutType();$children$$21_type$$==ccui.Layout.LINEAR_HORIZONTAL&&($layoutSize$$.height-=$layoutSize$$.height/$widgetCount$$*($widgetCount$$-1));$children$$21_type$$==ccui.Layout.LINEAR_VERTICAL&&($layoutSize$$.width-=$layoutSize$$.width/$widgetCount$$*($widgetCount$$-1));return $layoutSize$$},_findNearestChildWidgetIndex:function($direction$$,
$baseWidget$$){if(null==$baseWidget$$||$baseWidget$$==this)return this._findFirstFocusEnabledWidgetIndex();var $index$$=0,$locChildren$$=this.getChildren(),$count$$=$locChildren$$.length,$widgetPosition$$,$distance$$=cc.FLT_MAX,$found$$=0;if($direction$$==ccui.Widget.LEFT||$direction$$==ccui.Widget.RIGHT||$direction$$==ccui.Widget.DOWN||$direction$$==ccui.Widget.UP){for($widgetPosition$$=this._getWorldCenterPoint($baseWidget$$);$index$$<$count$$;){var $length$$27_w$$=$locChildren$$[$index$$];$length$$27_w$$&&
$length$$27_w$$ instanceof ccui.Widget&&$length$$27_w$$.isFocusEnabled()&&($length$$27_w$$=$length$$27_w$$ instanceof ccui.Layout?$length$$27_w$$._calculateNearestDistance($baseWidget$$):cc.pLength(cc.pSub(this._getWorldCenterPoint($length$$27_w$$),$widgetPosition$$)),$length$$27_w$$<$distance$$&&($found$$=$index$$,$distance$$=$length$$27_w$$));$index$$++}return $found$$}cc.log("invalid focus direction!");return 0},_findFarthestChildWidgetIndex:function($direction$$,$baseWidget$$){if(null==$baseWidget$$||
$baseWidget$$==this)return this._findFirstFocusEnabledWidgetIndex();var $index$$=0,$locChildren$$=this.getChildren(),$count$$=$locChildren$$.length,$distance$$=-cc.FLT_MAX,$found$$=0;if($direction$$==ccui.Widget.LEFT||$direction$$==ccui.Widget.RIGHT||$direction$$==ccui.Widget.DOWN||$direction$$==ccui.Widget.UP){for(var $widgetPosition$$=this._getWorldCenterPoint($baseWidget$$);$index$$<$count$$;){var $length$$28_w$$=$locChildren$$[$index$$];$length$$28_w$$&&$length$$28_w$$ instanceof ccui.Widget&&
$length$$28_w$$.isFocusEnabled()&&($length$$28_w$$=$length$$28_w$$ instanceof ccui.Layout?$length$$28_w$$._calculateFarthestDistance($baseWidget$$):cc.pLength(cc.pSub(this._getWorldCenterPoint($length$$28_w$$),$widgetPosition$$)),$length$$28_w$$>$distance$$&&($found$$=$index$$,$distance$$=$length$$28_w$$));$index$$++}return $found$$}cc.log("invalid focus direction!!!");return 0},_calculateNearestDistance:function($baseWidget$$){for(var $distance$$=cc.FLT_MAX,$widgetPosition$$=this._getWorldCenterPoint($baseWidget$$),
$locChildren$$=this._children,$i$$=0,$len$$=$locChildren$$.length;$i$$<$len$$;$i$$++){var $length$$29_widget$$=$locChildren$$[$i$$];if($length$$29_widget$$ instanceof ccui.Layout)$length$$29_widget$$=$length$$29_widget$$._calculateNearestDistance($baseWidget$$);else if($length$$29_widget$$ instanceof ccui.Widget&&$length$$29_widget$$.isFocusEnabled())$length$$29_widget$$=cc.pLength(cc.pSub(this._getWorldCenterPoint($length$$29_widget$$),$widgetPosition$$));else continue;$length$$29_widget$$<$distance$$&&
($distance$$=$length$$29_widget$$)}return $distance$$},_calculateFarthestDistance:function($baseWidget$$){for(var $distance$$=-cc.FLT_MAX,$widgetPosition$$=this._getWorldCenterPoint($baseWidget$$),$locChildren$$=this._children,$i$$=0,$len$$=$locChildren$$.length;$i$$<$len$$;$i$$++){var $layout$$3_length$$=$locChildren$$[$i$$];if($layout$$3_length$$ instanceof ccui.Layout)$layout$$3_length$$=$layout$$3_length$$._calculateFarthestDistance($baseWidget$$);else if($layout$$3_length$$ instanceof ccui.Widget&&
$layout$$3_length$$.isFocusEnabled())$layout$$3_length$$=this._getWorldCenterPoint($layout$$3_length$$),$layout$$3_length$$=cc.pLength(cc.pSub($layout$$3_length$$,$widgetPosition$$));else continue;$layout$$3_length$$>$distance$$&&($distance$$=$layout$$3_length$$)}return $distance$$},_findProperSearchingFunctor:function($direction$$,$baseWidget$$){if(null!=$baseWidget$$){var $previousWidgetPosition$$=this._getWorldCenterPoint($baseWidget$$),$widgetPosition$$=this._getWorldCenterPoint(this._findFirstNonLayoutWidget());
$direction$$==ccui.Widget.LEFT?this.onPassFocusToChild=$previousWidgetPosition$$.x>$widgetPosition$$.x?this._findNearestChildWidgetIndex.bind(this):this._findFarthestChildWidgetIndex.bind(this):$direction$$==ccui.Widget.RIGHT?this.onPassFocusToChild=$previousWidgetPosition$$.x>$widgetPosition$$.x?this._findFarthestChildWidgetIndex.bind(this):this._findNearestChildWidgetIndex.bind(this):$direction$$==ccui.Widget.DOWN?this.onPassFocusToChild=$previousWidgetPosition$$.y>$widgetPosition$$.y?this._findNearestChildWidgetIndex.bind(this):
this._findFarthestChildWidgetIndex.bind(this):$direction$$==ccui.Widget.UP?this.onPassFocusToChild=$previousWidgetPosition$$.y<$widgetPosition$$.y?this._findNearestChildWidgetIndex.bind(this):this._findFarthestChildWidgetIndex.bind(this):cc.log("invalid direction!")}},_findFirstNonLayoutWidget:function(){for(var $locChildren$$=this._children,$i$$=0,$len$$=$locChildren$$.length;$i$$<$len$$;$i$$++){var $child$$61_widget$$=$locChildren$$[$i$$];if($child$$61_widget$$ instanceof ccui.Layout){if($child$$61_widget$$=
$child$$61_widget$$._findFirstNonLayoutWidget())return $child$$61_widget$$}else if($child$$61_widget$$ instanceof cc.Widget)return $child$$61_widget$$}return null},_findFirstFocusEnabledWidgetIndex:function(){for(var $index$$=0,$locChildren$$=this.getChildren(),$count$$=$locChildren$$.length;$index$$<$count$$;){var $w$$=$locChildren$$[$index$$];if($w$$&&$w$$ instanceof ccui.Widget&&$w$$.isFocusEnabled())return $index$$;$index$$++}return 0},_findFocusEnabledChildWidgetByIndex:function($index$$){var $widget$$=
this._getChildWidgetByIndex($index$$);return $widget$$?$widget$$.isFocusEnabled()?$widget$$:this._findFocusEnabledChildWidgetByIndex($index$$+1):null},_getWorldCenterPoint:function($widget$$){var $widgetSize$$=$widget$$ instanceof ccui.Layout?$widget$$._getLayoutAccumulatedSize():$widget$$.getContentSize();return $widget$$.convertToWorldSpace(cc.p($widgetSize$$.width/2,$widgetSize$$.height/2))},_getNextFocusedWidget:function($direction$$,$current$$){var $locChildren$$=null,$locChildren$$=this._children,
$previousWidgetPos$$=$locChildren$$.indexOf($current$$),$previousWidgetPos$$=$previousWidgetPos$$+1;if($previousWidgetPos$$<$locChildren$$.length){if($locChildren$$=this._getChildWidgetByIndex($previousWidgetPos$$)){if($locChildren$$.isFocusEnabled()){if($locChildren$$ instanceof ccui.Layout)return $locChildren$$._isFocusPassing=!0,$locChildren$$.findNextFocusedWidget($direction$$,$locChildren$$);this.dispatchFocusEvent($current$$,$locChildren$$);return $locChildren$$}return this._getNextFocusedWidget($direction$$,
$locChildren$$)}return $current$$}if(this._loopFocus){if(this._checkFocusEnabledChild()){$locChildren$$=this._getChildWidgetByIndex(0);if($locChildren$$.isFocusEnabled()){if($locChildren$$ instanceof ccui.Layout)return $locChildren$$._isFocusPassing=!0,$locChildren$$.findNextFocusedWidget($direction$$,$locChildren$$);this.dispatchFocusEvent($current$$,$locChildren$$);return $locChildren$$}return this._getNextFocusedWidget($direction$$,$locChildren$$)}return $current$$ instanceof ccui.Layout?$current$$:
this._focusedWidget}return this._isLastWidgetInContainer($current$$,$direction$$)?this._isWidgetAncestorSupportLoopFocus(this,$direction$$)?this.findNextFocusedWidget($direction$$,this):$current$$ instanceof ccui.Layout?$current$$:this._focusedWidget:this.findNextFocusedWidget($direction$$,this)},_getPreviousFocusedWidget:function($direction$$,$current$$){var $locChildren$$69_nextWidget$$=null,$locChildren$$69_nextWidget$$=this._children,$previousWidgetPos$$=$locChildren$$69_nextWidget$$.indexOf($current$$),
$previousWidgetPos$$=$previousWidgetPos$$-1;if(0<=$previousWidgetPos$$){$locChildren$$69_nextWidget$$=this._getChildWidgetByIndex($previousWidgetPos$$);if($locChildren$$69_nextWidget$$.isFocusEnabled()){if($locChildren$$69_nextWidget$$ instanceof ccui.Layout)return $locChildren$$69_nextWidget$$._isFocusPassing=!0,$locChildren$$69_nextWidget$$.findNextFocusedWidget($direction$$,$locChildren$$69_nextWidget$$);this.dispatchFocusEvent($current$$,$locChildren$$69_nextWidget$$);return $locChildren$$69_nextWidget$$}return this._getPreviousFocusedWidget($direction$$,
$locChildren$$69_nextWidget$$)}if(this._loopFocus){if(this._checkFocusEnabledChild()){$previousWidgetPos$$=$locChildren$$69_nextWidget$$.length-1;$locChildren$$69_nextWidget$$=this._getChildWidgetByIndex($previousWidgetPos$$);if($locChildren$$69_nextWidget$$.isFocusEnabled()){if($locChildren$$69_nextWidget$$ instanceof ccui.Layout)return $locChildren$$69_nextWidget$$._isFocusPassing=!0,$locChildren$$69_nextWidget$$.findNextFocusedWidget($direction$$,$locChildren$$69_nextWidget$$);this.dispatchFocusEvent($current$$,
$locChildren$$69_nextWidget$$);return $locChildren$$69_nextWidget$$}return this._getPreviousFocusedWidget($direction$$,$locChildren$$69_nextWidget$$)}return $current$$ instanceof ccui.Layout?$current$$:this._focusedWidget}return this._isLastWidgetInContainer($current$$,$direction$$)?this._isWidgetAncestorSupportLoopFocus(this,$direction$$)?this.findNextFocusedWidget($direction$$,this):$current$$ instanceof ccui.Layout?$current$$:this._focusedWidget:this.findNextFocusedWidget($direction$$,this)},_getChildWidgetByIndex:function($begin$$12_index$$){for(var $locChildren$$=
this._children,$child$$62_size$$=$locChildren$$.length,$count$$=0,$oldIndex$$=$begin$$12_index$$;$begin$$12_index$$<$child$$62_size$$;){var $firstChild$$=$locChildren$$[$begin$$12_index$$];if($firstChild$$&&$firstChild$$ instanceof ccui.Widget)return $firstChild$$;$count$$++;$begin$$12_index$$++}for($begin$$12_index$$=0;$begin$$12_index$$<$oldIndex$$;){if(($child$$62_size$$=$locChildren$$[$begin$$12_index$$])&&$child$$62_size$$ instanceof ccui.Widget)return $child$$62_size$$;$count$$++;$begin$$12_index$$++}return null},
_isLastWidgetInContainer:function($widget$$,$direction$$){var $parent$$=$widget$$.getParent();if($parent$$ instanceof ccui.Layout)return!0;var $container$$=$parent$$.getChildren(),$index$$=$container$$.indexOf($widget$$);if($parent$$.getLayoutType()==ccui.Layout.LINEAR_HORIZONTAL){if($direction$$==ccui.Widget.LEFT)return 0==$index$$?this._isLastWidgetInContainer($parent$$,$direction$$):!1;if($direction$$==ccui.Widget.RIGHT)return $index$$==$container$$.length-1?this._isLastWidgetInContainer($parent$$,
$direction$$):!1;if($direction$$==ccui.Widget.DOWN||$direction$$==ccui.Widget.UP)return this._isLastWidgetInContainer($parent$$,$direction$$)}else if($parent$$.getLayoutType()==ccui.Layout.LINEAR_VERTICAL){if($direction$$==ccui.Widget.UP)return 0==$index$$?this._isLastWidgetInContainer($parent$$,$direction$$):!1;if($direction$$==ccui.Widget.DOWN)return $index$$==$container$$.length-1?this._isLastWidgetInContainer($parent$$,$direction$$):!1;if($direction$$==ccui.Widget.LEFT||$direction$$==ccui.Widget.RIGHT)return this._isLastWidgetInContainer($parent$$,
$direction$$)}else return cc.log("invalid layout Type"),!1},_isWidgetAncestorSupportLoopFocus:function($widget$$,$direction$$){var $parent$$=$widget$$.getParent();if(null==$parent$$)return!1;if($parent$$.isLoopFocus()){var $layoutType$$=$parent$$.getLayoutType();if($layoutType$$==ccui.Layout.LINEAR_HORIZONTAL)return $direction$$==ccui.Widget.LEFT||$direction$$==ccui.Widget.RIGHT?!0:this._isWidgetAncestorSupportLoopFocus($parent$$,$direction$$);if($layoutType$$==ccui.Layout.LINEAR_VERTICAL)return $direction$$==
ccui.Widget.DOWN||$direction$$==ccui.Widget.UP?!0:this._isWidgetAncestorSupportLoopFocus($parent$$,$direction$$);cc.assert(0,"invalid layout type");return!1}return this._isWidgetAncestorSupportLoopFocus($parent$$,$direction$$)},_passFocusToChild:function($direction$$,$current$$){if(this._checkFocusEnabledChild()){var $index$$112_previousWidget_widget$$=ccui.Widget.getCurrentFocusedWidget();this._findProperSearchingFunctor($direction$$,$index$$112_previousWidget_widget$$);$index$$112_previousWidget_widget$$=
this.onPassFocusToChild($direction$$,$index$$112_previousWidget_widget$$);$index$$112_previousWidget_widget$$=this._getChildWidgetByIndex($index$$112_previousWidget_widget$$);if($index$$112_previousWidget_widget$$ instanceof ccui.Layout)return $index$$112_previousWidget_widget$$._isFocusPassing=!0,$index$$112_previousWidget_widget$$.findNextFocusedWidget($direction$$,$index$$112_previousWidget_widget$$);this.dispatchFocusEvent($current$$,$index$$112_previousWidget_widget$$);return $index$$112_previousWidget_widget$$}return this},
_checkFocusEnabledChild:function(){for(var $locChildren$$=this._children,$i$$=0,$len$$=$locChildren$$.length;$i$$<$len$$;$i$$++){var $widget$$=$locChildren$$[$i$$];if($widget$$&&$widget$$ instanceof ccui.Widget&&$widget$$.isFocusEnabled())return!0}return!1},getDescription:function(){return"Layout"},_createCloneInstance:function(){return new ccui.Layout},_copyClonedWidgetChildren:function($model$$){ccui.Widget.prototype._copyClonedWidgetChildren.call(this,$model$$)},_copySpecialProperties:function($layout$$){$layout$$ instanceof
ccui.Layout&&(this.setBackGroundImageScale9Enabled($layout$$._backGroundScale9Enabled),this.setBackGroundImage($layout$$._backGroundImageFileName,$layout$$._bgImageTexType),this.setBackGroundImageCapInsets($layout$$._backGroundImageCapInsets),this.setBackGroundColorType($layout$$._colorType),this.setBackGroundColor($layout$$._color),this.setBackGroundColor($layout$$._startColor,$layout$$._endColor),this.setBackGroundColorOpacity($layout$$._opacity),this.setBackGroundColorVector($layout$$._alongVector),
this.setLayoutType($layout$$._layoutType),this.setClippingEnabled($layout$$._clippingEnabled),this.setClippingType($layout$$._clippingType),this._loopFocus=$layout$$._loopFocus,this.__passFocusToChild=$layout$$.__passFocusToChild,this._isInterceptTouch=$layout$$._isInterceptTouch)},_transformForRenderer:function($parentMatrix$$){cc._renderType===cc._RENDER_TYPE_WEBGL?(ccui.Widget.prototype._transformForRenderer.call(this,$parentMatrix$$),this._clippingStencil&&this._clippingStencil._transformForRenderer(this._stackMatrix)):
ccui.ProtectedNode.prototype._transformForRenderer.call(this)}});ccui.Layout._init_once=null;ccui.Layout._visit_once=null;ccui.Layout._layer=-1;ccui.Layout._sharedCache=null;
cc._renderType==cc._RENDER_TYPE_WEBGL?(ccui.Layout.prototype._stencilClippingVisit=ccui.Layout.prototype._stencilClippingVisitForWebGL,ccui.Layout.prototype._scissorClippingVisit=ccui.Layout.prototype._scissorClippingVisitForWebGL):(ccui.Layout.prototype._stencilClippingVisit=ccui.Layout.prototype._stencilClippingVisitForCanvas,ccui.Layout.prototype._scissorClippingVisit=ccui.Layout.prototype._stencilClippingVisitForCanvas);
ccui.Layout._getSharedCache=function $ccui$Layout$_getSharedCache$(){return cc.ClippingNode._sharedCache||(cc.ClippingNode._sharedCache=cc.newElement("canvas"))};_p=ccui.Layout.prototype;_p.clippingEnabled;cc.defineGetterSetter(_p,"clippingEnabled",_p.isClippingEnabled,_p.setClippingEnabled);_p.clippingType;cc.defineGetterSetter(_p,"clippingType",null,_p.setClippingType);_p.layoutType;cc.defineGetterSetter(_p,"layoutType",_p.getLayoutType,_p.setLayoutType);_p=null;ccui.Layout.create=function $ccui$Layout$create$(){return new ccui.Layout};
ccui.Layout.BG_COLOR_NONE=0;ccui.Layout.BG_COLOR_SOLID=1;ccui.Layout.BG_COLOR_GRADIENT=2;ccui.Layout.ABSOLUTE=0;ccui.Layout.LINEAR_VERTICAL=1;ccui.Layout.LINEAR_HORIZONTAL=2;ccui.Layout.RELATIVE=3;ccui.Layout.CLIPPING_STENCIL=0;ccui.Layout.CLIPPING_SCISSOR=1;ccui.Layout.BACKGROUND_IMAGE_ZORDER=-2;ccui.Layout.BACKGROUND_RENDERER_ZORDER=-2;
ccui.Margin=ccui.Class.extend({left:0,top:0,right:0,bottom:0,ctor:function($margin$$,$top$$,$right$$,$bottom$$){void 0!==$margin$$&&void 0===$top$$&&(this.left=$margin$$.left,this.top=$margin$$.top,this.right=$margin$$.right,this.bottom=$margin$$.bottom);void 0!==$bottom$$&&(this.left=$margin$$,this.top=$top$$,this.right=$right$$,this.bottom=$bottom$$)},setMargin:function($l$$,$t$$,$r$$,$b$$){this.left=$l$$;this.top=$t$$;this.right=$r$$;this.bottom=$b$$},equals:function($target$$){return this.left==
$target$$.left&&this.top==$target$$.top&&this.right==$target$$.right&&this.bottom==$target$$.bottom}});ccui.MarginZero=function $ccui$MarginZero$(){return new ccui.Margin(0,0,0,0)};
ccui.LayoutParameter=ccui.Class.extend({_margin:null,_layoutParameterType:null,ctor:function(){this._margin=new ccui.Margin;this._layoutParameterType=ccui.LayoutParameter.NONE},setMargin:function($margin$$,$JSCompiler_OptimizeArgumentsArray_p0$$,$JSCompiler_OptimizeArgumentsArray_p1$$,$JSCompiler_OptimizeArgumentsArray_p2$$){cc.isObject($margin$$)?(this._margin.left=$margin$$.left,this._margin.top=$margin$$.top,this._margin.right=$margin$$.right,this._margin.bottom=$margin$$.bottom):(this._margin.left=
$margin$$,this._margin.top=$JSCompiler_OptimizeArgumentsArray_p0$$,this._margin.right=$JSCompiler_OptimizeArgumentsArray_p1$$,this._margin.bottom=$JSCompiler_OptimizeArgumentsArray_p2$$)},getMargin:function(){return this._margin},getLayoutType:function(){return this._layoutParameterType},clone:function(){var $parameter$$=this._createCloneInstance();$parameter$$._copyProperties(this);return $parameter$$},_createCloneInstance:function(){return new ccui.LayoutParameter},_copyProperties:function($model$$){this._margin.bottom=
$model$$._margin.bottom;this._margin.left=$model$$._margin.left;this._margin.right=$model$$._margin.right;this._margin.top=$model$$._margin.top}});ccui.LayoutParameter.create=function $ccui$LayoutParameter$create$(){return new ccui.LayoutParameter};ccui.LayoutParameter.NONE=0;ccui.LayoutParameter.LINEAR=1;ccui.LayoutParameter.RELATIVE=2;
ccui.LinearLayoutParameter=ccui.LayoutParameter.extend({_linearGravity:null,ctor:function(){ccui.LayoutParameter.prototype.ctor.call(this);this._linearGravity=ccui.LinearLayoutParameter.NONE;this._layoutParameterType=ccui.LayoutParameter.LINEAR},setGravity:function($gravity$$){this._linearGravity=$gravity$$},getGravity:function(){return this._linearGravity},_createCloneInstance:function(){return new ccui.LinearLayoutParameter},_copyProperties:function($model$$){ccui.LayoutParameter.prototype._copyProperties.call(this,
$model$$);$model$$ instanceof ccui.LinearLayoutParameter&&this.setGravity($model$$._linearGravity)}});ccui.LinearLayoutParameter.create=function $ccui$LinearLayoutParameter$create$(){return new ccui.LinearLayoutParameter};ccui.LinearLayoutParameter.NONE=0;ccui.LinearLayoutParameter.LEFT=1;ccui.LinearLayoutParameter.TOP=2;ccui.LinearLayoutParameter.RIGHT=3;ccui.LinearLayoutParameter.BOTTOM=4;ccui.LinearLayoutParameter.CENTER_VERTICAL=5;ccui.LinearLayoutParameter.CENTER_HORIZONTAL=6;
ccui.RelativeLayoutParameter=ccui.LayoutParameter.extend({_relativeAlign:null,_relativeWidgetName:"",_relativeLayoutName:"",_put:!1,ctor:function(){ccui.LayoutParameter.prototype.ctor.call(this);this._relativeAlign=ccui.RelativeLayoutParameter.NONE;this._relativeLayoutName=this._relativeWidgetName="";this._put=!1;this._layoutParameterType=ccui.LayoutParameter.RELATIVE},setAlign:function($align$$){this._relativeAlign=$align$$},getAlign:function(){return this._relativeAlign},setRelativeToWidgetName:function($name$$){this._relativeWidgetName=
$name$$},getRelativeToWidgetName:function(){return this._relativeWidgetName},setRelativeName:function($name$$){this._relativeLayoutName=$name$$},getRelativeName:function(){return this._relativeLayoutName},_createCloneInstance:function(){return new ccui.RelativeLayoutParameter},_copyProperties:function($model$$){ccui.LayoutParameter.prototype._copyProperties.call(this,$model$$);$model$$ instanceof ccui.RelativeLayoutParameter&&(this.setAlign($model$$._relativeAlign),this.setRelativeToWidgetName($model$$._relativeWidgetName),
this.setRelativeName($model$$._relativeLayoutName))}});ccui.RelativeLayoutParameter.create=function $ccui$RelativeLayoutParameter$create$(){return new ccui.RelativeLayoutParameter};ccui.RelativeLayoutParameter.NONE=0;ccui.RelativeLayoutParameter.PARENT_TOP_LEFT=1;ccui.RelativeLayoutParameter.PARENT_TOP_CENTER_HORIZONTAL=2;ccui.RelativeLayoutParameter.PARENT_TOP_RIGHT=3;ccui.RelativeLayoutParameter.PARENT_LEFT_CENTER_VERTICAL=4;ccui.RelativeLayoutParameter.CENTER_IN_PARENT=5;
ccui.RelativeLayoutParameter.PARENT_RIGHT_CENTER_VERTICAL=6;ccui.RelativeLayoutParameter.PARENT_LEFT_BOTTOM=7;ccui.RelativeLayoutParameter.PARENT_BOTTOM_CENTER_HORIZONTAL=8;ccui.RelativeLayoutParameter.PARENT_RIGHT_BOTTOM=9;ccui.RelativeLayoutParameter.LOCATION_ABOVE_LEFTALIGN=10;ccui.RelativeLayoutParameter.LOCATION_ABOVE_CENTER=11;ccui.RelativeLayoutParameter.LOCATION_ABOVE_RIGHTALIGN=12;ccui.RelativeLayoutParameter.LOCATION_LEFT_OF_TOPALIGN=13;
ccui.RelativeLayoutParameter.LOCATION_LEFT_OF_CENTER=14;ccui.RelativeLayoutParameter.LOCATION_LEFT_OF_BOTTOMALIGN=15;ccui.RelativeLayoutParameter.LOCATION_RIGHT_OF_TOPALIGN=16;ccui.RelativeLayoutParameter.LOCATION_RIGHT_OF_CENTER=17;ccui.RelativeLayoutParameter.LOCATION_RIGHT_OF_BOTTOMALIGN=18;ccui.RelativeLayoutParameter.LOCATION_BELOW_LEFTALIGN=19;ccui.RelativeLayoutParameter.LOCATION_BELOW_CENTER=20;ccui.RelativeLayoutParameter.LOCATION_BELOW_RIGHTALIGN=21;ccui.LINEAR_GRAVITY_NONE=0;
ccui.LINEAR_GRAVITY_LEFT=1;ccui.LINEAR_GRAVITY_TOP=2;ccui.LINEAR_GRAVITY_RIGHT=3;ccui.LINEAR_GRAVITY_BOTTOM=4;ccui.LINEAR_GRAVITY_CENTER_VERTICAL=5;ccui.LINEAR_GRAVITY_CENTER_HORIZONTAL=6;ccui.RELATIVE_ALIGN_NONE=0;ccui.RELATIVE_ALIGN_PARENT_TOP_LEFT=1;ccui.RELATIVE_ALIGN_PARENT_TOP_CENTER_HORIZONTAL=2;ccui.RELATIVE_ALIGN_PARENT_TOP_RIGHT=3;ccui.RELATIVE_ALIGN_PARENT_LEFT_CENTER_VERTICAL=4;ccui.RELATIVE_ALIGN_PARENT_CENTER=5;ccui.RELATIVE_ALIGN_PARENT_RIGHT_CENTER_VERTICAL=6;
ccui.RELATIVE_ALIGN_PARENT_LEFT_BOTTOM=7;ccui.RELATIVE_ALIGN_PARENT_BOTTOM_CENTER_HORIZONTAL=8;ccui.RELATIVE_ALIGN_PARENT_RIGHT_BOTTOM=9;ccui.RELATIVE_ALIGN_LOCATION_ABOVE_LEFT=10;ccui.RELATIVE_ALIGN_LOCATION_ABOVE_CENTER=11;ccui.RELATIVE_ALIGN_LOCATION_ABOVE_RIGHT=12;ccui.RELATIVE_ALIGN_LOCATION_LEFT_TOP=13;ccui.RELATIVE_ALIGN_LOCATION_LEFT_CENTER=14;ccui.RELATIVE_ALIGN_LOCATION_LEFT_BOTTOM=15;ccui.RELATIVE_ALIGN_LOCATION_RIGHT_TOP=16;ccui.RELATIVE_ALIGN_LOCATION_RIGHT_CENTER=17;
ccui.RELATIVE_ALIGN_LOCATION_RIGHT_BOTTOM=18;ccui.RELATIVE_ALIGN_LOCATION_BELOW_TOP=19;ccui.RELATIVE_ALIGN_LOCATION_BELOW_CENTER=20;ccui.RELATIVE_ALIGN_LOCATION_BELOW_BOTTOM=21;ccui.getLayoutManager=function $ccui$getLayoutManager$($type$$){switch($type$$){case ccui.Layout.LINEAR_VERTICAL:return ccui.linearVerticalLayoutManager;case ccui.Layout.LINEAR_HORIZONTAL:return ccui.linearHorizontalLayoutManager;case ccui.Layout.RELATIVE:return ccui.relativeLayoutManager}return null};
ccui.linearVerticalLayoutManager={_doLayout:function $ccui$linearVerticalLayoutManager$_doLayout$($container$$10_layout$$){var $layoutSize$$=$container$$10_layout$$._getLayoutContentSize();$container$$10_layout$$=$container$$10_layout$$._getLayoutElements();for(var $finalPosY_topBoundary$$=$layoutSize$$.height,$i$$=0,$len$$=$container$$10_layout$$.length;$i$$<$len$$;$i$$++){var $child$$=$container$$10_layout$$[$i$$];if($child$$){var $layoutParameter$$=$child$$.getLayoutParameter();if($layoutParameter$$){var $childGravity$$=
$layoutParameter$$.getGravity(),$ap$$=$child$$.getAnchorPoint(),$cs$$=$child$$.getContentSize(),$finalPosX$$=$ap$$.x*$cs$$.width,$finalPosY_topBoundary$$=$finalPosY_topBoundary$$-(1-$ap$$.y)*$cs$$.height;switch($childGravity$$){case ccui.LinearLayoutParameter.RIGHT:$finalPosX$$=$layoutSize$$.width-(1-$ap$$.x)*$cs$$.width;break;case ccui.LinearLayoutParameter.CENTER_HORIZONTAL:$finalPosX$$=$layoutSize$$.width/2-$cs$$.width*(.5-$ap$$.x)}$layoutParameter$$=$layoutParameter$$.getMargin();$finalPosX$$+=
$layoutParameter$$.left;$finalPosY_topBoundary$$-=$layoutParameter$$.top;$child$$.setPosition($finalPosX$$,$finalPosY_topBoundary$$);$finalPosY_topBoundary$$=$child$$.getPositionY()-$child$$.getAnchorPoint().y*$child$$.getContentSize().height-$layoutParameter$$.bottom}}}}};
ccui.linearHorizontalLayoutManager={_doLayout:function $ccui$linearHorizontalLayoutManager$_doLayout$($container$$11_layout$$){var $layoutSize$$=$container$$11_layout$$._getLayoutContentSize();$container$$11_layout$$=$container$$11_layout$$._getLayoutElements();for(var $finalPosX$$=0,$i$$=0,$len$$=$container$$11_layout$$.length;$i$$<$len$$;$i$$++){var $child$$=$container$$11_layout$$[$i$$];if($child$$){var $layoutParameter$$2_mg$$=$child$$.getLayoutParameter();if($layoutParameter$$2_mg$$){var $childGravity$$=
$layoutParameter$$2_mg$$.getGravity(),$ap$$=$child$$.getAnchorPoint(),$cs$$=$child$$.getSize(),$finalPosX$$=$finalPosX$$+$ap$$.x*$cs$$.width,$finalPosY$$=$layoutSize$$.height-(1-$ap$$.y)*$cs$$.height;switch($childGravity$$){case ccui.LinearLayoutParameter.BOTTOM:$finalPosY$$=$ap$$.y*$cs$$.height;break;case ccui.LinearLayoutParameter.CENTER_VERTICAL:$finalPosY$$=$layoutSize$$.height/2-$cs$$.height*(.5-$ap$$.y)}$layoutParameter$$2_mg$$=$layoutParameter$$2_mg$$.getMargin();$finalPosX$$+=$layoutParameter$$2_mg$$.left;
$finalPosY$$-=$layoutParameter$$2_mg$$.top;$child$$.setPosition($finalPosX$$,$finalPosY$$);$finalPosX$$=$child$$.getRightBoundary()+$layoutParameter$$2_mg$$.right}}}}};
ccui.relativeLayoutManager={_unlayoutChildCount:0,_widgetChildren:[],_widget:null,_finalPositionX:0,_finalPositionY:0,_relativeWidgetLP:null,_doLayout:function $ccui$relativeLayoutManager$_doLayout$($layout$$){for(var $locChildren$$=this._widgetChildren=this._getAllWidgets($layout$$);0<this._unlayoutChildCount;){for(var $i$$=0,$len$$=$locChildren$$.length;$i$$<$len$$;$i$$++){this._widget=$locChildren$$[$i$$];var $layoutParameter$$=this._widget.getLayoutParameter();$layoutParameter$$&&!$layoutParameter$$._put&&
this._calculateFinalPositionWithRelativeWidget($layout$$)&&(this._calculateFinalPositionWithRelativeAlign(),this._widget.setPosition(this._finalPositionX,this._finalPositionY),$layoutParameter$$._put=!0)}this._unlayoutChildCount--}this._widgetChildren.length=0},_getAllWidgets:function $ccui$relativeLayoutManager$_getAllWidgets$($container$$12_layout$$){$container$$12_layout$$=$container$$12_layout$$._getLayoutElements();for(var $locWidgetChildren$$=this._widgetChildren,$i$$=$locWidgetChildren$$.length=
0,$len$$=$container$$12_layout$$.length;$i$$<$len$$;$i$$++){var $child$$=$container$$12_layout$$[$i$$];$child$$&&($child$$.getLayoutParameter()._put=!1,this._unlayoutChildCount++,$locWidgetChildren$$.push($child$$))}return $locWidgetChildren$$},_getRelativeWidget:function $ccui$relativeLayoutManager$_getRelativeWidget$($relativeName_widget$$){var $relativeWidget$$=null;if(($relativeName_widget$$=$relativeName_widget$$.getLayoutParameter().getRelativeToWidgetName())&&0!=$relativeName_widget$$.length)for(var $locChildren$$=
this._widgetChildren,$i$$=0,$len$$=$locChildren$$.length;$i$$<$len$$;$i$$++){var $child$$=$locChildren$$[$i$$];if($child$$){var $rlayoutParameter$$=$child$$.getLayoutParameter();if($rlayoutParameter$$&&$rlayoutParameter$$.getRelativeName()==$relativeName_widget$$){$relativeWidget$$=$child$$;this._relativeWidgetLP=$rlayoutParameter$$;break}}}return $relativeWidget$$},_calculateFinalPositionWithRelativeWidget:function $ccui$relativeLayoutManager$_calculateFinalPositionWithRelativeWidget$($layout$$9_layoutSize$$){var $align$$=
this._widget,$ap$$=$align$$.getAnchorPoint(),$cs$$=$align$$.getContentSize();this._finalPositionY=this._finalPositionX=0;var $relativeWidget$$=this._getRelativeWidget($align$$),$align$$=$align$$.getLayoutParameter().getAlign();$layout$$9_layoutSize$$=$layout$$9_layoutSize$$._getLayoutContentSize();switch($align$$){case ccui.RelativeLayoutParameter.NONE:case ccui.RelativeLayoutParameter.PARENT_TOP_LEFT:this._finalPositionX=$ap$$.x*$cs$$.width;this._finalPositionY=$layout$$9_layoutSize$$.height-(1-
$ap$$.y)*$cs$$.height;break;case ccui.RelativeLayoutParameter.PARENT_TOP_CENTER_HORIZONTAL:this._finalPositionX=.5*$layout$$9_layoutSize$$.width-$cs$$.width*(.5-$ap$$.x);this._finalPositionY=$layout$$9_layoutSize$$.height-(1-$ap$$.y)*$cs$$.height;break;case ccui.RelativeLayoutParameter.PARENT_TOP_RIGHT:this._finalPositionX=$layout$$9_layoutSize$$.width-(1-$ap$$.x)*$cs$$.width;this._finalPositionY=$layout$$9_layoutSize$$.height-(1-$ap$$.y)*$cs$$.height;break;case ccui.RelativeLayoutParameter.PARENT_LEFT_CENTER_VERTICAL:this._finalPositionX=
$ap$$.x*$cs$$.width;this._finalPositionY=.5*$layout$$9_layoutSize$$.height-$cs$$.height*(.5-$ap$$.y);break;case ccui.RelativeLayoutParameter.CENTER_IN_PARENT:this._finalPositionX=.5*$layout$$9_layoutSize$$.width-$cs$$.width*(.5-$ap$$.x);this._finalPositionY=.5*$layout$$9_layoutSize$$.height-$cs$$.height*(.5-$ap$$.y);break;case ccui.RelativeLayoutParameter.PARENT_RIGHT_CENTER_VERTICAL:this._finalPositionX=$layout$$9_layoutSize$$.width-(1-$ap$$.x)*$cs$$.width;this._finalPositionY=.5*$layout$$9_layoutSize$$.height-
$cs$$.height*(.5-$ap$$.y);break;case ccui.RelativeLayoutParameter.PARENT_LEFT_BOTTOM:this._finalPositionX=$ap$$.x*$cs$$.width;this._finalPositionY=$ap$$.y*$cs$$.height;break;case ccui.RelativeLayoutParameter.PARENT_BOTTOM_CENTER_HORIZONTAL:this._finalPositionX=.5*$layout$$9_layoutSize$$.width-$cs$$.width*(.5-$ap$$.x);this._finalPositionY=$ap$$.y*$cs$$.height;break;case ccui.RelativeLayoutParameter.PARENT_RIGHT_BOTTOM:this._finalPositionX=$layout$$9_layoutSize$$.width-(1-$ap$$.x)*$cs$$.width;this._finalPositionY=
$ap$$.y*$cs$$.height;break;case ccui.RelativeLayoutParameter.LOCATION_ABOVE_LEFTALIGN:if($relativeWidget$$){if(this._relativeWidgetLP&&!this._relativeWidgetLP._put)return!1;this._finalPositionY=$relativeWidget$$.getTopBoundary()+$ap$$.y*$cs$$.height;this._finalPositionX=$relativeWidget$$.getLeftBoundary()+$ap$$.x*$cs$$.width}break;case ccui.RelativeLayoutParameter.LOCATION_ABOVE_CENTER:if($relativeWidget$$){if(this._relativeWidgetLP&&!this._relativeWidgetLP._put)return!1;$layout$$9_layoutSize$$=$relativeWidget$$.getContentSize();
this._finalPositionY=$relativeWidget$$.getTopBoundary()+$ap$$.y*$cs$$.height;this._finalPositionX=$relativeWidget$$.getLeftBoundary()+.5*$layout$$9_layoutSize$$.width+$ap$$.x*$cs$$.width-.5*$cs$$.width}break;case ccui.RelativeLayoutParameter.LOCATION_ABOVE_RIGHTALIGN:if($relativeWidget$$){if(this._relativeWidgetLP&&!this._relativeWidgetLP._put)return!1;this._finalPositionY=$relativeWidget$$.getTopBoundary()+$ap$$.y*$cs$$.height;this._finalPositionX=$relativeWidget$$.getRightBoundary()-(1-$ap$$.x)*
$cs$$.width}break;case ccui.RelativeLayoutParameter.LOCATION_LEFT_OF_TOPALIGN:if($relativeWidget$$){if(this._relativeWidgetLP&&!this._relativeWidgetLP._put)return!1;this._finalPositionY=$relativeWidget$$.getTopBoundary()-(1-$ap$$.y)*$cs$$.height;this._finalPositionX=$relativeWidget$$.getLeftBoundary()-(1-$ap$$.x)*$cs$$.width}break;case ccui.RelativeLayoutParameter.LOCATION_LEFT_OF_CENTER:if($relativeWidget$$){if(this._relativeWidgetLP&&!this._relativeWidgetLP._put)return!1;$layout$$9_layoutSize$$=
$relativeWidget$$.getContentSize();this._finalPositionX=$relativeWidget$$.getLeftBoundary()-(1-$ap$$.x)*$cs$$.width;this._finalPositionY=$relativeWidget$$.getBottomBoundary()+.5*$layout$$9_layoutSize$$.height+$ap$$.y*$cs$$.height-.5*$cs$$.height}break;case ccui.RelativeLayoutParameter.LOCATION_LEFT_OF_BOTTOMALIGN:if($relativeWidget$$){if(this._relativeWidgetLP&&!this._relativeWidgetLP._put)return!1;this._finalPositionY=$relativeWidget$$.getBottomBoundary()+$ap$$.y*$cs$$.height;this._finalPositionX=
$relativeWidget$$.getLeftBoundary()-(1-$ap$$.x)*$cs$$.width}break;case ccui.RelativeLayoutParameter.LOCATION_RIGHT_OF_TOPALIGN:if($relativeWidget$$){if(this._relativeWidgetLP&&!this._relativeWidgetLP._put)return!1;this._finalPositionY=$relativeWidget$$.getTopBoundary()-(1-$ap$$.y)*$cs$$.height;this._finalPositionX=$relativeWidget$$.getRightBoundary()+$ap$$.x*$cs$$.width}break;case ccui.RelativeLayoutParameter.LOCATION_RIGHT_OF_CENTER:if($relativeWidget$$){if(this._relativeWidgetLP&&!this._relativeWidgetLP._put)return!1;
$layout$$9_layoutSize$$=$relativeWidget$$.getContentSize();this._finalPositionX=$relativeWidget$$.getRightBoundary()+$ap$$.x*$cs$$.width;this._finalPositionY=$relativeWidget$$.getBottomBoundary()+.5*$layout$$9_layoutSize$$.height+$ap$$.y*$cs$$.height-.5*$cs$$.height}break;case ccui.RelativeLayoutParameter.LOCATION_RIGHT_OF_BOTTOMALIGN:if($relativeWidget$$){if(this._relativeWidgetLP&&!this._relativeWidgetLP._put)return!1;this._finalPositionY=$relativeWidget$$.getBottomBoundary()+$ap$$.y*$cs$$.height;
this._finalPositionX=$relativeWidget$$.getRightBoundary()+$ap$$.x*$cs$$.width}break;case ccui.RelativeLayoutParameter.LOCATION_BELOW_LEFTALIGN:if($relativeWidget$$){if(this._relativeWidgetLP&&!this._relativeWidgetLP._put)return!1;this._finalPositionY=$relativeWidget$$.getBottomBoundary()-(1-$ap$$.y)*$cs$$.height;this._finalPositionX=$relativeWidget$$.getLeftBoundary()+$ap$$.x*$cs$$.width}break;case ccui.RelativeLayoutParameter.LOCATION_BELOW_CENTER:if($relativeWidget$$){if(this._relativeWidgetLP&&
!this._relativeWidgetLP._put)return!1;$layout$$9_layoutSize$$=$relativeWidget$$.getContentSize();this._finalPositionY=$relativeWidget$$.getBottomBoundary()-(1-$ap$$.y)*$cs$$.height;this._finalPositionX=$relativeWidget$$.getLeftBoundary()+.5*$layout$$9_layoutSize$$.width+$ap$$.x*$cs$$.width-.5*$cs$$.width}break;case ccui.RelativeLayoutParameter.LOCATION_BELOW_RIGHTALIGN:if($relativeWidget$$){if(this._relativeWidgetLP&&!this._relativeWidgetLP._put)return!1;this._finalPositionY=$relativeWidget$$.getBottomBoundary()-
(1-$ap$$.y)*$cs$$.height;this._finalPositionX=$relativeWidget$$.getRightBoundary()-(1-$ap$$.x)*$cs$$.width}}return!0},_calculateFinalPositionWithRelativeAlign:function $ccui$relativeLayoutManager$_calculateFinalPositionWithRelativeAlign$(){var $layoutParameter$$=this._widget.getLayoutParameter(),$mg$$=$layoutParameter$$.getMargin();switch($layoutParameter$$.getAlign()){case ccui.RelativeLayoutParameter.NONE:case ccui.RelativeLayoutParameter.PARENT_TOP_LEFT:this._finalPositionX+=$mg$$.left;this._finalPositionY-=
$mg$$.top;break;case ccui.RelativeLayoutParameter.PARENT_TOP_CENTER_HORIZONTAL:this._finalPositionY-=$mg$$.top;break;case ccui.RelativeLayoutParameter.PARENT_TOP_RIGHT:this._finalPositionX-=$mg$$.right;this._finalPositionY-=$mg$$.top;break;case ccui.RelativeLayoutParameter.PARENT_LEFT_CENTER_VERTICAL:this._finalPositionX+=$mg$$.left;break;case ccui.RelativeLayoutParameter.PARENT_RIGHT_CENTER_VERTICAL:this._finalPositionX-=$mg$$.right;break;case ccui.RelativeLayoutParameter.PARENT_LEFT_BOTTOM:this._finalPositionX+=
$mg$$.left;this._finalPositionY+=$mg$$.bottom;break;case ccui.RelativeLayoutParameter.PARENT_BOTTOM_CENTER_HORIZONTAL:this._finalPositionY+=$mg$$.bottom;break;case ccui.RelativeLayoutParameter.PARENT_RIGHT_BOTTOM:this._finalPositionX-=$mg$$.right;this._finalPositionY+=$mg$$.bottom;break;case ccui.RelativeLayoutParameter.LOCATION_ABOVE_LEFTALIGN:this._finalPositionY+=$mg$$.bottom;this._finalPositionX+=$mg$$.left;break;case ccui.RelativeLayoutParameter.LOCATION_ABOVE_RIGHTALIGN:this._finalPositionY+=
$mg$$.bottom;this._finalPositionX-=$mg$$.right;break;case ccui.RelativeLayoutParameter.LOCATION_ABOVE_CENTER:this._finalPositionY+=$mg$$.bottom;break;case ccui.RelativeLayoutParameter.LOCATION_LEFT_OF_TOPALIGN:this._finalPositionX-=$mg$$.right;this._finalPositionY-=$mg$$.top;break;case ccui.RelativeLayoutParameter.LOCATION_LEFT_OF_BOTTOMALIGN:this._finalPositionX-=$mg$$.right;this._finalPositionY+=$mg$$.bottom;break;case ccui.RelativeLayoutParameter.LOCATION_LEFT_OF_CENTER:this._finalPositionX-=$mg$$.right;
break;case ccui.RelativeLayoutParameter.LOCATION_RIGHT_OF_TOPALIGN:this._finalPositionX+=$mg$$.left;this._finalPositionY-=$mg$$.top;break;case ccui.RelativeLayoutParameter.LOCATION_RIGHT_OF_BOTTOMALIGN:this._finalPositionX+=$mg$$.left;this._finalPositionY+=$mg$$.bottom;break;case ccui.RelativeLayoutParameter.LOCATION_RIGHT_OF_CENTER:this._finalPositionX+=$mg$$.left;break;case ccui.RelativeLayoutParameter.LOCATION_BELOW_LEFTALIGN:this._finalPositionY-=$mg$$.top;this._finalPositionX+=$mg$$.left;break;
case ccui.RelativeLayoutParameter.LOCATION_BELOW_RIGHTALIGN:this._finalPositionY-=$mg$$.top;this._finalPositionX-=$mg$$.right;break;case ccui.RelativeLayoutParameter.LOCATION_BELOW_CENTER:this._finalPositionY-=$mg$$.top}}};
ccui.HBox=ccui.Layout.extend({ctor:function($size$$){void 0!==$size$$?this.initWithSize($size$$):this.init()},init:function(){return ccui.Layout.prototype.init.call(this)?(this.setLayoutType(ccui.Layout.LINEAR_HORIZONTAL),!0):!1},initWithSize:function($size$$){return this.init()?(this.setContentSize($size$$),!0):!1}});ccui.HBox.create=function $ccui$HBox$create$($size$$){return new ccui.HBox($size$$)};
ccui.RelativeBox=ccui.Layout.extend({ctor:function($size$$){$size$$?this.initWithSize($size$$):this.init()},init:function(){return ccui.Layout.prototype.init.call(this)?(this.setLayoutType(ccui.Layout.RELATIVE),!0):!1},initWithSize:function($size$$){return this.init()?(this.setContentSize($size$$),!0):!1}});ccui.RelativeBox.create=function $ccui$RelativeBox$create$($size$$){return new ccui.RelativeBox($size$$)};
ccui.VBox=ccui.Layout.extend({ctor:function($size$$){void 0!==$size$$?this.initWithSize($size$$):this.init()},init:function(){return ccui.Layout.prototype.init.call(this)?(this.setLayoutType(ccui.Layout.LINEAR_VERTICAL),!0):!1},initWithSize:function($size$$){return this.init()?(this.setContentSize($size$$),!0):!1}});ccui.VBox.create=function $ccui$VBox$create$($size$$){return new ccui.VBox($size$$)};
ccui.helper={seekWidgetByTag:function $ccui$helper$seekWidgetByTag$($root$$,$tag$$){if(!$root$$)return null;if($root$$.getTag()==$tag$$)return $root$$;for(var $arrayRootChildren$$=$root$$.getChildren(),$length$$=$arrayRootChildren$$.length,$i$$=0;$i$$<$length$$;$i$$++){var $res$$=ccui.helper.seekWidgetByTag($arrayRootChildren$$[$i$$],$tag$$);if(null!=$res$$)return $res$$}return null},seekWidgetByName:function $ccui$helper$seekWidgetByName$($root$$,$name$$){if(!$root$$)return null;if($root$$.getName()==
$name$$)return $root$$;for(var $arrayRootChildren$$=$root$$.getChildren(),$length$$=$arrayRootChildren$$.length,$i$$=0;$i$$<$length$$;$i$$++){var $res$$=ccui.helper.seekWidgetByName($arrayRootChildren$$[$i$$],$name$$);if(null!=$res$$)return $res$$}return null},seekWidgetByRelativeName:function $ccui$helper$seekWidgetByRelativeName$($root$$,$name$$){if(!$root$$)return null;for(var $arrayRootChildren$$=$root$$.getChildren(),$length$$=$arrayRootChildren$$.length,$i$$=0;$i$$<$length$$;$i$$++){var $child$$=
$arrayRootChildren$$[$i$$],$layoutParameter$$=$child$$.getLayoutParameter(ccui.LayoutParameter.RELATIVE);if($layoutParameter$$&&$layoutParameter$$.getRelativeName()==$name$$)return $child$$}return null},seekActionWidgetByActionTag:function $ccui$helper$seekActionWidgetByActionTag$($root$$,$tag$$){if(!$root$$)return null;if($root$$.getActionTag()==$tag$$)return $root$$;for(var $arrayRootChildren$$=$root$$.getChildren(),$i$$=0;$i$$<$arrayRootChildren$$.length;$i$$++){var $res$$=ccui.helper.seekActionWidgetByActionTag($arrayRootChildren$$[$i$$],
$tag$$);if(null!=$res$$)return $res$$}return null}};
ccui.Button=ccui.Widget.extend({_buttonNormalRenderer:null,_buttonClickedRenderer:null,_buttonDisableRenderer:null,_titleRenderer:null,_normalFileName:"",_clickedFileName:"",_disabledFileName:"",_prevIgnoreSize:!0,_scale9Enabled:!1,_capInsetsNormal:null,_capInsetsPressed:null,_capInsetsDisabled:null,_normalTexType:ccui.Widget.LOCAL_TEXTURE,_pressedTexType:ccui.Widget.LOCAL_TEXTURE,_disabledTexType:ccui.Widget.LOCAL_TEXTURE,_normalTextureSize:null,_pressedTextureSize:null,_disabledTextureSize:null,
pressedActionEnabled:!1,_titleColor:null,_normalTextureScaleXInSize:1,_normalTextureScaleYInSize:1,_pressedTextureScaleXInSize:1,_pressedTextureScaleYInSize:1,_zoomScale:.1,_normalTextureLoaded:!1,_pressedTextureLoaded:!1,_disabledTextureLoaded:!1,_className:"Button",_normalTextureAdaptDirty:!0,_pressedTextureAdaptDirty:!0,_disabledTextureAdaptDirty:!0,_fontName:"Thonburi",_fontSize:12,_type:0,ctor:function($normalImage$$,$selectedImage$$,$disableImage$$,$texType$$){this._capInsetsNormal=cc.rect(0,
0,0,0);this._capInsetsPressed=cc.rect(0,0,0,0);this._capInsetsDisabled=cc.rect(0,0,0,0);this._normalTextureSize=cc.size(0,0);this._pressedTextureSize=cc.size(0,0);this._disabledTextureSize=cc.size(0,0);this._titleColor=cc.color.WHITE;ccui.Widget.prototype.ctor.call(this);this.setTouchEnabled(!0);void 0!==$texType$$&&this.init($normalImage$$,$selectedImage$$,$disableImage$$,$texType$$)},init:function($normalImage$$,$selectedImage$$,$disableImage$$,$texType$$){if(ccui.Widget.prototype.init.call(this)){if(void 0===
$normalImage$$)return!0;this.loadTextures($normalImage$$,$selectedImage$$,$disableImage$$,$texType$$)}return!1},_initRenderer:function(){this._buttonNormalRenderer=new cc.Sprite;this._buttonClickedRenderer=new cc.Sprite;this._buttonDisableRenderer=new cc.Sprite;this._titleRenderer=new cc.LabelTTF("");this._titleRenderer.setAnchorPoint(.5,.5);this.addProtectedChild(this._buttonNormalRenderer,ccui.Button.NORMAL_RENDERER_ZORDER,-1);this.addProtectedChild(this._buttonClickedRenderer,ccui.Button.PRESSED_RENDERER_ZORDER,
-1);this.addProtectedChild(this._buttonDisableRenderer,ccui.Button.DISABLED_RENDERER_ZORDER,-1);this.addProtectedChild(this._titleRenderer,ccui.Button.TITLE_RENDERER_ZORDER,-1)},setScale9Enabled:function($able$$){this._scale9Enabled!=$able$$&&(this._brightStyle=ccui.Widget.BRIGHT_STYLE_NONE,this._scale9Enabled=$able$$,this.removeProtectedChild(this._buttonNormalRenderer),this.removeProtectedChild(this._buttonClickedRenderer),this.removeProtectedChild(this._buttonDisableRenderer),this._scale9Enabled?
(this._buttonNormalRenderer=new ccui.Scale9Sprite,this._buttonClickedRenderer=new ccui.Scale9Sprite,this._buttonDisableRenderer=new ccui.Scale9Sprite):(this._buttonNormalRenderer=new cc.Sprite,this._buttonClickedRenderer=new cc.Sprite,this._buttonDisableRenderer=new cc.Sprite),this._buttonClickedRenderer.setVisible(!1),this._buttonDisableRenderer.setVisible(!1),this.loadTextureNormal(this._normalFileName,this._normalTexType),this.loadTexturePressed(this._clickedFileName,this._pressedTexType),this.loadTextureDisabled(this._disabledFileName,
this._disabledTexType),this.addProtectedChild(this._buttonNormalRenderer,ccui.Button.NORMAL_RENDERER_ZORDER,-1),this.addProtectedChild(this._buttonClickedRenderer,ccui.Button.PRESSED_RENDERER_ZORDER,-1),this.addProtectedChild(this._buttonDisableRenderer,ccui.Button.DISABLED_RENDERER_ZORDER,-1),this._scale9Enabled?($able$$=this._ignoreSize,this.ignoreContentAdaptWithSize(!1),this._prevIgnoreSize=$able$$):this.ignoreContentAdaptWithSize(this._prevIgnoreSize),this.setCapInsetsNormalRenderer(this._capInsetsNormal),
this.setCapInsetsPressedRenderer(this._capInsetsPressed),this.setCapInsetsDisabledRenderer(this._capInsetsDisabled),this.setBright(this._bright))},isScale9Enabled:function(){return this._scale9Enabled},ignoreContentAdaptWithSize:function($ignore$$1_s$$){if(this._unifySize)this._scale9Enabled?ccui.ProtectedNode.prototype.setContentSize.call(this,this._customSize):($ignore$$1_s$$=this.getVirtualRendererSize(),ccui.ProtectedNode.prototype.setContentSize.call(this,$ignore$$1_s$$)),this._onSizeChanged();
else if(!this._scale9Enabled||this._scale9Enabled&&!$ignore$$1_s$$)ccui.Widget.prototype.ignoreContentAdaptWithSize.call(this,$ignore$$1_s$$),this._prevIgnoreSize=$ignore$$1_s$$},getVirtualRendererSize:function(){var $titleSize$$=this._titleRenderer.getContentSize();return!this._normalTextureLoaded&&0<this._titleRenderer.getString().length?$titleSize$$:cc.size(this._normalTextureSize)},loadTextures:function($normal$$,$selected$$,$disabled$$,$texType$$){this.loadTextureNormal($normal$$,$texType$$);
this.loadTexturePressed($selected$$,$texType$$);this.loadTextureDisabled($disabled$$,$texType$$)},loadTextureNormal:function($normal$$,$texType$$){if($normal$$){$texType$$=$texType$$||ccui.Widget.LOCAL_TEXTURE;this._normalFileName=$normal$$;this._normalTexType=$texType$$;var $self$$=this;this._buttonNormalRenderer.texture&&this._buttonNormalRenderer.texture.isLoaded()||this._buttonNormalRenderer.addEventListener("load",function(){$self$$._findLayout();$self$$._normalTextureSize=$self$$._buttonNormalRenderer.getContentSize();
$self$$._updateFlippedX();$self$$._updateFlippedY();$self$$._updateChildrenDisplayedRGBA();$self$$._buttonNormalRenderer.setColor($self$$.getColor());$self$$._buttonNormalRenderer.setOpacity($self$$.getOpacity());$self$$._updateContentSizeWithTextureSize($self$$._normalTextureSize);$self$$._normalTextureLoaded=!0;$self$$._normalTextureAdaptDirty=!0});if(this._scale9Enabled){var $normalRenderer_normalRendererScale9$$=this._buttonNormalRenderer;switch(this._normalTexType){case ccui.Widget.LOCAL_TEXTURE:$normalRenderer_normalRendererScale9$$.initWithFile($normal$$);
break;case ccui.Widget.PLIST_TEXTURE:$normalRenderer_normalRendererScale9$$.initWithSpriteFrameName($normal$$)}$normalRenderer_normalRendererScale9$$.setCapInsets(this._capInsetsNormal)}else switch($normalRenderer_normalRendererScale9$$=this._buttonNormalRenderer,this._normalTexType){case ccui.Widget.LOCAL_TEXTURE:$normalRenderer_normalRendererScale9$$.initWithFile($normal$$);break;case ccui.Widget.PLIST_TEXTURE:$normalRenderer_normalRendererScale9$$.initWithSpriteFrameName($normal$$)}this._normalTextureSize=
this._buttonNormalRenderer.getContentSize();this._updateFlippedX();this._updateFlippedY();this._updateChildrenDisplayedRGBA();this._updateContentSizeWithTextureSize(this._normalTextureSize);this._normalTextureAdaptDirty=this._normalTextureLoaded=!0}},loadTexturePressed:function($selected$$,$texType$$){if($selected$$){$texType$$=$texType$$||ccui.Widget.LOCAL_TEXTURE;this._clickedFileName=$selected$$;this._pressedTexType=$texType$$;var $self$$=this;this._buttonClickedRenderer.texture&&this._buttonClickedRenderer.texture.isLoaded()||
this._buttonClickedRenderer.addEventListener("load",function(){$self$$._findLayout();$self$$._pressedTextureSize=$self$$._buttonClickedRenderer.getContentSize();$self$$._updateFlippedX();$self$$._updateFlippedY();$self$$._updateChildrenDisplayedRGBA();$self$$._pressedTextureLoaded=!0;$self$$._pressedTextureAdaptDirty=!0});if(this._scale9Enabled){var $clickedRenderer_clickedRendererScale9$$=this._buttonClickedRenderer;switch(this._pressedTexType){case ccui.Widget.LOCAL_TEXTURE:$clickedRenderer_clickedRendererScale9$$.initWithFile($selected$$);
break;case ccui.Widget.PLIST_TEXTURE:$clickedRenderer_clickedRendererScale9$$.initWithSpriteFrameName($selected$$)}$clickedRenderer_clickedRendererScale9$$.setCapInsets(this._capInsetsPressed)}else switch($clickedRenderer_clickedRendererScale9$$=this._buttonClickedRenderer,this._pressedTexType){case ccui.Widget.LOCAL_TEXTURE:$clickedRenderer_clickedRendererScale9$$.initWithFile($selected$$);break;case ccui.Widget.PLIST_TEXTURE:$clickedRenderer_clickedRendererScale9$$.initWithSpriteFrameName($selected$$)}this._pressedTextureSize=
this._buttonClickedRenderer.getContentSize();this._updateFlippedX();this._updateFlippedY();this._updateChildrenDisplayedRGBA();this._pressedTextureAdaptDirty=this._pressedTextureLoaded=!0}},loadTextureDisabled:function($disabled$$,$texType$$){if($disabled$$){$texType$$=$texType$$||ccui.Widget.LOCAL_TEXTURE;this._disabledFileName=$disabled$$;this._disabledTexType=$texType$$;var $self$$=this;this._buttonDisableRenderer.texture&&this._buttonDisableRenderer.texture.isLoaded()||this._buttonDisableRenderer.addEventListener("load",
function(){$self$$._findLayout();$self$$._disabledTextureSize=$self$$._buttonDisableRenderer.getContentSize();$self$$._updateFlippedX();$self$$._updateFlippedY();$self$$._updateChildrenDisplayedRGBA();$self$$._disabledTextureLoaded=!0;$self$$._disabledTextureAdaptDirty=!0});if(this._scale9Enabled){var $disabledRenderer_disabledScale9$$=this._buttonDisableRenderer;switch(this._disabledTexType){case ccui.Widget.LOCAL_TEXTURE:$disabledRenderer_disabledScale9$$.initWithFile($disabled$$);break;case ccui.Widget.PLIST_TEXTURE:$disabledRenderer_disabledScale9$$.initWithSpriteFrameName($disabled$$)}$disabledRenderer_disabledScale9$$.setCapInsets(this._capInsetsDisabled)}else switch($disabledRenderer_disabledScale9$$=
this._buttonDisableRenderer,this._disabledTexType){case ccui.Widget.LOCAL_TEXTURE:$disabledRenderer_disabledScale9$$.initWithFile($disabled$$);break;case ccui.Widget.PLIST_TEXTURE:$disabledRenderer_disabledScale9$$.initWithSpriteFrameName($disabled$$)}this._disabledTextureSize=this._buttonDisableRenderer.getContentSize();this._updateFlippedX();this._updateFlippedY();this._updateChildrenDisplayedRGBA();this._disabledTextureAdaptDirty=this._disabledTextureLoaded=!0}},setCapInsets:function($capInsets$$){this.setCapInsetsNormalRenderer($capInsets$$);
this.setCapInsetsPressedRenderer($capInsets$$);this.setCapInsetsDisabledRenderer($capInsets$$)},setCapInsetsNormalRenderer:function($capInsets$$24_height$$){if($capInsets$$24_height$$){var $x$$=$capInsets$$24_height$$.x,$y$$=$capInsets$$24_height$$.y,$width$$=$capInsets$$24_height$$.width;$capInsets$$24_height$$=$capInsets$$24_height$$.height;this._normalTextureSize.width<$width$$&&($width$$=$x$$=0);this._normalTextureSize.height<$capInsets$$24_height$$&&($capInsets$$24_height$$=$y$$=0);var $rect$$=
cc.rect($x$$,$y$$,$width$$,$capInsets$$24_height$$),$locInsets$$=this._capInsetsNormal;$locInsets$$.x=$x$$;$locInsets$$.y=$y$$;$locInsets$$.width=$width$$;$locInsets$$.height=$capInsets$$24_height$$;this._scale9Enabled&&this._buttonNormalRenderer.setCapInsets($rect$$)}},getCapInsetsNormalRenderer:function(){return cc.rect(this._capInsetsNormal)},setCapInsetsPressedRenderer:function($capInsets$$25_height$$){if($capInsets$$25_height$$){var $x$$=$capInsets$$25_height$$.x,$y$$=$capInsets$$25_height$$.y,
$width$$=$capInsets$$25_height$$.width;$capInsets$$25_height$$=$capInsets$$25_height$$.height;this._normalTextureSize.width<$width$$&&($width$$=$x$$=0);this._normalTextureSize.height<$capInsets$$25_height$$&&($capInsets$$25_height$$=$y$$=0);var $rect$$=cc.rect($x$$,$y$$,$width$$,$capInsets$$25_height$$),$locInsets$$=this._capInsetsPressed;$locInsets$$.x=$x$$;$locInsets$$.y=$y$$;$locInsets$$.width=$width$$;$locInsets$$.height=$capInsets$$25_height$$;this._scale9Enabled&&this._buttonClickedRenderer.setCapInsets($rect$$)}},
getCapInsetsPressedRenderer:function(){return cc.rect(this._capInsetsPressed)},setCapInsetsDisabledRenderer:function($capInsets$$26_height$$){if($capInsets$$26_height$$){var $x$$=$capInsets$$26_height$$.x,$y$$=$capInsets$$26_height$$.y,$width$$=$capInsets$$26_height$$.width;$capInsets$$26_height$$=$capInsets$$26_height$$.height;this._normalTextureSize.width<$width$$&&($width$$=$x$$=0);this._normalTextureSize.height<$capInsets$$26_height$$&&($capInsets$$26_height$$=$y$$=0);var $rect$$=cc.rect($x$$,
$y$$,$width$$,$capInsets$$26_height$$),$locInsets$$=this._capInsetsDisabled;$locInsets$$.x=$x$$;$locInsets$$.y=$y$$;$locInsets$$.width=$width$$;$locInsets$$.height=$capInsets$$26_height$$;this._scale9Enabled&&this._buttonDisableRenderer.setCapInsets($rect$$)}},getCapInsetsDisabledRenderer:function(){return cc.rect(this._capInsetsDisabled)},_onPressStateChangedToNormal:function(){this._buttonNormalRenderer.setVisible(!0);this._buttonClickedRenderer.setVisible(!1);this._buttonDisableRenderer.setVisible(!1);
if(this._pressedTextureLoaded){if(this.pressedActionEnabled){this._buttonNormalRenderer.stopAllActions();this._buttonClickedRenderer.stopAllActions();var $zoomAction$$=cc.scaleTo(.05,this._normalTextureScaleXInSize,this._normalTextureScaleYInSize);this._buttonNormalRenderer.runAction($zoomAction$$);this._buttonClickedRenderer.setScale(this._pressedTextureScaleXInSize,this._pressedTextureScaleYInSize);this._titleRenderer.stopAllActions();this._titleRenderer.runAction($zoomAction$$.clone())}}else this._scale9Enabled?
this._buttonNormalRenderer.setColor(cc.color.WHITE):(this._buttonNormalRenderer.stopAllActions(),this._buttonNormalRenderer.setScale(this._normalTextureScaleXInSize,this._normalTextureScaleYInSize),this._titleRenderer.stopAllActions(),this._titleRenderer.setScaleX(this._normalTextureScaleXInSize),this._titleRenderer.setScaleY(this._normalTextureScaleYInSize))},_onPressStateChangedToPressed:function(){var $locNormalRenderer$$=this._buttonNormalRenderer;if(this._pressedTextureLoaded){if($locNormalRenderer$$.setVisible(!1),
this._buttonClickedRenderer.setVisible(!0),this._buttonDisableRenderer.setVisible(!1),this.pressedActionEnabled){$locNormalRenderer$$.stopAllActions();this._buttonClickedRenderer.stopAllActions();var $zoomAction$$=cc.scaleTo(.05,this._pressedTextureScaleXInSize+.1,this._pressedTextureScaleYInSize+.1);this._buttonClickedRenderer.runAction($zoomAction$$);$locNormalRenderer$$.setScale(this._pressedTextureScaleXInSize+.1,this._pressedTextureScaleYInSize+.1);this._titleRenderer.stopAllActions();this._titleRenderer.runAction($zoomAction$$.clone())}}else $locNormalRenderer$$.setVisible(!0),
this._buttonClickedRenderer.setVisible(!0),this._buttonDisableRenderer.setVisible(!1),this._scale9Enabled?$locNormalRenderer$$.setColor(cc.color.GRAY):($locNormalRenderer$$.stopAllActions(),$locNormalRenderer$$.setScale(this._normalTextureScaleXInSize+.1,this._normalTextureScaleYInSize+.1),this._titleRenderer.stopAllActions(),this._titleRenderer.setScaleX(this._normalTextureScaleXInSize+this._zoomScale),this._titleRenderer.setScaleY(this._normalTextureScaleYInSize+this._zoomScale))},_onPressStateChangedToDisabled:function(){this._buttonNormalRenderer.setVisible(!1);
this._buttonClickedRenderer.setVisible(!1);this._buttonDisableRenderer.setVisible(!0);this._buttonNormalRenderer.setScale(this._normalTextureScaleXInSize,this._normalTextureScaleYInSize);this._buttonClickedRenderer.setScale(this._pressedTextureScaleXInSize,this._pressedTextureScaleYInSize)},_updateFlippedX:function(){var $flip$$=this._flippedX?-1:1;this._titleRenderer.setScaleX($flip$$);this._scale9Enabled?(this._buttonNormalRenderer.setScaleX($flip$$),this._buttonClickedRenderer.setScaleX($flip$$),
this._buttonDisableRenderer.setScaleX($flip$$)):(this._buttonNormalRenderer.setFlippedX(this._flippedX),this._buttonClickedRenderer.setFlippedX(this._flippedX),this._buttonDisableRenderer.setFlippedX(this._flippedX))},_updateFlippedY:function(){var $flip$$=this._flippedY?-1:1;this._titleRenderer.setScaleY($flip$$);this._scale9Enabled?(this._buttonNormalRenderer.setScaleY($flip$$),this._buttonClickedRenderer.setScaleY($flip$$),this._buttonDisableRenderer.setScaleY($flip$$)):(this._buttonNormalRenderer.setFlippedY(this._flippedY),
this._buttonClickedRenderer.setFlippedY(this._flippedY),this._buttonDisableRenderer.setFlippedY(this._flippedY))},_updateTexturesRGBA:function(){this._buttonNormalRenderer.setColor(this.getColor());this._buttonClickedRenderer.setColor(this.getColor());this._buttonDisableRenderer.setColor(this.getColor());this._buttonNormalRenderer.setOpacity(this.getOpacity());this._buttonClickedRenderer.setOpacity(this.getOpacity());this._buttonDisableRenderer.setOpacity(this.getOpacity())},_onSizeChanged:function(){ccui.Widget.prototype._onSizeChanged.call(this);
this._updateTitleLocation();this._disabledTextureAdaptDirty=this._pressedTextureAdaptDirty=this._normalTextureAdaptDirty=!0},getVirtualRenderer:function(){if(this._bright)switch(this._brightStyle){case ccui.Widget.BRIGHT_STYLE_NORMAL:return this._buttonNormalRenderer;case ccui.Widget.BRIGHT_STYLE_HIGH_LIGHT:return this._buttonClickedRenderer;default:return null}else return this._buttonDisableRenderer},_normalTextureScaleChangedWithSize:function(){if(this._unifySize)this._scale9Enabled&&this._buttonNormalRenderer.setPreferredSize(this._contentSize);
else if(this._ignoreSize)this._scale9Enabled||(this._buttonNormalRenderer.setScale(1),this._normalTextureScaleXInSize=this._normalTextureScaleYInSize=1);else if(this._scale9Enabled)this._buttonNormalRenderer.setPreferredSize(this._contentSize),this._normalTextureScaleXInSize=this._normalTextureScaleYInSize=1;else{var $scaleY$$37_textureSize$$=this._normalTextureSize;if(0>=$scaleY$$37_textureSize$$.width||0>=$scaleY$$37_textureSize$$.height){this._buttonNormalRenderer.setScale(1);return}var $scaleX$$=
this._contentSize.width/$scaleY$$37_textureSize$$.width,$scaleY$$37_textureSize$$=this._contentSize.height/$scaleY$$37_textureSize$$.height;this._buttonNormalRenderer.setScaleX($scaleX$$);this._buttonNormalRenderer.setScaleY($scaleY$$37_textureSize$$);this._normalTextureScaleXInSize=$scaleX$$;this._normalTextureScaleYInSize=$scaleY$$37_textureSize$$}this._buttonNormalRenderer.setPosition(this._contentSize.width/2,this._contentSize.height/2)},_pressedTextureScaleChangedWithSize:function(){if(this._ignoreSize)this._scale9Enabled||
(this._buttonClickedRenderer.setScale(1),this._pressedTextureScaleXInSize=this._pressedTextureScaleYInSize=1);else if(this._scale9Enabled)this._buttonClickedRenderer.setPreferredSize(this._contentSize),this._pressedTextureScaleXInSize=this._pressedTextureScaleYInSize=1;else{var $scaleY$$38_textureSize$$=this._pressedTextureSize;if(0>=$scaleY$$38_textureSize$$.width||0>=$scaleY$$38_textureSize$$.height){this._buttonClickedRenderer.setScale(1);return}var $scaleX$$=this._contentSize.width/$scaleY$$38_textureSize$$.width,
$scaleY$$38_textureSize$$=this._contentSize.height/$scaleY$$38_textureSize$$.height;this._buttonClickedRenderer.setScaleX($scaleX$$);this._buttonClickedRenderer.setScaleY($scaleY$$38_textureSize$$);this._pressedTextureScaleXInSize=$scaleX$$;this._pressedTextureScaleYInSize=$scaleY$$38_textureSize$$}this._buttonClickedRenderer.setPosition(this._contentSize.width/2,this._contentSize.height/2)},_disabledTextureScaleChangedWithSize:function(){if(this._unifySize)this._scale9Enabled&&this._buttonNormalRenderer.setPreferredSize(this._contentSize);
else if(this._ignoreSize)this._scale9Enabled||this._buttonDisableRenderer.setScale(1);else if(this._scale9Enabled)this._buttonDisableRenderer.setPreferredSize(this._contentSize);else{var $textureSize$$=this._disabledTextureSize;if(0>=$textureSize$$.width||0>=$textureSize$$.height){this._buttonDisableRenderer.setScale(1);return}var $scaleY$$=this._contentSize.height/$textureSize$$.height;this._buttonDisableRenderer.setScaleX(this._contentSize.width/$textureSize$$.width);this._buttonDisableRenderer.setScaleY($scaleY$$)}this._buttonDisableRenderer.setPosition(this._contentSize.width/
2,this._contentSize.height/2)},_adaptRenderers:function(){this._normalTextureAdaptDirty&&(this._normalTextureScaleChangedWithSize(),this._normalTextureAdaptDirty=!1);this._pressedTextureAdaptDirty&&(this._pressedTextureScaleChangedWithSize(),this._pressedTextureAdaptDirty=!1);this._disabledTextureAdaptDirty&&(this._disabledTextureScaleChangedWithSize(),this._disabledTextureAdaptDirty=!1)},_updateTitleLocation:function(){this._titleRenderer.setPosition(.5*this._contentSize.width,.5*this._contentSize.height)},
setPressedActionEnabled:function($enabled$$){this.pressedActionEnabled=$enabled$$},setTitleText:function($s$$34_text$$){this._titleRenderer.setString($s$$34_text$$);this._ignoreSize&&($s$$34_text$$=this.getVirtualRendererSize(),this.setContentSize($s$$34_text$$))},getTitleText:function(){return this._titleRenderer.getString()},setTitleColor:function($color$$){this._titleColor.r=$color$$.r;this._titleColor.g=$color$$.g;this._titleColor.b=$color$$.b;this._titleRenderer.updateDisplayedColor($color$$)},
getTitleColor:function(){return this._titleRenderer.getColor()},setTitleFontSize:function($size$$){this._titleRenderer.setFontSize($size$$)},getTitleFontSize:function(){return this._titleRenderer.getFontSize()},setZoomScale:function($scale$$){this._zoomScale=$scale$$},getZoomScale:function(){return this._zoomScale},setTitleFontName:function($fontName$$){this._titleRenderer.setFontName($fontName$$);this._fontName=$fontName$$},getTitleRenderer:function(){return this._titleRenderer},getTitleFontName:function(){return this._titleRenderer.getFontName()},
_setTitleFont:function($font$$){this._titleRenderer.font=$font$$},_getTitleFont:function(){return this._titleRenderer.font},getDescription:function(){return"Button"},_createCloneInstance:function(){return new ccui.Button},_copySpecialProperties:function($uiButton$$){this._prevIgnoreSize=$uiButton$$._prevIgnoreSize;this.setScale9Enabled($uiButton$$._scale9Enabled);this.loadTextureNormal($uiButton$$._normalFileName,$uiButton$$._normalTexType);this.loadTexturePressed($uiButton$$._clickedFileName,$uiButton$$._pressedTexType);
this.loadTextureDisabled($uiButton$$._disabledFileName,$uiButton$$._disabledTexType);this.setCapInsetsNormalRenderer($uiButton$$._capInsetsNormal);this.setCapInsetsPressedRenderer($uiButton$$._capInsetsPressed);this.setCapInsetsDisabledRenderer($uiButton$$._capInsetsDisabled);this.setTitleText($uiButton$$.getTitleText());this.setTitleFontName($uiButton$$.getTitleFontName());this.setTitleFontSize($uiButton$$.getTitleFontSize());this.setTitleColor($uiButton$$.getTitleColor());this.setPressedActionEnabled($uiButton$$.pressedActionEnabled);
this.setZoomScale($uiButton$$._zoomScale)}});_p=ccui.Button.prototype;_p.titleText;cc.defineGetterSetter(_p,"titleText",_p.getTitleText,_p.setTitleText);_p.titleFont;cc.defineGetterSetter(_p,"titleFont",_p._getTitleFont,_p._setTitleFont);_p.titleFontSize;cc.defineGetterSetter(_p,"titleFontSize",_p.getTitleFontSize,_p.setTitleFontSize);_p.titleFontName;cc.defineGetterSetter(_p,"titleFontName",_p.getTitleFontName,_p.setTitleFontName);_p.titleColor;
cc.defineGetterSetter(_p,"titleColor",_p.getTitleColor,_p.setTitleColor);_p=null;ccui.Button.create=function $ccui$Button$create$($normalImage$$,$selectedImage$$,$disableImage$$,$texType$$){return new ccui.Button($normalImage$$,$selectedImage$$,$disableImage$$,$texType$$)};ccui.Button.NORMAL_RENDERER_ZORDER=-2;ccui.Button.PRESSED_RENDERER_ZORDER=-2;ccui.Button.DISABLED_RENDERER_ZORDER=-2;ccui.Button.TITLE_RENDERER_ZORDER=-1;ccui.Button.SYSTEM=0;ccui.Button.TTF=1;
ccui.CheckBox=ccui.Widget.extend({_backGroundBoxRenderer:null,_backGroundSelectedBoxRenderer:null,_frontCrossRenderer:null,_backGroundBoxDisabledRenderer:null,_frontCrossDisabledRenderer:null,_isSelected:!0,_checkBoxEventListener:null,_checkBoxEventSelector:null,_backGroundTexType:ccui.Widget.LOCAL_TEXTURE,_backGroundSelectedTexType:ccui.Widget.LOCAL_TEXTURE,_frontCrossTexType:ccui.Widget.LOCAL_TEXTURE,_backGroundDisabledTexType:ccui.Widget.LOCAL_TEXTURE,_frontCrossDisabledTexType:ccui.Widget.LOCAL_TEXTURE,
_backGroundFileName:"",_backGroundSelectedFileName:"",_frontCrossFileName:"",_backGroundDisabledFileName:"",_frontCrossDisabledFileName:"",_className:"CheckBox",_backGroundBoxRendererAdaptDirty:!0,_backGroundSelectedBoxRendererAdaptDirty:!0,_frontCrossRendererAdaptDirty:!0,_backGroundBoxDisabledRendererAdaptDirty:!0,_frontCrossDisabledRendererAdaptDirty:!0,ctor:function($backGround$$,$backGroundSelected$$,$cross$$,$backGroundDisabled$$,$frontCrossDisabled$$,$texType$$){ccui.Widget.prototype.ctor.call(this);
this.setTouchEnabled(!0);void 0!==$texType$$&&this.init($backGround$$,$backGroundSelected$$,$cross$$,$backGroundDisabled$$,$frontCrossDisabled$$,$texType$$)},init:function($backGround$$,$backGroundSelected$$,$cross$$,$backGroundDisabled$$,$frontCrossDisabled$$,$texType$$){return ccui.Widget.prototype.init.call(this)?(this._isSelected=!0,this.setSelected(!1),void 0===$backGround$$&&this.loadTextures($backGround$$,$backGroundSelected$$,$cross$$,$backGroundDisabled$$,$frontCrossDisabled$$,$texType$$),
!0):!1},_initRenderer:function(){this._backGroundBoxRenderer=new cc.Sprite;this._backGroundSelectedBoxRenderer=new cc.Sprite;this._frontCrossRenderer=new cc.Sprite;this._backGroundBoxDisabledRenderer=new cc.Sprite;this._frontCrossDisabledRenderer=new cc.Sprite;this.addProtectedChild(this._backGroundBoxRenderer,ccui.CheckBox.BOX_RENDERER_ZORDER,-1);this.addProtectedChild(this._backGroundSelectedBoxRenderer,ccui.CheckBox.BOX_SELECTED_RENDERER_ZORDER,-1);this.addProtectedChild(this._frontCrossRenderer,
ccui.CheckBox.FRONT_CROSS_RENDERER_ZORDER,-1);this.addProtectedChild(this._backGroundBoxDisabledRenderer,ccui.CheckBox.BOX_DISABLED_RENDERER_ZORDER,-1);this.addProtectedChild(this._frontCrossDisabledRenderer,ccui.CheckBox.FRONT_CROSS_DISABLED_RENDERER_ZORDER,-1)},loadTextures:function($backGround$$,$backGroundSelected$$,$cross$$,$backGroundDisabled$$,$frontCrossDisabled$$,$texType$$){this.loadTextureBackGround($backGround$$,$texType$$);this.loadTextureBackGroundSelected($backGroundSelected$$,$texType$$);
this.loadTextureFrontCross($cross$$,$texType$$);this.loadTextureBackGroundDisabled($backGroundDisabled$$,$texType$$);this.loadTextureFrontCrossDisabled($frontCrossDisabled$$,$texType$$)},loadTextureBackGround:function($backGround$$,$texType$$){if($backGround$$){$texType$$=$texType$$||ccui.Widget.LOCAL_TEXTURE;this._backGroundFileName=$backGround$$;this._backGroundTexType=$texType$$;var $bgBoxRenderer$$=this._backGroundBoxRenderer,$self$$=this;$bgBoxRenderer$$.texture&&$bgBoxRenderer$$.texture.isLoaded()||
$bgBoxRenderer$$.addEventListener("load",function(){$self$$._findLayout();$self$$._updateFlippedX();$self$$._updateFlippedY();$self$$._updateChildrenDisplayedRGBA();$self$$._updateContentSizeWithTextureSize($self$$._backGroundBoxRenderer.getContentSize());$self$$._backGroundBoxRendererAdaptDirty=!0});switch(this._backGroundTexType){case ccui.Widget.LOCAL_TEXTURE:$bgBoxRenderer$$.initWithFile($backGround$$);break;case ccui.Widget.PLIST_TEXTURE:$bgBoxRenderer$$.initWithSpriteFrameName($backGround$$)}$bgBoxRenderer$$.textureLoaded()||
(this._backGroundBoxRenderer.setContentSize(this._customSize),$bgBoxRenderer$$.addEventListener("load",function(){this._updateContentSizeWithTextureSize(this._backGroundBoxRenderer.getContentSize())},this));this._updateFlippedX();this._updateFlippedY();this._updateChildrenDisplayedRGBA();this._updateContentSizeWithTextureSize(this._backGroundBoxRenderer.getContentSize());this._backGroundBoxRendererAdaptDirty=!0}},loadTextureBackGroundSelected:function($backGroundSelected$$,$texType$$){if($backGroundSelected$$){$texType$$=
$texType$$||ccui.Widget.LOCAL_TEXTURE;this._backGroundSelectedFileName=$backGroundSelected$$;this._backGroundSelectedTexType=$texType$$;var $self$$=this;this._backGroundSelectedBoxRenderer.texture&&this._backGroundSelectedBoxRenderer.texture.isLoaded()||this._backGroundSelectedBoxRenderer.addEventListener("load",function(){$self$$._findLayout();$self$$._updateFlippedX();$self$$._updateFlippedY();$self$$._updateChildrenDisplayedRGBA();$self$$._backGroundSelectedBoxRendererAdaptDirty=!0});switch(this._backGroundSelectedTexType){case ccui.Widget.LOCAL_TEXTURE:this._backGroundSelectedBoxRenderer.initWithFile($backGroundSelected$$);
break;case ccui.Widget.PLIST_TEXTURE:this._backGroundSelectedBoxRenderer.initWithSpriteFrameName($backGroundSelected$$)}this._updateFlippedX();this._updateFlippedY();this._updateChildrenDisplayedRGBA();this._backGroundSelectedBoxRendererAdaptDirty=!0}},loadTextureFrontCross:function($cross$$,$texType$$){if($cross$$){$texType$$=$texType$$||ccui.Widget.LOCAL_TEXTURE;this._frontCrossFileName=$cross$$;this._frontCrossTexType=$texType$$;var $self$$=this;this._frontCrossRenderer.texture&&this._frontCrossRenderer.texture.isLoaded()||
this._frontCrossRenderer.addEventListener("load",function(){$self$$._findLayout();$self$$._updateFlippedX();$self$$._updateFlippedY();$self$$._updateChildrenDisplayedRGBA();$self$$._frontCrossRendererAdaptDirty=!0});switch(this._frontCrossTexType){case ccui.Widget.LOCAL_TEXTURE:this._frontCrossRenderer.initWithFile($cross$$);break;case ccui.Widget.PLIST_TEXTURE:this._frontCrossRenderer.initWithSpriteFrameName($cross$$)}this._updateFlippedX();this._updateFlippedY();this._updateChildrenDisplayedRGBA();
this._frontCrossRendererAdaptDirty=!0}},loadTextureBackGroundDisabled:function($backGroundDisabled$$,$texType$$){if($backGroundDisabled$$){$texType$$=$texType$$||ccui.Widget.LOCAL_TEXTURE;this._backGroundDisabledFileName=$backGroundDisabled$$;this._backGroundDisabledTexType=$texType$$;var $self$$=this;this._backGroundBoxDisabledRenderer.texture&&this._backGroundBoxDisabledRenderer.texture.isLoaded()||this._backGroundBoxDisabledRenderer.addEventListener("load",function(){$self$$._findLayout();$self$$._updateFlippedX();
$self$$._updateFlippedY();$self$$._updateChildrenDisplayedRGBA();$self$$._backGroundBoxDisabledRendererAdaptDirty=!0});switch(this._backGroundDisabledTexType){case ccui.Widget.LOCAL_TEXTURE:this._backGroundBoxDisabledRenderer.initWithFile($backGroundDisabled$$);break;case ccui.Widget.PLIST_TEXTURE:this._backGroundBoxDisabledRenderer.initWithSpriteFrameName($backGroundDisabled$$)}this._updateFlippedX();this._updateFlippedY();this._updateChildrenDisplayedRGBA();this._backGroundBoxDisabledRendererAdaptDirty=
!0}},loadTextureFrontCrossDisabled:function($frontCrossDisabled$$,$texType$$){if($frontCrossDisabled$$){$texType$$=$texType$$||ccui.Widget.LOCAL_TEXTURE;this._frontCrossDisabledFileName=$frontCrossDisabled$$;this._frontCrossDisabledTexType=$texType$$;var $self$$=this;this._frontCrossDisabledRenderer.texture&&this._frontCrossDisabledRenderer.texture.isLoaded()||this._frontCrossDisabledRenderer.addEventListener("load",function(){$self$$._findLayout();$self$$._updateFlippedX();$self$$._updateFlippedY();
$self$$._updateChildrenDisplayedRGBA();$self$$._frontCrossDisabledRendererAdaptDirty=!0});switch(this._frontCrossDisabledTexType){case ccui.Widget.LOCAL_TEXTURE:this._frontCrossDisabledRenderer.initWithFile($frontCrossDisabled$$);break;case ccui.Widget.PLIST_TEXTURE:this._frontCrossDisabledRenderer.initWithSpriteFrameName($frontCrossDisabled$$)}this._updateFlippedX();this._updateFlippedY();this._updateChildrenDisplayedRGBA();this._frontCrossDisabledRendererAdaptDirty=!0}},_onPressStateChangedToNormal:function(){this._backGroundBoxRenderer.setVisible(!0);
this._backGroundSelectedBoxRenderer.setVisible(!1);this._backGroundBoxDisabledRenderer.setVisible(!1);this._frontCrossDisabledRenderer.setVisible(!1);this._isSelected&&this._frontCrossRenderer.setVisible(!0)},_onPressStateChangedToPressed:function(){this._backGroundBoxRenderer.setVisible(!1);this._backGroundSelectedBoxRenderer.setVisible(!0);this._backGroundBoxDisabledRenderer.setVisible(!1);this._frontCrossDisabledRenderer.setVisible(!1)},_onPressStateChangedToDisabled:function(){this._backGroundBoxRenderer.setVisible(!1);
this._backGroundSelectedBoxRenderer.setVisible(!1);this._backGroundBoxDisabledRenderer.setVisible(!0);this._frontCrossRenderer.setVisible(!1);this._isSelected&&this._frontCrossDisabledRenderer.setVisible(!0)},setSelectedState:function($selected$$){this.setSelected($selected$$)},setSelected:function($selected$$){$selected$$!=this._isSelected&&(this._isSelected=$selected$$,this._frontCrossRenderer.setVisible(this._isSelected))},getSelectedState:function(){this.isSelected()},isSelected:function(){return this._isSelected},
_selectedEvent:function(){this._checkBoxEventSelector&&(this._checkBoxEventListener?this._checkBoxEventSelector.call(this._checkBoxEventListener,this,ccui.CheckBox.EVENT_SELECTED):this._checkBoxEventSelector(this,ccui.CheckBox.EVENT_SELECTED))},_unSelectedEvent:function(){this._checkBoxEventSelector&&(this._checkBoxEventListener?this._checkBoxEventSelector.call(this._checkBoxEventListener,this,ccui.CheckBox.EVENT_UNSELECTED):this._checkBoxEventSelector(this,ccui.CheckBox.EVENT_UNSELECTED))},_releaseUpEvent:function(){ccui.Widget.prototype._releaseUpEvent.call(this);
this._isSelected?(this.setSelected(!1),this._unSelectedEvent()):(this.setSelected(!0),this._selectedEvent())},addEventListenerCheckBox:function($selector$$,$target$$){this.addEventListener($selector$$,$target$$)},addEventListener:function($selector$$,$target$$){this._checkBoxEventSelector=$selector$$;this._checkBoxEventListener=$target$$},getVirtualRendererSize:function(){return this._backGroundBoxRenderer.getContentSize()},_updateFlippedX:function(){this._backGroundBoxRenderer.setFlippedX(this._flippedX);
this._backGroundSelectedBoxRenderer.setFlippedX(this._flippedX);this._frontCrossRenderer.setFlippedX(this._flippedX);this._backGroundBoxDisabledRenderer.setFlippedX(this._flippedX);this._frontCrossDisabledRenderer.setFlippedX(this._flippedX)},_updateFlippedY:function(){this._backGroundBoxRenderer.setFlippedY(this._flippedY);this._backGroundSelectedBoxRenderer.setFlippedY(this._flippedY);this._frontCrossRenderer.setFlippedY(this._flippedY);this._backGroundBoxDisabledRenderer.setFlippedY(this._flippedY);
this._frontCrossDisabledRenderer.setFlippedY(this._flippedY)},_onSizeChanged:function(){ccui.Widget.prototype._onSizeChanged.call(this);this._frontCrossDisabledRendererAdaptDirty=this._backGroundBoxDisabledRendererAdaptDirty=this._frontCrossRendererAdaptDirty=this._backGroundSelectedBoxRendererAdaptDirty=this._backGroundBoxRendererAdaptDirty=!0},getVirtualRenderer:function(){return this._backGroundBoxRenderer},_backGroundTextureScaleChangedWithSize:function(){var $locRenderer$$=this._backGroundBoxRenderer,
$locContentSize$$=this._contentSize;if(this._ignoreSize)$locRenderer$$.setScale(1);else{var $textureSize$$=$locRenderer$$.getContentSize();if(0>=$textureSize$$.width||0>=$textureSize$$.height){$locRenderer$$.setScale(1);return}var $scaleY$$=$locContentSize$$.height/$textureSize$$.height;$locRenderer$$.setScaleX($locContentSize$$.width/$textureSize$$.width);$locRenderer$$.setScaleY($scaleY$$)}$locRenderer$$.setPosition(.5*$locContentSize$$.width,.5*$locContentSize$$.height)},_backGroundSelectedTextureScaleChangedWithSize:function(){var $locRenderer$$=
this._backGroundSelectedBoxRenderer,$locContentSize$$=this._contentSize;if(this._ignoreSize)$locRenderer$$.setScale(1);else{var $textureSize$$=$locRenderer$$.getContentSize();if(0>=$textureSize$$.width||0>=$textureSize$$.height){$locRenderer$$.setScale(1);return}var $scaleY$$=$locContentSize$$.height/$textureSize$$.height;$locRenderer$$.setScaleX($locContentSize$$.width/$textureSize$$.width);$locRenderer$$.setScaleY($scaleY$$)}$locRenderer$$.setPosition(.5*$locContentSize$$.width,.5*$locContentSize$$.height)},
_frontCrossTextureScaleChangedWithSize:function(){var $locRenderer$$=this._frontCrossRenderer,$locContentSize$$=this._contentSize;if(this._ignoreSize)$locRenderer$$.setScale(1);else{var $textureSize$$=$locRenderer$$.getContentSize();if(0>=$textureSize$$.width||0>=$textureSize$$.height){$locRenderer$$.setScale(1);return}var $scaleY$$=$locContentSize$$.height/$textureSize$$.height;$locRenderer$$.setScaleX($locContentSize$$.width/$textureSize$$.width);$locRenderer$$.setScaleY($scaleY$$)}$locRenderer$$.setPosition(.5*
$locContentSize$$.width,.5*$locContentSize$$.height)},_backGroundDisabledTextureScaleChangedWithSize:function(){var $locRenderer$$=this._backGroundBoxDisabledRenderer,$locContentSize$$=this._contentSize;if(this._ignoreSize)$locRenderer$$.setScale(1);else{var $textureSize$$=$locRenderer$$.getContentSize();if(0>=$textureSize$$.width||0>=$textureSize$$.height){$locRenderer$$.setScale(1);return}var $scaleY$$=$locContentSize$$.height/$textureSize$$.height;$locRenderer$$.setScaleX($locContentSize$$.width/
$textureSize$$.width);$locRenderer$$.setScaleY($scaleY$$)}$locRenderer$$.setPosition(.5*$locContentSize$$.width,.5*$locContentSize$$.height)},_frontCrossDisabledTextureScaleChangedWithSize:function(){var $locRenderer$$=this._frontCrossDisabledRenderer,$locContentSize$$=this._contentSize;if(this._ignoreSize)$locRenderer$$.setScale(1);else{var $textureSize$$=$locRenderer$$.getContentSize();if(0>=$textureSize$$.width||0>=$textureSize$$.height){$locRenderer$$.setScale(1);return}var $scaleY$$=$locContentSize$$.height/
$textureSize$$.height;$locRenderer$$.setScaleX($locContentSize$$.width/$textureSize$$.width);$locRenderer$$.setScaleY($scaleY$$)}$locRenderer$$.setPosition(.5*$locContentSize$$.width,.5*$locContentSize$$.height)},getDescription:function(){return"CheckBox"},_createCloneInstance:function(){return new ccui.CheckBox},_copySpecialProperties:function($uiCheckBox$$){$uiCheckBox$$ instanceof ccui.CheckBox&&(this.loadTextureBackGround($uiCheckBox$$._backGroundFileName,$uiCheckBox$$._backGroundTexType),this.loadTextureBackGroundSelected($uiCheckBox$$._backGroundSelectedFileName,
$uiCheckBox$$._backGroundSelectedTexType),this.loadTextureFrontCross($uiCheckBox$$._frontCrossFileName,$uiCheckBox$$._frontCrossTexType),this.loadTextureBackGroundDisabled($uiCheckBox$$._backGroundDisabledFileName,$uiCheckBox$$._backGroundDisabledTexType),this.loadTextureFrontCrossDisabled($uiCheckBox$$._frontCrossDisabledFileName,$uiCheckBox$$._frontCrossDisabledTexType),this.setSelected($uiCheckBox$$._isSelected),this._checkBoxEventListener=$uiCheckBox$$._checkBoxEventListener,this._checkBoxEventSelector=
$uiCheckBox$$._checkBoxEventSelector)},_adaptRenderers:function(){this._backGroundBoxRendererAdaptDirty&&(this._backGroundTextureScaleChangedWithSize(),this._backGroundBoxRendererAdaptDirty=!1);this._backGroundSelectedBoxRendererAdaptDirty&&(this._backGroundSelectedTextureScaleChangedWithSize(),this._backGroundSelectedBoxRendererAdaptDirty=!1);this._frontCrossRendererAdaptDirty&&(this._frontCrossTextureScaleChangedWithSize(),this._frontCrossRendererAdaptDirty=!1);this._backGroundBoxDisabledRendererAdaptDirty&&
(this._backGroundDisabledTextureScaleChangedWithSize(),this._backGroundBoxDisabledRendererAdaptDirty=!1);this._frontCrossDisabledRendererAdaptDirty&&(this._frontCrossDisabledTextureScaleChangedWithSize(),this._frontCrossDisabledRendererAdaptDirty=!1)}});_p=ccui.CheckBox.prototype;_p.selected;cc.defineGetterSetter(_p,"selected",_p.isSelected,_p.setSelected);_p=null;
ccui.CheckBox.create=function $ccui$CheckBox$create$($backGround$$,$backGroundSeleted$$,$cross$$,$backGroundDisabled$$,$frontCrossDisabled$$,$texType$$){return new ccui.CheckBox($backGround$$,$backGroundSeleted$$,$cross$$,$backGroundDisabled$$,$frontCrossDisabled$$,$texType$$)};ccui.CheckBox.EVENT_SELECTED=0;ccui.CheckBox.EVENT_UNSELECTED=1;ccui.CheckBox.BOX_RENDERER_ZORDER=-1;ccui.CheckBox.BOX_SELECTED_RENDERER_ZORDER=-1;ccui.CheckBox.BOX_DISABLED_RENDERER_ZORDER=-1;
ccui.CheckBox.FRONT_CROSS_RENDERER_ZORDER=-1;ccui.CheckBox.FRONT_CROSS_DISABLED_RENDERER_ZORDER=-1;
ccui.ImageView=ccui.Widget.extend({_scale9Enabled:!1,_prevIgnoreSize:!0,_capInsets:null,_imageRenderer:null,_textureFile:"",_imageTexType:ccui.Widget.LOCAL_TEXTURE,_imageTextureSize:null,_className:"ImageView",_imageRendererAdaptDirty:!0,ctor:function($imageFileName$$,$texType$$){this._capInsets=cc.rect(0,0,0,0);this._imageTextureSize=cc.size(this._capInsets.width,this._capInsets.height);ccui.Widget.prototype.ctor.call(this);void 0!==$texType$$&&this.init($imageFileName$$,$texType$$)},init:function($imageFileName$$,
$texType$$){return ccui.Widget.prototype.init.call(this)?(void 0===$imageFileName$$?this._imageTexType=ccui.Widget.LOCAL_TEXTURE:this.loadTexture($imageFileName$$,$texType$$),!0):!1},_initRenderer:function(){this._imageRenderer=new cc.Sprite;this.addProtectedChild(this._imageRenderer,ccui.ImageView.RENDERER_ZORDER,-1)},loadTexture:function($fileName$$,$texType$$){if($fileName$$){var $self$$=this;$texType$$=$texType$$||ccui.Widget.LOCAL_TEXTURE;this._textureFile=$fileName$$;this._imageTexType=$texType$$;
var $imageRenderer$$=$self$$._imageRenderer;switch($self$$._imageTexType){case ccui.Widget.LOCAL_TEXTURE:$self$$._scale9Enabled?($imageRenderer$$.initWithFile($fileName$$),$imageRenderer$$.setCapInsets($self$$._capInsets)):$imageRenderer$$.initWithFile($fileName$$);break;case ccui.Widget.PLIST_TEXTURE:$self$$._scale9Enabled?($imageRenderer$$.initWithSpriteFrameName($fileName$$),$imageRenderer$$.setCapInsets($self$$._capInsets)):$imageRenderer$$.initWithSpriteFrameName($fileName$$)}$imageRenderer$$.texture&&
$imageRenderer$$.texture.isLoaded()||$imageRenderer$$.addEventListener("load",function(){$self$$._findLayout();$self$$._imageTextureSize=$imageRenderer$$.getContentSize();$self$$._updateFlippedX();$self$$._updateFlippedY();$self$$._updateChildrenDisplayedRGBA();$self$$._updateContentSizeWithTextureSize($self$$._imageTextureSize);$self$$._imageRendererAdaptDirty=!0});$self$$._imageTextureSize=$imageRenderer$$.getContentSize();$self$$._updateFlippedX();$self$$._updateFlippedY();this._updateChildrenDisplayedRGBA();
$self$$._updateContentSizeWithTextureSize($self$$._imageTextureSize);$self$$._imageRendererAdaptDirty=!0}},setTextureRect:function($rect$$){this._scale9Enabled||this._imageRenderer.setTextureRect($rect$$)},_updateFlippedX:function(){this._scale9Enabled?this._imageRenderer.setScaleX(this._flippedX?-1:1):this._imageRenderer.setFlippedX(this._flippedX)},_updateFlippedY:function(){this._scale9Enabled?this._imageRenderer.setScaleY(this._flippedY?-1:1):this._imageRenderer.setFlippedY(this._flippedY)},setScale9Enabled:function($able$$3_ignoreBefore$$){this._scale9Enabled!=
$able$$3_ignoreBefore$$&&(this._scale9Enabled=$able$$3_ignoreBefore$$,this.removeProtectedChild(this._imageRenderer),this._imageRenderer=null,this._imageRenderer=this._scale9Enabled?new ccui.Scale9Sprite:new cc.Sprite,this.loadTexture(this._textureFile,this._imageTexType),this.addProtectedChild(this._imageRenderer,ccui.ImageView.RENDERER_ZORDER,-1),this._scale9Enabled?($able$$3_ignoreBefore$$=this._ignoreSize,this.ignoreContentAdaptWithSize(!1),this._prevIgnoreSize=$able$$3_ignoreBefore$$):this.ignoreContentAdaptWithSize(this._prevIgnoreSize),
this.setCapInsets(this._capInsets))},isScale9Enabled:function(){return this._scale9Enabled},ignoreContentAdaptWithSize:function($ignore$$){if(!this._scale9Enabled||this._scale9Enabled&&!$ignore$$)ccui.Widget.prototype.ignoreContentAdaptWithSize.call(this,$ignore$$),this._prevIgnoreSize=$ignore$$},setCapInsets:function($capInsets$$){if($capInsets$$){var $locInsets$$=this._capInsets;$locInsets$$.x=$capInsets$$.x;$locInsets$$.y=$capInsets$$.y;$locInsets$$.width=$capInsets$$.width;$locInsets$$.height=
$capInsets$$.height;this._scale9Enabled&&this._imageRenderer.setCapInsets($capInsets$$)}},getCapInsets:function(){return cc.rect(this._capInsets)},_onSizeChanged:function(){ccui.Widget.prototype._onSizeChanged.call(this);this._imageRendererAdaptDirty=!0},_adaptRenderers:function(){this._imageRendererAdaptDirty&&(this._imageTextureScaleChangedWithSize(),this._imageRendererAdaptDirty=!1)},getVirtualRendererSize:function(){return cc.size(this._imageTextureSize)},getVirtualRenderer:function(){return this._imageRenderer},
_imageTextureScaleChangedWithSize:function(){if(this._ignoreSize)this._scale9Enabled||this._imageRenderer.setScale(1);else if(this._scale9Enabled)this._imageRenderer.setPreferredSize(this._contentSize);else{var $textureSize$$=this._imageRenderer.getContentSize();if(0>=$textureSize$$.width||0>=$textureSize$$.height){this._imageRenderer.setScale(1);return}this._imageRenderer.setScaleX(this._contentSize.width/$textureSize$$.width);this._imageRenderer.setScaleY(this._contentSize.height/$textureSize$$.height)}this._imageRenderer.setPosition(this._contentSize.width/
2,this._contentSize.height/2)},getDescription:function(){return"ImageView"},_createCloneInstance:function(){return new ccui.ImageView},_copySpecialProperties:function($imageView$$){$imageView$$ instanceof ccui.ImageView&&(this._prevIgnoreSize=$imageView$$._prevIgnoreSize,this.setScale9Enabled($imageView$$._scale9Enabled),this.loadTexture($imageView$$._textureFile,$imageView$$._imageTexType),this.setCapInsets($imageView$$._capInsets))}});
ccui.ImageView.create=function $ccui$ImageView$create$($imageFileName$$,$texType$$){return new ccui.ImageView($imageFileName$$,$texType$$)};ccui.ImageView.RENDERER_ZORDER=-1;
ccui.LoadingBar=ccui.Widget.extend({_direction:null,_percent:100,_totalLength:0,_barRenderer:null,_renderBarTexType:ccui.Widget.LOCAL_TEXTURE,_barRendererTextureSize:null,_scale9Enabled:!1,_prevIgnoreSize:!0,_capInsets:null,_textureFile:"",_isTextureLoaded:!1,_className:"LoadingBar",_barRendererAdaptDirty:!0,ctor:function($textureName$$,$percentage$$){this._direction=ccui.LoadingBar.TYPE_LEFT;this._barRendererTextureSize=cc.size(0,0);this._capInsets=cc.rect(0,0,0,0);ccui.Widget.prototype.ctor.call(this);
void 0!==$textureName$$&&this.loadTexture($textureName$$);void 0!==$percentage$$&&this.setPercent($percentage$$)},_initRenderer:function(){this._barRenderer=new cc.Sprite;this.addProtectedChild(this._barRenderer,ccui.LoadingBar.RENDERER_ZORDER,-1);this._barRenderer.setAnchorPoint(0,.5)},setDirection:function($dir$$){if(this._direction!=$dir$$)switch(this._direction=$dir$$,this._direction){case ccui.LoadingBar.TYPE_LEFT:this._barRenderer.setAnchorPoint(0,.5);this._barRenderer.setPosition(0,.5*this._contentSize.height);
this._scale9Enabled||this._barRenderer.setFlippedX(!1);break;case ccui.LoadingBar.TYPE_RIGHT:this._barRenderer.setAnchorPoint(1,.5),this._barRenderer.setPosition(this._totalLength,.5*this._contentSize.height),this._scale9Enabled||this._barRenderer.setFlippedX(!0)}},getDirection:function(){return this._direction},loadTexture:function($texture$$,$texType$$){if($texture$$){this._renderBarTexType=$texType$$=$texType$$||ccui.Widget.LOCAL_TEXTURE;this._textureFile=$texture$$;var $barRenderer$$=this._barRenderer,
$self$$=this;$barRenderer$$.texture&&$barRenderer$$.texture.isLoaded()||$barRenderer$$.addEventListener("load",function(){$self$$._findLayout();var $bz$$=$barRenderer$$.getContentSize();$self$$._barRendererTextureSize.width=$bz$$.width;$self$$._barRendererTextureSize.height=$bz$$.height;switch($self$$._direction){case ccui.LoadingBar.TYPE_LEFT:$barRenderer$$.setAnchorPoint(0,.5);$self$$._scale9Enabled||$barRenderer$$.setFlippedX(!1);break;case ccui.LoadingBar.TYPE_RIGHT:$barRenderer$$.setAnchorPoint(1,
.5),$self$$._scale9Enabled||$barRenderer$$.setFlippedX(!0)}$self$$._updateChildrenDisplayedRGBA();$self$$._barRendererScaleChangedWithSize();$self$$._updateContentSizeWithTextureSize($self$$._barRendererTextureSize);$self$$._barRendererAdaptDirty=!0});switch(this._renderBarTexType){case ccui.Widget.LOCAL_TEXTURE:this._scale9Enabled?($barRenderer$$.initWithFile($texture$$),$barRenderer$$.setCapInsets(this._capInsets)):$barRenderer$$.initWithFile($texture$$);break;case ccui.Widget.PLIST_TEXTURE:this._scale9Enabled?
($barRenderer$$.initWithSpriteFrameName($texture$$),$barRenderer$$.setCapInsets(this._capInsets)):$barRenderer$$.initWithSpriteFrameName($texture$$)}var $bz$$=$barRenderer$$.getContentSize();this._barRendererTextureSize.width=$bz$$.width;this._barRendererTextureSize.height=$bz$$.height;switch(this._direction){case ccui.LoadingBar.TYPE_LEFT:$barRenderer$$.setAnchorPoint(0,.5);this._scale9Enabled||$barRenderer$$.setFlippedX(!1);break;case ccui.LoadingBar.TYPE_RIGHT:$barRenderer$$.setAnchorPoint(1,.5),
this._scale9Enabled||$barRenderer$$.setFlippedX(!0)}this._updateChildrenDisplayedRGBA();this._barRendererScaleChangedWithSize();this._updateContentSizeWithTextureSize(this._barRendererTextureSize);this._barRendererAdaptDirty=!0}},setScale9Enabled:function($enabled$$22_ignoreBefore$$){this._scale9Enabled!=$enabled$$22_ignoreBefore$$&&(this._scale9Enabled=$enabled$$22_ignoreBefore$$,this.removeProtectedChild(this._barRenderer),this._barRenderer=this._scale9Enabled?new ccui.Scale9Sprite:new cc.Sprite,
this.loadTexture(this._textureFile,this._renderBarTexType),this.addProtectedChild(this._barRenderer,ccui.LoadingBar.RENDERER_ZORDER,-1),this._scale9Enabled?($enabled$$22_ignoreBefore$$=this._ignoreSize,this.ignoreContentAdaptWithSize(!1),this._prevIgnoreSize=$enabled$$22_ignoreBefore$$):this.ignoreContentAdaptWithSize(this._prevIgnoreSize),this.setCapInsets(this._capInsets),this.setPercent(this._percent))},isScale9Enabled:function(){return this._scale9Enabled},setCapInsets:function($capInsets$$){if($capInsets$$){var $locInsets$$=
this._capInsets;$locInsets$$.x=$capInsets$$.x;$locInsets$$.y=$capInsets$$.y;$locInsets$$.width=$capInsets$$.width;$locInsets$$.height=$capInsets$$.height;this._scale9Enabled&&this._barRenderer.setCapInsets($capInsets$$)}},getCapInsets:function(){return cc.rect(this._capInsets)},setPercent:function($percent$$14_res$$){if(!(0>$percent$$14_res$$||100<$percent$$14_res$$||(this._percent=$percent$$14_res$$,0>=this._totalLength)))if($percent$$14_res$$=this._percent/100,this._scale9Enabled)this._setScale9Scale();
else{var $rect$$=this._barRenderer.getTextureRect();$rect$$.width=this._barRendererTextureSize.width*$percent$$14_res$$;this._barRenderer.setTextureRect(cc.rect($rect$$.x,$rect$$.y,this._barRendererTextureSize.width*$percent$$14_res$$,this._barRendererTextureSize.height))}},setContentSize:function($contentSize$$,$height$$){ccui.Widget.prototype.setContentSize.call(this,$contentSize$$,$height$$);this._totalLength=void 0===$height$$?$contentSize$$.width:$contentSize$$},getPercent:function(){return this._percent},
_onSizeChanged:function(){ccui.Widget.prototype._onSizeChanged.call(this);this._barRendererAdaptDirty=!0},_adaptRenderers:function(){this._barRendererAdaptDirty&&(this._barRendererScaleChangedWithSize(),this._barRendererAdaptDirty=!1)},ignoreContentAdaptWithSize:function($ignore$$){if(!this._scale9Enabled||this._scale9Enabled&&!$ignore$$)ccui.Widget.prototype.ignoreContentAdaptWithSize.call(this,$ignore$$),this._prevIgnoreSize=$ignore$$},getVirtualRendererSize:function(){return cc.size(this._barRendererTextureSize)},
getVirtualRenderer:function(){return this._barRenderer},_barRendererScaleChangedWithSize:function(){var $locBarRender$$=this._barRenderer,$locContentSize$$=this._contentSize;if(this._unifySize)this._totalLength=this._contentSize.width,this.setPercent(this._percent);else if(this._ignoreSize)this._scale9Enabled||(this._totalLength=this._barRendererTextureSize.width,$locBarRender$$.setScale(1));else if(this._totalLength=$locContentSize$$.width,this._scale9Enabled)this._setScale9Scale();else{var $textureSize$$=
this._barRendererTextureSize;if(0>=$textureSize$$.width||0>=$textureSize$$.height){$locBarRender$$.setScale(1);return}var $scaleY$$=$locContentSize$$.height/$textureSize$$.height;$locBarRender$$.setScaleX($locContentSize$$.width/$textureSize$$.width);$locBarRender$$.setScaleY($scaleY$$)}switch(this._direction){case ccui.LoadingBar.TYPE_LEFT:$locBarRender$$.setPosition(0,.5*$locContentSize$$.height);break;case ccui.LoadingBar.TYPE_RIGHT:$locBarRender$$.setPosition(this._totalLength,.5*$locContentSize$$.height)}},
_setScale9Scale:function(){this._barRenderer.setPreferredSize(cc.size(this._percent/100*this._totalLength,this._contentSize.height))},getDescription:function(){return"LoadingBar"},_createCloneInstance:function(){return new ccui.LoadingBar},_copySpecialProperties:function($loadingBar$$){$loadingBar$$ instanceof ccui.LoadingBar&&(this._prevIgnoreSize=$loadingBar$$._prevIgnoreSize,this.setScale9Enabled($loadingBar$$._scale9Enabled),this.loadTexture($loadingBar$$._textureFile,$loadingBar$$._renderBarTexType),
this.setCapInsets($loadingBar$$._capInsets),this.setPercent($loadingBar$$._percent),this.setDirection($loadingBar$$._direction))}});_p=ccui.LoadingBar.prototype;_p.direction;cc.defineGetterSetter(_p,"direction",_p.getDirection,_p.setDirection);_p.percent;cc.defineGetterSetter(_p,"percent",_p.getPercent,_p.setPercent);_p=null;ccui.LoadingBar.create=function $ccui$LoadingBar$create$($textureName$$,$percentage$$){return new ccui.LoadingBar($textureName$$,$percentage$$)};ccui.LoadingBar.TYPE_LEFT=0;
ccui.LoadingBar.TYPE_RIGHT=1;ccui.LoadingBar.RENDERER_ZORDER=-1;
ccui.Slider=ccui.Widget.extend({_barRenderer:null,_progressBarRenderer:null,_progressBarTextureSize:null,_slidBallNormalRenderer:null,_slidBallPressedRenderer:null,_slidBallDisabledRenderer:null,_slidBallRenderer:null,_barLength:0,_percent:0,_scale9Enabled:!1,_prevIgnoreSize:!0,_textureFile:"",_progressBarTextureFile:"",_slidBallNormalTextureFile:"",_slidBallPressedTextureFile:"",_slidBallDisabledTextureFile:"",_capInsetsBarRenderer:null,_capInsetsProgressBarRenderer:null,_sliderEventListener:null,
_sliderEventSelector:null,_barTexType:ccui.Widget.LOCAL_TEXTURE,_progressBarTexType:ccui.Widget.LOCAL_TEXTURE,_ballNTexType:ccui.Widget.LOCAL_TEXTURE,_ballPTexType:ccui.Widget.LOCAL_TEXTURE,_ballDTexType:ccui.Widget.LOCAL_TEXTURE,_isTextureLoaded:!1,_className:"Slider",_barRendererAdaptDirty:!0,_progressBarRendererDirty:!0,ctor:function(){this._progressBarTextureSize=cc.size(0,0);this._capInsetsBarRenderer=cc.rect(0,0,0,0);this._capInsetsProgressBarRenderer=cc.rect(0,0,0,0);ccui.Widget.prototype.ctor.call(this)},
init:function(){return ccui.Widget.prototype.init.call(this)},_initRenderer:function(){this._barRenderer=new cc.Sprite;this._progressBarRenderer=new cc.Sprite;this._progressBarRenderer.setAnchorPoint(0,.5);this.addProtectedChild(this._barRenderer,ccui.Slider.BASEBAR_RENDERER_ZORDER,-1);this.addProtectedChild(this._progressBarRenderer,ccui.Slider.PROGRESSBAR_RENDERER_ZORDER,-1);this._slidBallNormalRenderer=new cc.Sprite;this._slidBallPressedRenderer=new cc.Sprite;this._slidBallPressedRenderer.setVisible(!1);
this._slidBallDisabledRenderer=new cc.Sprite;this._slidBallDisabledRenderer.setVisible(!1);this._slidBallRenderer=new cc.Node;this._slidBallRenderer.addChild(this._slidBallNormalRenderer);this._slidBallRenderer.addChild(this._slidBallPressedRenderer);this._slidBallRenderer.addChild(this._slidBallDisabledRenderer);this._slidBallRenderer.setCascadeColorEnabled(!0);this._slidBallRenderer.setCascadeOpacityEnabled(!0);this.addProtectedChild(this._slidBallRenderer,ccui.Slider.BALL_RENDERER_ZORDER,-1)},
loadBarTexture:function($fileName$$,$texType$$){if($fileName$$){$texType$$=$texType$$||ccui.Widget.LOCAL_TEXTURE;this._textureFile=$fileName$$;this._barTexType=$texType$$;var $barRenderer$$=this._barRenderer,$self$$=this;$barRenderer$$.texture&&$barRenderer$$.texture.isLoaded()||$barRenderer$$.addEventListener("load",function(){$self$$._findLayout();$self$$._updateChildrenDisplayedRGBA();$self$$._barRendererAdaptDirty=!0;$self$$._progressBarRendererDirty=!0;$self$$._updateContentSizeWithTextureSize($self$$._barRenderer.getContentSize())});
switch(this._barTexType){case ccui.Widget.LOCAL_TEXTURE:$barRenderer$$.initWithFile($fileName$$);break;case ccui.Widget.PLIST_TEXTURE:$barRenderer$$.initWithSpriteFrameName($fileName$$)}this._updateChildrenDisplayedRGBA();this._progressBarRendererDirty=this._barRendererAdaptDirty=!0;this._updateContentSizeWithTextureSize(this._barRenderer.getContentSize())}},loadProgressBarTexture:function($fileName$$,$texType$$){if($fileName$$){$texType$$=$texType$$||ccui.Widget.LOCAL_TEXTURE;this._progressBarTextureFile=
$fileName$$;this._progressBarTexType=$texType$$;var $progressBarRenderer_tz$$=this._progressBarRenderer,$self$$=this;$progressBarRenderer_tz$$.texture&&$progressBarRenderer_tz$$.texture.isLoaded()||$progressBarRenderer_tz$$.addEventListener("load",function(){$self$$._findLayout();$self$$._updateChildrenDisplayedRGBA();$self$$._progressBarRenderer.setAnchorPoint(cc.p(0,.5));var $tz$$=$self$$._progressBarRenderer.getContentSize();$self$$._progressBarTextureSize={width:$tz$$.width,height:$tz$$.height};
$self$$._progressBarRendererDirty=!0});switch(this._progressBarTexType){case ccui.Widget.LOCAL_TEXTURE:$progressBarRenderer_tz$$.initWithFile($fileName$$);break;case ccui.Widget.PLIST_TEXTURE:$progressBarRenderer_tz$$.initWithSpriteFrameName($fileName$$)}this._updateChildrenDisplayedRGBA();this._progressBarRenderer.setAnchorPoint(cc.p(0,.5));$progressBarRenderer_tz$$=this._progressBarRenderer.getContentSize();this._progressBarTextureSize={width:$progressBarRenderer_tz$$.width,height:$progressBarRenderer_tz$$.height};
this._progressBarRendererDirty=!0}},setScale9Enabled:function($able$$4_ignoreBefore$$){this._scale9Enabled!=$able$$4_ignoreBefore$$&&(this._scale9Enabled=$able$$4_ignoreBefore$$,this.removeProtectedChild(this._barRenderer,!0),this.removeProtectedChild(this._progressBarRenderer,!0),this._progressBarRenderer=this._barRenderer=null,this._scale9Enabled?(this._barRenderer=new ccui.Scale9Sprite,this._progressBarRenderer=new ccui.Scale9Sprite):(this._barRenderer=new cc.Sprite,this._progressBarRenderer=new cc.Sprite),
this.loadBarTexture(this._textureFile,this._barTexType),this.loadProgressBarTexture(this._progressBarTextureFile,this._progressBarTexType),this.addProtectedChild(this._barRenderer,ccui.Slider.BASEBAR_RENDERER_ZORDER,-1),this.addProtectedChild(this._progressBarRenderer,ccui.Slider.PROGRESSBAR_RENDERER_ZORDER,-1),this._scale9Enabled?($able$$4_ignoreBefore$$=this._ignoreSize,this.ignoreContentAdaptWithSize(!1),this._prevIgnoreSize=$able$$4_ignoreBefore$$):this.ignoreContentAdaptWithSize(this._prevIgnoreSize),
this.setCapInsetsBarRenderer(this._capInsetsBarRenderer),this.setCapInsetProgressBarRenderer(this._capInsetsProgressBarRenderer))},isScale9Enabled:function(){return this._scale9Enabled},ignoreContentAdaptWithSize:function($ignore$$){if(!this._scale9Enabled||this._scale9Enabled&&!$ignore$$)ccui.Widget.prototype.ignoreContentAdaptWithSize.call(this,$ignore$$),this._prevIgnoreSize=$ignore$$},setCapInsets:function($capInsets$$){this.setCapInsetsBarRenderer($capInsets$$);this.setCapInsetProgressBarRenderer($capInsets$$)},
setCapInsetsBarRenderer:function($capInsets$$){if($capInsets$$){var $locInsets$$=this._capInsetsBarRenderer;$locInsets$$.x=$capInsets$$.x;$locInsets$$.y=$capInsets$$.y;$locInsets$$.width=$capInsets$$.width;$locInsets$$.height=$capInsets$$.height;this._scale9Enabled&&this._barRenderer.setCapInsets($capInsets$$)}},getCapInsetsBarRenderer:function(){return cc.rect(this._capInsetsBarRenderer)},setCapInsetProgressBarRenderer:function($capInsets$$){if($capInsets$$){var $locInsets$$=this._capInsetsProgressBarRenderer;
$locInsets$$.x=$capInsets$$.x;$locInsets$$.y=$capInsets$$.y;$locInsets$$.width=$capInsets$$.width;$locInsets$$.height=$capInsets$$.height;this._scale9Enabled&&this._progressBarRenderer.setCapInsets($capInsets$$)}},getCapInsetsProgressBarRenderer:function(){return cc.rect(this._capInsetsProgressBarRenderer)},loadSlidBallTextures:function($normal$$,$pressed$$,$disabled$$,$texType$$){this.loadSlidBallTextureNormal($normal$$,$texType$$);this.loadSlidBallTexturePressed($pressed$$,$texType$$);this.loadSlidBallTextureDisabled($disabled$$,
$texType$$)},loadSlidBallTextureNormal:function($normal$$,$texType$$){if($normal$$){$texType$$=$texType$$||ccui.Widget.LOCAL_TEXTURE;this._slidBallNormalTextureFile=$normal$$;this._ballNTexType=$texType$$;var $self$$=this;this._slidBallNormalRenderer.texture&&this._slidBallNormalRenderer.texture.isLoaded()||this._slidBallNormalRenderer.addEventListener("load",function(){$self$$._updateChildrenDisplayedRGBA()});switch(this._ballNTexType){case ccui.Widget.LOCAL_TEXTURE:this._slidBallNormalRenderer.initWithFile($normal$$);
break;case ccui.Widget.PLIST_TEXTURE:this._slidBallNormalRenderer.initWithSpriteFrameName($normal$$)}this._updateChildrenDisplayedRGBA()}},loadSlidBallTexturePressed:function($pressed$$,$texType$$){if($pressed$$){$texType$$=$texType$$||ccui.Widget.LOCAL_TEXTURE;this._slidBallPressedTextureFile=$pressed$$;this._ballPTexType=$texType$$;var $self$$=this;this._slidBallPressedRenderer.texture&&this._slidBallPressedRenderer.texture.isLoaded()||this._slidBallPressedRenderer.addEventListener("load",function(){$self$$._updateChildrenDisplayedRGBA()});
switch(this._ballPTexType){case ccui.Widget.LOCAL_TEXTURE:this._slidBallPressedRenderer.initWithFile($pressed$$);break;case ccui.Widget.PLIST_TEXTURE:this._slidBallPressedRenderer.initWithSpriteFrameName($pressed$$)}this._updateChildrenDisplayedRGBA()}},loadSlidBallTextureDisabled:function($disabled$$,$texType$$){if($disabled$$){$texType$$=$texType$$||ccui.Widget.LOCAL_TEXTURE;this._slidBallDisabledTextureFile=$disabled$$;this._ballDTexType=$texType$$;var $self$$=this;this._slidBallDisabledRenderer.texture&&
this._slidBallDisabledRenderer.texture.isLoaded()||this._slidBallDisabledRenderer.addEventListener("load",function(){$self$$._updateChildrenDisplayedRGBA()});switch(this._ballDTexType){case ccui.Widget.LOCAL_TEXTURE:this._slidBallDisabledRenderer.initWithFile($disabled$$);break;case ccui.Widget.PLIST_TEXTURE:this._slidBallDisabledRenderer.initWithSpriteFrameName($disabled$$)}this._updateChildrenDisplayedRGBA()}},setPercent:function($dis$$1_percent$$){100<$dis$$1_percent$$&&($dis$$1_percent$$=100);
0>$dis$$1_percent$$&&($dis$$1_percent$$=0);this._percent=$dis$$1_percent$$;$dis$$1_percent$$=$dis$$1_percent$$/100*this._barLength;this._slidBallRenderer.setPosition($dis$$1_percent$$,this._contentSize.height/2);if(this._scale9Enabled)this._progressBarRenderer.setPreferredSize(cc.size($dis$$1_percent$$,this._progressBarTextureSize.height));else{var $spriteRenderer$$=this._progressBarRenderer,$rect$$=$spriteRenderer$$.getTextureRect();$spriteRenderer$$.setTextureRect(cc.rect($rect$$.x,$rect$$.y,$dis$$1_percent$$,
$rect$$.height),$spriteRenderer$$.isTextureRectRotated())}},hitTest:function($nsp_pt$$){$nsp_pt$$=this._slidBallNormalRenderer.convertToNodeSpace($nsp_pt$$);var $ballRect_ballSize$$=this._slidBallNormalRenderer.getContentSize(),$ballRect_ballSize$$=cc.rect(0,0,$ballRect_ballSize$$.width,$ballRect_ballSize$$.height);return $nsp_pt$$.x>=$ballRect_ballSize$$.x&&$nsp_pt$$.x<=$ballRect_ballSize$$.x+$ballRect_ballSize$$.width&&$nsp_pt$$.y>=$ballRect_ballSize$$.y&&$nsp_pt$$.y<=$ballRect_ballSize$$.y+$ballRect_ballSize$$.height},
onTouchBegan:function($touch$$,$event$$){var $pass$$=ccui.Widget.prototype.onTouchBegan.call(this,$touch$$,$event$$);if(this._hit){var $nsp$$=this.convertToNodeSpace(this._touchBeganPosition);this.setPercent(this._getPercentWithBallPos($nsp$$.x));this._percentChangedEvent()}return $pass$$},onTouchMoved:function($touch$$,$event$$){var $nsp$$2_touchPoint$$=$touch$$.getLocation(),$nsp$$2_touchPoint$$=this.convertToNodeSpace($nsp$$2_touchPoint$$);this.setPercent(this._getPercentWithBallPos($nsp$$2_touchPoint$$.x));
this._percentChangedEvent()},onTouchEnded:function($touch$$,$event$$){ccui.Widget.prototype.onTouchEnded.call(this,$touch$$,$event$$)},onTouchCancelled:function($touch$$,$event$$){ccui.Widget.prototype.onTouchCancelled.call(this,$touch$$,$event$$)},_getPercentWithBallPos:function($px$$){return $px$$/this._barLength*100},addEventListenerSlider:function($selector$$,$target$$){this.addEventListener($selector$$,$target$$)},addEventListener:function($selector$$,$target$$){this._sliderEventSelector=$selector$$;
this._sliderEventListener=$target$$},_percentChangedEvent:function(){this._sliderEventSelector&&(this._sliderEventListener?this._sliderEventSelector.call(this._sliderEventListener,this,ccui.Slider.EVENT_PERCENT_CHANGED):this._sliderEventSelector(this,ccui.Slider.EVENT_PERCENT_CHANGED))},getPercent:function(){return this._percent},_onSizeChanged:function(){ccui.Widget.prototype._onSizeChanged.call(this);this._progressBarRendererDirty=this._barRendererAdaptDirty=!0},_adaptRenderers:function(){this._barRendererAdaptDirty&&
(this._barRendererScaleChangedWithSize(),this._barRendererAdaptDirty=!1);this._progressBarRendererDirty&&(this._progressBarRendererScaleChangedWithSize(),this._progressBarRendererDirty=!1)},getVirtualRendererSize:function(){return this._barRenderer.getContentSize()},getVirtualRenderer:function(){return this._barRenderer},_barRendererScaleChangedWithSize:function(){if(this._ignoreSize)this._barRenderer.setScale(1),this._barLength=this._contentSize.width;else if(this._barLength=this._contentSize.width,
this._scale9Enabled)this._barRenderer.setPreferredSize(this._contentSize);else{var $btextureSize$$=this._barRenderer.getContentSize();if(0>=$btextureSize$$.width||0>=$btextureSize$$.height){this._barRenderer.setScale(1);return}var $bscaleY$$=this._contentSize.height/$btextureSize$$.height;this._barRenderer.setScaleX(this._contentSize.width/$btextureSize$$.width);this._barRenderer.setScaleY($bscaleY$$)}this._barRenderer.setPosition(this._contentSize.width/2,this._contentSize.height/2);this.setPercent(this._percent)},
_progressBarRendererScaleChangedWithSize:function(){if(this._ignoreSize){if(!this._scale9Enabled){var $pscaleY_ptextureSize$$=this._progressBarTextureSize,$pscaleX$$=this._contentSize.width/$pscaleY_ptextureSize$$.width,$pscaleY_ptextureSize$$=this._contentSize.height/$pscaleY_ptextureSize$$.height;this._progressBarRenderer.setScaleX($pscaleX$$);this._progressBarRenderer.setScaleY($pscaleY_ptextureSize$$)}}else if(this._scale9Enabled)this._progressBarRenderer.setPreferredSize(this._contentSize),this._progressBarTextureSize=
this._progressBarRenderer.getContentSize();else{$pscaleY_ptextureSize$$=this._progressBarTextureSize;if(0>=$pscaleY_ptextureSize$$.width||0>=$pscaleY_ptextureSize$$.height){this._progressBarRenderer.setScale(1);return}$pscaleX$$=this._contentSize.width/$pscaleY_ptextureSize$$.width;$pscaleY_ptextureSize$$=this._contentSize.height/$pscaleY_ptextureSize$$.height;this._progressBarRenderer.setScaleX($pscaleX$$);this._progressBarRenderer.setScaleY($pscaleY_ptextureSize$$)}this._progressBarRenderer.setPosition(0,
this._contentSize.height/2);this.setPercent(this._percent)},_onPressStateChangedToNormal:function(){this._slidBallNormalRenderer.setVisible(!0);this._slidBallPressedRenderer.setVisible(!1);this._slidBallDisabledRenderer.setVisible(!1)},_onPressStateChangedToPressed:function(){this._slidBallNormalRenderer.setVisible(!1);this._slidBallPressedRenderer.setVisible(!0);this._slidBallDisabledRenderer.setVisible(!1)},_onPressStateChangedToDisabled:function(){this._slidBallNormalRenderer.setVisible(!1);this._slidBallPressedRenderer.setVisible(!1);
this._slidBallDisabledRenderer.setVisible(!0)},getDescription:function(){return"Slider"},_createCloneInstance:function(){return new ccui.Slider},_copySpecialProperties:function($slider$$){this._prevIgnoreSize=$slider$$._prevIgnoreSize;this.setScale9Enabled($slider$$._scale9Enabled);this.loadBarTexture($slider$$._textureFile,$slider$$._barTexType);this.loadProgressBarTexture($slider$$._progressBarTextureFile,$slider$$._progressBarTexType);this.loadSlidBallTextureNormal($slider$$._slidBallNormalTextureFile,
$slider$$._ballNTexType);this.loadSlidBallTexturePressed($slider$$._slidBallPressedTextureFile,$slider$$._ballPTexType);this.loadSlidBallTextureDisabled($slider$$._slidBallDisabledTextureFile,$slider$$._ballDTexType);this.setPercent($slider$$.getPercent());this._sliderEventListener=$slider$$._sliderEventListener;this._sliderEventSelector=$slider$$._sliderEventSelector}});_p=ccui.Slider.prototype;_p.percent;cc.defineGetterSetter(_p,"percent",_p.getPercent,_p.setPercent);_p=null;
ccui.Slider.create=function $ccui$Slider$create$(){return new ccui.Slider};ccui.Slider.EVENT_PERCENT_CHANGED=0;ccui.Slider.BASEBAR_RENDERER_ZORDER=-3;ccui.Slider.PROGRESSBAR_RENDERER_ZORDER=-2;ccui.Slider.BALL_RENDERER_ZORDER=-1;
ccui.Text=ccui.Widget.extend({_touchScaleChangeEnabled:!1,_normalScaleValueX:1,_normalScaleValueY:1,_fontName:"Thonburi",_fontSize:10,_onSelectedScaleOffset:.5,_labelRenderer:"",_textAreaSize:null,_textVerticalAlignment:0,_textHorizontalAlignment:0,_className:"Text",_type:null,_labelRendererAdaptDirty:!0,ctor:function($textContent$$,$fontName$$,$fontSize$$){this._type=ccui.Text.Type.SYSTEM;this._textAreaSize=cc.size(0,0);ccui.Widget.prototype.ctor.call(this);void 0!==$fontSize$$&&this.init($textContent$$,
$fontName$$,$fontSize$$)},init:function($textContent$$,$fontName$$,$fontSize$$){return ccui.Widget.prototype.init.call(this)?(0<arguments.length&&(this.setString($textContent$$),this.setFontName($fontName$$),this.setFontSize($fontSize$$)),!0):!1},_initRenderer:function(){this._labelRenderer=new cc.LabelTTF;this.addProtectedChild(this._labelRenderer,ccui.Text.RENDERER_ZORDER,-1)},setText:function($text$$){cc.log("Please use the setString");this.setString($text$$)},setString:function($text$$){this._labelRenderer.setString($text$$);
this._updateContentSizeWithTextureSize(this._labelRenderer.getContentSize());this._labelRendererAdaptDirty=!0},getStringValue:function(){cc.log("Please use the getString");return this._labelRenderer.getString()},getString:function(){return this._labelRenderer.getString()},getStringLength:function(){return this._labelRenderer.getStringLength()},setFontSize:function($size$$){this._labelRenderer.setFontSize($size$$);this._fontSize=$size$$;this._updateContentSizeWithTextureSize(this._labelRenderer.getContentSize());
this._labelRendererAdaptDirty=!0},getFontSize:function(){return this._fontSize},setFontName:function($name$$){this._fontName=$name$$;this._labelRenderer.setFontName($name$$);this._updateContentSizeWithTextureSize(this._labelRenderer.getContentSize());this._labelRendererAdaptDirty=!0},getFontName:function(){return this._fontName},_setFont:function($font$$){var $res$$=cc.LabelTTF._fontStyleRE.exec($font$$);$res$$&&(this._fontSize=parseInt($res$$[1]),this._fontName=$res$$[2],this._labelRenderer._setFont($font$$),
this._labelScaleChangedWithSize())},_getFont:function(){return this._labelRenderer._getFont()},getType:function(){return this._type},setTextAreaSize:function($size$$){this._labelRenderer.setDimensions($size$$);this._updateContentSizeWithTextureSize(this._labelRenderer.getContentSize());this._labelRendererAdaptDirty=!0},getTextAreaSize:function(){return this._labelRenderer.getDimensions()},setTextHorizontalAlignment:function($alignment$$){this._labelRenderer.setHorizontalAlignment($alignment$$);this._updateContentSizeWithTextureSize(this._labelRenderer.getContentSize());
this._labelRendererAdaptDirty=!0},getTextHorizontalAlignment:function(){return this._labelRenderer.getHorizontalAlignment()},setTextVerticalAlignment:function($alignment$$){this._labelRenderer.setVerticalAlignment($alignment$$);this._updateContentSizeWithTextureSize(this._labelRenderer.getContentSize());this._labelRendererAdaptDirty=!0},getTextVerticalAlignment:function(){return this._labelRenderer.getVerticalAlignment()},setTouchScaleChangeEnabled:function($enable$$){this._touchScaleChangeEnabled=
$enable$$},isTouchScaleChangeEnabled:function(){return this._touchScaleChangeEnabled},_onPressStateChangedToNormal:function(){this._touchScaleChangeEnabled&&(this._labelRenderer.setScaleX(this._normalScaleValueX),this._labelRenderer.setScaleY(this._normalScaleValueY))},_onPressStateChangedToPressed:function(){this._touchScaleChangeEnabled&&(this._labelRenderer.setScaleX(this._normalScaleValueX+this._onSelectedScaleOffset),this._labelRenderer.setScaleY(this._normalScaleValueY+this._onSelectedScaleOffset))},
_onPressStateChangedToDisabled:function(){},_updateFlippedX:function(){this._flippedX?this._labelRenderer.setScaleX(-1):this._labelRenderer.setScaleX(1)},_updateFlippedY:function(){this._flippedY?this._labelRenderer.setScaleY(-1):this._labelRenderer.setScaleY(1)},_onSizeChanged:function(){ccui.Widget.prototype._onSizeChanged.call(this);this._labelRendererAdaptDirty=!0},_adaptRenderers:function(){this._labelRendererAdaptDirty&&(this._labelScaleChangedWithSize(),this._labelRendererAdaptDirty=!1)},getVirtualRendererSize:function(){return this._labelRenderer.getContentSize()},
getVirtualRenderer:function(){return this._labelRenderer},_labelScaleChangedWithSize:function(){var $locContentSize$$=this._contentSize;if(this._ignoreSize)this._labelRenderer.setDimensions(0,0),this._labelRenderer.setScale(1),this._normalScaleValueX=this._normalScaleValueY=1;else{this._labelRenderer.setDimensions(cc.size($locContentSize$$.width,$locContentSize$$.height));var $scaleY$$46_textureSize$$=this._labelRenderer.getContentSize();if(0>=$scaleY$$46_textureSize$$.width||0>=$scaleY$$46_textureSize$$.height){this._labelRenderer.setScale(1);
return}var $scaleX$$=$locContentSize$$.width/$scaleY$$46_textureSize$$.width,$scaleY$$46_textureSize$$=$locContentSize$$.height/$scaleY$$46_textureSize$$.height;this._labelRenderer.setScaleX($scaleX$$);this._labelRenderer.setScaleY($scaleY$$46_textureSize$$);this._normalScaleValueX=$scaleX$$;this._normalScaleValueY=$scaleY$$46_textureSize$$}this._labelRenderer.setPosition($locContentSize$$.width/2,$locContentSize$$.height/2)},getDescription:function(){return"Label"},enableShadow:function($shadowColor$$,
$offset$$,$blurRadius$$){this._labelRenderer.enableShadow($shadowColor$$,$offset$$,$blurRadius$$)},enableOutline:function($outlineColor$$,$outlineSize$$){this._labelRenderer.enableStroke($outlineColor$$,$outlineSize$$)},enableGlow:function($glowColor$$){this._type==ccui.Text.Type.TTF&&this._labelRenderer.enableGlow($glowColor$$)},disableEffect:function(){this._labelRenderer.disableEffect&&this._labelRenderer.disableEffect()},_createCloneInstance:function(){return new ccui.Text},_copySpecialProperties:function($uiLabel$$){$uiLabel$$ instanceof
ccui.Text&&(this.setFontName($uiLabel$$._fontName),this.setFontSize($uiLabel$$.getFontSize()),this.setString($uiLabel$$.getString()),this.setTouchScaleChangeEnabled($uiLabel$$.touchScaleEnabled),this.setTextAreaSize($uiLabel$$._textAreaSize),this.setTextHorizontalAlignment($uiLabel$$._labelRenderer.getHorizontalAlignment()),this.setTextVerticalAlignment($uiLabel$$._labelRenderer.getVerticalAlignment()))},_setBoundingWidth:function($value$$){this._textAreaSize.width=$value$$;this._labelRenderer._setBoundingWidth($value$$);
this._labelScaleChangedWithSize()},_setBoundingHeight:function($value$$){this._textAreaSize.height=$value$$;this._labelRenderer._setBoundingHeight($value$$);this._labelScaleChangedWithSize()},_getBoundingWidth:function(){return this._textAreaSize.width},_getBoundingHeight:function(){return this._textAreaSize.height},_transformForRenderer:function(){this._adaptRenderers();cc._renderType===cc._RENDER_TYPE_CANVAS?cc.Node.prototype.transform.call(this):cc.ProtectedNode.prototype._transformForRenderer.call(this);
this._labelRenderer._transformForRenderer()}});_p=ccui.Text.prototype;_p.boundingWidth;cc.defineGetterSetter(_p,"boundingWidth",_p._getBoundingWidth,_p._setBoundingWidth);_p.boundingHeight;cc.defineGetterSetter(_p,"boundingHeight",_p._getBoundingHeight,_p._setBoundingHeight);_p.string;cc.defineGetterSetter(_p,"string",_p.getString,_p.setString);_p.stringLength;cc.defineGetterSetter(_p,"stringLength",_p.getStringLength);_p.font;cc.defineGetterSetter(_p,"font",_p._getFont,_p._setFont);_p.fontSize;
cc.defineGetterSetter(_p,"fontSize",_p.getFontSize,_p.setFontSize);_p.fontName;cc.defineGetterSetter(_p,"fontName",_p.getFontName,_p.setFontName);_p.textAlign;cc.defineGetterSetter(_p,"textAlign",_p.getTextHorizontalAlignment,_p.setTextHorizontalAlignment);_p.verticalAlign;cc.defineGetterSetter(_p,"verticalAlign",_p.getTextVerticalAlignment,_p.setTextVerticalAlignment);_p=null;
ccui.Label=ccui.Text.create=function $ccui$Text$create$($textContent$$,$fontName$$,$fontSize$$){return new ccui.Text($textContent$$,$fontName$$,$fontSize$$)};ccui.Text.RENDERER_ZORDER=-1;ccui.Text.Type={SYSTEM:0,TTF:1};
ccui.TextAtlas=ccui.Widget.extend({_labelAtlasRenderer:null,_stringValue:"",_charMapFileName:"",_itemWidth:0,_itemHeight:0,_startCharMap:"",_className:"TextAtlas",_labelAtlasRendererAdaptDirty:null,ctor:function($stringValue$$,$charMapFile$$,$itemWidth$$,$itemHeight$$,$startCharMap$$){ccui.Widget.prototype.ctor.call(this);void 0!==$startCharMap$$&&this.setProperty($stringValue$$,$charMapFile$$,$itemWidth$$,$itemHeight$$,$startCharMap$$)},_initRenderer:function(){this._labelAtlasRenderer=new cc.LabelAtlas;
this._labelAtlasRenderer.setAnchorPoint(cc.p(.5,.5));this.addProtectedChild(this._labelAtlasRenderer,ccui.TextAtlas.RENDERER_ZORDER,-1)},setProperty:function($stringValue$$,$charMapFile$$,$itemWidth$$,$itemHeight$$,$startCharMap$$){this._stringValue=$stringValue$$;this._charMapFileName=$charMapFile$$;this._itemWidth=$itemWidth$$;this._itemHeight=$itemHeight$$;this._startCharMap=$startCharMap$$;this._labelAtlasRenderer.initWithString($stringValue$$,this._charMapFileName,this._itemWidth,this._itemHeight,
this._startCharMap[0]);this._updateContentSizeWithTextureSize(this._labelAtlasRenderer.getContentSize());this._labelAtlasRendererAdaptDirty=!0},setString:function($value$$){this._stringValue=$value$$;this._labelAtlasRenderer.setString($value$$);this._updateContentSizeWithTextureSize(this._labelAtlasRenderer.getContentSize());this._labelAtlasRendererAdaptDirty=!0},setStringValue:function($value$$){cc.log("Please use the setString");this.setString($value$$)},getStringValue:function(){cc.log("Please use the getString");
return this.getString()},getString:function(){return this._labelAtlasRenderer.getString()},getStringLength:function(){return this._labelAtlasRenderer.getStringLength()},_onSizeChanged:function(){ccui.Widget.prototype._onSizeChanged.call(this);this._labelAtlasRendererAdaptDirty=!0},_adaptRenderers:function(){this._labelAtlasRendererAdaptDirty&&(this._labelAtlasScaleChangedWithSize(),this._labelAtlasRendererAdaptDirty=!1)},getVirtualRendererSize:function(){return this._labelAtlasRenderer.getContentSize()},
getVirtualRenderer:function(){return this._labelAtlasRenderer},_labelAtlasScaleChangedWithSize:function(){var $locRenderer$$=this._labelAtlasRenderer;if(this._ignoreSize)$locRenderer$$.setScale(1);else{var $textureSize$$=$locRenderer$$.getContentSize();if(0>=$textureSize$$.width||0>=$textureSize$$.height){$locRenderer$$.setScale(1);return}$locRenderer$$.setScaleX(this._contentSize.width/$textureSize$$.width);$locRenderer$$.setScaleY(this._contentSize.height/$textureSize$$.height)}$locRenderer$$.setPosition(this._contentSize.width/
2,this._contentSize.height/2)},getDescription:function(){return"LabelAtlas"},_copySpecialProperties:function($labelAtlas$$){$labelAtlas$$&&this.setProperty($labelAtlas$$._stringValue,$labelAtlas$$._charMapFileName,$labelAtlas$$._itemWidth,$labelAtlas$$._itemHeight,$labelAtlas$$._startCharMap)},_createCloneInstance:function(){return new ccui.TextAtlas}});_p=ccui.TextAtlas.prototype;_p.string;cc.defineGetterSetter(_p,"string",_p.getString,_p.setString);_p=null;
ccui.TextAtlas.create=function $ccui$TextAtlas$create$($stringValue$$,$charMapFile$$,$itemWidth$$,$itemHeight$$,$startCharMap$$){return new ccui.TextAtlas($stringValue$$,$charMapFile$$,$itemWidth$$,$itemHeight$$,$startCharMap$$)};ccui.TextAtlas.RENDERER_ZORDER=-1;
ccui.LabelBMFont=ccui.TextBMFont=ccui.Widget.extend({_labelBMFontRenderer:null,_fntFileHasInit:!1,_fntFileName:"",_stringValue:"",_className:"TextBMFont",_labelBMFontRendererAdaptDirty:!0,ctor:function($text$$,$filename$$){ccui.Widget.prototype.ctor.call(this);void 0!=$filename$$&&(this.setFntFile($filename$$),this.setString($text$$))},_initRenderer:function(){this._labelBMFontRenderer=new cc.LabelBMFont;this.addProtectedChild(this._labelBMFontRenderer,ccui.TextBMFont.RENDERER_ZORDER,-1)},setFntFile:function($fileName$$13_locRenderer$$){if($fileName$$13_locRenderer$$){var $_self$$=
this;$_self$$._fntFileName=$fileName$$13_locRenderer$$;$_self$$._fntFileHasInit=!0;$_self$$._labelBMFontRenderer.initWithString(this._stringValue,$fileName$$13_locRenderer$$);$fileName$$13_locRenderer$$=$_self$$._labelBMFontRenderer;$fileName$$13_locRenderer$$._textureLoaded||$fileName$$13_locRenderer$$.addEventListener("load",function(){$_self$$.updateSizeAndPosition()})}},setText:function($value$$){cc.log("Please use the setString");this.setString($value$$)},setString:function($value$$){this._stringValue=
$value$$;this._fntFileHasInit&&(this._labelBMFontRenderer.setString($value$$),this._updateContentSizeWithTextureSize(this._labelBMFontRenderer.getContentSize()),this._labelBMFontRendererAdaptDirty=!0)},getString:function(){return this._stringValue},getStringLength:function(){return this._labelBMFontRenderer.getStringLength()},_onSizeChanged:function(){ccui.Widget.prototype._onSizeChanged.call(this);this._labelBMFontRendererAdaptDirty=!0},_adaptRenderers:function(){this._labelBMFontRendererAdaptDirty&&
(this._labelBMFontScaleChangedWithSize(),this._labelBMFontRendererAdaptDirty=!1)},getVirtualRendererSize:function(){return this._labelBMFontRenderer.getContentSize()},getVirtualRenderer:function(){return this._labelBMFontRenderer},_labelBMFontScaleChangedWithSize:function(){var $locRenderer$$=this._labelBMFontRenderer;if(this._ignoreSize)$locRenderer$$.setScale(1);else{var $textureSize$$=$locRenderer$$.getContentSize();if(0>=$textureSize$$.width||0>=$textureSize$$.height){$locRenderer$$.setScale(1);
return}$locRenderer$$.setScaleX(this._contentSize.width/$textureSize$$.width);$locRenderer$$.setScaleY(this._contentSize.height/$textureSize$$.height)}$locRenderer$$.setPosition(this._contentSize.width/2,this._contentSize.height/2)},getDescription:function(){return"TextBMFont"},_createCloneInstance:function(){return new ccui.TextBMFont},_copySpecialProperties:function($labelBMFont$$){this.setFntFile($labelBMFont$$._fntFileName);this.setString($labelBMFont$$._stringValue)}});_p=ccui.TextBMFont.prototype;
_p.string;cc.defineGetterSetter(_p,"string",_p.getString,_p.setString);_p=null;ccui.TextBMFont.create=function $ccui$TextBMFont$create$($text$$,$filename$$){return new ccui.TextBMFont($text$$,$filename$$)};ccui.TextBMFont.RENDERER_ZORDER=-1;
ccui._TextFieldRenderer=cc.TextFieldTTF.extend({_maxLengthEnabled:!1,_maxLength:0,_passwordEnabled:!1,_passwordStyleText:"",_attachWithIME:!1,_detachWithIME:!1,_insertText:!1,_deleteBackward:!1,_className:"_TextFieldRenderer",_textFieldRendererAdaptDirty:!0,ctor:function(){cc.TextFieldTTF.prototype.ctor.call(this);this._maxLengthEnabled=!1;this._maxLength=0;this._passwordEnabled=!1;this._passwordStyleText="*";this._deleteBackward=this._insertText=this._detachWithIME=this._attachWithIME=!1},onEnter:function(){cc.TextFieldTTF.prototype.onEnter.call(this);
cc.TextFieldTTF.prototype.setDelegate.call(this,this)},onTextFieldAttachWithIME:function($sender$$){this.setAttachWithIME(!0);return!1},onTextFieldInsertText:function($sender$$,$text$$,$len$$){if(1==$len$$&&"\n"==$text$$)return!1;this.setInsertText(!0);return this._maxLengthEnabled&&cc.TextFieldTTF.prototype.getCharCount.call(this)>=this._maxLength},onTextFieldDeleteBackward:function($sender$$,$delText$$,$nLen$$){this.setDeleteBackward(!0);return!1},onTextFieldDetachWithIME:function($sender$$){this.setDetachWithIME(!0);
return!1},insertText:function($text$$,$len$$){"\n"!=$text$$&&this._maxLengthEnabled&&this.getString().length>=this._maxLength?this._passwordEnabled&&this.setPasswordText(this.getString()):(cc.TextFieldTTF.prototype.insertText.call(this,$text$$,$len$$),this._passwordEnabled&&0<cc.TextFieldTTF.prototype.getCharCount.call(this)&&this.setPasswordText(this.getString()))},deleteBackward:function(){cc.TextFieldTTF.prototype.deleteBackward.call(this);0<cc.TextFieldTTF.prototype.getCharCount.call(this)&&this._passwordEnabled&&
this.setPasswordText(this._inputText)},openIME:function(){cc.TextFieldTTF.prototype.attachWithIME.call(this)},closeIME:function(){cc.TextFieldTTF.prototype.detachWithIME.call(this)},setMaxLengthEnabled:function($enable$$){this._maxLengthEnabled=$enable$$},isMaxLengthEnabled:function(){return this._maxLengthEnabled},setMaxLength:function($length$$){this._maxLength=$length$$},getMaxLength:function(){return this._maxLength},getCharCount:function(){return cc.TextFieldTTF.prototype.getCharCount.call(this)},
setPasswordEnabled:function($enable$$){this._passwordEnabled=$enable$$},isPasswordEnabled:function(){return this._passwordEnabled},setPasswordStyleText:function($styleText$$){if(!(1<$styleText$$.length)){var $header$$=$styleText$$.charCodeAt(0);33>$header$$||126<$header$$||(this._passwordStyleText=$styleText$$)}},setPasswordText:function($max$$7_text$$){var $tempStr$$="",$i$$423_text_count$$=$max$$7_text$$.length;$max$$7_text$$=$i$$423_text_count$$;this._maxLengthEnabled&&$i$$423_text_count$$>this._maxLength&&
($max$$7_text$$=this._maxLength);for($i$$423_text_count$$=0;$i$$423_text_count$$<$max$$7_text$$;++$i$$423_text_count$$)$tempStr$$+=this._passwordStyleText;cc.LabelTTF.prototype.setString.call(this,$tempStr$$)},setAttachWithIME:function($attach$$){this._attachWithIME=$attach$$},getAttachWithIME:function(){return this._attachWithIME},setDetachWithIME:function($detach$$){this._detachWithIME=$detach$$},getDetachWithIME:function(){return this._detachWithIME},setInsertText:function($insert$$){this._insertText=
$insert$$},getInsertText:function(){return this._insertText},setDeleteBackward:function($deleteBackward$$){this._deleteBackward=$deleteBackward$$},getDeleteBackward:function(){return this._deleteBackward},onDraw:function($sender$$){return!1}});
ccui._TextFieldRenderer.create=function $ccui$_TextFieldRenderer$create$($placeholder$$,$fontName$$,$fontSize$$){var $ret$$=new ccui._TextFieldRenderer;return $ret$$&&$ret$$.initWithString("",$fontName$$,$fontSize$$)?($placeholder$$&&$ret$$.setPlaceHolder($placeholder$$),$ret$$):null};
ccui.TextField=ccui.Widget.extend({_textFieldRenderer:null,_touchWidth:0,_touchHeight:0,_useTouchArea:!1,_textFieldEventListener:null,_textFieldEventSelector:null,_passwordStyleText:"",_textFieldRendererAdaptDirty:!0,_fontName:"",_fontSize:12,ctor:function($placeholder$$,$fontName$$,$fontSize$$){ccui.Widget.prototype.ctor.call(this);$placeholder$$&&this.setPlaceHolder($placeholder$$);$fontName$$&&this.setFontName($fontName$$);$fontSize$$&&this.setFontSize($fontSize$$)},init:function(){return ccui.Widget.prototype.init.call(this)?
(this.setTouchEnabled(!0),!0):!1},onEnter:function(){ccui.Widget.prototype.onEnter.call(this);this.scheduleUpdate()},_initRenderer:function(){this._textFieldRenderer=ccui._TextFieldRenderer.create("input words here","Thonburi",20);this.addProtectedChild(this._textFieldRenderer,ccui.TextField.RENDERER_ZORDER,-1)},setTouchSize:function($size$$){this._touchWidth=$size$$.width;this._touchHeight=$size$$.height},setTouchAreaEnabled:function($enable$$){this._useTouchArea=$enable$$},hitTest:function($nsp$$3_pt$$){if(this._useTouchArea){$nsp$$3_pt$$=
this.convertToNodeSpace($nsp$$3_pt$$);var $bb$$=cc.rect(-this._touchWidth*this._anchorPoint.x,-this._touchHeight*this._anchorPoint.y,this._touchWidth,this._touchHeight);return $nsp$$3_pt$$.x>=$bb$$.x&&$nsp$$3_pt$$.x<=$bb$$.x+$bb$$.width&&$nsp$$3_pt$$.y>=$bb$$.y&&$nsp$$3_pt$$.y<=$bb$$.y+$bb$$.height}return ccui.Widget.prototype.hitTest.call(this,$nsp$$3_pt$$)},getTouchSize:function(){return cc.size(this._touchWidth,this._touchHeight)},setText:function($text$$){cc.log("Please use the setString");this.setString($text$$)},
setString:function($text$$){null!=$text$$&&($text$$=String($text$$),this.isMaxLengthEnabled()&&($text$$=$text$$.substr(0,this.getMaxLength())),this.isPasswordEnabled()?(this._textFieldRenderer.setPasswordText($text$$),this._textFieldRenderer.setString(""),this._textFieldRenderer.insertText($text$$,$text$$.length)):this._textFieldRenderer.setString($text$$),this._textFieldRendererAdaptDirty=!0,this._updateContentSizeWithTextureSize(this._textFieldRenderer.getContentSize()))},setPlaceHolder:function($value$$){this._textFieldRenderer.setPlaceHolder($value$$);
this._textFieldRendererAdaptDirty=!0;this._updateContentSizeWithTextureSize(this._textFieldRenderer.getContentSize())},getPlaceHolder:function(){return this._textFieldRenderer.getPlaceHolder()},getPlaceHolderColor:function(){return this._textFieldRenderer.getPlaceHolderColor()},setPlaceHolderColor:function($color$$){this._textFieldRenderer.setColorSpaceHolder($color$$)},setTextColor:function($textColor$$){this._textFieldRenderer.setTextColor($textColor$$)},setFontSize:function($size$$){this._textFieldRenderer.setFontSize($size$$);
this._fontSize=$size$$;this._textFieldRendererAdaptDirty=!0;this._updateContentSizeWithTextureSize(this._textFieldRenderer.getContentSize())},getFontSize:function(){return this._fontSize},setFontName:function($name$$){this._textFieldRenderer.setFontName($name$$);this._fontName=$name$$;this._textFieldRendererAdaptDirty=!0;this._updateContentSizeWithTextureSize(this._textFieldRenderer.getContentSize())},getFontName:function(){return this._fontName},didNotSelectSelf:function(){this._textFieldRenderer.detachWithIME()},
getStringValue:function(){cc.log("Please use the getString");return this.getString()},getString:function(){return this._textFieldRenderer.getString()},getStringLength:function(){return this._textFieldRenderer.getStringLength()},onTouchBegan:function($touchPoint$$,$unusedEvent$$){var $self$$=this,$pass$$=ccui.Widget.prototype.onTouchBegan.call($self$$,$touchPoint$$,$unusedEvent$$);$self$$._hit&&setTimeout(function(){$self$$._textFieldRenderer.attachWithIME()},0);return $pass$$},setMaxLengthEnabled:function($enable$$){this._textFieldRenderer.setMaxLengthEnabled($enable$$)},
isMaxLengthEnabled:function(){return this._textFieldRenderer.isMaxLengthEnabled()},setMaxLength:function($length$$){this._textFieldRenderer.setMaxLength($length$$);this.setString(this.getString())},getMaxLength:function(){return this._textFieldRenderer.getMaxLength()},setPasswordEnabled:function($enable$$){this._textFieldRenderer.setPasswordEnabled($enable$$)},isPasswordEnabled:function(){return this._textFieldRenderer.isPasswordEnabled()},setPasswordStyleText:function($styleText$$){this._textFieldRenderer.setPasswordStyleText($styleText$$);
this._passwordStyleText=$styleText$$;this.setString(this.getString())},getPasswordStyleText:function(){return this._passwordStyleText},update:function($dt$$){this.getAttachWithIME()&&(this._attachWithIMEEvent(),this.setAttachWithIME(!1));this.getDetachWithIME()&&(this._detachWithIMEEvent(),this.setDetachWithIME(!1));this.getInsertText()&&(this._insertTextEvent(),this.setInsertText(!1),this._textFieldRendererAdaptDirty=!0,this._updateContentSizeWithTextureSize(this._textFieldRenderer.getContentSize()));
this.getDeleteBackward()&&(this._deleteBackwardEvent(),this.setDeleteBackward(!1),this._textFieldRendererAdaptDirty=!0,this._updateContentSizeWithTextureSize(this._textFieldRenderer.getContentSize()))},getAttachWithIME:function(){return this._textFieldRenderer.getAttachWithIME()},setAttachWithIME:function($attach$$){this._textFieldRenderer.setAttachWithIME($attach$$)},getDetachWithIME:function(){return this._textFieldRenderer.getDetachWithIME()},setDetachWithIME:function($detach$$){this._textFieldRenderer.setDetachWithIME($detach$$)},
getInsertText:function(){return this._textFieldRenderer.getInsertText()},setInsertText:function($insertText$$){this._textFieldRenderer.setInsertText($insertText$$)},getDeleteBackward:function(){return this._textFieldRenderer.getDeleteBackward()},setDeleteBackward:function($deleteBackward$$){this._textFieldRenderer.setDeleteBackward($deleteBackward$$)},_attachWithIMEEvent:function(){this._textFieldEventSelector&&(this._textFieldEventListener?this._textFieldEventSelector.call(this._textFieldEventListener,
this,ccui.TextField.EVENT_ATTACH_WITH_IME):this._textFieldEventSelector(this,ccui.TextField.EVENT_ATTACH_WITH_IME))},_detachWithIMEEvent:function(){this._textFieldEventSelector&&(this._textFieldEventListener?this._textFieldEventSelector.call(this._textFieldEventListener,this,ccui.TextField.EVENT_DETACH_WITH_IME):this._textFieldEventSelector(this,ccui.TextField.EVENT_DETACH_WITH_IME))},_insertTextEvent:function(){this._textFieldEventSelector&&(this._textFieldEventListener?this._textFieldEventSelector.call(this._textFieldEventListener,
this,ccui.TextField.EVENT_INSERT_TEXT):this._textFieldEventSelector(this,ccui.TextField.EVENT_INSERT_TEXT))},_deleteBackwardEvent:function(){this._textFieldEventSelector&&(this._textFieldEventListener?this._textFieldEventSelector.call(this._textFieldEventListener,this,ccui.TextField.EVENT_DELETE_BACKWARD):this._textFieldEventSelector(this,ccui.TextField.EVENT_DELETE_BACKWARD))},addEventListenerTextField:function($selector$$,$target$$){this.addEventListener($selector$$,$target$$)},addEventListener:function($selector$$,
$target$$){this._textFieldEventSelector=$selector$$;this._textFieldEventListener=$target$$},_onSizeChanged:function(){ccui.Widget.prototype._onSizeChanged.call(this);this._textFieldRendererAdaptDirty=!0},_adaptRenderers:function(){this._textFieldRendererAdaptDirty&&(this._textfieldRendererScaleChangedWithSize(),this._textFieldRendererAdaptDirty=!1)},_textfieldRendererScaleChangedWithSize:function(){this._ignoreSize||this._textFieldRenderer.setDimensions(this._contentSize);this._textFieldRenderer.setPosition(this._contentSize.width/
2,this._contentSize.height/2)},getVirtualRendererSize:function(){return this._textFieldRenderer.getContentSize()},getVirtualRenderer:function(){return this._textFieldRenderer},getDescription:function(){return"TextField"},attachWithIME:function(){this._textFieldRenderer.attachWithIME()},_createCloneInstance:function(){return new ccui.TextField},_copySpecialProperties:function($textField$$){this.setString($textField$$._textFieldRenderer.getString());this.setPlaceHolder($textField$$.getString());this.setFontSize($textField$$._textFieldRenderer.getFontSize());
this.setFontName($textField$$._textFieldRenderer.getFontName());this.setMaxLengthEnabled($textField$$.isMaxLengthEnabled());this.setMaxLength($textField$$.getMaxLength());this.setPasswordEnabled($textField$$.isPasswordEnabled());this.setPasswordStyleText($textField$$._passwordStyleText);this.setAttachWithIME($textField$$.getAttachWithIME());this.setDetachWithIME($textField$$.getDetachWithIME());this.setInsertText($textField$$.getInsertText());this.setDeleteBackward($textField$$.getDeleteBackward())},
setTextAreaSize:function($size$$){this.setContentSize($size$$)},setTextHorizontalAlignment:function($alignment$$){this._textFieldRenderer.setHorizontalAlignment($alignment$$)},setTextVerticalAlignment:function($alignment$$){this._textFieldRenderer.setVerticalAlignment($alignment$$)},_setFont:function($font$$){this._textFieldRenderer._setFont($font$$);this._textFieldRendererAdaptDirty=!0},_getFont:function(){return this._textFieldRenderer._getFont()},_transformForRenderer:function(){this._adaptRenderers();
cc._renderType===cc._RENDER_TYPE_CANVAS?cc.Node.prototype.transform.call(this):cc.ProtectedNode.prototype._transformForRenderer.call(this);this._textFieldRenderer._transformForRenderer()}});ccui.TextField.create=function $ccui$TextField$create$($placeholder$$,$fontName$$,$fontSize$$){return new ccui.TextField($placeholder$$,$fontName$$,$fontSize$$)};_p=ccui.TextField.prototype;_p.string;cc.defineGetterSetter(_p,"string",_p.getString,_p.setString);_p.placeHolder;
cc.defineGetterSetter(_p,"placeHolder",_p.getPlaceHolder,_p.setPlaceHolder);_p.font;cc.defineGetterSetter(_p,"font",_p._getFont,_p._setFont);_p.fontSize;cc.defineGetterSetter(_p,"fontSize",_p.getFontSize,_p.setFontSize);_p.fontName;cc.defineGetterSetter(_p,"fontName",_p.getFontName,_p.setFontName);_p.maxLengthEnabled;cc.defineGetterSetter(_p,"maxLengthEnabled",_p.isMaxLengthEnabled,_p.setMaxLengthEnabled);_p.maxLength;cc.defineGetterSetter(_p,"maxLength",_p.getMaxLength,_p.setMaxLength);_p.passwordEnabled;
cc.defineGetterSetter(_p,"passwordEnabled",_p.isPasswordEnabled,_p.setPasswordEnabled);_p=null;ccui.TextField.EVENT_ATTACH_WITH_IME=0;ccui.TextField.EVENT_DETACH_WITH_IME=1;ccui.TextField.EVENT_INSERT_TEXT=2;ccui.TextField.EVENT_DELETE_BACKWARD=3;ccui.TextField.RENDERER_ZORDER=-1;
ccui.RichElement=ccui.Class.extend({_type:0,_tag:0,_color:null,_opacity:0,ctor:function(){this._tag=this._type=0;this._color=cc.color(255,255,255,255)},init:function($tag$$,$color$$,$opacity$$){this._tag=$tag$$;this._color.r=$color$$.r;this._color.g=$color$$.g;this._color.b=$color$$.b;this._opacity=$opacity$$;this._color.a=void 0===$opacity$$?$color$$.a:$opacity$$}});
ccui.RichElementText=ccui.RichElement.extend({_text:"",_fontName:"",_fontSize:0,ctor:function($tag$$,$color$$,$opacity$$,$text$$,$fontName$$,$fontSize$$){ccui.RichElement.prototype.ctor.call(this);this._type=ccui.RichElement.TEXT;this._fontName=this._text="";this._fontSize=0;$fontSize$$&&this.init($tag$$,$color$$,$opacity$$,$text$$,$fontName$$,$fontSize$$)},init:function($tag$$,$color$$,$opacity$$,$text$$,$fontName$$,$fontSize$$){ccui.RichElement.prototype.init.call(this,$tag$$,$color$$,$opacity$$);
this._text=$text$$;this._fontName=$fontName$$;this._fontSize=$fontSize$$}});ccui.RichElementText.create=function $ccui$RichElementText$create$($tag$$,$color$$,$opacity$$,$text$$,$fontName$$,$fontSize$$){return new ccui.RichElementText($tag$$,$color$$,$opacity$$,$text$$,$fontName$$,$fontSize$$)};
ccui.RichElementImage=ccui.RichElement.extend({_filePath:"",_textureRect:null,_textureType:0,ctor:function($tag$$,$color$$,$opacity$$,$filePath$$){ccui.RichElement.prototype.ctor.call(this);this._type=ccui.RichElement.IMAGE;this._filePath="";this._textureRect=cc.rect(0,0,0,0);this._textureType=0;void 0!==$filePath$$&&this.init($tag$$,$color$$,$opacity$$,$filePath$$)},init:function($tag$$,$color$$,$opacity$$,$filePath$$){ccui.RichElement.prototype.init.call(this,$tag$$,$color$$,$opacity$$);this._filePath=
$filePath$$}});ccui.RichElementImage.create=function $ccui$RichElementImage$create$($tag$$,$color$$,$opacity$$,$filePath$$){return new ccui.RichElementImage($tag$$,$color$$,$opacity$$,$filePath$$)};
ccui.RichElementCustomNode=ccui.RichElement.extend({_customNode:null,ctor:function($tag$$,$color$$,$opacity$$,$customNode$$){ccui.RichElement.prototype.ctor.call(this);this._type=ccui.RichElement.CUSTOM;this._customNode=null;void 0!==$customNode$$&&this.init($tag$$,$color$$,$opacity$$,$customNode$$)},init:function($tag$$,$color$$,$opacity$$,$customNode$$){ccui.RichElement.prototype.init.call(this,$tag$$,$color$$,$opacity$$);this._customNode=$customNode$$}});
ccui.RichElementCustomNode.create=function $ccui$RichElementCustomNode$create$($tag$$,$color$$,$opacity$$,$customNode$$){return new ccui.RichElementCustomNode($tag$$,$color$$,$opacity$$,$customNode$$)};
ccui.RichText=ccui.Widget.extend({_formatTextDirty:!1,_richElements:null,_elementRenders:null,_leftSpaceWidth:0,_verticalSpace:0,_elementRenderersContainer:null,ctor:function(){ccui.Widget.prototype.ctor.call(this);this._formatTextDirty=!1;this._richElements=[];this._elementRenders=[];this._verticalSpace=this._leftSpaceWidth=0},_initRenderer:function(){this._elementRenderersContainer=new cc.Node;this._elementRenderersContainer.setAnchorPoint(.5,.5);this.addProtectedChild(this._elementRenderersContainer,
0,-1)},insertElement:function($element$$,$index$$){this._richElements.splice($index$$,0,$element$$);this._formatTextDirty=!0},pushBackElement:function($element$$){this._richElements.push($element$$);this._formatTextDirty=!0},removeElement:function($element$$){cc.isNumber($element$$)?this._richElements.splice($element$$,1):cc.arrayRemoveObject(this._richElements,$element$$);this._formatTextDirty=!0},formatText:function(){if(this._formatTextDirty){this._elementRenderersContainer.removeAllChildren();
this._elementRenders.length=0;var $i$$,$element$$,$locRichElements$$=this._richElements;if(this._ignoreSize)for(this._addNewLine(),$i$$=0;$i$$<$locRichElements$$.length;$i$$++){$element$$=$locRichElements$$[$i$$];var $elementRenderer$$=null;switch($element$$._type){case ccui.RichElement.TEXT:$elementRenderer$$=new cc.LabelTTF($element$$._text,$element$$._fontName,$element$$._fontSize);break;case ccui.RichElement.IMAGE:$elementRenderer$$=new cc.Sprite($element$$._filePath);break;case ccui.RichElement.CUSTOM:$elementRenderer$$=
$element$$._customNode}$elementRenderer$$.setColor($element$$._color);$elementRenderer$$.setOpacity($element$$._color.a);this._pushToContainer($elementRenderer$$)}else for(this._addNewLine(),$i$$=0;$i$$<$locRichElements$$.length;$i$$++)switch($element$$=$locRichElements$$[$i$$],$element$$._type){case ccui.RichElement.TEXT:this._handleTextRenderer($element$$._text,$element$$._fontName,$element$$._fontSize,$element$$._color);break;case ccui.RichElement.IMAGE:this._handleImageRenderer($element$$._filePath,
$element$$._color,$element$$._color.a);break;case ccui.RichElement.CUSTOM:this._handleCustomRenderer($element$$._customNode)}this.formatRenderers();this._formatTextDirty=!1}},_handleTextRenderer:function($cutWords_text$$,$fontName$$,$fontSize$$,$color$$){var $leftLength_leftRenderer_textRenderer$$=new cc.LabelTTF($cutWords_text$$,$fontName$$,$fontSize$$),$leftWords_textRendererWidth$$=$leftLength_leftRenderer_textRenderer$$.getContentSize().width;this._leftSpaceWidth-=$leftWords_textRendererWidth$$;
0>this._leftSpaceWidth?($leftLength_leftRenderer_textRenderer$$=$cutWords_text$$.length*(1- -this._leftSpaceWidth/$leftWords_textRendererWidth$$),$leftWords_textRendererWidth$$=$cutWords_text$$.substr(0,$leftLength_leftRenderer_textRenderer$$),$cutWords_text$$=$cutWords_text$$.substr($leftLength_leftRenderer_textRenderer$$,$cutWords_text$$.length-1),0<$leftLength_leftRenderer_textRenderer$$&&($leftLength_leftRenderer_textRenderer$$=new cc.LabelTTF($leftWords_textRendererWidth$$.substr(0,$leftLength_leftRenderer_textRenderer$$),
$fontName$$,$fontSize$$),$leftLength_leftRenderer_textRenderer$$.setColor($color$$),$leftLength_leftRenderer_textRenderer$$.setOpacity($color$$.a),this._pushToContainer($leftLength_leftRenderer_textRenderer$$)),this._addNewLine(),this._handleTextRenderer($cutWords_text$$,$fontName$$,$fontSize$$,$color$$)):($leftLength_leftRenderer_textRenderer$$.setColor($color$$),$leftLength_leftRenderer_textRenderer$$.setOpacity($color$$.a),this._pushToContainer($leftLength_leftRenderer_textRenderer$$))},_handleImageRenderer:function($filePath$$4_imageRenderer$$,
$color$$,$opacity$$){$filePath$$4_imageRenderer$$=new cc.Sprite($filePath$$4_imageRenderer$$);this._handleCustomRenderer($filePath$$4_imageRenderer$$)},_handleCustomRenderer:function($renderer$$){var $imgSize$$=$renderer$$.getContentSize();this._leftSpaceWidth-=$imgSize$$.width;0>this._leftSpaceWidth?(this._addNewLine(),this._pushToContainer($renderer$$),this._leftSpaceWidth-=$imgSize$$.width):this._pushToContainer($renderer$$)},_addNewLine:function(){this._leftSpaceWidth=this._customSize.width;this._elementRenders.push([])},
formatRenderers:function(){var $newContentSizeHeight_nextPosY$$=0,$locRenderersContainer$$=this._elementRenderersContainer,$locElementRenders$$=this._elementRenders,$i$$,$j$$67_length$$,$row$$,$maxHeight_nextPosX$$,$iSize_l$$;if(this._ignoreSize){$i$$=0;$row$$=$locElementRenders$$[0];for($j$$67_length$$=$maxHeight_nextPosX$$=0;$j$$67_length$$<$row$$.length;$j$$67_length$$++)$iSize_l$$=$row$$[$j$$67_length$$],$iSize_l$$.setAnchorPoint(cc.p(0,0)),$iSize_l$$.setPosition($maxHeight_nextPosX$$,0),$locRenderersContainer$$.addChild($iSize_l$$,
1,$j$$67_length$$),$iSize_l$$=$iSize_l$$.getContentSize(),$i$$+=$iSize_l$$.width,$newContentSizeHeight_nextPosY$$=Math.max($newContentSizeHeight_nextPosY$$,$iSize_l$$.height),$maxHeight_nextPosX$$+=$iSize_l$$.width;$locRenderersContainer$$.setContentSize($i$$,$newContentSizeHeight_nextPosY$$)}else{var $maxHeights$$=[];for($i$$=0;$i$$<$locElementRenders$$.length;$i$$++){$row$$=$locElementRenders$$[$i$$];for($j$$67_length$$=$maxHeight_nextPosX$$=0;$j$$67_length$$<$row$$.length;$j$$67_length$$++)$iSize_l$$=
$row$$[$j$$67_length$$],$maxHeight_nextPosX$$=Math.max($iSize_l$$.getContentSize().height,$maxHeight_nextPosX$$);$maxHeights$$[$i$$]=$maxHeight_nextPosX$$;$newContentSizeHeight_nextPosY$$+=$maxHeights$$[$i$$]}$newContentSizeHeight_nextPosY$$=this._customSize.height;for($i$$=0;$i$$<$locElementRenders$$.length;$i$$++)for($row$$=$locElementRenders$$[$i$$],$maxHeight_nextPosX$$=0,$newContentSizeHeight_nextPosY$$-=$maxHeights$$[$i$$]+this._verticalSpace,$j$$67_length$$=0;$j$$67_length$$<$row$$.length;$j$$67_length$$++)$iSize_l$$=
$row$$[$j$$67_length$$],$iSize_l$$.setAnchorPoint(cc.p(0,0)),$iSize_l$$.setPosition(cc.p($maxHeight_nextPosX$$,$newContentSizeHeight_nextPosY$$)),$locRenderersContainer$$.addChild($iSize_l$$,1),$maxHeight_nextPosX$$+=$iSize_l$$.getContentSize().width;$locRenderersContainer$$.setContentSize(this._contentSize)}$j$$67_length$$=$locElementRenders$$.length;for($i$$=0;$i$$<$j$$67_length$$;$i$$++)$locElementRenders$$[$i$$].length=0;this._elementRenders.length=0;this.setContentSize(this._ignoreSize?this.getVirtualRendererSize():
this._customSize);this._updateContentSizeWithTextureSize(this._contentSize);$locRenderersContainer$$.setPosition(.5*this._contentSize.width,.5*this._contentSize.height)},_pushToContainer:function($renderer$$){0>=this._elementRenders.length||this._elementRenders[this._elementRenders.length-1].push($renderer$$)},visit:function($ctx$$){this._enabled&&(this.formatText(),ccui.Widget.prototype.visit.call(this,$ctx$$))},setVerticalSpace:function($space$$){this._verticalSpace=$space$$},setAnchorPoint:function($pt$$){ccui.Widget.prototype.setAnchorPoint.call(this,
$pt$$);this._elementRenderersContainer.setAnchorPoint($pt$$)},_setAnchorX:function($x$$){ccui.Widget.prototype._setAnchorX.call(this,$x$$);this._elementRenderersContainer._setAnchorX($x$$)},_setAnchorY:function($y$$){ccui.Widget.prototype._setAnchorY.call(this,$y$$);this._elementRenderersContainer._setAnchorY($y$$)},getVirtualRendererSize:function(){return this._elementRenderersContainer.getContentSize()},ignoreContentAdaptWithSize:function($ignore$$){this._ignoreSize!=$ignore$$&&(this._formatTextDirty=
!0,ccui.Widget.prototype.ignoreContentAdaptWithSize.call(this,$ignore$$))},getContentSize:function(){this.formatText();return cc.Node.prototype.getContentSize.call(this)},_getWidth:function(){this.formatText();return cc.Node.prototype._getWidth.call(this)},_getHeight:function(){this.formatText();return cc.Node.prototype._getHeight.call(this)},getDescription:function(){return"RichText"}});ccui.RichText.create=function $ccui$RichText$create$(){return new ccui.RichText};ccui.RichElement.TEXT=0;
ccui.RichElement.IMAGE=1;ccui.RichElement.CUSTOM=2;
ccui.ScrollView=ccui.Layout.extend({_innerContainer:null,direction:null,_autoScrollDir:null,_topBoundary:0,_bottomBoundary:0,_leftBoundary:0,_rightBoundary:0,_bounceTopBoundary:0,_bounceBottomBoundary:0,_bounceLeftBoundary:0,_bounceRightBoundary:0,_autoScroll:!1,_autoScrollAddUpTime:0,_autoScrollOriginalSpeed:0,_autoScrollAcceleration:0,_isAutoScrollSpeedAttenuated:!1,_needCheckAutoScrollDestination:!1,_autoScrollDestination:null,_bePressed:!1,_slidTime:0,_moveChildPoint:null,_childFocusCancelOffset:0,
_leftBounceNeeded:!1,_topBounceNeeded:!1,_rightBounceNeeded:!1,_bottomBounceNeeded:!1,bounceEnabled:!1,_bouncing:!1,_bounceDir:null,_bounceOriginalSpeed:0,inertiaScrollEnabled:!1,_scrollViewEventListener:null,_scrollViewEventSelector:null,_className:"ScrollView",ctor:function(){ccui.Layout.prototype.ctor.call(this);this.direction=ccui.ScrollView.DIR_NONE;this._autoScrollDir=cc.p(0,0);this._autoScrollAcceleration=-1E3;this._autoScrollDestination=cc.p(0,0);this._slidTime=0;this._moveChildPoint=cc.p(0,
0);this._childFocusCancelOffset=5;this._bounceDir=cc.p(0,0);this._bounceOriginalSpeed=0;this.inertiaScrollEnabled=!0;this.setTouchEnabled(!0)},init:function(){return ccui.Layout.prototype.init.call(this)?(this.setClippingEnabled(!0),this._innerContainer.setTouchEnabled(!1),!0):!1},onEnter:function(){ccui.Layout.prototype.onEnter.call(this);this.scheduleUpdate(!0)},findNextFocusedWidget:function($direction$$,$current$$){return this.getLayoutType()==ccui.Layout.LINEAR_VERTICAL||this.getLayoutType()==
ccui.Layout.LINEAR_HORIZONTAL?this._innerContainer.findNextFocusedWidget($direction$$,$current$$):ccui.Widget.prototype.findNextFocusedWidget.call(this,$direction$$,$current$$)},_initRenderer:function(){ccui.Layout.prototype._initRenderer.call(this);this._innerContainer=new ccui.Layout;this._innerContainer.setColor(cc.color(255,255,255));this._innerContainer.setOpacity(255);this._innerContainer.setCascadeColorEnabled(!0);this._innerContainer.setCascadeOpacityEnabled(!0);this.addProtectedChild(this._innerContainer,
1,1)},_onSizeChanged:function(){ccui.Layout.prototype._onSizeChanged.call(this);var $locSize$$=this._contentSize;this._topBoundary=$locSize$$.height;this._rightBoundary=$locSize$$.width;var $bounceBoundaryParameterX_innerSize$$=$locSize$$.width/3,$bounceBoundaryParameterY$$=$locSize$$.height/3;this._bounceTopBoundary=$locSize$$.height-$bounceBoundaryParameterY$$;this._bounceBottomBoundary=$bounceBoundaryParameterY$$;this._bounceLeftBoundary=$bounceBoundaryParameterX_innerSize$$;this._bounceRightBoundary=
$locSize$$.width-$bounceBoundaryParameterX_innerSize$$;$bounceBoundaryParameterX_innerSize$$=this._innerContainer.getContentSize();this._innerContainer.setContentSize(cc.size(Math.max($bounceBoundaryParameterX_innerSize$$.width,$locSize$$.width),Math.max($bounceBoundaryParameterX_innerSize$$.height,$locSize$$.height)));this._innerContainer.setPosition(0,$locSize$$.height-this._innerContainer.getContentSize().height)},setInnerContainerSize:function($innerPos_offsetY_size$$){var $innerContainer$$=this._innerContainer,
$locSize$$=this._contentSize,$innerAP_innerSizeWidth_newInnerSize$$=$locSize$$.width,$innerSizeHeight$$=$locSize$$.height,$innerSize$$1_offset$$=$innerContainer$$.getContentSize();$innerPos_offsetY_size$$.width<$locSize$$.width?cc.log("Inner width <= ScrollView width, it will be force sized!"):$innerAP_innerSizeWidth_newInnerSize$$=$innerPos_offsetY_size$$.width;$innerPos_offsetY_size$$.height<$locSize$$.height?cc.log("Inner height <= ScrollView height, it will be force sized!"):$innerSizeHeight$$=
$innerPos_offsetY_size$$.height;$innerContainer$$.setContentSize(cc.size($innerAP_innerSizeWidth_newInnerSize$$,$innerSizeHeight$$));switch(this.direction){case ccui.ScrollView.DIR_VERTICAL:$innerAP_innerSizeWidth_newInnerSize$$=$innerContainer$$.getContentSize();$innerSize$$1_offset$$=$innerSize$$1_offset$$.height-$innerAP_innerSizeWidth_newInnerSize$$.height;this._scrollChildren(0,$innerSize$$1_offset$$);break;case ccui.ScrollView.DIR_HORIZONTAL:$innerContainer$$.getRightBoundary()<=$locSize$$.width&&
($innerAP_innerSizeWidth_newInnerSize$$=$innerContainer$$.getContentSize(),$innerSize$$1_offset$$=$innerSize$$1_offset$$.width-$innerAP_innerSizeWidth_newInnerSize$$.width,this._scrollChildren($innerSize$$1_offset$$,0));break;case ccui.ScrollView.DIR_BOTH:$innerAP_innerSizeWidth_newInnerSize$$=$innerContainer$$.getContentSize(),$innerPos_offsetY_size$$=$innerSize$$1_offset$$.height-$innerAP_innerSizeWidth_newInnerSize$$.height,$innerSize$$1_offset$$=$innerContainer$$.getRightBoundary()<=$locSize$$.width?
$innerSize$$1_offset$$.width-$innerAP_innerSizeWidth_newInnerSize$$.width:0,this._scrollChildren($innerSize$$1_offset$$,$innerPos_offsetY_size$$)}$innerSize$$1_offset$$=$innerContainer$$.getContentSize();$innerPos_offsetY_size$$=$innerContainer$$.getPosition();$innerAP_innerSizeWidth_newInnerSize$$=$innerContainer$$.getAnchorPoint();0<$innerContainer$$.getLeftBoundary()&&$innerContainer$$.setPosition($innerAP_innerSizeWidth_newInnerSize$$.x*$innerSize$$1_offset$$.width,$innerPos_offsetY_size$$.y);
$innerContainer$$.getRightBoundary()<$locSize$$.width&&$innerContainer$$.setPosition($locSize$$.width-(1-$innerAP_innerSizeWidth_newInnerSize$$.x)*$innerSize$$1_offset$$.width,$innerPos_offsetY_size$$.y);0<$innerPos_offsetY_size$$.y&&$innerContainer$$.setPosition($innerPos_offsetY_size$$.x,$innerAP_innerSizeWidth_newInnerSize$$.y*$innerSize$$1_offset$$.height);$innerContainer$$.getTopBoundary()<$locSize$$.height&&$innerContainer$$.setPosition($innerPos_offsetY_size$$.x,$locSize$$.height-(1-$innerAP_innerSizeWidth_newInnerSize$$.y)*
$innerSize$$1_offset$$.height)},_setInnerWidth:function($innerAX_width$$){var $locW$$=this._contentSize.width,$innerWidth$$=$locW$$,$container$$=this._innerContainer,$oldInnerWidth$$=$container$$.width;$innerAX_width$$<$locW$$?cc.log("Inner width <= scrollview width, it will be force sized!"):$innerWidth$$=$innerAX_width$$;$container$$.width=$innerWidth$$;switch(this.direction){case ccui.ScrollView.DIR_HORIZONTAL:case ccui.ScrollView.DIR_BOTH:$container$$.getRightBoundary()<=$locW$$&&this._scrollChildren($oldInnerWidth$$-
$container$$.width,0)}$innerAX_width$$=$container$$.anchorX;0<$container$$.getLeftBoundary()&&($container$$.x=$innerAX_width$$*$innerWidth$$);$container$$.getRightBoundary()<$locW$$&&($container$$.x=$locW$$-(1-$innerAX_width$$)*$innerWidth$$)},_setInnerHeight:function($height$$){var $locH$$=this._contentSize.height,$innerHeight$$=$locH$$,$container$$=this._innerContainer,$oldInnerHeight$$=$container$$.height;$height$$<$locH$$?cc.log("Inner height <= scrollview height, it will be force sized!"):$innerHeight$$=
$height$$;$container$$.height=$innerHeight$$;switch(this.direction){case ccui.ScrollView.DIR_VERTICAL:case ccui.ScrollView.DIR_BOTH:this._scrollChildren(0,$oldInnerHeight$$-$innerHeight$$)}$height$$=$container$$.anchorY;0<$container$$.getLeftBoundary()&&($container$$.y=$height$$*$innerHeight$$);$container$$.getRightBoundary()<$locH$$&&($container$$.y=$locH$$-(1-$height$$)*$innerHeight$$)},getInnerContainerSize:function(){return this._innerContainer.getContentSize()},_getInnerWidth:function(){return this._innerContainer.width},
_getInnerHeight:function(){return this._innerContainer.height},addChild:function($widget$$,$zOrder$$,$tag$$){if(!$widget$$)return!1;$zOrder$$=$zOrder$$||$widget$$.getLocalZOrder();$tag$$=$tag$$||$widget$$.getTag();return this._innerContainer.addChild($widget$$,$zOrder$$,$tag$$)},removeAllChildren:function(){this.removeAllChildrenWithCleanup(!0)},removeAllChildrenWithCleanup:function($cleanup$$){this._innerContainer.removeAllChildrenWithCleanup($cleanup$$)},removeChild:function($child$$,$cleanup$$){return this._innerContainer.removeChild($child$$,
$cleanup$$)},getChildren:function(){return this._innerContainer.getChildren()},getChildrenCount:function(){return this._innerContainer.getChildrenCount()},getChildByTag:function($tag$$){return this._innerContainer.getChildByTag($tag$$)},getChildByName:function($name$$){return this._innerContainer.getChildByName($name$$)},_moveChildren:function($offsetX$$,$offsetY$$){var $locContainer$$=this._innerContainer;this._moveChildPoint.x=$locContainer$$.x+$offsetX$$;this._moveChildPoint.y=$locContainer$$.y+
$offsetY$$;this._innerContainer.setPosition(this._moveChildPoint)},_autoScrollChildren:function($dt$$){var $lastTime$$1_offset$$62_scrollCheck_xOffset$$=this._autoScrollAddUpTime;this._autoScrollAddUpTime+=$dt$$;if(this._isAutoScrollSpeedAttenuated)0>=this._autoScrollOriginalSpeed+this._autoScrollAcceleration*this._autoScrollAddUpTime?(this._stopAutoScrollChildren(),this._checkNeedBounce()):($lastTime$$1_offset$$62_scrollCheck_xOffset$$=(this._autoScrollOriginalSpeed+this._autoScrollAcceleration*
(2*$lastTime$$1_offset$$62_scrollCheck_xOffset$$+$dt$$)*.5)*$dt$$,this._scrollChildren($lastTime$$1_offset$$62_scrollCheck_xOffset$$*this._autoScrollDir.x,$lastTime$$1_offset$$62_scrollCheck_xOffset$$*this._autoScrollDir.y)||(this._stopAutoScrollChildren(),this._checkNeedBounce()));else if(this._needCheckAutoScrollDestination){var $lastTime$$1_offset$$62_scrollCheck_xOffset$$=this._autoScrollDir.x*$dt$$*this._autoScrollOriginalSpeed,$yOffset$$=this._autoScrollDir.y*$dt$$*this._autoScrollOriginalSpeed;
$dt$$=this._checkCustomScrollDestination($lastTime$$1_offset$$62_scrollCheck_xOffset$$,$yOffset$$);$lastTime$$1_offset$$62_scrollCheck_xOffset$$=this._scrollChildren($lastTime$$1_offset$$62_scrollCheck_xOffset$$,$yOffset$$);$dt$$&&$lastTime$$1_offset$$62_scrollCheck_xOffset$$||(this._stopAutoScrollChildren(),this._checkNeedBounce())}else this._scrollChildren(this._autoScrollDir.x*$dt$$*this._autoScrollOriginalSpeed,this._autoScrollDir.y*$dt$$*this._autoScrollOriginalSpeed)||(this._stopAutoScrollChildren(),
this._checkNeedBounce())},_bounceChildren:function($dt$$){var $locSpeed$$=this._bounceOriginalSpeed,$locBounceDir$$=this._bounceDir;0>=$locSpeed$$&&this._stopBounceChildren();this._bounceScrollChildren($locBounceDir$$.x*$dt$$*$locSpeed$$,$locBounceDir$$.y*$dt$$*$locSpeed$$)||this._stopBounceChildren()},_checkNeedBounce:function(){if(!this.bounceEnabled)return!1;this._checkBounceBoundary();var $locTopBounceNeeded_scrollVector$$=this._topBounceNeeded,$locBottomBounceNeeded_orSpeed$$=this._bottomBounceNeeded,
$locLeftBounceNeeded$$=this._leftBounceNeeded,$locRightBounceNeeded$$=this._rightBounceNeeded;if($locTopBounceNeeded_scrollVector$$||$locBottomBounceNeeded_orSpeed$$||$locLeftBounceNeeded$$||$locRightBounceNeeded$$){var $locContentSize$$=this._contentSize,$locInnerContainer$$=this._innerContainer;$locTopBounceNeeded_scrollVector$$&&$locLeftBounceNeeded$$?($locTopBounceNeeded_scrollVector$$=cc.pSub(cc.p(0,$locContentSize$$.height),cc.p($locInnerContainer$$.getLeftBoundary(),$locInnerContainer$$.getTopBoundary())),
$locBottomBounceNeeded_orSpeed$$=cc.pLength($locTopBounceNeeded_scrollVector$$)/.2,this._bounceDir=cc.pNormalize($locTopBounceNeeded_scrollVector$$),this._startBounceChildren($locBottomBounceNeeded_orSpeed$$)):$locTopBounceNeeded_scrollVector$$&&$locRightBounceNeeded$$?($locTopBounceNeeded_scrollVector$$=cc.pSub(cc.p($locContentSize$$.width,$locContentSize$$.height),cc.p($locInnerContainer$$.getRightBoundary(),$locInnerContainer$$.getTopBoundary())),$locBottomBounceNeeded_orSpeed$$=cc.pLength($locTopBounceNeeded_scrollVector$$)/
.2,this._bounceDir=cc.pNormalize($locTopBounceNeeded_scrollVector$$),this._startBounceChildren($locBottomBounceNeeded_orSpeed$$)):$locBottomBounceNeeded_orSpeed$$&&$locLeftBounceNeeded$$?($locTopBounceNeeded_scrollVector$$=cc.pSub(cc.p(0,0),cc.p($locInnerContainer$$.getLeftBoundary(),$locInnerContainer$$.getBottomBoundary())),$locBottomBounceNeeded_orSpeed$$=cc.pLength($locTopBounceNeeded_scrollVector$$)/.2,this._bounceDir=cc.pNormalize($locTopBounceNeeded_scrollVector$$),this._startBounceChildren($locBottomBounceNeeded_orSpeed$$)):
$locBottomBounceNeeded_orSpeed$$&&$locRightBounceNeeded$$?($locTopBounceNeeded_scrollVector$$=cc.pSub(cc.p($locContentSize$$.width,0),cc.p($locInnerContainer$$.getRightBoundary(),$locInnerContainer$$.getBottomBoundary())),$locBottomBounceNeeded_orSpeed$$=cc.pLength($locTopBounceNeeded_scrollVector$$)/.2,this._bounceDir=cc.pNormalize($locTopBounceNeeded_scrollVector$$),this._startBounceChildren($locBottomBounceNeeded_orSpeed$$)):$locTopBounceNeeded_scrollVector$$?($locTopBounceNeeded_scrollVector$$=
cc.pSub(cc.p(0,$locContentSize$$.height),cc.p(0,$locInnerContainer$$.getTopBoundary())),$locBottomBounceNeeded_orSpeed$$=cc.pLength($locTopBounceNeeded_scrollVector$$)/.2,this._bounceDir=cc.pNormalize($locTopBounceNeeded_scrollVector$$),this._startBounceChildren($locBottomBounceNeeded_orSpeed$$)):$locBottomBounceNeeded_orSpeed$$?($locTopBounceNeeded_scrollVector$$=cc.pSub(cc.p(0,0),cc.p(0,$locInnerContainer$$.getBottomBoundary())),$locBottomBounceNeeded_orSpeed$$=cc.pLength($locTopBounceNeeded_scrollVector$$)/
.2,this._bounceDir=cc.pNormalize($locTopBounceNeeded_scrollVector$$),this._startBounceChildren($locBottomBounceNeeded_orSpeed$$)):$locLeftBounceNeeded$$?($locTopBounceNeeded_scrollVector$$=cc.pSub(cc.p(0,0),cc.p($locInnerContainer$$.getLeftBoundary(),0)),$locBottomBounceNeeded_orSpeed$$=cc.pLength($locTopBounceNeeded_scrollVector$$)/.2,this._bounceDir=cc.pNormalize($locTopBounceNeeded_scrollVector$$),this._startBounceChildren($locBottomBounceNeeded_orSpeed$$)):$locRightBounceNeeded$$&&($locTopBounceNeeded_scrollVector$$=
cc.pSub(cc.p($locContentSize$$.width,0),cc.p($locInnerContainer$$.getRightBoundary(),0)),$locBottomBounceNeeded_orSpeed$$=cc.pLength($locTopBounceNeeded_scrollVector$$)/.2,this._bounceDir=cc.pNormalize($locTopBounceNeeded_scrollVector$$),this._startBounceChildren($locBottomBounceNeeded_orSpeed$$));return!0}return!1},_checkBounceBoundary:function(){var $locContainer$$=this._innerContainer;$locContainer$$.getBottomBoundary()>this._bottomBoundary?(this._scrollToBottomEvent(),this._bottomBounceNeeded=
!0):this._bottomBounceNeeded=!1;$locContainer$$.getTopBoundary()<this._topBoundary?(this._scrollToTopEvent(),this._topBounceNeeded=!0):this._topBounceNeeded=!1;$locContainer$$.getRightBoundary()<this._rightBoundary?(this._scrollToRightEvent(),this._rightBounceNeeded=!0):this._rightBounceNeeded=!1;$locContainer$$.getLeftBoundary()>this._leftBoundary?(this._scrollToLeftEvent(),this._leftBounceNeeded=!0):this._leftBounceNeeded=!1},_startBounceChildren:function($v$$){this._bounceOriginalSpeed=$v$$;this._bouncing=
!0},_stopBounceChildren:function(){this._bouncing=!1;this._bounceOriginalSpeed=0;this._bottomBounceNeeded=this._topBounceNeeded=this._rightBounceNeeded=this._leftBounceNeeded=!1},_startAutoScrollChildrenWithOriginalSpeed:function($dir$$,$v$$,$attenuated$$,$acceleration$$){this._stopAutoScrollChildren();this._autoScrollDir.x=$dir$$.x;this._autoScrollDir.y=$dir$$.y;this._isAutoScrollSpeedAttenuated=$attenuated$$;this._autoScrollOriginalSpeed=$v$$;this._autoScroll=!0;this._autoScrollAcceleration=$acceleration$$},
_startAutoScrollChildrenWithDestination:function($des_dir$$,$time$$,$attenuated$$){this._needCheckAutoScrollDestination=!1;this._autoScrollDestination=$des_dir$$;var $dis$$=cc.pSub($des_dir$$,this._innerContainer.getPosition());$des_dir$$=cc.pNormalize($dis$$);var $orSpeed$$=0,$acceleration$$=-1E3,$dis$$=cc.pLength($dis$$);$attenuated$$?($acceleration$$=-(2*$dis$$)/($time$$*$time$$),$orSpeed$$=2*$dis$$/$time$$):(this._needCheckAutoScrollDestination=!0,$orSpeed$$=$dis$$/$time$$);this._startAutoScrollChildrenWithOriginalSpeed($des_dir$$,
$orSpeed$$,$attenuated$$,$acceleration$$)},_jumpToDestination:function($dstX$$,$dstY$$){void 0!==$dstX$$.x&&($dstY$$=$dstX$$.y,$dstX$$=$dstX$$.x);var $finalOffsetX$$=$dstX$$,$finalOffsetY$$=$dstY$$;switch(this.direction){case ccui.ScrollView.DIR_VERTICAL:0>=$dstY$$&&($finalOffsetY$$=Math.max($dstY$$,this._contentSize.height-this._innerContainer.getContentSize().height));break;case ccui.ScrollView.DIR_HORIZONTAL:0>=$dstX$$&&($finalOffsetX$$=Math.max($dstX$$,this._contentSize.width-this._innerContainer.getContentSize().width));
break;case ccui.ScrollView.DIR_BOTH:0>=$dstY$$&&($finalOffsetY$$=Math.max($dstY$$,this._contentSize.height-this._innerContainer.getContentSize().height)),0>=$dstX$$&&($finalOffsetX$$=Math.max($dstX$$,this._contentSize.width-this._innerContainer.getContentSize().width))}this._innerContainer.setPosition($finalOffsetX$$,$finalOffsetY$$)},_stopAutoScrollChildren:function(){this._autoScroll=!1;this._autoScrollAddUpTime=this._autoScrollOriginalSpeed=0},_bounceScrollChildren:function($touchOffsetX$$,$touchOffsetY$$){var $scrollEnabled$$=
!0,$realOffsetX$$,$icLeftPos$$,$icLefrPos_icRightPos$$,$icBottomPos$$1_icTopPos$$1_locContainer$$;$icBottomPos$$1_icTopPos$$1_locContainer$$=this._innerContainer;0<$touchOffsetX$$&&0<$touchOffsetY$$?($realOffsetX$$=$touchOffsetX$$,$icLeftPos$$=$touchOffsetY$$,$icLefrPos_icRightPos$$=$icBottomPos$$1_icTopPos$$1_locContainer$$.getRightBoundary(),$icLefrPos_icRightPos$$+$realOffsetX$$>=this._rightBoundary&&($realOffsetX$$=this._rightBoundary-$icLefrPos_icRightPos$$,this._bounceRightEvent(),$scrollEnabled$$=
!1),$icBottomPos$$1_icTopPos$$1_locContainer$$=$icBottomPos$$1_icTopPos$$1_locContainer$$.getTopBoundary(),$icBottomPos$$1_icTopPos$$1_locContainer$$+$touchOffsetY$$>=this._topBoundary&&($icLeftPos$$=this._topBoundary-$icBottomPos$$1_icTopPos$$1_locContainer$$,this._bounceTopEvent(),$scrollEnabled$$=!1),this._moveChildren($realOffsetX$$,$icLeftPos$$)):0>$touchOffsetX$$&&0<$touchOffsetY$$?($realOffsetX$$=$touchOffsetX$$,$icLeftPos$$=$touchOffsetY$$,$icLefrPos_icRightPos$$=$icBottomPos$$1_icTopPos$$1_locContainer$$.getLeftBoundary(),
$icLefrPos_icRightPos$$+$realOffsetX$$<=this._leftBoundary&&($realOffsetX$$=this._leftBoundary-$icLefrPos_icRightPos$$,this._bounceLeftEvent(),$scrollEnabled$$=!1),$icBottomPos$$1_icTopPos$$1_locContainer$$=$icBottomPos$$1_icTopPos$$1_locContainer$$.getTopBoundary(),$icBottomPos$$1_icTopPos$$1_locContainer$$+$touchOffsetY$$>=this._topBoundary&&($icLeftPos$$=this._topBoundary-$icBottomPos$$1_icTopPos$$1_locContainer$$,this._bounceTopEvent(),$scrollEnabled$$=!1),this._moveChildren($realOffsetX$$,$icLeftPos$$)):
0>$touchOffsetX$$&&0>$touchOffsetY$$?($realOffsetX$$=$touchOffsetX$$,$icLeftPos$$=$touchOffsetY$$,$icLefrPos_icRightPos$$=$icBottomPos$$1_icTopPos$$1_locContainer$$.getLeftBoundary(),$icLefrPos_icRightPos$$+$realOffsetX$$<=this._leftBoundary&&($realOffsetX$$=this._leftBoundary-$icLefrPos_icRightPos$$,this._bounceLeftEvent(),$scrollEnabled$$=!1),$icBottomPos$$1_icTopPos$$1_locContainer$$=$icBottomPos$$1_icTopPos$$1_locContainer$$.getBottomBoundary(),$icBottomPos$$1_icTopPos$$1_locContainer$$+$touchOffsetY$$<=
this._bottomBoundary&&($icLeftPos$$=this._bottomBoundary-$icBottomPos$$1_icTopPos$$1_locContainer$$,this._bounceBottomEvent(),$scrollEnabled$$=!1),this._moveChildren($realOffsetX$$,$icLeftPos$$)):0<$touchOffsetX$$&&0>$touchOffsetY$$?($realOffsetX$$=$touchOffsetX$$,$icLeftPos$$=$touchOffsetY$$,$icLefrPos_icRightPos$$=$icBottomPos$$1_icTopPos$$1_locContainer$$.getRightBoundary(),$icLefrPos_icRightPos$$+$realOffsetX$$>=this._rightBoundary&&($realOffsetX$$=this._rightBoundary-$icLefrPos_icRightPos$$,
this._bounceRightEvent(),$scrollEnabled$$=!1),$icBottomPos$$1_icTopPos$$1_locContainer$$=$icBottomPos$$1_icTopPos$$1_locContainer$$.getBottomBoundary(),$icBottomPos$$1_icTopPos$$1_locContainer$$+$touchOffsetY$$<=this._bottomBoundary&&($icLeftPos$$=this._bottomBoundary-$icBottomPos$$1_icTopPos$$1_locContainer$$,this._bounceBottomEvent(),$scrollEnabled$$=!1),this._moveChildren($realOffsetX$$,$icLeftPos$$)):0==$touchOffsetX$$&&0<$touchOffsetY$$?($icLeftPos$$=$touchOffsetY$$,$icBottomPos$$1_icTopPos$$1_locContainer$$=
$icBottomPos$$1_icTopPos$$1_locContainer$$.getTopBoundary(),$icBottomPos$$1_icTopPos$$1_locContainer$$+$touchOffsetY$$>=this._topBoundary&&($icLeftPos$$=this._topBoundary-$icBottomPos$$1_icTopPos$$1_locContainer$$,this._bounceTopEvent(),$scrollEnabled$$=!1),this._moveChildren(0,$icLeftPos$$)):0==$touchOffsetX$$&&0>$touchOffsetY$$?($icLeftPos$$=$touchOffsetY$$,$icBottomPos$$1_icTopPos$$1_locContainer$$=$icBottomPos$$1_icTopPos$$1_locContainer$$.getBottomBoundary(),$icBottomPos$$1_icTopPos$$1_locContainer$$+
$touchOffsetY$$<=this._bottomBoundary&&($icLeftPos$$=this._bottomBoundary-$icBottomPos$$1_icTopPos$$1_locContainer$$,this._bounceBottomEvent(),$scrollEnabled$$=!1),this._moveChildren(0,$icLeftPos$$)):0<$touchOffsetX$$&&0==$touchOffsetY$$?($realOffsetX$$=$touchOffsetX$$,$icLefrPos_icRightPos$$=$icBottomPos$$1_icTopPos$$1_locContainer$$.getRightBoundary(),$icLefrPos_icRightPos$$+$realOffsetX$$>=this._rightBoundary&&($realOffsetX$$=this._rightBoundary-$icLefrPos_icRightPos$$,this._bounceRightEvent(),
$scrollEnabled$$=!1),this._moveChildren($realOffsetX$$,0)):0>$touchOffsetX$$&&0==$touchOffsetY$$&&($realOffsetX$$=$touchOffsetX$$,$icLeftPos$$=$icBottomPos$$1_icTopPos$$1_locContainer$$.getLeftBoundary(),$icLeftPos$$+$realOffsetX$$<=this._leftBoundary&&($realOffsetX$$=this._leftBoundary-$icLeftPos$$,this._bounceLeftEvent(),$scrollEnabled$$=!1),this._moveChildren($realOffsetX$$,0));return $scrollEnabled$$},_checkCustomScrollDestination:function($touchOffsetX$$,$touchOffsetY$$){var $scrollEnabled$$=
!0,$icBottomPos$$2_icTopPos$$2_locContainer$$,$icLeftPos$$2_icRightPos$$;$icBottomPos$$2_icTopPos$$2_locContainer$$=this._innerContainer;var $locDestination$$=this._autoScrollDestination;switch(this.direction){case ccui.ScrollView.DIR_VERTICAL:0<this._autoScrollDir.y?($icBottomPos$$2_icTopPos$$2_locContainer$$=$icBottomPos$$2_icTopPos$$2_locContainer$$.getBottomBoundary(),$icBottomPos$$2_icTopPos$$2_locContainer$$+$touchOffsetY$$>=$locDestination$$.y&&($scrollEnabled$$=!1)):($icBottomPos$$2_icTopPos$$2_locContainer$$=
$icBottomPos$$2_icTopPos$$2_locContainer$$.getBottomBoundary(),$icBottomPos$$2_icTopPos$$2_locContainer$$+$touchOffsetY$$<=$locDestination$$.y&&($scrollEnabled$$=!1));break;case ccui.ScrollView.DIR_HORIZONTAL:0<this._autoScrollDir.x?($icLeftPos$$2_icRightPos$$=$icBottomPos$$2_icTopPos$$2_locContainer$$.getLeftBoundary(),$icLeftPos$$2_icRightPos$$+$touchOffsetX$$>=$locDestination$$.x&&($scrollEnabled$$=!1)):($icLeftPos$$2_icRightPos$$=$icBottomPos$$2_icTopPos$$2_locContainer$$.getLeftBoundary(),$icLeftPos$$2_icRightPos$$+
$touchOffsetX$$<=$locDestination$$.x&&($scrollEnabled$$=!1));break;case ccui.ScrollView.DIR_BOTH:0<$touchOffsetX$$&&0<$touchOffsetY$$?($icLeftPos$$2_icRightPos$$=$icBottomPos$$2_icTopPos$$2_locContainer$$.getLeftBoundary(),$icLeftPos$$2_icRightPos$$+$touchOffsetX$$>=$locDestination$$.x&&($scrollEnabled$$=!1),$icBottomPos$$2_icTopPos$$2_locContainer$$=$icBottomPos$$2_icTopPos$$2_locContainer$$.getBottomBoundary(),$icBottomPos$$2_icTopPos$$2_locContainer$$+$touchOffsetY$$>=$locDestination$$.y&&($scrollEnabled$$=
!1)):0>$touchOffsetX$$&&0<$touchOffsetY$$?($icLeftPos$$2_icRightPos$$=$icBottomPos$$2_icTopPos$$2_locContainer$$.getRightBoundary(),$icLeftPos$$2_icRightPos$$+$touchOffsetX$$<=$locDestination$$.x&&($scrollEnabled$$=!1),$icBottomPos$$2_icTopPos$$2_locContainer$$=$icBottomPos$$2_icTopPos$$2_locContainer$$.getBottomBoundary(),$icBottomPos$$2_icTopPos$$2_locContainer$$+$touchOffsetY$$>=$locDestination$$.y&&($scrollEnabled$$=!1)):0>$touchOffsetX$$&&0>$touchOffsetY$$?($icLeftPos$$2_icRightPos$$=$icBottomPos$$2_icTopPos$$2_locContainer$$.getRightBoundary(),
$icLeftPos$$2_icRightPos$$+$touchOffsetX$$<=$locDestination$$.x&&($scrollEnabled$$=!1),$icBottomPos$$2_icTopPos$$2_locContainer$$=$icBottomPos$$2_icTopPos$$2_locContainer$$.getTopBoundary(),$icBottomPos$$2_icTopPos$$2_locContainer$$+$touchOffsetY$$<=$locDestination$$.y&&($scrollEnabled$$=!1)):0<$touchOffsetX$$&&0>$touchOffsetY$$?($icLeftPos$$2_icRightPos$$=$icBottomPos$$2_icTopPos$$2_locContainer$$.getLeftBoundary(),$icLeftPos$$2_icRightPos$$+$touchOffsetX$$>=$locDestination$$.x&&($scrollEnabled$$=
!1),$icBottomPos$$2_icTopPos$$2_locContainer$$=$icBottomPos$$2_icTopPos$$2_locContainer$$.getTopBoundary(),$icBottomPos$$2_icTopPos$$2_locContainer$$+$touchOffsetY$$<=$locDestination$$.y&&($scrollEnabled$$=!1)):0==$touchOffsetX$$&&0<$touchOffsetY$$?($icBottomPos$$2_icTopPos$$2_locContainer$$=$icBottomPos$$2_icTopPos$$2_locContainer$$.getBottomBoundary(),$icBottomPos$$2_icTopPos$$2_locContainer$$+$touchOffsetY$$>=$locDestination$$.y&&($scrollEnabled$$=!1)):0>$touchOffsetX$$&&0==$touchOffsetY$$?($icLeftPos$$2_icRightPos$$=
$icBottomPos$$2_icTopPos$$2_locContainer$$.getRightBoundary(),$icLeftPos$$2_icRightPos$$+$touchOffsetX$$<=$locDestination$$.x&&($scrollEnabled$$=!1)):0==$touchOffsetX$$&&0>$touchOffsetY$$?($icBottomPos$$2_icTopPos$$2_locContainer$$=$icBottomPos$$2_icTopPos$$2_locContainer$$.getTopBoundary(),$icBottomPos$$2_icTopPos$$2_locContainer$$+$touchOffsetY$$<=$locDestination$$.y&&($scrollEnabled$$=!1)):0<$touchOffsetX$$&&0==$touchOffsetY$$&&($icLeftPos$$2_icRightPos$$=$icBottomPos$$2_icTopPos$$2_locContainer$$.getLeftBoundary(),
$icLeftPos$$2_icRightPos$$+$touchOffsetX$$>=$locDestination$$.x&&($scrollEnabled$$=!1))}return $scrollEnabled$$},_scrollChildren:function($touchOffsetX$$,$touchOffsetY$$){var $scrollEnabled$$=!0;this._scrollingEvent();switch(this.direction){case ccui.ScrollView.DIR_VERTICAL:$scrollEnabled$$=this._scrollChildrenVertical($touchOffsetX$$,$touchOffsetY$$);break;case ccui.ScrollView.DIR_HORIZONTAL:$scrollEnabled$$=this._scrollChildrenHorizontal($touchOffsetX$$,$touchOffsetY$$);break;case ccui.ScrollView.DIR_BOTH:$scrollEnabled$$=
this._scrollChildrenBoth($touchOffsetX$$,$touchOffsetY$$)}return $scrollEnabled$$},_scrollChildrenVertical:function($touchOffsetX$$,$touchOffsetY$$){var $realOffset$$=$touchOffsetY$$,$scrollEnabled$$=!0,$icBottomPos$$3_icTopPos$$,$locContainer$$=this._innerContainer;this.bounceEnabled?($icBottomPos$$3_icTopPos$$=$locContainer$$.getBottomBoundary(),$icBottomPos$$3_icTopPos$$+$touchOffsetY$$>=this._bounceBottomBoundary&&($realOffset$$=this._bounceBottomBoundary-$icBottomPos$$3_icTopPos$$,this._scrollToBottomEvent(),
$scrollEnabled$$=!1),$icBottomPos$$3_icTopPos$$=$locContainer$$.getTopBoundary(),$icBottomPos$$3_icTopPos$$+$touchOffsetY$$<=this._bounceTopBoundary&&($realOffset$$=this._bounceTopBoundary-$icBottomPos$$3_icTopPos$$,this._scrollToTopEvent(),$scrollEnabled$$=!1)):($icBottomPos$$3_icTopPos$$=$locContainer$$.getBottomBoundary(),$icBottomPos$$3_icTopPos$$+$touchOffsetY$$>=this._bottomBoundary&&($realOffset$$=this._bottomBoundary-$icBottomPos$$3_icTopPos$$,this._scrollToBottomEvent(),$scrollEnabled$$=
!1),$icBottomPos$$3_icTopPos$$=$locContainer$$.getTopBoundary(),$icBottomPos$$3_icTopPos$$+$touchOffsetY$$<=this._topBoundary&&($realOffset$$=this._topBoundary-$icBottomPos$$3_icTopPos$$,this._scrollToTopEvent(),$scrollEnabled$$=!1));this._moveChildren(0,$realOffset$$);return $scrollEnabled$$},_scrollChildrenHorizontal:function($touchOffsetX$$,$touchOffestY$$){var $scrollEnabled$$=!0,$realOffset$$=$touchOffsetX$$,$icLeftPos$$3_icRightPos$$,$locContainer$$=this._innerContainer;this.bounceEnabled?($icLeftPos$$3_icRightPos$$=
$locContainer$$.getRightBoundary(),$icLeftPos$$3_icRightPos$$+$touchOffsetX$$<=this._bounceRightBoundary&&($realOffset$$=this._bounceRightBoundary-$icLeftPos$$3_icRightPos$$,this._scrollToRightEvent(),$scrollEnabled$$=!1),$icLeftPos$$3_icRightPos$$=$locContainer$$.getLeftBoundary(),$icLeftPos$$3_icRightPos$$+$touchOffsetX$$>=this._bounceLeftBoundary&&($realOffset$$=this._bounceLeftBoundary-$icLeftPos$$3_icRightPos$$,this._scrollToLeftEvent(),$scrollEnabled$$=!1)):($icLeftPos$$3_icRightPos$$=$locContainer$$.getRightBoundary(),
$icLeftPos$$3_icRightPos$$+$touchOffsetX$$<=this._rightBoundary&&($realOffset$$=this._rightBoundary-$icLeftPos$$3_icRightPos$$,this._scrollToRightEvent(),$scrollEnabled$$=!1),$icLeftPos$$3_icRightPos$$=$locContainer$$.getLeftBoundary(),$icLeftPos$$3_icRightPos$$+$touchOffsetX$$>=this._leftBoundary&&($realOffset$$=this._leftBoundary-$icLeftPos$$3_icRightPos$$,this._scrollToLeftEvent(),$scrollEnabled$$=!1));this._moveChildren($realOffset$$,0);return $scrollEnabled$$},_scrollChildrenBoth:function($touchOffsetX$$,
$touchOffsetY$$){var $scrollEnabled$$=!0,$realOffsetX$$=$touchOffsetX$$,$realOffsetY$$=$touchOffsetY$$,$icLeftPos$$4_icRightPos$$,$icBottomPos$$4_icTopPos$$4_locContainer$$;$icBottomPos$$4_icTopPos$$4_locContainer$$=this._innerContainer;this.bounceEnabled?0<$touchOffsetX$$&&0<$touchOffsetY$$?($icLeftPos$$4_icRightPos$$=$icBottomPos$$4_icTopPos$$4_locContainer$$.getLeftBoundary(),$icLeftPos$$4_icRightPos$$+$touchOffsetX$$>=this._bounceLeftBoundary&&($realOffsetX$$=this._bounceLeftBoundary-$icLeftPos$$4_icRightPos$$,
this._scrollToLeftEvent(),$scrollEnabled$$=!1),$icBottomPos$$4_icTopPos$$4_locContainer$$=$icBottomPos$$4_icTopPos$$4_locContainer$$.getBottomBoundary(),$icBottomPos$$4_icTopPos$$4_locContainer$$+$touchOffsetY$$>=this._bounceBottomBoundary&&($realOffsetY$$=this._bounceBottomBoundary-$icBottomPos$$4_icTopPos$$4_locContainer$$,this._scrollToBottomEvent(),$scrollEnabled$$=!1)):0>$touchOffsetX$$&&0<$touchOffsetY$$?($icLeftPos$$4_icRightPos$$=$icBottomPos$$4_icTopPos$$4_locContainer$$.getRightBoundary(),
$icLeftPos$$4_icRightPos$$+$touchOffsetX$$<=this._bounceRightBoundary&&($realOffsetX$$=this._bounceRightBoundary-$icLeftPos$$4_icRightPos$$,this._scrollToRightEvent(),$scrollEnabled$$=!1),$icBottomPos$$4_icTopPos$$4_locContainer$$=$icBottomPos$$4_icTopPos$$4_locContainer$$.getBottomBoundary(),$icBottomPos$$4_icTopPos$$4_locContainer$$+$touchOffsetY$$>=this._bounceBottomBoundary&&($realOffsetY$$=this._bounceBottomBoundary-$icBottomPos$$4_icTopPos$$4_locContainer$$,this._scrollToBottomEvent(),$scrollEnabled$$=
!1)):0>$touchOffsetX$$&&0>$touchOffsetY$$?($icLeftPos$$4_icRightPos$$=$icBottomPos$$4_icTopPos$$4_locContainer$$.getRightBoundary(),$icLeftPos$$4_icRightPos$$+$touchOffsetX$$<=this._bounceRightBoundary&&($realOffsetX$$=this._bounceRightBoundary-$icLeftPos$$4_icRightPos$$,this._scrollToRightEvent(),$scrollEnabled$$=!1),$icBottomPos$$4_icTopPos$$4_locContainer$$=$icBottomPos$$4_icTopPos$$4_locContainer$$.getTopBoundary(),$icBottomPos$$4_icTopPos$$4_locContainer$$+$touchOffsetY$$<=this._bounceTopBoundary&&
($realOffsetY$$=this._bounceTopBoundary-$icBottomPos$$4_icTopPos$$4_locContainer$$,this._scrollToTopEvent(),$scrollEnabled$$=!1)):0<$touchOffsetX$$&&0>$touchOffsetY$$?($icLeftPos$$4_icRightPos$$=$icBottomPos$$4_icTopPos$$4_locContainer$$.getLeftBoundary(),$icLeftPos$$4_icRightPos$$+$touchOffsetX$$>=this._bounceLeftBoundary&&($realOffsetX$$=this._bounceLeftBoundary-$icLeftPos$$4_icRightPos$$,this._scrollToLeftEvent(),$scrollEnabled$$=!1),$icBottomPos$$4_icTopPos$$4_locContainer$$=$icBottomPos$$4_icTopPos$$4_locContainer$$.getTopBoundary(),
$icBottomPos$$4_icTopPos$$4_locContainer$$+$touchOffsetY$$<=this._bounceTopBoundary&&($realOffsetY$$=this._bounceTopBoundary-$icBottomPos$$4_icTopPos$$4_locContainer$$,this._scrollToTopEvent(),$scrollEnabled$$=!1)):0==$touchOffsetX$$&&0<$touchOffsetY$$?($icBottomPos$$4_icTopPos$$4_locContainer$$=$icBottomPos$$4_icTopPos$$4_locContainer$$.getBottomBoundary(),$icBottomPos$$4_icTopPos$$4_locContainer$$+$touchOffsetY$$>=this._bounceBottomBoundary&&($realOffsetY$$=this._bounceBottomBoundary-$icBottomPos$$4_icTopPos$$4_locContainer$$,
this._scrollToBottomEvent(),$scrollEnabled$$=!1)):0>$touchOffsetX$$&&0==$touchOffsetY$$?($icLeftPos$$4_icRightPos$$=$icBottomPos$$4_icTopPos$$4_locContainer$$.getRightBoundary(),$icLeftPos$$4_icRightPos$$+$touchOffsetX$$<=this._bounceRightBoundary&&($realOffsetX$$=this._bounceRightBoundary-$icLeftPos$$4_icRightPos$$,this._scrollToRightEvent(),$scrollEnabled$$=!1)):0==$touchOffsetX$$&&0>$touchOffsetY$$?($icBottomPos$$4_icTopPos$$4_locContainer$$=$icBottomPos$$4_icTopPos$$4_locContainer$$.getTopBoundary(),
$icBottomPos$$4_icTopPos$$4_locContainer$$+$touchOffsetY$$<=this._bounceTopBoundary&&($realOffsetY$$=this._bounceTopBoundary-$icBottomPos$$4_icTopPos$$4_locContainer$$,this._scrollToTopEvent(),$scrollEnabled$$=!1)):0<$touchOffsetX$$&&0==$touchOffsetY$$&&($icLeftPos$$4_icRightPos$$=$icBottomPos$$4_icTopPos$$4_locContainer$$.getLeftBoundary(),$icLeftPos$$4_icRightPos$$+$touchOffsetX$$>=this._bounceLeftBoundary&&($realOffsetX$$=this._bounceLeftBoundary-$icLeftPos$$4_icRightPos$$,this._scrollToLeftEvent(),
$scrollEnabled$$=!1)):0<$touchOffsetX$$&&0<$touchOffsetY$$?($icLeftPos$$4_icRightPos$$=$icBottomPos$$4_icTopPos$$4_locContainer$$.getLeftBoundary(),$icLeftPos$$4_icRightPos$$+$touchOffsetX$$>=this._leftBoundary&&($realOffsetX$$=this._leftBoundary-$icLeftPos$$4_icRightPos$$,this._scrollToLeftEvent(),$scrollEnabled$$=!1),$icBottomPos$$4_icTopPos$$4_locContainer$$=$icBottomPos$$4_icTopPos$$4_locContainer$$.getBottomBoundary(),$icBottomPos$$4_icTopPos$$4_locContainer$$+$touchOffsetY$$>=this._bottomBoundary&&
($realOffsetY$$=this._bottomBoundary-$icBottomPos$$4_icTopPos$$4_locContainer$$,this._scrollToBottomEvent(),$scrollEnabled$$=!1)):0>$touchOffsetX$$&&0<$touchOffsetY$$?($icLeftPos$$4_icRightPos$$=$icBottomPos$$4_icTopPos$$4_locContainer$$.getRightBoundary(),$icLeftPos$$4_icRightPos$$+$touchOffsetX$$<=this._rightBoundary&&($realOffsetX$$=this._rightBoundary-$icLeftPos$$4_icRightPos$$,this._scrollToRightEvent(),$scrollEnabled$$=!1),$icBottomPos$$4_icTopPos$$4_locContainer$$=$icBottomPos$$4_icTopPos$$4_locContainer$$.getBottomBoundary(),
$icBottomPos$$4_icTopPos$$4_locContainer$$+$touchOffsetY$$>=this._bottomBoundary&&($realOffsetY$$=this._bottomBoundary-$icBottomPos$$4_icTopPos$$4_locContainer$$,this._scrollToBottomEvent(),$scrollEnabled$$=!1)):0>$touchOffsetX$$&&0>$touchOffsetY$$?($icLeftPos$$4_icRightPos$$=$icBottomPos$$4_icTopPos$$4_locContainer$$.getRightBoundary(),$icLeftPos$$4_icRightPos$$+$touchOffsetX$$<=this._rightBoundary&&($realOffsetX$$=this._rightBoundary-$icLeftPos$$4_icRightPos$$,this._scrollToRightEvent(),$scrollEnabled$$=
!1),$icBottomPos$$4_icTopPos$$4_locContainer$$=$icBottomPos$$4_icTopPos$$4_locContainer$$.getTopBoundary(),$icBottomPos$$4_icTopPos$$4_locContainer$$+$touchOffsetY$$<=this._topBoundary&&($realOffsetY$$=this._topBoundary-$icBottomPos$$4_icTopPos$$4_locContainer$$,this._scrollToTopEvent(),$scrollEnabled$$=!1)):0<$touchOffsetX$$&&0>$touchOffsetY$$?($icLeftPos$$4_icRightPos$$=$icBottomPos$$4_icTopPos$$4_locContainer$$.getLeftBoundary(),$icLeftPos$$4_icRightPos$$+$touchOffsetX$$>=this._leftBoundary&&($realOffsetX$$=
this._leftBoundary-$icLeftPos$$4_icRightPos$$,this._scrollToLeftEvent(),$scrollEnabled$$=!1),$icBottomPos$$4_icTopPos$$4_locContainer$$=this._innerContainer.getTopBoundary(),$icBottomPos$$4_icTopPos$$4_locContainer$$+$touchOffsetY$$<=this._topBoundary&&($realOffsetY$$=this._topBoundary-$icBottomPos$$4_icTopPos$$4_locContainer$$,this._scrollToTopEvent(),$scrollEnabled$$=!1)):0==$touchOffsetX$$&&0<$touchOffsetY$$?($icBottomPos$$4_icTopPos$$4_locContainer$$=this._innerContainer.getBottomBoundary(),$icBottomPos$$4_icTopPos$$4_locContainer$$+
$touchOffsetY$$>=this._bottomBoundary&&($realOffsetY$$=this._bottomBoundary-$icBottomPos$$4_icTopPos$$4_locContainer$$,this._scrollToBottomEvent(),$scrollEnabled$$=!1)):0>$touchOffsetX$$&&0==$touchOffsetY$$?($icLeftPos$$4_icRightPos$$=this._innerContainer.getRightBoundary(),$icLeftPos$$4_icRightPos$$+$touchOffsetX$$<=this._rightBoundary&&($realOffsetX$$=this._rightBoundary-$icLeftPos$$4_icRightPos$$,this._scrollToRightEvent(),$scrollEnabled$$=!1)):0==$touchOffsetX$$&&0>$touchOffsetY$$?($icBottomPos$$4_icTopPos$$4_locContainer$$=
this._innerContainer.getTopBoundary(),$icBottomPos$$4_icTopPos$$4_locContainer$$+$touchOffsetY$$<=this._topBoundary&&($realOffsetY$$=this._topBoundary-$icBottomPos$$4_icTopPos$$4_locContainer$$,this._scrollToTopEvent(),$scrollEnabled$$=!1)):0<$touchOffsetX$$&&0==$touchOffsetY$$&&($icLeftPos$$4_icRightPos$$=this._innerContainer.getLeftBoundary(),$icLeftPos$$4_icRightPos$$+$touchOffsetX$$>=this._leftBoundary&&($realOffsetX$$=this._leftBoundary-$icLeftPos$$4_icRightPos$$,this._scrollToLeftEvent(),$scrollEnabled$$=
!1));this._moveChildren($realOffsetX$$,$realOffsetY$$);return $scrollEnabled$$},scrollToBottom:function($time$$,$attenuated$$){this._startAutoScrollChildrenWithDestination(cc.p(this._innerContainer.getPositionX(),0),$time$$,$attenuated$$)},scrollToTop:function($time$$,$attenuated$$){this._startAutoScrollChildrenWithDestination(cc.p(this._innerContainer.getPositionX(),this._contentSize.height-this._innerContainer.getContentSize().height),$time$$,$attenuated$$)},scrollToLeft:function($time$$,$attenuated$$){this._startAutoScrollChildrenWithDestination(cc.p(0,
this._innerContainer.getPositionY()),$time$$,$attenuated$$)},scrollToRight:function($time$$,$attenuated$$){this._startAutoScrollChildrenWithDestination(cc.p(this._contentSize.width-this._innerContainer.getContentSize().width,this._innerContainer.getPositionY()),$time$$,$attenuated$$)},scrollToTopLeft:function($time$$,$attenuated$$){this.direction!=ccui.ScrollView.DIR_BOTH?cc.log("Scroll direction is not both!"):this._startAutoScrollChildrenWithDestination(cc.p(0,this._contentSize.height-this._innerContainer.getContentSize().height),
$time$$,$attenuated$$)},scrollToTopRight:function($time$$,$attenuated$$){if(this.direction!=ccui.ScrollView.DIR_BOTH)cc.log("Scroll direction is not both!");else{var $inSize$$=this._innerContainer.getContentSize();this._startAutoScrollChildrenWithDestination(cc.p(this._contentSize.width-$inSize$$.width,this._contentSize.height-$inSize$$.height),$time$$,$attenuated$$)}},scrollToBottomLeft:function($time$$,$attenuated$$){this.direction!=ccui.ScrollView.DIR_BOTH?cc.log("Scroll direction is not both!"):
this._startAutoScrollChildrenWithDestination(cc.p(0,0),$time$$,$attenuated$$)},scrollToBottomRight:function($time$$,$attenuated$$){this.direction!=ccui.ScrollView.DIR_BOTH?cc.log("Scroll direction is not both!"):this._startAutoScrollChildrenWithDestination(cc.p(this._contentSize.width-this._innerContainer.getContentSize().width,0),$time$$,$attenuated$$)},scrollToPercentVertical:function($percent$$,$time$$,$attenuated$$){var $minY$$=this._contentSize.height-this._innerContainer.getContentSize().height,
$h$$=-$minY$$;this._startAutoScrollChildrenWithDestination(cc.p(this._innerContainer.getPositionX(),$minY$$+$percent$$*$h$$/100),$time$$,$attenuated$$)},scrollToPercentHorizontal:function($percent$$,$time$$,$attenuated$$){var $w$$=this._innerContainer.getContentSize().width-this._contentSize.width;this._startAutoScrollChildrenWithDestination(cc.p(-($percent$$*$w$$/100),this._innerContainer.getPositionY()),$time$$,$attenuated$$)},scrollToPercentBothDirection:function($percent$$,$time$$,$attenuated$$){if(this.direction==
ccui.ScrollView.DIR_BOTH){var $minY$$=this._contentSize.height-this._innerContainer.getContentSize().height,$h$$=-$minY$$,$w$$=this._innerContainer.getContentSize().width-this._contentSize.width;this._startAutoScrollChildrenWithDestination(cc.p(-($percent$$.x*$w$$/100),$minY$$+$percent$$.y*$h$$/100),$time$$,$attenuated$$)}},jumpToBottom:function(){this._jumpToDestination(this._innerContainer.getPositionX(),0)},jumpToTop:function(){this._jumpToDestination(this._innerContainer.getPositionX(),this._contentSize.height-
this._innerContainer.getContentSize().height)},jumpToLeft:function(){this._jumpToDestination(0,this._innerContainer.getPositionY())},jumpToRight:function(){this._jumpToDestination(this._contentSize.width-this._innerContainer.getContentSize().width,this._innerContainer.getPositionY())},jumpToTopLeft:function(){this.direction!=ccui.ScrollView.DIR_BOTH?cc.log("Scroll direction is not both!"):this._jumpToDestination(0,this._contentSize.height-this._innerContainer.getContentSize().height)},jumpToTopRight:function(){if(this.direction!=
ccui.ScrollView.DIR_BOTH)cc.log("Scroll direction is not both!");else{var $inSize$$=this._innerContainer.getContentSize();this._jumpToDestination(this._contentSize.width-$inSize$$.width,this._contentSize.height-$inSize$$.height)}},jumpToBottomLeft:function(){this.direction!=ccui.ScrollView.DIR_BOTH?cc.log("Scroll direction is not both!"):this._jumpToDestination(0,0)},jumpToBottomRight:function(){this.direction!=ccui.ScrollView.DIR_BOTH?cc.log("Scroll direction is not both!"):this._jumpToDestination(this._contentSize.width-
this._innerContainer.getContentSize().width,0)},jumpToPercentVertical:function($percent$$){var $minY$$=this._contentSize.height-this._innerContainer.getContentSize().height,$h$$=-$minY$$;this._jumpToDestination(this._innerContainer.getPositionX(),$minY$$+$percent$$*$h$$/100)},jumpToPercentHorizontal:function($percent$$){var $w$$=this._innerContainer.getContentSize().width-this._contentSize.width;this._jumpToDestination(-($percent$$*$w$$/100),this._innerContainer.getPositionY())},jumpToPercentBothDirection:function($percent$$){if(this.direction==
ccui.ScrollView.DIR_BOTH){var $inSize$$=this._innerContainer.getContentSize(),$minY$$=this._contentSize.height-$inSize$$.height;this._jumpToDestination(-($percent$$.x*($inSize$$.width-this._contentSize.width)/100),$minY$$+$percent$$.y*-$minY$$/100)}},_startRecordSlidAction:function(){this._autoScroll&&this._stopAutoScrollChildren();this._bouncing&&this._stopBounceChildren();this._slidTime=0},_endRecordSlidAction:function(){if(!this._checkNeedBounce()&&this.inertiaScrollEnabled&&!(.016>=this._slidTime)){var $orSpeed$$=
0,$dir$$;switch(this.direction){case ccui.ScrollView.DIR_VERTICAL:$orSpeed$$=this._touchEndPosition.y-this._touchBeganPosition.y;$dir$$=0>$orSpeed$$?ccui.ScrollView.SCROLLDIR_DOWN:ccui.ScrollView.SCROLLDIR_UP;break;case ccui.ScrollView.DIR_HORIZONTAL:$orSpeed$$=this._touchEndPosition.x-this._touchBeganPosition.x;$dir$$=0>$orSpeed$$?ccui.ScrollView.SCROLLDIR_LEFT:ccui.ScrollView.SCROLLDIR_RIGHT;break;case ccui.ScrollView.DIR_BOTH:$dir$$=cc.pSub(this._touchEndPosition,this._touchBeganPosition),$orSpeed$$=
cc.pLength($dir$$),$dir$$=cc.pNormalize($dir$$)}$orSpeed$$=Math.min(Math.abs($orSpeed$$)/this._slidTime,ccui.ScrollView.AUTO_SCROLL_MAX_SPEED);this._startAutoScrollChildrenWithOriginalSpeed($dir$$,$orSpeed$$,!0,-1E3);this._slidTime=0}},_handlePressLogic:function($touch$$){this._startRecordSlidAction();this._bePressed=!0},_handleMoveLogic:function($delta$$4_touch$$){$delta$$4_touch$$=cc.pSub($delta$$4_touch$$.getLocation(),$delta$$4_touch$$.getPreviousLocation());switch(this.direction){case ccui.ScrollView.DIR_VERTICAL:this._scrollChildren(0,
$delta$$4_touch$$.y);break;case ccui.ScrollView.DIR_HORIZONTAL:this._scrollChildren($delta$$4_touch$$.x,0);break;case ccui.ScrollView.DIR_BOTH:this._scrollChildren($delta$$4_touch$$.x,$delta$$4_touch$$.y)}},_handleReleaseLogic:function($touch$$){this._endRecordSlidAction();this._bePressed=!1},onTouchBegan:function($touch$$,$event$$){var $pass$$=ccui.Layout.prototype.onTouchBegan.call(this,$touch$$,$event$$);this._isInterceptTouch||this._hit&&this._handlePressLogic($touch$$);return $pass$$},onTouchMoved:function($touch$$,
$event$$){ccui.Layout.prototype.onTouchMoved.call(this,$touch$$,$event$$);this._isInterceptTouch||this._handleMoveLogic($touch$$)},onTouchEnded:function($touch$$,$event$$){ccui.Layout.prototype.onTouchEnded.call(this,$touch$$,$event$$);this._isInterceptTouch||this._handleReleaseLogic($touch$$);this._isInterceptTouch=!1},onTouchCancelled:function($touch$$,$event$$){ccui.Layout.prototype.onTouchCancelled.call(this,$touch$$,$event$$);this._isInterceptTouch||this.handleReleaseLogic($touch$$);this._isInterceptTouch=
!1},update:function($dt$$){this._autoScroll&&this._autoScrollChildren($dt$$);this._bouncing&&this._bounceChildren($dt$$);this._recordSlidTime($dt$$)},_recordSlidTime:function($dt$$){this._bePressed&&(this._slidTime+=$dt$$)},interceptTouchEvent:function($event$$,$sender$$,$touch$$){var $touchPoint$$=$touch$$.getLocation();switch($event$$){case ccui.Widget.TOUCH_BEGAN:this._isInterceptTouch=!0;this._touchBeganPosition.x=$touchPoint$$.x;this._touchBeganPosition.y=$touchPoint$$.y;this._handlePressLogic($touch$$);
break;case ccui.Widget.TOUCH_MOVED:cc.pLength(cc.pSub($sender$$.getTouchBeganPosition(),$touchPoint$$))>this._childFocusCancelOffset&&($sender$$.setHighlighted(!1),this._touchMovePosition.x=$touchPoint$$.x,this._touchMovePosition.y=$touchPoint$$.y,this._handleMoveLogic($touch$$));break;case ccui.Widget.TOUCH_CANCELED:case ccui.Widget.TOUCH_ENDED:this._touchEndPosition.x=$touchPoint$$.x,this._touchEndPosition.y=$touchPoint$$.y,this._handleReleaseLogic($touch$$),$sender$$.isSwallowTouches()&&(this._isInterceptTouch=
!1)}},_scrollToTopEvent:function(){this._scrollViewEventSelector&&(this._scrollViewEventListener?this._scrollViewEventSelector.call(this._scrollViewEventListener,this,ccui.ScrollView.EVENT_SCROLL_TO_TOP):this._scrollViewEventSelector(this,ccui.ScrollView.EVENT_SCROLL_TO_TOP))},_scrollToBottomEvent:function(){this._scrollViewEventSelector&&(this._scrollViewEventListener?this._scrollViewEventSelector.call(this._scrollViewEventListener,this,ccui.ScrollView.EVENT_SCROLL_TO_BOTTOM):this._scrollViewEventSelector(this,
ccui.ScrollView.EVENT_SCROLL_TO_BOTTOM))},_scrollToLeftEvent:function(){this._scrollViewEventSelector&&(this._scrollViewEventListener?this._scrollViewEventSelector.call(this._scrollViewEventListener,this,ccui.ScrollView.EVENT_SCROLL_TO_LEFT):this._scrollViewEventSelector(this,ccui.ScrollView.EVENT_SCROLL_TO_LEFT))},_scrollToRightEvent:function(){this._scrollViewEventSelector&&(this._scrollViewEventListener?this._scrollViewEventSelector.call(this._scrollViewEventListener,this,ccui.ScrollView.EVENT_SCROLL_TO_RIGHT):
this._scrollViewEventSelector(this,ccui.ScrollView.EVENT_SCROLL_TO_RIGHT))},_scrollingEvent:function(){this._scrollViewEventSelector&&(this._scrollViewEventListener?this._scrollViewEventSelector.call(this._scrollViewEventListener,this,ccui.ScrollView.EVENT_SCROLLING):this._scrollViewEventSelector(this,ccui.ScrollView.EVENT_SCROLLING))},_bounceTopEvent:function(){this._scrollViewEventSelector&&(this._scrollViewEventListener?this._scrollViewEventSelector.call(this._scrollViewEventListener,this,ccui.ScrollView.EVENT_BOUNCE_TOP):
this._scrollViewEventSelector(this,ccui.ScrollView.EVENT_BOUNCE_TOP))},_bounceBottomEvent:function(){this._scrollViewEventSelector&&(this._scrollViewEventListener?this._scrollViewEventSelector.call(this._scrollViewEventListener,this,ccui.ScrollView.EVENT_BOUNCE_BOTTOM):this._scrollViewEventSelector(this,ccui.ScrollView.EVENT_BOUNCE_BOTTOM))},_bounceLeftEvent:function(){this._scrollViewEventSelector&&(this._scrollViewEventListener?this._scrollViewEventSelector.call(this._scrollViewEventListener,this,
ccui.ScrollView.EVENT_BOUNCE_LEFT):this._scrollViewEventSelector(this,ccui.ScrollView.EVENT_BOUNCE_LEFT))},_bounceRightEvent:function(){this._scrollViewEventSelector&&(this._scrollViewEventListener?this._scrollViewEventSelector.call(this._scrollViewEventListener,this,ccui.ScrollView.EVENT_BOUNCE_RIGHT):this._scrollViewEventSelector(this,ccui.ScrollView.EVENT_BOUNCE_RIGHT))},addEventListenerScrollView:function($selector$$,$target$$){this.addEventListener($selector$$,$target$$)},addEventListener:function($selector$$,
$target$$){this._scrollViewEventSelector=$selector$$;this._scrollViewEventListener=$target$$},setDirection:function($dir$$){this.direction=$dir$$},getDirection:function(){return this.direction},setBounceEnabled:function($enabled$$){this.bounceEnabled=$enabled$$},isBounceEnabled:function(){return this.bounceEnabled},setInertiaScrollEnabled:function($enabled$$){this.inertiaScrollEnabled=$enabled$$},isInertiaScrollEnabled:function(){return this.inertiaScrollEnabled},getInnerContainer:function(){return this._innerContainer},
setLayoutType:function($type$$){this._innerContainer.setLayoutType($type$$)},getLayoutType:function(){return this._innerContainer.getLayoutType()},_doLayout:function(){this._doLayoutDirty&&(this._doLayoutDirty=!1)},getDescription:function(){return"ScrollView"},_createCloneInstance:function(){return new ccui.ScrollView},_copyClonedWidgetChildren:function($model$$){ccui.Layout.prototype._copyClonedWidgetChildren.call(this,$model$$)},_copySpecialProperties:function($scrollView$$){$scrollView$$ instanceof
ccui.ScrollView&&(ccui.Layout.prototype._copySpecialProperties.call(this,$scrollView$$),this.setInnerContainerSize($scrollView$$.getInnerContainerSize()),this.setDirection($scrollView$$.direction),this.setBounceEnabled($scrollView$$.bounceEnabled),this.setInertiaScrollEnabled($scrollView$$.inertiaScrollEnabled),this._scrollViewEventListener=$scrollView$$._scrollViewEventListener,this._scrollViewEventSelector=$scrollView$$._scrollViewEventSelector)},getNodeByTag:function($tag$$){return this._innerContainer.getNodeByTag($tag$$)},
getNodes:function(){return this._innerContainer.getNodes()},removeNode:function($node$$){this._innerContainer.removeNode($node$$)},removeNodeByTag:function($tag$$){this._innerContainer.removeNodeByTag($tag$$)},removeAllNodes:function(){this._innerContainer.removeAllNodes()},addNode:function($node$$,$zOrder$$,$tag$$){this._innerContainer.addNode($node$$,$zOrder$$,$tag$$)},_transformForRenderer:function($parentMatrix$$){ccui.Layout.prototype._transformForRenderer.call(this,$parentMatrix$$);this._innerContainer&&
cc._renderType===cc._RENDER_TYPE_WEBGL&&this._innerContainer._transformForRenderer(this._stackMatrix)}});_p=ccui.ScrollView.prototype;_p.innerWidth;cc.defineGetterSetter(_p,"innerWidth",_p._getInnerWidth,_p._setInnerWidth);_p.innerHeight;cc.defineGetterSetter(_p,"innerHeight",_p._getInnerHeight,_p._setInnerHeight);_p=null;ccui.ScrollView.create=function $ccui$ScrollView$create$(){return new ccui.ScrollView};ccui.ScrollView.DIR_NONE=0;ccui.ScrollView.DIR_VERTICAL=1;ccui.ScrollView.DIR_HORIZONTAL=2;
ccui.ScrollView.DIR_BOTH=3;ccui.ScrollView.EVENT_SCROLL_TO_TOP=0;ccui.ScrollView.EVENT_SCROLL_TO_BOTTOM=1;ccui.ScrollView.EVENT_SCROLL_TO_LEFT=2;ccui.ScrollView.EVENT_SCROLL_TO_RIGHT=3;ccui.ScrollView.EVENT_SCROLLING=4;ccui.ScrollView.EVENT_BOUNCE_TOP=5;ccui.ScrollView.EVENT_BOUNCE_BOTTOM=6;ccui.ScrollView.EVENT_BOUNCE_LEFT=7;ccui.ScrollView.EVENT_BOUNCE_RIGHT=8;ccui.ScrollView.AUTO_SCROLL_MAX_SPEED=1E3;ccui.ScrollView.SCROLLDIR_UP=cc.p(0,1);ccui.ScrollView.SCROLLDIR_DOWN=cc.p(0,-1);
ccui.ScrollView.SCROLLDIR_LEFT=cc.p(-1,0);ccui.ScrollView.SCROLLDIR_RIGHT=cc.p(1,0);
ccui.ListView=ccui.ScrollView.extend({_model:null,_items:null,_gravity:null,_itemsMargin:0,_curSelectedIndex:0,_refreshViewDirty:!0,_listViewEventListener:null,_listViewEventSelector:null,ctor:function(){ccui.ScrollView.prototype.ctor.call(this);this._items=[];this._gravity=ccui.ListView.GRAVITY_CENTER_HORIZONTAL;this.setTouchEnabled(!0);this.init()},init:function(){return ccui.ScrollView.prototype.init.call(this)?(this.setLayoutType(ccui.Layout.LINEAR_VERTICAL),!0):!1},setItemModel:function($model$$){$model$$&&
(this._model=$model$$)},_updateInnerContainerSize:function(){var $locItems$$=this._items,$length$$,$i$$;switch(this.direction){case ccui.ScrollView.DIR_VERTICAL:$length$$=$locItems$$.length;var $totalHeight$$=($length$$-1)*this._itemsMargin;for($i$$=0;$i$$<$length$$;$i$$++)$totalHeight$$+=$locItems$$[$i$$].getContentSize().height;this.setInnerContainerSize(cc.size(this._contentSize.width,$totalHeight$$));break;case ccui.ScrollView.DIR_HORIZONTAL:$length$$=$locItems$$.length;$totalHeight$$=($length$$-
1)*this._itemsMargin;for($i$$=0;$i$$<$length$$;$i$$++)$totalHeight$$+=$locItems$$[$i$$].getContentSize().width;this.setInnerContainerSize(cc.size($totalHeight$$,this._contentSize.height))}},_remedyLayoutParameter:function($item$$){if($item$$){var $defaultLp_llp$$;switch(this.direction){case ccui.ScrollView.DIR_VERTICAL:if($defaultLp_llp$$=$item$$.getLayoutParameter())switch(0==this.getIndex($item$$)?$defaultLp_llp$$.setMargin(ccui.MarginZero()):$defaultLp_llp$$.setMargin(new ccui.Margin(0,this._itemsMargin,
0,0)),this._gravity){case ccui.ListView.GRAVITY_LEFT:$defaultLp_llp$$.setGravity(ccui.LinearLayoutParameter.LEFT);break;case ccui.ListView.GRAVITY_RIGHT:$defaultLp_llp$$.setGravity(ccui.LinearLayoutParameter.RIGHT);break;case ccui.ListView.GRAVITY_CENTER_HORIZONTAL:$defaultLp_llp$$.setGravity(ccui.LinearLayoutParameter.CENTER_HORIZONTAL)}else{$defaultLp_llp$$=new ccui.LinearLayoutParameter;switch(this._gravity){case ccui.ListView.GRAVITY_LEFT:$defaultLp_llp$$.setGravity(ccui.LinearLayoutParameter.LEFT);
break;case ccui.ListView.GRAVITY_RIGHT:$defaultLp_llp$$.setGravity(ccui.LinearLayoutParameter.RIGHT);break;case ccui.ListView.GRAVITY_CENTER_HORIZONTAL:$defaultLp_llp$$.setGravity(ccui.LinearLayoutParameter.CENTER_HORIZONTAL)}0==this.getIndex($item$$)?$defaultLp_llp$$.setMargin(ccui.MarginZero()):$defaultLp_llp$$.setMargin(new ccui.Margin(0,this._itemsMargin,0,0));$item$$.setLayoutParameter($defaultLp_llp$$)}break;case ccui.ScrollView.DIR_HORIZONTAL:if($defaultLp_llp$$=$item$$.getLayoutParameter())switch(0==
this.getIndex($item$$)?$defaultLp_llp$$.setMargin(ccui.MarginZero()):$defaultLp_llp$$.setMargin(new ccui.Margin(this._itemsMargin,0,0,0)),this._gravity){case ccui.ListView.GRAVITY_TOP:$defaultLp_llp$$.setGravity(ccui.LinearLayoutParameter.TOP);break;case ccui.ListView.GRAVITY_BOTTOM:$defaultLp_llp$$.setGravity(ccui.LinearLayoutParameter.BOTTOM);break;case ccui.ListView.GRAVITY_CENTER_VERTICAL:$defaultLp_llp$$.setGravity(ccui.LinearLayoutParameter.CENTER_VERTICAL)}else{$defaultLp_llp$$=new ccui.LinearLayoutParameter;
switch(this._gravity){case ccui.ListView.GRAVITY_TOP:$defaultLp_llp$$.setGravity(ccui.LinearLayoutParameter.TOP);break;case ccui.ListView.GRAVITY_BOTTOM:$defaultLp_llp$$.setGravity(ccui.LinearLayoutParameter.BOTTOM);break;case ccui.ListView.GRAVITY_CENTER_VERTICAL:$defaultLp_llp$$.setGravity(ccui.LinearLayoutParameter.CENTER_VERTICAL)}0==this.getIndex($item$$)?$defaultLp_llp$$.setMargin(ccui.MarginZero()):$defaultLp_llp$$.setMargin(new ccui.Margin(this._itemsMargin,0,0,0));$item$$.setLayoutParameter($defaultLp_llp$$)}}}},
pushBackDefaultItem:function(){if(this._model){var $newItem$$=this._model.clone();this._remedyLayoutParameter($newItem$$);this.addChild($newItem$$);this._refreshViewDirty=!0}},insertDefaultItem:function($index$$){if(this._model){var $newItem$$=this._model.clone();this._items.splice($index$$,0,$newItem$$);ccui.ScrollView.prototype.addChild.call(this,$newItem$$);this._remedyLayoutParameter($newItem$$);this._refreshViewDirty=!0}},pushBackCustomItem:function($item$$){this._remedyLayoutParameter($item$$);
this.addChild($item$$);this._refreshViewDirty=!0},addChild:function($widget$$,$zOrder$$,$tag$$){$widget$$&&($zOrder$$=$zOrder$$||$widget$$.getLocalZOrder(),$tag$$=$tag$$||$widget$$.getName(),ccui.ScrollView.prototype.addChild.call(this,$widget$$,$zOrder$$,$tag$$),$widget$$ instanceof ccui.Widget&&this._items.push($widget$$))},removeChild:function($widget$$,$cleanup$$){if($widget$$){var $index$$=this._items.indexOf($widget$$);-1<$index$$&&this._items.splice($index$$,1);ccui.ScrollView.prototype.removeChild.call(this,
$widget$$,$cleanup$$)}},removeAllChildren:function(){this.removeAllChildrenWithCleanup(!0)},removeAllChildrenWithCleanup:function($cleanup$$){ccui.ScrollView.prototype.removeAllChildrenWithCleanup.call(this,$cleanup$$);this._items=[]},insertCustomItem:function($item$$,$index$$){this._items.splice($index$$,0,$item$$);ccui.ScrollView.prototype.addChild.call(this,$item$$);this._remedyLayoutParameter($item$$);this._refreshViewDirty=!0},removeItem:function($index$$117_item$$){if($index$$117_item$$=this.getItem($index$$117_item$$))this.removeChild($index$$117_item$$,
!0),this._refreshViewDirty=!0},removeLastItem:function(){this.removeItem(this._items.length-1)},removeAllItems:function(){this.removeAllChildren()},getItem:function($index$$){return 0>$index$$||$index$$>=this._items.length?null:this._items[$index$$]},getItems:function(){return this._items},getIndex:function($item$$){return this._items.indexOf($item$$)},setGravity:function($gravity$$){this._gravity!=$gravity$$&&(this._gravity=$gravity$$,this._refreshViewDirty=!0)},setItemsMargin:function($margin$$){this._itemsMargin!=
$margin$$&&(this._itemsMargin=$margin$$,this._refreshViewDirty=!0)},getItemsMargin:function(){return this._itemsMargin},setDirection:function($dir$$){switch($dir$$){case ccui.ScrollView.DIR_VERTICAL:this.setLayoutType(ccui.Layout.LINEAR_VERTICAL);break;case ccui.ScrollView.DIR_HORIZONTAL:this.setLayoutType(ccui.Layout.LINEAR_HORIZONTAL);break;case ccui.ScrollView.DIR_BOTH:return;default:return}ccui.ScrollView.prototype.setDirection.call(this,$dir$$)},requestRefreshView:function(){this._refreshViewDirty=
!0},refreshView:function(){for(var $locItems$$=this._items,$i$$=0;$i$$<$locItems$$.length;$i$$++){var $item$$=$locItems$$[$i$$];$item$$.setLocalZOrder($i$$);this._remedyLayoutParameter($item$$)}this._updateInnerContainerSize()},doLayout:function(){this._doLayout()},_doLayout:function(){ccui.Layout.prototype._doLayout.call(this);this._refreshViewDirty&&(this.refreshView(),this._refreshViewDirty=!1)},addEventListenerListView:function($selector$$,$target$$){this.addEventListener($selector$$,$target$$)},
addEventListener:function($selector$$,$target$$){this._listViewEventListener=$target$$;this._listViewEventSelector=$selector$$},_selectedItemEvent:function($event$$){$event$$=$event$$==ccui.Widget.TOUCH_BEGAN?ccui.ListView.ON_SELECTED_ITEM_START:ccui.ListView.ON_SELECTED_ITEM_END;this._listViewEventSelector&&(this._listViewEventListener?this._listViewEventSelector.call(this._listViewEventListener,this,$event$$):this._listViewEventSelector(this,$event$$))},interceptTouchEvent:function($eventType$$,
$sender$$,$parent$$146_touch$$){ccui.ScrollView.prototype.interceptTouchEvent.call(this,$eventType$$,$sender$$,$parent$$146_touch$$);if($eventType$$!=ccui.Widget.TOUCH_MOVED){for($parent$$146_touch$$=$sender$$;$parent$$146_touch$$;){if($parent$$146_touch$$&&$parent$$146_touch$$.getParent()==this._innerContainer){this._curSelectedIndex=this.getIndex($parent$$146_touch$$);break}$parent$$146_touch$$=$parent$$146_touch$$.getParent()}$sender$$.isHighlighted()&&this._selectedItemEvent($eventType$$)}},getCurSelectedIndex:function(){return this._curSelectedIndex},
_onSizeChanged:function(){ccui.ScrollView.prototype._onSizeChanged.call(this);this._refreshViewDirty=!0},getDescription:function(){return"ListView"},_createCloneInstance:function(){return new ccui.ListView},_copyClonedWidgetChildren:function($arrayItems_model$$){$arrayItems_model$$=$arrayItems_model$$.getItems();for(var $i$$=0;$i$$<$arrayItems_model$$.length;$i$$++)this.pushBackCustomItem($arrayItems_model$$[$i$$].clone())},_copySpecialProperties:function($listView$$){$listView$$ instanceof ccui.ListView&&
(ccui.ScrollView.prototype._copySpecialProperties.call(this,$listView$$),this.setItemModel($listView$$._model),this.setItemsMargin($listView$$._itemsMargin),this.setGravity($listView$$._gravity),this._listViewEventListener=$listView$$._listViewEventListener,this._listViewEventSelector=$listView$$._listViewEventSelector)}});ccui.ListView.create=function $ccui$ListView$create$(){return new ccui.ListView};ccui.ListView.EVENT_SELECTED_ITEM=0;ccui.ListView.ON_SELECTED_ITEM_START=0;
ccui.ListView.ON_SELECTED_ITEM_END=1;ccui.ListView.GRAVITY_LEFT=0;ccui.ListView.GRAVITY_RIGHT=1;ccui.ListView.GRAVITY_CENTER_HORIZONTAL=2;ccui.ListView.GRAVITY_TOP=3;ccui.ListView.GRAVITY_BOTTOM=4;ccui.ListView.GRAVITY_CENTER_VERTICAL=5;
ccui.PageView=ccui.Layout.extend({_curPageIdx:0,_pages:null,_touchMoveDirection:null,_touchStartLocation:0,_touchMoveStartLocation:0,_movePagePoint:null,_leftBoundaryChild:null,_rightBoundaryChild:null,_leftBoundary:0,_rightBoundary:0,_isAutoScrolling:!1,_autoScrollDistance:0,_autoScrollSpeed:0,_autoScrollDirection:0,_childFocusCancelOffset:0,_pageViewEventListener:null,_pageViewEventSelector:null,_className:"PageView",_customScrollThreshold:0,_usingCustomScrollThreshold:!1,ctor:function(){ccui.Layout.prototype.ctor.call(this);
this._pages=[];this._touchMoveDirection=ccui.PageView.TOUCH_DIR_LEFT;this._rightBoundaryChild=this._leftBoundaryChild=this._movePagePoint=null;this._childFocusCancelOffset=5;this._pageViewEventSelector=this._pageViewEventListener=null;this.setTouchEnabled(!0)},init:function(){return ccui.Layout.prototype.init.call(this)?(this.setClippingEnabled(!0),!0):!1},onEnter:function(){ccui.Layout.prototype.onEnter.call(this);this.scheduleUpdate(!0)},addWidgetToPage:function($widget$$,$newPage_page_pageIdx$$,
$forceCreate$$){if($widget$$&&!(0>$newPage_page_pageIdx$$)){var $pageCount$$=this._getPageCount();0>$newPage_page_pageIdx$$||$newPage_page_pageIdx$$>=$pageCount$$?$forceCreate$$&&($newPage_page_pageIdx$$>$pageCount$$&&cc.log("pageIdx is %d, it will be added as page id [%d]",$newPage_page_pageIdx$$,$pageCount$$),$newPage_page_pageIdx$$=this._createPage(),$newPage_page_pageIdx$$.addChild($widget$$),this.addPage($newPage_page_pageIdx$$)):($newPage_page_pageIdx$$=this._pages[$newPage_page_pageIdx$$])&&
$newPage_page_pageIdx$$.addChild($widget$$)}},_createPage:function(){var $newPage$$=new ccui.Layout;$newPage$$.setContentSize(this.getContentSize());return $newPage$$},addPage:function($page$$){$page$$&&-1==this._pages.indexOf($page$$)&&(this.addChild($page$$),this._pages.push($page$$),this._doLayoutDirty=!0)},insertPage:function($page$$,$idx$$){if(!(0>$idx$$)&&$page$$&&-1==this._pages.indexOf($page$$)){var $pageCount$$=this._getPageCount();$idx$$>=$pageCount$$?this.addPage($page$$):(this._pages[$idx$$]=
$page$$,this.addChild($page$$));this._doLayoutDirty=!0}},removePage:function($index$$119_page$$){$index$$119_page$$&&(this.removeChild($index$$119_page$$),$index$$119_page$$=this._pages.indexOf($index$$119_page$$),-1<$index$$119_page$$&&this._pages.splice($index$$119_page$$,1),this._doLayoutDirty=!0)},removePageAtIndex:function($index$$120_page$$){0>$index$$120_page$$||$index$$120_page$$>=this._pages.length||($index$$120_page$$=this._pages[$index$$120_page$$])&&this.removePage($index$$120_page$$)},
removeAllPages:function(){for(var $locPages$$=this._pages,$i$$=0,$len$$=$locPages$$.length;$i$$<$len$$;$i$$++)this.removeChild($locPages$$[$i$$]);this._pages.length=0},_updateBoundaryPages:function(){var $locPages$$=this._pages;0>=$locPages$$.length?this._rightBoundaryChild=this._leftBoundaryChild=null:(this._leftBoundaryChild=$locPages$$[0],this._rightBoundaryChild=$locPages$$[$locPages$$.length-1])},_getPageCount:function(){return this._pages.length},_getPositionXByIndex:function($idx$$){return this.getContentSize().width*
($idx$$-this._curPageIdx)},_onSizeChanged:function(){ccui.Layout.prototype._onSizeChanged.call(this);this._rightBoundary=this.getContentSize().width;this._doLayoutDirty=!0},_updateAllPagesSize:function(){for(var $selfSize$$=this.getContentSize(),$locPages$$=this._pages,$i$$=0,$len$$=$locPages$$.length;$i$$<$len$$;$i$$++)$locPages$$[$i$$].setContentSize($selfSize$$)},_updateAllPagesPosition:function(){var $pageCount$$=this._getPageCount();if(0>=$pageCount$$)this._curPageIdx=0;else{this._curPageIdx>=
$pageCount$$&&(this._curPageIdx=$pageCount$$-1);for(var $pageWidth$$=this.getContentSize().width,$locPages$$=this._pages,$i$$=0;$i$$<$pageCount$$;$i$$++)$locPages$$[$i$$].setPosition(cc.p(($i$$-this._curPageIdx)*$pageWidth$$,0))}},scrollToPage:function($idx$$){0>$idx$$||$idx$$>=this._pages.length||(this._curPageIdx=$idx$$,this._autoScrollDistance=-this._pages[$idx$$].getPosition().x,this._autoScrollSpeed=Math.abs(this._autoScrollDistance)/.2,this._autoScrollDirection=0<this._autoScrollDistance?ccui.PageView.DIRECTION_RIGHT:
ccui.PageView.DIRECTION_LEFT,this._isAutoScrolling=!0)},update:function($dt$$){this._isAutoScrolling&&this._autoScroll($dt$$)},setLayoutType:function($type$$){},getLayoutType:function(){return ccui.Layout.ABSOLUTE},_autoScroll:function($dt$$135_step$$){switch(this._autoScrollDirection){case ccui.PageView.DIRECTION_LEFT:$dt$$135_step$$*=this._autoScrollSpeed;0<=this._autoScrollDistance+$dt$$135_step$$?($dt$$135_step$$=-this._autoScrollDistance,this._autoScrollDistance=0,this._isAutoScrolling=!1):this._autoScrollDistance+=
$dt$$135_step$$;this._scrollPages(-$dt$$135_step$$);this._isAutoScrolling||this._pageTurningEvent();break;case ccui.PageView.DIRECTION_RIGHT:$dt$$135_step$$*=this._autoScrollSpeed,0>=this._autoScrollDistance-$dt$$135_step$$?($dt$$135_step$$=this._autoScrollDistance,this._autoScrollDistance=0,this._isAutoScrolling=!1):this._autoScrollDistance-=$dt$$135_step$$,this._scrollPages($dt$$135_step$$),this._isAutoScrolling||this._pageTurningEvent()}},onTouchMoved:function($touch$$,$event$$){ccui.Layout.prototype.onTouchMoved.call(this,
$touch$$,$event$$);this._isInterceptTouch||this._handleMoveLogic($touch$$)},onTouchEnded:function($touch$$,$event$$){ccui.Layout.prototype.onTouchEnded.call(this,$touch$$,$event$$);this._isInterceptTouch||this._handleReleaseLogic($touch$$);this._isInterceptTouch=!1},onTouchCancelled:function($touch$$,$event$$){ccui.Layout.prototype.onTouchCancelled.call(this,$touch$$,$event$$);this._isInterceptTouch||this.handleReleaseLogic($touch$$);this._isInterceptTouch=!1},_doLayout:function(){this._doLayoutDirty&&
(this._updateAllPagesPosition(),this._updateAllPagesSize(),this._updateBoundaryPages(),this._doLayoutDirty=!1)},_movePages:function($offset$$){for(var $arrayPages$$=this._pages,$length$$=$arrayPages$$.length,$i$$=0;$i$$<$length$$;$i$$++){var $child$$=$arrayPages$$[$i$$];$child$$.setPositionX($child$$.getPositionX()+$offset$$)}},_scrollPages:function($touchOffset$$){if(0>=this._pages.length||!this._leftBoundaryChild||!this._rightBoundaryChild)return!1;var $realOffset$$=$touchOffset$$;switch(this._touchMoveDirection){case ccui.PageView.TOUCH_DIR_LEFT:var $leftBoundary$$=
this._rightBoundaryChild.getRightBoundary();if($leftBoundary$$+$touchOffset$$<=this._rightBoundary)return $realOffset$$=this._rightBoundary-$leftBoundary$$,this._movePages($realOffset$$),!1;break;case ccui.PageView.TOUCH_DIR_RIGHT:if($leftBoundary$$=this._leftBoundaryChild.getLeftBoundary(),$leftBoundary$$+$touchOffset$$>=this._leftBoundary)return $realOffset$$=this._leftBoundary-$leftBoundary$$,this._movePages($realOffset$$),!1}this._movePages($realOffset$$);return!0},_handleMoveLogic:function($offset$$65_touch$$){$offset$$65_touch$$=
$offset$$65_touch$$.getLocation().x-$offset$$65_touch$$.getPreviousLocation().x;0>$offset$$65_touch$$?this._touchMoveDirection=ccui.PageView.TOUCH_DIR_LEFT:0<$offset$$65_touch$$&&(this._touchMoveDirection=ccui.PageView.TOUCH_DIR_RIGHT);this._scrollPages($offset$$65_touch$$)},setCustomScrollThreshold:function($threshold$$){cc.assert(0<$threshold$$,"Invalid threshold!");this._customScrollThreshold=$threshold$$;this.setUsingCustomScrollThreshold(!0)},getCustomScrollThreshold:function(){return this._customScrollThreshold},
setUsingCustomScrollThreshold:function($flag$$){this._usingCustomScrollThreshold=$flag$$},isUsingCustomScrollThreshold:function(){return this._usingCustomScrollThreshold},_handleReleaseLogic:function($curPage$$1_pageCount$$3_touchPoint$$){if(!(0>=this._pages.length)&&($curPage$$1_pageCount$$3_touchPoint$$=this._pages[this._curPageIdx])){var $curPageLocation_curPagePos$$=$curPage$$1_pageCount$$3_touchPoint$$.getPosition();$curPage$$1_pageCount$$3_touchPoint$$=this._pages.length;var $curPageLocation_curPagePos$$=
$curPageLocation_curPagePos$$.x,$boundary_pageWidth$$=this.getSize().width;this._usingCustomScrollThreshold||(this._customScrollThreshold=$boundary_pageWidth$$/2);$boundary_pageWidth$$=this._customScrollThreshold;$curPageLocation_curPagePos$$<=-$boundary_pageWidth$$?this._curPageIdx>=$curPage$$1_pageCount$$3_touchPoint$$-1?this._scrollPages(-$curPageLocation_curPagePos$$):this.scrollToPage(this._curPageIdx+1):$curPageLocation_curPagePos$$>=$boundary_pageWidth$$?0>=this._curPageIdx?this._scrollPages(-$curPageLocation_curPagePos$$):
this.scrollToPage(this._curPageIdx-1):this.scrollToPage(this._curPageIdx)}},interceptTouchEvent:function($eventType$$9_offset$$,$sender$$,$touch$$){var $touchPoint$$=$touch$$.getLocation();switch($eventType$$9_offset$$){case ccui.Widget.TOUCH_BEGAN:this._touchBeganPosition.x=$touchPoint$$.x;this._touchBeganPosition.y=$touchPoint$$.y;this._isInterceptTouch=!0;break;case ccui.Widget.TOUCH_MOVED:this._touchMovePosition.x=$touchPoint$$.x;this._touchMovePosition.y=$touchPoint$$.y;$eventType$$9_offset$$=
0;$eventType$$9_offset$$=Math.abs($sender$$.getTouchBeganPosition().x-$touchPoint$$.x);$eventType$$9_offset$$>this._childFocusCancelOffset&&($sender$$.setFocused(!1),this._handleMoveLogic($touch$$));break;case ccui.Widget.TOUCH_ENDED:case ccui.Widget.TOUCH_CANCELED:this._touchEndPosition.x=$touchPoint$$.x,this._touchEndPosition.y=$touchPoint$$.y,this._handleReleaseLogic($touch$$),$sender$$.isSwallowTouches()&&(this._isInterceptTouch=!1)}},_pageTurningEvent:function(){this._pageViewEventSelector&&
(this._pageViewEventListener?this._pageViewEventSelector.call(this._pageViewEventListener,this,ccui.PageView.EVENT_TURNING):this._pageViewEventSelector(this,ccui.PageView.EVENT_TURNING))},addEventListenerPageView:function($selector$$,$target$$){this.addEventListener($selector$$,$target$$)},addEventListener:function($selector$$,$target$$){this._pageViewEventSelector=$selector$$;this._pageViewEventListener=$target$$},getCurPageIndex:function(){return this._curPageIdx},getPages:function(){return this._pages},
getPage:function($index$$){return 0>$index$$||$index$$>=this.getPages().size()?null:this._pages[$index$$]},getDescription:function(){return"PageView"},_createCloneInstance:function(){return new ccui.PageView},_copyClonedWidgetChildren:function($arrayPages$$1_model$$){$arrayPages$$1_model$$=$arrayPages$$1_model$$.getPages();for(var $i$$=0;$i$$<$arrayPages$$1_model$$.length;$i$$++)this.addPage($arrayPages$$1_model$$[$i$$].clone())},_copySpecialProperties:function($pageView$$){ccui.Layout.prototype._copySpecialProperties.call(this,
$pageView$$);this._pageViewEventListener=$pageView$$._pageViewEventListener;this._pageViewEventSelector=$pageView$$._pageViewEventSelector;this._usingCustomScrollThreshold=$pageView$$._usingCustomScrollThreshold;this._customScrollThreshold=$pageView$$._customScrollThreshold}});ccui.PageView.create=function $ccui$PageView$create$(){return new ccui.PageView};ccui.PageView.EVENT_TURNING=0;ccui.PageView.TOUCH_DIR_LEFT=0;ccui.PageView.TOUCH_DIR_RIGHT=1;ccui.PageView.DIRECTION_LEFT=0;
ccui.PageView.DIRECTION_RIGHT=1;
(function($s$$0$$){function $u$$0$$($k$$0$$){function $g$$0$$($a$$,$b$$,$c$$){"undefined"===typeof $a$$&&($a$$=$g$$0$$.DEFAULT_CAPACITY);"undefined"===typeof $b$$&&($b$$=$g$$0$$.DEFAULT_ENDIAN);"undefined"===typeof $c$$&&($c$$=$g$$0$$.DEFAULT_NOASSERT);if(!$c$$){$a$$|=0;if(0>$a$$)throw RangeError("Illegal capacity");$b$$=!!$b$$;$c$$=!!$c$$}this.buffer=0===$a$$?$s$$:new ArrayBuffer($a$$);this.view=0===$a$$?null:new DataView(this.buffer);this.offset=0;this.markedOffset=-1;this.limit=$a$$;this.littleEndian=
"undefined"!==typeof $b$$?!!$b$$:!1;this.noAssert=!!$c$$}function $m$$0$$($a$$){var $b$$=0;return function(){return $b$$<$a$$.length?$a$$.charCodeAt($b$$++):null}}function $t$$(){var $a$$=[],$b$$=[];return function(){if(0===arguments.length)return $b$$.join("")+$u$$.apply(String,$a$$);1024<$a$$.length+arguments.length&&($b$$.push($u$$.apply(String,$a$$)),$a$$.length=0);Array.prototype.push.apply($a$$,arguments)}}$g$$0$$.VERSION="3.4.0";$g$$0$$.LITTLE_ENDIAN=!0;$g$$0$$.BIG_ENDIAN=!1;$g$$0$$.DEFAULT_CAPACITY=
16;$g$$0$$.DEFAULT_ENDIAN=$g$$0$$.BIG_ENDIAN;$g$$0$$.DEFAULT_NOASSERT=!1;$g$$0$$.Long=$k$$0$$||null;var $e$$0$$=$g$$0$$.prototype,$s$$=new ArrayBuffer(0),$u$$=String.fromCharCode;$g$$0$$.allocate=function $$g$$0$$$allocate$($a$$,$b$$,$c$$){return new $g$$0$$($a$$,$b$$,$c$$)};$g$$0$$.concat=function $$g$$0$$$concat$($a$$,$b$$,$c$$,$d$$){if("boolean"===typeof $b$$||"string"!==typeof $b$$)$d$$=$c$$,$c$$=$b$$,$b$$=void 0;for(var $f$$=0,$n$$=0,$h$$=$a$$.length,$e$$;$n$$<$h$$;++$n$$)$g$$0$$.isByteBuffer($a$$[$n$$])||
($a$$[$n$$]=$g$$0$$.wrap($a$$[$n$$],$b$$)),$e$$=$a$$[$n$$].limit-$a$$[$n$$].offset,0<$e$$&&($f$$+=$e$$);if(0===$f$$)return new $g$$0$$(0,$c$$,$d$$);$b$$=new $g$$0$$($f$$,$c$$,$d$$);$d$$=new Uint8Array($b$$.buffer);for($n$$=0;$n$$<$h$$;)$c$$=$a$$[$n$$++],$e$$=$c$$.limit-$c$$.offset,0>=$e$$||($d$$.set((new Uint8Array($c$$.buffer)).subarray($c$$.offset,$c$$.limit),$b$$.offset),$b$$.offset+=$e$$);$b$$.limit=$b$$.offset;$b$$.offset=0;return $b$$};$g$$0$$.isByteBuffer=function $$g$$0$$$isByteBuffer$($a$$){return!0===
($a$$&&$a$$ instanceof $g$$0$$)};$g$$0$$.type=function $$g$$0$$$type$(){return ArrayBuffer};$g$$0$$.wrap=function $$g$$0$$$wrap$($a$$,$b$$,$c$$,$d$$){"string"!==typeof $b$$&&($d$$=$c$$,$c$$=$b$$,$b$$=void 0);if("string"===typeof $a$$)switch("undefined"===typeof $b$$&&($b$$="utf8"),$b$$){case "base64":return $g$$0$$.fromBase64($a$$,$c$$);case "hex":return $g$$0$$.fromHex($a$$,$c$$);case "binary":return $g$$0$$.fromBinary($a$$,$c$$);case "utf8":return $g$$0$$.fromUTF8($a$$,$c$$);case "debug":return $g$$0$$.fromDebug($a$$,
$c$$);default:throw Error("Unsupported encoding: "+$b$$);}if(null===$a$$||"object"!==typeof $a$$)throw TypeError("Illegal buffer");if($g$$0$$.isByteBuffer($a$$))return $b$$=$e$$0$$.clone.call($a$$),$b$$.markedOffset=-1,$b$$;if($a$$ instanceof Uint8Array)$b$$=new $g$$0$$(0,$c$$,$d$$),0<$a$$.length&&($b$$.buffer=$a$$.buffer,$b$$.offset=$a$$.byteOffset,$b$$.limit=$a$$.byteOffset+$a$$.length,$b$$.view=0<$a$$.length?new DataView($a$$.buffer):null);else if($a$$ instanceof ArrayBuffer)$b$$=new $g$$0$$(0,
$c$$,$d$$),0<$a$$.byteLength&&($b$$.buffer=$a$$,$b$$.offset=0,$b$$.limit=$a$$.byteLength,$b$$.view=0<$a$$.byteLength?new DataView($a$$):null);else if("[object Array]"===Object.prototype.toString.call($a$$))for($b$$=new $g$$0$$($a$$.length,$c$$,$d$$),$b$$.limit=$a$$.length,i=0;i<$a$$.length;++i)$b$$.view.setUint8(i,$a$$[i]);else throw TypeError("Illegal buffer");return $b$$};$e$$0$$.writeInt8=function $$e$$0$$$writeInt8$($a$$,$b$$){var $c$$="undefined"===typeof $b$$;$c$$&&($b$$=this.offset);if(!this.noAssert){if("number"!==
typeof $a$$||0!==$a$$%1)throw TypeError("Illegal value: "+$a$$+" (not an integer)");$a$$|=0;if("number"!==typeof $b$$||0!==$b$$%1)throw TypeError("Illegal offset: "+$b$$+" (not an integer)");$b$$>>>=0;if(0>$b$$||$b$$+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+$b$$+" (+0) <= "+this.buffer.byteLength);}$b$$+=1;var $d$$=this.buffer.byteLength;$b$$>$d$$&&this.resize(($d$$*=2)>$b$$?$d$$:$b$$);this.view.setInt8($b$$-1,$a$$);$c$$&&(this.offset+=1);return this};$e$$0$$.writeByte=$e$$0$$.writeInt8;
$e$$0$$.readInt8=function $$e$$0$$$readInt8$($a$$){var $b$$="undefined"===typeof $a$$;$b$$&&($a$$=this.offset);if(!this.noAssert){if("number"!==typeof $a$$||0!==$a$$%1)throw TypeError("Illegal offset: "+$a$$+" (not an integer)");$a$$>>>=0;if(0>$a$$||$a$$+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+$a$$+" (+1) <= "+this.buffer.byteLength);}$a$$=this.view.getInt8($a$$);$b$$&&(this.offset+=1);return $a$$};$e$$0$$.readByte=$e$$0$$.readInt8;$e$$0$$.writeUint8=function $$e$$0$$$writeUint8$($a$$,
$b$$){var $c$$="undefined"===typeof $b$$;$c$$&&($b$$=this.offset);if(!this.noAssert){if("number"!==typeof $a$$||0!==$a$$%1)throw TypeError("Illegal value: "+$a$$+" (not an integer)");$a$$>>>=0;if("number"!==typeof $b$$||0!==$b$$%1)throw TypeError("Illegal offset: "+$b$$+" (not an integer)");$b$$>>>=0;if(0>$b$$||$b$$+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+$b$$+" (+0) <= "+this.buffer.byteLength);}$b$$+=1;var $d$$=this.buffer.byteLength;$b$$>$d$$&&this.resize(($d$$*=2)>$b$$?
$d$$:$b$$);this.view.setUint8($b$$-1,$a$$);$c$$&&(this.offset+=1);return this};$e$$0$$.readUint8=function $$e$$0$$$readUint8$($a$$){var $b$$="undefined"===typeof $a$$;$b$$&&($a$$=this.offset);if(!this.noAssert){if("number"!==typeof $a$$||0!==$a$$%1)throw TypeError("Illegal offset: "+$a$$+" (not an integer)");$a$$>>>=0;if(0>$a$$||$a$$+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+$a$$+" (+1) <= "+this.buffer.byteLength);}$a$$=this.view.getUint8($a$$);$b$$&&(this.offset+=1);return $a$$};
$e$$0$$.writeInt16=function $$e$$0$$$writeInt16$($a$$,$b$$){var $c$$="undefined"===typeof $b$$;$c$$&&($b$$=this.offset);if(!this.noAssert){if("number"!==typeof $a$$||0!==$a$$%1)throw TypeError("Illegal value: "+$a$$+" (not an integer)");$a$$|=0;if("number"!==typeof $b$$||0!==$b$$%1)throw TypeError("Illegal offset: "+$b$$+" (not an integer)");$b$$>>>=0;if(0>$b$$||$b$$+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+$b$$+" (+0) <= "+this.buffer.byteLength);}$b$$+=2;var $d$$=this.buffer.byteLength;
$b$$>$d$$&&this.resize(($d$$*=2)>$b$$?$d$$:$b$$);this.view.setInt16($b$$-2,$a$$,this.littleEndian);$c$$&&(this.offset+=2);return this};$e$$0$$.writeShort=$e$$0$$.writeInt16;$e$$0$$.readInt16=function $$e$$0$$$readInt16$($a$$){var $b$$="undefined"===typeof $a$$;$b$$&&($a$$=this.offset);if(!this.noAssert){if("number"!==typeof $a$$||0!==$a$$%1)throw TypeError("Illegal offset: "+$a$$+" (not an integer)");$a$$>>>=0;if(0>$a$$||$a$$+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+$a$$+
" (+2) <= "+this.buffer.byteLength);}$a$$=this.view.getInt16($a$$,this.littleEndian);$b$$&&(this.offset+=2);return $a$$};$e$$0$$.readShort=$e$$0$$.readInt16;$e$$0$$.writeUint16=function $$e$$0$$$writeUint16$($a$$,$b$$){var $c$$="undefined"===typeof $b$$;$c$$&&($b$$=this.offset);if(!this.noAssert){if("number"!==typeof $a$$||0!==$a$$%1)throw TypeError("Illegal value: "+$a$$+" (not an integer)");$a$$>>>=0;if("number"!==typeof $b$$||0!==$b$$%1)throw TypeError("Illegal offset: "+$b$$+" (not an integer)");
$b$$>>>=0;if(0>$b$$||$b$$+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+$b$$+" (+0) <= "+this.buffer.byteLength);}$b$$+=2;var $d$$=this.buffer.byteLength;$b$$>$d$$&&this.resize(($d$$*=2)>$b$$?$d$$:$b$$);this.view.setUint16($b$$-2,$a$$,this.littleEndian);$c$$&&(this.offset+=2);return this};$e$$0$$.readUint16=function $$e$$0$$$readUint16$($a$$){var $b$$="undefined"===typeof $a$$;$b$$&&($a$$=this.offset);if(!this.noAssert){if("number"!==typeof $a$$||0!==$a$$%1)throw TypeError("Illegal offset: "+
$a$$+" (not an integer)");$a$$>>>=0;if(0>$a$$||$a$$+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+$a$$+" (+2) <= "+this.buffer.byteLength);}$a$$=this.view.getUint16($a$$,this.littleEndian);$b$$&&(this.offset+=2);return $a$$};$e$$0$$.writeInt32=function $$e$$0$$$writeInt32$($a$$,$b$$){var $c$$="undefined"===typeof $b$$;$c$$&&($b$$=this.offset);if(!this.noAssert){if("number"!==typeof $a$$||0!==$a$$%1)throw TypeError("Illegal value: "+$a$$+" (not an integer)");$a$$|=0;if("number"!==
typeof $b$$||0!==$b$$%1)throw TypeError("Illegal offset: "+$b$$+" (not an integer)");$b$$>>>=0;if(0>$b$$||$b$$+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+$b$$+" (+0) <= "+this.buffer.byteLength);}$b$$+=4;var $d$$=this.buffer.byteLength;$b$$>$d$$&&this.resize(($d$$*=2)>$b$$?$d$$:$b$$);this.view.setInt32($b$$-4,$a$$,this.littleEndian);$c$$&&(this.offset+=4);return this};$e$$0$$.writeInt=$e$$0$$.writeInt32;$e$$0$$.readInt32=function $$e$$0$$$readInt32$($a$$){var $b$$="undefined"===
typeof $a$$;$b$$&&($a$$=this.offset);if(!this.noAssert){if("number"!==typeof $a$$||0!==$a$$%1)throw TypeError("Illegal offset: "+$a$$+" (not an integer)");$a$$>>>=0;if(0>$a$$||$a$$+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+$a$$+" (+4) <= "+this.buffer.byteLength);}$a$$=this.view.getInt32($a$$,this.littleEndian);$b$$&&(this.offset+=4);return $a$$};$e$$0$$.readInt=$e$$0$$.readInt32;$e$$0$$.writeUint32=function $$e$$0$$$writeUint32$($a$$,$b$$){var $c$$="undefined"===typeof $b$$;
$c$$&&($b$$=this.offset);if(!this.noAssert){if("number"!==typeof $a$$||0!==$a$$%1)throw TypeError("Illegal value: "+$a$$+" (not an integer)");$a$$>>>=0;if("number"!==typeof $b$$||0!==$b$$%1)throw TypeError("Illegal offset: "+$b$$+" (not an integer)");$b$$>>>=0;if(0>$b$$||$b$$+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+$b$$+" (+0) <= "+this.buffer.byteLength);}$b$$+=4;var $d$$=this.buffer.byteLength;$b$$>$d$$&&this.resize(($d$$*=2)>$b$$?$d$$:$b$$);this.view.setUint32($b$$-4,
$a$$,this.littleEndian);$c$$&&(this.offset+=4);return this};$e$$0$$.readUint32=function $$e$$0$$$readUint32$($a$$){var $b$$="undefined"===typeof $a$$;$b$$&&($a$$=this.offset);if(!this.noAssert){if("number"!==typeof $a$$||0!==$a$$%1)throw TypeError("Illegal offset: "+$a$$+" (not an integer)");$a$$>>>=0;if(0>$a$$||$a$$+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+$a$$+" (+4) <= "+this.buffer.byteLength);}$a$$=this.view.getUint32($a$$,this.littleEndian);$b$$&&(this.offset+=4);return $a$$};
$k$$0$$&&($e$$0$$.writeInt64=function $$e$$0$$$writeInt64$($a$$,$b$$){var $c$$="undefined"===typeof $b$$;$c$$&&($b$$=this.offset);if(!this.noAssert){if("number"===typeof $a$$)$a$$=$k$$0$$.fromNumber($a$$);else if(!($a$$&&$a$$ instanceof $k$$0$$))throw TypeError("Illegal value: "+$a$$+" (not an integer or Long)");if("number"!==typeof $b$$||0!==$b$$%1)throw TypeError("Illegal offset: "+$b$$+" (not an integer)");$b$$>>>=0;if(0>$b$$||$b$$+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+
$b$$+" (+0) <= "+this.buffer.byteLength);}"number"===typeof $a$$&&($a$$=$k$$0$$.fromNumber($a$$));$b$$+=8;var $d$$=this.buffer.byteLength;$b$$>$d$$&&this.resize(($d$$*=2)>$b$$?$d$$:$b$$);$b$$-=8;this.littleEndian?(this.view.setInt32($b$$,$a$$.low,!0),this.view.setInt32($b$$+4,$a$$.high,!0)):(this.view.setInt32($b$$,$a$$.high,!1),this.view.setInt32($b$$+4,$a$$.low,!1));$c$$&&(this.offset+=8);return this},$e$$0$$.writeLong=$e$$0$$.writeInt64,$e$$0$$.readInt64=function $$e$$0$$$readInt64$($a$$){var $b$$=
"undefined"===typeof $a$$;$b$$&&($a$$=this.offset);if(!this.noAssert){if("number"!==typeof $a$$||0!==$a$$%1)throw TypeError("Illegal offset: "+$a$$+" (not an integer)");$a$$>>>=0;if(0>$a$$||$a$$+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+$a$$+" (+8) <= "+this.buffer.byteLength);}$a$$=this.littleEndian?new $k$$0$$(this.view.getInt32($a$$,!0),this.view.getInt32($a$$+4,!0),!1):new $k$$0$$(this.view.getInt32($a$$+4,!1),this.view.getInt32($a$$,!1),!1);$b$$&&(this.offset+=8);return $a$$},
$e$$0$$.readLong=$e$$0$$.readInt64,$e$$0$$.writeUint64=function $$e$$0$$$writeUint64$($a$$,$b$$){var $c$$="undefined"===typeof $b$$;$c$$&&($b$$=this.offset);if(!this.noAssert){if("number"===typeof $a$$)$a$$=$k$$0$$.fromNumber($a$$);else if(!($a$$&&$a$$ instanceof $k$$0$$))throw TypeError("Illegal value: "+$a$$+" (not an integer or Long)");if("number"!==typeof $b$$||0!==$b$$%1)throw TypeError("Illegal offset: "+$b$$+" (not an integer)");$b$$>>>=0;if(0>$b$$||$b$$+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+
$b$$+" (+0) <= "+this.buffer.byteLength);}"number"===typeof $a$$&&($a$$=$k$$0$$.fromNumber($a$$));$b$$+=8;var $d$$=this.buffer.byteLength;$b$$>$d$$&&this.resize(($d$$*=2)>$b$$?$d$$:$b$$);$b$$-=8;this.littleEndian?(this.view.setInt32($b$$,$a$$.low,!0),this.view.setInt32($b$$+4,$a$$.high,!0)):(this.view.setInt32($b$$,$a$$.high,!1),this.view.setInt32($b$$+4,$a$$.low,!1));$c$$&&(this.offset+=8);return this},$e$$0$$.readUint64=function $$e$$0$$$readUint64$($a$$){var $b$$="undefined"===typeof $a$$;$b$$&&
($a$$=this.offset);if(!this.noAssert){if("number"!==typeof $a$$||0!==$a$$%1)throw TypeError("Illegal offset: "+$a$$+" (not an integer)");$a$$>>>=0;if(0>$a$$||$a$$+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+$a$$+" (+8) <= "+this.buffer.byteLength);}$a$$=this.littleEndian?new $k$$0$$(this.view.getInt32($a$$,!0),this.view.getInt32($a$$+4,!0),!0):new $k$$0$$(this.view.getInt32($a$$+4,!1),this.view.getInt32($a$$,!1),!0);$b$$&&(this.offset+=8);return $a$$});$e$$0$$.writeFloat32=function $$e$$0$$$writeFloat32$($a$$,
$b$$){var $c$$="undefined"===typeof $b$$;$c$$&&($b$$=this.offset);if(!this.noAssert){if("number"!==typeof $a$$)throw TypeError("Illegal value: "+$a$$+" (not a number)");if("number"!==typeof $b$$||0!==$b$$%1)throw TypeError("Illegal offset: "+$b$$+" (not an integer)");$b$$>>>=0;if(0>$b$$||$b$$+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+$b$$+" (+0) <= "+this.buffer.byteLength);}$b$$+=4;var $d$$=this.buffer.byteLength;$b$$>$d$$&&this.resize(($d$$*=2)>$b$$?$d$$:$b$$);this.view.setFloat32($b$$-
4,$a$$,this.littleEndian);$c$$&&(this.offset+=4);return this};$e$$0$$.writeFloat=$e$$0$$.writeFloat32;$e$$0$$.readFloat32=function $$e$$0$$$readFloat32$($a$$){var $b$$="undefined"===typeof $a$$;$b$$&&($a$$=this.offset);if(!this.noAssert){if("number"!==typeof $a$$||0!==$a$$%1)throw TypeError("Illegal offset: "+$a$$+" (not an integer)");$a$$>>>=0;if(0>$a$$||$a$$+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+$a$$+" (+4) <= "+this.buffer.byteLength);}$a$$=this.view.getFloat32($a$$,
this.littleEndian);$b$$&&(this.offset+=4);return $a$$};$e$$0$$.readFloat=$e$$0$$.readFloat32;$e$$0$$.writeFloat64=function $$e$$0$$$writeFloat64$($a$$,$b$$){var $c$$="undefined"===typeof $b$$;$c$$&&($b$$=this.offset);if(!this.noAssert){if("number"!==typeof $a$$)throw TypeError("Illegal value: "+$a$$+" (not a number)");if("number"!==typeof $b$$||0!==$b$$%1)throw TypeError("Illegal offset: "+$b$$+" (not an integer)");$b$$>>>=0;if(0>$b$$||$b$$+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+
$b$$+" (+0) <= "+this.buffer.byteLength);}$b$$+=8;var $d$$=this.buffer.byteLength;$b$$>$d$$&&this.resize(($d$$*=2)>$b$$?$d$$:$b$$);this.view.setFloat64($b$$-8,$a$$,this.littleEndian);$c$$&&(this.offset+=8);return this};$e$$0$$.writeDouble=$e$$0$$.writeFloat64;$e$$0$$.readFloat64=function $$e$$0$$$readFloat64$($a$$){var $b$$="undefined"===typeof $a$$;$b$$&&($a$$=this.offset);if(!this.noAssert){if("number"!==typeof $a$$||0!==$a$$%1)throw TypeError("Illegal offset: "+$a$$+" (not an integer)");$a$$>>>=
0;if(0>$a$$||$a$$+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+$a$$+" (+8) <= "+this.buffer.byteLength);}$a$$=this.view.getFloat64($a$$,this.littleEndian);$b$$&&(this.offset+=8);return $a$$};$e$$0$$.readDouble=$e$$0$$.readFloat64;$g$$0$$.MAX_VARINT32_BYTES=5;$g$$0$$.calculateVarint32=function $$g$$0$$$calculateVarint32$($a$$){$a$$>>>=0;return 128>$a$$?1:16384>$a$$?2:2097152>$a$$?3:268435456>$a$$?4:5};$g$$0$$.zigZagEncode32=function $$g$$0$$$zigZagEncode32$($a$$){return(($a$$|=
0)<<1^$a$$>>31)>>>0};$g$$0$$.zigZagDecode32=function $$g$$0$$$zigZagDecode32$($a$$){return $a$$>>>1^-($a$$&1)|0};$e$$0$$.writeVarint32=function $$e$$0$$$writeVarint32$($a$$,$b$$){var $c$$="undefined"===typeof $b$$;$c$$&&($b$$=this.offset);if(!this.noAssert){if("number"!==typeof $a$$||0!==$a$$%1)throw TypeError("Illegal value: "+$a$$+" (not an integer)");$a$$|=0;if("number"!==typeof $b$$||0!==$b$$%1)throw TypeError("Illegal offset: "+$b$$+" (not an integer)");$b$$>>>=0;if(0>$b$$||$b$$+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+
$b$$+" (+0) <= "+this.buffer.byteLength);}var $d$$=$g$$0$$.calculateVarint32($a$$);$b$$+=$d$$;var $f$$=this.buffer.byteLength;$b$$>$f$$&&this.resize(($f$$*=2)>$b$$?$f$$:$b$$);$b$$-=$d$$;this.view.setUint8($b$$,$d$$=$a$$|128);$a$$>>>=0;128<=$a$$?($d$$=$a$$>>7|128,this.view.setUint8($b$$+1,$d$$),16384<=$a$$?($d$$=$a$$>>14|128,this.view.setUint8($b$$+2,$d$$),2097152<=$a$$?($d$$=$a$$>>21|128,this.view.setUint8($b$$+3,$d$$),268435456<=$a$$?(this.view.setUint8($b$$+4,$a$$>>28&15),$d$$=5):(this.view.setUint8($b$$+
3,$d$$&127),$d$$=4)):(this.view.setUint8($b$$+2,$d$$&127),$d$$=3)):(this.view.setUint8($b$$+1,$d$$&127),$d$$=2)):(this.view.setUint8($b$$,$d$$&127),$d$$=1);return $c$$?(this.offset+=$d$$,this):$d$$};$e$$0$$.writeVarint32ZigZag=function $$e$$0$$$writeVarint32ZigZag$($a$$,$b$$){return this.writeVarint32($g$$0$$.zigZagEncode32($a$$),$b$$)};$e$$0$$.readVarint32=function $$e$$0$$$readVarint32$($a$$){var $b$$="undefined"===typeof $a$$;$b$$&&($a$$=this.offset);if(!this.noAssert){if("number"!==typeof $a$$||
0!==$a$$%1)throw TypeError("Illegal offset: "+$a$$+" (not an integer)");$a$$>>>=0;if(0>$a$$||$a$$+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+$a$$+" (+1) <= "+this.buffer.byteLength);}var $c$$=0,$d$$=0,$f$$;do{$f$$=$a$$+$c$$;if(!this.noAssert&&$f$$>this.limit)throw $a$$=Error("Truncated"),$a$$.truncated=!0,$a$$;$f$$=this.view.getUint8($f$$);5>$c$$&&($d$$|=($f$$&127)<<7*$c$$>>>0);++$c$$}while(128===($f$$&128));$d$$|=0;return $b$$?(this.offset+=$c$$,$d$$):{value:$d$$,length:$c$$}};
$e$$0$$.readVarint32ZigZag=function $$e$$0$$$readVarint32ZigZag$($a$$){$a$$=this.readVarint32($a$$);"object"===typeof $a$$?$a$$.value=$g$$0$$.zigZagDecode32($a$$.value):$a$$=$g$$0$$.zigZagDecode32($a$$);return $a$$};$k$$0$$&&($g$$0$$.MAX_VARINT64_BYTES=10,$g$$0$$.calculateVarint64=function $$g$$0$$$calculateVarint64$($a$$){"number"===typeof $a$$&&($a$$=$k$$0$$.fromNumber($a$$));var $b$$=$a$$.toInt()>>>0,$c$$=$a$$.shiftRightUnsigned(28).toInt()>>>0;$a$$=$a$$.shiftRightUnsigned(56).toInt()>>>0;return 0==
$a$$?0==$c$$?16384>$b$$?128>$b$$?1:2:2097152>$b$$?3:4:16384>$c$$?128>$c$$?5:6:2097152>$c$$?7:8:128>$a$$?9:10},$g$$0$$.zigZagEncode64=function $$g$$0$$$zigZagEncode64$($a$$){"number"===typeof $a$$?$a$$=$k$$0$$.fromNumber($a$$,!1):!1!==$a$$.unsigned&&($a$$=$a$$.toSigned());return $a$$.shiftLeft(1).xor($a$$.shiftRight(63)).toUnsigned()},$g$$0$$.zigZagDecode64=function $$g$$0$$$zigZagDecode64$($a$$){"number"===typeof $a$$?$a$$=$k$$0$$.fromNumber($a$$,!1):!1!==$a$$.unsigned&&($a$$=$a$$.toSigned());return $a$$.shiftRightUnsigned(1).xor($a$$.and($k$$0$$.ONE).toSigned().negate()).toSigned()},
$e$$0$$.writeVarint64=function $$e$$0$$$writeVarint64$($a$$,$b$$){var $c$$="undefined"===typeof $b$$;$c$$&&($b$$=this.offset);if(!this.noAssert){if("number"===typeof $a$$)$a$$=$k$$0$$.fromNumber($a$$);else if(!($a$$&&$a$$ instanceof $k$$0$$))throw TypeError("Illegal value: "+$a$$+" (not an integer or Long)");if("number"!==typeof $b$$||0!==$b$$%1)throw TypeError("Illegal offset: "+$b$$+" (not an integer)");$b$$>>>=0;if(0>$b$$||$b$$+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+
$b$$+" (+0) <= "+this.buffer.byteLength);}"number"===typeof $a$$?$a$$=$k$$0$$.fromNumber($a$$,!1):!1!==$a$$.unsigned&&($a$$=$a$$.toSigned());var $d$$=$g$$0$$.calculateVarint64($a$$),$f$$=$a$$.toInt()>>>0,$n$$=$a$$.shiftRightUnsigned(28).toInt()>>>0,$e$$=$a$$.shiftRightUnsigned(56).toInt()>>>0;$b$$+=$d$$;var $r$$=this.buffer.byteLength;$b$$>$r$$&&this.resize(($r$$*=2)>$b$$?$r$$:$b$$);$b$$-=$d$$;switch($d$$){case 10:this.view.setUint8($b$$+9,$e$$>>>7&1);case 9:this.view.setUint8($b$$+8,9!==$d$$?$e$$|
128:$e$$&127);case 8:this.view.setUint8($b$$+7,8!==$d$$?$n$$>>>21|128:$n$$>>>21&127);case 7:this.view.setUint8($b$$+6,7!==$d$$?$n$$>>>14|128:$n$$>>>14&127);case 6:this.view.setUint8($b$$+5,6!==$d$$?$n$$>>>7|128:$n$$>>>7&127);case 5:this.view.setUint8($b$$+4,5!==$d$$?$n$$|128:$n$$&127);case 4:this.view.setUint8($b$$+3,4!==$d$$?$f$$>>>21|128:$f$$>>>21&127);case 3:this.view.setUint8($b$$+2,3!==$d$$?$f$$>>>14|128:$f$$>>>14&127);case 2:this.view.setUint8($b$$+1,2!==$d$$?$f$$>>>7|128:$f$$>>>7&127);case 1:this.view.setUint8($b$$,
1!==$d$$?$f$$|128:$f$$&127)}return $c$$?(this.offset+=$d$$,this):$d$$},$e$$0$$.writeVarint64ZigZag=function $$e$$0$$$writeVarint64ZigZag$($a$$,$b$$){return this.writeVarint64($g$$0$$.zigZagEncode64($a$$),$b$$)},$e$$0$$.readVarint64=function $$e$$0$$$readVarint64$($a$$){var $b$$="undefined"===typeof $a$$;$b$$&&($a$$=this.offset);if(!this.noAssert){if("number"!==typeof $a$$||0!==$a$$%1)throw TypeError("Illegal offset: "+$a$$+" (not an integer)");$a$$>>>=0;if(0>$a$$||$a$$+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+
$a$$+" (+1) <= "+this.buffer.byteLength);}var $c$$=$a$$,$d$$=0,$f$$=0,$e$$=0,$h$$=0,$h$$=this.view.getUint8($a$$++),$d$$=$h$$&127;if($h$$&128&&($h$$=this.view.getUint8($a$$++),$d$$|=($h$$&127)<<7,$h$$&128&&($h$$=this.view.getUint8($a$$++),$d$$|=($h$$&127)<<14,$h$$&128&&($h$$=this.view.getUint8($a$$++),$d$$|=($h$$&127)<<21,$h$$&128&&($h$$=this.view.getUint8($a$$++),$f$$=$h$$&127,$h$$&128&&($h$$=this.view.getUint8($a$$++),$f$$|=($h$$&127)<<7,$h$$&128&&($h$$=this.view.getUint8($a$$++),$f$$|=($h$$&127)<<
14,$h$$&128&&($h$$=this.view.getUint8($a$$++),$f$$|=($h$$&127)<<21,$h$$&128&&($h$$=this.view.getUint8($a$$++),$e$$=$h$$&127,$h$$&128&&($h$$=this.view.getUint8($a$$++),$e$$|=($h$$&127)<<7,$h$$&128))))))))))throw Error("Buffer overrun");$d$$=$k$$0$$.fromBits($d$$|$f$$<<28,$f$$>>>4|$e$$<<24,!1);return $b$$?(this.offset=$a$$,$d$$):{value:$d$$,length:$a$$-$c$$}},$e$$0$$.readVarint64ZigZag=function $$e$$0$$$readVarint64ZigZag$($a$$){($a$$=this.readVarint64($a$$))&&$a$$.value instanceof $k$$0$$?$a$$.value=
$g$$0$$.zigZagDecode64($a$$.value):$a$$=$g$$0$$.zigZagDecode64($a$$);return $a$$});$e$$0$$.writeCString=function $$e$$0$$$writeCString$($a$$0$$,$b$$){var $c$$="undefined"===typeof $b$$;$c$$&&($b$$=this.offset);var $d$$,$f$$=$a$$0$$.length;if(!this.noAssert){if("string"!==typeof $a$$0$$)throw TypeError("Illegal str: Not a string");for($d$$=0;$d$$<$f$$;++$d$$)if(0===$a$$0$$.charCodeAt($d$$))throw RangeError("Illegal str: Contains NULL-characters");if("number"!==typeof $b$$||0!==$b$$%1)throw TypeError("Illegal offset: "+
$b$$+" (not an integer)");$b$$>>>=0;if(0>$b$$||$b$$+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+$b$$+" (+0) <= "+this.buffer.byteLength);}$d$$=$b$$;$f$$=$l$$0$$.a($m$$0$$($a$$0$$))[1];$b$$+=$f$$+1;var $e$$=this.buffer.byteLength;$b$$>$e$$&&this.resize(($e$$*=2)>$b$$?$e$$:$b$$);$b$$-=$f$$+1;$l$$0$$.c($m$$0$$($a$$0$$),function($a$$){this.view.setUint8($b$$++,$a$$)}.bind(this));this.view.setUint8($b$$++,0);return $c$$?(this.offset=$b$$-$d$$,this):$f$$};$e$$0$$.readCString=function $$e$$0$$$readCString$($a$$){var $b$$=
"undefined"===typeof $a$$;$b$$&&($a$$=this.offset);if(!this.noAssert){if("number"!==typeof $a$$||0!==$a$$%1)throw TypeError("Illegal offset: "+$a$$+" (not an integer)");$a$$>>>=0;if(0>$a$$||$a$$+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+$a$$+" (+1) <= "+this.buffer.byteLength);}var $c$$=$a$$,$d$$,$f$$=-1;$l$$0$$.b(function(){if(0===$f$$)return null;if($a$$>=this.limit)throw RangeError("Illegal range: Truncated data, "+$a$$+" < "+this.limit);return 0===($f$$=this.view.getUint8($a$$++))?
null:$f$$}.bind(this),$d$$=$t$$(),!0);return $b$$?(this.offset=$a$$,$d$$()):{string:$d$$(),length:$a$$-$c$$}};$e$$0$$.writeIString=function $$e$$0$$$writeIString$($a$$0$$,$b$$){var $c$$="undefined"===typeof $b$$;$c$$&&($b$$=this.offset);if(!this.noAssert){if("string"!==typeof $a$$0$$)throw TypeError("Illegal str: Not a string");if("number"!==typeof $b$$||0!==$b$$%1)throw TypeError("Illegal offset: "+$b$$+" (not an integer)");$b$$>>>=0;if(0>$b$$||$b$$+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+
$b$$+" (+0) <= "+this.buffer.byteLength);}var $d$$=$b$$,$f$$;$f$$=$l$$0$$.a($m$$0$$($a$$0$$),this.noAssert)[1];$b$$+=4+$f$$;var $e$$=this.buffer.byteLength;$b$$>$e$$&&this.resize(($e$$*=2)>$b$$?$e$$:$b$$);$b$$-=4+$f$$;this.view.setUint32($b$$,$f$$,this.littleEndian);$b$$+=4;$l$$0$$.c($m$$0$$($a$$0$$),function($a$$){this.view.setUint8($b$$++,$a$$)}.bind(this));if($b$$!==$d$$+4+$f$$)throw RangeError("Illegal range: Truncated data, "+$b$$+" == "+($b$$+4+$f$$));return $c$$?(this.offset=$b$$,this):$b$$-
$d$$};$e$$0$$.readIString=function $$e$$0$$$readIString$($a$$){var $b$$="undefined"===typeof $a$$;$b$$&&($a$$=this.offset);if(!this.noAssert){if("number"!==typeof $a$$||0!==$a$$%1)throw TypeError("Illegal offset: "+$a$$+" (not an integer)");$a$$>>>=0;if(0>$a$$||$a$$+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+$a$$+" (+4) <= "+this.buffer.byteLength);}var $c$$=0,$d$$=$a$$,$c$$=this.view.getUint32($a$$,this.littleEndian);$a$$+=4;var $f$$=$a$$+$c$$;$l$$0$$.b(function(){return $a$$<
$f$$?this.view.getUint8($a$$++):null}.bind(this),$c$$=$t$$(),this.noAssert);$c$$=$c$$();return $b$$?(this.offset=$a$$,$c$$):{string:$c$$,length:$a$$-$d$$}};$g$$0$$.METRICS_CHARS="c";$g$$0$$.METRICS_BYTES="b";$e$$0$$.writeUTF8String=function $$e$$0$$$writeUTF8String$($a$$0$$,$b$$){var $c$$="undefined"===typeof $b$$;$c$$&&($b$$=this.offset);if(!this.noAssert){if("number"!==typeof $b$$||0!==$b$$%1)throw TypeError("Illegal offset: "+$b$$+" (not an integer)");$b$$>>>=0;if(0>$b$$||$b$$+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+
$b$$+" (+0) <= "+this.buffer.byteLength);}var $d$$,$f$$=$b$$;$d$$=$l$$0$$.a($m$$0$$($a$$0$$))[1];$b$$+=$d$$;var $e$$=this.buffer.byteLength;$b$$>$e$$&&this.resize(($e$$*=2)>$b$$?$e$$:$b$$);$b$$-=$d$$;$l$$0$$.c($m$$0$$($a$$0$$),function($a$$){this.view.setUint8($b$$++,$a$$)}.bind(this));return $c$$?(this.offset=$b$$,this):$b$$-$f$$};$e$$0$$.writeString=$e$$0$$.writeUTF8String;$g$$0$$.calculateUTF8Chars=function $$g$$0$$$calculateUTF8Chars$($a$$){return $l$$0$$.a($m$$0$$($a$$))[0]};$g$$0$$.calculateUTF8Bytes=
function $$g$$0$$$calculateUTF8Bytes$($a$$){return $l$$0$$.a($m$$0$$($a$$))[1]};$e$$0$$.readUTF8String=function $$e$$0$$$readUTF8String$($a$$0$$,$b$$,$c$$){"number"===typeof $b$$&&($c$$=$b$$,$b$$=void 0);var $d$$="undefined"===typeof $c$$;$d$$&&($c$$=this.offset);"undefined"===typeof $b$$&&($b$$=$g$$0$$.METRICS_CHARS);if(!this.noAssert){if("number"!==typeof $a$$0$$||0!==$a$$0$$%1)throw TypeError("Illegal length: "+$a$$0$$+" (not an integer)");$a$$0$$|=0;if("number"!==typeof $c$$||0!==$c$$%1)throw TypeError("Illegal offset: "+
$c$$+" (not an integer)");$c$$>>>=0;if(0>$c$$||$c$$+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+$c$$+" (+0) <= "+this.buffer.byteLength);}var $f$$=0,$e$$=$c$$,$h$$;if($b$$===$g$$0$$.METRICS_CHARS){$h$$=$t$$();$l$$0$$.g(function(){return $f$$<$a$$0$$&&$c$$<this.limit?this.view.getUint8($c$$++):null}.bind(this),function($a$$){++$f$$;$l$$0$$.e($a$$,$h$$)}.bind(this));if($f$$!==$a$$0$$)throw RangeError("Illegal range: Truncated data, "+$f$$+" == "+$a$$0$$);return $d$$?(this.offset=
$c$$,$h$$()):{string:$h$$(),length:$c$$-$e$$}}if($b$$===$g$$0$$.METRICS_BYTES){if(!this.noAssert){if("number"!==typeof $c$$||0!==$c$$%1)throw TypeError("Illegal offset: "+$c$$+" (not an integer)");$c$$>>>=0;if(0>$c$$||$c$$+$a$$0$$>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+$c$$+" (+"+$a$$0$$+") <= "+this.buffer.byteLength);}var $r$$=$c$$+$a$$0$$;$l$$0$$.b(function(){return $c$$<$r$$?this.view.getUint8($c$$++):null}.bind(this),$h$$=$t$$(),this.noAssert);if($c$$!==$r$$)throw RangeError("Illegal range: Truncated data, "+
$c$$+" == "+$r$$);return $d$$?(this.offset=$c$$,$h$$()):{string:$h$$(),length:$c$$-$e$$}}throw TypeError("Unsupported metrics: "+$b$$);};$e$$0$$.readString=$e$$0$$.readUTF8String;$e$$0$$.writeVString=function $$e$$0$$$writeVString$($a$$0$$,$b$$){var $c$$="undefined"===typeof $b$$;$c$$&&($b$$=this.offset);if(!this.noAssert){if("string"!==typeof $a$$0$$)throw TypeError("Illegal str: Not a string");if("number"!==typeof $b$$||0!==$b$$%1)throw TypeError("Illegal offset: "+$b$$+" (not an integer)");$b$$>>>=
0;if(0>$b$$||$b$$+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+$b$$+" (+0) <= "+this.buffer.byteLength);}var $d$$=$b$$,$f$$,$e$$;$f$$=$l$$0$$.a($m$$0$$($a$$0$$),this.noAssert)[1];$e$$=$g$$0$$.calculateVarint32($f$$);$b$$+=$e$$+$f$$;var $h$$=this.buffer.byteLength;$b$$>$h$$&&this.resize(($h$$*=2)>$b$$?$h$$:$b$$);$b$$-=$e$$+$f$$;$b$$+=this.writeVarint32($f$$,$b$$);$l$$0$$.c($m$$0$$($a$$0$$),function($a$$){this.view.setUint8($b$$++,$a$$)}.bind(this));if($b$$!==$d$$+$f$$+$e$$)throw RangeError("Illegal range: Truncated data, "+
$b$$+" == "+($b$$+$f$$+$e$$));return $c$$?(this.offset=$b$$,this):$b$$-$d$$};$e$$0$$.readVString=function $$e$$0$$$readVString$($a$$){var $b$$="undefined"===typeof $a$$;$b$$&&($a$$=this.offset);if(!this.noAssert){if("number"!==typeof $a$$||0!==$a$$%1)throw TypeError("Illegal offset: "+$a$$+" (not an integer)");$a$$>>>=0;if(0>$a$$||$a$$+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+$a$$+" (+1) <= "+this.buffer.byteLength);}var $c$$=this.readVarint32($a$$),$d$$=$a$$;$a$$+=$c$$.length;
var $c$$=$c$$.value,$f$$=$a$$+$c$$,$c$$=$t$$();$l$$0$$.b(function(){return $a$$<$f$$?this.view.getUint8($a$$++):null}.bind(this),$c$$,this.noAssert);$c$$=$c$$();return $b$$?(this.offset=$a$$,$c$$):{string:$c$$,length:$a$$-$d$$}};$e$$0$$.append=function $$e$$0$$$append$($a$$,$b$$,$c$$){if("number"===typeof $b$$||"string"!==typeof $b$$)$c$$=$b$$,$b$$=void 0;var $d$$="undefined"===typeof $c$$;$d$$&&($c$$=this.offset);if(!this.noAssert){if("number"!==typeof $c$$||0!==$c$$%1)throw TypeError("Illegal offset: "+
$c$$+" (not an integer)");$c$$>>>=0;if(0>$c$$||$c$$+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+$c$$+" (+0) <= "+this.buffer.byteLength);}$a$$ instanceof $g$$0$$||($a$$=$g$$0$$.wrap($a$$,$b$$));$b$$=$a$$.limit-$a$$.offset;if(0>=$b$$)return this;$c$$+=$b$$;var $f$$=this.buffer.byteLength;$c$$>$f$$&&this.resize(($f$$*=2)>$c$$?$f$$:$c$$);(new Uint8Array(this.buffer,$c$$-$b$$)).set((new Uint8Array($a$$.buffer)).subarray($a$$.offset,$a$$.limit));$a$$.offset+=$b$$;$d$$&&(this.offset+=
$b$$);return this};$e$$0$$.appendTo=function $$e$$0$$$appendTo$($a$$,$b$$){$a$$.append(this,$b$$);return this};$e$$0$$.assert=function $$e$$0$$$assert$($a$$){this.noAssert=!$a$$;return this};$e$$0$$.capacity=function $$e$$0$$$capacity$(){return this.buffer.byteLength};$e$$0$$.clear=function $$e$$0$$$clear$(){this.offset=0;this.limit=this.buffer.byteLength;this.markedOffset=-1;return this};$e$$0$$.clone=function $$e$$0$$$clone$($a$$){var $b$$=new $g$$0$$(0,this.littleEndian,this.noAssert);$a$$?($a$$=
new ArrayBuffer(this.buffer.byteLength),(new Uint8Array($a$$)).set(this.buffer),$b$$.buffer=$a$$,$b$$.view=new DataView($a$$)):($b$$.buffer=this.buffer,$b$$.view=this.view);$b$$.offset=this.offset;$b$$.markedOffset=this.markedOffset;$b$$.limit=this.limit;return $b$$};$e$$0$$.compact=function $$e$$0$$$compact$($a$$,$b$$){"undefined"===typeof $a$$&&($a$$=this.offset);"undefined"===typeof $b$$&&($b$$=this.limit);if(!this.noAssert){if("number"!==typeof $a$$||0!==$a$$%1)throw TypeError("Illegal begin: Not an integer");
$a$$>>>=0;if("number"!==typeof $b$$||0!==$b$$%1)throw TypeError("Illegal end: Not an integer");$b$$>>>=0;if(0>$a$$||$a$$>$b$$||$b$$>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+$a$$+" <= "+$b$$+" <= "+this.buffer.byteLength);}if(0===$a$$&&$b$$===this.buffer.byteLength)return this;var $c$$=$b$$-$a$$;if(0===$c$$)return this.buffer=$s$$,this.view=null,0<=this.markedOffset&&(this.markedOffset-=$a$$),this.limit=this.offset=0,this;var $d$$=new ArrayBuffer($c$$);(new Uint8Array($d$$)).set((new Uint8Array(this.buffer)).subarray($a$$,
$b$$));this.buffer=$d$$;this.view=new DataView($d$$);0<=this.markedOffset&&(this.markedOffset-=$a$$);this.offset=0;this.limit=$c$$;return this};$e$$0$$.copy=function $$e$$0$$$copy$($a$$,$b$$){"undefined"===typeof $a$$&&($a$$=this.offset);"undefined"===typeof $b$$&&($b$$=this.limit);if(!this.noAssert){if("number"!==typeof $a$$||0!==$a$$%1)throw TypeError("Illegal begin: Not an integer");$a$$>>>=0;if("number"!==typeof $b$$||0!==$b$$%1)throw TypeError("Illegal end: Not an integer");$b$$>>>=0;if(0>$a$$||
$a$$>$b$$||$b$$>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+$a$$+" <= "+$b$$+" <= "+this.buffer.byteLength);}if($a$$===$b$$)return new $g$$0$$(0,this.littleEndian,this.noAssert);var $c$$=$b$$-$a$$,$d$$=new $g$$0$$($c$$,this.littleEndian,this.noAssert);$d$$.offset=0;$d$$.limit=$c$$;0<=$d$$.markedOffset&&($d$$.markedOffset-=$a$$);this.copyTo($d$$,0,$a$$,$b$$);return $d$$};$e$$0$$.copyTo=function $$e$$0$$$copyTo$($a$$,$b$$,$c$$,$d$$){var $f$$,$e$$;if(!this.noAssert&&!$g$$0$$.isByteBuffer($a$$))throw TypeError("Illegal target: Not a ByteBuffer");
$b$$=($e$$="undefined"===typeof $b$$)?$a$$.offset:$b$$|0;$c$$=($f$$="undefined"===typeof $c$$)?this.offset:$c$$|0;$d$$="undefined"===typeof $d$$?this.limit:$d$$|0;if(0>$b$$||$b$$>$a$$.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+$b$$+" <= "+$a$$.buffer.byteLength);if(0>$c$$||$d$$>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+$c$$+" <= "+this.buffer.byteLength);var $h$$=$d$$-$c$$;if(0===$h$$)return $a$$;$a$$.ensureCapacity($b$$+$h$$);(new Uint8Array($a$$.buffer)).set((new Uint8Array(this.buffer)).subarray($c$$,
$d$$),$b$$);$f$$&&(this.offset+=$h$$);$e$$&&($a$$.offset+=$h$$);return this};$e$$0$$.ensureCapacity=function $$e$$0$$$ensureCapacity$($a$$){var $b$$=this.buffer.byteLength;return $b$$<$a$$?this.resize(($b$$*=2)>$a$$?$b$$:$a$$):this};$e$$0$$.fill=function $$e$$0$$$fill$($a$$,$b$$,$c$$){var $d$$="undefined"===typeof $b$$;$d$$&&($b$$=this.offset);"string"===typeof $a$$&&0<$a$$.length&&($a$$=$a$$.charCodeAt(0));"undefined"===typeof $b$$&&($b$$=this.offset);"undefined"===typeof $c$$&&($c$$=this.limit);
if(!this.noAssert){if("number"!==typeof $a$$||0!==$a$$%1)throw TypeError("Illegal value: "+$a$$+" (not an integer)");$a$$|=0;if("number"!==typeof $b$$||0!==$b$$%1)throw TypeError("Illegal begin: Not an integer");$b$$>>>=0;if("number"!==typeof $c$$||0!==$c$$%1)throw TypeError("Illegal end: Not an integer");$c$$>>>=0;if(0>$b$$||$b$$>$c$$||$c$$>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+$b$$+" <= "+$c$$+" <= "+this.buffer.byteLength);}if($b$$>=$c$$)return this;for(;$b$$<$c$$;)this.view.setUint8($b$$++,
$a$$);$d$$&&(this.offset=$b$$);return this};$e$$0$$.flip=function $$e$$0$$$flip$(){this.limit=this.offset;this.offset=0;return this};$e$$0$$.mark=function $$e$$0$$$mark$($a$$){$a$$="undefined"===typeof $a$$?this.offset:$a$$;if(!this.noAssert){if("number"!==typeof $a$$||0!==$a$$%1)throw TypeError("Illegal offset: "+$a$$+" (not an integer)");$a$$>>>=0;if(0>$a$$||$a$$+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+$a$$+" (+0) <= "+this.buffer.byteLength);}this.markedOffset=$a$$;return this};
$e$$0$$.order=function $$e$$0$$$order$($a$$){if(!this.noAssert&&"boolean"!==typeof $a$$)throw TypeError("Illegal littleEndian: Not a boolean");this.littleEndian=!!$a$$;return this};$e$$0$$.LE=function $$e$$0$$$LE$($a$$){this.littleEndian="undefined"!==typeof $a$$?!!$a$$:!0;return this};$e$$0$$.BE=function $$e$$0$$$BE$($a$$){this.littleEndian="undefined"!==typeof $a$$?!$a$$:!1;return this};$e$$0$$.prepend=function $$e$$0$$$prepend$($a$$,$b$$,$c$$){if("number"===typeof $b$$||"string"!==typeof $b$$)$c$$=
$b$$,$b$$=void 0;var $d$$="undefined"===typeof $c$$;$d$$&&($c$$=this.offset);if(!this.noAssert){if("number"!==typeof $c$$||0!==$c$$%1)throw TypeError("Illegal offset: "+$c$$+" (not an integer)");$c$$>>>=0;if(0>$c$$||$c$$+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+$c$$+" (+0) <= "+this.buffer.byteLength);}$a$$ instanceof $g$$0$$||($a$$=$g$$0$$.wrap($a$$,$b$$));$b$$=$a$$.limit-$a$$.offset;if(0>=$b$$)return this;var $f$$=$b$$-$c$$,$e$$;if(0<$f$$){var $h$$=new ArrayBuffer(this.buffer.byteLength+
$f$$);$e$$=new Uint8Array($h$$);$e$$.set((new Uint8Array(this.buffer)).subarray($c$$,this.buffer.byteLength),$b$$);this.buffer=$h$$;this.view=new DataView($h$$);this.offset+=$f$$;0<=this.markedOffset&&(this.markedOffset+=$f$$);this.limit+=$f$$;$c$$+=$f$$}else $e$$=new Uint8Array(this.buffer);$e$$.set((new Uint8Array($a$$.buffer)).subarray($a$$.offset,$a$$.limit),$c$$-$b$$);$a$$.offset=$a$$.limit;$d$$&&(this.offset-=$b$$);return this};$e$$0$$.prependTo=function $$e$$0$$$prependTo$($a$$,$b$$){$a$$.prepend(this,
$b$$);return this};$e$$0$$.printDebug=function $$e$$0$$$printDebug$($a$$){"function"!==typeof $a$$&&($a$$=console.log.bind(console));$a$$(this.toString()+"\n-------------------------------------------------------------------\n"+this.toDebug(!0))};$e$$0$$.remaining=function $$e$$0$$$remaining$(){return this.limit-this.offset};$e$$0$$.reset=function $$e$$0$$$reset$(){0<=this.markedOffset?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0;return this};$e$$0$$.resize=function $$e$$0$$$resize$($a$$){if(!this.noAssert){if("number"!==
typeof $a$$||0!==$a$$%1)throw TypeError("Illegal capacity: "+$a$$+" (not an integer)");$a$$|=0;if(0>$a$$)throw RangeError("Illegal capacity: 0 <= "+$a$$);}this.buffer.byteLength<$a$$&&($a$$=new ArrayBuffer($a$$),(new Uint8Array($a$$)).set(new Uint8Array(this.buffer)),this.buffer=$a$$,this.view=new DataView($a$$));return this};$e$$0$$.reverse=function $$e$$0$$$reverse$($a$$,$b$$){"undefined"===typeof $a$$&&($a$$=this.offset);"undefined"===typeof $b$$&&($b$$=this.limit);if(!this.noAssert){if("number"!==
typeof $a$$||0!==$a$$%1)throw TypeError("Illegal begin: Not an integer");$a$$>>>=0;if("number"!==typeof $b$$||0!==$b$$%1)throw TypeError("Illegal end: Not an integer");$b$$>>>=0;if(0>$a$$||$a$$>$b$$||$b$$>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+$a$$+" <= "+$b$$+" <= "+this.buffer.byteLength);}if($a$$===$b$$)return this;Array.prototype.reverse.call((new Uint8Array(this.buffer)).subarray($a$$,$b$$));this.view=new DataView(this.buffer);return this};$e$$0$$.skip=function $$e$$0$$$skip$($a$$){if(!this.noAssert){if("number"!==
typeof $a$$||0!==$a$$%1)throw TypeError("Illegal length: "+$a$$+" (not an integer)");$a$$|=0}var $b$$=this.offset+$a$$;if(!this.noAssert&&(0>$b$$||$b$$>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+$a$$+" <= "+this.buffer.byteLength);this.offset=$b$$;return this};$e$$0$$.slice=function $$e$$0$$$slice$($a$$,$b$$){"undefined"===typeof $a$$&&($a$$=this.offset);"undefined"===typeof $b$$&&($b$$=this.limit);if(!this.noAssert){if("number"!==typeof $a$$||0!==$a$$%1)throw TypeError("Illegal begin: Not an integer");
$a$$>>>=0;if("number"!==typeof $b$$||0!==$b$$%1)throw TypeError("Illegal end: Not an integer");$b$$>>>=0;if(0>$a$$||$a$$>$b$$||$b$$>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+$a$$+" <= "+$b$$+" <= "+this.buffer.byteLength);}var $c$$=this.clone();$c$$.offset=$a$$;$c$$.limit=$b$$;return $c$$};$e$$0$$.toBuffer=function $$e$$0$$$toBuffer$($a$$){var $b$$=this.offset,$c$$=this.limit;if($b$$>$c$$)var $d$$=$b$$,$b$$=$c$$,$c$$=$d$$;if(!this.noAssert){if("number"!==typeof $b$$||0!==$b$$%
1)throw TypeError("Illegal offset: Not an integer");$b$$>>>=0;if("number"!==typeof $c$$||0!==$c$$%1)throw TypeError("Illegal limit: Not an integer");$c$$>>>=0;if(0>$b$$||$b$$>$c$$||$c$$>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+$b$$+" <= "+$c$$+" <= "+this.buffer.byteLength);}if(!$a$$&&0===$b$$&&$c$$===this.buffer.byteLength)return this.buffer;if($b$$===$c$$)return $s$$;$a$$=new ArrayBuffer($c$$-$b$$);(new Uint8Array($a$$)).set((new Uint8Array(this.buffer)).subarray($b$$,$c$$),
0);return $a$$};$e$$0$$.toArrayBuffer=$e$$0$$.toBuffer;$e$$0$$.toString=function $$e$$0$$$toString$($a$$,$b$$,$c$$){if("undefined"===typeof $a$$)return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.markedOffset+",limit="+this.limit+",capacity="+this.capacity()+")";"number"===typeof $a$$&&($c$$=$b$$=$a$$="utf8");switch($a$$){case "utf8":return this.toUTF8($b$$,$c$$);case "base64":return this.toBase64($b$$,$c$$);case "hex":return this.toHex($b$$,$c$$);case "binary":return this.toBinary($b$$,
$c$$);case "debug":return this.toDebug();case "columns":return this.m();default:throw Error("Unsupported encoding: "+$a$$);}};var $v$$=function(){for(var $a$$1$$={},$b$$0$$=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],$c$$0$$=[],$d$$0$$=0,$f$$0$$=$b$$0$$.length;$d$$0$$<$f$$0$$;++$d$$0$$)$c$$0$$[$b$$0$$[$d$$0$$]]=$d$$0$$;$a$$1$$.i=
function $$a$$1$$$i$($a$$,$c$$){for(var $d$$,$f$$;null!==($d$$=$a$$());)$c$$($b$$0$$[$d$$>>2&63]),$f$$=($d$$&3)<<4,null!==($d$$=$a$$())?($f$$|=$d$$>>4&15,$c$$($b$$0$$[($f$$|$d$$>>4&15)&63]),$f$$=($d$$&15)<<2,null!==($d$$=$a$$())?($c$$($b$$0$$[($f$$|$d$$>>6&3)&63]),$c$$($b$$0$$[$d$$&63])):($c$$($b$$0$$[$f$$&63]),$c$$(61))):($c$$($b$$0$$[$f$$&63]),$c$$(61),$c$$(61))};$a$$1$$.h=function $$a$$1$$$h$($a$$0$$,$b$$){function $d$$($a$$){throw Error("Illegal character code: "+$a$$);}for(var $f$$,$e$$,$g$$;null!==
($f$$=$a$$0$$());)if($e$$=$c$$0$$[$f$$],"undefined"===typeof $e$$&&$d$$($f$$),null!==($f$$=$a$$0$$())&&($g$$=$c$$0$$[$f$$],"undefined"===typeof $g$$&&$d$$($f$$),$b$$($e$$<<2>>>0|($g$$&48)>>4),null!==($f$$=$a$$0$$()))){$e$$=$c$$0$$[$f$$];if("undefined"===typeof $e$$)if(61===$f$$)break;else $d$$($f$$);$b$$(($g$$&15)<<4>>>0|($e$$&60)>>2);if(null!==($f$$=$a$$0$$())){$g$$=$c$$0$$[$f$$];if("undefined"===typeof $g$$)if(61===$f$$)break;else $d$$($f$$);$b$$(($e$$&3)<<6>>>0|$g$$)}}};$a$$1$$.test=function $$a$$1$$$test$($a$$){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test($a$$)};
return $a$$1$$}();$e$$0$$.toBase64=function $$e$$0$$$toBase64$($a$$,$b$$){"undefined"===typeof $a$$&&($a$$=this.offset);"undefined"===typeof $b$$&&($b$$=this.limit);if(!this.noAssert){if("number"!==typeof $a$$||0!==$a$$%1)throw TypeError("Illegal begin: Not an integer");$a$$>>>=0;if("number"!==typeof $b$$||0!==$b$$%1)throw TypeError("Illegal end: Not an integer");$b$$>>>=0;if(0>$a$$||$a$$>$b$$||$b$$>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+$a$$+" <= "+$b$$+" <= "+this.buffer.byteLength);
}var $c$$;$v$$.i(function(){return $a$$<$b$$?this.view.getUint8($a$$++):null}.bind(this),$c$$=$t$$());return $c$$()};$g$$0$$.fromBase64=function $$g$$0$$$fromBase64$($a$$0$$,$b$$,$c$$){if(!$c$$){if("string"!==typeof $a$$0$$)throw TypeError("Illegal str: Not a string");if(0!==$a$$0$$.length%4)throw TypeError("Illegal str: Length not a multiple of 4");}var $d$$=new $g$$0$$($a$$0$$.length/4*3,$b$$,$c$$),$f$$=0;$v$$.h($m$$0$$($a$$0$$),function($a$$){$d$$.view.setUint8($f$$++,$a$$)});$d$$.limit=$f$$;return $d$$};
$g$$0$$.btoa=function $$g$$0$$$btoa$($a$$){return $g$$0$$.fromBinary($a$$).toBase64()};$g$$0$$.atob=function $$g$$0$$$atob$($a$$){return $g$$0$$.fromBase64($a$$).toBinary()};$e$$0$$.toBinary=function $$e$$0$$$toBinary$($a$$,$b$$){$a$$="undefined"===typeof $a$$?this.offset:$a$$;$b$$="undefined"===typeof $b$$?this.limit:$b$$;if(!this.noAssert){if("number"!==typeof $a$$||0!==$a$$%1)throw TypeError("Illegal begin: Not an integer");$a$$>>>=0;if("number"!==typeof $b$$||0!==$b$$%1)throw TypeError("Illegal end: Not an integer");
$b$$>>>=0;if(0>$a$$||$a$$>$b$$||$b$$>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+$a$$+" <= "+$b$$+" <= "+this.buffer.byteLength);}if($a$$===$b$$)return"";for(var $c$$=[],$d$$=[];$a$$<$b$$;)$c$$.push(this.view.getUint8($a$$++)),1024<=$c$$.length&&($d$$.push(String.fromCharCode.apply(String,$c$$)),$c$$=[]);return $d$$.join("")+String.fromCharCode.apply(String,$c$$)};$g$$0$$.fromBinary=function $$g$$0$$$fromBinary$($a$$,$b$$,$c$$){if(!$c$$&&"string"!==typeof $a$$)throw TypeError("Illegal str: Not a string");
for(var $d$$=0,$f$$=$a$$.length,$e$$=new $g$$0$$($f$$,$b$$,$c$$);$d$$<$f$$;){$b$$=$a$$.charCodeAt($d$$);if(!$c$$&&255<$b$$)throw RangeError("Illegal charCode at "+$d$$+": 0 <= "+$b$$+" <= 255");$e$$.view.setUint8($d$$++,$b$$)}$e$$.limit=$f$$;return $e$$};$e$$0$$.toDebug=function $$e$$0$$$toDebug$($a$$){for(var $b$$=-1,$c$$=this.buffer.byteLength,$d$$,$f$$="",$e$$="",$g$$="";$b$$<$c$$;){-1!==$b$$&&($d$$=this.view.getUint8($b$$),$f$$=16>$d$$?$f$$+("0"+$d$$.toString(16).toUpperCase()):$f$$+$d$$.toString(16).toUpperCase(),
$a$$&&($e$$+=32<$d$$&&127>$d$$?String.fromCharCode($d$$):"."));++$b$$;if($a$$&&0<$b$$&&0===$b$$%16&&$b$$!==$c$$){for(;51>$f$$.length;)$f$$+=" ";$g$$+=$f$$+$e$$+"\n";$f$$=$e$$=""}$f$$=$b$$===this.offset&&$b$$===this.limit?$f$$+($b$$===this.markedOffset?"!":"|"):$b$$===this.offset?$f$$+($b$$===this.markedOffset?"[":"<"):$b$$===this.limit?$f$$+($b$$===this.markedOffset?"]":">"):$f$$+($b$$===this.markedOffset?"'":$a$$||0!==$b$$&&$b$$!==$c$$?" ":"")}if($a$$&&" "!==$f$$){for(;51>$f$$.length;)$f$$+=" ";
$g$$+=$f$$+$e$$+"\n"}return $a$$?$g$$:$f$$};$g$$0$$.fromDebug=function $$g$$0$$$fromDebug$($a$$,$b$$,$c$$){var $d$$=$a$$.length;$b$$=new $g$$0$$(($d$$+1)/3|0,$b$$,$c$$);for(var $f$$=0,$e$$=0,$h$$,$k$$=!1,$l$$=!1,$m$$=!1,$q$$=!1,$p$$=!1;$f$$<$d$$;){switch($h$$=$a$$.charAt($f$$++)){case "!":if(!$c$$){if($l$$||$m$$||$q$$){$p$$=!0;break}$l$$=$m$$=$q$$=!0}$b$$.offset=$b$$.markedOffset=$b$$.limit=$e$$;$k$$=!1;break;case "|":if(!$c$$){if($l$$||$q$$){$p$$=!0;break}$l$$=$q$$=!0}$b$$.offset=$b$$.limit=$e$$;
$k$$=!1;break;case "[":if(!$c$$){if($l$$||$m$$){$p$$=!0;break}$l$$=$m$$=!0}$b$$.offset=$b$$.markedOffset=$e$$;$k$$=!1;break;case "<":if(!$c$$){if($l$$){$p$$=!0;break}$l$$=!0}$b$$.offset=$e$$;$k$$=!1;break;case "]":if(!$c$$){if($q$$||$m$$){$p$$=!0;break}$q$$=$m$$=!0}$b$$.limit=$b$$.markedOffset=$e$$;$k$$=!1;break;case ">":if(!$c$$){if($q$$){$p$$=!0;break}$q$$=!0}$b$$.limit=$e$$;$k$$=!1;break;case "'":if(!$c$$){if($m$$){$p$$=!0;break}$m$$=!0}$b$$.markedOffset=$e$$;$k$$=!1;break;case " ":$k$$=!1;break;
default:if(!$c$$&&$k$$){$p$$=!0;break}$h$$=parseInt($h$$+$a$$.charAt($f$$++),16);if(!$c$$&&(isNaN($h$$)||0>$h$$||255<$h$$))throw TypeError("Illegal str: Not a debug encoded string");$b$$.view.setUint8($e$$++,$h$$);$k$$=!0}if($p$$)throw TypeError("Illegal str: Invalid symbol at "+$f$$);}if(!$c$$){if(!$l$$||!$q$$)throw TypeError("Illegal str: Missing offset or limit");if($e$$<$b$$.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+$e$$+" < "+$d$$);}return $b$$};
$e$$0$$.toHex=function $$e$$0$$$toHex$($a$$,$b$$){$a$$="undefined"===typeof $a$$?this.offset:$a$$;$b$$="undefined"===typeof $b$$?this.limit:$b$$;if(!this.noAssert){if("number"!==typeof $a$$||0!==$a$$%1)throw TypeError("Illegal begin: Not an integer");$a$$>>>=0;if("number"!==typeof $b$$||0!==$b$$%1)throw TypeError("Illegal end: Not an integer");$b$$>>>=0;if(0>$a$$||$a$$>$b$$||$b$$>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+$a$$+" <= "+$b$$+" <= "+this.buffer.byteLength);}for(var $c$$=
Array($b$$-$a$$),$d$$;$a$$<$b$$;)$d$$=this.view.getUint8($a$$++),16>$d$$?$c$$.push("0",$d$$.toString(16)):$c$$.push($d$$.toString(16));return $c$$.join("")};$g$$0$$.fromHex=function $$g$$0$$$fromHex$($a$$,$b$$,$c$$){if(!$c$$){if("string"!==typeof $a$$)throw TypeError("Illegal str: Not a string");if(0!==$a$$.length%2)throw TypeError("Illegal str: Length not a multiple of 2");}var $d$$=$a$$.length;$b$$=new $g$$0$$($d$$/2|0,$b$$);for(var $f$$,$e$$=0,$h$$=0;$e$$<$d$$;$e$$+=2){$f$$=parseInt($a$$.substring($e$$,
$e$$+2),16);if(!$c$$&&(!isFinite($f$$)||0>$f$$||255<$f$$))throw TypeError("Illegal str: Contains non-hex characters");$b$$.view.setUint8($h$$++,$f$$)}$b$$.limit=$h$$;return $b$$};var $l$$0$$=function(){var $a$$1$$={k:1114111,j:function($a$$,$c$$){var $d$$=null;for("number"===typeof $a$$&&($d$$=$a$$,$a$$=function $$a$$$(){return null});null!==$d$$||null!==($d$$=$a$$());)128>$d$$?$c$$($d$$&127):(2048>$d$$?$c$$($d$$>>6&31|192):(65536>$d$$?$c$$($d$$>>12&15|224):($c$$($d$$>>18&7|240),$c$$($d$$>>12&63|
128)),$c$$($d$$>>6&63|128)),$c$$($d$$&63|128)),$d$$=null},g:function($a$$0$$,$c$$){function $d$$($a$$){$a$$=$a$$.slice(0,$a$$.indexOf(null));var $b$$=Error($a$$.toString());$b$$.name="TruncatedError";$b$$.bytes=$a$$;throw $b$$;}for(var $e$$,$g$$,$h$$,$k$$;null!==($e$$=$a$$0$$());)if(0===($e$$&128))$c$$($e$$);else if(192===($e$$&224))null===($g$$=$a$$0$$())&&$d$$([$e$$,$g$$]),$c$$(($e$$&31)<<6|$g$$&63);else if(224===($e$$&240))null!==($g$$=$a$$0$$())&&null!==($h$$=$a$$0$$())||$d$$([$e$$,$g$$,$h$$]),
$c$$(($e$$&15)<<12|($g$$&63)<<6|$h$$&63);else if(240===($e$$&248))null!==($g$$=$a$$0$$())&&null!==($h$$=$a$$0$$())&&null!==($k$$=$a$$0$$())||$d$$([$e$$,$g$$,$h$$,$k$$]),$c$$(($e$$&7)<<18|($g$$&63)<<12|($h$$&63)<<6|$k$$&63);else throw RangeError("Illegal starting byte: "+$e$$);},d:function($a$$,$c$$){for(var $d$$,$e$$=null;null!==($d$$=null!==$e$$?$e$$:$a$$());)55296<=$d$$&&57343>=$d$$&&null!==($e$$=$a$$())&&56320<=$e$$&&57343>=$e$$?($c$$(1024*($d$$-55296)+$e$$-56320+65536),$e$$=null):$c$$($d$$);null!==
$e$$&&$c$$($e$$)},e:function($a$$,$c$$){var $d$$=null;for("number"===typeof $a$$&&($d$$=$a$$,$a$$=function $$a$$$(){return null});null!==$d$$||null!==($d$$=$a$$());)65535>=$d$$?$c$$($d$$):($d$$-=65536,$c$$(($d$$>>10)+55296),$c$$($d$$%1024+56320)),$d$$=null},c:function($b$$0$$,$c$$){$a$$1$$.d($b$$0$$,function($b$$){$a$$1$$.j($b$$,$c$$)})},b:function($b$$0$$,$c$$){$a$$1$$.g($b$$0$$,function($b$$){$a$$1$$.e($b$$,$c$$)})},f:function($a$$){return 128>$a$$?1:2048>$a$$?2:65536>$a$$?3:4},l:function($b$$){for(var $c$$,
$d$$=0;null!==($c$$=$b$$());)$d$$+=$a$$1$$.f($c$$);return $d$$},a:function($b$$0$$){var $c$$=0,$d$$=0;$a$$1$$.d($b$$0$$,function($b$$){++$c$$;$d$$+=$a$$1$$.f($b$$)});return[$c$$,$d$$]}};return $a$$1$$}();$e$$0$$.toUTF8=function $$e$$0$$$toUTF8$($a$$,$b$$){"undefined"===typeof $a$$&&($a$$=this.offset);"undefined"===typeof $b$$&&($b$$=this.limit);if(!this.noAssert){if("number"!==typeof $a$$||0!==$a$$%1)throw TypeError("Illegal begin: Not an integer");$a$$>>>=0;if("number"!==typeof $b$$||0!==$b$$%1)throw TypeError("Illegal end: Not an integer");
$b$$>>>=0;if(0>$a$$||$a$$>$b$$||$b$$>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+$a$$+" <= "+$b$$+" <= "+this.buffer.byteLength);}var $c$$;try{$l$$0$$.b(function(){return $a$$<$b$$?this.view.getUint8($a$$++):null}.bind(this),$c$$=$t$$())}catch($d$$){if($a$$!==$b$$)throw RangeError("Illegal range: Truncated data, "+$a$$+" != "+$b$$);}return $c$$()};$g$$0$$.fromUTF8=function $$g$$0$$$fromUTF8$($a$$0$$,$b$$,$c$$){if(!$c$$&&"string"!==typeof $a$$0$$)throw TypeError("Illegal str: Not a string");
var $d$$=new $g$$0$$($l$$0$$.a($m$$0$$($a$$0$$),!0)[1],$b$$,$c$$),$e$$=0;$l$$0$$.c($m$$0$$($a$$0$$),function($a$$){$d$$.view.setUint8($e$$++,$a$$)});$d$$.limit=$e$$;return $d$$};return $g$$0$$}"undefined"!==typeof module&&module.exports?module.exports=$u$$0$$(require("long")):"function"===typeof define&&define.amd?define("ByteBuffer",["Long"],function($k$$){return $u$$0$$($k$$)}):($s$$0$$.dcodeIO=$s$$0$$.dcodeIO||{}).ByteBuffer=$u$$0$$($s$$0$$.dcodeIO.Long)})(this);
(function(){(function($q$$){function $b$$0$$($a$$,$b$$,$d$$){this.low=$a$$|0;this.high=$b$$|0;this.unsigned=!!$d$$}$b$$0$$.isLong=function $$b$$0$$$isLong$($a$$){return!0===($a$$&&$a$$ instanceof $b$$0$$)};var $r$$={},$s$$={};$b$$0$$.fromInt=function $$b$$0$$$fromInt$($a$$,$c$$){var $d$$;if($c$$){$a$$>>>=0;if(0<=$a$$&&256>$a$$&&($d$$=$s$$[$a$$]))return $d$$;$d$$=new $b$$0$$($a$$,0>($a$$|0)?-1:0,!0);0<=$a$$&&256>$a$$&&($s$$[$a$$]=$d$$)}else{$a$$|=0;if(-128<=$a$$&&128>$a$$&&($d$$=$r$$[$a$$]))return $d$$;
$d$$=new $b$$0$$($a$$,0>$a$$?-1:0,!1);-128<=$a$$&&128>$a$$&&($r$$[$a$$]=$d$$)}return $d$$};$b$$0$$.fromNumber=function $$b$$0$$$fromNumber$($a$$,$c$$){$c$$=!!$c$$;return isNaN($a$$)||!isFinite($a$$)?$b$$0$$.ZERO:!$c$$&&$a$$<=-$t$$?$b$$0$$.MIN_VALUE:!$c$$&&$a$$+1>=$t$$?$b$$0$$.MAX_VALUE:$c$$&&$a$$>=$u$$?$b$$0$$.MAX_UNSIGNED_VALUE:0>$a$$?$b$$0$$.fromNumber(-$a$$,$c$$).negate():new $b$$0$$($a$$%$l$$0$$|0,$a$$/$l$$0$$|0,$c$$)};$b$$0$$.fromBits=function $$b$$0$$$fromBits$($a$$,$c$$,$d$$){return new $b$$0$$($a$$,
$c$$,$d$$)};$b$$0$$.fromString=function $$b$$0$$$fromString$($a$$,$c$$,$d$$){if(0===$a$$.length)throw Error("number format error: empty string");if("NaN"===$a$$||"Infinity"===$a$$||"+Infinity"===$a$$||"-Infinity"===$a$$)return $b$$0$$.ZERO;"number"===typeof $c$$&&($d$$=$c$$,$c$$=!1);$d$$=$d$$||10;if(2>$d$$||36<$d$$)throw Error("radix out of range: "+$d$$);var $e$$;if(0<($e$$=$a$$.indexOf("-")))throw Error('number format error: interior "-" character: '+$a$$);if(0===$e$$)return $b$$0$$.fromString($a$$.substring(1),
$c$$,$d$$).negate();$e$$=$b$$0$$.fromNumber(Math.pow($d$$,8));for(var $f$$=$b$$0$$.ZERO,$g$$=0;$g$$<$a$$.length;$g$$+=8){var $k$$=Math.min(8,$a$$.length-$g$$),$m$$=parseInt($a$$.substring($g$$,$g$$+$k$$),$d$$);8>$k$$?($k$$=$b$$0$$.fromNumber(Math.pow($d$$,$k$$)),$f$$=$f$$.multiply($k$$).add($b$$0$$.fromNumber($m$$))):($f$$=$f$$.multiply($e$$),$f$$=$f$$.add($b$$0$$.fromNumber($m$$)))}$f$$.unsigned=$c$$;return $f$$};$b$$0$$.fromValue=function $$b$$0$$$fromValue$($a$$){return"number"===typeof $a$$?$b$$0$$.fromNumber($a$$):
"string"===typeof $a$$?$b$$0$$.fromString($a$$):$b$$0$$.isLong($a$$)?$a$$:new $b$$0$$($a$$.low,$a$$.high,$a$$.unsigned)};var $l$$0$$=4294967296,$u$$=$l$$0$$*$l$$0$$,$t$$=$u$$/2,$v$$=$b$$0$$.fromInt(16777216);$b$$0$$.ZERO=$b$$0$$.fromInt(0);$b$$0$$.UZERO=$b$$0$$.fromInt(0,!0);$b$$0$$.ONE=$b$$0$$.fromInt(1);$b$$0$$.UONE=$b$$0$$.fromInt(1,!0);$b$$0$$.NEG_ONE=$b$$0$$.fromInt(-1);$b$$0$$.MAX_VALUE=$b$$0$$.fromBits(-1,2147483647,!1);$b$$0$$.MAX_UNSIGNED_VALUE=$b$$0$$.fromBits(-1,-1,!0);$b$$0$$.MIN_VALUE=
$b$$0$$.fromBits(0,-2147483648,!1);$b$$0$$.prototype.toInt=function $$b$$0$$$$toInt$(){return this.unsigned?this.low>>>0:this.low};$b$$0$$.prototype.toNumber=function $$b$$0$$$$toNumber$(){return this.unsigned?(this.high>>>0)*$l$$0$$+(this.low>>>0):this.high*$l$$0$$+(this.low>>>0)};$b$$0$$.prototype.toString=function $$b$$0$$$$toString$($a$$){$a$$=$a$$||10;if(2>$a$$||36<$a$$)throw RangeError("radix out of range: "+$a$$);if(this.isZero())return"0";var $c$$;if(this.isNegative()){if(this.equals($b$$0$$.MIN_VALUE)){$c$$=
$b$$0$$.fromNumber($a$$);var $d$$=this.div($c$$);$c$$=$d$$.multiply($c$$).subtract(this);return $d$$.toString($a$$)+$c$$.toInt().toString($a$$)}return"-"+this.negate().toString($a$$)}$d$$=$b$$0$$.fromNumber(Math.pow($a$$,6),this.unsigned);$c$$=this;for(var $e$$="";;){var $f$$=$c$$.div($d$$),$g$$=($c$$.subtract($f$$.multiply($d$$)).toInt()>>>0).toString($a$$);$c$$=$f$$;if($c$$.isZero())return $g$$+$e$$;for(;6>$g$$.length;)$g$$="0"+$g$$;$e$$=""+$g$$+$e$$}};$b$$0$$.prototype.getHighBits=function $$b$$0$$$$getHighBits$(){return this.high};
$b$$0$$.prototype.getHighBitsUnsigned=function $$b$$0$$$$getHighBitsUnsigned$(){return this.high>>>0};$b$$0$$.prototype.getLowBits=function $$b$$0$$$$getLowBits$(){return this.low};$b$$0$$.prototype.getLowBitsUnsigned=function $$b$$0$$$$getLowBitsUnsigned$(){return this.low>>>0};$b$$0$$.prototype.getNumBitsAbs=function $$b$$0$$$$getNumBitsAbs$(){if(this.isNegative())return this.equals($b$$0$$.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var $a$$=0!=this.high?this.high:this.low,$c$$=31;0<$c$$&&
0==($a$$&1<<$c$$);$c$$--);return 0!=this.high?$c$$+33:$c$$+1};$b$$0$$.prototype.isZero=function $$b$$0$$$$isZero$(){return 0===this.high&&0===this.low};$b$$0$$.prototype.isNegative=function $$b$$0$$$$isNegative$(){return!this.unsigned&&0>this.high};$b$$0$$.prototype.isPositive=function $$b$$0$$$$isPositive$(){return this.unsigned||0<=this.high};$b$$0$$.prototype.isOdd=function $$b$$0$$$$isOdd$(){return 1===(this.low&1)};$b$$0$$.prototype.equals=function $$b$$0$$$$equals$($a$$){$b$$0$$.isLong($a$$)||
($a$$=$b$$0$$.fromValue($a$$));return this.unsigned!==$a$$.unsigned&&this.high>>>31!==$a$$.high>>>31?!1:this.high===$a$$.high&&this.low===$a$$.low};$b$$0$$.prototype.notEquals=function $$b$$0$$$$notEquals$($a$$){$b$$0$$.isLong($a$$)||($a$$=$b$$0$$.fromValue($a$$));return!this.equals($a$$)};$b$$0$$.prototype.lessThan=function $$b$$0$$$$lessThan$($a$$){$b$$0$$.isLong($a$$)||($a$$=$b$$0$$.fromValue($a$$));return 0>this.compare($a$$)};$b$$0$$.prototype.lessThanOrEqual=function $$b$$0$$$$lessThanOrEqual$($a$$){$b$$0$$.isLong($a$$)||
($a$$=$b$$0$$.fromValue($a$$));return 0>=this.compare($a$$)};$b$$0$$.prototype.greaterThan=function $$b$$0$$$$greaterThan$($a$$){$b$$0$$.isLong($a$$)||($a$$=$b$$0$$.fromValue($a$$));return 0<this.compare($a$$)};$b$$0$$.prototype.greaterThanOrEqual=function $$b$$0$$$$greaterThanOrEqual$($a$$){return 0<=this.compare($a$$)};$b$$0$$.prototype.compare=function $$b$$0$$$$compare$($a$$){if(this.equals($a$$))return 0;var $b$$=this.isNegative(),$d$$=$a$$.isNegative();return $b$$&&!$d$$?-1:!$b$$&&$d$$?1:this.unsigned?
$a$$.high>>>0>this.high>>>0||$a$$.high===this.high&&$a$$.low>>>0>this.low>>>0?-1:1:this.subtract($a$$).isNegative()?-1:1};$b$$0$$.prototype.negate=function $$b$$0$$$$negate$(){return!this.unsigned&&this.equals($b$$0$$.MIN_VALUE)?$b$$0$$.MIN_VALUE:this.not().add($b$$0$$.ONE)};$b$$0$$.prototype.add=function $$b$$0$$$$add$($a$$){$b$$0$$.isLong($a$$)||($a$$=$b$$0$$.fromValue($a$$));var $c$$=this.high>>>16,$d$$=this.high&65535,$e$$=this.low>>>16,$f$$=$a$$.high>>>16,$g$$=$a$$.high&65535,$k$$=$a$$.low>>>
16,$m$$;$m$$=0+((this.low&65535)+($a$$.low&65535));$a$$=0+($m$$>>>16)+($e$$+$k$$);$e$$=0+($a$$>>>16);$e$$+=$d$$+$g$$;$d$$=0+($e$$>>>16)+($c$$+$f$$)&65535;return $b$$0$$.fromBits(($a$$&65535)<<16|$m$$&65535,$d$$<<16|$e$$&65535,this.unsigned)};$b$$0$$.prototype.subtract=function $$b$$0$$$$subtract$($a$$){$b$$0$$.isLong($a$$)||($a$$=$b$$0$$.fromValue($a$$));return this.add($a$$.negate())};$b$$0$$.prototype.multiply=function $$b$$0$$$$multiply$($a$$){if(this.isZero())return $b$$0$$.ZERO;$b$$0$$.isLong($a$$)||
($a$$=$b$$0$$.fromValue($a$$));if($a$$.isZero())return $b$$0$$.ZERO;if(this.equals($b$$0$$.MIN_VALUE))return $a$$.isOdd()?$b$$0$$.MIN_VALUE:$b$$0$$.ZERO;if($a$$.equals($b$$0$$.MIN_VALUE))return this.isOdd()?$b$$0$$.MIN_VALUE:$b$$0$$.ZERO;if(this.isNegative())return $a$$.isNegative()?this.negate().multiply($a$$.negate()):this.negate().multiply($a$$).negate();if($a$$.isNegative())return this.multiply($a$$.negate()).negate();if(this.lessThan($v$$)&&$a$$.lessThan($v$$))return $b$$0$$.fromNumber(this.toNumber()*
$a$$.toNumber(),this.unsigned);var $c$$=this.high>>>16,$d$$=this.high&65535,$e$$=this.low>>>16,$f$$=this.low&65535,$g$$=$a$$.high>>>16,$k$$=$a$$.high&65535,$m$$=$a$$.low>>>16;$a$$=$a$$.low&65535;var $p$$,$h$$,$n$$,$l$$;$l$$=0+$f$$*$a$$;$n$$=0+($l$$>>>16)+$e$$*$a$$;$h$$=0+($n$$>>>16);$n$$=($n$$&65535)+$f$$*$m$$;$h$$+=$n$$>>>16;$n$$&=65535;$h$$+=$d$$*$a$$;$p$$=0+($h$$>>>16);$h$$=($h$$&65535)+$e$$*$m$$;$p$$+=$h$$>>>16;$h$$=($h$$&65535)+$f$$*$k$$;$p$$+=$h$$>>>16;$h$$&=65535;return $b$$0$$.fromBits($n$$<<
16|$l$$&65535,($p$$+($c$$*$a$$+$d$$*$m$$+$e$$*$k$$+$f$$*$g$$)&65535)<<16|$h$$,this.unsigned)};$b$$0$$.prototype.div=function $$b$$0$$$$div$($a$$){$b$$0$$.isLong($a$$)||($a$$=$b$$0$$.fromValue($a$$));if($a$$.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?$b$$0$$.UZERO:$b$$0$$.ZERO;var $c$$,$d$$,$e$$;if(this.equals($b$$0$$.MIN_VALUE)){if($a$$.equals($b$$0$$.ONE)||$a$$.equals($b$$0$$.NEG_ONE))return $b$$0$$.MIN_VALUE;if($a$$.equals($b$$0$$.MIN_VALUE))return $b$$0$$.ONE;
$c$$=this.shiftRight(1).div($a$$).shiftLeft(1);if($c$$.equals($b$$0$$.ZERO))return $a$$.isNegative()?$b$$0$$.ONE:$b$$0$$.NEG_ONE;$d$$=this.subtract($a$$.multiply($c$$));return $c$$.add($d$$.div($a$$))}if($a$$.equals($b$$0$$.MIN_VALUE))return this.unsigned?$b$$0$$.UZERO:$b$$0$$.ZERO;if(this.isNegative())return $a$$.isNegative()?this.negate().div($a$$.negate()):this.negate().div($a$$).negate();if($a$$.isNegative())return this.div($a$$.negate()).negate();$e$$=$b$$0$$.ZERO;for($d$$=this;$d$$.greaterThanOrEqual($a$$);){$c$$=
Math.max(1,Math.floor($d$$.toNumber()/$a$$.toNumber()));for(var $f$$=Math.ceil(Math.log($c$$)/Math.LN2),$f$$=48>=$f$$?1:Math.pow(2,$f$$-48),$g$$=$b$$0$$.fromNumber($c$$),$k$$=$g$$.multiply($a$$);$k$$.isNegative()||$k$$.greaterThan($d$$);)$c$$-=$f$$,$g$$=$b$$0$$.fromNumber($c$$,this.unsigned),$k$$=$g$$.multiply($a$$);$g$$.isZero()&&($g$$=$b$$0$$.ONE);$e$$=$e$$.add($g$$);$d$$=$d$$.subtract($k$$)}return $e$$};$b$$0$$.prototype.modulo=function $$b$$0$$$$modulo$($a$$){$b$$0$$.isLong($a$$)||($a$$=$b$$0$$.fromValue($a$$));
return this.subtract(this.div($a$$).multiply($a$$))};$b$$0$$.prototype.not=function $$b$$0$$$$not$(){return $b$$0$$.fromBits(~this.low,~this.high,this.unsigned)};$b$$0$$.prototype.and=function $$b$$0$$$$and$($a$$){$b$$0$$.isLong($a$$)||($a$$=$b$$0$$.fromValue($a$$));return $b$$0$$.fromBits(this.low&$a$$.low,this.high&$a$$.high,this.unsigned)};$b$$0$$.prototype.or=function $$b$$0$$$$or$($a$$){$b$$0$$.isLong($a$$)||($a$$=$b$$0$$.fromValue($a$$));return $b$$0$$.fromBits(this.low|$a$$.low,this.high|$a$$.high,
this.unsigned)};$b$$0$$.prototype.xor=function $$b$$0$$$$xor$($a$$){$b$$0$$.isLong($a$$)||($a$$=$b$$0$$.fromValue($a$$));return $b$$0$$.fromBits(this.low^$a$$.low,this.high^$a$$.high,this.unsigned)};$b$$0$$.prototype.shiftLeft=function $$b$$0$$$$shiftLeft$($a$$){$b$$0$$.isLong($a$$)&&($a$$=$a$$.toInt());return 0===($a$$&=63)?this:32>$a$$?$b$$0$$.fromBits(this.low<<$a$$,this.high<<$a$$|this.low>>>32-$a$$,this.unsigned):$b$$0$$.fromBits(0,this.low<<$a$$-32,this.unsigned)};$b$$0$$.prototype.shiftRight=
function $$b$$0$$$$shiftRight$($a$$){$b$$0$$.isLong($a$$)&&($a$$=$a$$.toInt());return 0===($a$$&=63)?this:32>$a$$?$b$$0$$.fromBits(this.low>>>$a$$|this.high<<32-$a$$,this.high>>$a$$,this.unsigned):$b$$0$$.fromBits(this.high>>$a$$-32,0<=this.high?0:-1,this.unsigned)};$b$$0$$.prototype.shiftRightUnsigned=function $$b$$0$$$$shiftRightUnsigned$($a$$){$b$$0$$.isLong($a$$)&&($a$$=$a$$.toInt());$a$$&=63;if(0===$a$$)return this;var $c$$=this.high;return 32>$a$$?$b$$0$$.fromBits(this.low>>>$a$$|$c$$<<32-$a$$,
$c$$>>>$a$$,this.unsigned):32===$a$$?$b$$0$$.fromBits($c$$,0,this.unsigned):$b$$0$$.fromBits($c$$>>>$a$$-32,0,this.unsigned)};$b$$0$$.prototype.toSigned=function $$b$$0$$$$toSigned$(){return this.unsigned?new $b$$0$$(this.low,this.high,!1):this};$b$$0$$.prototype.toUnsigned=function $$b$$0$$$$toUnsigned$(){return this.unsigned?this:new $b$$0$$(this.low,this.high,!0)};"undefined"!==typeof module&&module.exports?module.exports=$b$$0$$:"function"===typeof define&&define.amd?define(function(){return $b$$0$$}):
($q$$.dcodeIO=$q$$.dcodeIO||{}).Long=$b$$0$$})(this)})();
(function($s$$0$$){function $u$$($m$$0$$){var $g$$1$$={VERSION:"3.7.0",WIRE_TYPES:{}};$g$$1$$.WIRE_TYPES.VARINT=0;$g$$1$$.WIRE_TYPES.BITS64=1;$g$$1$$.WIRE_TYPES.LDELIM=2;$g$$1$$.WIRE_TYPES.STARTGROUP=3;$g$$1$$.WIRE_TYPES.ENDGROUP=4;$g$$1$$.WIRE_TYPES.BITS32=5;$g$$1$$.PACKABLE_WIRE_TYPES=[$g$$1$$.WIRE_TYPES.VARINT,$g$$1$$.WIRE_TYPES.BITS64,$g$$1$$.WIRE_TYPES.BITS32];$g$$1$$.TYPES={int32:{name:"int32",wireType:$g$$1$$.WIRE_TYPES.VARINT},uint32:{name:"uint32",wireType:$g$$1$$.WIRE_TYPES.VARINT},sint32:{name:"sint32",
wireType:$g$$1$$.WIRE_TYPES.VARINT},int64:{name:"int64",wireType:$g$$1$$.WIRE_TYPES.VARINT},uint64:{name:"uint64",wireType:$g$$1$$.WIRE_TYPES.VARINT},sint64:{name:"sint64",wireType:$g$$1$$.WIRE_TYPES.VARINT},bool:{name:"bool",wireType:$g$$1$$.WIRE_TYPES.VARINT},"double":{name:"double",wireType:$g$$1$$.WIRE_TYPES.BITS64},string:{name:"string",wireType:$g$$1$$.WIRE_TYPES.LDELIM},bytes:{name:"bytes",wireType:$g$$1$$.WIRE_TYPES.LDELIM},fixed32:{name:"fixed32",wireType:$g$$1$$.WIRE_TYPES.BITS32},sfixed32:{name:"sfixed32",
wireType:$g$$1$$.WIRE_TYPES.BITS32},fixed64:{name:"fixed64",wireType:$g$$1$$.WIRE_TYPES.BITS64},sfixed64:{name:"sfixed64",wireType:$g$$1$$.WIRE_TYPES.BITS64},"float":{name:"float",wireType:$g$$1$$.WIRE_TYPES.BITS32},"enum":{name:"enum",wireType:$g$$1$$.WIRE_TYPES.VARINT},message:{name:"message",wireType:$g$$1$$.WIRE_TYPES.LDELIM},group:{name:"group",wireType:$g$$1$$.WIRE_TYPES.STARTGROUP}};$g$$1$$.ID_MIN=1;$g$$1$$.ID_MAX=536870911;$g$$1$$.ByteBuffer=$m$$0$$;$g$$1$$.Long=$m$$0$$.Long||null;$g$$1$$.convertFieldsToCamelCase=
!1;$g$$1$$.populateAccessors=!0;$g$$1$$.Util=function(){Object.create||(Object.create=function $Object$create$($e$$){function $d$$(){}if(1<arguments.length)throw Error("Object.create polyfill only accepts the first parameter.");$d$$.prototype=$e$$;return new $d$$});var $e$$0$$={IS_NODE:!1};try{$e$$0$$.IS_NODE="function"===typeof require&&"function"===typeof require("fs").readFileSync&&"function"===typeof require("path").resolve}catch($d$$0$$){}$e$$0$$.XHR=function $$e$$0$$$XHR$(){for(var $e$$=[function(){return new XMLHttpRequest},
function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],$d$$=null,$g$$=0;$g$$<$e$$.length;$g$$++){try{$d$$=$e$$[$g$$]()}catch($b$$){continue}break}if(!$d$$)throw Error("XMLHttpRequest is not supported");return $d$$};$e$$0$$.fetch=function $$e$$0$$$fetch$($d$$,$g$$){$g$$&&"function"!=typeof $g$$&&($g$$=null);if($e$$0$$.IS_NODE)if($g$$)require("fs").readFile($d$$,function($f$$,$a$$){$f$$?
$g$$(null):$g$$(""+$a$$)});else try{return require("fs").readFileSync($d$$)}catch($n$$){return null}else{var $b$$=$e$$0$$.XHR();$b$$.open("GET",$d$$,$g$$?!0:!1);$b$$.setRequestHeader("Accept","text/plain");"function"===typeof $b$$.overrideMimeType&&$b$$.overrideMimeType("text/plain");if($g$$)$b$$.onreadystatechange=function $$b$$$onreadystatechange$(){4==$b$$.readyState&&(200==$b$$.status||0==$b$$.status&&"string"===typeof $b$$.responseText?$g$$($b$$.responseText):$g$$(null))},4!=$b$$.readyState&&
$b$$.send(null);else return $b$$.send(null),200==$b$$.status||0==$b$$.status&&"string"===typeof $b$$.responseText?$b$$.responseText:null}};$e$$0$$.isArray=Array.isArray||function($e$$){return"[object Array]"===Object.prototype.toString.call($e$$)};return $e$$0$$}();$g$$1$$.Lang={OPEN:"{",CLOSE:"}",OPTOPEN:"[",OPTCLOSE:"]",OPTEND:",",EQUAL:"=",END:";",STRINGOPEN:'"',STRINGCLOSE:'"',STRINGOPEN_SQ:"'",STRINGCLOSE_SQ:"'",COPTOPEN:"(",COPTCLOSE:")",DELIM:/[\s\{\}=;\[\],'"\(\)]/g,RULE:/^(?:required|optional|repeated)$/,
TYPE:/^(?:double|float|int32|uint32|sint32|int64|uint64|sint64|fixed32|sfixed32|fixed64|sfixed64|bool|string|bytes)$/,NAME:/^[a-zA-Z_][a-zA-Z_0-9]*$/,TYPEDEF:/^[a-zA-Z][a-zA-Z_0-9]*$/,TYPEREF:/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)+$/,FQTYPEREF:/^(?:\.[a-zA-Z][a-zA-Z_0-9]*)+$/,NUMBER:/^-?(?:[1-9][0-9]*|0|0x[0-9a-fA-F]+|0[0-7]+|([0-9]*\.[0-9]+([Ee][+-]?[0-9]+)?))$/,NUMBER_DEC:/^(?:[1-9][0-9]*|0)$/,NUMBER_HEX:/^0x[0-9a-fA-F]+$/,NUMBER_OCT:/^0[0-7]+$/,NUMBER_FLT:/^[0-9]*\.[0-9]+([Ee][+-]?[0-9]+)?$/,ID:/^(?:[1-9][0-9]*|0|0x[0-9a-fA-F]+|0[0-7]+)$/,
NEGID:/^\-?(?:[1-9][0-9]*|0|0x[0-9a-fA-F]+|0[0-7]+)$/,WHITESPACE:/\s/,STRING:/['"]([^'"\\]*(\\.[^"\\]*)*)['"]/g,BOOL:/^(?:true|false)$/i};$g$$1$$.DotProto=function($e$$0$$,$d$$){var $g$$0$$={},$k$$=function $$k$$$($f$$){this.source=""+$f$$;this.index=0;this.line=1;this.stack=[];this.readingString=!1;this.stringEndsWith=$d$$.STRINGCLOSE},$n$$=$k$$.prototype;$n$$._readString=function $$n$$$_readString$(){$d$$.STRING.lastIndex=this.index-1;var $f$$;if(null!==($f$$=$d$$.STRING.exec(this.source)))return $f$$=
$f$$[1],this.index=$d$$.STRING.lastIndex,this.stack.push(this.stringEndsWith),$f$$;throw Error("Unterminated string at line "+this.line+", index "+this.index);};$n$$.next=function $$n$$$next$(){if(0<this.stack.length)return this.stack.shift();if(this.index>=this.source.length)return null;if(this.readingString)return this.readingString=!1,this._readString();var $f$$,$a$$;do{for($f$$=!1;$d$$.WHITESPACE.test($a$$=this.source.charAt(this.index));)if(this.index++,"\n"===$a$$&&this.line++,this.index===
this.source.length)return null;if("/"===this.source.charAt(this.index))if("/"===this.source.charAt(++this.index)){for(;"\n"!==this.source.charAt(this.index);)if(this.index++,this.index==this.source.length)return null;this.index++;this.line++;$f$$=!0}else if("*"===this.source.charAt(this.index)){for($a$$="";"*/"!==$a$$+($a$$=this.source.charAt(this.index));)if(this.index++,"\n"===$a$$&&this.line++,this.index===this.source.length)return null;this.index++;$f$$=!0}else throw Error("Unterminated comment at line "+
this.line+": /"+this.source.charAt(this.index));}while($f$$);if(this.index===this.source.length)return null;$f$$=this.index;$d$$.DELIM.lastIndex=0;if($d$$.DELIM.test(this.source.charAt($f$$)))++$f$$;else for(++$f$$;$f$$<this.source.length&&!$d$$.DELIM.test(this.source.charAt($f$$));)$f$$++;$f$$=this.source.substring(this.index,this.index=$f$$);$f$$===$d$$.STRINGOPEN?(this.readingString=!0,this.stringEndsWith=$d$$.STRINGCLOSE):$f$$===$d$$.STRINGOPEN_SQ&&(this.readingString=!0,this.stringEndsWith=$d$$.STRINGCLOSE_SQ);
return $f$$};$n$$.peek=function $$n$$$peek$(){if(0===this.stack.length){var $f$$=this.next();if(null===$f$$)return null;this.stack.push($f$$)}return this.stack[0]};$n$$.toString=function $$n$$$toString$(){return"Tokenizer("+this.index+"/"+this.source.length+" at line "+this.line+")"};$g$$0$$.Tokenizer=$k$$;var $n$$=function $$n$$$($f$$){this.tn=new $k$$($f$$)},$b$$0$$=$n$$.prototype;$b$$0$$.parse=function $$b$$0$$$parse$(){for(var $f$$={name:"[ROOT]","package":null,messages:[],enums:[],imports:[],
options:{},services:[]},$a$$,$c$$=!0;$a$$=this.tn.next();)switch($a$$){case "package":if(!$c$$||null!==$f$$["package"])throw Error("Unexpected package at line "+this.tn.line);$f$$["package"]=this._parsePackage($a$$);break;case "import":if(!$c$$)throw Error("Unexpected import at line "+this.tn.line);$f$$.imports.push(this._parseImport($a$$));break;case "message":this._parseMessage($f$$,null,$a$$);$c$$=!1;break;case "enum":this._parseEnum($f$$,$a$$);$c$$=!1;break;case "option":if(!$c$$)throw Error("Unexpected option at line "+
this.tn.line);this._parseOption($f$$,$a$$);break;case "service":this._parseService($f$$,$a$$);break;case "extend":this._parseExtend($f$$,$a$$);break;case "syntax":this._parseIgnoredStatement($f$$,$a$$);break;default:throw Error("Unexpected token at line "+this.tn.line+": "+$a$$);}delete $f$$.name;return $f$$};$b$$0$$._parseNumber=function $$b$$0$$$_parseNumber$($f$$){var $a$$=1;"-"==$f$$.charAt(0)&&($a$$=-1,$f$$=$f$$.substring(1));if($d$$.NUMBER_DEC.test($f$$))return $a$$*parseInt($f$$,10);if($d$$.NUMBER_HEX.test($f$$))return $a$$*
parseInt($f$$.substring(2),16);if($d$$.NUMBER_OCT.test($f$$))return $a$$*parseInt($f$$.substring(1),8);if($d$$.NUMBER_FLT.test($f$$))return $a$$*parseFloat($f$$);throw Error("Illegal number at line "+this.tn.line+": "+(0>$a$$?"-":"")+$f$$);};$b$$0$$._parseString=function $$b$$0$$$_parseString$(){var $f$$="",$a$$;do{this.tn.next();$f$$+=this.tn.next();$a$$=this.tn.next();if($a$$!==this.tn.stringEndsWith)throw Error("Illegal end of string at line "+this.tn.line+": "+$a$$);$a$$=this.tn.peek()}while($a$$===
$d$$.STRINGOPEN||$a$$===$d$$.STRINGOPEN_SQ);return $f$$};$b$$0$$._parseId=function $$b$$0$$$_parseId$($f$$,$a$$){var $c$$=-1,$b$$=1;"-"==$f$$.charAt(0)&&($b$$=-1,$f$$=$f$$.substring(1));if($d$$.NUMBER_DEC.test($f$$))$c$$=parseInt($f$$);else if($d$$.NUMBER_HEX.test($f$$))$c$$=parseInt($f$$.substring(2),16);else if($d$$.NUMBER_OCT.test($f$$))$c$$=parseInt($f$$.substring(1),8);else throw Error("Illegal id at line "+this.tn.line+": "+(0>$b$$?"-":"")+$f$$);$c$$=$b$$*$c$$|0;if(!$a$$&&0>$c$$)throw Error("Illegal id at line "+
this.tn.line+": "+(0>$b$$?"-":"")+$f$$);return $c$$};$b$$0$$._parsePackage=function $$b$$0$$$_parsePackage$($f$$){$f$$=this.tn.next();if(!$d$$.TYPEREF.test($f$$))throw Error("Illegal package name at line "+this.tn.line+": "+$f$$);var $a$$=$f$$;$f$$=this.tn.next();if($f$$!=$d$$.END)throw Error("Illegal end of package at line "+this.tn.line+": "+$f$$);return $a$$};$b$$0$$._parseImport=function $$b$$0$$$_parseImport$($f$$){$f$$=this.tn.peek();"public"===$f$$&&(this.tn.next(),$f$$=this.tn.peek());if($f$$!==
$d$$.STRINGOPEN&&$f$$!==$d$$.STRINGOPEN_SQ)throw Error("Illegal start of import at line "+this.tn.line+": "+$f$$);var $a$$=this._parseString();$f$$=this.tn.next();if($f$$!==$d$$.END)throw Error("Illegal end of import at line "+this.tn.line+": "+$f$$);return $a$$};$b$$0$$._parseOption=function $$b$$0$$$_parseOption$($f$$,$a$$){$a$$=this.tn.next();var $c$$=!1;$a$$==$d$$.COPTOPEN&&($c$$=!0,$a$$=this.tn.next());if(!$d$$.TYPEREF.test($a$$)&&!/google\.protobuf\./.test($a$$))throw Error("Illegal option name in message "+
$f$$.name+" at line "+this.tn.line+": "+$a$$);var $b$$=$a$$;$a$$=this.tn.next();if($c$$){if($a$$!==$d$$.COPTCLOSE)throw Error("Illegal end in message "+$f$$.name+", option "+$b$$+" at line "+this.tn.line+": "+$a$$);$b$$="("+$b$$+")";$a$$=this.tn.next();$d$$.FQTYPEREF.test($a$$)&&($b$$+=$a$$,$a$$=this.tn.next())}if($a$$!==$d$$.EQUAL)throw Error("Illegal operator in message "+$f$$.name+", option "+$b$$+" at line "+this.tn.line+": "+$a$$);$a$$=this.tn.peek();if($a$$===$d$$.STRINGOPEN||$a$$===$d$$.STRINGOPEN_SQ)$c$$=
this._parseString();else if(this.tn.next(),$d$$.NUMBER.test($a$$))$c$$=this._parseNumber($a$$,!0);else if($d$$.BOOL.test($a$$))$c$$="true"===$a$$;else if($d$$.TYPEREF.test($a$$))$c$$=$a$$;else throw Error("Illegal option value in message "+$f$$.name+", option "+$b$$+" at line "+this.tn.line+": "+$a$$);$a$$=this.tn.next();if($a$$!==$d$$.END)throw Error("Illegal end of option in message "+$f$$.name+", option "+$b$$+" at line "+this.tn.line+": "+$a$$);$f$$.options[$b$$]=$c$$};$b$$0$$._parseIgnoredStatement=
function $$b$$0$$$_parseIgnoredStatement$($f$$,$a$$){var $c$$;do{$c$$=this.tn.next();if(null===$c$$)throw Error("Unexpected EOF in "+$f$$.name+", "+$a$$+" at line "+this.tn.line);if($c$$===$d$$.END)break}while(1)};$b$$0$$._parseService=function $$b$$0$$$_parseService$($f$$,$a$$){$a$$=this.tn.next();if(!$d$$.NAME.test($a$$))throw Error("Illegal service name at line "+this.tn.line+": "+$a$$);var $c$$=$a$$,$b$$={name:$c$$,rpc:{},options:{}};$a$$=this.tn.next();if($a$$!==$d$$.OPEN)throw Error("Illegal start of service "+
$c$$+" at line "+this.tn.line+": "+$a$$);do if($a$$=this.tn.next(),"option"===$a$$)this._parseOption($b$$,$a$$);else if("rpc"===$a$$)this._parseServiceRPC($b$$,$a$$);else if($a$$!==$d$$.CLOSE)throw Error("Illegal type of service "+$c$$+" at line "+this.tn.line+": "+$a$$);while($a$$!==$d$$.CLOSE);$f$$.services.push($b$$)};$b$$0$$._parseServiceRPC=function $$b$$0$$$_parseServiceRPC$($f$$,$a$$){var $c$$=$a$$;$a$$=this.tn.next();if(!$d$$.NAME.test($a$$))throw Error("Illegal method name in service "+$f$$.name+
" at line "+this.tn.line+": "+$a$$);var $b$$=$a$$,$e$$={request:null,response:null,options:{}};$a$$=this.tn.next();if($a$$!==$d$$.COPTOPEN)throw Error("Illegal start of request type in service "+$f$$.name+"#"+$b$$+" at line "+this.tn.line+": "+$a$$);$a$$=this.tn.next();if(!$d$$.TYPEREF.test($a$$))throw Error("Illegal request type in service "+$f$$.name+"#"+$b$$+" at line "+this.tn.line+": "+$a$$);$e$$.request=$a$$;$a$$=this.tn.next();if($a$$!=$d$$.COPTCLOSE)throw Error("Illegal end of request type in service "+
$f$$.name+"#"+$b$$+" at line "+this.tn.line+": "+$a$$);$a$$=this.tn.next();if("returns"!==$a$$.toLowerCase())throw Error("Illegal delimiter in service "+$f$$.name+"#"+$b$$+" at line "+this.tn.line+": "+$a$$);$a$$=this.tn.next();if($a$$!=$d$$.COPTOPEN)throw Error("Illegal start of response type in service "+$f$$.name+"#"+$b$$+" at line "+this.tn.line+": "+$a$$);$a$$=this.tn.next();$e$$.response=$a$$;$a$$=this.tn.next();if($a$$!==$d$$.COPTCLOSE)throw Error("Illegal end of response type in service "+
$f$$.name+"#"+$b$$+" at line "+this.tn.line+": "+$a$$);$a$$=this.tn.next();if($a$$===$d$$.OPEN){do if($a$$=this.tn.next(),"option"===$a$$)this._parseOption($e$$,$a$$);else if($a$$!==$d$$.CLOSE)throw Error("Illegal start of option inservice "+$f$$.name+"#"+$b$$+" at line "+this.tn.line+": "+$a$$);while($a$$!==$d$$.CLOSE);this.tn.peek()===$d$$.END&&this.tn.next()}else if($a$$!==$d$$.END)throw Error("Illegal delimiter in service "+$f$$.name+"#"+$b$$+" at line "+this.tn.line+": "+$a$$);"undefined"===
typeof $f$$[$c$$]&&($f$$[$c$$]={});$f$$[$c$$][$b$$]=$e$$};$b$$0$$._parseMessage=function $$b$$0$$$_parseMessage$($f$$,$a$$,$c$$){var $b$$={},$e$$="group"===$c$$;$c$$=this.tn.next();if(!$d$$.NAME.test($c$$))throw Error("Illegal "+($e$$?"group":"message")+" name"+($f$$?" in message "+$f$$.name:"")+" at line "+this.tn.line+": "+$c$$);$b$$.name=$c$$;if($e$$){$c$$=this.tn.next();if($c$$!==$d$$.EQUAL)throw Error("Illegal id assignment after group "+$b$$.name+" at line "+this.tn.line+": "+$c$$);$c$$=this.tn.next();
try{$a$$.id=this._parseId($c$$)}catch($g$$){throw Error("Illegal field id value for group "+$b$$.name+"#"+$a$$.name+" at line "+this.tn.line+": "+$c$$);}$b$$.isGroup=!0}$b$$.fields=[];$b$$.enums=[];$b$$.messages=[];$b$$.options={};$b$$.oneofs={};$c$$=this.tn.next();$c$$===$d$$.OPTOPEN&&$a$$&&(this._parseFieldOptions($b$$,$a$$,$c$$),$c$$=this.tn.next());if($c$$!==$d$$.OPEN)throw Error("Illegal start of "+($e$$?"group":"message")+" "+$b$$.name+" at line "+this.tn.line+": "+$c$$);do if($c$$=this.tn.next(),
$c$$===$d$$.CLOSE){$c$$=this.tn.peek();$c$$===$d$$.END&&this.tn.next();break}else if($d$$.RULE.test($c$$))this._parseMessageField($b$$,$c$$);else if("oneof"===$c$$)this._parseMessageOneOf($b$$,$c$$);else if("enum"===$c$$)this._parseEnum($b$$,$c$$);else if("message"===$c$$)this._parseMessage($b$$,null,$c$$);else if("option"===$c$$)this._parseOption($b$$,$c$$);else if("extensions"===$c$$)$b$$.extensions=this._parseExtensions($b$$,$c$$);else if("extend"===$c$$)this._parseExtend($b$$,$c$$);else throw Error("Illegal token in message "+
$b$$.name+" at line "+this.tn.line+": "+$c$$);while(1);$f$$.messages.push($b$$);return $b$$};$b$$0$$._parseMessageField=function $$b$$0$$$_parseMessageField$($b$$,$a$$){var $c$$={},$e$$=null;$c$$.rule=$a$$;$c$$.options={};$a$$=this.tn.next();if("group"===$a$$){$e$$=this._parseMessage($b$$,$c$$,$a$$);if(!/^[A-Z]/.test($e$$.name))throw Error("Group names must start with a capital letter");$c$$.type=$e$$.name;$c$$.name=$e$$.name.toLowerCase();$a$$=this.tn.peek();$a$$===$d$$.END&&this.tn.next()}else{if(!$d$$.TYPE.test($a$$)&&
!$d$$.TYPEREF.test($a$$))throw Error("Illegal field type in message "+$b$$.name+" at line "+this.tn.line+": "+$a$$);$c$$.type=$a$$;$a$$=this.tn.next();if(!$d$$.NAME.test($a$$))throw Error("Illegal field name in message "+$b$$.name+" at line "+this.tn.line+": "+$a$$);$c$$.name=$a$$;$a$$=this.tn.next();if($a$$!==$d$$.EQUAL)throw Error("Illegal token in field "+$b$$.name+"#"+$c$$.name+" at line "+this.tn.line+": "+$a$$);$a$$=this.tn.next();try{$c$$.id=this._parseId($a$$)}catch($g$$){throw Error("Illegal field id in message "+
$b$$.name+"#"+$c$$.name+" at line "+this.tn.line+": "+$a$$);}$a$$=this.tn.next();$a$$===$d$$.OPTOPEN&&(this._parseFieldOptions($b$$,$c$$,$a$$),$a$$=this.tn.next());if($a$$!==$d$$.END)throw Error("Illegal delimiter in message "+$b$$.name+"#"+$c$$.name+" at line "+this.tn.line+": "+$a$$);}$b$$.fields.push($c$$);return $c$$};$b$$0$$._parseMessageOneOf=function $$b$$0$$$_parseMessageOneOf$($b$$,$a$$){$a$$=this.tn.next();if(!$d$$.NAME.test($a$$))throw Error("Illegal oneof name in message "+$b$$.name+" at line "+
this.tn.line+": "+$a$$);var $c$$=$a$$,$e$$,$g$$=[];$a$$=this.tn.next();if($a$$!==$d$$.OPEN)throw Error("Illegal start of oneof "+$c$$+" at line "+this.tn.line+": "+$a$$);for(;this.tn.peek()!==$d$$.CLOSE;)$e$$=this._parseMessageField($b$$,"optional"),$e$$.oneof=$c$$,$g$$.push($e$$.id);this.tn.next();$b$$.oneofs[$c$$]=$g$$};$b$$0$$._parseFieldOptions=function $$b$$0$$$_parseFieldOptions$($b$$,$a$$,$c$$){var $e$$=!0;do{$c$$=this.tn.next();if($c$$===$d$$.OPTCLOSE)break;else if($c$$===$d$$.OPTEND){if($e$$)throw Error("Illegal start of options in message "+
$b$$.name+"#"+$a$$.name+" at line "+this.tn.line+": "+$c$$);$c$$=this.tn.next()}this._parseFieldOption($b$$,$a$$,$c$$);$e$$=!1}while(1)};$b$$0$$._parseFieldOption=function $$b$$0$$$_parseFieldOption$($b$$,$a$$,$c$$){var $e$$=!1;$c$$===$d$$.COPTOPEN&&($c$$=this.tn.next(),$e$$=!0);if(!$d$$.TYPEREF.test($c$$))throw Error("Illegal field option in "+$b$$.name+"#"+$a$$.name+" at line "+this.tn.line+": "+$c$$);var $g$$=$c$$;$c$$=this.tn.next();if($e$$){if($c$$!==$d$$.COPTCLOSE)throw Error("Illegal delimiter in "+
$b$$.name+"#"+$a$$.name+" at line "+this.tn.line+": "+$c$$);$g$$="("+$g$$+")";$c$$=this.tn.next();$d$$.FQTYPEREF.test($c$$)&&($g$$+=$c$$,$c$$=this.tn.next())}if($c$$!==$d$$.EQUAL)throw Error("Illegal token in "+$b$$.name+"#"+$a$$.name+" at line "+this.tn.line+": "+$c$$);$c$$=this.tn.peek();if($c$$===$d$$.STRINGOPEN||$c$$===$d$$.STRINGOPEN_SQ)$b$$=this._parseString();else if($d$$.NUMBER.test($c$$,!0))$b$$=this._parseNumber(this.tn.next(),!0);else if($d$$.BOOL.test($c$$))$b$$="true"===this.tn.next().toLowerCase();
else if($d$$.TYPEREF.test($c$$))$b$$=this.tn.next();else throw Error("Illegal value in message "+$b$$.name+"#"+$a$$.name+", option "+$g$$+" at line "+this.tn.line+": "+$c$$);$a$$.options[$g$$]=$b$$};$b$$0$$._parseEnum=function $$b$$0$$$_parseEnum$($b$$,$a$$){var $c$$={};$a$$=this.tn.next();if(!$d$$.NAME.test($a$$))throw Error("Illegal enum name in message "+$b$$.name+" at line "+this.tn.line+": "+$a$$);$c$$.name=$a$$;$a$$=this.tn.next();if($a$$!==$d$$.OPEN)throw Error("Illegal start of enum "+$c$$.name+
" at line "+this.tn.line+": "+$a$$);$c$$.values=[];$c$$.options={};do{$a$$=this.tn.next();if($a$$===$d$$.CLOSE){$a$$=this.tn.peek();$a$$===$d$$.END&&this.tn.next();break}if("option"==$a$$)this._parseOption($c$$,$a$$);else{if(!$d$$.NAME.test($a$$))throw Error("Illegal name in enum "+$c$$.name+" at line "+this.tn.line+": "+$a$$);this._parseEnumValue($c$$,$a$$)}}while(1);$b$$.enums.push($c$$)};$b$$0$$._parseEnumValue=function $$b$$0$$$_parseEnumValue$($b$$,$a$$){var $c$$={};$c$$.name=$a$$;$a$$=this.tn.next();
if($a$$!==$d$$.EQUAL)throw Error("Illegal token in enum "+$b$$.name+" at line "+this.tn.line+": "+$a$$);$a$$=this.tn.next();try{$c$$.id=this._parseId($a$$,!0)}catch($e$$){throw Error("Illegal id in enum "+$b$$.name+" at line "+this.tn.line+": "+$a$$);}$b$$.values.push($c$$);$a$$=this.tn.next();$a$$===$d$$.OPTOPEN&&(this._parseFieldOptions($b$$,{options:{}},$a$$),$a$$=this.tn.next());if($a$$!==$d$$.END)throw Error("Illegal delimiter in enum "+$b$$.name+" at line "+this.tn.line+": "+$a$$);};$b$$0$$._parseExtensions=
function $$b$$0$$$_parseExtensions$($b$$,$a$$){var $c$$=[];$a$$=this.tn.next();"min"===$a$$?$c$$.push($e$$0$$.ID_MIN):"max"===$a$$?$c$$.push($e$$0$$.ID_MAX):$c$$.push(this._parseNumber($a$$));$a$$=this.tn.next();if("to"!==$a$$)throw Error("Illegal extensions delimiter in message "+$b$$.name+" at line "+this.tn.line+": "+$a$$);$a$$=this.tn.next();"min"===$a$$?$c$$.push($e$$0$$.ID_MIN):"max"===$a$$?$c$$.push($e$$0$$.ID_MAX):$c$$.push(this._parseNumber($a$$));$a$$=this.tn.next();if($a$$!==$d$$.END)throw Error("Illegal extensions delimiter in message "+
$b$$.name+" at line "+this.tn.line+": "+$a$$);return $c$$};$b$$0$$._parseExtend=function $$b$$0$$$_parseExtend$($b$$,$a$$){$a$$=this.tn.next();if(!$d$$.TYPEREF.test($a$$))throw Error("Illegal message name at line "+this.tn.line+": "+$a$$);var $c$$={};$c$$.ref=$a$$;$c$$.fields=[];$a$$=this.tn.next();if($a$$!==$d$$.OPEN)throw Error("Illegal start of extend "+$c$$.name+" at line "+this.tn.line+": "+$a$$);do if($a$$=this.tn.next(),$a$$===$d$$.CLOSE){$a$$=this.tn.peek();$a$$==$d$$.END&&this.tn.next();
break}else if($d$$.RULE.test($a$$))this._parseMessageField($c$$,$a$$);else throw Error("Illegal token in extend "+$c$$.name+" at line "+this.tn.line+": "+$a$$);while(1);$b$$.messages.push($c$$);return $c$$};$b$$0$$.toString=function $$b$$0$$$toString$(){return"Parser"};$g$$0$$.Parser=$n$$;return $g$$0$$}($g$$1$$,$g$$1$$.Lang);$g$$1$$.Reflect=function($e$$2$$){function $d$$2$$($a$$,$b$$){var $c$$=$b$$.readVarint32(),$f$$=$c$$&7,$c$$=$c$$>>3;switch($f$$){case $e$$2$$.WIRE_TYPES.VARINT:do $c$$=$b$$.readUint8();
while(128===($c$$&128));break;case $e$$2$$.WIRE_TYPES.BITS64:$b$$.offset+=8;break;case $e$$2$$.WIRE_TYPES.LDELIM:$c$$=$b$$.readVarint32();$b$$.offset+=$c$$;break;case $e$$2$$.WIRE_TYPES.STARTGROUP:$d$$2$$($c$$,$b$$);break;case $e$$2$$.WIRE_TYPES.ENDGROUP:if($c$$===$a$$)return!1;throw Error("Illegal GROUPEND after unknown group: "+$c$$+" ("+$a$$+" expected)");case $e$$2$$.WIRE_TYPES.BITS32:$b$$.offset+=4;break;default:throw Error("Illegal wire type in unknown group "+$a$$+": "+$f$$);}return!0}function $g$$0$$($a$$,
$b$$){if($a$$&&"number"===typeof $a$$.low&&"number"===typeof $a$$.high&&"boolean"===typeof $a$$.unsigned&&$a$$.low===$a$$.low&&$a$$.high===$a$$.high)return new $e$$2$$.Long($a$$.low,$a$$.high,"undefined"===typeof $b$$?$a$$.unsigned:$b$$);if("string"===typeof $a$$)return $e$$2$$.Long.fromString($a$$,$b$$||!1,10);if("number"===typeof $a$$)return $e$$2$$.Long.fromNumber($a$$,$b$$||!1);throw Error("not convertible to Long");}var $k$$0$$={},$n$$=function $$n$$$($a$$,$b$$,$c$$){this.builder=$a$$;this.parent=
$b$$;this.name=$c$$},$b$$2$$=$n$$.prototype;$b$$2$$.fqn=function $$b$$2$$$fqn$(){var $a$$=this.name,$b$$=this;do{$b$$=$b$$.parent;if(null==$b$$)break;$a$$=$b$$.name+"."+$a$$}while(1);return $a$$};$b$$2$$.toString=function $$b$$2$$$toString$($a$$){return($a$$?this.className+" ":"")+this.fqn()};$b$$2$$.build=function $$b$$2$$$build$(){throw Error(this.toString(!0)+" cannot be built directly");};$k$$0$$.T=$n$$;var $f$$2$$=function $$f$$2$$$($a$$,$b$$,$c$$,$e$$){$n$$.call(this,$a$$,$b$$,$c$$);this.className=
"Namespace";this.children=[];this.options=$e$$||{}},$b$$2$$=$f$$2$$.prototype=Object.create($n$$.prototype);$b$$2$$.getChildren=function $$b$$2$$$getChildren$($a$$){$a$$=$a$$||null;if(null==$a$$)return this.children.slice();for(var $b$$=[],$c$$=0,$e$$=this.children.length;$c$$<$e$$;++$c$$)this.children[$c$$]instanceof $a$$&&$b$$.push(this.children[$c$$]);return $b$$};$b$$2$$.addChild=function $$b$$2$$$addChild$($b$$){var $c$$;if($c$$=this.getChild($b$$.name))if($c$$ instanceof $a$$2$$.Field&&$c$$.name!==
$c$$.originalName&&null===this.getChild($c$$.originalName))$c$$.name=$c$$.originalName;else if($b$$ instanceof $a$$2$$.Field&&$b$$.name!==$b$$.originalName&&null===this.getChild($b$$.originalName))$b$$.name=$b$$.originalName;else throw Error("Duplicate name in namespace "+this.toString(!0)+": "+$b$$.name);this.children.push($b$$)};$b$$2$$.getChild=function $$b$$2$$$getChild$($a$$){for(var $b$$="number"===typeof $a$$?"id":"name",$c$$=0,$e$$=this.children.length;$c$$<$e$$;++$c$$)if(this.children[$c$$][$b$$]===
$a$$)return this.children[$c$$];return null};$b$$2$$.resolve=function $$b$$2$$$resolve$($a$$,$b$$){var $c$$=$a$$.split("."),$e$$=this,$f$$=0;if(""===$c$$[$f$$]){for(;null!==$e$$.parent;)$e$$=$e$$.parent;$f$$++}do{do{$e$$=$e$$.getChild($c$$[$f$$]);if(!($e$$&&$e$$ instanceof $k$$0$$.T)||$b$$&&$e$$ instanceof $k$$0$$.Message.Field){$e$$=null;break}$f$$++}while($f$$<$c$$.length);if(null!=$e$$)break;if(null!==this.parent)return this.parent.resolve($a$$,$b$$)}while(null!=$e$$);return $e$$};$b$$2$$.build=
function $$b$$2$$$build$(){for(var $a$$={},$b$$=this.children,$c$$=0,$e$$=$b$$.length,$d$$;$c$$<$e$$;++$c$$)$d$$=$b$$[$c$$],$d$$ instanceof $f$$2$$&&($a$$[$d$$.name]=$d$$.build());Object.defineProperty&&Object.defineProperty($a$$,"$options",{value:this.buildOpt()});return $a$$};$b$$2$$.buildOpt=function $$b$$2$$$buildOpt$(){for(var $a$$={},$b$$=Object.keys(this.options),$c$$=0,$e$$=$b$$.length;$c$$<$e$$;++$c$$)$a$$[$b$$[$c$$]]=this.options[$b$$[$c$$]];return $a$$};$b$$2$$.getOption=function $$b$$2$$$getOption$($a$$){return"undefined"===
typeof $a$$?this.options:"undefined"!==typeof this.options[$a$$]?this.options[$a$$]:null};$k$$0$$.Namespace=$f$$2$$;var $a$$2$$=function $$a$$2$$$($a$$,$b$$,$c$$,$d$$,$g$$){$f$$2$$.call(this,$a$$,$b$$,$c$$,$d$$);this.className="Message";this.extensions=[$e$$2$$.ID_MIN,$e$$2$$.ID_MAX];this.clazz=null;this.isGroup=!!$g$$;this._fieldsByName=this._fieldsById=this._fields=null},$c$$3$$=$a$$2$$.prototype=Object.create($f$$2$$.prototype);$c$$3$$.build=function $$c$$3$$$build$($b$$1$$){if(this.clazz&&!$b$$1$$)return this.clazz;
$b$$1$$=function($a$$1$$,$b$$0$$){function $c$$1$$($a$$,$b$$){var $e$$={},$l$$;for($l$$ in $a$$)$a$$.hasOwnProperty($l$$)&&(null===$a$$[$l$$]||"object"!==typeof $a$$[$l$$]?$e$$[$l$$]=$a$$[$l$$]:$a$$[$l$$]instanceof $m$$0$$?$b$$&&($e$$[$l$$]=$a$$.toBuffer()):$e$$[$l$$]=$c$$1$$($a$$[$l$$],$b$$));return $e$$}var $e$$0$$=$b$$0$$.getChildren($a$$1$$.Reflect.Message.Field),$l$$0$$=$b$$0$$.getChildren($a$$1$$.Reflect.Message.OneOf),$f$$0$$=function $$f$$0$$$($b$$,$c$$){$a$$1$$.Builder.Message.call(this);
for(var $d$$=0,$f$$=$l$$0$$.length;$d$$<$f$$;++$d$$)this[$l$$0$$[$d$$].name]=null;$d$$=0;for($f$$=$e$$0$$.length;$d$$<$f$$;++$d$$){var $q$$=$e$$0$$[$d$$];this[$q$$.name]=$q$$.repeated?[]:null;$q$$.required&&null!==$q$$.defaultValue&&(this[$q$$.name]=$q$$.defaultValue)}if(0<arguments.length)if(1!==arguments.length||"object"!==typeof $b$$||"function"===typeof $b$$.encode||$a$$1$$.Util.isArray($b$$)||$b$$ instanceof $m$$0$$||$b$$ instanceof ArrayBuffer||$a$$1$$.Long&&$b$$ instanceof $a$$1$$.Long)for($d$$=
0,$f$$=arguments.length;$d$$<$f$$;++$d$$)this.$set($e$$0$$[$d$$].name,arguments[$d$$]);else for($q$$=Object.keys($b$$),$d$$=0,$f$$=$q$$.length;$d$$<$f$$;++$d$$)this.$set($q$$[$d$$],$b$$[$q$$[$d$$]])},$d$$0$$=$f$$0$$.prototype=Object.create($a$$1$$.Builder.Message.prototype);$d$$0$$.add=function $$d$$0$$$add$($c$$,$e$$,$d$$){var $l$$=$b$$0$$._fieldsByName[$c$$];if(!$d$$){if(!$l$$)throw Error(this+"#"+$c$$+" is undefined");if(!($l$$ instanceof $a$$1$$.Reflect.Message.Field))throw Error(this+"#"+$c$$+
" is not a field: "+$l$$.toString(!0));if(!$l$$.repeated)throw Error(this+"#"+$c$$+" is not a repeated field");}null===this[$l$$.name]&&(this[$l$$.name]=[]);this[$l$$.name].push($d$$?$e$$:$l$$.verifyValue($e$$,!0))};$d$$0$$.$add=$d$$0$$.add;$d$$0$$.set=function $$d$$0$$$set$($c$$,$e$$,$d$$){if($c$$&&"object"===typeof $c$$){for(var $l$$ in $c$$)$c$$.hasOwnProperty($l$$)&&this.$set($l$$,$c$$[$l$$],$d$$);return this}$l$$=$b$$0$$._fieldsByName[$c$$];if($d$$)this[$l$$.name]=$e$$;else{if(!$l$$)throw Error(this+
"#"+$c$$+" is not a field: undefined");if(!($l$$ instanceof $a$$1$$.Reflect.Message.Field))throw Error(this+"#"+$c$$+" is not a field: "+$l$$.toString(!0));this[$l$$.name]=$e$$=$l$$.verifyValue($e$$)}$l$$.oneof&&(null!==$e$$?(null!==this[$l$$.oneof.name]&&(this[this[$l$$.oneof.name]]=null),this[$l$$.oneof.name]=$l$$.name):$l$$.oneof.name===$c$$&&(this[$l$$.oneof.name]=null));return this};$d$$0$$.$set=$d$$0$$.set;$d$$0$$.get=function $$d$$0$$$get$($c$$,$l$$){if($l$$)return this[$c$$];var $e$$=$b$$0$$._fieldsByName[$c$$];
if(!($e$$&&$e$$ instanceof $a$$1$$.Reflect.Message.Field))throw Error(this+"#"+$c$$+" is not a field: undefined");if(!($e$$ instanceof $a$$1$$.Reflect.Message.Field))throw Error(this+"#"+$c$$+" is not a field: "+$e$$.toString(!0));return this[$e$$.name]};$d$$0$$.$get=$d$$0$$.get;for(var $q$$0$$=0;$q$$0$$<$e$$0$$.length;$q$$0$$++){var $g$$=$e$$0$$[$q$$0$$];$g$$ instanceof $a$$1$$.Reflect.Message.ExtensionField||$b$$0$$.builder.options.populateAccessors&&function($a$$0$$){var $c$$0$$=$a$$0$$.originalName.replace(/(_[a-zA-Z])/g,
function($a$$){return $a$$.toUpperCase().replace("_","")}),$c$$0$$=$c$$0$$.substring(0,1).toUpperCase()+$c$$0$$.substring(1),$l$$=$a$$0$$.originalName.replace(/([A-Z])/g,function($a$$){return"_"+$a$$}),$e$$=function $$e$$$($b$$,$c$$){this[$a$$0$$.name]=$c$$?$b$$:$a$$0$$.verifyValue($b$$);return this},$f$$=function $$f$$$(){return this[$a$$0$$.name]};null===$b$$0$$.getChild("set"+$c$$0$$)&&($d$$0$$["set"+$c$$0$$]=$e$$);null===$b$$0$$.getChild("set_"+$l$$)&&($d$$0$$["set_"+$l$$]=$e$$);null===$b$$0$$.getChild("get"+
$c$$0$$)&&($d$$0$$["get"+$c$$0$$]=$f$$);null===$b$$0$$.getChild("get_"+$l$$)&&($d$$0$$["get_"+$l$$]=$f$$)}($g$$)}$d$$0$$.encode=function $$d$$0$$$encode$($a$$,$c$$){"boolean"===typeof $a$$&&($c$$=$a$$,$a$$=void 0);var $l$$=!1;$a$$||($a$$=new $m$$0$$,$l$$=!0);var $e$$=$a$$.littleEndian;try{return $b$$0$$.encode(this,$a$$.LE(),$c$$),($l$$?$a$$.flip():$a$$).LE($e$$)}catch($d$$){throw $a$$.LE($e$$),$d$$;}};$d$$0$$.calculate=function $$d$$0$$$calculate$(){return $b$$0$$.calculate(this)};$d$$0$$.encodeDelimited=
function $$d$$0$$$encodeDelimited$($a$$){var $c$$=!1;$a$$||($a$$=new $m$$0$$,$c$$=!0);var $l$$=(new $m$$0$$).LE();$b$$0$$.encode(this,$l$$).flip();$a$$.writeVarint32($l$$.remaining());$a$$.append($l$$);return $c$$?$a$$.flip():$a$$};$d$$0$$.encodeAB=function $$d$$0$$$encodeAB$(){try{return this.encode().toArrayBuffer()}catch($a$$){throw $a$$.encoded&&($a$$.encoded=$a$$.encoded.toArrayBuffer()),$a$$;}};$d$$0$$.toArrayBuffer=$d$$0$$.encodeAB;$d$$0$$.encodeNB=function $$d$$0$$$encodeNB$(){try{return this.encode().toBuffer()}catch($a$$){throw $a$$.encoded&&
($a$$.encoded=$a$$.encoded.toBuffer()),$a$$;}};$d$$0$$.toBuffer=$d$$0$$.encodeNB;$d$$0$$.encode64=function $$d$$0$$$encode64$(){try{return this.encode().toBase64()}catch($a$$){throw $a$$.encoded&&($a$$.encoded=$a$$.encoded.toBase64()),$a$$;}};$d$$0$$.toBase64=$d$$0$$.encode64;$d$$0$$.encodeHex=function $$d$$0$$$encodeHex$(){try{return this.encode().toHex()}catch($a$$){throw $a$$.encoded&&($a$$.encoded=$a$$.encoded.toHex()),$a$$;}};$d$$0$$.toHex=$d$$0$$.encodeHex;$d$$0$$.toRaw=function $$d$$0$$$toRaw$($a$$){return $c$$1$$(this,
!!$a$$)};$f$$0$$.decode=function $$f$$0$$$decode$($a$$,$c$$){"string"===typeof $a$$&&($a$$=$m$$0$$.wrap($a$$,$c$$?$c$$:"base64"));$a$$=$a$$ instanceof $m$$0$$?$a$$:$m$$0$$.wrap($a$$);var $l$$=$a$$.littleEndian;try{var $e$$=$b$$0$$.decode($a$$.LE());$a$$.LE($l$$);return $e$$}catch($d$$){throw $a$$.LE($l$$),$d$$;}};$f$$0$$.decodeDelimited=function $$f$$0$$$decodeDelimited$($a$$,$c$$){"string"===typeof $a$$&&($a$$=$m$$0$$.wrap($a$$,$c$$?$c$$:"base64"));$a$$=$a$$ instanceof $m$$0$$?$a$$:$m$$0$$.wrap($a$$);
if(1>$a$$.remaining())return null;var $l$$=$a$$.offset,$e$$=$a$$.readVarint32();if($a$$.remaining()<$e$$)return $a$$.offset=$l$$,null;try{var $d$$=$b$$0$$.decode($a$$.slice($a$$.offset,$a$$.offset+$e$$).LE());$a$$.offset+=$e$$;return $d$$}catch($f$$){throw $a$$.offset+=$e$$,$f$$;}};$f$$0$$.decode64=function $$f$$0$$$decode64$($a$$){return $f$$0$$.decode($a$$,"base64")};$f$$0$$.decodeHex=function $$f$$0$$$decodeHex$($a$$){return $f$$0$$.decode($a$$,"hex")};$d$$0$$.toString=function $$d$$0$$$toString$(){return $b$$0$$.toString()};
Object.defineProperty&&(Object.defineProperty($f$$0$$,"$options",{value:$b$$0$$.buildOpt()}),Object.defineProperty($d$$0$$,"$type",{get:function(){return $b$$0$$}}));return $f$$0$$}($e$$2$$,this);this._fields=[];this._fieldsById={};this._fieldsByName={};for(var $c$$2$$=0,$f$$1$$=this.children.length,$d$$1$$;$c$$2$$<$f$$1$$;$c$$2$$++)if($d$$1$$=this.children[$c$$2$$],$d$$1$$ instanceof $p$$0$$)$b$$1$$[$d$$1$$.name]=$d$$1$$.build();else if($d$$1$$ instanceof $a$$2$$)$b$$1$$[$d$$1$$.name]=$d$$1$$.build();
else if($d$$1$$ instanceof $a$$2$$.Field)$d$$1$$.build(),this._fields.push($d$$1$$),this._fieldsById[$d$$1$$.id]=$d$$1$$,this._fieldsByName[$d$$1$$.name]=$d$$1$$;else if(!($d$$1$$ instanceof $a$$2$$.OneOf||$d$$1$$ instanceof $h$$0$$))throw Error("Illegal reflect child of "+this.toString(!0)+": "+children[$c$$2$$].toString(!0));return this.clazz=$b$$1$$};$c$$3$$.encode=function $$c$$3$$$encode$($a$$,$b$$,$c$$){for(var $e$$=null,$d$$,$f$$=0,$g$$=this._fields.length,$h$$;$f$$<$g$$;++$f$$)$d$$=this._fields[$f$$],
$h$$=$a$$[$d$$.name],$d$$.required&&null===$h$$?null===$e$$&&($e$$=$d$$):$d$$.encode($c$$?$h$$:$d$$.verifyValue($h$$),$b$$);if(null!==$e$$)throw $a$$=Error("Missing at least one required field for "+this.toString(!0)+": "+$e$$),$a$$.encoded=$b$$,$a$$;return $b$$};$c$$3$$.calculate=function $$c$$3$$$calculate$($a$$){for(var $b$$=0,$c$$=0,$e$$=this._fields.length,$d$$,$f$$;$c$$<$e$$;++$c$$){$d$$=this._fields[$c$$];$f$$=$a$$[$d$$.name];if($d$$.required&&null===$f$$)throw Error("Missing at least one required field for "+
this.toString(!0)+": "+$d$$);$b$$+=$d$$.calculate($f$$)}return $b$$};$c$$3$$.decode=function $$c$$3$$$decode$($a$$,$b$$,$c$$){$b$$="number"===typeof $b$$?$b$$:-1;for(var $f$$=$a$$.offset,$g$$=new this.clazz,$h$$,$p$$,$k$$;$a$$.offset<$f$$+$b$$||-1===$b$$&&0<$a$$.remaining();){$h$$=$a$$.readVarint32();$p$$=$h$$&7;$k$$=$h$$>>3;if($p$$===$e$$2$$.WIRE_TYPES.ENDGROUP){if($k$$!==$c$$)throw Error("Illegal group end indicator for "+this.toString(!0)+": "+$k$$+" ("+($c$$?$c$$+" expected":"not a group")+")");
break}if($h$$=this._fieldsById[$k$$])$h$$.repeated&&!$h$$.options.packed?$g$$[$h$$.name].push($h$$.decode($p$$,$a$$)):($g$$[$h$$.name]=$h$$.decode($p$$,$a$$),$h$$.oneof&&(null!==this[$h$$.oneof.name]&&(this[this[$h$$.oneof.name]]=null),$g$$[$h$$.oneof.name]=$h$$.name));else switch($p$$){case $e$$2$$.WIRE_TYPES.VARINT:$a$$.readVarint32();break;case $e$$2$$.WIRE_TYPES.BITS32:$a$$.offset+=4;break;case $e$$2$$.WIRE_TYPES.BITS64:$a$$.offset+=8;break;case $e$$2$$.WIRE_TYPES.LDELIM:$h$$=$a$$.readVarint32();
$a$$.offset+=$h$$;break;case $e$$2$$.WIRE_TYPES.STARTGROUP:for(;$d$$2$$($k$$,$a$$););break;default:throw Error("Illegal wire type for unknown field "+$k$$+" in "+this.toString(!0)+"#decode: "+$p$$);}}$a$$=0;for($b$$=this._fields.length;$a$$<$b$$;++$a$$)if($h$$=this._fields[$a$$],null===$g$$[$h$$.name]){if($h$$.required)throw $a$$=Error("Missing at least one required field for "+this.toString(!0)+": "+$h$$.name),$a$$.decoded=$g$$,$a$$;null!==$h$$.defaultValue&&($g$$[$h$$.name]=$h$$.defaultValue)}return $g$$};
$k$$0$$.Message=$a$$2$$;var $r$$=function $$r$$$($b$$,$c$$,$e$$,$d$$,$f$$,$g$$,$h$$,$p$$){$n$$.call(this,$b$$,$c$$,$f$$);this.className="Message.Field";this.required="required"===$e$$;this.repeated="repeated"===$e$$;this.type=$d$$;this.resolvedType=null;this.id=$g$$;this.options=$h$$||{};this.defaultValue=null;this.oneof=$p$$||null;this.originalName=this.name;!this.builder.options.convertFieldsToCamelCase||this instanceof $a$$2$$.ExtensionField||(this.name=$r$$._toCamelCase(this.name))};$r$$._toCamelCase=
function $$r$$$_toCamelCase$($a$$0$$){return $a$$0$$.replace(/_([a-zA-Z])/g,function($a$$,$b$$){return $b$$.toUpperCase()})};$c$$3$$=$r$$.prototype=Object.create($n$$.prototype);$c$$3$$.build=function $$c$$3$$$build$(){this.defaultValue="undefined"!==typeof this.options["default"]?this.verifyValue(this.options["default"]):null};$c$$3$$.verifyValue=function $$c$$3$$$verifyValue$($a$$0$$,$b$$0$$){$b$$0$$=$b$$0$$||!1;var $c$$=function($a$$,$b$$){throw Error("Illegal value for "+this.toString(!0)+" of type "+
this.type.name+": "+$a$$+" ("+$b$$+")");}.bind(this);if(null===$a$$0$$)return this.required&&$c$$(typeof $a$$0$$,"required"),null;var $d$$;if(this.repeated&&!$b$$0$$){$e$$2$$.Util.isArray($a$$0$$)||($a$$0$$=[$a$$0$$]);$c$$=[];for($d$$=0;$d$$<$a$$0$$.length;$d$$++)$c$$.push(this.verifyValue($a$$0$$[$d$$],!0));return $c$$}!this.repeated&&$e$$2$$.Util.isArray($a$$0$$)&&$c$$(typeof $a$$0$$,"no array expected");switch(this.type){case $e$$2$$.TYPES.int32:case $e$$2$$.TYPES.sint32:case $e$$2$$.TYPES.sfixed32:return("number"!==
typeof $a$$0$$||$a$$0$$===$a$$0$$&&0!==$a$$0$$%1)&&$c$$(typeof $a$$0$$,"not an integer"),4294967295<$a$$0$$?$a$$0$$|0:$a$$0$$;case $e$$2$$.TYPES.uint32:case $e$$2$$.TYPES.fixed32:return("number"!==typeof $a$$0$$||$a$$0$$===$a$$0$$&&0!==$a$$0$$%1)&&$c$$(typeof $a$$0$$,"not an integer"),0>$a$$0$$?$a$$0$$>>>0:$a$$0$$;case $e$$2$$.TYPES.int64:case $e$$2$$.TYPES.sint64:case $e$$2$$.TYPES.sfixed64:if($e$$2$$.Long)try{return $g$$0$$($a$$0$$,!1)}catch($f$$){$c$$(typeof $a$$0$$,$f$$.message)}else $c$$(typeof $a$$0$$,
"requires Long.js");case $e$$2$$.TYPES.uint64:case $e$$2$$.TYPES.fixed64:if($e$$2$$.Long)try{return $g$$0$$($a$$0$$,!0)}catch($h$$){$c$$(typeof $a$$0$$,$h$$.message)}else $c$$(typeof $a$$0$$,"requires Long.js");case $e$$2$$.TYPES.bool:return"boolean"!==typeof $a$$0$$&&$c$$(typeof $a$$0$$,"not a boolean"),$a$$0$$;case $e$$2$$.TYPES["float"]:case $e$$2$$.TYPES["double"]:return"number"!==typeof $a$$0$$&&$c$$(typeof $a$$0$$,"not a number"),$a$$0$$;case $e$$2$$.TYPES.string:return"string"===typeof $a$$0$$||
$a$$0$$&&$a$$0$$ instanceof String||$c$$(typeof $a$$0$$,"not a string"),""+$a$$0$$;case $e$$2$$.TYPES.bytes:return $a$$0$$&&$a$$0$$ instanceof $m$$0$$?$a$$0$$:$m$$0$$.wrap($a$$0$$);case $e$$2$$.TYPES["enum"]:var $k$$=this.resolvedType.getChildren($p$$0$$.Value);for($d$$=0;$d$$<$k$$.length;$d$$++)if($k$$[$d$$].name==$a$$0$$||$k$$[$d$$].id==$a$$0$$)return $k$$[$d$$].id;$c$$($a$$0$$,"not a valid enum value");case $e$$2$$.TYPES.group:case $e$$2$$.TYPES.message:$a$$0$$&&"object"===typeof $a$$0$$||$c$$(typeof $a$$0$$,
"object expected");if($a$$0$$ instanceof this.resolvedType.clazz)return $a$$0$$;if($a$$0$$ instanceof $e$$2$$.Builder.Message){$c$$={};for($d$$ in $a$$0$$)$a$$0$$.hasOwnProperty($d$$)&&($c$$[$d$$]=$a$$0$$[$d$$]);$a$$0$$=$c$$}return new this.resolvedType.clazz($a$$0$$)}throw Error("[INTERNAL] Illegal value for "+this.toString(!0)+": "+$a$$0$$+" (undefined type "+this.type+")");};$c$$3$$.encode=function $$c$$3$$$encode$($a$$,$b$$){if(null===this.type||"object"!==typeof this.type)throw Error("[INTERNAL] Unresolved type in "+
this.toString(!0)+": "+this.type);if(null===$a$$||this.repeated&&0==$a$$.length)return $b$$;try{if(this.repeated){var $c$$;if(this.options.packed&&0<=$e$$2$$.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)){$b$$.writeVarint32(this.id<<3|$e$$2$$.WIRE_TYPES.LDELIM);$b$$.ensureCapacity($b$$.offset+=1);var $d$$=$b$$.offset;for($c$$=0;$c$$<$a$$.length;$c$$++)this.encodeValue($a$$[$c$$],$b$$);var $f$$=$b$$.offset-$d$$,$g$$=$m$$0$$.calculateVarint32($f$$);if(1<$g$$){var $h$$=$b$$.slice($d$$,$b$$.offset),
$d$$=$d$$+($g$$-1);$b$$.offset=$d$$;$b$$.append($h$$)}$b$$.writeVarint32($f$$,$d$$-$g$$)}else for($c$$=0;$c$$<$a$$.length;$c$$++)$b$$.writeVarint32(this.id<<3|this.type.wireType),this.encodeValue($a$$[$c$$],$b$$)}else $b$$.writeVarint32(this.id<<3|this.type.wireType),this.encodeValue($a$$,$b$$)}catch($k$$){throw Error("Illegal value for "+this.toString(!0)+": "+$a$$+" ("+$k$$+")");}return $b$$};$c$$3$$.encodeValue=function $$c$$3$$$encodeValue$($a$$,$b$$){if(null===$a$$)return $b$$;switch(this.type){case $e$$2$$.TYPES.int32:0>
$a$$?$b$$.writeVarint64($a$$):$b$$.writeVarint32($a$$);break;case $e$$2$$.TYPES.uint32:$b$$.writeVarint32($a$$);break;case $e$$2$$.TYPES.sint32:$b$$.writeVarint32ZigZag($a$$);break;case $e$$2$$.TYPES.fixed32:$b$$.writeUint32($a$$);break;case $e$$2$$.TYPES.sfixed32:$b$$.writeInt32($a$$);break;case $e$$2$$.TYPES.int64:case $e$$2$$.TYPES.uint64:$b$$.writeVarint64($a$$);break;case $e$$2$$.TYPES.sint64:$b$$.writeVarint64ZigZag($a$$);break;case $e$$2$$.TYPES.fixed64:$b$$.writeUint64($a$$);break;case $e$$2$$.TYPES.sfixed64:$b$$.writeInt64($a$$);
break;case $e$$2$$.TYPES.bool:"string"===typeof $a$$?$b$$.writeVarint32("false"===$a$$.toLowerCase()?0:!!$a$$):$b$$.writeVarint32($a$$?1:0);break;case $e$$2$$.TYPES["enum"]:$b$$.writeVarint32($a$$);break;case $e$$2$$.TYPES["float"]:$b$$.writeFloat32($a$$);break;case $e$$2$$.TYPES["double"]:$b$$.writeFloat64($a$$);break;case $e$$2$$.TYPES.string:$b$$.writeVString($a$$);break;case $e$$2$$.TYPES.bytes:if(0>$a$$.remaining())throw Error("Illegal value for "+this.toString(!0)+": "+$a$$.remaining()+" bytes remaining");
var $c$$=$a$$.offset;$b$$.writeVarint32($a$$.remaining());$b$$.append($a$$);$a$$.offset=$c$$;break;case $e$$2$$.TYPES.message:$c$$=(new $m$$0$$).LE();this.resolvedType.encode($a$$,$c$$);$b$$.writeVarint32($c$$.offset);$b$$.append($c$$.flip());break;case $e$$2$$.TYPES.group:this.resolvedType.encode($a$$,$b$$);$b$$.writeVarint32(this.id<<3|$e$$2$$.WIRE_TYPES.ENDGROUP);break;default:throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+$a$$+" (unknown type)");}return $b$$};$c$$3$$.calculate=
function $$c$$3$$$calculate$($a$$){$a$$=this.verifyValue($a$$);if(null===this.type||"object"!==typeof this.type)throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===$a$$||this.repeated&&0==$a$$.length)return 0;var $b$$=0;try{if(this.repeated){var $c$$,$d$$;if(this.options.packed&&0<=$e$$2$$.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)){$b$$+=$m$$0$$.calculateVarint32(this.id<<3|$e$$2$$.WIRE_TYPES.LDELIM);for($c$$=$d$$=0;$c$$<$a$$.length;$c$$++)$d$$+=this.calculateValue($a$$[$c$$]);
$b$$+=$m$$0$$.calculateVarint32($d$$);$b$$+=$d$$}else for($c$$=0;$c$$<$a$$.length;$c$$++)$b$$+=$m$$0$$.calculateVarint32(this.id<<3|this.type.wireType),$b$$+=this.calculateValue($a$$[$c$$])}else $b$$+=$m$$0$$.calculateVarint32(this.id<<3|this.type.wireType),$b$$+=this.calculateValue($a$$)}catch($f$$){throw Error("Illegal value for "+this.toString(!0)+": "+$a$$+" ("+$f$$+")");}return $b$$};$c$$3$$.calculateValue=function $$c$$3$$$calculateValue$($a$$){if(null===$a$$)return 0;switch(this.type){case $e$$2$$.TYPES.int32:return 0>
$a$$?$m$$0$$.calculateVarint64($a$$):$m$$0$$.calculateVarint32($a$$);case $e$$2$$.TYPES.uint32:return $m$$0$$.calculateVarint32($a$$);case $e$$2$$.TYPES.sint32:return $m$$0$$.calculateVarint32($m$$0$$.zigZagEncode32($a$$));case $e$$2$$.TYPES.fixed32:case $e$$2$$.TYPES.sfixed32:case $e$$2$$.TYPES["float"]:return 4;case $e$$2$$.TYPES.int64:case $e$$2$$.TYPES.uint64:return $m$$0$$.calculateVarint64($a$$);case $e$$2$$.TYPES.sint64:return $m$$0$$.calculateVarint64($m$$0$$.zigZagEncode64($a$$));case $e$$2$$.TYPES.fixed64:case $e$$2$$.TYPES.sfixed64:return 8;
case $e$$2$$.TYPES.bool:return 1;case $e$$2$$.TYPES["enum"]:return $m$$0$$.calculateVarint32($a$$);case $e$$2$$.TYPES["double"]:return 8;case $e$$2$$.TYPES.string:return $a$$=$m$$0$$.calculateUTF8Bytes($a$$),$m$$0$$.calculateVarint32($a$$)+$a$$;case $e$$2$$.TYPES.bytes:if(0>$a$$.remaining())throw Error("Illegal value for "+this.toString(!0)+": "+$a$$.remaining()+" bytes remaining");return $m$$0$$.calculateVarint32($a$$.remaining())+$a$$.remaining();case $e$$2$$.TYPES.message:return $a$$=this.resolvedType.calculate($a$$),
$m$$0$$.calculateVarint32($a$$)+$a$$;case $e$$2$$.TYPES.group:return $a$$=this.resolvedType.calculate($a$$),$a$$+$m$$0$$.calculateVarint32(this.id<<3|$e$$2$$.WIRE_TYPES.ENDGROUP)}throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+$a$$+" (unknown type)");};$c$$3$$.decode=function $$c$$3$$$decode$($a$$,$b$$,$c$$){if($a$$!=this.type.wireType&&($c$$||$a$$!=$e$$2$$.WIRE_TYPES.LDELIM||!this.repeated))throw Error("Illegal wire type for field "+this.toString(!0)+": "+$a$$+" ("+this.type.wireType+
" expected)");if($a$$==$e$$2$$.WIRE_TYPES.LDELIM&&this.repeated&&this.options.packed&&0<=$e$$2$$.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)&&!$c$$){$a$$=$b$$.readVarint32();$a$$=$b$$.offset+$a$$;for($c$$=[];$b$$.offset<$a$$;)$c$$.push(this.decode(this.type.wireType,$b$$,!0));return $c$$}switch(this.type){case $e$$2$$.TYPES.int32:return $b$$.readVarint32()|0;case $e$$2$$.TYPES.uint32:return $b$$.readVarint32()>>>0;case $e$$2$$.TYPES.sint32:return $b$$.readVarint32ZigZag()|0;case $e$$2$$.TYPES.fixed32:return $b$$.readUint32()>>>
0;case $e$$2$$.TYPES.sfixed32:return $b$$.readInt32()|0;case $e$$2$$.TYPES.int64:return $b$$.readVarint64();case $e$$2$$.TYPES.uint64:return $b$$.readVarint64().toUnsigned();case $e$$2$$.TYPES.sint64:return $b$$.readVarint64ZigZag();case $e$$2$$.TYPES.fixed64:return $b$$.readUint64();case $e$$2$$.TYPES.sfixed64:return $b$$.readInt64();case $e$$2$$.TYPES.bool:return!!$b$$.readVarint32();case $e$$2$$.TYPES["enum"]:return $b$$.readVarint32();case $e$$2$$.TYPES["float"]:return $b$$.readFloat();case $e$$2$$.TYPES["double"]:return $b$$.readDouble();
case $e$$2$$.TYPES.string:return $b$$.readVString();case $e$$2$$.TYPES.bytes:$a$$=$b$$.readVarint32();if($b$$.remaining()<$a$$)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+$a$$+" required but got only "+$b$$.remaining());$c$$=$b$$.clone();$c$$.limit=$c$$.offset+$a$$;$b$$.offset+=$a$$;return $c$$;case $e$$2$$.TYPES.message:return $a$$=$b$$.readVarint32(),this.resolvedType.decode($b$$,$a$$);case $e$$2$$.TYPES.group:return this.resolvedType.decode($b$$,-1,this.id)}throw Error("[INTERNAL] Illegal wire type for "+
this.toString(!0)+": "+$a$$);};$k$$0$$.Message.Field=$r$$;$c$$3$$=function $$c$$3$$$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$){$r$$.call(this,$a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$)};$c$$3$$.prototype=Object.create($r$$.prototype);$k$$0$$.Message.ExtensionField=$c$$3$$;$k$$0$$.Message.OneOf=function $$k$$0$$$Message$OneOf$($a$$,$b$$,$c$$){$n$$.call(this,$a$$,$b$$,$c$$);this.fields=[]};var $p$$0$$=function $$p$$0$$$($a$$,$b$$,$c$$,$d$$){$f$$2$$.call(this,$a$$,$b$$,$c$$,$d$$);this.className="Enum";this.object=
null};($p$$0$$.prototype=Object.create($f$$2$$.prototype)).build=function $$p$$0$$$$Object$create$build$(){for(var $a$$={},$b$$=this.getChildren($p$$0$$.Value),$c$$=0,$d$$=$b$$.length;$c$$<$d$$;++$c$$)$a$$[$b$$[$c$$].name]=$b$$[$c$$].id;Object.defineProperty&&Object.defineProperty($a$$,"$options",{value:this.buildOpt()});return this.object=$a$$};$k$$0$$.Enum=$p$$0$$;$c$$3$$=function $$c$$3$$$($a$$,$b$$,$c$$,$d$$){$n$$.call(this,$a$$,$b$$,$c$$);this.className="Enum.Value";this.id=$d$$};$c$$3$$.prototype=
Object.create($n$$.prototype);$k$$0$$.Enum.Value=$c$$3$$;var $h$$0$$=function $$h$$0$$$($a$$,$b$$,$c$$,$d$$){$n$$.call(this,$a$$,$b$$,$c$$);this.field=$d$$};$h$$0$$.prototype=Object.create($n$$.prototype);$k$$0$$.Extension=$h$$0$$;$c$$3$$=function $$c$$3$$$($a$$,$b$$,$c$$,$d$$){$f$$2$$.call(this,$a$$,$b$$,$c$$,$d$$);this.className="Service";this.clazz=null};($c$$3$$.prototype=Object.create($f$$2$$.prototype)).build=function $$c$$3$$$$Object$create$build$($a$$1$$){return this.clazz&&!$a$$1$$?this.clazz:
this.clazz=function($a$$0$$,$b$$1$$){var $c$$1$$=function $$c$$1$$$($b$$0$$){$a$$0$$.Builder.Service.call(this);this.rpcImpl=$b$$0$$||function($a$$,$b$$,$c$$){setTimeout($c$$.bind(this,Error("Not implemented, see: https://github.com/dcodeIO/ProtoBuf.js/wiki/Services")),0)}},$d$$0$$=$c$$1$$.prototype=Object.create($a$$0$$.Builder.Service.prototype);Object.defineProperty&&(Object.defineProperty($c$$1$$,"$options",{value:$b$$1$$.buildOpt()}),Object.defineProperty($d$$0$$,"$options",{value:$c$$1$$.$options}));
for(var $e$$1$$=$b$$1$$.getChildren($a$$0$$.Reflect.Service.RPCMethod),$f$$0$$=0;$f$$0$$<$e$$1$$.length;$f$$0$$++)(function($a$$){$d$$0$$[$a$$.name]=function $$d$$0$$$$a$$$name$($c$$0$$,$d$$){try{$c$$0$$&&$c$$0$$ instanceof $a$$.resolvedRequestType.clazz?this.rpcImpl($a$$.fqn(),$c$$0$$,function($c$$,$e$$){if($c$$)$d$$($c$$);else{try{$e$$=$a$$.resolvedResponseType.clazz.decode($e$$)}catch($f$$){}$e$$&&$e$$ instanceof $a$$.resolvedResponseType.clazz?$d$$(null,$e$$):$d$$(Error("Illegal response type received in service method "+
$b$$1$$.name+"#"+$a$$.name))}}):setTimeout($d$$.bind(this,Error("Illegal request type provided to service method "+$b$$1$$.name+"#"+$a$$.name)),0)}catch($e$$0$$){setTimeout($d$$.bind(this,$e$$0$$),0)}};$c$$1$$[$a$$.name]=function $$c$$1$$$$a$$$name$($b$$,$d$$,$e$$){(new $c$$1$$($b$$))[$a$$.name]($d$$,$e$$)};Object.defineProperty&&(Object.defineProperty($c$$1$$[$a$$.name],"$options",{value:$a$$.buildOpt()}),Object.defineProperty($d$$0$$[$a$$.name],"$options",{value:$c$$1$$[$a$$.name].$options}))})($e$$1$$[$f$$0$$]);
return $c$$1$$}($e$$2$$,this)};$k$$0$$.Service=$c$$3$$;var $t$$=function $$t$$$($a$$,$b$$,$c$$,$d$$){$n$$.call(this,$a$$,$b$$,$c$$);this.className="Service.Method";this.options=$d$$||{}};($t$$.prototype=Object.create($n$$.prototype)).buildOpt=$b$$2$$.buildOpt;$k$$0$$.Service.Method=$t$$;$b$$2$$=function $$b$$2$$$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){$t$$.call(this,$a$$,$b$$,$c$$,$f$$);this.className="Service.RPCMethod";this.requestName=$d$$;this.responseName=$e$$;this.resolvedResponseType=this.resolvedRequestType=
null};$b$$2$$.prototype=Object.create($t$$.prototype);$k$$0$$.Service.RPCMethod=$b$$2$$;return $k$$0$$}($g$$1$$);$g$$1$$.Builder=function($e$$0$$,$d$$0$$,$g$$0$$){var $k$$0$$=function $$k$$0$$$($b$$){this.ptr=this.ns=new $g$$0$$.Namespace(this,null,"");this.resolved=!1;this.result=null;this.files={};this.importRoot=null;this.options=$b$$||{}},$n$$0$$=$k$$0$$.prototype;$n$$0$$.reset=function $$n$$0$$$reset$(){this.ptr=this.ns};$n$$0$$.define=function $$n$$0$$$define$($b$$,$e$$){if("string"!==typeof $b$$||
!$d$$0$$.TYPEREF.test($b$$))throw Error("Illegal package: "+$b$$);var $a$$=$b$$.split("."),$c$$;for($c$$=0;$c$$<$a$$.length;$c$$++)if(!$d$$0$$.NAME.test($a$$[$c$$]))throw Error("Illegal package: "+$a$$[$c$$]);for($c$$=0;$c$$<$a$$.length;$c$$++)null===this.ptr.getChild($a$$[$c$$])&&this.ptr.addChild(new $g$$0$$.Namespace(this,this.ptr,$a$$[$c$$],$e$$)),this.ptr=this.ptr.getChild($a$$[$c$$]);return this};$k$$0$$.isValidMessage=function $$k$$0$$$isValidMessage$($b$$){if("string"!==typeof $b$$.name||
!$d$$0$$.NAME.test($b$$.name)||"undefined"!==typeof $b$$.values||"undefined"!==typeof $b$$.rpc)return!1;var $f$$;if("undefined"!==typeof $b$$.fields){if(!$e$$0$$.Util.isArray($b$$.fields))return!1;var $a$$=[],$c$$;for($f$$=0;$f$$<$b$$.fields.length;$f$$++){if(!$k$$0$$.isValidMessageField($b$$.fields[$f$$]))return!1;$c$$=parseInt($b$$.fields[$f$$].id,10);if(0<=$a$$.indexOf($c$$))return!1;$a$$.push($c$$)}}if("undefined"!==typeof $b$$.enums){if(!$e$$0$$.Util.isArray($b$$.enums))return!1;for($f$$=0;$f$$<
$b$$.enums.length;$f$$++)if(!$k$$0$$.isValidEnum($b$$.enums[$f$$]))return!1}if("undefined"!==typeof $b$$.messages){if(!$e$$0$$.Util.isArray($b$$.messages))return!1;for($f$$=0;$f$$<$b$$.messages.length;$f$$++)if(!$k$$0$$.isValidMessage($b$$.messages[$f$$])&&!$k$$0$$.isValidExtend($b$$.messages[$f$$]))return!1}return"undefined"===typeof $b$$.extensions||$e$$0$$.Util.isArray($b$$.extensions)&&2===$b$$.extensions.length&&"number"===typeof $b$$.extensions[0]&&"number"===typeof $b$$.extensions[1]?!0:!1};
$k$$0$$.isValidMessageField=function $$k$$0$$$isValidMessageField$($b$$){if("string"!==typeof $b$$.rule||"string"!==typeof $b$$.name||"string"!==typeof $b$$.type||"undefined"===typeof $b$$.id||!($d$$0$$.RULE.test($b$$.rule)&&$d$$0$$.NAME.test($b$$.name)&&$d$$0$$.TYPEREF.test($b$$.type)&&$d$$0$$.ID.test(""+$b$$.id)))return!1;if("undefined"!==typeof $b$$.options){if("object"!==typeof $b$$.options)return!1;for(var $e$$=Object.keys($b$$.options),$a$$=0,$c$$;$a$$<$e$$.length;$a$$++)if("string"!==typeof($c$$=
$e$$[$a$$])||"string"!==typeof $b$$.options[$c$$]&&"number"!==typeof $b$$.options[$c$$]&&"boolean"!==typeof $b$$.options[$c$$])return!1}return!0};$k$$0$$.isValidEnum=function $$k$$0$$$isValidEnum$($b$$){if("string"!==typeof $b$$.name||!$d$$0$$.NAME.test($b$$.name)||"undefined"===typeof $b$$.values||!$e$$0$$.Util.isArray($b$$.values)||0==$b$$.values.length)return!1;for(var $f$$=0;$f$$<$b$$.values.length;$f$$++)if("object"!=typeof $b$$.values[$f$$]||"string"!==typeof $b$$.values[$f$$].name||"undefined"===
typeof $b$$.values[$f$$].id||!$d$$0$$.NAME.test($b$$.values[$f$$].name)||!$d$$0$$.NEGID.test(""+$b$$.values[$f$$].id))return!1;return!0};$n$$0$$.create=function $$n$$0$$$create$($b$$){if(!$b$$)return this;$e$$0$$.Util.isArray($b$$)||($b$$=[$b$$]);if(0==$b$$.length)return this;var $d$$=[];for($d$$.push($b$$);0<$d$$.length;){$b$$=$d$$.pop();if($e$$0$$.Util.isArray($b$$))for(;0<$b$$.length;){var $a$$=$b$$.shift();if($k$$0$$.isValidMessage($a$$)){var $c$$=new $g$$0$$.Message(this,this.ptr,$a$$.name,$a$$.options,
$a$$.isGroup),$n$$={};if($a$$.oneofs)for(var $p$$=Object.keys($a$$.oneofs),$h$$=0,$m$$=$p$$.length;$h$$<$m$$;++$h$$)$c$$.addChild($n$$[$p$$[$h$$]]=new $g$$0$$.Message.OneOf(this,$c$$,$p$$[$h$$]));if($a$$.fields&&0<$a$$.fields.length)for($h$$=0,$m$$=$a$$.fields.length;$h$$<$m$$;++$h$$){$p$$=$a$$.fields[$h$$];if(null!==$c$$.getChild($p$$.id))throw Error("Duplicate field id in message "+$c$$.name+": "+$p$$.id);if($p$$.options)for(var $l$$=Object.keys($p$$.options),$q$$=0,$s$$=$l$$.length;$q$$<$s$$;++$q$$){if("string"!==
typeof $l$$[$q$$])throw Error("Illegal field option name in message "+$c$$.name+"#"+$p$$.name+": "+$l$$[$q$$]);if("string"!==typeof $p$$.options[$l$$[$q$$]]&&"number"!==typeof $p$$.options[$l$$[$q$$]]&&"boolean"!==typeof $p$$.options[$l$$[$q$$]])throw Error("Illegal field option value in message "+$c$$.name+"#"+$p$$.name+"#"+$l$$[$q$$]+": "+$p$$.options[$l$$[$q$$]]);}$l$$=null;if("string"===typeof $p$$.oneof&&($l$$=$n$$[$p$$.oneof],"undefined"===typeof $l$$))throw Error("Illegal oneof in message "+
$c$$.name+"#"+$p$$.name+": "+$p$$.oneof);$p$$=new $g$$0$$.Message.Field(this,$c$$,$p$$.rule,$p$$.type,$p$$.name,$p$$.id,$p$$.options,$l$$);$l$$&&$l$$.fields.push($p$$);$c$$.addChild($p$$)}$n$$=[];if("undefined"!==typeof $a$$.enums&&0<$a$$.enums.length)for($h$$=0;$h$$<$a$$.enums.length;$h$$++)$n$$.push($a$$.enums[$h$$]);if($a$$.messages&&0<$a$$.messages.length)for($h$$=0;$h$$<$a$$.messages.length;$h$$++)$n$$.push($a$$.messages[$h$$]);$a$$.extensions&&($c$$.extensions=$a$$.extensions,$c$$.extensions[0]<
$e$$0$$.ID_MIN&&($c$$.extensions[0]=$e$$0$$.ID_MIN),$c$$.extensions[1]>$e$$0$$.ID_MAX&&($c$$.extensions[1]=$e$$0$$.ID_MAX));this.ptr.addChild($c$$);0<$n$$.length&&($d$$.push($b$$),$b$$=$n$$,this.ptr=$c$$)}else if($k$$0$$.isValidEnum($a$$)){$c$$=new $g$$0$$.Enum(this,this.ptr,$a$$.name,$a$$.options);for($h$$=0;$h$$<$a$$.values.length;$h$$++)$c$$.addChild(new $g$$0$$.Enum.Value(this,$c$$,$a$$.values[$h$$].name,$a$$.values[$h$$].id));this.ptr.addChild($c$$)}else if($k$$0$$.isValidService($a$$)){$c$$=
new $g$$0$$.Service(this,this.ptr,$a$$.name,$a$$.options);for($h$$ in $a$$.rpc)$a$$.rpc.hasOwnProperty($h$$)&&$c$$.addChild(new $g$$0$$.Service.RPCMethod(this,$c$$,$h$$,$a$$.rpc[$h$$].request,$a$$.rpc[$h$$].response,$a$$.rpc[$h$$].options));this.ptr.addChild($c$$)}else if($k$$0$$.isValidExtend($a$$))if($c$$=this.ptr.resolve($a$$.ref))for($h$$=0;$h$$<$a$$.fields.length;$h$$++){if(null!==$c$$.getChild($a$$.fields[$h$$].id))throw Error("Duplicate extended field id in message "+$c$$.name+": "+$a$$.fields[$h$$].id);
if($a$$.fields[$h$$].id<$c$$.extensions[0]||$a$$.fields[$h$$].id>$c$$.extensions[1])throw Error("Illegal extended field id in message "+$c$$.name+": "+$a$$.fields[$h$$].id+" ("+$c$$.extensions.join(" to ")+" expected)");$n$$=$a$$.fields[$h$$].name;this.options.convertFieldsToCamelCase&&($n$$=$g$$0$$.Message.Field._toCamelCase($a$$.fields[$h$$].name));$p$$=new $g$$0$$.Message.ExtensionField(this,$c$$,$a$$.fields[$h$$].rule,$a$$.fields[$h$$].type,this.ptr.fqn()+"."+$n$$,$a$$.fields[$h$$].id,$a$$.fields[$h$$].options);
$n$$=new $g$$0$$.Extension(this,this.ptr,$a$$.fields[$h$$].name,$p$$);$p$$.extension=$n$$;this.ptr.addChild($n$$);$c$$.addChild($p$$)}else{if(!/\.?google\.protobuf\./.test($a$$.ref))throw Error("Extended message "+$a$$.ref+" is not defined");}else throw Error("Not a valid definition: "+JSON.stringify($a$$));}else throw Error("Not a valid namespace: "+JSON.stringify($b$$));this.ptr=this.ptr.parent}this.resolved=!1;this.result=null;return this};$n$$0$$["import"]=function $$n$$0$$$import$($b$$0$$,$d$$){if("string"===
typeof $d$$){$e$$0$$.Util.IS_NODE&&($d$$=require("path").resolve($d$$));if(!0===this.files[$d$$])return this.reset(),this;this.files[$d$$]=!0}if($b$$0$$.imports&&0<$b$$0$$.imports.length){var $a$$0$$,$c$$0$$="/",$g$$=!1;if("object"===typeof $d$$){if(this.importRoot=$d$$.root,$g$$=!0,$a$$0$$=this.importRoot,$d$$=$d$$.file,0<=$a$$0$$.indexOf("\\")||0<=$d$$.indexOf("\\"))$c$$0$$="\\"}else"string"===typeof $d$$?this.importRoot?$a$$0$$=this.importRoot:0<=$d$$.indexOf("/")?($a$$0$$=$d$$.replace(/\/[^\/]*$/,
""),""===$a$$0$$&&($a$$0$$="/")):0<=$d$$.indexOf("\\")?($a$$0$$=$d$$.replace(/\\[^\\]*$/,""),$c$$0$$="\\"):$a$$0$$=".":$a$$0$$=null;for(var $k$$=0;$k$$<$b$$0$$.imports.length;$k$$++)if("string"===typeof $b$$0$$.imports[$k$$]){if(!$a$$0$$)throw Error("Cannot determine import root: File name is unknown");var $h$$=$b$$0$$.imports[$k$$];if(!/^google\/protobuf\//.test($h$$)&&($h$$=$a$$0$$+$c$$0$$+$h$$,!0!==this.files[$h$$])){/\.proto$/i.test($h$$)&&!$e$$0$$.DotProto&&($h$$=$h$$.replace(/\.proto$/,".json"));
var $n$$=$e$$0$$.Util.fetch($h$$);if(null===$n$$)throw Error("Failed to import '"+$h$$+"' in '"+$d$$+"': File not found");if(/\.json$/i.test($h$$))this["import"](JSON.parse($n$$+""),$h$$);else this["import"]((new $e$$0$$.DotProto.Parser($n$$+"")).parse(),$h$$)}}else if($d$$)if(/\.(\w+)$/.test($d$$))this["import"]($b$$0$$.imports[$k$$],$d$$.replace(/^(.+)\.(\w+)$/,function($a$$,$b$$,$c$$){return $b$$+"_import"+$k$$+"."+$c$$}));else this["import"]($b$$0$$.imports[$k$$],$d$$+"_import"+$k$$);else this["import"]($b$$0$$.imports[$k$$]);
$g$$&&(this.importRoot=null)}$b$$0$$.messages&&($b$$0$$["package"]&&this.define($b$$0$$["package"],$b$$0$$.options),this.create($b$$0$$.messages),this.reset());$b$$0$$.enums&&($b$$0$$["package"]&&this.define($b$$0$$["package"],$b$$0$$.options),this.create($b$$0$$.enums),this.reset());$b$$0$$.services&&($b$$0$$["package"]&&this.define($b$$0$$["package"],$b$$0$$.options),this.create($b$$0$$.services),this.reset());$b$$0$$["extends"]&&($b$$0$$["package"]&&this.define($b$$0$$["package"],$b$$0$$.options),
this.create($b$$0$$["extends"]),this.reset());return this};$k$$0$$.isValidService=function $$k$$0$$$isValidService$($b$$){return!("string"!==typeof $b$$.name||!$d$$0$$.NAME.test($b$$.name)||"object"!==typeof $b$$.rpc)};$k$$0$$.isValidExtend=function $$k$$0$$$isValidExtend$($b$$){if("string"!==typeof $b$$.ref||!$d$$0$$.TYPEREF.test($b$$.ref))return!1;var $f$$;if("undefined"!==typeof $b$$.fields){if(!$e$$0$$.Util.isArray($b$$.fields))return!1;var $a$$=[],$c$$;for($f$$=0;$f$$<$b$$.fields.length;$f$$++){if(!$k$$0$$.isValidMessageField($b$$.fields[$f$$]))return!1;
$c$$=parseInt($b$$.id,10);if(0<=$a$$.indexOf($c$$))return!1;$a$$.push($c$$)}}return!0};$n$$0$$.resolveAll=function $$n$$0$$$resolveAll$(){var $b$$;if(null!=this.ptr&&"object"!==typeof this.ptr.type){if(this.ptr instanceof $g$$0$$.Namespace){$b$$=this.ptr.children;for(var $f$$=0,$a$$=$b$$.length;$f$$<$a$$;++$f$$)this.ptr=$b$$[$f$$],this.resolveAll()}else if(this.ptr instanceof $g$$0$$.Message.Field)if($d$$0$$.TYPE.test(this.ptr.type))this.ptr.type=$e$$0$$.TYPES[this.ptr.type];else{if(!$d$$0$$.TYPEREF.test(this.ptr.type))throw Error("Illegal type reference in "+
this.ptr.toString(!0)+": "+this.ptr.type);$b$$=(this.ptr instanceof $g$$0$$.Message.ExtensionField?this.ptr.extension.parent:this.ptr.parent).resolve(this.ptr.type,!0);if(!$b$$)throw Error("Unresolvable type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);this.ptr.resolvedType=$b$$;if($b$$ instanceof $g$$0$$.Enum)this.ptr.type=$e$$0$$.TYPES["enum"];else if($b$$ instanceof $g$$0$$.Message)this.ptr.type=$b$$.isGroup?$e$$0$$.TYPES.group:$e$$0$$.TYPES.message;else throw Error("Illegal type reference in "+
this.ptr.toString(!0)+": "+this.ptr.type);}else if(!(this.ptr instanceof $e$$0$$.Reflect.Enum.Value))if(this.ptr instanceof $e$$0$$.Reflect.Service.Method)if(this.ptr instanceof $e$$0$$.Reflect.Service.RPCMethod){$b$$=this.ptr.parent.resolve(this.ptr.requestName);if(!($b$$&&$b$$ instanceof $e$$0$$.Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.requestName);this.ptr.resolvedRequestType=$b$$;$b$$=this.ptr.parent.resolve(this.ptr.responseName);if(!($b$$&&
$b$$ instanceof $e$$0$$.Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.responseName);this.ptr.resolvedResponseType=$b$$}else throw Error("Illegal service type in "+this.ptr.toString(!0));else if(!(this.ptr instanceof $e$$0$$.Reflect.Message.OneOf||this.ptr instanceof $e$$0$$.Reflect.Extension))throw Error("Illegal object in namespace: "+typeof this.ptr+":"+this.ptr);this.reset()}};$n$$0$$.build=function $$n$$0$$$build$($b$$){this.reset();this.resolved||
(this.resolveAll(),this.resolved=!0,this.result=null);null==this.result&&(this.result=this.ns.build());if($b$$){$b$$=$b$$.split(".");for(var $d$$=this.result,$a$$=0;$a$$<$b$$.length;$a$$++)if($d$$[$b$$[$a$$]])$d$$=$d$$[$b$$[$a$$]];else{$d$$=null;break}return $d$$}return this.result};$n$$0$$.lookup=function $$n$$0$$$lookup$($b$$){return $b$$?this.ns.resolve($b$$):this.ns};$n$$0$$.toString=function $$n$$0$$$toString$(){return"Builder"};$k$$0$$.Message=function $$k$$0$$$Message$(){};$k$$0$$.Service=
function $$k$$0$$$Service$(){};return $k$$0$$}($g$$1$$,$g$$1$$.Lang,$g$$1$$.Reflect);$g$$1$$.loadProto=function $$g$$1$$$loadProto$($e$$,$d$$,$m$$){if("string"===typeof $d$$||$d$$&&"string"===typeof $d$$.file&&"string"===typeof $d$$.root)$m$$=$d$$,$d$$=void 0;return $g$$1$$.loadJson((new $g$$1$$.DotProto.Parser($e$$)).parse(),$d$$,$m$$)};$g$$1$$.protoFromString=$g$$1$$.loadProto;$g$$1$$.loadProtoFile=function $$g$$1$$$loadProtoFile$($e$$,$d$$,$m$$){$d$$&&"object"===typeof $d$$?($m$$=$d$$,$d$$=null):
$d$$&&"function"===typeof $d$$||($d$$=null);if($d$$)return $g$$1$$.Util.fetch("string"===typeof $e$$?$e$$:$e$$.root+"/"+$e$$.file,function($k$$){if(null===$k$$)$d$$(Error("Failed to fetch file"));else try{$d$$(null,$g$$1$$.loadProto($k$$,$m$$,$e$$))}catch($b$$){$d$$($b$$)}});var $k$$0$$=$g$$1$$.Util.fetch("object"===typeof $e$$?$e$$.root+"/"+$e$$.file:$e$$);return null===$k$$0$$?null:$g$$1$$.loadProto($k$$0$$,$m$$,$e$$)};$g$$1$$.protoFromFile=$g$$1$$.loadProtoFile;$g$$1$$.newBuilder=function $$g$$1$$$newBuilder$($e$$){$e$$=
$e$$||{};"undefined"===typeof $e$$.convertFieldsToCamelCase&&($e$$.convertFieldsToCamelCase=$g$$1$$.convertFieldsToCamelCase);"undefined"===typeof $e$$.populateAccessors&&($e$$.populateAccessors=$g$$1$$.populateAccessors);return new $g$$1$$.Builder($e$$)};$g$$1$$.loadJson=function $$g$$1$$$loadJson$($e$$,$d$$,$m$$){if("string"===typeof $d$$||$d$$&&"string"===typeof $d$$.file&&"string"===typeof $d$$.root)$m$$=$d$$,$d$$=null;$d$$&&"object"===typeof $d$$||($d$$=$g$$1$$.newBuilder());"string"===typeof $e$$&&
($e$$=JSON.parse($e$$));$d$$["import"]($e$$,$m$$);$d$$.resolveAll();$d$$.build();return $d$$};$g$$1$$.loadJsonFile=function $$g$$1$$$loadJsonFile$($e$$,$d$$,$m$$){$d$$&&"object"===typeof $d$$?($m$$=$d$$,$d$$=null):$d$$&&"function"===typeof $d$$||($d$$=null);if($d$$)return $g$$1$$.Util.fetch("string"===typeof $e$$?$e$$:$e$$.root+"/"+$e$$.file,function($k$$){if(null===$k$$)$d$$(Error("Failed to fetch file"));else try{$d$$(null,$g$$1$$.loadJson(JSON.parse($k$$),$m$$,$e$$))}catch($b$$){$d$$($b$$)}});
var $k$$0$$=$g$$1$$.Util.fetch("object"===typeof $e$$?$e$$.root+"/"+$e$$.file:$e$$);return null===$k$$0$$?null:$g$$1$$.loadJson(JSON.parse($k$$0$$),$m$$,$e$$)};return $g$$1$$}"undefined"!==typeof module&&module.exports?module.exports=$u$$(require("bytebuffer")):"function"===typeof define&&define.amd?define(["ByteBuffer"],$u$$):($s$$0$$.dcodeIO=$s$$0$$.dcodeIO||{}).ProtoBuf=$u$$($s$$0$$.dcodeIO.ByteBuffer)})(this);
cc.Component=cc.Class.extend({_owner:null,_name:"",_enabled:!0,ctor:function(){this._owner=null;this._name="";this._enabled=!0},init:function(){return!0},onEnter:function(){},onExit:function(){},update:function($delta$$){},serialize:function($reader$$){},isEnabled:function(){return this._enabled},setEnabled:function($enable$$){this._enabled=$enable$$},getName:function(){return this._name},setName:function($name$$){this._name=$name$$},setOwner:function($owner$$){this._owner=$owner$$},getOwner:function(){return this._owner}});
cc.Component.create=function $cc$Component$create$(){return new cc.Component};ccui.LayoutComponent_ReferencePoint={BOTTOM_LEFT:0,TOP_LEFT:1,BOTTOM_RIGHT:2,TOP_RIGHT:3};ccui.LayoutComponent_PositionType={Position:0,RelativePosition:1,PreRelativePosition:2,PreRelativePositionEnable:3};ccui.LayoutComponent_SizeType={Size:0,PreSize:1,PreSizeEnable:2};
ccui.LayoutComponent=cc.Component.extend({_percentContentSize:null,_usingPercentContentSize:!1,_referencePoint:ccui.LayoutComponent_ReferencePoint.BOTTOM_LEFT,_relativePosition:null,_percentPosition:null,_usingPercentPosition:!1,_actived:!0,init:function(){var $ret$$=!0;cc.Component.prototype.init.call(this)||($ret$$=!1);return $ret$$},isUsingPercentPosition:function(){return this._usingPercentPosition},setUsingPercentPosition:function($flag$$){this._usingPercentPosition=$flag$$;this.RefreshLayoutPosition(ccui.LayoutComponent_PositionType.PreRelativePositionEnable,
cc.p(0,0))},getPercentPosition:function(){return this._percentPosition},setPercentPosition:function($percent$$){this.RefreshLayoutPosition(ccui.LayoutComponent_PositionType.PreRelativePosition,$percent$$)},getRelativePosition:function(){return this._relativePosition},setRelativePosition:function($position$$){this.RefreshLayoutPosition(ccui.LayoutComponent_PositionType.RelativePosition,$position$$)},setReferencePoint:function($point$$){this._referencePoint=$point$$;this.RefreshLayoutPosition(ccui.LayoutComponent_PositionType.RelativePosition,
this._relativePosition)},getReferencePoint:function(){return this._referencePoint},getOwnerPosition:function(){return this.getOwner().getPosition()},setOwnerPosition:function($point$$){this.RefreshLayoutPosition(ccui.LayoutComponent_PositionType.Position,$point$$)},RefreshLayoutPosition:function($pType$$,$point$$){var $parentNode$$1_parentSize$$=this.getOwner().getParent(),$basePoint$$=$point$$;if(null!=$parentNode$$1_parentSize$$&&this._actived){$parentNode$$1_parentSize$$=$parentNode$$1_parentSize$$.getContentSize();
$pType$$==ccui.LayoutComponent_PositionType.PreRelativePosition?(this._percentPosition=$point$$,$basePoint$$=cc.p(this._percentPosition.x*$parentNode$$1_parentSize$$.width,this._percentPosition.y*$parentNode$$1_parentSize$$.height)):$pType$$==ccui.LayoutComponent_PositionType.PreRelativePositionEnable&&(this._usingPercentPosition&&(0!=$parentNode$$1_parentSize$$.width?this._percentPosition.x=this._relativePosition.x/$parentNode$$1_parentSize$$.width:(this._percentPosition.x=0,this._relativePosition.x=
0),0!=$parentNode$$1_parentSize$$.height?this._percentPosition.y=this._relativePosition.y/$parentNode$$1_parentSize$$.height:(this._percentPosition.y=0,this._relativePosition.y=0)),$basePoint$$=this._relativePosition);var $inversePoint$$=$basePoint$$;switch(this._referencePoint){case ccui.LayoutComponent_ReferencePoint.TOP_LEFT:$inversePoint$$.y=$parentNode$$1_parentSize$$.height-$inversePoint$$.y;break;case ccui.LayoutComponent_ReferencePoint.BOTTOM_RIGHT:$inversePoint$$.x=$parentNode$$1_parentSize$$.width-
$inversePoint$$.x;break;case ccui.LayoutComponent_ReferencePoint.TOP_RIGHT:$inversePoint$$.x=$parentNode$$1_parentSize$$.width-$inversePoint$$.x,$inversePoint$$.y=$parentNode$$1_parentSize$$.height-$inversePoint$$.y}switch($pType$$){case ccui.LayoutComponent_PositionType.Position:this.getOwner().setPosition($basePoint$$);this._relativePosition=$inversePoint$$;this._percentPosition=0!=$parentNode$$1_parentSize$$.width&&0!=$parentNode$$1_parentSize$$.height?cc.p(this._relativePosition.x/$parentNode$$1_parentSize$$.width,
this._relativePosition.y/$parentNode$$1_parentSize$$.height):cc.p(0,0);break;case ccui.LayoutComponent_PositionType.RelativePosition:this.getOwner().setPosition($inversePoint$$);this._relativePosition=$basePoint$$;this._percentPosition=0!=$parentNode$$1_parentSize$$.width&&0!=$parentNode$$1_parentSize$$.height?cc.p(this._relativePosition.x/$parentNode$$1_parentSize$$.width,this._relativePosition.y/$parentNode$$1_parentSize$$.height):cc.p(0,0);break;case ccui.LayoutComponent_PositionType.PreRelativePosition:this.getOwner().setPosition($inversePoint$$);
this._relativePosition=$basePoint$$;break;case ccui.LayoutComponent_PositionType.PreRelativePositionEnable:this.getOwner().setPosition($inversePoint$$),this._relativePosition=$basePoint$$}}else switch($pType$$){case ccui.LayoutComponent_PositionType.Position:this.getOwner().setPosition($basePoint$$);this._referencePoint==ccui.LayoutComponent_ReferencePoint.BOTTOM_LEFT&&(this._relativePosition=$basePoint$$);break;case ccui.LayoutComponent_PositionType.RelativePosition:this._relativePosition=$basePoint$$;
break;case ccui.LayoutComponent_PositionType.PreRelativePosition:this._percentPosition=$basePoint$$}},getOwnerContentSize:function(){return this.getOwner().getContentSize()},setOwnerContentSize:function($percent$$){this.RefreshLayoutSize(ccui.LayoutComponent_SizeType.Size,$percent$$)},getPercentContentSize:function(){return this._percentContentSize},setPercentContentSize:function($percent$$){this.RefreshLayoutSize(ccui.LayoutComponent_SizeType.PreSize,$percent$$)},isUsingPercentContentSize:function(){return this._usingPercentContentSize},
setUsingPercentContentSize:function($flag$$){this._usingPercentContentSize=$flag$$;this.RefreshLayoutSize(ccui.LayoutComponent_SizeType.PreSizeEnable,cc.p(0,0))},RefreshLayoutSize:function($sType$$,$size$$){var $parentNode$$2_parentSize$$=this.getOwner().getParent();if(null!=$parentNode$$2_parentSize$$&&this._actived)switch($parentNode$$2_parentSize$$=$parentNode$$2_parentSize$$.getContentSize(),$sType$$){case ccui.LayoutComponent_SizeType.Size:this._percentContentSize=0!=$parentNode$$2_parentSize$$.width&&
0!=$parentNode$$2_parentSize$$.height?cc.p($size$$.x/$parentNode$$2_parentSize$$.width,$size$$.y/$parentNode$$2_parentSize$$.height):cc.p(0,0);this.getOwner().setContentSize(cc.size($size$$.x,$size$$.y));break;case ccui.LayoutComponent_SizeType.PreSize:cc.p_percentContentSize=$size$$;this._usingPercentContentSize&&this.getOwner().setContentSize(cc.size($size$$.x*$parentNode$$2_parentSize$$.width,$size$$.y*$parentNode$$2_parentSize$$.height));break;case ccui.LayoutComponent_SizeType.PreSizeEnable:if(this._usingPercentContentSize){var $baseSize$$=
this.getOwner().getContentSize();0!=$parentNode$$2_parentSize$$.width?this._percentContentSize.x=$baseSize$$.width/$parentNode$$2_parentSize$$.width:(this._percentContentSize.x=0,$baseSize$$.width=0);0!=$parentNode$$2_parentSize$$.height?this._percentContentSize.y=$baseSize$$.height/$parentNode$$2_parentSize$$.height:(this._percentContentSize.y=0,$baseSize$$.height=0);this.getOwner().setContentSize($baseSize$$)}}else switch($sType$$){case ccui.LayoutComponent_SizeType.Size:this.getOwner().setContentSize(cc.size($size$$.x,
$size$$.y));break;case ccui.LayoutComponent_SizeType.PreSize:this._percentContentSize=$size$$}},SetActiveEnable:function($enable$$){this._actived=$enable$$}});
cc.ComponentContainer=cc.Class.extend({_components:null,_owner:null,ctor:function($node$$){this._components=null;this._owner=$node$$},getComponent:function($name$$){if(!$name$$)throw"cc.ComponentContainer.getComponent(): name should be non-null";$name$$=$name$$.trim();this._components||(this._components={});return this._components[$name$$]},add:function($component$$){if(!$component$$)throw"cc.ComponentContainer.add(): component should be non-null";if($component$$.getOwner())return cc.log("cc.ComponentContainer.add(): Component already added. It can't be added again"),
!1;null==this._components&&(this._components={},this._owner.scheduleUpdate());if(this._components[$component$$.getName()])return cc.log("cc.ComponentContainer.add(): Component already added. It can't be added again"),!1;$component$$.setOwner(this._owner);this._components[$component$$.getName()]=$component$$;$component$$.onEnter();return!0},remove:function($name$$){if(!$name$$)throw"cc.ComponentContainer.remove(): name should be non-null";if(!this._components)return!1;if($name$$ instanceof cc.Component)return this._removeByComponent($name$$);
$name$$=$name$$.trim();return this._removeByComponent(this._components[$name$$])},_removeByComponent:function($component$$){if(!$component$$)return!1;$component$$.onExit();$component$$.setOwner(null);delete this._components[$component$$.getName()];return!0},removeAll:function(){if(this._components){var $locComponents$$=this._components,$selKey$$;for($selKey$$ in $locComponents$$){var $selComponent$$=$locComponents$$[$selKey$$];$selComponent$$.onExit();$selComponent$$.setOwner(null);delete $locComponents$$[$selKey$$]}this._owner.unscheduleUpdate();
this._components=null}},_alloc:function(){this._components={}},visit:function($delta$$){if(this._components){var $locComponents$$=this._components,$selKey$$;for($selKey$$ in $locComponents$$)$locComponents$$[$selKey$$].update($delta$$)}},isEmpty:function(){return this._components?0==this._components.length:!0}});var ccs=ccs||{};ccs.Class=ccs.Class||cc.Class;ccs.Class.extend=ccs.Class.extend||cc.Class.extend;ccs.Node=ccs.Node||cc.Node;ccs.Node.extend=ccs.Node.extend||cc.Node.extend;
ccs.Sprite=ccs.Sprite||cc.Sprite;ccs.Sprite.extend=ccs.Sprite.extend||cc.Sprite.extend;ccs.Component=ccs.Component||cc.Component;ccs.Component.extend=ccs.Component.extend||cc.Component.extend;ccs.cocostudioVersion="v1.3.0.0";var CSParseBinary="\npackage protocolbuffers;\n\noption optimize_for = LITE_RUNTIME; \n\nmessage CSParseBinary\n{\n    optional string version = 1; \n    optional string cocos2dVersion = 2;\n\toptional string editorType = 3;\n    optional float dataScale = 4;\n    optional int32 designHeight = 5;\n    optional int32 designWidth = 6;    \n    repeated string textures = 7;\n    repeated string texturesPng = 8;\n    optional NodeTree nodeTree = 9;\n    optional NodeAction action = 10;\n}\n\n\nmessage NodeTree\n{\n    optional string classname = 1;\n    optional string name = 2;\n\n    repeated NodeTree children = 3;\n\n    optional WidgetOptions widgetOptions = 4;\n    optional ButtonOptions buttonOptions = 5;\n    optional CheckBoxOptions checkBoxOptions = 6;\n    optional ImageViewOptions imageViewOptions = 7;\n    \n    optional TextAtlasOptions textAtlasOptions = 8;\n    optional TextBMFontOptions textBMFontOptions = 9;\n    optional TextOptions textOptions = 10;\n    optional LoadingBarOptions loadingBarOptions = 11;\n    optional SliderOptions sliderOptions = 12;\n    optional TextFieldOptions textFieldOptions = 13;\n    optional ScrollViewOptions scrollViewOptions = 14;\n    optional PageViewOptions pageViewOptions = 15;\n    optional ListViewOptions listViewOptions = 16;\n    optional PanelOptions PanelOptions = 17;\n\n    optional SpriteOptions spriteOptions = 18;\n    optional TMXTiledMapOptions tmxTiledMapOptions = 19;\n    optional ParticleSystemOptions particleSystemOptions = 20;\n    optional ProjectNodeOptions projectNodeOptions = 21;\n}\n\n\nmessage WidgetOptions\n{\n    optional float x = 1;\n    optional float y = 2;\n    optional float scaleX = 3;\n    optional float scaleY = 4;\n    optional float rotation = 5;\n    optional bool flipX = 6;\n    optional bool flipY = 7;\n    optional int32 colorB = 8;\n    optional int32 colorG = 9;\n    optional int32 colorR = 10;\n    optional int32 opacity = 11;\n    optional bool touchAble = 12;\n    optional bool visible = 13;\n    optional int32 zorder = 14;\n    optional string classType = 15;\n    optional float width = 16;\n    optional float height = 17;\n    optional int32 positionType = 18;\n    optional float positionPercentX = 19;\n    optional float positionPercentY = 20;\n    optional int32 sizeType = 21;\n    optional float sizePercentX = 22;\n    optional float sizePercentY = 23;\n    optional bool useMergedTexture = 24;\n    optional int32 actionTag = 25;\n    optional int32 tag = 26;\n    optional float anchorPointX = 27;\n    optional float anchorPointY = 28;\n    optional bool ignoreSize = 29;\n    optional float rotationSkewX = 30;\n    optional float rotationSkewY = 31;\n    optional LayoutParameter layoutParameter = 32;\n    optional string customProperty = 33;\n    optional string frameEvent = 34;   \n    optional string name = 35;\n    optional int32 Alpha = 37;\n    repeated ComponentOptions componentOptions = 36;\n}\n\nmessage LayoutParameter\n{\n    optional int32 type = 1;\n    optional int32 gravity = 2;\n    optional string relativeName = 3;\n    optional string relativeToName = 4;\n    optional int32 align = 5;\n    optional int32 marginLeft = 6;\n    optional int32 marginTop = 7;\n    optional int32 marginRight = 8;\n    optional int32 marginDown = 9;\n    optional int32 layoutEageType = 10;\n    optional int32 layoutNormalHorizontal = 11;\n    optional int32 layoutNormalVertical = 12;\n    optional int32 layoutParentHorizontal = 13;\n    optional int32 layoutParentVertical = 14;\n}\n\nmessage ButtonOptions\n{\n    optional string name = 1;\n    optional string classname = 2;\n    optional string normal = 3;\n    optional string pressed = 4;\n    optional string disabled = 5;\n    optional ResourceData normalData = 6;\n    optional ResourceData pressedData = 7;\n    optional ResourceData disabledData = 8;\n    optional string text = 9;\n    optional string fontName = 10;\n    optional int32 fontSize = 11;\n    optional int32 textColorR = 12;\n    optional int32 textColorG = 13;\n    optional int32 textColorB = 14;\n    optional float capInsetsX = 15;\n    optional float capInsetsY = 16;\n    optional float capInsetsWidth = 17;\n    optional float capInsetsHeight = 18;\n    optional float scale9Width = 19;\n    optional float scale9Height = 20;\n    optional bool  scale9Enable = 21; \n    optional bool  displaystate = 22;\n    optional ResourceData   fontResource = 23;\n}\n\nmessage ResourceData\n{\n    optional string path = 1;\n    optional string plistFile = 2;\n    optional int32 resourceType = 3;\n}\n\nmessage CheckBoxOptions\n{\n    optional string name = 1;\n    optional string classname = 2;\n    optional string backGroundBox = 3;\n    optional string backGroundBoxSelected = 4;\n    optional string backGroundBoxDisabled = 5;\n    optional string frontCross = 6;\n    optional string frontCrossDisabled = 7;\n    optional ResourceData backGroundBoxData = 8;\n    optional ResourceData backGroundBoxSelectedData = 9;\n    optional ResourceData frontCrossData = 10;\n    optional ResourceData backGroundBoxDisabledData = 11;\n    optional ResourceData frontCrossDisabledData = 12;\n    optional bool selectedState = 13;\n\toptional bool displaystate = 14;\n}\n\nmessage ImageViewOptions\n{\n    optional string name = 1;\n    optional string classname = 2;\n    optional string fileName = 3;\n    optional ResourceData fileNameData = 4;\n    optional float capInsetsX = 5;\n    optional float capInsetsY = 6;\n    optional float capInsetsHeight = 7;\n    optional float capInsetsWidth = 8;\n    optional float scale9Width = 9;\n    optional float scale9Height = 10;\n    optional bool scale9Enable = 11;\n\toptional bool flippedX = 12;\n\toptional bool flippedY = 13;\n}\n\nmessage TextAtlasOptions\n{\n    optional string name = 1;\n    optional string classname = 2;\n    optional string stringValue = 3;\n    optional string charMapFile = 4;\n    optional ResourceData charMapFileData = 5;\n    optional string startCharMap = 6;\n    optional int32 itemWidth = 7;\n    optional int32 itemHeight = 8;\n}\n\nmessage TextBMFontOptions\n{\n    optional string name = 1;\n    optional string classname = 2;\n    optional string text = 3;\n    optional ResourceData fileNameData = 4;\n}\n\nmessage TextOptions\n{\n    optional string name = 1;\n    optional string classname = 2;\n    optional string fontName = 3;\n    optional ResourceData fontFile = 4;\n    optional int32 fontSize = 5;\n    optional string text = 6;\n    optional float areaWidth = 7;\n    optional float areaHeight = 8;\n    optional int32 hAlignment = 9;\n    optional int32 vAlignment = 10;\n    optional bool touchScaleEnable = 11;\n\toptional ResourceData fontResource = 12;\n\toptional bool IsCustomSize = 13;\n}\n\nmessage LoadingBarOptions\n{\n    optional string name = 1;\n    optional string classname = 2;\n    optional string texture = 3;\n    optional ResourceData textureData = 4;\n    optional int32 percent = 5;\n    optional int32 direction = 6;\n    optional float capInsetsX = 7;\n    optional float capInsetsY = 8;\n    optional float capInsetsWidth = 9;\n    optional float capInsetsHeight = 10;\n    optional bool scale9Enable = 11;\n\toptional float scale9Width = 12;\n    optional float scale9Height = 13;\n}\n\nmessage ListViewOptions\n{\n    optional string name = 1;\n    optional string classname = 2;\n    optional string backGroundImage = 3;\n    optional ResourceData backGroundImageData = 4;\n    optional int32 bgColorR = 5;\n    optional int32 bgColorG = 6;\n    optional int32 bgColorB = 7;\n    optional int32 bgStartColorR = 8;\n    optional int32 bgStartColorG = 9;\n    optional int32 bgStartColorB = 10;\n    optional int32 bgEndColorR = 11;\n    optional int32 bgEndColorG = 12;\n    optional int32 bgEndColorB = 13;\n    optional int32 colorType = 14;\n    optional int32 bgColorOpacity = 15;\n    optional float vectorX = 16;\n    optional float vectorY = 17;\n    optional float capInsetsX = 18;\n    optional float capInsetsY = 19;\n    optional float capInsetsWidth = 20;\n    optional float capInsetsHeight = 21;\n    optional bool backGroundScale9Enable = 22;\n    optional float innerWidth = 23;\n    optional float innerHeight = 24;\n    optional bool clipAble = 25;\n    optional bool bounceEnable = 26;\n    optional int32 direction = 27;\n    optional int32 gravity = 28;\n    optional int32 itemMargin = 29;\n\toptional float scale9Width = 30;\n    optional float scale9Height = 31;\n}\n\nmessage PageViewOptions\n{\n    optional string name = 1;\n    optional string classname = 2;\n    optional string backGroundImage = 3;\n    optional ResourceData backGroundImageData = 4;\n    optional bool clipAble = 5;\n    optional int32 bgColorR = 6;\n    optional int32 bgColorG = 7;\n    optional int32 bgColorB = 8;\n    optional int32 bgStartColorR = 9;\n    optional int32 bgStartColorG = 10;\n    optional int32 bgStartColorB = 11;\n    optional int32 bgEndColorR = 12;\n    optional int32 bgEndColorG = 13;\n    optional int32 bgEndColorB = 14;\n    optional int32 colorType = 15;\n    optional int32 bgColorOpacity = 16;\n    optional float vectorX = 17;\n    optional float vectorY = 18;\n    optional float capInsetsX = 19;\n    optional float capInsetsY = 20;\n    optional float capInsetsWidth = 21;\n    optional float capInsetsHeight = 22;\n    optional bool backGroundScale9Enable = 23;\n\toptional float scale9Width = 24;\n    optional float scale9Height = 25;\n}\n\nmessage PanelOptions\n{\n    optional string name = 1;\n    optional string classname = 2;\n    optional string backGroundImage = 3;\n    optional ResourceData backGroundImageData = 4;\n    optional bool clipAble = 5;\n    optional int32 bgColorR = 6;\n    optional int32 bgColorG = 7;\n    optional int32 bgColorB = 8;\n    optional int32 bgStartColorR = 9;\n    optional int32 bgStartColorG = 10;\n    optional int32 bgStartColorB = 11;\n    optional int32 bgEndColorR = 12;\n    optional int32 bgEndColorG = 13;\n    optional int32 bgEndColorB = 14;\n    optional int32 colorType = 15;\n    optional int32 bgColorOpacity = 16;\n    optional float vectorX = 17;\n    optional float vectorY = 18;\n    optional float capInsetsX = 19;\n    optional float capInsetsY = 20;\n    optional float capInsetsWidth = 21;\n    optional float capInsetsHeight = 22;\n    optional bool backGroundScale9Enable = 23;\n    optional int32 layoutType = 24;\n    optional bool adaptScreen = 25;\n\toptional float scale9Width = 26;\n    optional float scale9Height = 27;\n}\n\nmessage ScrollViewOptions\n{\n    optional string name = 1;\n    optional string classname = 2;\n    optional string backGroundImage = 3;\n    optional ResourceData backGroundImageData = 4;\n    optional int32 bgColorR = 5;\n    optional int32 bgColorG = 6;\n    optional int32 bgColorB = 7;\n    optional int32 bgStartColorR = 8;\n    optional int32 bgStartColorG = 9;\n    optional int32 bgStartColorB = 10;\n    optional int32 bgEndColorR = 11;\n    optional int32 bgEndColorG = 12;\n    optional int32 bgEndColorB = 13;\n    optional int32 colorType = 14;\n    optional int32 bgColorOpacity = 15;\n    optional float vectorX = 16;\n    optional float vectorY = 17;\n    optional float capInsetsX = 18;\n    optional float capInsetsY = 19;\n    optional float capInsetsWidth = 20;\n    optional float capInsetsHeight = 21;\n    optional bool backGroundScale9Enable = 22;\n    optional float innerWidth = 23;\n    optional float innerHeight = 24;\n    optional int32 direction = 25;\n    optional bool clipAble = 26;\n    optional bool bounceEnable = 27;\n    optional int32 layoutType = 28;\n\toptional float scale9Width = 29;\n    optional float scale9Height = 30;\n}\n\nmessage SliderOptions\n{\n    optional string name = 1;\n    optional string classname = 2;\n    optional string barFileName = 3;\n    optional string ballNormal = 4;\n    optional string ballPressed = 5;\n    optional string ballDisabled = 6;\n    optional ResourceData barFileNameData = 7;\n    optional ResourceData ballNormalData = 8;\n    optional ResourceData ballPressedData = 9;\n    optional ResourceData ballDisabledData = 10;\n    optional ResourceData progressBarData = 11;\n    optional int32 percent = 12;\n    optional float capInsetsX = 13;\n    optional float capInsetsY = 14;\n    optional float capInsetsWidth = 15;\n    optional float capInsetsHeight = 16;\n    optional float barCapInsetsX = 17;\n    optional float barCapInsetsY = 18;\n    optional float barCapInsetsWidth = 19;\n    optional float barCapInsetsHeight = 20;\n    optional float progressBarCapInsetsX = 21;\n    optional float progressBarCapInsetsY = 22;\n    optional float progressBarCapInsetsWidth = 23;\n    optional float progressBarCapInsetsHeight = 24;\n    optional float scale9Width = 25;\n    optional float scale9Height = 26;\n    optional bool scale9Enable = 27;\n    optional float slidBallAnchorPointX = 28;\n    optional float slidBallAnchorPointY = 29;\n    optional float length = 30;\n\toptional bool  displaystate = 31;\n}\n\nmessage SpriteOptions\n{\n    optional string name = 1;\n    optional string classname = 2;\n    optional bool touchAble = 3;\n    optional int32 positionType = 4;\n    optional float positionPercentX = 5;\n    optional float positionPercentY = 6;\n    optional int32 sizeType = 7;\n    optional float sizePercentX = 8;\n    optional float sizePercentY = 9;\n    optional bool useMergedTexture = 10;\n    optional bool ignoreSize = 11;\n    optional LayoutParameter layoutParameter = 12;\n    optional string customProperty = 13;\n    optional string fileName = 14;\n\toptional bool flippedX = 15;\n\toptional bool flippedY = 16;\n\t\n    optional ResourceData fileNameData = 17;\n}\n\nmessage TextFieldOptions\n{\n    optional string name = 1;\n    optional string classname = 2;\n    optional string fontName = 3;\n    optional ResourceData fontFile = 4;\n    optional int32 fontSize = 5;\n    optional string text = 6;\n    optional string placeHolder = 7;\n    optional bool passwordEnable = 8;\n    optional string passwordStyleText = 9;\n    optional bool maxLengthEnable = 10;\n    optional int32 maxLength = 11;\n    optional float areaWidth = 12;\n    optional float areaHeight = 13;\n\toptional float anchorPointX = 15;\n    optional float anchorPointY = 16;\n\toptional ResourceData fontResource = 14;\n\toptional bool IsCustomSize = 17;\n}\n\nmessage TMXTiledMapOptions\n{\n    optional string tmxFile = 1;\n    optional string tmxString = 2;\n    optional string resourcePath = 3;\n\n    optional ResourceData fileNameData = 4;\n}\n\nmessage ParticleSystemOptions\n{\n    optional string plistFile = 1;\n    optional int32 totalParticles = 2;  \n\n    optional ResourceData fileNameData = 3;\n}\n\nmessage ProjectNodeOptions\n{\n    optional string fileName = 1;\n}\n\nmessage ComponentOptions\n{\n    optional string type = 1;\n\n    optional ComAudioOptions comAudioOptions = 2;\n}\n\nmessage ComAudioOptions\n{\n    optional string name = 1;\n    optional bool enabled = 2;\n    optional bool loop = 3;\n    optional int32 volume = 4;\n    optional ResourceData fileNameData = 5;\n}\n\n\nmessage NodeAction\n{\n    optional string name = 1;\n    optional string classname = 2;\n    optional int32 duration = 3;\n    optional float speed = 4;\n\n    repeated TimeLine timelines = 5;\n}\n\nmessage TimeLine\n{\n    optional string name = 1;\n    optional string classname = 2;\n    optional string frameType = 3;\n    optional int32 actionTag = 4;\n    repeated Frame frames = 5;\n}\n\nmessage Frame\n{\n    optional TimeLineBoolFrame visibleFrame = 5;\n    optional TimeLineIntFrame zOrderFrame = 6;\n    optional TimeLinePointFrame rotationSkewFrame = 7;\n    optional TimeLineStringFrame eventFrame = 8;\n    optional TimeLinePointFrame anchorPointFrame = 9;\n    optional TimeLinePointFrame positionFrame = 10;\n    optional TimeLinePointFrame scaleFrame = 11;\n    optional TimeLineColorFrame colorFrame = 12;\n    optional TimeLineTextureFrame textureFrame = 13;\n}\n\nmessage TimeLineBoolFrame\n{\n    optional string name = 1;\n    optional string classname = 2;\n    optional int32 frameIndex = 3;\n    optional bool tween = 4;\n    optional bool value = 5;\n}\n\nmessage TimeLineIntFrame\n{\n    optional string name = 1;\n    optional string classname = 2;\n    optional int32 frameIndex = 3;\n    optional bool tween = 4;\n    optional int32 value = 5;\n}\n\nmessage TimeLineStringFrame\n{\n    optional string name = 1;\n    optional string classname = 2;\n    optional int32 frameIndex = 3;\n    optional bool tween = 4;\n    optional string value = 5;\n}\n\nmessage TimeLinePointFrame\n{\n    optional string name = 1;\n    optional string classname = 2;\n    optional int32 frameIndex = 3;\n    optional bool tween = 4;\n    optional float x = 5;\n\toptional float y = 6;\n}\n\nmessage TimeLineColorFrame\n{\n    optional string name = 1;\n    optional string classname = 2;\n    optional int32 frameIndex = 3;\n    optional bool tween = 4;\n    optional int32 alpha = 5;\n    optional int32 red = 6;\n    optional int32 green = 7;\n    optional int32 blue = 8;\n}\n\nmessage TimeLineTextureFrame\n{\n    optional string name = 1;\n    optional string classname = 2;\n    optional int32 frameIndex = 3;\n    optional bool tween = 4;\n    optional string filePath = 5;\n\toptional string plistFile = 6;\n}";
ccui.CSLoaderStatic={ClassName_Node:"Node",ClassName_SubGraph:"SubGraph",ClassName_Sprite:"Sprite",ClassName_Particle:"Particle",ClassName_TMXTiledMap:"TMXTiledMap",ClassName_Panel:"Panel",ClassName_Button:"Button",ClassName_CheckBox:"CheckBox",ClassName_ImageView:"ImageView",ClassName_TextAtlas:"TextAtlas",ClassName_LabelAtlas:"LabelAtlas",ClassName_LabelBMFont:"LabelBMFont",ClassName_TextBMFont:"TextBMFont",ClassName_Text:"Text",ClassName_LoadingBar:"LoadingBar",ClassName_TextField:"TextField",
ClassName_Slider:"Slider",ClassName_Layout:"Layout",ClassName_ScrollView:"ScrollView",ClassName_ListView:"ListView",ClassName_PageView:"PageView",ClassName_Widget:"Widget",ClassName_Label:"Label",ClassName_ComAudio:"ComAudio",NODE:"nodeTree",CHILDREN:"children",CLASSNAME:"classname",FILE_PATH:"fileName",PLIST_FILE:"plistFile",TMX_FILE:"tmxFile",TMX_STRING:"tmxString",RESOURCE_PATH:"resourcePath",COMPONENTS:"components",COMPONENT_TYPE:"componentType",COMPONENT_NAME:"componentName",COMPONENT_ENABLED:"componentEnabled",
COMPONENT_AUDIO_FILE_PATH:"comAudioFilePath",COMPONENT_LOOP:"comAudioloop",TAG:"tag",ACTION_TAG:"actionTag",OPTIONS:"options",WIDTH:"width",HEIGHT:"height",X:"x",Y:"y",SCALE_X:"scaleX",SCALE_Y:"scaleY",SKEW_X:"skewX",SKEW_Y:"skewY",ROTATION:"rotation",ROTATION_SKEW_X:"rotationSkewX",ROTATION_SKEW_Y:"rotationSkewY",ANCHOR_X:"anchorPointX",ANCHOR_Y:"anchorPointY",ALPHA:"opacity",RED:"colorR",GREEN:"colorG",BLUE:"colorB",ZORDER:"ZOrder",PARTICLE_NUM:"particleNum",FLIPX:"flipX",FLIPY:"flipY",VISIBLE:"visible",
TEXTURES:"textures",TEXTURES_PNG:"texturesPng",MONO_COCOS2D_VERSION:"cocos2dVersion"};
ccs.csLoader={_recordJsonPath:!0,_jsonPath:"",_recordProtocolBuffersPath:!1,_protocolBuffersPath:"",_monoCocos2dxVersion:"",init:function $ccs$csLoader$init$(){this._funcs={};this._componentFuncs={};this._funcs[ccui.CSLoaderStatic.ClassName_Node]=ccs.csLoader.loadSimpleNode.bind(this);this._funcs[ccui.CSLoaderStatic.ClassName_SubGraph]=ccs.csLoader.loadSubGraph.bind(this);this._funcs[ccui.CSLoaderStatic.ClassName_Sprite]=ccs.csLoader.loadSprite.bind(this);this._funcs[ccui.CSLoaderStatic.ClassName_Particle]=
ccs.csLoader.loadParticle.bind(this);this._funcs[ccui.CSLoaderStatic.ClassName_TMXTiledMap]=ccs.csLoader.loadTMXTiledMap.bind(this);this._funcs[ccui.CSLoaderStatic.ClassName_LabelAtlas]=ccs.csLoader.loadWidget.bind(this);this._funcs[ccui.CSLoaderStatic.ClassName_LabelBMFont]=ccs.csLoader.loadWidget.bind(this);this._funcs[ccui.CSLoaderStatic.ClassName_Panel]=ccs.csLoader.loadWidget.bind(this);this._funcs[ccui.CSLoaderStatic.ClassName_Button]=ccs.csLoader.loadWidget.bind(this);this._funcs[ccui.CSLoaderStatic.ClassName_CheckBox]=
ccs.csLoader.loadWidget.bind(this);this._funcs[ccui.CSLoaderStatic.ClassName_ImageView]=ccs.csLoader.loadWidget.bind(this);this._funcs[ccui.CSLoaderStatic.ClassName_TextAtlas]=ccs.csLoader.loadWidget.bind(this);this._funcs[ccui.CSLoaderStatic.ClassName_TextBMFont]=ccs.csLoader.loadWidget.bind(this);this._funcs[ccui.CSLoaderStatic.ClassName_Text]=ccs.csLoader.loadWidget.bind(this);this._funcs[ccui.CSLoaderStatic.ClassName_LoadingBar]=ccs.csLoader.loadWidget.bind(this);this._funcs[ccui.CSLoaderStatic.ClassName_TextField]=
ccs.csLoader.loadWidget.bind(this);this._funcs[ccui.CSLoaderStatic.ClassName_Slider]=ccs.csLoader.loadWidget.bind(this);this._funcs[ccui.CSLoaderStatic.ClassName_Layout]=ccs.csLoader.loadWidget.bind(this);this._funcs[ccui.CSLoaderStatic.ClassName_ScrollView]=ccs.csLoader.loadWidget.bind(this);this._funcs[ccui.CSLoaderStatic.ClassName_ListView]=ccs.csLoader.loadWidget.bind(this);this._funcs[ccui.CSLoaderStatic.ClassName_PageView]=ccs.csLoader.loadWidget.bind(this);this._funcs[ccui.CSLoaderStatic.ClassName_Widget]=
ccs.csLoader.loadWidget.bind(this);this._funcs[ccui.CSLoaderStatic.ClassName_Label]=ccs.csLoader.loadWidget.bind(this);this._componentFuncs[ccui.CSLoaderStatic.ClassName_ComAudio]=ccs.csLoader.loadComAudio.bind(this)},createNode:function $ccs$csLoader$createNode$($filename$$){var $pos$$=$filename$$.lastIndexOf("."),$pos$$=$filename$$.substr($pos$$+1,$filename$$.length),$load$$=ccs.csLoader;return"csb"==$pos$$?$load$$.createNodeFromProtocolBuffers($filename$$):"json"==$pos$$||"ExportJson"==$pos$$?
$load$$.createNodeFromJson($filename$$):null},createTimeline:function $ccs$csLoader$createTimeline$($filename$$){var $pos$$76_suffix$$=$filename$$.lastIndexOf("."),$pos$$76_suffix$$=$filename$$.substr($pos$$76_suffix$$+1,$filename$$.length),$cache$$=ccs.actionTimelineCache;return"csb"==$pos$$76_suffix$$?$cache$$.createActionFromProtocolBuffers($filename$$):"json"==$pos$$76_suffix$$||"ExportJson"==$pos$$76_suffix$$?$cache$$.createActionFromJson($filename$$):null},createNodeFromJson:function $ccs$csLoader$createNodeFromJson$($filename$$){if(this._recordJsonPath){var $jsonPath$$=
$filename$$.substr(0,$filename$$.lastIndexOf("/")+1);ccs.uiReader.setFilePath($jsonPath$$);this._jsonPath=$jsonPath$$}else ccs.uiReader.setFilePath(""),this._jsonPath="";return this.loadNodeWithFile($filename$$)},loadNodeWithFile:function $ccs$csLoader$loadNodeWithFile$($fileName$$){var $contentStr$$=cc.loader.getRes($fileName$$),$node$$=this.loadNodeWithContent($contentStr$$);ccs.actionTimelineCache.loadAnimationActionWithContent($fileName$$,$contentStr$$);return $node$$},loadNodeWithContent:function $ccs$csLoader$loadNodeWithContent$($data$$){this._monoCocos2dxVersion=
$data$$[ccui.CSLoaderStatic.MONO_COCOS2D_VERSION]||$data$$.version;for(var $texture$$=$data$$[ccui.CSLoaderStatic.TEXTURES],$texturePng$$=$data$$[ccui.CSLoaderStatic.TEXTURES_PNG],$length$$=$texture$$.length,$i$$=0;$i$$<$length$$;$i$$++){var $plist$$=$texture$$[$i$$],$png$$=$texturePng$$[$i$$],$plist$$=this._jsonPath+$plist$$,$png$$=this._jsonPath+$png$$;cc.spriteFrameCache.addSpriteFrames($plist$$,$png$$)}return this.loadNode($data$$[ccui.CSLoaderStatic.NODE])},setRecordJsonPath:function $ccs$csLoader$setRecordJsonPath$($record$$){this._recordJsonPath=
$record$$},isRecordJsonPath:function $ccs$csLoader$isRecordJsonPath$(){return this._recordJsonPath},setJsonPath:function $ccs$csLoader$setJsonPath$($jsonPath$$){this._jsonPath=$jsonPath$$},getJsonPath:function $ccs$csLoader$getJsonPath$(){return this._jsonPath},createNodeFromProtocolBuffers:function $ccs$csLoader$createNodeFromProtocolBuffers$($filename$$){if(this._recordProtocolBuffersPath){var $protocolBuffersPath$$=$filename$$.substr(0,$filename$$.lastIndexOf("/")+1);ccs.uiReader.setFilePath($protocolBuffersPath$$);
this._protocolBuffersPath=$protocolBuffersPath$$}else ccs.uiReader.setFilePath(""),this._protocolBuffersPath="";return this.nodeFromProtocolBuffersFile($filename$$)},nodeFromProtocolBuffersFile:function $ccs$csLoader$nodeFromProtocolBuffersFile$($fileName$$){for(var $binary$$1_buffer$$=cc.loader.getRes($fileName$$),$binary$$1_buffer$$=PBP.CSParseBinary.decode($binary$$1_buffer$$),$fileDesignWidth_textureSize$$15_winSize$$=$binary$$1_buffer$$.textures.length,$fileDesignHeight_i$$=0;$fileDesignHeight_i$$<
$fileDesignWidth_textureSize$$15_winSize$$;++$fileDesignHeight_i$$){var $plist$$=$binary$$1_buffer$$.textures[$fileDesignHeight_i$$],$png$$=$binary$$1_buffer$$.texturesPng[$fileDesignHeight_i$$],$plist$$=this._protocolBuffersPath+$plist$$,$png$$=this._protocolBuffersPath+$png$$;cc.spriteFrameCache.addSpriteFrames($plist$$,$png$$)}$fileDesignWidth_textureSize$$15_winSize$$=$binary$$1_buffer$$.designWidth;$fileDesignHeight_i$$=$binary$$1_buffer$$.designHeight;0>=$fileDesignWidth_textureSize$$15_winSize$$||
0>=$fileDesignHeight_i$$?(cc.log("Read design size error!\n"),$fileDesignWidth_textureSize$$15_winSize$$=cc.director.getWinSize(),ccs.uiReader.storeFileDesignSize($fileName$$,$fileDesignWidth_textureSize$$15_winSize$$)):ccs.uiReader.storeFileDesignSize($fileName$$,cc.size($fileDesignWidth_textureSize$$15_winSize$$,$fileDesignHeight_i$$));return this.nodeFromProtocolBuffers($binary$$1_buffer$$.nodeTree)},nodeFromProtocolBuffers:function $ccs$csLoader$nodeFromProtocolBuffers$($nodetree$$){var $actionTag_node$$=
null,$classname_filePath$$5_i$$=$nodetree$$.classname,$curOptions_nodeOptions_size$$;if("Node"==$classname_filePath$$5_i$$){var $actionTag_node$$=new ccs.Node,$action$$190_componentSize_guiClassName_options$$4_pageView$$1_widget$$=$nodetree$$.widgetOptions;this.setPropsForNodeFromProtocolBuffers($actionTag_node$$,$action$$190_componentSize_guiClassName_options$$4_pageView$$1_widget$$);$curOptions_nodeOptions_size$$=$action$$190_componentSize_guiClassName_options$$4_pageView$$1_widget$$}else if("SingleNode"==
$classname_filePath$$5_i$$)$actionTag_node$$=new ccs.Node,$action$$190_componentSize_guiClassName_options$$4_pageView$$1_widget$$=$nodetree$$.widgetOptions,this.setPropsForSingleNodeFromProtocolBuffers($actionTag_node$$,$action$$190_componentSize_guiClassName_options$$4_pageView$$1_widget$$),$curOptions_nodeOptions_size$$=$action$$190_componentSize_guiClassName_options$$4_pageView$$1_widget$$;else if("Sprite"==$classname_filePath$$5_i$$)$actionTag_node$$=new cc.Sprite,$curOptions_nodeOptions_size$$=
$nodetree$$.widgetOptions,$action$$190_componentSize_guiClassName_options$$4_pageView$$1_widget$$=$nodetree$$.spriteOptions,this.setPropsForSpriteFromProtocolBuffers($actionTag_node$$,$action$$190_componentSize_guiClassName_options$$4_pageView$$1_widget$$,$curOptions_nodeOptions_size$$);else if("ProjectNode"==$classname_filePath$$5_i$$){if($curOptions_nodeOptions_size$$=$nodetree$$.widgetOptions,$action$$190_componentSize_guiClassName_options$$4_pageView$$1_widget$$=$nodetree$$.projectNodeOptions,
$classname_filePath$$5_i$$=$action$$190_componentSize_guiClassName_options$$4_pageView$$1_widget$$.filename(),""!=$classname_filePath$$5_i$$&&($actionTag_node$$=this.createNodeFromProtocolBuffers(this._protocolBuffersPath+$classname_filePath$$5_i$$),this.setPropsForProjectNodeFromProtocolBuffers($actionTag_node$$,$action$$190_componentSize_guiClassName_options$$4_pageView$$1_widget$$,$curOptions_nodeOptions_size$$),$action$$190_componentSize_guiClassName_options$$4_pageView$$1_widget$$=ccs.ActionTimelineCache.createActionFromProtocolBuffers(this._protocolBuffersPath+
$classname_filePath$$5_i$$)))$actionTag_node$$.runAction($action$$190_componentSize_guiClassName_options$$4_pageView$$1_widget$$),$action$$190_componentSize_guiClassName_options$$4_pageView$$1_widget$$.gotoFrameAndPlay(0)}else if("Particle"==$classname_filePath$$5_i$$)$curOptions_nodeOptions_size$$=$nodetree$$.widgetOptions,$action$$190_componentSize_guiClassName_options$$4_pageView$$1_widget$$=$nodetree$$.particleSystemOptions,$actionTag_node$$=this.createParticleFromProtocolBuffers($action$$190_componentSize_guiClassName_options$$4_pageView$$1_widget$$,
$curOptions_nodeOptions_size$$);else if("GameMap"==$classname_filePath$$5_i$$)$curOptions_nodeOptions_size$$=$nodetree$$.widgetOptions,$action$$190_componentSize_guiClassName_options$$4_pageView$$1_widget$$=$nodetree$$.tmxTiledMapOptions,$actionTag_node$$=this.createTMXTiledMapFromProtocolBuffers($action$$190_componentSize_guiClassName_options$$4_pageView$$1_widget$$,$curOptions_nodeOptions_size$$);else if("SimpleAudio"==$classname_filePath$$5_i$$)$actionTag_node$$=new cc.Node,$action$$190_componentSize_guiClassName_options$$4_pageView$$1_widget$$=
$nodetree$$.widgetOptions,this.setPropsForSimpleAudioFromProtocolBuffers($actionTag_node$$,$action$$190_componentSize_guiClassName_options$$4_pageView$$1_widget$$),$curOptions_nodeOptions_size$$=$action$$190_componentSize_guiClassName_options$$4_pageView$$1_widget$$;else if(this.isWidget($classname_filePath$$5_i$$)){var $action$$190_componentSize_guiClassName_options$$4_pageView$$1_widget$$=this.getGUIClassName($classname_filePath$$5_i$$),$actionTag_node$$=$action$$190_componentSize_guiClassName_options$$4_pageView$$1_widget$$+
"Reader",$action$$190_componentSize_guiClassName_options$$4_pageView$$1_widget$$=ccs.objectFactory.createObject($action$$190_componentSize_guiClassName_options$$4_pageView$$1_widget$$),$component$$6_layout$$10_listView$$1_reader$$=ccs.objectFactory.createObject($actionTag_node$$);$component$$6_layout$$10_listView$$1_reader$$.setPropsFromProtocolBuffers($action$$190_componentSize_guiClassName_options$$4_pageView$$1_widget$$,$nodetree$$);$component$$6_layout$$10_listView$$1_reader$$=$nodetree$$.widgetOptions;
$actionTag_node$$=$component$$6_layout$$10_listView$$1_reader$$.actionTag;$action$$190_componentSize_guiClassName_options$$4_pageView$$1_widget$$.setUserObject(new ccs.ActionTimelineData($actionTag_node$$));$actionTag_node$$=$action$$190_componentSize_guiClassName_options$$4_pageView$$1_widget$$}else this.isCustomWidget($classname_filePath$$5_i$$)&&($action$$190_componentSize_guiClassName_options$$4_pageView$$1_widget$$=ccs.objectFactory.createObject($classname_filePath$$5_i$$),$actionTag_node$$=
this.getWidgetReaderClassName($action$$190_componentSize_guiClassName_options$$4_pageView$$1_widget$$),($component$$6_layout$$10_listView$$1_reader$$=ccs.objectFactory.createObject($actionTag_node$$))&&$action$$190_componentSize_guiClassName_options$$4_pageView$$1_widget$$?($actionTag_node$$=new ccs.WidgetPropertiesReader0300,$actionTag_node$$.setPropsForAllWidgetFromProtocolBuffers($component$$6_layout$$10_listView$$1_reader$$,$action$$190_componentSize_guiClassName_options$$4_pageView$$1_widget$$,
$nodetree$$),$component$$6_layout$$10_listView$$1_reader$$=$nodetree$$.widgetOptions,$actionTag_node$$.setPropsForAllCustomWidgetFromJsonDictionary($classname_filePath$$5_i$$,$action$$190_componentSize_guiClassName_options$$4_pageView$$1_widget$$,$component$$6_layout$$10_listView$$1_reader$$.customProperty)):cc.log("Widget or WidgetReader doesn't exists!!!  Please check your protocol buffers file."),$component$$6_layout$$10_listView$$1_reader$$=$nodetree$$.widgetOptions,$actionTag_node$$=$component$$6_layout$$10_listView$$1_reader$$.actionTag,
$action$$190_componentSize_guiClassName_options$$4_pageView$$1_widget$$.setUserObject(new ccs.ActionTimelineData($actionTag_node$$)),$actionTag_node$$=$action$$190_componentSize_guiClassName_options$$4_pageView$$1_widget$$);if($curOptions_nodeOptions_size$$)for($action$$190_componentSize_guiClassName_options$$4_pageView$$1_widget$$=$curOptions_nodeOptions_size$$.componentOptions.length,$classname_filePath$$5_i$$=0;$classname_filePath$$5_i$$<$action$$190_componentSize_guiClassName_options$$4_pageView$$1_widget$$;++$classname_filePath$$5_i$$)($component$$6_layout$$10_listView$$1_reader$$=
this.createComponentFromProtocolBuffers($curOptions_nodeOptions_size$$.componentOptions[$classname_filePath$$5_i$$]))&&$actionTag_node$$.addComponent($component$$6_layout$$10_listView$$1_reader$$);$curOptions_nodeOptions_size$$=$nodetree$$.children.length;for($classname_filePath$$5_i$$=0;$classname_filePath$$5_i$$<$curOptions_nodeOptions_size$$;++$classname_filePath$$5_i$$){var $child$$=this.nodeFromProtocolBuffers($nodetree$$.children[$classname_filePath$$5_i$$]);$child$$&&($component$$6_layout$$10_listView$$1_reader$$=
$action$$190_componentSize_guiClassName_options$$4_pageView$$1_widget$$=$actionTag_node$$,$action$$190_componentSize_guiClassName_options$$4_pageView$$1_widget$$ instanceof ccui.PageView?($component$$6_layout$$10_listView$$1_reader$$=$child$$,$component$$6_layout$$10_listView$$1_reader$$ instanceof ccui.Layout&&$action$$190_componentSize_guiClassName_options$$4_pageView$$1_widget$$.addPage($component$$6_layout$$10_listView$$1_reader$$)):$component$$6_layout$$10_listView$$1_reader$$ instanceof ccui.ListView?
($action$$190_componentSize_guiClassName_options$$4_pageView$$1_widget$$=$child$$,$action$$190_componentSize_guiClassName_options$$4_pageView$$1_widget$$ instanceof ccui.Widget&&$component$$6_layout$$10_listView$$1_reader$$.pushBackCustomItem($action$$190_componentSize_guiClassName_options$$4_pageView$$1_widget$$)):$actionTag_node$$.addChild($child$$))}return $actionTag_node$$},setRecordProtocolBuffersPath:function $ccs$csLoader$setRecordProtocolBuffersPath$($record$$){this._recordProtocolBuffersPath=
$record$$},isRecordProtocolBuffersPath:function $ccs$csLoader$isRecordProtocolBuffersPath$(){return this._recordProtocolBuffersPath},setProtocolBuffersPath:function $ccs$csLoader$setProtocolBuffersPath$($protocolBuffersPath$$){this._protocolBuffersPath=$protocolBuffersPath$$},getProtocolBuffersPath:function $ccs$csLoader$getProtocolBuffersPath$(){return this._protocolBuffersPath},loadNode:function $ccs$csLoader$loadNode$($json$$){var $node$$=null,$length$$=$json$$[ccui.CSLoaderStatic.CLASSNAME],$child$$74_components_func$$11_layout$$=
this._funcs[$length$$];if(null!=$child$$74_components_func$$11_layout$$){var $i$$437_options$$=$json$$[ccui.CSLoaderStatic.OPTIONS];if($node$$=$child$$74_components_func$$11_layout$$($i$$437_options$$))for(var $child$$74_components_func$$11_layout$$=$i$$437_options$$[ccui.CSLoaderStatic.COMPONENTS],$componentSize$$1_pageView$$2_widget$$=$i$$437_options$$[ccui.CSLoaderStatic.COMPONENTS]||0,$i$$437_options$$=0;$i$$437_options$$<$componentSize$$1_pageView$$2_widget$$;++$i$$437_options$$){var $component$$7_dic_listView$$2_parent$$=
$child$$74_components_func$$11_layout$$[ccui.CSLoaderStatic.COMPONENTS][$i$$437_options$$];($component$$7_dic_listView$$2_parent$$=this.loadComponent($component$$7_dic_listView$$2_parent$$))&&$node$$.addComponent($component$$7_dic_listView$$2_parent$$)}}if($node$$)for($length$$=$json$$[ccui.CSLoaderStatic.CHILDREN].length||0,$i$$437_options$$=0;$i$$437_options$$<$length$$;$i$$437_options$$++){if($component$$7_dic_listView$$2_parent$$=$json$$[ccui.CSLoaderStatic.CHILDREN][$i$$437_options$$],$child$$74_components_func$$11_layout$$=
this.loadNode($component$$7_dic_listView$$2_parent$$))if($component$$7_dic_listView$$2_parent$$=$componentSize$$1_pageView$$2_widget$$=$node$$,$componentSize$$1_pageView$$2_widget$$ instanceof ccui.PageView)$child$$74_components_func$$11_layout$$ instanceof ccui.Layout&&$componentSize$$1_pageView$$2_widget$$.addPage($child$$74_components_func$$11_layout$$);else if($component$$7_dic_listView$$2_parent$$ instanceof ccui.ListView)$componentSize$$1_pageView$$2_widget$$=$child$$74_components_func$$11_layout$$,
$componentSize$$1_pageView$$2_widget$$ instanceof ccui.Widget&&$component$$7_dic_listView$$2_parent$$.pushBackCustomItem($componentSize$$1_pageView$$2_widget$$);else{if("3.x"!=this._monoCocos2dxVersion&&($componentSize$$1_pageView$$2_widget$$=$child$$74_components_func$$11_layout$$,$component$$7_dic_listView$$2_parent$$=$node$$,$componentSize$$1_pageView$$2_widget$$ instanceof ccui.Widget&&$component$$7_dic_listView$$2_parent$$ instanceof ccui.Widget&&!($component$$7_dic_listView$$2_parent$$ instanceof
ccui.Layout)))if($componentSize$$1_pageView$$2_widget$$.getPositionType()==ccui.Widget.POSITION_PERCENT)$componentSize$$1_pageView$$2_widget$$.setPositionPercent(cc.p($componentSize$$1_pageView$$2_widget$$.getPositionPercent().x+$component$$7_dic_listView$$2_parent$$.getAnchorPoint().x,$componentSize$$1_pageView$$2_widget$$.getPositionPercent().y+$component$$7_dic_listView$$2_parent$$.getAnchorPoint().y)),$componentSize$$1_pageView$$2_widget$$.setPosition(cc.p($componentSize$$1_pageView$$2_widget$$.getPositionX()+
$component$$7_dic_listView$$2_parent$$.getAnchorPointInPoints().x,$componentSize$$1_pageView$$2_widget$$.getPositionY()+$component$$7_dic_listView$$2_parent$$.getAnchorPointInPoints().y));else{var $parentSize$$=$component$$7_dic_listView$$2_parent$$.getContentSize();$componentSize$$1_pageView$$2_widget$$.setPosition(cc.p($componentSize$$1_pageView$$2_widget$$.getPositionX()+$parentSize$$.width*$component$$7_dic_listView$$2_parent$$.getAnchorPoint().x,$componentSize$$1_pageView$$2_widget$$.getPositionY()+
$parentSize$$.height*$component$$7_dic_listView$$2_parent$$.getAnchorPoint().y))}$node$$.addChild($child$$74_components_func$$11_layout$$)}}else cc.log("Not supported NodeType: %s",$length$$);return $node$$},locateNodeWithMulresPosition:function $ccs$csLoader$locateNodeWithMulresPosition$($node$$,$json$$){},initNode:function $ccs$csLoader$initNode$($node$$,$json$$){var $width$$=null!=$json$$[ccui.CSLoaderStatic.WIDTH]?$json$$[ccui.CSLoaderStatic.WIDTH]:0,$height$$=null!=$json$$[ccui.CSLoaderStatic.HEIGHT]?
$json$$[ccui.CSLoaderStatic.HEIGHT]:0,$x$$=null!=$json$$[ccui.CSLoaderStatic.X]?$json$$[ccui.CSLoaderStatic.X]:0,$y$$=null!=$json$$[ccui.CSLoaderStatic.Y]?$json$$[ccui.CSLoaderStatic.Y]:0,$scalex$$=null!=$json$$[ccui.CSLoaderStatic.SCALE_X]?$json$$[ccui.CSLoaderStatic.SCALE_X]:1,$scaley$$=null!=$json$$[ccui.CSLoaderStatic.SCALE_Y]?$json$$[ccui.CSLoaderStatic.SCALE_Y]:1,$rotation$$=null!=$json$$[ccui.CSLoaderStatic.ROTATION]?$json$$[ccui.CSLoaderStatic.ROTATION]:0,$rotationSkewX$$=null!=$json$$[ccui.CSLoaderStatic.ROTATION_SKEW_X]?
$json$$[ccui.CSLoaderStatic.ROTATION_SKEW_X]:0,$rotationSkewY$$=null!=$json$$[ccui.CSLoaderStatic.ROTATION_SKEW_Y]?$json$$[ccui.CSLoaderStatic.ROTATION_SKEW_Y]:0,$skewx$$=null!=$json$$[ccui.CSLoaderStatic.SKEW_X]?$json$$[ccui.CSLoaderStatic.SKEW_X]:0,$skewy$$=null!=$json$$[ccui.CSLoaderStatic.SKEW_Y]?$json$$[ccui.CSLoaderStatic.SKEW_Y]:0,$anchorx$$=null!=$json$$[ccui.CSLoaderStatic.ANCHOR_X]?$json$$[ccui.CSLoaderStatic.ANCHOR_X]:.5,$anchory$$=null!=$json$$[ccui.CSLoaderStatic.ANCHOR_Y]?$json$$[ccui.CSLoaderStatic.ANCHOR_Y]:
.5,$alpha$$=null!=$json$$[ccui.CSLoaderStatic.ALPHA]?$json$$[ccui.CSLoaderStatic.ALPHA]:255,$red$$=null!=$json$$[ccui.CSLoaderStatic.RED]?$json$$[ccui.CSLoaderStatic.RED]:255,$green$$=null!=$json$$[ccui.CSLoaderStatic.GREEN]?$json$$[ccui.CSLoaderStatic.GREEN]:255,$blue$$=null!=$json$$[ccui.CSLoaderStatic.BLUE]?$json$$[ccui.CSLoaderStatic.BLUE]:255,$zorder$$=null!=$json$$[ccui.CSLoaderStatic.ZORDER]?$json$$[ccui.CSLoaderStatic.ZORDER]:0,$tag$$=null!=$json$$[ccui.CSLoaderStatic.TAG]?$json$$[ccui.CSLoaderStatic.TAG]:
0,$actionTag$$=null!=$json$$[ccui.CSLoaderStatic.ACTION_TAG]?$json$$[ccui.CSLoaderStatic.ACTION_TAG]:0,$visible$$=null!=$json$$[ccui.CSLoaderStatic.VISIBLE]?$json$$[ccui.CSLoaderStatic.VISIBLE]:!0;0==$x$$&&0==$y$$||$node$$.setPosition(cc.p($x$$,$y$$));1!=$scalex$$&&$node$$.setScaleX($scalex$$);1!=$scaley$$&&$node$$.setScaleY($scaley$$);0!=$rotation$$&&$node$$.setRotation($rotation$$);0!=$rotationSkewX$$&&$node$$.setRotationX($rotationSkewX$$);0!=$rotationSkewY$$&&$node$$.setRotationY($rotationSkewY$$);
0!=$skewx$$&&$node$$.setSkewX($skewx$$);0!=$skewy$$&&$node$$.setSkewY($skewy$$);.5==$anchorx$$&&.5==$anchory$$||$node$$.setAnchorPoint(cc.p($anchorx$$,$anchory$$));0==$width$$&&0==$height$$||$node$$.setContentSize(cc.size($width$$,$height$$));0!=$zorder$$&&$node$$.setLocalZOrder($zorder$$);1!=$visible$$&&$node$$.setVisible($visible$$);255!=$alpha$$&&$node$$.setOpacity($alpha$$);255==$red$$&&255==$green$$&&255==$blue$$||$node$$.setColor(cc.color($red$$,$green$$,$blue$$));$node$$.setTag($tag$$);$node$$.setUserObject(new ccs.ActionTimelineData($actionTag$$))},
loadSimpleNode:function $ccs$csLoader$loadSimpleNode$($json$$){var $node$$=new ccs.Node;this.initNode($node$$,$json$$);return $node$$},loadSubGraph:function $ccs$csLoader$loadSubGraph$($json$$){var $filePath$$=$json$$[ccui.CSLoaderStatic.FILE_PATH],$node$$=null,$node$$=$filePath$$&&""!=$filePath$$?this.createNode($filePath$$):new ccs.Node;this.initNode($node$$,$json$$);return $node$$},loadSprite:function $ccs$csLoader$loadSprite$($flipY$$2_json$$){var $filePath$$7_flipX$$2_spriteFrame$$=$flipY$$2_json$$[ccui.CSLoaderStatic.FILE_PATH],
$path$$10_sprite$$=null;null!=$filePath$$7_flipX$$2_spriteFrame$$?($path$$10_sprite$$=$filePath$$7_flipX$$2_spriteFrame$$,($filePath$$7_flipX$$2_spriteFrame$$=cc.spriteFrameCache.getSpriteFrame($path$$10_sprite$$))?$path$$10_sprite$$=ccs.Sprite.createWithSpriteFrame($filePath$$7_flipX$$2_spriteFrame$$):($path$$10_sprite$$=this._jsonPath+$path$$10_sprite$$,$path$$10_sprite$$=new ccs.Sprite($path$$10_sprite$$)),$path$$10_sprite$$||($path$$10_sprite$$=new cc.Sprite,cc.log("filePath is empty. Create a sprite with no texture"))):
$path$$10_sprite$$=new ccs.Sprite;this.initNode($path$$10_sprite$$,$flipY$$2_json$$);$filePath$$7_flipX$$2_spriteFrame$$=$flipY$$2_json$$[ccui.CSLoaderStatic.FLIPX];$flipY$$2_json$$=$flipY$$2_json$$[ccui.CSLoaderStatic.FLIPY];0!=$filePath$$7_flipX$$2_spriteFrame$$&&$path$$10_sprite$$.setFlippedX($filePath$$7_flipX$$2_spriteFrame$$);0!=$flipY$$2_json$$&&$path$$10_sprite$$.setFlippedY($flipY$$2_json$$);return $path$$10_sprite$$},loadParticle:function $ccs$csLoader$loadParticle$($json$$){var $num$$=
$json$$[ccui.CSLoaderStatic.PARTICLE_NUM],$particle$$=new cc.ParticleSystemQuad($json$$[ccui.CSLoaderStatic.PLIST_FILE]);$particle$$.setTotalParticles($num$$);this.initNode($particle$$,$json$$);return $particle$$},loadTMXTiledMap:function $ccs$csLoader$loadTMXTiledMap$($json$$7_resourcePath$$){var $tmxFile$$=$json$$7_resourcePath$$[ccui.CSLoaderStatic.TMX_FILE],$tmxString$$=$json$$7_resourcePath$$[ccui.CSLoaderStatic.TMX_STRING];$json$$7_resourcePath$$=$json$$7_resourcePath$$[ccui.CSLoaderStatic.RESOURCE_PATH];
var $tmx$$=null;$tmxFile$$&&""!=$tmxFile$$?$tmx$$=new cc.TMXTiledMap($tmxFile$$):$tmxString$$&&""!=$tmxString$$&&$json$$7_resourcePath$$&&""!=$json$$7_resourcePath$$&&($tmx$$=new cc.TMXTiledMap($tmxString$$,$json$$7_resourcePath$$));return $tmx$$},loadWidget:function $ccs$csLoader$loadWidget$($json$$){var $rotationSkewY$$1_str$$=$json$$[ccui.CSLoaderStatic.CLASSNAME];if(null==$rotationSkewY$$1_str$$)return null;var $rotationSkewX$$1_widgetPropertiesReader$$=new ccs.WidgetPropertiesReader0300,$guiClassName$$1_widget$$=
null;if(this.isWidget($rotationSkewY$$1_str$$)){var $reader$$3_readerName$$1_skewx$$=this.getGUIClassName($rotationSkewY$$1_str$$),$reader$$3_readerName$$1_skewx$$=$reader$$3_readerName$$1_skewx$$+"Reader",$guiClassName$$1_widget$$=this.getGUIClassName($rotationSkewY$$1_str$$),$guiClassName$$1_widget$$=ccs.objectFactory.createObject($guiClassName$$1_widget$$),$reader$$3_readerName$$1_skewx$$=ccs.objectFactory.createObject($reader$$3_readerName$$1_skewx$$);$rotationSkewX$$1_widgetPropertiesReader$$.setPropsForAllWidgetFromJsonDictionary($reader$$3_readerName$$1_skewx$$,
$guiClassName$$1_widget$$,$json$$)}else this.isCustomWidget($rotationSkewY$$1_str$$)&&($guiClassName$$1_widget$$=ccs.objectFactory.createObject($rotationSkewY$$1_str$$),$reader$$3_readerName$$1_skewx$$=this.getWidgetReaderClassName($guiClassName$$1_widget$$),($reader$$3_readerName$$1_skewx$$=ccs.objectFactory.createObject($reader$$3_readerName$$1_skewx$$))&&$guiClassName$$1_widget$$?($rotationSkewX$$1_widgetPropertiesReader$$.setPropsForAllWidgetFromJsonDictionary($reader$$3_readerName$$1_skewx$$,
$guiClassName$$1_widget$$,$json$$),$rotationSkewX$$1_widgetPropertiesReader$$.setPropsForAllCustomWidgetFromJsonDictionary($rotationSkewY$$1_str$$,$guiClassName$$1_widget$$,$json$$.customProperty)):cc.log("Widget or WidgetReader doesn't exists!!!  Please check your protocol buffers file."));if($guiClassName$$1_widget$$){var $rotationSkewX$$1_widgetPropertiesReader$$=$json$$[ccui.CSLoaderStatic.ROTATION_SKEW_X],$rotationSkewY$$1_str$$=$json$$[ccui.CSLoaderStatic.ROTATION_SKEW_Y],$reader$$3_readerName$$1_skewx$$=
$json$$[ccui.CSLoaderStatic.SKEW_X],$skewy$$=$json$$[ccui.CSLoaderStatic.SKEW_Y];0!=$rotationSkewX$$1_widgetPropertiesReader$$&&$guiClassName$$1_widget$$.setRotationX($rotationSkewX$$1_widgetPropertiesReader$$);0!=$rotationSkewY$$1_str$$&&$guiClassName$$1_widget$$.setRotationY($rotationSkewY$$1_str$$);0!=$reader$$3_readerName$$1_skewx$$&&$guiClassName$$1_widget$$.setSkewX($reader$$3_readerName$$1_skewx$$);0!=$skewy$$&&$guiClassName$$1_widget$$.setSkewY($skewy$$);$guiClassName$$1_widget$$.setUserObject(new ccs.ActionTimelineData($json$$[ccui.CSLoaderStatic.ACTION_TAG]))}return $guiClassName$$1_widget$$},
loadComponent:function $ccs$csLoader$loadComponent$($json$$){var $component$$=null,$func$$=this._componentFuncs[$json$$[ccui.CSLoaderStatic.COMPONENT_TYPE]];null!=$func$$&&($component$$=$func$$($json$$));return $component$$},loadComAudio:function $ccs$csLoader$loadComAudio$($json$$){var $audio$$=new ccs.ComAudio,$enabled$$25_loop$$=$json$$[ccui.CSLoaderStatic.COMPONENT_ENABLED];$audio$$.setName($json$$[ccui.CSLoaderStatic.COMPONENT_NAME]);$audio$$.setEnabled($enabled$$25_loop$$);$enabled$$25_loop$$=
$json$$[ccui.CSLoaderStatic.COMPONENT_LOOP];$audio$$.setFile($json$$[ccui.CSLoaderStatic.COMPONENT_AUDIO_FILE_PATH]);$audio$$.setLoop($enabled$$25_loop$$);return $audio$$},setPropsForNodeFromProtocolBuffers:function $ccs$csLoader$setPropsForNodeFromProtocolBuffers$($node$$,$nodeOptions$$){var $x$$=$nodeOptions$$.x,$y$$=$nodeOptions$$.y,$scalex$$=$nodeOptions$$.scaleX,$scaley$$=$nodeOptions$$.scaleY,$rotation$$=$nodeOptions$$.rotation,$rotationSkewX$$=null!==$nodeOptions$$.rotationSkewX?$nodeOptions$$.rotationSkewX:
0,$rotationSkewY$$=null!==$nodeOptions$$.rotationSkewY?$nodeOptions$$.rotationSkewY:0,$anchorx$$=null!==$nodeOptions$$.anchorPointX?$nodeOptions$$.anchorPointX:.5,$anchory$$=null!==$nodeOptions$$.anchorPointY?$nodeOptions$$.anchorPointY:.5,$zorder$$=$nodeOptions$$.zorder,$tag$$=$nodeOptions$$.tag,$actionTag$$=$nodeOptions$$.actionTag,$visible$$=$nodeOptions$$.visible;$node$$.setName($nodeOptions$$.name);0==$x$$&&0==$y$$||$node$$.setPosition(cc.p($x$$,$y$$));1!=$scalex$$&&$node$$.setScaleX($scalex$$);
1!=$scaley$$&&$node$$.setScaleY($scaley$$);0!=$rotation$$&&$node$$.setRotation($rotation$$);0!=$rotationSkewX$$&&$node$$.setRotationX($rotationSkewX$$);0!=$rotationSkewY$$&&$node$$.setRotationY($rotationSkewY$$);.5==$anchorx$$&&.5==$anchory$$||$node$$.setAnchorPoint(cc.p($anchorx$$,$anchory$$));0!=$zorder$$&&$node$$.setLocalZOrder($zorder$$);1!=$visible$$&&$node$$.setVisible($visible$$);$node$$.setTag($tag$$);$node$$.setUserObject(new ccs.ActionTimelineData($actionTag$$));$node$$.setCascadeColorEnabled(!0);
$node$$.setCascadeOpacityEnabled(!0)},setPropsForSingleNodeFromProtocolBuffers:function $ccs$csLoader$setPropsForSingleNodeFromProtocolBuffers$($node$$,$nodeOptions$$){this.setPropsForNodeFromProtocolBuffers($node$$,$nodeOptions$$)},setPropsForSpriteFromProtocolBuffers:function $ccs$csLoader$setPropsForSpriteFromProtocolBuffers$($node$$,$flipY$$,$blue$$10_flipX$$3_nodeOptions$$){var $alpha$$17_fileNameData_path$$=$flipY$$.fileNameData;switch($alpha$$17_fileNameData_path$$.resourceType){case 0:$alpha$$17_fileNameData_path$$=
this._protocolBuffersPath+$alpha$$17_fileNameData_path$$.path;""!=$alpha$$17_fileNameData_path$$&&$node$$.setTexture($alpha$$17_fileNameData_path$$);break;case 1:cc.spriteFrameCache.addSpriteFrames(this._protocolBuffersPath+$alpha$$17_fileNameData_path$$.plistFile),$alpha$$17_fileNameData_path$$=$alpha$$17_fileNameData_path$$.path,""!=$alpha$$17_fileNameData_path$$&&$node$$.setSpriteFrame($alpha$$17_fileNameData_path$$)}this.setPropsForNodeFromProtocolBuffers($node$$,$blue$$10_flipX$$3_nodeOptions$$);
var $alpha$$17_fileNameData_path$$=null!==$blue$$10_flipX$$3_nodeOptions$$.Alpha?$blue$$10_flipX$$3_nodeOptions$$.Alpha:255,$red$$=null!==$blue$$10_flipX$$3_nodeOptions$$.colorR?$blue$$10_flipX$$3_nodeOptions$$.colorR:255,$green$$=null!==$blue$$10_flipX$$3_nodeOptions$$.colorG?$blue$$10_flipX$$3_nodeOptions$$.colorG:255;$blue$$10_flipX$$3_nodeOptions$$=null!==$blue$$10_flipX$$3_nodeOptions$$.colorB?$blue$$10_flipX$$3_nodeOptions$$.colorB:255;255!=$alpha$$17_fileNameData_path$$&&$node$$.setOpacity($alpha$$17_fileNameData_path$$);
255==$red$$&&255==$green$$&&255==$blue$$10_flipX$$3_nodeOptions$$||$node$$.setColor(cc.color($red$$,$green$$,$blue$$10_flipX$$3_nodeOptions$$));$blue$$10_flipX$$3_nodeOptions$$=$flipY$$.flippedX;$flipY$$=$flipY$$.flippedY;$blue$$10_flipX$$3_nodeOptions$$&&$node$$.setFlippedX($blue$$10_flipX$$3_nodeOptions$$);$flipY$$&&$node$$.setFlippedY($flipY$$)},createParticleFromProtocolBuffers:function $ccs$csLoader$createParticleFromProtocolBuffers$($particleSystemOptions$$,$nodeOptions$$){var $node$$=null,
$fileNameData$$1_path$$=$particleSystemOptions$$.fileNameData;switch($fileNameData$$1_path$$.resourceType){case 0:$fileNameData$$1_path$$=this._protocolBuffersPath+$fileNameData$$1_path$$.path,""!=$fileNameData$$1_path$$&&($node$$=new cc.ParticleSystemQuad($fileNameData$$1_path$$))}$node$$&&this.setPropsForNodeFromProtocolBuffers($node$$,$nodeOptions$$);return $node$$},createTMXTiledMapFromProtocolBuffers:function $ccs$csLoader$createTMXTiledMapFromProtocolBuffers$($tmxTiledMapOptions$$,$nodeOptions$$){var $node$$=
null,$fileNameData$$2_tmxFile$$=$tmxTiledMapOptions$$.fileNameData;switch($fileNameData$$2_tmxFile$$.resourceType){case 0:($fileNameData$$2_tmxFile$$=this._protocolBuffersPath+$fileNameData$$2_tmxFile$$.path)&&""!=$fileNameData$$2_tmxFile$$&&($node$$=new cc.TMXTiledMap($fileNameData$$2_tmxFile$$))}$node$$&&this.setPropsForNodeFromProtocolBuffers($node$$,$nodeOptions$$);return $node$$},setPropsForProjectNodeFromProtocolBuffers:function $ccs$csLoader$setPropsForProjectNodeFromProtocolBuffers$($node$$,
$projectNodeOptions$$,$nodeOptions$$){this.setPropsForNodeFromProtocolBuffers($node$$,$nodeOptions$$)},setPropsForSimpleAudioFromProtocolBuffers:function $ccs$csLoader$setPropsForSimpleAudioFromProtocolBuffers$($node$$,$nodeOptions$$){this.setPropsForNodeFromProtocolBuffers($node$$,$nodeOptions$$)},createComponentFromProtocolBuffers:function $ccs$csLoader$createComponentFromProtocolBuffers$($componentOptions$$){var $component$$=null;"ComAudio"==$componentOptions$$.type&&($component$$=new ccs.ComAudio,
this.setPropsForComAudioFromProtocolBuffers($component$$,$componentOptions$$.comAudioOptions));return $component$$},setPropsForComponentFromProtocolBuffers:function $ccs$csLoader$setPropsForComponentFromProtocolBuffers$($component$$,$componentOptions$$){"ComAudio"==$componentOptions$$.type&&($component$$=new ccs.ComAudio,this.setPropsForComAudioFromProtocolBuffers($component$$,$componentOptions$$.comAudioOptions))},setPropsForComAudioFromProtocolBuffers:function $ccs$csLoader$setPropsForComAudioFromProtocolBuffers$($component$$,
$comAudioOptions$$){var $fileNameData$$=$comAudioOptions$$.fileNameData;switch($fileNameData$$.resourceType){case 0:$component$$.setFile(this._protocolBuffersPath+$fileNameData$$.path)}$component$$.setLoop($comAudioOptions$$.loop);$component$$.setName($comAudioOptions$$.name);$component$$.setLoop($comAudioOptions$$.loop)},isWidget:function $ccs$csLoader$isWidget$($type$$){return $type$$==ccui.CSLoaderStatic.ClassName_Panel||$type$$==ccui.CSLoaderStatic.ClassName_Button||$type$$==ccui.CSLoaderStatic.ClassName_CheckBox||
$type$$==ccui.CSLoaderStatic.ClassName_ImageView||$type$$==ccui.CSLoaderStatic.ClassName_TextAtlas||$type$$==ccui.CSLoaderStatic.ClassName_LabelAtlas||$type$$==ccui.CSLoaderStatic.ClassName_LabelBMFont||$type$$==ccui.CSLoaderStatic.ClassName_TextBMFont||$type$$==ccui.CSLoaderStatic.ClassName_Text||$type$$==ccui.CSLoaderStatic.ClassName_LoadingBar||$type$$==ccui.CSLoaderStatic.ClassName_TextField||$type$$==ccui.CSLoaderStatic.ClassName_Slider||$type$$==ccui.CSLoaderStatic.ClassName_Layout||$type$$==
ccui.CSLoaderStatic.ClassName_ScrollView||$type$$==ccui.CSLoaderStatic.ClassName_ListView||$type$$==ccui.CSLoaderStatic.ClassName_PageView||$type$$==ccui.CSLoaderStatic.ClassName_Widget||$type$$==ccui.CSLoaderStatic.ClassName_Label},isCustomWidget:function $ccs$csLoader$isCustomWidget$($type$$){return ccs.objectFactory.createObject($type$$)?!0:!1},getGUIClassName:function $ccs$csLoader$getGUIClassName$($name$$){var $convertedClassName$$=$name$$;"Panel"==$name$$?$convertedClassName$$="Layout":"TextArea"==
$name$$?$convertedClassName$$="Text":"TextButton"==$name$$?$convertedClassName$$="Button":"Label"==$name$$?$convertedClassName$$="Text":"LabelAtlas"==$name$$?$convertedClassName$$="TextAtlas":"LabelBMFont"==$name$$&&($convertedClassName$$="TextBMFont");return $convertedClassName$$},getWidgetReaderClassName:function $ccs$csLoader$getWidgetReaderClassName$($widget$$){var $readerName$$;$widget$$ instanceof ccui.Button?$readerName$$="ButtonReader":$widget$$ instanceof ccui.CheckBox?$readerName$$="CheckBoxReader":
$widget$$ instanceof ccui.ImageView?$readerName$$="ImageViewReader":$widget$$ instanceof ccui.TextAtlas?$readerName$$="TextAtlasReader":$widget$$ instanceof ccui.TextBMFont?$readerName$$="TextBMFontReader":$widget$$ instanceof ccui.Text?$readerName$$="TextReader":$widget$$ instanceof ccui.LoadingBar?$readerName$$="LoadingBarReader":$widget$$ instanceof ccui.Slider?$readerName$$="SliderReader":$widget$$ instanceof ccui.TextField?$readerName$$="TextFieldReader":$widget$$ instanceof ccui.ListView?$readerName$$=
"ListViewReader":$widget$$ instanceof ccui.PageView?$readerName$$="PageViewReader":$widget$$ instanceof ccui.ScrollView?$readerName$$="ScrollViewReader":$widget$$ instanceof ccui.Layout?$readerName$$="LayoutReader":$widget$$ instanceof ccui.Widget&&($readerName$$="WidgetReader");return $readerName$$}};ccs.csLoader.init();ccs.VERSION_COMBINED=.3;ccs.VERSION_CHANGE_ROTATION_RANGE=1;ccs.VERSION_COLOR_READING=1.1;ccs.MAX_VERTEXZ_VALUE=5E6;ccs.ARMATURE_MAX_CHILD=50;ccs.ARMATURE_MAX_ZORDER=100;
ccs.ARMATURE_MAX_COUNT=ccs.MAX_VERTEXZ_VALUE/ccs.ARMATURE_MAX_CHILD/ccs.ARMATURE_MAX_ZORDER;ccs.AUTO_ADD_SPRITE_FRAME_NAME_PREFIX=!1;ccs.ENABLE_PHYSICS_CHIPMUNK_DETECT=!1;ccs.ENABLE_PHYSICS_SAVE_CALCULATED_VERTEX=!1;ccs.armatureVersion=function $ccs$armatureVersion$(){return"v1.1.0.0"};ccs.CONST_VERSION="version";ccs.CONST_VERSION_2_0=2;ccs.CONST_VERSION_COMBINED=.3;ccs.CONST_ARMATURES="armatures";ccs.CONST_ARMATURE="armature";ccs.CONST_BONE="b";ccs.CONST_DISPLAY="d";ccs.CONST_ANIMATIONS="animations";
ccs.CONST_ANIMATION="animation";ccs.CONST_MOVEMENT="mov";ccs.CONST_FRAME="f";ccs.CONST_TEXTURE_ATLAS="TextureAtlas";ccs.CONST_SUB_TEXTURE="SubTexture";ccs.CONST_SKELETON="skeleton";ccs.CONST_A_NAME="name";ccs.CONST_A_DURATION="dr";ccs.CONST_A_FRAME_INDEX="fi";ccs.CONST_A_DURATION_TO="to";ccs.CONST_A_DURATION_TWEEN="drTW";ccs.CONST_A_LOOP="lp";ccs.CONST_A_MOVEMENT_SCALE="sc";ccs.CONST_A_MOVEMENT_DELAY="dl";ccs.CONST_A_DISPLAY_INDEX="dI";ccs.CONST_A_PLIST="plist";ccs.CONST_A_PARENT="parent";
ccs.CONST_A_SKEW_X="kX";ccs.CONST_A_SKEW_Y="kY";ccs.CONST_A_SCALE_X="cX";ccs.CONST_A_SCALE_Y="cY";ccs.CONST_A_Z="z";ccs.CONST_A_EVENT="evt";ccs.CONST_A_SOUND="sd";ccs.CONST_A_SOUND_EFFECT="sdE";ccs.CONST_A_TWEEN_EASING="twE";ccs.CONST_A_EASING_PARAM="twEP";ccs.CONST_A_TWEEN_ROTATE="twR";ccs.CONST_A_IS_ARMATURE="isArmature";ccs.CONST_A_DISPLAY_TYPE="displayType";ccs.CONST_A_MOVEMENT="mov";ccs.CONST_A_X="x";ccs.CONST_A_Y="y";ccs.CONST_A_COCOS2DX_X="cocos2d_x";ccs.CONST_A_COCOS2DX_Y="cocos2d_y";
ccs.CONST_A_WIDTH="width";ccs.CONST_A_HEIGHT="height";ccs.CONST_A_PIVOT_X="pX";ccs.CONST_A_PIVOT_Y="pY";ccs.CONST_A_COCOS2D_PIVOT_X="cocos2d_pX";ccs.CONST_A_COCOS2D_PIVOT_Y="cocos2d_pY";ccs.CONST_A_BLEND_TYPE="bd";ccs.CONST_A_BLEND_SRC="bd_src";ccs.CONST_A_BLEND_DST="bd_dst";ccs.CONST_A_ALPHA="a";ccs.CONST_A_RED="r";ccs.CONST_A_GREEN="g";ccs.CONST_A_BLUE="b";ccs.CONST_A_ALPHA_OFFSET="aM";ccs.CONST_A_RED_OFFSET="rM";ccs.CONST_A_GREEN_OFFSET="gM";ccs.CONST_A_BLUE_OFFSET="bM";
ccs.CONST_A_COLOR_TRANSFORM="colorTransform";ccs.CONST_A_TWEEN_FRAME="tweenFrame";ccs.CONST_CONTOUR="con";ccs.CONST_CONTOUR_VERTEX="con_vt";ccs.CONST_FL_NAN="NaN";ccs.CONST_FRAME_DATA="frame_data";ccs.CONST_MOVEMENT_BONE_DATA="mov_bone_data";ccs.CONST_MOVEMENT_DATA="mov_data";ccs.CONST_ANIMATION_DATA="animation_data";ccs.CONST_DISPLAY_DATA="display_data";ccs.CONST_SKIN_DATA="skin_data";ccs.CONST_BONE_DATA="bone_data";ccs.CONST_ARMATURE_DATA="armature_data";ccs.CONST_CONTOUR_DATA="contour_data";
ccs.CONST_TEXTURE_DATA="texture_data";ccs.CONST_VERTEX_POINT="vertex";ccs.CONST_COLOR_INFO="color";ccs.CONST_CONFIG_FILE_PATH="config_file_path";ccs.CONST_CONTENT_SCALE="content_scale";ccs.DataInfo=function $ccs$DataInfo$(){this.asyncStruct=null;this.configFileQueue=[];this.contentScale=1;this.baseFilePath=this.filename="";this.cocoStudioVersion=this.flashToolVersion=0};
ccs.dataReaderHelper={ConfigType:{DragonBone_XML:0,CocoStudio_JSON:1,CocoStudio_Binary:2},_configFileList:[],_flashToolVersion:ccs.CONST_VERSION_2_0,_positionReadScale:1,_asyncRefCount:0,_asyncRefTotalCount:0,_dataQueue:null,setPositionReadScale:function $ccs$dataReaderHelper$setPositionReadScale$($scale$$){this._positionReadScale=$scale$$},getPositionReadScale:function $ccs$dataReaderHelper$getPositionReadScale$(){return this._positionReadScale},addDataFromFile:function $ccs$dataReaderHelper$addDataFromFile$($filePath$$){if(-1==
this._configFileList.indexOf($filePath$$)){this._configFileList.push($filePath$$);var $basefilePath$$=this._initBaseFilePath($filePath$$),$str$$=cc.path.extname($filePath$$).toLowerCase(),$dataInfo$$=new ccs.DataInfo;$dataInfo$$.filename=$filePath$$;$dataInfo$$.basefilePath=$basefilePath$$;".xml"==$str$$?ccs.dataReaderHelper.addDataFromXML($filePath$$,$dataInfo$$):".json"==$str$$||".exportjson"==$str$$?ccs.dataReaderHelper.addDataFromJson($filePath$$,$dataInfo$$):".csb"==$str$$&&ccs.dataReaderHelper.addDataFromBinaryCache($filePath$$,
$dataInfo$$)}},addDataFromFileAsync:function $ccs$dataReaderHelper$addDataFromFileAsync$($imagePath$$,$plistPath$$,$filePath$$,$selector$$,$target$$){if(-1!=this._configFileList.indexOf($filePath$$))$target$$&&$selector$$&&(0==this._asyncRefTotalCount&&0==this._asyncRefCount?this._asyncCallBack($selector$$,$target$$,1):this._asyncCallBack($selector$$,$target$$,(this._asyncRefTotalCount-this._asyncRefCount)/this._asyncRefTotalCount));else{this._asyncRefTotalCount++;this._asyncRefCount++;var $self$$=
this;cc.director.getScheduler().scheduleCallbackForTarget(this,function(){$self$$.addDataFromFile($filePath$$);$self$$._asyncRefCount--;$self$$._asyncCallBack($selector$$,$target$$,($self$$._asyncRefTotalCount-$self$$._asyncRefCount)/$self$$._asyncRefTotalCount)},.1,!1)}},removeConfigFile:function $ccs$dataReaderHelper$removeConfigFile$($configFile$$){for(var $locFileList$$=this._configFileList,$len$$=$locFileList$$.length,$it$$=$locFileList$$[$len$$],$i$$=0;$i$$<$len$$;$i$$++)$locFileList$$[$i$$]==
$configFile$$&&($it$$=$i$$);$it$$!=$locFileList$$[$len$$]&&cc.arrayRemoveObject($locFileList$$,$configFile$$)},addDataFromCache:function $ccs$dataReaderHelper$addDataFromCache$($skeleton$$,$dataInfo$$){if($skeleton$$){$dataInfo$$.flashToolVersion=parseFloat($skeleton$$.getAttribute(ccs.CONST_VERSION));var $animationsXML_armaturesXML_texturesXML$$=$skeleton$$.querySelectorAll(ccs.CONST_SKELETON+" > "+ccs.CONST_ARMATURES+" >  "+ccs.CONST_ARMATURE+""),$armatureDataManager$$=ccs.armatureDataManager,$i$$;
for($i$$=0;$i$$<$animationsXML_armaturesXML_texturesXML$$.length;$i$$++){var $animationData_armatureData_textureData$$=this.decodeArmature($animationsXML_armaturesXML_texturesXML$$[$i$$],$dataInfo$$);$armatureDataManager$$.addArmatureData($animationData_armatureData_textureData$$.name,$animationData_armatureData_textureData$$,$dataInfo$$.filename)}$animationsXML_armaturesXML_texturesXML$$=$skeleton$$.querySelectorAll(ccs.CONST_SKELETON+" > "+ccs.CONST_ANIMATIONS+" >  "+ccs.CONST_ANIMATION+"");for($i$$=
0;$i$$<$animationsXML_armaturesXML_texturesXML$$.length;$i$$++)$animationData_armatureData_textureData$$=this.decodeAnimation($animationsXML_armaturesXML_texturesXML$$[$i$$],$dataInfo$$),$armatureDataManager$$.addAnimationData($animationData_armatureData_textureData$$.name,$animationData_armatureData_textureData$$,$dataInfo$$.filename);$animationsXML_armaturesXML_texturesXML$$=$skeleton$$.querySelectorAll(ccs.CONST_SKELETON+" > "+ccs.CONST_TEXTURE_ATLAS+" >  "+ccs.CONST_SUB_TEXTURE+"");for($i$$=0;$i$$<
$animationsXML_armaturesXML_texturesXML$$.length;$i$$++)$animationData_armatureData_textureData$$=this.decodeTexture($animationsXML_armaturesXML_texturesXML$$[$i$$],$dataInfo$$),$armatureDataManager$$.addTextureData($animationData_armatureData_textureData$$.name,$animationData_armatureData_textureData$$,$dataInfo$$.filename)}else cc.log("XML error  or  XML is empty.")},decodeArmature:function $ccs$dataReaderHelper$decodeArmature$($armatureXML$$,$dataInfo$$){var $armatureData$$=new ccs.ArmatureData;
$armatureData$$.init();$armatureData$$.name=$armatureXML$$.getAttribute(ccs.CONST_A_NAME);for(var $bonesXML$$=$armatureXML$$.querySelectorAll(ccs.CONST_ARMATURE+" > "+ccs.CONST_BONE),$i$$=0;$i$$<$bonesXML$$.length;$i$$++){var $boneData_boneXML$$=$bonesXML$$[$i$$],$parentName$$=$boneData_boneXML$$.getAttribute(ccs.CONST_A_PARENT),$parentXML$$=null;if($parentName$$)for(var $j$$=0;$j$$<$bonesXML$$.length&&($parentXML$$=$bonesXML$$[$j$$],$parentName$$!=$bonesXML$$[$j$$].getAttribute(ccs.CONST_A_NAME));$j$$++);
$boneData_boneXML$$=this.decodeBone($boneData_boneXML$$,$parentXML$$,$dataInfo$$);$armatureData$$.addBoneData($boneData_boneXML$$)}return $armatureData$$},decodeArmatureFromJSON:function $ccs$dataReaderHelper$decodeArmatureFromJSON$($json$$,$dataInfo$$){var $armatureData$$=new ccs.ArmatureData;$armatureData$$.init();var $boneDataList_name$$=$json$$[ccs.CONST_A_NAME];$boneDataList_name$$&&($armatureData$$.name=$boneDataList_name$$);$dataInfo$$.cocoStudioVersion=$armatureData$$.dataVersion=$json$$[ccs.CONST_VERSION]||
.1;for(var $boneDataList_name$$=$json$$[ccs.CONST_BONE_DATA],$i$$=0;$i$$<$boneDataList_name$$.length;$i$$++){var $boneData$$=this.decodeBoneFromJson($boneDataList_name$$[$i$$],$dataInfo$$);$armatureData$$.addBoneData($boneData$$)}return $armatureData$$},decodeBone:function $ccs$dataReaderHelper$decodeBone$($boneXML$$,$boneData$$2_parentXML$$,$dataInfo$$){$boneData$$2_parentXML$$=new ccs.BoneData;$boneData$$2_parentXML$$.init();$boneData$$2_parentXML$$.name=$boneXML$$.getAttribute(ccs.CONST_A_NAME);
$boneData$$2_parentXML$$.parentName=$boneXML$$.getAttribute(ccs.CONST_A_PARENT)||"";$boneData$$2_parentXML$$.zOrder=parseInt($boneXML$$.getAttribute(ccs.CONST_A_Z))||0;$boneXML$$=$boneXML$$.querySelectorAll(ccs.CONST_BONE+" > "+ccs.CONST_DISPLAY);for(var $i$$=0;$i$$<$boneXML$$.length;$i$$++){var $displayData$$=this.decodeBoneDisplay($boneXML$$[$i$$],$dataInfo$$);$boneData$$2_parentXML$$.addDisplayData($displayData$$)}return $boneData$$2_parentXML$$},decodeBoneFromJson:function $ccs$dataReaderHelper$decodeBoneFromJson$($json$$,
$dataInfo$$){var $boneData$$=new ccs.BoneData;$boneData$$.init();this.decodeNodeFromJson($boneData$$,$json$$,$dataInfo$$);$boneData$$.name=$json$$[ccs.CONST_A_NAME]||"";$boneData$$.parentName=$json$$[ccs.CONST_A_PARENT]||"";for(var $displayDataList$$=$json$$[ccs.CONST_DISPLAY_DATA]||[],$i$$=0;$i$$<$displayDataList$$.length;$i$$++){var $locDisplayData$$=this.decodeBoneDisplayFromJson($displayDataList$$[$i$$],$dataInfo$$);$boneData$$.addDisplayData($locDisplayData$$)}return $boneData$$},decodeBoneDisplay:function $ccs$dataReaderHelper$decodeBoneDisplay$($displayXML$$,
$dataInfo$$){var $displayData$$=null;1==(parseFloat($displayXML$$.getAttribute(ccs.CONST_A_IS_ARMATURE))||0)?($displayData$$=new ccs.ArmatureDisplayData,$displayData$$.displayType=ccs.DISPLAY_TYPE_ARMATURE):($displayData$$=new ccs.SpriteDisplayData,$displayData$$.displayType=ccs.DISPLAY_TYPE_SPRITE);var $displayName$$=$displayXML$$.getAttribute(ccs.CONST_A_NAME)||"";$displayName$$&&($displayData$$.displayName=$displayName$$);return $displayData$$},decodeBoneDisplayFromJson:function $ccs$dataReaderHelper$decodeBoneDisplayFromJson$($json$$,
$dataInfo$$){var $displayType$$=$json$$[ccs.CONST_A_DISPLAY_TYPE]||ccs.DISPLAY_TYPE_SPRITE,$displayData$$=null;switch($displayType$$){case ccs.DISPLAY_TYPE_SPRITE:var $displayData$$=new ccs.SpriteDisplayData,$dic$$1_name$$95_plist$$=$json$$[ccs.CONST_A_NAME];null!=$dic$$1_name$$95_plist$$&&($displayData$$.displayName=$dic$$1_name$$95_plist$$);if($dic$$1_name$$95_plist$$=($json$$[ccs.CONST_SKIN_DATA]||[])[0]){var $skinData$$=$displayData$$.skinData;$skinData$$.x=$dic$$1_name$$95_plist$$[ccs.CONST_A_X]*
this._positionReadScale;$skinData$$.y=$dic$$1_name$$95_plist$$[ccs.CONST_A_Y]*this._positionReadScale;$skinData$$.scaleX=null==$dic$$1_name$$95_plist$$[ccs.CONST_A_SCALE_X]?1:$dic$$1_name$$95_plist$$[ccs.CONST_A_SCALE_X];$skinData$$.scaleY=null==$dic$$1_name$$95_plist$$[ccs.CONST_A_SCALE_Y]?1:$dic$$1_name$$95_plist$$[ccs.CONST_A_SCALE_Y];$skinData$$.skewX=null==$dic$$1_name$$95_plist$$[ccs.CONST_A_SKEW_X]?1:$dic$$1_name$$95_plist$$[ccs.CONST_A_SKEW_X];$skinData$$.skewY=null==$dic$$1_name$$95_plist$$[ccs.CONST_A_SKEW_Y]?
1:$dic$$1_name$$95_plist$$[ccs.CONST_A_SKEW_Y];$skinData$$.x*=$dataInfo$$.contentScale;$skinData$$.y*=$dataInfo$$.contentScale}break;case ccs.DISPLAY_TYPE_ARMATURE:$displayData$$=new ccs.ArmatureDisplayData;$dic$$1_name$$95_plist$$=$json$$[ccs.CONST_A_NAME];null!=$dic$$1_name$$95_plist$$&&($displayData$$.displayName=$json$$[ccs.CONST_A_NAME]);break;case ccs.DISPLAY_TYPE_PARTICLE:$displayData$$=new ccs.ParticleDisplayData;$dic$$1_name$$95_plist$$=$json$$[ccs.CONST_A_PLIST];null!=$dic$$1_name$$95_plist$$&&
($displayData$$.displayName=$dataInfo$$.asyncStruct?$dataInfo$$.asyncStruct.basefilePath+$dic$$1_name$$95_plist$$:$dataInfo$$.basefilePath+$dic$$1_name$$95_plist$$);break;default:$displayData$$=new ccs.SpriteDisplayData}$displayData$$.displayType=$displayType$$;return $displayData$$},decodeAnimation:function $ccs$dataReaderHelper$decodeAnimation$($animationXML$$,$dataInfo$$){var $aniData$$=new ccs.AnimationData,$movementsXML_name$$=$animationXML$$.getAttribute(ccs.CONST_A_NAME),$armatureData$$=ccs.armatureDataManager.getArmatureData($movementsXML_name$$);
$aniData$$.name=$movementsXML_name$$;for(var $movementsXML_name$$=$animationXML$$.querySelectorAll(ccs.CONST_ANIMATION+" > "+ccs.CONST_MOVEMENT),$movementData_movementXML$$=null,$i$$=0;$i$$<$movementsXML_name$$.length;$i$$++)$movementData_movementXML$$=$movementsXML_name$$[$i$$],$movementData_movementXML$$=this.decodeMovement($movementData_movementXML$$,$armatureData$$,$dataInfo$$),$aniData$$.addMovement($movementData_movementXML$$);return $aniData$$},decodeAnimationFromJson:function $ccs$dataReaderHelper$decodeAnimationFromJson$($json$$,
$dataInfo$$){var $aniData$$=new ccs.AnimationData;$json$$[ccs.CONST_A_NAME]&&($aniData$$.name=$json$$[ccs.CONST_A_NAME]);for(var $movementDataList$$=$json$$[ccs.CONST_MOVEMENT_DATA]||[],$i$$=0;$i$$<$movementDataList$$.length;$i$$++){var $locMovementData$$=this.decodeMovementFromJson($movementDataList$$[$i$$],$dataInfo$$);$aniData$$.addMovement($locMovementData$$)}return $aniData$$},decodeMovement:function $ccs$dataReaderHelper$decodeMovement$($movBonesXml_movementXML$$,$armatureData$$,$dataInfo$$){var $movementData$$=
new ccs.MovementData;$movementData$$.name=$movBonesXml_movementXML$$.getAttribute(ccs.CONST_A_NAME);var $duration$$123_durationTo_durationTween_easing_i$$446_loop$$;$duration$$123_durationTo_durationTween_easing_i$$446_loop$$=0;$duration$$123_durationTo_durationTween_easing_i$$446_loop$$=$movBonesXml_movementXML$$.getAttribute(ccs.CONST_A_DURATION);$movementData$$.duration=null==$duration$$123_durationTo_durationTween_easing_i$$446_loop$$?0:parseFloat($duration$$123_durationTo_durationTween_easing_i$$446_loop$$);
$duration$$123_durationTo_durationTween_easing_i$$446_loop$$=$movBonesXml_movementXML$$.getAttribute(ccs.CONST_A_DURATION_TO);$movementData$$.durationTo=null==$duration$$123_durationTo_durationTween_easing_i$$446_loop$$?0:parseFloat($duration$$123_durationTo_durationTween_easing_i$$446_loop$$);$duration$$123_durationTo_durationTween_easing_i$$446_loop$$=$movBonesXml_movementXML$$.getAttribute(ccs.CONST_A_DURATION_TWEEN);$movementData$$.durationTween=null==$duration$$123_durationTo_durationTween_easing_i$$446_loop$$?
0:parseFloat($duration$$123_durationTo_durationTween_easing_i$$446_loop$$);$duration$$123_durationTo_durationTween_easing_i$$446_loop$$=$movBonesXml_movementXML$$.getAttribute(ccs.CONST_A_LOOP);$movementData$$.loop=$duration$$123_durationTo_durationTween_easing_i$$446_loop$$?Boolean(parseFloat($duration$$123_durationTo_durationTween_easing_i$$446_loop$$)):!0;if($duration$$123_durationTo_durationTween_easing_i$$446_loop$$=$movBonesXml_movementXML$$.getAttribute(ccs.CONST_A_TWEEN_EASING))$duration$$123_durationTo_durationTween_easing_i$$446_loop$$!=
ccs.CONST_FL_NAN?($duration$$123_durationTo_durationTween_easing_i$$446_loop$$=null==$duration$$123_durationTo_durationTween_easing_i$$446_loop$$?0:parseFloat($duration$$123_durationTo_durationTween_easing_i$$446_loop$$),$movementData$$.tweenEasing=2==$duration$$123_durationTo_durationTween_easing_i$$446_loop$$?ccs.TweenType.sineEaseInOut:$duration$$123_durationTo_durationTween_easing_i$$446_loop$$):$movementData$$.tweenEasing=ccs.TweenType.linear;$movBonesXml_movementXML$$=$movBonesXml_movementXML$$.querySelectorAll(ccs.CONST_MOVEMENT+
" > "+ccs.CONST_BONE);var $movBoneXml_moveBoneData$$=null;for($duration$$123_durationTo_durationTween_easing_i$$446_loop$$=0;$duration$$123_durationTo_durationTween_easing_i$$446_loop$$<$movBonesXml_movementXML$$.length;$duration$$123_durationTo_durationTween_easing_i$$446_loop$$++){var $movBoneXml_moveBoneData$$=$movBonesXml_movementXML$$[$duration$$123_durationTo_durationTween_easing_i$$446_loop$$],$boneData$$=$movBoneXml_moveBoneData$$.getAttribute(ccs.CONST_A_NAME);if(!$movementData$$.getMovementBoneData($boneData$$)){var $boneData$$=
$armatureData$$.getBoneData($boneData$$),$parentName$$=$boneData$$.parentName,$parentXML$$=null;if(""!=$parentName$$)for(var $j$$=0;$j$$<$movBonesXml_movementXML$$.length&&($parentXML$$=$movBonesXml_movementXML$$[$j$$],$parentName$$!=$parentXML$$.getAttribute(ccs.CONST_A_NAME));$j$$++);$movBoneXml_moveBoneData$$=this.decodeMovementBone($movBoneXml_moveBoneData$$,$parentXML$$,$boneData$$,$dataInfo$$);$movementData$$.addMovementBoneData($movBoneXml_moveBoneData$$)}}return $movementData$$},decodeMovementFromJson:function $ccs$dataReaderHelper$decodeMovementFromJson$($json$$,
$dataInfo$$){var $movementData$$=new ccs.MovementData;$movementData$$.loop=null==$json$$[ccs.CONST_A_LOOP]?!1:$json$$[ccs.CONST_A_LOOP];$movementData$$.durationTween=$json$$[ccs.CONST_A_DURATION_TWEEN]||0;$movementData$$.durationTo=$json$$[ccs.CONST_A_DURATION_TO]||0;$movementData$$.duration=$json$$[ccs.CONST_A_DURATION]||0;$movementData$$.scale=null==$json$$[ccs.CONST_A_DURATION]?1:null==$json$$[ccs.CONST_A_MOVEMENT_SCALE]?1:$json$$[ccs.CONST_A_MOVEMENT_SCALE];$movementData$$.tweenEasing=null==$json$$[ccs.CONST_A_TWEEN_EASING]?
ccs.TweenType.linear:$json$$[ccs.CONST_A_TWEEN_EASING];var $movementBoneList_name$$=$json$$[ccs.CONST_A_NAME];$movementBoneList_name$$&&($movementData$$.name=$movementBoneList_name$$);for(var $movementBoneList_name$$=$json$$[ccs.CONST_MOVEMENT_BONE_DATA]||[],$i$$=0;$i$$<$movementBoneList_name$$.length;$i$$++){var $locMovementBoneData$$=this.decodeMovementBoneFromJson($movementBoneList_name$$[$i$$],$dataInfo$$);$movementData$$.addMovementBoneData($locMovementBoneData$$)}return $movementData$$},decodeMovementBone:function $ccs$dataReaderHelper$decodeMovementBone$($framesXML_movBoneXml$$,
$frameData_frames$$,$boneData$$,$dataInfo$$){var $movBoneData$$=new ccs.MovementBoneData;$movBoneData$$.init();var $delay$$11_difSkewY_parentTotalDuration_scale$$;$framesXML_movBoneXml$$&&($delay$$11_difSkewY_parentTotalDuration_scale$$=parseFloat($framesXML_movBoneXml$$.getAttribute(ccs.CONST_A_MOVEMENT_SCALE))||0,$movBoneData$$.scale=$delay$$11_difSkewY_parentTotalDuration_scale$$,$delay$$11_difSkewY_parentTotalDuration_scale$$=parseFloat($framesXML_movBoneXml$$.getAttribute(ccs.CONST_A_MOVEMENT_DELAY))||
0,0<$delay$$11_difSkewY_parentTotalDuration_scale$$&&--$delay$$11_difSkewY_parentTotalDuration_scale$$,$movBoneData$$.delay=$delay$$11_difSkewY_parentTotalDuration_scale$$);var $i$$448_length$$=0,$currentDuration$$=$delay$$11_difSkewY_parentTotalDuration_scale$$=0,$parentFrameXML$$=null,$parentXMLList$$=[];if(null!=$frameData_frames$$){for(var $j$$=$frameData_frames$$.querySelectorAll(ccs.CONST_BONE+" > "+ccs.CONST_FRAME),$i$$448_length$$=0;$i$$448_length$$<$j$$.length;$i$$448_length$$++)$parentXMLList$$.push($j$$[$i$$448_length$$]);
$i$$448_length$$=$parentXMLList$$.length}$movBoneData$$.name=$framesXML_movBoneXml$$.getAttribute(ccs.CONST_A_NAME);$framesXML_movBoneXml$$=$framesXML_movBoneXml$$.querySelectorAll(ccs.CONST_BONE+" > "+ccs.CONST_FRAME);for(var $totalDuration$$=$j$$=0,$ii$$=0;$ii$$<$framesXML_movBoneXml$$.length;$ii$$++){var $boneFrameData_frameXML$$=$framesXML_movBoneXml$$[$ii$$];if($frameData_frames$$)for(;$j$$<$i$$448_length$$&&($parentFrameXML$$?$totalDuration$$<$delay$$11_difSkewY_parentTotalDuration_scale$$||
$totalDuration$$>=$delay$$11_difSkewY_parentTotalDuration_scale$$+$currentDuration$$:1);)$parentFrameXML$$=$parentXMLList$$[$j$$],$delay$$11_difSkewY_parentTotalDuration_scale$$+=$currentDuration$$,$currentDuration$$=parseFloat($parentFrameXML$$.getAttribute(ccs.CONST_A_DURATION)),$j$$++;$boneFrameData_frameXML$$=this.decodeFrame($boneFrameData_frameXML$$,$parentFrameXML$$,$boneData$$,$dataInfo$$);$movBoneData$$.addFrameData($boneFrameData_frameXML$$);$boneFrameData_frameXML$$.frameID=$totalDuration$$;
$totalDuration$$+=$boneFrameData_frameXML$$.duration;$movBoneData$$.duration=$totalDuration$$}$frameData_frames$$=$movBoneData$$.frameList;$boneData$$=Math.PI;for($i$$448_length$$=$frameData_frames$$.length-1;0<=$i$$448_length$$;$i$$448_length$$--)if(0<$i$$448_length$$){$dataInfo$$=$frameData_frames$$[$i$$448_length$$].skewX-$frameData_frames$$[$i$$448_length$$-1].skewX;$delay$$11_difSkewY_parentTotalDuration_scale$$=$frameData_frames$$[$i$$448_length$$].skewY-$frameData_frames$$[$i$$448_length$$-
1].skewY;if($dataInfo$$<-$boneData$$||$dataInfo$$>$boneData$$)$frameData_frames$$[$i$$448_length$$-1].skewX=0>$dataInfo$$?$frameData_frames$$[$i$$448_length$$-1].skewX-2*$boneData$$:$frameData_frames$$[$i$$448_length$$-1].skewX+2*$boneData$$;if($delay$$11_difSkewY_parentTotalDuration_scale$$<-$boneData$$||$delay$$11_difSkewY_parentTotalDuration_scale$$>$boneData$$)$frameData_frames$$[$i$$448_length$$-1].skewY=0>$delay$$11_difSkewY_parentTotalDuration_scale$$?$frameData_frames$$[$i$$448_length$$-1].skewY-
2*$boneData$$:$frameData_frames$$[$i$$448_length$$-1].skewY+2*$boneData$$}$frameData_frames$$=new ccs.FrameData;$frameData_frames$$.copy($movBoneData$$.frameList[$movBoneData$$.frameList.length-1]);$frameData_frames$$.frameID=$movBoneData$$.duration;$movBoneData$$.addFrameData($frameData_frames$$);return $movBoneData$$},decodeMovementBoneFromJson:function $ccs$dataReaderHelper$decodeMovementBoneFromJson$($json$$,$dataInfo$$){var $movementBoneData$$=new ccs.MovementBoneData;$movementBoneData$$.init();
$movementBoneData$$.delay=$json$$[ccs.CONST_A_MOVEMENT_DELAY]||0;var $i$$449_name$$=$json$$[ccs.CONST_A_NAME];$i$$449_name$$&&($movementBoneData$$.name=$i$$449_name$$);for(var $frames$$11_length$$=($json$$[ccs.CONST_FRAME_DATA]||[]).length,$i$$449_name$$=0;$i$$449_name$$<$frames$$11_length$$;$i$$449_name$$++){var $frameData$$1_pi$$=this.decodeFrameFromJson($json$$[ccs.CONST_FRAME_DATA][$i$$449_name$$],$dataInfo$$);$movementBoneData$$.addFrameData($frameData$$1_pi$$);$dataInfo$$.cocoStudioVersion<
ccs.CONST_VERSION_COMBINED&&($frameData$$1_pi$$.frameID=$movementBoneData$$.duration,$movementBoneData$$.duration+=$frameData$$1_pi$$.duration)}if($dataInfo$$.cocoStudioVersion<ccs.VERSION_CHANGE_ROTATION_RANGE)for($frames$$11_length$$=$movementBoneData$$.frameList,$frameData$$1_pi$$=Math.PI,$i$$449_name$$=$frames$$11_length$$.length-1;0<=$i$$449_name$$;$i$$449_name$$--)if(0<$i$$449_name$$){var $difSkewX$$=$frames$$11_length$$[$i$$449_name$$].skewX-$frames$$11_length$$[$i$$449_name$$-1].skewX,$difSkewY$$=
$frames$$11_length$$[$i$$449_name$$].skewY-$frames$$11_length$$[$i$$449_name$$-1].skewY;if($difSkewX$$<-$frameData$$1_pi$$||$difSkewX$$>$frameData$$1_pi$$)$frames$$11_length$$[$i$$449_name$$-1].skewX=0>$difSkewX$$?$frames$$11_length$$[$i$$449_name$$-1].skewX-2*$frameData$$1_pi$$:$frames$$11_length$$[$i$$449_name$$-1].skewX+2*$frameData$$1_pi$$;if($difSkewY$$<-$frameData$$1_pi$$||$difSkewY$$>$frameData$$1_pi$$)$frames$$11_length$$[$i$$449_name$$-1].skewY=0>$difSkewY$$?$frames$$11_length$$[$i$$449_name$$-
1].skewY-2*$frameData$$1_pi$$:$frames$$11_length$$[$i$$449_name$$-1].skewY+2*$frameData$$1_pi$$}$dataInfo$$.cocoStudioVersion<ccs.CONST_VERSION_COMBINED&&0<$movementBoneData$$.frameList.length&&($frameData$$1_pi$$=new ccs.FrameData,$frameData$$1_pi$$.copy($movementBoneData$$.frameList[$movementBoneData$$.frameList.length-1]),$movementBoneData$$.addFrameData($frameData$$1_pi$$),$frameData$$1_pi$$.frameID=$movementBoneData$$.duration);return $movementBoneData$$},decodeFrame:function $ccs$dataReaderHelper$decodeFrame$($frameXML$$,
$parentFrameXml$$,$boneData$$6_frameData$$,$dataInfo$$){var $_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$=0,$_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$=$_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$=$_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$=
$_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$=$_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$=$_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$=$_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$=
$_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$=$_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$=$_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$=$_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$=
0;$boneData$$6_frameData$$=new ccs.FrameData;$boneData$$6_frameData$$.strMovement=$frameXML$$.getAttribute(ccs.CONST_A_MOVEMENT)||"";$boneData$$6_frameData$$.movement=$boneData$$6_frameData$$.strMovement;$boneData$$6_frameData$$.strEvent=$frameXML$$.getAttribute(ccs.CONST_A_EVENT)||"";$boneData$$6_frameData$$.event=$boneData$$6_frameData$$.strEvent;$boneData$$6_frameData$$.strSound=$frameXML$$.getAttribute(ccs.CONST_A_SOUND)||"";$boneData$$6_frameData$$.sound=$boneData$$6_frameData$$.strSound;$boneData$$6_frameData$$.strSoundEffect=
$frameXML$$.getAttribute(ccs.CONST_A_SOUND_EFFECT)||"";$boneData$$6_frameData$$.soundEffect=$boneData$$6_frameData$$.strSoundEffect;$_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$=$frameXML$$.getAttribute(ccs.CONST_A_TWEEN_FRAME);$boneData$$6_frameData$$.isTween=!(void 0!=$_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$&&
"false"==$_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$);if($dataInfo$$.flashToolVersion>=ccs.CONST_VERSION_2_0){if($_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$=$frameXML$$.getAttribute(ccs.CONST_A_COCOS2DX_X))$boneData$$6_frameData$$.x=parseFloat($_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$),
$boneData$$6_frameData$$.x*=this._positionReadScale;$_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$=$frameXML$$.getAttribute(ccs.CONST_A_COCOS2DX_Y)}else{if($_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$=$frameXML$$.getAttribute(ccs.CONST_A_X))$boneData$$6_frameData$$.x=parseFloat($_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$),
$boneData$$6_frameData$$.x*=this._positionReadScale;$_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$=$frameXML$$.getAttribute(ccs.CONST_A_Y)}$_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$&&($boneData$$6_frameData$$.y=-parseFloat($_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$),
$boneData$$6_frameData$$.y*=this._positionReadScale);$_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$=$frameXML$$.getAttribute(ccs.CONST_A_SCALE_X);null!=$_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$&&($boneData$$6_frameData$$.scaleX=parseFloat($_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$));
$_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$=$frameXML$$.getAttribute(ccs.CONST_A_SCALE_Y);null!=$_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$&&($boneData$$6_frameData$$.scaleY=parseFloat($_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$));
$_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$=$frameXML$$.getAttribute(ccs.CONST_A_SKEW_X);null!=$_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$&&($boneData$$6_frameData$$.skewX=cc.degreesToRadians(parseFloat($_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$)));
$_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$=$frameXML$$.getAttribute(ccs.CONST_A_SKEW_Y);null!=$_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$&&($boneData$$6_frameData$$.skewY=cc.degreesToRadians(-parseFloat($_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$)));
$_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$=$frameXML$$.getAttribute(ccs.CONST_A_DURATION);null!=$_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$&&($boneData$$6_frameData$$.duration=parseFloat($_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$));
$_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$=$frameXML$$.getAttribute(ccs.CONST_A_DISPLAY_INDEX);null!=$_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$&&($boneData$$6_frameData$$.displayIndex=parseFloat($_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$));
$_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$=$frameXML$$.getAttribute(ccs.CONST_A_Z);null!=$_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$&&($boneData$$6_frameData$$.zOrder=parseInt($_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$));
$_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$=$frameXML$$.getAttribute(ccs.CONST_A_TWEEN_ROTATE);null!=$_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$&&($boneData$$6_frameData$$.tweenRotate=parseFloat($_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$));
$_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$=$frameXML$$.getAttribute(ccs.CONST_A_BLEND_TYPE);if(null!=$_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$){var $blendFunc$$6_red$$=$boneData$$6_frameData$$.blendFunc;switch($_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$){case ccs.BLEND_TYPE_NORMAL:$blendFunc$$6_red$$.src=
cc.BLEND_SRC;$blendFunc$$6_red$$.dst=cc.BLEND_DST;break;case ccs.BLEND_TYPE_ADD:$blendFunc$$6_red$$.src=cc.SRC_ALPHA;$blendFunc$$6_red$$.dst=cc.ONE;break;case ccs.BLEND_TYPE_MULTIPLY:$blendFunc$$6_red$$.src=cc.DST_COLOR;$blendFunc$$6_red$$.dst=cc.ONE_MINUS_SRC_ALPHA;break;case ccs.BLEND_TYPE_SCREEN:$blendFunc$$6_red$$.src=cc.ONE;$blendFunc$$6_red$$.dst=cc.ONE_MINUS_DST_COLOR;break;default:$boneData$$6_frameData$$.blendFunc.src=cc.BLEND_SRC,$boneData$$6_frameData$$.blendFunc.dst=cc.BLEND_DST}}var $blueOffset_colorTransformXML$$=
$frameXML$$.querySelectorAll(ccs.CONST_FRAME+" > "+ccs.CONST_A_COLOR_TRANSFORM);if($blueOffset_colorTransformXML$$&&0<$blueOffset_colorTransformXML$$.length){var $blueOffset_colorTransformXML$$=$blueOffset_colorTransformXML$$[0],$green$$,$blue$$,$alphaOffset$$,$redOffset$$,$greenOffset$$,$_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$=parseFloat($blueOffset_colorTransformXML$$.getAttribute(ccs.CONST_A_ALPHA))||
0,$blendFunc$$6_red$$=parseFloat($blueOffset_colorTransformXML$$.getAttribute(ccs.CONST_A_RED))||0;$green$$=parseFloat($blueOffset_colorTransformXML$$.getAttribute(ccs.CONST_A_GREEN))||0;$blue$$=parseFloat($blueOffset_colorTransformXML$$.getAttribute(ccs.CONST_A_BLUE))||0;$alphaOffset$$=parseFloat($blueOffset_colorTransformXML$$.getAttribute(ccs.CONST_A_ALPHA_OFFSET))||0;$redOffset$$=parseFloat($blueOffset_colorTransformXML$$.getAttribute(ccs.CONST_A_RED_OFFSET))||0;$greenOffset$$=parseFloat($blueOffset_colorTransformXML$$.getAttribute(ccs.CONST_A_GREEN_OFFSET))||
0;$blueOffset_colorTransformXML$$=parseFloat($blueOffset_colorTransformXML$$.getAttribute(ccs.CONST_A_BLUE_OFFSET))||0;$boneData$$6_frameData$$.a=2.55*$alphaOffset$$+$_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$;$boneData$$6_frameData$$.r=2.55*$redOffset$$+$blendFunc$$6_red$$;$boneData$$6_frameData$$.g=2.55*$greenOffset$$+$green$$;$boneData$$6_frameData$$.b=2.55*$blueOffset_colorTransformXML$$+$blue$$;
$boneData$$6_frameData$$.isUseColorInfo=!0}$_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$=$frameXML$$.getAttribute(ccs.CONST_A_TWEEN_EASING);if(null!=$_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$)if($_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$!=
ccs.CONST_FL_NAN){if($_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$=$frameXML$$.getAttribute(ccs.CONST_A_TWEEN_EASING))$boneData$$6_frameData$$.tweenEasing=2==$_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$?ccs.TweenType.sineEaseInOut:$_easing_alpha$$18_blendType_displayIndex_duration$$124_isTween_scale_x_scale_y_skew_x_skew_y_tweenEasing$$1_tweenRotate_x$$176_y$$166_zOrder$$}else $boneData$$6_frameData$$.tweenEasing=
ccs.TweenType.linear;$parentFrameXml$$&&($frameXML$$=new ccs.BaseData,$dataInfo$$.flashToolVersion>=ccs.CONST_VERSION_2_0?($frameXML$$.x=parseFloat($parentFrameXml$$.getAttribute(ccs.CONST_A_COCOS2DX_X)),$frameXML$$.y=parseFloat($parentFrameXml$$.getAttribute(ccs.CONST_A_COCOS2DX_Y))):($frameXML$$.x=parseFloat($parentFrameXml$$.getAttribute(ccs.CONST_A_X)),$frameXML$$.y=parseFloat($parentFrameXml$$.getAttribute(ccs.CONST_A_Y))),$frameXML$$.skewX=parseFloat($parentFrameXml$$.getAttribute(ccs.CONST_A_SKEW_X)),
$frameXML$$.skewY=parseFloat($parentFrameXml$$.getAttribute(ccs.CONST_A_SKEW_Y)),$frameXML$$.y=-$frameXML$$.y,$frameXML$$.skewX=cc.degreesToRadians($frameXML$$.skewX),$frameXML$$.skewY=cc.degreesToRadians(-$frameXML$$.skewY),ccs.TransformHelp.transformFromParent($boneData$$6_frameData$$,$frameXML$$));return $boneData$$6_frameData$$},decodeFrameFromJson:function $ccs$dataReaderHelper$decodeFrameFromJson$($json$$,$dataInfo$$){var $frameData$$=new ccs.FrameData;this.decodeNodeFromJson($frameData$$,$json$$,
$dataInfo$$);$frameData$$.tweenEasing=$json$$[ccs.CONST_A_TWEEN_EASING]||ccs.TweenType.linear;$frameData$$.displayIndex=$json$$[ccs.CONST_A_DISPLAY_INDEX];var $bd_dst_event$$=null==$json$$[ccs.CONST_A_BLEND_DST]?cc.BLEND_DST:$json$$[ccs.CONST_A_BLEND_DST];$frameData$$.blendFunc.src=null==$json$$[ccs.CONST_A_BLEND_SRC]?cc.BLEND_SRC:$json$$[ccs.CONST_A_BLEND_SRC];$frameData$$.blendFunc.dst=$bd_dst_event$$;$frameData$$.isTween=null==$json$$[ccs.CONST_A_TWEEN_FRAME]?!0:$json$$[ccs.CONST_A_TWEEN_FRAME];
$bd_dst_event$$=$json$$[ccs.CONST_A_EVENT];null!=$bd_dst_event$$&&($frameData$$.strEvent=$bd_dst_event$$,$frameData$$.event=$bd_dst_event$$);$dataInfo$$.cocoStudioVersion<ccs.CONST_VERSION_COMBINED?$frameData$$.duration=null==$json$$[ccs.CONST_A_DURATION]?1:$json$$[ccs.CONST_A_DURATION]:$frameData$$.frameID=$json$$[ccs.CONST_A_FRAME_INDEX];for(var $bd_dst_event$$=$json$$[ccs.CONST_A_EASING_PARAM]||[],$i$$=0;$i$$<$bd_dst_event$$.length;$i$$++)$frameData$$.easingParams[$i$$]=$bd_dst_event$$[$i$$];return $frameData$$},
decodeTexture:function $ccs$dataReaderHelper$decodeTexture$($textureXML$$,$dataInfo$$){var $textureData$$=new ccs.TextureData;$textureData$$.init();$textureXML$$.getAttribute(ccs.CONST_A_NAME)&&($textureData$$.name=$textureXML$$.getAttribute(ccs.CONST_A_NAME));var $contoursXML_px$$,$i$$451_py$$;$dataInfo$$.flashToolVersion>=ccs.CONST_VERSION_2_0?($contoursXML_px$$=parseFloat($textureXML$$.getAttribute(ccs.CONST_A_COCOS2D_PIVOT_X))||0,$i$$451_py$$=parseFloat($textureXML$$.getAttribute(ccs.CONST_A_COCOS2D_PIVOT_Y))||
0):($contoursXML_px$$=parseFloat($textureXML$$.getAttribute(ccs.CONST_A_PIVOT_X))||0,$i$$451_py$$=parseFloat($textureXML$$.getAttribute(ccs.CONST_A_PIVOT_Y))||0);var $width$$=parseFloat($textureXML$$.getAttribute(ccs.CONST_A_WIDTH))||0,$height$$=parseFloat($textureXML$$.getAttribute(ccs.CONST_A_HEIGHT))||0;$textureData$$.pivotX=$contoursXML_px$$/$width$$;$textureData$$.pivotY=($height$$-$i$$451_py$$)/$height$$;$contoursXML_px$$=$textureXML$$.querySelectorAll(ccs.CONST_SUB_TEXTURE+" > "+ccs.CONST_CONTOUR);
for($i$$451_py$$=0;$i$$451_py$$<$contoursXML_px$$.length;$i$$451_py$$++)$textureData$$.addContourData(this.decodeContour($contoursXML_px$$[$i$$451_py$$],$dataInfo$$));return $textureData$$},decodeTextureFromJson:function $ccs$dataReaderHelper$decodeTextureFromJson$($contourDataList_json$$){var $textureData$$=new ccs.TextureData;$textureData$$.init();var $i$$452_name$$=$contourDataList_json$$[ccs.CONST_A_NAME];null!=$i$$452_name$$&&($textureData$$.name=$i$$452_name$$);$textureData$$.width=$contourDataList_json$$[ccs.CONST_A_WIDTH]||
0;$textureData$$.height=$contourDataList_json$$[ccs.CONST_A_HEIGHT]||0;$textureData$$.pivotX=$contourDataList_json$$[ccs.CONST_A_PIVOT_X]||0;$textureData$$.pivotY=$contourDataList_json$$[ccs.CONST_A_PIVOT_Y]||0;$contourDataList_json$$=$contourDataList_json$$[ccs.CONST_CONTOUR_DATA]||[];for($i$$452_name$$=0;$i$$452_name$$<$contourDataList_json$$.length;$i$$452_name$$++)$textureData$$.contourDataList.push(this.decodeContourFromJson($contourDataList_json$$[$i$$452_name$$]));return $textureData$$},decodeContour:function $ccs$dataReaderHelper$decodeContour$($contourXML$$,
$dataInfo$$){var $contourData$$=new ccs.ContourData;$contourData$$.init();for(var $vertexDatasXML$$=$contourXML$$.querySelectorAll(ccs.CONST_CONTOUR+" > "+ccs.CONST_CONTOUR_VERTEX),$vertexDataXML$$,$i$$=0;$i$$<$vertexDatasXML$$.length;$i$$++){$vertexDataXML$$=$vertexDatasXML$$[$i$$];var $vertex$$=cc.p(0,0);$vertex$$.x=parseFloat($vertexDataXML$$.getAttribute(ccs.CONST_A_X))||0;$vertex$$.y=parseFloat($vertexDataXML$$.getAttribute(ccs.CONST_A_Y))||0;$vertex$$.y=-$vertex$$.y;$contourData$$.vertexList.push($vertex$$)}return $contourData$$},
decodeContourFromJson:function $ccs$dataReaderHelper$decodeContourFromJson$($json$$){var $contourData$$=new ccs.ContourData;$contourData$$.init();$json$$=$json$$[ccs.CONST_VERTEX_POINT]||[];for(var $len$$=$json$$.length,$i$$=0;$i$$<$len$$;$i$$++){var $dic$$=$json$$[$i$$],$vertex$$=cc.p(0,0);$vertex$$.x=$dic$$[ccs.CONST_A_X]||0;$vertex$$.y=$dic$$[ccs.CONST_A_Y]||0;$contourData$$.vertexList.push($vertex$$)}return $contourData$$},addDataFromJsonCache:function $ccs$dataReaderHelper$addDataFromJsonCache$($dic$$,
$dataInfo$$){$dataInfo$$.contentScale=null==$dic$$[ccs.CONST_CONTENT_SCALE]?1:$dic$$[ccs.CONST_CONTENT_SCALE];var $animationDataArr_armatureDataArr_configFiles_textureDataArr$$=$dic$$[ccs.CONST_ARMATURE_DATA]||[],$i$$,$animationData$$1_armatureData$$5_locFilePath_locImagePath_textureData$$;for($i$$=0;$i$$<$animationDataArr_armatureDataArr_configFiles_textureDataArr$$.length;$i$$++)$animationData$$1_armatureData$$5_locFilePath_locImagePath_textureData$$=this.decodeArmatureFromJSON($animationDataArr_armatureDataArr_configFiles_textureDataArr$$[$i$$],
$dataInfo$$),ccs.armatureDataManager.addArmatureData($animationData$$1_armatureData$$5_locFilePath_locImagePath_textureData$$.name,$animationData$$1_armatureData$$5_locFilePath_locImagePath_textureData$$,$dataInfo$$.filename);$animationDataArr_armatureDataArr_configFiles_textureDataArr$$=$dic$$[ccs.CONST_ANIMATION_DATA]||[];for($i$$=0;$i$$<$animationDataArr_armatureDataArr_configFiles_textureDataArr$$.length;$i$$++)$animationData$$1_armatureData$$5_locFilePath_locImagePath_textureData$$=this.decodeAnimationFromJson($animationDataArr_armatureDataArr_configFiles_textureDataArr$$[$i$$],
$dataInfo$$),ccs.armatureDataManager.addAnimationData($animationData$$1_armatureData$$5_locFilePath_locImagePath_textureData$$.name,$animationData$$1_armatureData$$5_locFilePath_locImagePath_textureData$$,$dataInfo$$.filename);$animationDataArr_armatureDataArr_configFiles_textureDataArr$$=$dic$$[ccs.CONST_TEXTURE_DATA]||[];for($i$$=0;$i$$<$animationDataArr_armatureDataArr_configFiles_textureDataArr$$.length;$i$$++)$animationData$$1_armatureData$$5_locFilePath_locImagePath_textureData$$=this.decodeTextureFromJson($animationDataArr_armatureDataArr_configFiles_textureDataArr$$[$i$$],
$dataInfo$$),ccs.armatureDataManager.addTextureData($animationData$$1_armatureData$$5_locFilePath_locImagePath_textureData$$.name,$animationData$$1_armatureData$$5_locFilePath_locImagePath_textureData$$,$dataInfo$$.filename);if(null==$dataInfo$$.asyncStruct?ccs.armatureDataManager.isAutoLoadSpriteFile():$dataInfo$$.asyncStruct.autoLoadSpriteFile){var $animationDataArr_armatureDataArr_configFiles_textureDataArr$$=$dic$$[ccs.CONST_CONFIG_FILE_PATH]||[],$locPlistPath_locPos$$;for($i$$=0;$i$$<$animationDataArr_armatureDataArr_configFiles_textureDataArr$$.length;$i$$++)$animationData$$1_armatureData$$5_locFilePath_locImagePath_textureData$$=
$animationDataArr_armatureDataArr_configFiles_textureDataArr$$[$i$$],$locPlistPath_locPos$$=$animationData$$1_armatureData$$5_locFilePath_locImagePath_textureData$$.lastIndexOf("."),$animationData$$1_armatureData$$5_locFilePath_locImagePath_textureData$$=$animationData$$1_armatureData$$5_locFilePath_locImagePath_textureData$$.substring(0,$locPlistPath_locPos$$),$locPlistPath_locPos$$=$dataInfo$$.basefilePath+$animationData$$1_armatureData$$5_locFilePath_locImagePath_textureData$$+".plist",$animationData$$1_armatureData$$5_locFilePath_locImagePath_textureData$$=
$dataInfo$$.basefilePath+$animationData$$1_armatureData$$5_locFilePath_locImagePath_textureData$$+".png",ccs.armatureDataManager.addSpriteFrameFromFile($locPlistPath_locPos$$,$animationData$$1_armatureData$$5_locFilePath_locImagePath_textureData$$,$dataInfo$$.filename)}},decodeNodeFromJson:function $ccs$dataReaderHelper$decodeNodeFromJson$($node$$,$colorDic_json$$,$dataInfo$$){$node$$.x=$colorDic_json$$[ccs.CONST_A_X]*this._positionReadScale;$node$$.y=$colorDic_json$$[ccs.CONST_A_Y]*this._positionReadScale;
$node$$.x*=$dataInfo$$.contentScale;$node$$.y*=$dataInfo$$.contentScale;$node$$.zOrder=$colorDic_json$$[ccs.CONST_A_Z];$node$$.skewX=$colorDic_json$$[ccs.CONST_A_SKEW_X]||0;$node$$.skewY=$colorDic_json$$[ccs.CONST_A_SKEW_Y]||0;$node$$.scaleX=null==$colorDic_json$$[ccs.CONST_A_SCALE_X]?1:$colorDic_json$$[ccs.CONST_A_SCALE_X];$node$$.scaleY=null==$colorDic_json$$[ccs.CONST_A_SCALE_Y]?1:$colorDic_json$$[ccs.CONST_A_SCALE_Y];if($colorDic_json$$=$dataInfo$$.cocoStudioVersion<ccs.VERSION_COLOR_READING?
$colorDic_json$$[0]:$colorDic_json$$[ccs.CONST_COLOR_INFO]||null)$node$$.a=null==$colorDic_json$$[ccs.CONST_A_ALPHA]?255:$colorDic_json$$[ccs.CONST_A_ALPHA],$node$$.r=null==$colorDic_json$$[ccs.CONST_A_RED]?255:$colorDic_json$$[ccs.CONST_A_RED],$node$$.g=null==$colorDic_json$$[ccs.CONST_A_GREEN]?255:$colorDic_json$$[ccs.CONST_A_GREEN],$node$$.b=null==$colorDic_json$$[ccs.CONST_A_BLUE]?255:$colorDic_json$$[ccs.CONST_A_BLUE],$node$$.isUseColorInfo=!0},clear:function $ccs$dataReaderHelper$clear$(){this._configFileList=
[];this._asyncRefTotalCount=this._asyncRefCount=0},_asyncCallBack:function $ccs$dataReaderHelper$_asyncCallBack$($selector$$,$target$$,$percent$$){$selector$$&&cc.isFunction($selector$$)&&$selector$$.call($target$$,$percent$$);if($target$$&&$selector$$&&"string"===typeof $selector$$)$target$$[$selector$$]($percent$$)},_initBaseFilePath:function $ccs$dataReaderHelper$_initBaseFilePath$($filePath$$12_path$$){var $pos$$=$filePath$$12_path$$.lastIndexOf("/");return $filePath$$12_path$$=-1<$pos$$?$filePath$$12_path$$.substr(0,
$pos$$+1):""},addDataFromXML:function $ccs$dataReaderHelper$addDataFromXML$($xml$$,$dataInfo$$){var $skeleton$$1_xmlStr$$=cc.loader.getRes($xml$$);if(!$skeleton$$1_xmlStr$$)throw"Please load the resource first : "+$xml$$;($skeleton$$1_xmlStr$$=cc.saxParser.parse($skeleton$$1_xmlStr$$).documentElement)&&this.addDataFromCache($skeleton$$1_xmlStr$$,$dataInfo$$)},addDataFromJson:function $ccs$dataReaderHelper$addDataFromJson$($filePath$$,$dataInfo$$){var $fileContent$$=cc.loader.getRes($filePath$$);this.addDataFromJsonCache($fileContent$$,
$dataInfo$$)}};ccs.spriteFrameCacheHelper={_textureAtlasDic:{},_imagePaths:[],addSpriteFrameFromFile:function $ccs$spriteFrameCacheHelper$addSpriteFrameFromFile$($plistPath$$,$imagePath$$){cc.spriteFrameCache.addSpriteFrames($plistPath$$,$imagePath$$)},getTextureAtlasWithTexture:function $ccs$spriteFrameCacheHelper$getTextureAtlasWithTexture$($texture$$){return null},clear:function $ccs$spriteFrameCacheHelper$clear$(){this._textureAtlasDic={};this._imagePaths=[]}};
ccs.TransformHelp=ccs.TransformHelp||ccs.Class.extend({});ccs.TransformHelp.helpMatrix1=cc.affineTransformMake(1,0,0,1,0,0);ccs.TransformHelp.helpMatrix2=cc.affineTransformMake(1,0,0,1,0,0);ccs.TransformHelp.helpPoint1=cc.p(0,0);ccs.TransformHelp.helpPoint2=cc.p(0,0);ccs.TransformHelp.helpParentNode={};
ccs.TransformHelp.transformFromParent=function $ccs$TransformHelp$transformFromParent$($bone$$,$parentNode$$){this.nodeToMatrix($bone$$,this.helpMatrix1);this.nodeToMatrix($parentNode$$,this.helpMatrix2);this.helpMatrix2=cc.affineTransformInvert(this.helpMatrix2);this.helpMatrix1=cc.affineTransformConcat(this.helpMatrix1,this.helpMatrix2);this.matrixToNode(this.helpMatrix1,$bone$$)};
ccs.TransformHelp.transformToParent=function $ccs$TransformHelp$transformToParent$($node$$,$parentNode$$){this.nodeToMatrix($node$$,this.helpMatrix1);this.nodeToMatrix($parentNode$$,this.helpMatrix2);this.helpMatrix1=cc.affineTransformConcat(this.helpMatrix1,this.helpMatrix2);this.matrixToNode(this.helpMatrix1,$node$$)};
ccs.TransformHelp.transformFromParentWithoutScale=function $ccs$TransformHelp$transformFromParentWithoutScale$($node$$,$parentNode$$){for(var $p$$ in $parentNode$$)this.helpParentNode[$p$$]=$parentNode$$[$p$$];this.helpParentNode.scaleX=1;this.helpParentNode.scaleY=1;this.nodeToMatrix($node$$,this.helpMatrix1);this.nodeToMatrix(this.helpParentNode,this.helpMatrix2);this.helpMatrix2=cc.affineTransformInvert(this.helpMatrix2);this.helpMatrix1=cc.affineTransformConcat(this.helpMatrix1,this.helpMatrix2);
this.matrixToNode(this.helpMatrix1,$node$$)};
ccs.TransformHelp.transformToParentWithoutScale=function $ccs$TransformHelp$transformToParentWithoutScale$($node$$,$parentNode$$){for(var $p$$ in $parentNode$$)this.helpParentNode[$p$$]=$parentNode$$[$p$$];this.helpParentNode.scaleX=1;this.helpParentNode.scaleY=1;this.nodeToMatrix($node$$,this.helpMatrix1);this.nodeToMatrix(this.helpParentNode,this.helpMatrix2);this.helpMatrix1=cc.affineTransformConcat(this.helpMatrix1,this.helpMatrix2);this.matrixToNode(this.helpMatrix1,$node$$)};
ccs.TransformHelp.nodeToMatrix=function $ccs$TransformHelp$nodeToMatrix$($node$$,$matrix$$){if($node$$.skewX==-$node$$.skewY){var $sine$$=Math.sin($node$$.skewX),$cosine$$=Math.cos($node$$.skewX);$matrix$$.a=$node$$.scaleX*$cosine$$;$matrix$$.b=$node$$.scaleX*-$sine$$;$matrix$$.c=$node$$.scaleY*$sine$$;$matrix$$.d=$node$$.scaleY*$cosine$$}else $matrix$$.a=$node$$.scaleX*Math.cos($node$$.skewY),$matrix$$.b=$node$$.scaleX*Math.sin($node$$.skewY),$matrix$$.c=$node$$.scaleY*Math.sin($node$$.skewX),$matrix$$.d=
$node$$.scaleY*Math.cos($node$$.skewX);$matrix$$.tx=$node$$.x;$matrix$$.ty=$node$$.y};
ccs.TransformHelp.matrixToNode=function $ccs$TransformHelp$matrixToNode$($matrix$$,$node$$){this.helpPoint1.x=0;this.helpPoint1.y=1;this.helpPoint1=cc.pointApplyAffineTransform(this.helpPoint1,$matrix$$);this.helpPoint1.x-=$matrix$$.tx;this.helpPoint1.y-=$matrix$$.ty;this.helpPoint2.x=1;this.helpPoint2.y=0;this.helpPoint2=cc.pointApplyAffineTransform(this.helpPoint2,$matrix$$);this.helpPoint2.x-=$matrix$$.tx;this.helpPoint2.y-=$matrix$$.ty;$node$$.skewX=-(Math.atan2(this.helpPoint1.y,this.helpPoint1.x)-
1.5707964);$node$$.skewY=Math.atan2(this.helpPoint2.y,this.helpPoint2.x);$node$$.scaleX=Math.sqrt($matrix$$.a*$matrix$$.a+$matrix$$.b*$matrix$$.b);$node$$.scaleY=Math.sqrt($matrix$$.c*$matrix$$.c+$matrix$$.d*$matrix$$.d);$node$$.x=$matrix$$.tx;$node$$.y=$matrix$$.ty};
ccs.TransformHelp.nodeConcat=function $ccs$TransformHelp$nodeConcat$($target$$,$source$$){$target$$.x+=$source$$.x;$target$$.y+=$source$$.y;$target$$.skewX+=$source$$.skewX;$target$$.skewY+=$source$$.skewY;$target$$.scaleX+=$source$$.scaleX;$target$$.scaleY+=$source$$.scaleY};
ccs.TransformHelp.nodeSub=function $ccs$TransformHelp$nodeSub$($target$$,$source$$){$target$$.x-=$source$$.x;$target$$.y-=$source$$.y;$target$$.skewX-=$source$$.skewX;$target$$.skewY-=$source$$.skewY;$target$$.scaleX-=$source$$.scaleX;$target$$.scaleY-=$source$$.scaleY};
ccs.TweenType={customEasing:-1,linear:0,sineEaseIn:1,sineEaseOut:2,sineEaseInOut:3,quadEaseIn:4,quadEaseOut:5,quadEaseInOut:6,cubicEaseIn:7,cubicEaseOut:8,cubicEaseInOut:9,quartEaseIn:10,quartEaseOut:11,quartEaseInOut:12,quintEaseIn:13,quintEaseOut:14,quintEaseInOut:15,expoEaseIn:16,expoEaseOut:17,expoEaseInOut:18,circEaseIn:19,eircEaseOut:20,circEaseInOut:21,elasticEaseIn:22,elasticEaseOut:23,elasticEaseInOut:24,backEaseIn:25,backEaseOut:26,backEaseInOut:27,bounceEaseIn:28,bounceEaseOut:29,bounceEaseInOut:30,
tweenEasingMax:1E4};ccs.TweenFunction=ccs.TweenFunction||ccs.Class.extend({});ccs.DOUBLE_PI=ccs.M_PI_X_2=2*Math.PI;ccs.HALF_PI=ccs.M_PI_2=Math.PI/2;ccs.M_PI=Math.PI;
ccs.TweenFunction.tweenTo=function $ccs$TweenFunction$tweenTo$($time$$,$period$$10_type$$,$easingParam$$){var $delta$$=0;switch($period$$10_type$$){case ccs.TweenType.customEasing:$delta$$=this.customEase($time$$,$easingParam$$);break;case ccs.TweenType.linear:$delta$$=this.linear($time$$);break;case ccs.TweenType.sineEaseIn:$delta$$=this.sineEaseIn($time$$);break;case ccs.TweenType.sineEaseOut:$delta$$=this.sineEaseOut($time$$);break;case ccs.TweenType.sineEaseInOut:$delta$$=this.sineEaseInOut($time$$);
break;case ccs.TweenType.quadEaseIn:$delta$$=this.quadEaseIn($time$$);break;case ccs.TweenType.quadEaseOut:$delta$$=this.quadEaseOut($time$$);break;case ccs.TweenType.quadEaseInOut:$delta$$=this.quadEaseInOut($time$$);break;case ccs.TweenType.cubicEaseIn:$delta$$=this.cubicEaseIn($time$$);break;case ccs.TweenType.cubicEaseOut:$delta$$=this.cubicEaseOut($time$$);break;case ccs.TweenType.cubicEaseInOut:$delta$$=this.cubicEaseInOut($time$$);break;case ccs.TweenType.quartEaseIn:$delta$$=this.quartEaseIn($time$$);
break;case ccs.TweenType.quartEaseOut:$delta$$=this.quartEaseOut($time$$);break;case ccs.TweenType.quartEaseInOut:$delta$$=this.quartEaseInOut($time$$);break;case ccs.TweenType.quintEaseIn:$delta$$=this.quintEaseIn($time$$);break;case ccs.TweenType.quintEaseOut:$delta$$=this.quintEaseOut($time$$);break;case ccs.TweenType.quintEaseInOut:$delta$$=this.quintEaseInOut($time$$);break;case ccs.TweenType.expoEaseIn:$delta$$=this.expoEaseIn($time$$);break;case ccs.TweenType.expoEaseOut:$delta$$=this.expoEaseOut($time$$);
break;case ccs.TweenType.expoEaseInOut:$delta$$=this.expoEaseInOut($time$$);break;case ccs.TweenType.circEaseIn:$delta$$=this.circEaseIn($time$$);break;case ccs.TweenType.eircEaseOut:$delta$$=this.circEaseOut($time$$);break;case ccs.TweenType.circEaseInOut:$delta$$=this.circEaseInOut($time$$);break;case ccs.TweenType.elasticEaseIn:$period$$10_type$$=.3;null!=$easingParam$$&&0<$easingParam$$.length&&($period$$10_type$$=$easingParam$$[0]);$delta$$=this.elasticEaseIn($time$$,$period$$10_type$$);break;
case ccs.TweenType.elasticEaseOut:$period$$10_type$$=.3;null!=$easingParam$$&&0<$easingParam$$.length&&($period$$10_type$$=$easingParam$$[0]);$delta$$=this.elasticEaseOut($time$$,$period$$10_type$$);break;case ccs.TweenType.elasticEaseInOut:$period$$10_type$$=.3;null!=$easingParam$$&&0<$easingParam$$.length&&($period$$10_type$$=$easingParam$$[0]);$delta$$=this.elasticEaseInOut($time$$,$period$$10_type$$);break;case ccs.TweenType.backEaseIn:$delta$$=this.backEaseIn($time$$);break;case ccs.TweenType.backEaseOut:$delta$$=
this.backEaseOut($time$$);break;case ccs.TweenType.backEaseInOut:$delta$$=this.backEaseInOut($time$$);break;case ccs.TweenType.bounceEaseIn:$delta$$=this.bounceEaseIn($time$$);break;case ccs.TweenType.bounceEaseOut:$delta$$=this.bounceEaseOut($time$$);break;case ccs.TweenType.bounceEaseInOut:$delta$$=this.bounceEaseInOut($time$$);break;default:$delta$$=this.sineEaseInOut($time$$)}return $delta$$};ccs.TweenFunction.linear=function $ccs$TweenFunction$linear$($time$$){return $time$$};
ccs.TweenFunction.sineEaseIn=function $ccs$TweenFunction$sineEaseIn$($time$$){return-1*Math.cos($time$$*ccs.HALF_PI)+1};ccs.TweenFunction.sineEaseOut=function $ccs$TweenFunction$sineEaseOut$($time$$){return Math.sin($time$$*ccs.HALF_PI)};ccs.TweenFunction.sineEaseInOut=function $ccs$TweenFunction$sineEaseInOut$($time$$){return-.5*(Math.cos(ccs.M_PI*$time$$)-1)};ccs.TweenFunction.quadEaseIn=function $ccs$TweenFunction$quadEaseIn$($time$$){return $time$$*$time$$};
ccs.TweenFunction.quadEaseOut=function $ccs$TweenFunction$quadEaseOut$($time$$){return-1*$time$$*($time$$-2)};ccs.TweenFunction.quadEaseInOut=function $ccs$TweenFunction$quadEaseInOut$($time$$){$time$$*=2;if(1>$time$$)return.5*$time$$*$time$$;--$time$$;return-.5*($time$$*($time$$-2)-1)};ccs.TweenFunction.cubicEaseIn=function $ccs$TweenFunction$cubicEaseIn$($time$$){return $time$$*$time$$*$time$$};
ccs.TweenFunction.cubicEaseOut=function $ccs$TweenFunction$cubicEaseOut$($time$$){--$time$$;return $time$$*$time$$*$time$$+1};ccs.TweenFunction.cubicEaseInOut=function $ccs$TweenFunction$cubicEaseInOut$($time$$){$time$$*=2;if(1>$time$$)return.5*$time$$*$time$$*$time$$;$time$$-=2;return.5*($time$$*$time$$*$time$$+2)};ccs.TweenFunction.quartEaseIn=function $ccs$TweenFunction$quartEaseIn$($time$$){return $time$$*$time$$*$time$$*$time$$};
ccs.TweenFunction.quartEaseOut=function $ccs$TweenFunction$quartEaseOut$($time$$){--$time$$;return-($time$$*$time$$*$time$$*$time$$-1)};ccs.TweenFunction.quartEaseInOut=function $ccs$TweenFunction$quartEaseInOut$($time$$){$time$$*=2;if(1>$time$$)return.5*$time$$*$time$$*$time$$*$time$$;$time$$-=2;return-.5*($time$$*$time$$*$time$$*$time$$-2)};ccs.TweenFunction.quintEaseIn=function $ccs$TweenFunction$quintEaseIn$($time$$){return $time$$*$time$$*$time$$*$time$$*$time$$};
ccs.TweenFunction.quintEaseOut=function $ccs$TweenFunction$quintEaseOut$($time$$){--$time$$;return $time$$*$time$$*$time$$*$time$$*$time$$+1};ccs.TweenFunction.quintEaseInOut=function $ccs$TweenFunction$quintEaseInOut$($time$$){$time$$*=2;if(1>$time$$)return.5*$time$$*$time$$*$time$$*$time$$*$time$$;$time$$-=2;return.5*($time$$*$time$$*$time$$*$time$$*$time$$+2)};ccs.TweenFunction.expoEaseIn=function $ccs$TweenFunction$expoEaseIn$($time$$){return 0==$time$$?0:Math.pow(2,10*($time$$-1))-.001};
ccs.TweenFunction.expoEaseOut=function $ccs$TweenFunction$expoEaseOut$($time$$){return 1==$time$$?1:-Math.pow(2,-10*$time$$)+1};ccs.TweenFunction.expoEaseInOut=function $ccs$TweenFunction$expoEaseInOut$($time$$){$time$$/=.5;return $time$$=1>$time$$?.5*Math.pow(2,10*($time$$-1)):.5*(-Math.pow(2,-10*($time$$-1))+2)};ccs.TweenFunction.circEaseIn=function $ccs$TweenFunction$circEaseIn$($time$$){return-1*(Math.sqrt(1-$time$$*$time$$)-1)};
ccs.TweenFunction.circEaseOut=function $ccs$TweenFunction$circEaseOut$($time$$){--$time$$;return Math.sqrt(1-$time$$*$time$$)};ccs.TweenFunction.circEaseInOut=function $ccs$TweenFunction$circEaseInOut$($time$$){$time$$*=2;if(1>$time$$)return-.5*(Math.sqrt(1-$time$$*$time$$)-1);$time$$-=2;return.5*(Math.sqrt(1-$time$$*$time$$)+1)};
ccs.TweenFunction.elasticEaseIn=function $ccs$TweenFunction$elasticEaseIn$($time$$,$easingParam$$){var $period$$=.3;0<$easingParam$$.length&&($period$$=$easingParam$$[0]);var $newT$$8_s$$=0;0==$time$$||1==$time$$?$newT$$8_s$$=$time$$:($newT$$8_s$$=$period$$/4,--$time$$,$newT$$8_s$$=-Math.pow(2,10*$time$$)*Math.sin(($time$$-$newT$$8_s$$)*ccs.DOUBLE_PI/$period$$));return $newT$$8_s$$};
ccs.TweenFunction.elasticEaseOut=function $ccs$TweenFunction$elasticEaseOut$($time$$,$easingParam$$){var $period$$=.3;0<$easingParam$$.length&&($period$$=$easingParam$$[0]);var $newT$$9_s$$=0;0==$time$$||1==$time$$?$newT$$9_s$$=$time$$:($newT$$9_s$$=$period$$/4,$newT$$9_s$$=Math.pow(2,-10*$time$$)*Math.sin(($time$$-$newT$$9_s$$)*ccs.DOUBLE_PI/$period$$)+1);return $newT$$9_s$$};
ccs.TweenFunction.elasticEaseInOut=function $ccs$TweenFunction$elasticEaseInOut$($time$$,$easingParam$$){var $period$$=.3;0<$easingParam$$.length&&($period$$=$easingParam$$[0]);var $newT$$10_s$$=0;0==$time$$||1==$time$$?$newT$$10_s$$=$time$$:($period$$||($period$$=.3*1.5),$newT$$10_s$$=$period$$/4,$time$$=2*$time$$-1,$newT$$10_s$$=0>$time$$?-.5*Math.pow(2,10*$time$$)*Math.sin(($time$$-$newT$$10_s$$)*ccs.DOUBLE_PI/$period$$):Math.pow(2,-10*$time$$)*Math.sin(($time$$-$newT$$10_s$$)*ccs.DOUBLE_PI/$period$$)*
.5+1);return $newT$$10_s$$};ccs.TweenFunction.backEaseIn=function $ccs$TweenFunction$backEaseIn$($time$$){return $time$$*$time$$*(2.70158*$time$$-1.70158)};ccs.TweenFunction.backEaseOut=function $ccs$TweenFunction$backEaseOut$($time$$){--$time$$;return $time$$*$time$$*(2.70158*$time$$+1.70158)+1};
ccs.TweenFunction.backEaseInOut=function $ccs$TweenFunction$backEaseInOut$($time$$){$time$$*=2;if(1>$time$$)return $time$$*$time$$*(3.5949095*$time$$-2.5949095)/2;$time$$-=2;return $time$$*$time$$*(3.5949095*$time$$+2.5949095)/2+1};
ccs.bounceTime=function $ccs$bounceTime$($time$$){if($time$$<1/2.75)return 7.5625*$time$$*$time$$;if($time$$<2/2.75)return $time$$-=1.5/2.75,7.5625*$time$$*$time$$+.75;if($time$$<2.5/2.75)return $time$$-=2.25/2.75,7.5625*$time$$*$time$$+.9375;$time$$-=2.625/2.75;return 7.5625*$time$$*$time$$+.984375};ccs.TweenFunction.bounceEaseIn=function $ccs$TweenFunction$bounceEaseIn$($time$$){return 1-ccs.bounceTime(1-$time$$)};ccs.TweenFunction.bounceEaseOut=function $ccs$TweenFunction$bounceEaseOut$($time$$){return ccs.bounceTime($time$$)};
ccs.TweenFunction.bounceEaseInOut=function $ccs$TweenFunction$bounceEaseInOut$($time$$){var $newT$$=0;return $newT$$=.5>$time$$?.5*(1-ccs.bounceTime(1-2*$time$$)):.5*ccs.bounceTime(2*$time$$-1)+.5};ccs.TweenFunction.customEase=function $ccs$TweenFunction$customEase$($time$$,$easingParam$$){if(0<$easingParam$$.length){var $tt$$=1-$time$$;return $easingParam$$[1]*$tt$$*$tt$$*$tt$$+3*$easingParam$$[3]*$time$$*$tt$$*$tt$$+3*$easingParam$$[5]*$time$$*$time$$*$tt$$+$easingParam$$[7]*$time$$*$time$$*$time$$}return $time$$};
ccs.TweenFunction.easeIn=function $ccs$TweenFunction$easeIn$($time$$,$rate$$){return Math.pow($time$$,$rate$$)};ccs.TweenFunction.easeOut=function $ccs$TweenFunction$easeOut$($time$$,$rate$$){return Math.pow($time$$,1/$rate$$)};ccs.TweenFunction.easeInOut=function $ccs$TweenFunction$easeInOut$($time$$,$rate$$){$time$$*=2;return 1>$time$$?.5*Math.pow($time$$,$rate$$):1-.5*Math.pow(2-$time$$,$rate$$)};
ccs.TweenFunction.quadraticIn=function $ccs$TweenFunction$quadraticIn$($time$$){return Math.pow($time$$,2)};ccs.TweenFunction.quadraticOut=function $ccs$TweenFunction$quadraticOut$($time$$){return-$time$$*($time$$-2)};ccs.TweenFunction.bezieratFunction=function $ccs$TweenFunction$bezieratFunction$($a$$,$b$$,$c$$,$d$$,$t$$){return Math.pow(1-$t$$,3)*$a$$+3*$t$$*Math.pow(1-$t$$,2)*$b$$+3*Math.pow($t$$,2)*(1-$t$$)*$c$$+Math.pow($t$$,3)*$d$$};var ENABLE_PHYSICS_DETECT=!1;
ccs.fmodf=function $ccs$fmodf$($x$$,$y$$){for(;$x$$>$y$$;)$x$$-=$y$$;return $x$$};var CC_SAFE_RELEASE=function $CC_SAFE_RELEASE$($obj$$){$obj$$&&$obj$$.release&&$obj$$.release()};
ccs.isSpriteContainPoint=function $ccs$isSpriteContainPoint$($s$$43_sprite$$,$p$$35_point$$,$outPoint$$){$p$$35_point$$=$s$$43_sprite$$.convertToNodeSpace($p$$35_point$$);$outPoint$$&&($outPoint$$.x=$p$$35_point$$.x,$outPoint$$.y=$p$$35_point$$.y);$s$$43_sprite$$=$s$$43_sprite$$.getContentSize();return cc.rectContainsPoint(cc.rect(0,0,$s$$43_sprite$$.width,$s$$43_sprite$$.height),$p$$35_point$$)};ccs.SPRITE_CONTAIN_POINT=ccs.isSpriteContainPoint;ccs.SPRITE_CONTAIN_POINT_WITH_RETURN=ccs.isSpriteContainPoint;
ccs.extBezierTo=function $ccs$extBezierTo$($t$$,$point1$$,$point2$$,$point3$$,$point4$$){var $p$$=cc.p(0,0);$point3$$&&!$point4$$&&($p$$.x=Math.pow(1-$t$$,2)*$point1$$.x+2*$t$$*(1-$t$$)*$point2$$.x+Math.pow($t$$,2)*$point3$$.x,$p$$.y=Math.pow(1-$t$$,2)*$point1$$.y+2*$t$$*(1-$t$$)*$point2$$.y+Math.pow($t$$,2)*$point3$$.y);$point4$$&&($p$$.x=$point1$$.x*Math.pow(1-$t$$,3)+3*$t$$*$point2$$.x*Math.pow(1-$t$$,2)+3*$point3$$.x*Math.pow($t$$,2)*(1-$t$$)+$point4$$.x*Math.pow($t$$,3),$p$$.y=$point1$$.y*Math.pow(1-
$t$$,3)+3*$t$$*$point2$$.y*Math.pow(1-$t$$,2)+3*$point3$$.y*Math.pow($t$$,2)*(1-$t$$)+$point4$$.y*Math.pow($t$$,3));return $p$$};ccs.extCircleTo=function $ccs$extCircleTo$($t$$,$center$$,$radius$$,$fromRadian$$,$radianDif$$){var $p$$=cc.p(0,0);$p$$.x=$center$$.x+$radius$$*Math.cos($fromRadian$$+$radianDif$$*$t$$);$p$$.y=$center$$.y+$radius$$*Math.sin($fromRadian$$+$radianDif$$*$t$$);return $p$$};
ccs.RelativeData=function $ccs$RelativeData$(){this.plistFiles=[];this.armatures=[];this.animations=[];this.textures=[]};
ccs.armatureDataManager={_animationDatas:{},_armatureDatas:{},_textureDatas:{},_autoLoadSpriteFile:!1,_relativeDatas:{},s_sharedArmatureDataManager:null,removeArmatureFileInfo:function $ccs$armatureDataManager$removeArmatureFileInfo$($configFilePath$$){var $data$$=this.getRelativeData($configFilePath$$);if($data$$){var $i$$,$obj$$;for($i$$=0;$i$$<$data$$.armatures.length;$i$$++)$obj$$=$data$$.armatures[$i$$],this.removeArmatureData($obj$$);for($i$$=0;$i$$<$data$$.animations.length;$i$$++)$obj$$=$data$$.animations[$i$$],
this.removeAnimationData($obj$$);for($i$$=0;$i$$<$data$$.textures.length;$i$$++)$obj$$=$data$$.textures[$i$$],this.removeTextureData($obj$$);for($i$$=0;$i$$<$data$$.plistFiles.length;$i$$++)$obj$$=$data$$.plistFiles[$i$$],cc.spriteFrameCache.removeSpriteFramesFromFile($obj$$);delete this._relativeDatas[$configFilePath$$];ccs.dataReaderHelper.removeConfigFile($configFilePath$$)}},addArmatureData:function $ccs$armatureDataManager$addArmatureData$($id$$,$armatureData$$,$configFilePath$$1_data$$){($configFilePath$$1_data$$=
this.getRelativeData($configFilePath$$1_data$$))&&$configFilePath$$1_data$$.armatures.push($id$$);this._armatureDatas[$id$$]=$armatureData$$},getArmatureData:function $ccs$armatureDataManager$getArmatureData$($id$$){var $armatureData$$=null;this._armatureDatas&&($armatureData$$=this._armatureDatas[$id$$]);return $armatureData$$},removeArmatureData:function $ccs$armatureDataManager$removeArmatureData$($id$$){this._armatureDatas[$id$$]&&delete this._armatureDatas[$id$$]},addAnimationData:function $ccs$armatureDataManager$addAnimationData$($id$$,
$animationData$$,$configFilePath$$2_data$$){($configFilePath$$2_data$$=this.getRelativeData($configFilePath$$2_data$$))&&$configFilePath$$2_data$$.animations.push($id$$);this._animationDatas[$id$$]=$animationData$$},getAnimationData:function $ccs$armatureDataManager$getAnimationData$($id$$){var $animationData$$=null;this._animationDatas[$id$$]&&($animationData$$=this._animationDatas[$id$$]);return $animationData$$},removeAnimationData:function $ccs$armatureDataManager$removeAnimationData$($id$$){this._animationDatas[$id$$]&&
delete this._animationDatas[$id$$]},addTextureData:function $ccs$armatureDataManager$addTextureData$($id$$,$textureData$$,$configFilePath$$3_data$$){($configFilePath$$3_data$$=this.getRelativeData($configFilePath$$3_data$$))&&$configFilePath$$3_data$$.textures.push($id$$);this._textureDatas[$id$$]=$textureData$$},getTextureData:function $ccs$armatureDataManager$getTextureData$($id$$){var $textureData$$=null;this._textureDatas&&($textureData$$=this._textureDatas[$id$$]);return $textureData$$},removeTextureData:function $ccs$armatureDataManager$removeTextureData$($id$$){this._textureDatas[$id$$]&&
delete this._textureDatas[$id$$]},addArmatureFileInfo:function $ccs$armatureDataManager$addArmatureFileInfo$(){var $imagePath$$,$plistPath$$,$configFilePath$$;switch(arguments.length){case 1:$configFilePath$$=arguments[0];this.addRelativeData($configFilePath$$);this._autoLoadSpriteFile=!0;ccs.dataReaderHelper.addDataFromFile($configFilePath$$);break;case 3:$imagePath$$=arguments[0],$plistPath$$=arguments[1],$configFilePath$$=arguments[2],this.addRelativeData($configFilePath$$),this._autoLoadSpriteFile=
!1,ccs.dataReaderHelper.addDataFromFile($configFilePath$$),this.addSpriteFrameFromFile($plistPath$$,$imagePath$$)}},addArmatureFileInfoAsync:function $ccs$armatureDataManager$addArmatureFileInfoAsync$(){var $imagePath$$,$plistPath$$,$configFilePath$$,$target$$,$selector$$;switch(arguments.length){case 3:$configFilePath$$=arguments[0];$target$$=arguments[2];$selector$$=arguments[1];this.addRelativeData($configFilePath$$);this._autoLoadSpriteFile=!0;ccs.dataReaderHelper.addDataFromFileAsync("","",$configFilePath$$,
$selector$$,$target$$);break;case 5:$imagePath$$=arguments[0],$plistPath$$=arguments[1],$configFilePath$$=arguments[2],$target$$=arguments[4],$selector$$=arguments[3],this.addRelativeData($configFilePath$$),this._autoLoadSpriteFile=!1,ccs.dataReaderHelper.addDataFromFileAsync($imagePath$$,$plistPath$$,$configFilePath$$,$selector$$,$target$$),this.addSpriteFrameFromFile($plistPath$$,$imagePath$$)}},addSpriteFrameFromFile:function $ccs$armatureDataManager$addSpriteFrameFromFile$($plistPath$$,$imagePath$$,
$configFilePath$$6_data$$){($configFilePath$$6_data$$=this.getRelativeData($configFilePath$$6_data$$))&&$configFilePath$$6_data$$.plistFiles.push($plistPath$$);ccs.spriteFrameCacheHelper.addSpriteFrameFromFile($plistPath$$,$imagePath$$)},isAutoLoadSpriteFile:function $ccs$armatureDataManager$isAutoLoadSpriteFile$(){return this._autoLoadSpriteFile},getArmatureDatas:function $ccs$armatureDataManager$getArmatureDatas$(){return this._armatureDatas},getAnimationDatas:function $ccs$armatureDataManager$getAnimationDatas$(){return this._animationDatas},
getTextureDatas:function $ccs$armatureDataManager$getTextureDatas$(){return this._textureDatas},addRelativeData:function $ccs$armatureDataManager$addRelativeData$($configFilePath$$){this._relativeDatas[$configFilePath$$]||(this._relativeDatas[$configFilePath$$]=new ccs.RelativeData)},getRelativeData:function $ccs$armatureDataManager$getRelativeData$($configFilePath$$){return this._relativeDatas[$configFilePath$$]},clear:function $ccs$armatureDataManager$clear$(){this._animationDatas={};this._armatureDatas=
{};this._textureDatas={};ccs.spriteFrameCacheHelper.clear();ccs.dataReaderHelper.clear()}};ccs.BLEND_TYPE_NORMAL=0;ccs.BLEND_TYPE_LAYER=1;ccs.BLEND_TYPE_DARKEN=2;ccs.BLEND_TYPE_MULTIPLY=3;ccs.BLEND_TYPE_LIGHTEN=4;ccs.BLEND_TYPE_SCREEN=5;ccs.BLEND_TYPE_OVERLAY=6;ccs.BLEND_TYPE_HIGHLIGHT=7;ccs.BLEND_TYPE_ADD=8;ccs.BLEND_TYPE_SUBTRACT=9;ccs.BLEND_TYPE_DIFFERENCE=10;ccs.BLEND_TYPE_INVERT=11;ccs.BLEND_TYPE_ALPHA=12;ccs.BLEND_TYPE_ERASE=13;ccs.DISPLAY_TYPE_SPRITE=0;ccs.DISPLAY_TYPE_ARMATURE=1;
ccs.DISPLAY_TYPE_PARTICLE=2;ccs.DISPLAY_TYPE_MAX=3;
ccs.BaseData=ccs.Class.extend({x:0,y:0,zOrder:0,skewX:0,skewY:0,scaleX:1,scaleY:1,tweenRotate:0,isUseColorInfo:!1,r:255,g:255,b:255,a:255,ctor:function(){this.skewY=this.skewX=this.zOrder=this.y=this.x=0;this.scaleY=this.scaleX=1;this.tweenRotate=0;this.isUseColorInfo=!1;this.a=this.b=this.g=this.r=255},copy:function($node$$){this.x=$node$$.x;this.y=$node$$.y;this.zOrder=$node$$.zOrder;this.scaleX=$node$$.scaleX;this.scaleY=$node$$.scaleY;this.skewX=$node$$.skewX;this.skewY=$node$$.skewY;this.tweenRotate=
$node$$.tweenRotate;this.isUseColorInfo=$node$$.isUseColorInfo;this.r=$node$$.r;this.g=$node$$.g;this.b=$node$$.b;this.a=$node$$.a},setColor:function($color$$){this.r=$color$$.r;this.g=$color$$.g;this.b=$color$$.b;this.a=$color$$.a},getColor:function(){return cc.color(this.r,this.g,this.b,this.a)},subtract:function($from$$,$to$$,$limit$$){this.x=$to$$.x-$from$$.x;this.y=$to$$.y-$from$$.y;this.scaleX=$to$$.scaleX-$from$$.scaleX;this.scaleY=$to$$.scaleY-$from$$.scaleY;this.skewX=$to$$.skewX-$from$$.skewX;
this.skewY=$to$$.skewY-$from$$.skewY;this.isUseColorInfo||$from$$.isUseColorInfo||$to$$.isUseColorInfo?(this.a=$to$$.a-$from$$.a,this.r=$to$$.r-$from$$.r,this.g=$to$$.g-$from$$.g,this.b=$to$$.b-$from$$.b,this.isUseColorInfo=!0):(this.a=this.r=this.g=this.b=0,this.isUseColorInfo=!1);$limit$$&&(this.skewX>ccs.M_PI&&(this.skewX-=ccs.DOUBLE_PI),this.skewX<-ccs.M_PI&&(this.skewX+=ccs.DOUBLE_PI),this.skewY>ccs.M_PI&&(this.skewY-=ccs.DOUBLE_PI),this.skewY<-ccs.M_PI&&(this.skewY+=ccs.DOUBLE_PI));$to$$.tweenRotate&&
(this.skewX+=$to$$.tweenRotate*ccs.PI*2,this.skewY-=$to$$.tweenRotate*ccs.PI*2)}});
ccs.DisplayData=ccs.Class.extend({displayType:ccs.DISPLAY_TYPE_MAX,displayName:"",ctor:function(){this.displayType=ccs.DISPLAY_TYPE_MAX},changeDisplayToTexture:function($displayName$$1_textureName$$){var $startPos$$=$displayName$$1_textureName$$.lastIndexOf(".");-1!=$startPos$$&&($displayName$$1_textureName$$=$displayName$$1_textureName$$.substring(0,$startPos$$));return $displayName$$1_textureName$$},copy:function($displayData$$){this.displayName=$displayData$$.displayName;this.displayType=$displayData$$.displayType}});
ccs.SpriteDisplayData=ccs.DisplayData.extend({skinData:null,ctor:function(){this.skinData=new ccs.BaseData;this.displayType=ccs.DISPLAY_TYPE_SPRITE},copy:function($displayData$$){ccs.DisplayData.prototype.copy.call(this,$displayData$$);this.skinData=$displayData$$.skinData}});ccs.ArmatureDisplayData=ccs.DisplayData.extend({ctor:function(){this.displayName="";this.displayType=ccs.DISPLAY_TYPE_ARMATURE}});ccs.ParticleDisplayData=ccs.DisplayData.extend({ctor:function(){this.displayType=ccs.DISPLAY_TYPE_PARTICLE}});
ccs.BoneData=ccs.BaseData.extend({displayDataList:null,name:"",parentName:"",boneDataTransform:null,ctor:function(){this.displayDataList=[];this.parentName=this.name="";this.boneDataTransform=null},init:function(){this.displayDataList.length=0;return!0},addDisplayData:function($displayData$$){this.displayDataList.push($displayData$$)},getDisplayData:function($index$$){return this.displayDataList[$index$$]}});
ccs.ArmatureData=ccs.Class.extend({boneDataDic:null,name:"",dataVersion:.1,ctor:function(){this.boneDataDic={};this.name="";this.dataVersion=.1},init:function(){return!0},addBoneData:function($boneData$$){this.boneDataDic[$boneData$$.name]=$boneData$$},getBoneDataDic:function(){return this.boneDataDic},getBoneData:function($boneName$$){return this.boneDataDic[$boneName$$]}});
ccs.FrameData=ccs.BaseData.extend({duration:0,tweenEasing:0,easingParamNumber:0,easingParams:null,displayIndex:-1,movement:"",event:"",sound:"",soundEffect:"",blendFunc:null,frameID:0,isTween:!0,ctor:function(){ccs.BaseData.prototype.ctor.call(this);this.duration=1;this.tweenEasing=ccs.TweenType.linear;this.easingParamNumber=0;this.easingParams=[];this.displayIndex=0;this.soundEffect=this.sound=this.event=this.movement="";this.blendFunc=new cc.BlendFunc(cc.BLEND_SRC,cc.BLEND_DST);this.frameID=0;this.isTween=
!0},copy:function($frameData$$){ccs.BaseData.prototype.copy.call(this,$frameData$$);this.duration=$frameData$$.duration;this.displayIndex=$frameData$$.displayIndex;this.tweenEasing=$frameData$$.tweenEasing;this.easingParamNumber=$frameData$$.easingParamNumber;if(0!=this.easingParamNumber)for(var $i$$=this.easingParams.length=0;$i$$<this.easingParamNumber;$i$$++)this.easingParams[$i$$]=$frameData$$.easingParams[$i$$];this.blendFunc=$frameData$$.blendFunc;this.isTween=$frameData$$.isTween}});
ccs.MovementBoneData=ccs.Class.extend({delay:0,scale:1,duration:0,frameList:null,name:"",ctor:function(){this.delay=0;this.scale=1;this.duration=0;this.frameList=[];this.name=""},init:function(){return!0},addFrameData:function($frameData$$){this.frameList.push($frameData$$)},getFrameData:function($index$$){return this.frameList[$index$$]}});
ccs.MovementData=function $ccs$MovementData$(){this.name="";this.duration=0;this.scale=1;this.durationTween=this.durationTo=0;this.loop=!0;this.tweenEasing=ccs.TweenType.linear;this.movBoneDataDic={}};ccs.MovementData.prototype.addMovementBoneData=function $ccs$MovementData$$addMovementBoneData$($movBoneData$$){this.movBoneDataDic[$movBoneData$$.name]=$movBoneData$$};ccs.MovementData.prototype.getMovementBoneData=function $ccs$MovementData$$getMovementBoneData$($boneName$$){return this.movBoneDataDic[$boneName$$]};
ccs.AnimationData=function $ccs$AnimationData$(){this.movementDataDic={};this.movementNames=[];this.name=""};ccs.AnimationData.prototype.addMovement=function $ccs$AnimationData$$addMovement$($moveData$$){this.movementDataDic[$moveData$$.name]=$moveData$$;this.movementNames.push($moveData$$.name)};ccs.AnimationData.prototype.getMovement=function $ccs$AnimationData$$getMovement$($moveName$$){return this.movementDataDic[$moveName$$]};ccs.AnimationData.prototype.getMovementCount=function $ccs$AnimationData$$getMovementCount$(){return Object.keys(this.movementDataDic).length};
ccs.ContourVertex2=function $ccs$ContourVertex2$($x$$,$y$$){this.x=$x$$||0;this.y=$y$$||0};ccs.ContourData=function $ccs$ContourData$(){this.vertexList=[]};ccs.ContourData.prototype.init=function $ccs$ContourData$$init$(){this.vertexList.length=0;return!0};ccs.ContourData.prototype.addVertex=function $ccs$ContourData$$addVertex$($p$$){this.vertexList.push($p$$)};ccs.TextureData=function $ccs$TextureData$(){this.width=this.height=0;this.pivotY=this.pivotX=.5;this.name="";this.contourDataList=[]};
ccs.TextureData.prototype.init=function $ccs$TextureData$$init$(){this.contourDataList.length=0};ccs.TextureData.prototype.addContourData=function $ccs$TextureData$$addContourData$($contourData$$){this.contourDataList.push($contourData$$)};ccs.TextureData.prototype.getContourData=function $ccs$TextureData$$getContourData$($index$$){return this.contourDataList[$index$$]};
ccs.DecorativeDisplay=ccs.Class.extend({_display:null,_colliderDetector:null,_displayData:null,ctor:function(){this._displayData=this._colliderDetector=this._display=null},init:function(){return!0},setDisplay:function($display$$){$display$$._parent&&($display$$._parent.removeChild($display$$),delete $display$$._parent);this._display=$display$$},getDisplay:function(){return this._display},setColliderDetector:function($colliderDetector$$){this._colliderDetector=$colliderDetector$$},getColliderDetector:function(){return this._colliderDetector},
setDisplayData:function($displayData$$){this._displayData=$displayData$$},getDisplayData:function(){return this._displayData},release:function(){this._colliderDetector=this._displayData=this._display=null}});ccs.DecorativeDisplay.create=function $ccs$DecorativeDisplay$create$(){return new ccs.DecorativeDisplay};
ccs.displayFactory={addDisplay:function $ccs$displayFactory$addDisplay$($bone$$,$decoDisplay$$,$displayData$$){switch($displayData$$.displayType){case ccs.DISPLAY_TYPE_SPRITE:this.addSpriteDisplay($bone$$,$decoDisplay$$,$displayData$$);break;case ccs.DISPLAY_TYPE_PARTICLE:this.addParticleDisplay($bone$$,$decoDisplay$$,$displayData$$);break;case ccs.DISPLAY_TYPE_ARMATURE:this.addArmatureDisplay($bone$$,$decoDisplay$$,$displayData$$)}},createDisplay:function $ccs$displayFactory$createDisplay$($bone$$,
$decoDisplay$$){switch($decoDisplay$$.getDisplayData().displayType){case ccs.DISPLAY_TYPE_SPRITE:this.createSpriteDisplay($bone$$,$decoDisplay$$);break;case ccs.DISPLAY_TYPE_PARTICLE:this.createParticleDisplay($bone$$,$decoDisplay$$);break;case ccs.DISPLAY_TYPE_ARMATURE:this.createArmatureDisplay($bone$$,$decoDisplay$$)}},_helpTransform:{a:1,b:0,c:0,d:1,tx:0,ty:0},updateDisplay:function $ccs$displayFactory$updateDisplay$($bone$$5_t$$,$anchorPoint_dt$$136_node$$247_transform$$,$detector_dirty$$){var $decoDisplay$$2_display$$=
$bone$$5_t$$.getDisplayRenderNode();if($decoDisplay$$2_display$$){switch($bone$$5_t$$.getDisplayRenderNodeType()){case ccs.DISPLAY_TYPE_SPRITE:$detector_dirty$$&&$decoDisplay$$2_display$$.updateArmatureTransform();break;case ccs.DISPLAY_TYPE_PARTICLE:this.updateParticleDisplay($bone$$5_t$$,$decoDisplay$$2_display$$,$anchorPoint_dt$$136_node$$247_transform$$);break;case ccs.DISPLAY_TYPE_ARMATURE:this.updateArmatureDisplay($bone$$5_t$$,$decoDisplay$$2_display$$,$anchorPoint_dt$$136_node$$247_transform$$);
break;default:$anchorPoint_dt$$136_node$$247_transform$$=$bone$$5_t$$.getNodeToArmatureTransform(),$decoDisplay$$2_display$$.setAdditionalTransform($anchorPoint_dt$$136_node$$247_transform$$)}if((ccs.ENABLE_PHYSICS_CHIPMUNK_DETECT||ccs.ENABLE_PHYSICS_SAVE_CALCULATED_VERTEX)&&$detector_dirty$$&&($decoDisplay$$2_display$$=$bone$$5_t$$.getDisplayManager().getCurrentDecorativeDisplay(),$detector_dirty$$=$decoDisplay$$2_display$$.getColliderDetector())){$anchorPoint_dt$$136_node$$247_transform$$=$decoDisplay$$2_display$$.getDisplay();
var $displayTransform$$=$anchorPoint_dt$$136_node$$247_transform$$.nodeToParentTransform(),$decoDisplay$$2_display$$=this._helpTransform;$decoDisplay$$2_display$$.a=$displayTransform$$.a;$decoDisplay$$2_display$$.b=$displayTransform$$.b;$decoDisplay$$2_display$$.c=$displayTransform$$.c;$decoDisplay$$2_display$$.d=$displayTransform$$.d;$decoDisplay$$2_display$$.tx=$displayTransform$$.tx;$decoDisplay$$2_display$$.ty=$displayTransform$$.ty;$anchorPoint_dt$$136_node$$247_transform$$=cc.pointApplyAffineTransform($anchorPoint_dt$$136_node$$247_transform$$.getAnchorPointInPoints(),
$decoDisplay$$2_display$$);$decoDisplay$$2_display$$.tx=$anchorPoint_dt$$136_node$$247_transform$$.x;$decoDisplay$$2_display$$.ty=$anchorPoint_dt$$136_node$$247_transform$$.y;$bone$$5_t$$=cc.affineTransformConcat($decoDisplay$$2_display$$,$bone$$5_t$$.getArmature().nodeToParentTransform());$detector_dirty$$.updateTransform($bone$$5_t$$)}}},addSpriteDisplay:function $ccs$displayFactory$addSpriteDisplay$($bone$$,$decoDisplay$$,$displayData$$){var $sdp$$=new ccs.SpriteDisplayData;$sdp$$.copy($displayData$$);
$decoDisplay$$.setDisplayData($sdp$$);this.createSpriteDisplay($bone$$,$decoDisplay$$)},createSpriteDisplay:function $ccs$displayFactory$createSpriteDisplay$($bone$$,$decoDisplay$$){var $skin_textureName$$=null,$displayData$$=$decoDisplay$$.getDisplayData(),$skin_textureName$$=$displayData$$.displayName,$armature_startPos$$=$skin_textureName$$.lastIndexOf(".");-1!=$armature_startPos$$&&($skin_textureName$$=$skin_textureName$$.substring(0,$armature_startPos$$));$skin_textureName$$=""==$skin_textureName$$?
new ccs.Skin:new ccs.Skin("#"+$skin_textureName$$+".png");$decoDisplay$$.setDisplay($skin_textureName$$);null!=$skin_textureName$$&&($skin_textureName$$.setBone($bone$$),this.initSpriteDisplay($bone$$,$decoDisplay$$,$displayData$$.displayName,$skin_textureName$$),($armature_startPos$$=$bone$$.getArmature())&&($armature_startPos$$.getArmatureData().dataVersion>=ccs.CONST_VERSION_COMBINED?$skin_textureName$$.setSkinData($displayData$$.skinData):$skin_textureName$$.setSkinData($bone$$.boneData)))},initSpriteDisplay:function $ccs$displayFactory$initSpriteDisplay$($bone$$8_colliderDetector$$,
$decoDisplay$$,$displayName$$2_textureData$$7_textureName$$,$skin$$){var $startPos$$=$displayName$$2_textureData$$7_textureName$$.lastIndexOf(".");-1!=$startPos$$&&($displayName$$2_textureData$$7_textureName$$=$displayName$$2_textureData$$7_textureName$$.substring(0,$startPos$$));($displayName$$2_textureData$$7_textureName$$=ccs.armatureDataManager.getTextureData($displayName$$2_textureData$$7_textureName$$))&&$skin$$.setAnchorPoint(cc.p($displayName$$2_textureData$$7_textureName$$.pivotX,$displayName$$2_textureData$$7_textureName$$.pivotY));
(ccs.ENABLE_PHYSICS_CHIPMUNK_DETECT||ccs.ENABLE_PHYSICS_SAVE_CALCULATED_VERTEX)&&$displayName$$2_textureData$$7_textureName$$&&0<$displayName$$2_textureData$$7_textureName$$.contourDataList.length&&($bone$$8_colliderDetector$$=new ccs.ColliderDetector($bone$$8_colliderDetector$$),$bone$$8_colliderDetector$$.addContourDataList($displayName$$2_textureData$$7_textureName$$.contourDataList),$decoDisplay$$.setColliderDetector($bone$$8_colliderDetector$$))},addArmatureDisplay:function $ccs$displayFactory$addArmatureDisplay$($bone$$,
$decoDisplay$$,$displayData$$){var $adp$$=new ccs.ArmatureDisplayData;$adp$$.copy($displayData$$);$decoDisplay$$.setDisplayData($adp$$);this.createArmatureDisplay($bone$$,$decoDisplay$$)},createArmatureDisplay:function $ccs$displayFactory$createArmatureDisplay$($bone$$,$decoDisplay$$){var $armature$$1_displayData$$=$decoDisplay$$.getDisplayData(),$armature$$1_displayData$$=new ccs.Armature($armature$$1_displayData$$.displayName,$bone$$);$decoDisplay$$.setDisplay($armature$$1_displayData$$)},updateArmatureDisplay:function $ccs$displayFactory$updateArmatureDisplay$($bone$$,
$armature$$,$dt$$){$armature$$&&($armature$$.sortAllChildren(),$armature$$.update($dt$$))},addParticleDisplay:function $ccs$displayFactory$addParticleDisplay$($bone$$,$decoDisplay$$,$displayData$$){var $adp$$=new ccs.ParticleDisplayData;$adp$$.copy($displayData$$);$decoDisplay$$.setDisplayData($adp$$);this.createParticleDisplay($bone$$,$decoDisplay$$)},createParticleDisplay:function $ccs$displayFactory$createParticleDisplay$($bone$$,$decoDisplay$$){var $displayData$$=$decoDisplay$$.getDisplayData(),
$displayData$$=new cc.ParticleSystem($displayData$$.displayName);$displayData$$.removeFromParent();$displayData$$.cleanup();$bone$$.getArmature()&&$displayData$$.setParent($bone$$.getArmature());$decoDisplay$$.setDisplay($displayData$$)},updateParticleDisplay:function $ccs$displayFactory$updateParticleDisplay$($bone$$,$particleSystem$$,$dt$$){var $node$$=new ccs.BaseData;ccs.TransformHelp.matrixToNode($bone$$.nodeToArmatureTransform(),$node$$);$particleSystem$$.setPosition($node$$.x,$node$$.y);$particleSystem$$.setScaleX($node$$.scaleX);
$particleSystem$$.setScaleY($node$$.scaleY);$particleSystem$$.update($dt$$)}};
ccs.DisplayManager=ccs.Class.extend({_decoDisplayList:null,_currentDecoDisplay:null,_displayRenderNode:null,_displayIndex:null,_forceChangeDisplay:!1,_bone:null,_visible:!0,_displayType:null,ctor:function($bone$$){this._decoDisplayList=[];this._displayIndex=this._displayRenderNode=this._currentDecoDisplay=null;this._forceChangeDisplay=!1;this._bone=null;this._visible=!0;this._displayType=ccs.DISPLAY_TYPE_MAX;$bone$$&&ccs.DisplayManager.prototype.init.call(this,$bone$$)},init:function($bone$$){this._bone=
$bone$$;this.initDisplayList($bone$$.getBoneData());return!0},addDisplay:function($display$$,$index$$){var $decoDisplay$$,$armature$$=this._decoDisplayList;0<=$index$$&&$index$$<$armature$$.length?$decoDisplay$$=$armature$$[$index$$]:($decoDisplay$$=new ccs.DecorativeDisplay,$armature$$.push($decoDisplay$$));if($display$$ instanceof ccs.DisplayData)cc.displayFactory.addDisplay(this._bone,$decoDisplay$$,$display$$);else{var $displayData$$=null;if($display$$ instanceof ccs.Skin){$display$$.setBone(this._bone);
$displayData$$=new ccs.SpriteDisplayData;ccs.displayFactory.initSpriteDisplay(this._bone,$decoDisplay$$,$display$$.getDisplayName(),$display$$);var $find$$=$decoDisplay$$.getDisplayData();if($find$$ instanceof ccs.SpriteDisplayData)$display$$.setSkinData($find$$.skinData),$displayData$$.skinData=$find$$.skinData;else{for(var $find$$=!1,$i$$=$armature$$.length-2;0<=$i$$;$i$$--){var $sdd$$=$armature$$[$i$$].getDisplayData();if($sdd$$ instanceof ccs.SpriteDisplayData){$find$$=!0;$display$$.setSkinData($sdd$$.skinData);
$displayData$$.skinData=$sdd$$.skinData;break}}$find$$||$display$$.setSkinData(new ccs.BaseData)}}else $display$$ instanceof cc.ParticleSystem?($displayData$$=new ccs.ParticleDisplayData,$display$$.removeFromParent(),$display$$.cleanup(),($armature$$=this._bone.getArmature())&&$display$$.setParent($armature$$)):$display$$ instanceof ccs.Armature?($displayData$$=new ccs.ArmatureDisplayData,$displayData$$.displayName=$display$$.getName(),$display$$.setParentBone(this._bone)):$displayData$$=new ccs.DisplayData;
$decoDisplay$$.setDisplay($display$$);$decoDisplay$$.setDisplayData($displayData$$)}$index$$==this._displayIndex&&(this._displayIndex=-1,this.changeDisplayWithIndex($index$$,!1))},_addDisplayOther:function($decoDisplay$$,$display$$){var $displayData$$=null;if($display$$ instanceof ccs.Skin){$display$$.setBone(this._bone);$displayData$$=new ccs.SpriteDisplayData;$displayData$$.displayName=$display$$.getDisplayName();ccs.displayFactory.initSpriteDisplay(this._bone,$decoDisplay$$,$display$$.getDisplayName(),
$display$$);var $find$$2_spriteDisplayData$$=$decoDisplay$$.getDisplayData();if($find$$2_spriteDisplayData$$ instanceof ccs.SpriteDisplayData)$display$$.setSkinData($find$$2_spriteDisplayData$$.skinData);else{for(var $find$$2_spriteDisplayData$$=!1,$i$$=this._decoDisplayList.length-2;0<=$i$$;$i$$--){var $sdd$$=this._decoDisplayList[$i$$].getDisplayData();if($sdd$$){$find$$2_spriteDisplayData$$=!0;$display$$.setSkinData($sdd$$.skinData);$displayData$$.skinData=$sdd$$.skinData;break}}$find$$2_spriteDisplayData$$||
$display$$.setSkinData(new ccs.BaseData);$display$$.setSkinData(new ccs.BaseData)}}else $display$$ instanceof cc.ParticleSystem?($displayData$$=new ccs.ParticleDisplayData,$displayData$$.displayName=$display$$._plistFile):$display$$ instanceof ccs.Armature?($displayData$$=new ccs.ArmatureDisplayData,$displayData$$.displayName=$display$$.getName(),$display$$.setParentBone(this._bone)):$displayData$$=new ccs.DisplayData;$decoDisplay$$.setDisplay($display$$);$decoDisplay$$.setDisplayData($displayData$$)},
removeDisplay:function($index$$){this._decoDisplayList.splice($index$$,1);$index$$===this._displayIndex&&(this.setCurrentDecorativeDisplay(null),this._displayIndex=-1)},getDecorativeDisplayList:function(){return this._decoDisplayList},changeDisplayWithIndex:function($index$$,$force$$){$index$$>=this._decoDisplayList.length?cc.log("the index value is out of range"):(this._forceChangeDisplay=$force$$,this._displayIndex!=$index$$&&(this._displayIndex=$index$$,0>$index$$?this._displayRenderNode&&(this._displayRenderNode.removeFromParent(!0),
this.setCurrentDecorativeDisplay(null)):this.setCurrentDecorativeDisplay(this._decoDisplayList[$index$$])))},changeDisplayWithName:function($name$$,$force$$){for(var $locDisplayList$$=this._decoDisplayList,$i$$=0;$i$$<$locDisplayList$$.length;$i$$++)if($locDisplayList$$[$i$$].getDisplayData().displayName==$name$$){this.changeDisplayWithIndex($i$$,$force$$);break}},setCurrentDecorativeDisplay:function($decoDisplay$$){var $locCurrentDecoDisplay_locRenderNode$$=this._currentDecoDisplay;(ccs.ENABLE_PHYSICS_CHIPMUNK_DETECT||
ccs.ENABLE_PHYSICS_SAVE_CALCULATED_VERTEX)&&$locCurrentDecoDisplay_locRenderNode$$&&$locCurrentDecoDisplay_locRenderNode$$.getColliderDetector()&&$locCurrentDecoDisplay_locRenderNode$$.getColliderDetector().setActive(!1);$locCurrentDecoDisplay_locRenderNode$$=this._currentDecoDisplay=$decoDisplay$$;(ccs.ENABLE_PHYSICS_CHIPMUNK_DETECT||ccs.ENABLE_PHYSICS_SAVE_CALCULATED_VERTEX)&&$locCurrentDecoDisplay_locRenderNode$$&&$locCurrentDecoDisplay_locRenderNode$$.getColliderDetector()&&$locCurrentDecoDisplay_locRenderNode$$.getColliderDetector().setActive(!0);
$decoDisplay$$=$locCurrentDecoDisplay_locRenderNode$$?$locCurrentDecoDisplay_locRenderNode$$.getDisplay():null;var $locCurrentDecoDisplay_locRenderNode$$=this._displayRenderNode,$locBone$$=this._bone;$locCurrentDecoDisplay_locRenderNode$$&&($locCurrentDecoDisplay_locRenderNode$$ instanceof ccs.Armature&&$locBone$$.setChildArmature(null),$locCurrentDecoDisplay_locRenderNode$$.removeFromParent(!0));(this._displayRenderNode=$decoDisplay$$)?($decoDisplay$$ instanceof ccs.Armature?(this._bone.setChildArmature($decoDisplay$$),
$decoDisplay$$.setParentBone(this._bone)):$decoDisplay$$ instanceof cc.ParticleSystem&&($decoDisplay$$ instanceof ccs.Armature?($locBone$$.setChildArmature($decoDisplay$$),$decoDisplay$$.setParentBone($locBone$$)):$decoDisplay$$ instanceof cc.ParticleSystem&&$decoDisplay$$.resetSystem()),$decoDisplay$$.setColor($locBone$$.getDisplayedColor()),$decoDisplay$$.setOpacity($locBone$$.getDisplayedOpacity()),this._displayRenderNode.setVisible(this._visible),this._displayType=this._currentDecoDisplay.getDisplayData().displayType):
this._displayType=ccs.DISPLAY_TYPE_MAX;cc.renderer.childrenOrderDirty=!0},getDisplayRenderNode:function(){return this._displayRenderNode},getDisplayRenderNodeType:function(){return this._displayType},getCurrentDisplayIndex:function(){return this._displayIndex},getCurrentDecorativeDisplay:function(){return this._currentDecoDisplay},getDecorativeDisplayByIndex:function($index$$){return this._decoDisplayList[$index$$]},initDisplayList:function($boneData$$){this._decoDisplayList.length=0;if($boneData$$){$boneData$$=
$boneData$$.displayDataList;for(var $decoList$$=this._decoDisplayList,$locBone$$=this._bone,$i$$=0;$i$$<$boneData$$.length;$i$$++){var $displayData$$=$boneData$$[$i$$],$decoDisplay$$=new ccs.DecorativeDisplay;$decoDisplay$$.setDisplayData($displayData$$);ccs.displayFactory.createDisplay($locBone$$,$decoDisplay$$);$decoList$$.push($decoDisplay$$)}}},containPoint:function($point$$,$y$$){if(!this._visible||0>this._displayIndex)return!1;void 0!==$y$$&&($point$$=cc.p($point$$,$y$$));if(this._currentDecoDisplay.getDisplayData().displayType==
ccs.DISPLAY_TYPE_SPRITE){var $sprite$$=this._currentDecoDisplay.getDisplay(),$sprite$$=$sprite$$.getChildByTag(0);return ccs.SPRITE_CONTAIN_POINT_WITH_RETURN($sprite$$,$point$$)}return!1},setVisible:function($visible$$){this._displayRenderNode&&(this._visible=$visible$$,this._displayRenderNode.setVisible($visible$$))},isVisible:function(){return this._visible},getContentSize:function(){return this._displayRenderNode?this._displayRenderNode.getContentSize():cc.size(0,0)},getBoundingBox:function(){return this._displayRenderNode?
this._displayRenderNode.getBoundingBox():cc.rect(0,0,0,0)},getAnchorPoint:function(){return this._displayRenderNode?this._displayRenderNode.getAnchorPoint():cc.p(0,0)},getAnchorPointInPoints:function(){return this._displayRenderNode?this._displayRenderNode.getAnchorPointInPoints():cc.p(0,0)},getForceChangeDisplay:function(){return this._forceChangeDisplay},release:function(){this._decoDisplayList=null;this._displayRenderNode&&(this._displayRenderNode.removeFromParent(!0),this._displayRenderNode=null)}});
ccs.DisplayManager.create=function $ccs$DisplayManager$create$($bone$$){return new ccs.DisplayManager($bone$$)};
ccs.Skin=ccs.Sprite.extend({_skinData:null,bone:null,_skinTransform:null,_displayName:"",_armature:null,_className:"Skin",ctor:function($fileName$$,$rect$$){cc.Sprite.prototype.ctor.call(this);this.bone=this._skinData=null;this._displayName="";this._skinTransform=cc.affineTransformIdentity();this._armature=null;null==$fileName$$||""==$fileName$$?ccs.Skin.prototype.init.call(this):"#"==$fileName$$[0]?ccs.Skin.prototype.initWithSpriteFrameName.call(this,$fileName$$.substr(1)):ccs.Skin.prototype.initWithFile.call(this,
$fileName$$,$rect$$)},initWithSpriteFrameName:function($spriteFrameName$$){if(""==$spriteFrameName$$)return!1;var $pFrame$$=cc.spriteFrameCache.getSpriteFrame($spriteFrameName$$),$ret$$=!0;$pFrame$$?this.initWithSpriteFrame($pFrame$$):(cc.log("Can't find CCSpriteFrame with %s. Please check your .plist file",$spriteFrameName$$),$ret$$=!1);this._displayName=$spriteFrameName$$;return $ret$$},initWithFile:function($fileName$$,$rect$$){var $ret$$=$rect$$?cc.Sprite.prototype.initWithFile.call(this,$fileName$$,
$rect$$):cc.Sprite.prototype.initWithFile.call(this,$fileName$$);this._displayName=$fileName$$;return $ret$$},setSkinData:function($localTransform_skinData$$){this._skinData=$localTransform_skinData$$;this.setScaleX($localTransform_skinData$$.scaleX);this.setScaleY($localTransform_skinData$$.scaleY);this.setRotationX(cc.radiansToDegrees($localTransform_skinData$$.skewX));this.setRotationY(cc.radiansToDegrees(-$localTransform_skinData$$.skewY));this.setPosition($localTransform_skinData$$.x,$localTransform_skinData$$.y);
$localTransform_skinData$$=this.getNodeToParentTransform?this.getNodeToParentTransform():this.nodeToParentTransform();var $skinTransform$$=this._skinTransform;$skinTransform$$.a=$localTransform_skinData$$.a;$skinTransform$$.b=$localTransform_skinData$$.b;$skinTransform$$.c=$localTransform_skinData$$.c;$skinTransform$$.d=$localTransform_skinData$$.d;$skinTransform$$.tx=$localTransform_skinData$$.tx;$skinTransform$$.ty=$localTransform_skinData$$.ty;this.updateArmatureTransform()},getSkinData:function(){return this._skinData},
updateArmatureTransform:function(){this._transform=cc.affineTransformConcat(this._skinTransform,this.bone.getNodeToArmatureTransform())},_updateTransformForWebGL:function(){var $locQuad$$=this._quad;if(this._visible){var $ax$$2_transform$$=this.getNodeToParentTransform?this.getNodeToParentTransform():this.nodeToParentTransform(),$ay$$3_size$$=this._rect,$dy$$10_x1$$=this._offsetPosition.x,$by$$2_y1$$=this._offsetPosition.y,$cy$$5_x2$$=$dy$$10_x1$$+$ay$$3_size$$.width,$locVertexZ$$1_y2$$=$by$$2_y1$$+
$ay$$3_size$$.height,$dx$$10_x$$=$ax$$2_transform$$.tx,$y$$=$ax$$2_transform$$.ty,$cr$$=$ax$$2_transform$$.a,$sr$$=$ax$$2_transform$$.b,$cr2$$=$ax$$2_transform$$.d,$sr2$$=-$ax$$2_transform$$.c,$ax$$2_transform$$=$dy$$10_x1$$*$cr$$-$by$$2_y1$$*$sr2$$+$dx$$10_x$$,$ay$$3_size$$=$dy$$10_x1$$*$sr$$+$by$$2_y1$$*$cr2$$+$y$$,$bx$$=$cy$$5_x2$$*$cr$$-$by$$2_y1$$*$sr2$$+$dx$$10_x$$,$by$$2_y1$$=$cy$$5_x2$$*$sr$$+$by$$2_y1$$*$cr2$$+$y$$,$cx$$=$cy$$5_x2$$*$cr$$-$locVertexZ$$1_y2$$*$sr2$$+$dx$$10_x$$,$cy$$5_x2$$=
$cy$$5_x2$$*$sr$$+$locVertexZ$$1_y2$$*$cr2$$+$y$$,$dx$$10_x$$=$dy$$10_x1$$*$cr$$-$locVertexZ$$1_y2$$*$sr2$$+$dx$$10_x$$,$dy$$10_x1$$=$dy$$10_x1$$*$sr$$+$locVertexZ$$1_y2$$*$cr2$$+$y$$,$locVertexZ$$1_y2$$=this._vertexZ;cc.SPRITEBATCHNODE_RENDER_SUBPIXEL||($ax$$2_transform$$|=0,$ay$$3_size$$|=0,$bx$$|=0,$by$$2_y1$$|=0,$cx$$|=0,$cy$$5_x2$$|=0,$dx$$10_x$$|=0,$dy$$10_x1$$|=0);this.SET_VERTEX3F($locQuad$$.bl.vertices,$ax$$2_transform$$,$ay$$3_size$$,$locVertexZ$$1_y2$$);this.SET_VERTEX3F($locQuad$$.br.vertices,
$bx$$,$by$$2_y1$$,$locVertexZ$$1_y2$$);this.SET_VERTEX3F($locQuad$$.tl.vertices,$dx$$10_x$$,$dy$$10_x1$$,$locVertexZ$$1_y2$$);this.SET_VERTEX3F($locQuad$$.tr.vertices,$cx$$,$cy$$5_x2$$,$locVertexZ$$1_y2$$)}else $locQuad$$.br.vertices=$locQuad$$.tl.vertices=$locQuad$$.tr.vertices=$locQuad$$.bl.vertices={x:0,y:0,z:0};this._textureAtlas&&this._textureAtlas.updateQuad($locQuad$$,this._textureAtlas.getTotalQuads());this._quadDirty=!0},SET_VERTEX3F:function($_v_$$,$_x_$$,$_y_$$,$_z_$$){$_v_$$.x=$_x_$$;
$_v_$$.y=$_y_$$;$_v_$$.z=$_z_$$},RENDER_IN_SUBPIXEL:function($__ARGS__$$){return cc.SPRITEBATCHNODE_RENDER_SUBPIXEL?$__ARGS__$$:Math.ceil($__ARGS__$$)},getNodeToWorldTransform:function(){return cc.affineTransformConcat(this._transform,this.bone.getArmature().getNodeToWorldTransform())},getNodeToWorldTransformAR:function(){var $displayTransform$$=this._transform;this._anchorPointInPoints=cc.pointApplyAffineTransform(this._anchorPointInPoints,$displayTransform$$);$displayTransform$$.tx=this._anchorPointInPoints.x;
$displayTransform$$.ty=this._anchorPointInPoints.y;return cc.affineTransformConcat($displayTransform$$,this.bone.getArmature().nodeToWorldTransform())},setBone:function($armature$$5_bone$$){this.bone=$armature$$5_bone$$;if($armature$$5_bone$$=this.bone.getArmature())this._armature=$armature$$5_bone$$},getBone:function(){return this.bone},getDisplayName:function(){return this._displayName}});cc._renderType==cc._RENDER_TYPE_WEBGL&&(ccs.Skin.prototype.updateTransform=ccs.Skin.prototype._updateTransformForWebGL);
_p=ccs.Skin.prototype;_p.skinData;cc.defineGetterSetter(_p,"skinData",_p.getSkinData,_p.setSkinData);_p.displayName;cc.defineGetterSetter(_p,"displayName",_p.getDisplayName);_p=null;ccs.Skin.create=function $ccs$Skin$create$($fileName$$,$rect$$){return new ccs.Skin($fileName$$,$rect$$)};ccs.Skin.createWithSpriteFrameName=function $ccs$Skin$createWithSpriteFrameName$($spriteFrameName$$){return new ccs.Skin("#"+$spriteFrameName$$)};ccs.ANIMATION_TYPE_SINGLE_FRAME=-4;ccs.ANIMATION_TYPE_NO_LOOP=-3;
ccs.ANIMATION_TYPE_TO_LOOP_FRONT=-2;ccs.ANIMATION_TYPE_TO_LOOP_BACK=-1;ccs.ANIMATION_TYPE_LOOP_FRONT=0;ccs.ANIMATION_TYPE_LOOP_BACK=1;ccs.ANIMATION_TYPE_MAX=2;
ccs.ProcessBase=ccs.Class.extend({_processScale:1,_isComplete:!0,_isPause:!0,_isPlaying:!1,_currentPercent:0,_rawDuration:0,_loopType:0,_tweenEasing:0,animationInternal:null,_currentFrame:0,_durationTween:0,_nextFrameIndex:0,_curFrameIndex:null,_isLoopBack:!1,ctor:function(){this._processScale=1;this._isPause=this._isComplete=!0;this._isPlaying=!1;this._rawDuration=this._durationTween=this._currentPercent=this._currentFrame=0;this._loopType=ccs.ANIMATION_TYPE_LOOP_BACK;this._tweenEasing=ccs.TweenType.linear;
this.animationInternal=1/60;this._durationTween=this._curFrameIndex=0;this._isLoopBack=!1},pause:function(){this._isPause=!0;this._isPlaying=!1},resume:function(){this._isPause=!1;this._isPlaying=!0},stop:function(){this._isComplete=!0;this._isPlaying=!1},play:function($durationTo$$,$durationTween$$,$loop$$,$tweenEasing$$){this._isPause=this._isComplete=!1;this._isPlaying=!0;this._currentFrame=0;this._nextFrameIndex=$durationTo$$;this._tweenEasing=$tweenEasing$$},update:function($dt$$){if(!(this._isComplete||
this._isPause||0>=this._rawDuration||1<$dt$$)){var $locNextFrameIndex$$=void 0===this._nextFrameIndex?0:this._nextFrameIndex,$locCurrentFrame$$=this._currentFrame;0>=$locNextFrameIndex$$?(this._currentPercent=1,$locCurrentFrame$$=0):($locCurrentFrame$$+=$dt$$/this.animationInternal*this._processScale,this._currentPercent=$locCurrentFrame$$/$locNextFrameIndex$$,$locCurrentFrame$$=ccs.fmodf($locCurrentFrame$$,$locNextFrameIndex$$));this._currentFrame=$locCurrentFrame$$;this.updateHandler()}},gotoFrame:function($frameIndex$$){var $locLoopType$$=
this._loopType;$locLoopType$$==ccs.ANIMATION_TYPE_NO_LOOP?$locLoopType$$=ccs.ANIMATION_TYPE_MAX:$locLoopType$$==ccs.ANIMATION_TYPE_TO_LOOP_FRONT&&($locLoopType$$=ccs.ANIMATION_TYPE_LOOP_FRONT);this._loopType=$locLoopType$$;this._curFrameIndex=$frameIndex$$;this._nextFrameIndex=this._durationTween},getCurrentFrameIndex:function(){return this._curFrameIndex=(this._rawDuration-1)*this._currentPercent},updateHandler:function(){},isPause:function(){return this._isPause},isComplete:function(){return this._isComplete},
getCurrentPercent:function(){return this._currentPercent},getRawDuration:function(){return this._rawDuration},getLoop:function(){return this._loopType},getTweenEasing:function(){return this._tweenEasing},getAnimationInternal:function(){return this.animationInternal},setAnimationInternal:function($animationInternal$$){this.animationInternal=$animationInternal$$},getProcessScale:function(){return this._processScale},setProcessScale:function($processScale$$){this._processScale=$processScale$$},isPlaying:function(){return this._isPlaying}});
_p=ccs.ProcessBase.prototype;_p.currentFrameIndex;cc.defineGetterSetter(_p,"currentFrameIndex",_p.getCurrentFrameIndex);_p.paused;cc.defineGetterSetter(_p,"paused",_p.isPause);_p.completed;cc.defineGetterSetter(_p,"completed",_p.isComplete);_p.currentPercent;cc.defineGetterSetter(_p,"currentPercent",_p.getCurrentPercent);_p.rawDuration;cc.defineGetterSetter(_p,"rawDuration",_p.getRawDuration);_p.loop;cc.defineGetterSetter(_p,"loop",_p.getLoop);_p.tweenEasing;
cc.defineGetterSetter(_p,"tweenEasing",_p.getTweenEasing);_p.playing;cc.defineGetterSetter(_p,"playing",_p.isPlaying);_p=null;ccs.MovementEventType={start:0,complete:1,loopComplete:2};
ccs.AnimationEvent=ccs.Class.extend({_arguments:null,_callFunc:null,_selectorTarget:null,ctor:function($callFunc$$,$target$$,$data$$){this._data=$data$$;this._callFunc=$callFunc$$;this._selectorTarget=$target$$},call:function(){this._callFunc&&this._callFunc.apply(this._selectorTarget,this._arguments)},setArguments:function($args$$){this._arguments=$args$$}});ccs.MovementEvent=function $ccs$MovementEvent$(){this.armature=null;this.movementType=ccs.MovementEventType.start;this.movementID=""};
ccs.FrameEvent=function $ccs$FrameEvent$(){this.bone=null;this.frameEventName="";this.currentFrameIndex=this.originFrameIndex=0};
ccs.ArmatureAnimation=ccs.ProcessBase.extend({_animationData:null,_movementData:null,_armature:null,_movementID:"",_toIndex:0,_tweenList:null,_speedScale:1,_ignoreFrameEvent:!1,_frameEventQueue:null,_movementEventQueue:null,_movementList:null,_onMovementList:!1,_movementListLoop:!1,_movementIndex:0,_movementListDurationTo:-1,_movementEventCallFunc:null,_frameEventCallFunc:null,_movementEventTarget:null,_frameEventTarget:null,_movementEventListener:null,_frameEventListener:null,ctor:function($armature$$){ccs.ProcessBase.prototype.ctor.call(this);
this._tweenList=[];this._movementList=[];this._frameEventQueue=[];this._movementEventQueue=[];this._armature=null;$armature$$&&ccs.ArmatureAnimation.prototype.init.call(this,$armature$$)},init:function($armature$$){this._armature=$armature$$;this._tweenList.length=0;return!0},pause:function(){for(var $locTweenList$$=this._tweenList,$i$$=0;$i$$<$locTweenList$$.length;$i$$++)$locTweenList$$[$i$$].pause();ccs.ProcessBase.prototype.pause.call(this)},resume:function(){for(var $locTweenList$$=this._tweenList,
$i$$=0;$i$$<$locTweenList$$.length;$i$$++)$locTweenList$$[$i$$].resume();ccs.ProcessBase.prototype.resume.call(this)},stop:function(){for(var $locTweenList$$=this._tweenList,$i$$=0;$i$$<$locTweenList$$.length;$i$$++)$locTweenList$$[$i$$].stop();$locTweenList$$.length=0;ccs.ProcessBase.prototype.stop.call(this)},setAnimationScale:function($animationScale$$){this.setSpeedScale($animationScale$$)},getAnimationScale:function(){return this.getSpeedScale()},setSpeedScale:function($dict$$){if($dict$$!=this._speedScale){this._speedScale=
$dict$$;this._processScale=this._movementData?this._speedScale*this._movementData.scale:this._speedScale;$dict$$=this._armature.getBoneDic();for(var $key$$ in $dict$$){var $bone$$=$dict$$[$key$$];$bone$$.getTween().setProcessScale(this._processScale);$bone$$.getChildArmature()&&$bone$$.getChildArmature().getAnimation().setSpeedScale(this._processScale)}}},getSpeedScale:function(){return this._speedScale},play:function($animationName$$1_durationTween$$,$durationTo$$,$loop$$){cc.assert(this._animationData,
"this.animationData can not be null");this._movementData=this._animationData.getMovement($animationName$$1_durationTween$$);cc.assert(this._movementData,"this._movementData can not be null");$durationTo$$=void 0===$durationTo$$?-1:$durationTo$$;$loop$$=void 0===$loop$$?-1:$loop$$;this._rawDuration=this._movementData.duration;this._movementID=$animationName$$1_durationTween$$;this._processScale=this._speedScale*this._movementData.scale;$durationTo$$=-1==$durationTo$$?this._movementData.durationTo:
$durationTo$$;$animationName$$1_durationTween$$=0==this._movementData.durationTween?this._rawDuration:this._movementData.durationTween;var $tweenEasing$$=this._movementData.tweenEasing;$loop$$=0>$loop$$?this._movementData.loop:$loop$$;this._onMovementList=!1;ccs.ProcessBase.prototype.play.call(this,$durationTo$$,$animationName$$1_durationTween$$,$loop$$,$tweenEasing$$);0==this._rawDuration?this._loopType=ccs.ANIMATION_TYPE_SINGLE_FRAME:(this._loopType=$loop$$?ccs.ANIMATION_TYPE_TO_LOOP_FRONT:ccs.ANIMATION_TYPE_NO_LOOP,
this._durationTween=$animationName$$1_durationTween$$);var $movementBoneData$$;this._tweenList=[];var $map$$=this._armature.getBoneDic(),$element$$;for($element$$ in $map$$){var $bone$$=$map$$[$element$$];$movementBoneData$$=this._movementData.movBoneDataDic[$bone$$.getName()];var $tween$$=$bone$$.getTween();$movementBoneData$$&&0<$movementBoneData$$.frameList.length?(this._tweenList.push($tween$$),$movementBoneData$$.duration=this._movementData.duration,$tween$$.play($movementBoneData$$,$durationTo$$,
$animationName$$1_durationTween$$,$loop$$,$tweenEasing$$),$tween$$.setProcessScale(this._processScale),$bone$$.getChildArmature()&&$bone$$.getChildArmature().getAnimation().setSpeedScale(this._processScale)):$bone$$.isIgnoreMovementBoneData()||($bone$$.getDisplayManager().changeDisplayWithIndex(-1,!1),$tween$$.stop())}this._armature.update(0)},playByIndex:function($animationIndex$$,$durationTo$$,$durationTween$$,$loop$$,$tweenEasing$$){cc.log("playByIndex is deprecated. Use playWithIndex instead.");
this.playWithIndex($animationIndex$$,$durationTo$$,$loop$$)},playWithIndex:function($animationIndex$$,$durationTo$$,$loop$$){var $movName$$=this._animationData.movementNames;cc.assert(-1<$animationIndex$$&&$animationIndex$$<$movName$$.length);this.play($movName$$[$animationIndex$$],$durationTo$$,$loop$$)},playWithNames:function($movementNames$$,$durationTo$$,$loop$$){this._movementListLoop=void 0===$loop$$?!0:$loop$$;this._movementListDurationTo=void 0===$durationTo$$?-1:$durationTo$$;this._onMovementList=
!0;this._movementIndex=0;$movementNames$$ instanceof Array?this._movementList=$movementNames$$:this._movementList.length=0;this.updateMovementList()},playWithIndexes:function($movementIndexes$$,$durationTo$$6_movName$$,$i$$465_loop$$){this._movementList.length=0;this._movementListLoop=void 0===$i$$465_loop$$?!0:$i$$465_loop$$;this._movementListDurationTo=void 0===$durationTo$$6_movName$$?-1:$durationTo$$6_movName$$;this._onMovementList=!0;this._movementIndex=0;$durationTo$$6_movName$$=this._animationData.movementNames;
for($i$$465_loop$$=0;$i$$465_loop$$<$movementIndexes$$.length;$i$$465_loop$$++)this._movementList.push($durationTo$$6_movName$$[$movementIndexes$$[$i$$465_loop$$]]);this.updateMovementList()},gotoAndPlay:function($frameIndex$$){if(!this._movementData||0>$frameIndex$$||$frameIndex$$>=this._movementData.duration)cc.log("Please ensure you have played a movement, and the frameIndex is in the range.");else{var $ignoreFrameEvent$$=this._ignoreFrameEvent;this._isPlaying=this._ignoreFrameEvent=!0;this._isComplete=
this._isPause=!1;ccs.ProcessBase.prototype.gotoFrame.call(this,$frameIndex$$);this._currentPercent=this._curFrameIndex/(this._movementData.duration-1);this._currentFrame=this._nextFrameIndex*this._currentPercent;for(var $locTweenList$$=this._tweenList,$i$$=0;$i$$<$locTweenList$$.length;$i$$++)$locTweenList$$[$i$$].gotoAndPlay($frameIndex$$);this._armature.update(0);this._ignoreFrameEvent=$ignoreFrameEvent$$}},gotoAndPause:function($frameIndex$$){this.gotoAndPlay($frameIndex$$);this.pause()},getMovementCount:function(){return this._animationData.getMovementCount()},
update:function($dt$$140_event$$){ccs.ProcessBase.prototype.update.call(this,$dt$$140_event$$);for(var $frameEvents_locTweenList$$=this._tweenList,$i$$=0;$i$$<$frameEvents_locTweenList$$.length;$i$$++)$frameEvents_locTweenList$$[$i$$].update($dt$$140_event$$);for($frameEvents_locTweenList$$=this._frameEventQueue;0<$frameEvents_locTweenList$$.length;)$dt$$140_event$$=$frameEvents_locTweenList$$.shift(),this._ignoreFrameEvent=!0,this._frameEventCallFunc&&this._frameEventCallFunc.call(this._frameEventTarget,
$dt$$140_event$$.bone,$dt$$140_event$$.frameEventName,$dt$$140_event$$.originFrameIndex,$dt$$140_event$$.currentFrameIndex),this._frameEventListener&&this._frameEventListener($dt$$140_event$$.bone,$dt$$140_event$$.frameEventName,$dt$$140_event$$.originFrameIndex,$dt$$140_event$$.currentFrameIndex),this._ignoreFrameEvent=!1;for($frameEvents_locTweenList$$=this._movementEventQueue;0<$frameEvents_locTweenList$$.length;)$dt$$140_event$$=$frameEvents_locTweenList$$.shift(),this._movementEventCallFunc&&
this._movementEventCallFunc.call(this._movementEventTarget,$dt$$140_event$$.armature,$dt$$140_event$$.movementType,$dt$$140_event$$.movementID),this._movementEventListener&&this._movementEventListener($dt$$140_event$$.armature,$dt$$140_event$$.movementType,$dt$$140_event$$.movementID)},updateHandler:function(){var $locCurrentPercent$$=this._currentPercent;if(1<=$locCurrentPercent$$){switch(this._loopType){case ccs.ANIMATION_TYPE_NO_LOOP:this._loopType=ccs.ANIMATION_TYPE_MAX;this._currentFrame=($locCurrentPercent$$-
1)*this._nextFrameIndex;$locCurrentPercent$$=this._currentFrame/this._durationTween;if(1>$locCurrentPercent$$){this._nextFrameIndex=this._durationTween;this.movementEvent(this._armature,ccs.MovementEventType.start,this._movementID);break}break;case ccs.ANIMATION_TYPE_MAX:case ccs.ANIMATION_TYPE_SINGLE_FRAME:$locCurrentPercent$$=1;this._isComplete=!0;this._isPlaying=!1;this.movementEvent(this._armature,ccs.MovementEventType.complete,this._movementID);this.updateMovementList();break;case ccs.ANIMATION_TYPE_TO_LOOP_FRONT:this._loopType=
ccs.ANIMATION_TYPE_LOOP_FRONT;$locCurrentPercent$$=ccs.fmodf($locCurrentPercent$$,1);this._currentFrame=0==this._nextFrameIndex?0:ccs.fmodf(this._currentFrame,this._nextFrameIndex);this._nextFrameIndex=0<this._durationTween?this._durationTween:1;this.movementEvent(this,ccs.MovementEventType.start,this._movementID);break;default:this._currentFrame=ccs.fmodf(this._currentFrame,this._nextFrameIndex),this._toIndex=0,this.movementEvent(this._armature,ccs.MovementEventType.loopComplete,this._movementID)}this._currentPercent=
$locCurrentPercent$$}},getCurrentMovementID:function(){return this._isComplete?"":this._movementID},setMovementEventCallFunc:function($callFunc$$,$target$$){1==arguments.length?this._frameEventListener=$target$$:2==arguments.length&&(this._movementEventTarget=$target$$,this._movementEventCallFunc=$callFunc$$)},setFrameEventCallFunc:function($callFunc$$,$target$$){1==arguments.length?this._frameEventListener=$target$$:2==arguments.length&&(this._frameEventTarget=$target$$,this._frameEventCallFunc=
$callFunc$$)},setUserObject:function($userObject$$){this._userObject=$userObject$$},frameEvent:function($bone$$,$frameEventName$$,$originFrameIndex$$,$currentFrameIndex$$){if(this._frameEventTarget&&this._frameEventCallFunc||this._frameEventListener){var $frameEvent$$=new ccs.FrameEvent;$frameEvent$$.bone=$bone$$;$frameEvent$$.frameEventName=$frameEventName$$;$frameEvent$$.originFrameIndex=$originFrameIndex$$;$frameEvent$$.currentFrameIndex=$currentFrameIndex$$;this._frameEventQueue.push($frameEvent$$)}},
movementEvent:function($armature$$,$movementType$$,$movementID$$){if(this._movementEventTarget&&this._movementEventCallFunc||this._movementEventListener){var $event$$=new ccs.MovementEvent;$event$$.armature=$armature$$;$event$$.movementType=$movementType$$;$event$$.movementID=$movementID$$;this._movementEventQueue.push($event$$)}},updateMovementList:function(){if(this._onMovementList){var $movementObj$$,$locMovementList$$=this._movementList;this._movementListLoop?($movementObj$$=$locMovementList$$[this._movementIndex],
this.play($movementObj$$,$movementObj$$.durationTo,0),this._movementIndex++,this._movementIndex>=$locMovementList$$.length&&(this._movementIndex=0)):this._movementIndex<$locMovementList$$.length?($movementObj$$=$locMovementList$$[this._movementIndex],this.play($movementObj$$,$movementObj$$.durationTo,0),this._movementIndex++):this._onMovementList=!1;this._onMovementList=!0}},setAnimationData:function($data$$){this._animationData!=$data$$&&(this._animationData=$data$$)},getAnimationData:function(){return this._animationData},
getUserObject:function(){return this._userObject},isIgnoreFrameEvent:function(){return this._ignoreFrameEvent}});_p=ccs.ArmatureAnimation.prototype;_p.speedScale;cc.defineGetterSetter(_p,"speedScale",_p.getSpeedScale,_p.setSpeedScale);_p.animationScale;cc.defineGetterSetter(_p,"animationScale",_p.getAnimationScale,_p.setAnimationScale);_p=null;ccs.ArmatureAnimation.create=function $ccs$ArmatureAnimation$create$($armature$$){return new ccs.ArmatureAnimation($armature$$)};
ccs.Tween=ccs.ProcessBase.extend({_tweenData:null,_to:null,_from:null,_between:null,_movementBoneData:null,_bone:null,_frameTweenEasing:0,_betweenDuration:0,_totalDuration:0,_toIndex:0,_fromIndex:0,_animation:null,_passLastFrame:!1,ctor:function($bone$$){ccs.ProcessBase.prototype.ctor.call(this);this._frameTweenEasing=ccs.TweenType.linear;ccs.Tween.prototype.init.call(this,$bone$$)},init:function($bone$$){this._from=new ccs.FrameData;this._between=new ccs.FrameData;this._bone=$bone$$;this._tweenData=
this._bone.getTweenData();this._tweenData.displayIndex=-1;this._animation=null!=this._bone&&null!=this._bone.getArmature()?this._bone.getArmature().getAnimation():null;return!0},play:function($movementBoneData$$,$durationTo$$,$durationTween$$,$loop$$,$difMovement_tweenEasing$$){ccs.ProcessBase.prototype.play.call(this,$durationTo$$,$durationTween$$,$loop$$,$difMovement_tweenEasing$$);this._loopType=$loop$$?ccs.ANIMATION_TYPE_TO_LOOP_FRONT:ccs.ANIMATION_TYPE_NO_LOOP;this._fromIndex=this._toIndex=this._betweenDuration=
this._totalDuration=0;$difMovement_tweenEasing$$=$movementBoneData$$!=this._movementBoneData;this.setMovementBoneData($movementBoneData$$);this._rawDuration=this._movementBoneData.duration;$movementBoneData$$=this._movementBoneData.getFrameData(0);this._tweenData.displayIndex=$movementBoneData$$.displayIndex;this._bone.getArmature().getArmatureData().dataVersion>=ccs.CONST_VERSION_COMBINED&&(ccs.TransformHelp.nodeSub(this._tweenData,this._bone.getBoneData()),this._tweenData.scaleX+=1,this._tweenData.scaleY+=
1);0==this._rawDuration?(this._loopType=ccs.ANIMATION_TYPE_SINGLE_FRAME,0==$durationTo$$?this.setBetween($movementBoneData$$,$movementBoneData$$):this.setBetween(this._tweenData,$movementBoneData$$),this._frameTweenEasing=ccs.TweenType.linear):1<this._movementBoneData.frameList.length&&(this._durationTween=$durationTween$$*this._movementBoneData.scale,$loop$$&&0!=this._movementBoneData.delay?this.setBetween(this._tweenData,this.tweenNodeTo(this.updateFrameData(1-this._movementBoneData.delay),this._between)):
$difMovement_tweenEasing$$&&0!=$durationTo$$?this.setBetween(this._tweenData,$movementBoneData$$):this.setBetween($movementBoneData$$,$movementBoneData$$));this.tweenNodeTo(0)},gotoAndPlay:function($frameIndex$$){ccs.ProcessBase.prototype.gotoFrame.call(this,$frameIndex$$);this._fromIndex=this._toIndex=this._betweenDuration=this._totalDuration=0;this._isPlaying=!0;this._isComplete=this._isPause=!1;this._currentPercent=this._curFrameIndex/(this._rawDuration-1);this._currentFrame=this._nextFrameIndex*
this._currentPercent},gotoAndPause:function($frameIndex$$){this.gotoAndPlay($frameIndex$$);this.pause()},updateHandler:function(){var $locCurrentPercent$$=this._currentPercent||1,$locLoopType$$=this._loopType;if(1<=$locCurrentPercent$$)switch($locLoopType$$){case ccs.ANIMATION_TYPE_SINGLE_FRAME:$locCurrentPercent$$=1;this._isComplete=!0;this._isPlaying=!1;break;case ccs.ANIMATION_TYPE_NO_LOOP:$locLoopType$$=ccs.ANIMATION_TYPE_MAX;$locCurrentPercent$$=0>=this._durationTween?1:($locCurrentPercent$$-
1)*this._nextFrameIndex/this._durationTween;1<=$locCurrentPercent$$?($locCurrentPercent$$=1,this._isComplete=!0,this._isPlaying=!1):(this._nextFrameIndex=this._durationTween,this._currentFrame=$locCurrentPercent$$*this._nextFrameIndex,this._fromIndex=this._toIndex=this._betweenDuration=this._totalDuration=0);break;case ccs.ANIMATION_TYPE_TO_LOOP_FRONT:$locLoopType$$=ccs.ANIMATION_TYPE_LOOP_FRONT;this._nextFrameIndex=0<this._durationTween?this._durationTween:1;0!=this._movementBoneData.delay?(this._currentFrame=
(1-this._movementBoneData.delay)*this._nextFrameIndex,$locCurrentPercent$$=this._currentFrame/this._nextFrameIndex):this._currentFrame=$locCurrentPercent$$=0;this._fromIndex=this._toIndex=this._betweenDuration=this._totalDuration=0;break;case ccs.ANIMATION_TYPE_MAX:$locCurrentPercent$$=1;this._isComplete=!0;this._isPlaying=!1;break;default:this._currentFrame=ccs.fmodf(this._currentFrame,this._nextFrameIndex)}1>$locCurrentPercent$$&&$locLoopType$$<ccs.ANIMATION_TYPE_TO_LOOP_BACK&&($locCurrentPercent$$=
Math.sin($locCurrentPercent$$*cc.PI/2));this._currentPercent=$locCurrentPercent$$;this._loopType=$locLoopType$$;$locLoopType$$>ccs.ANIMATION_TYPE_TO_LOOP_BACK&&($locCurrentPercent$$=this.updateFrameData($locCurrentPercent$$));this._frameTweenEasing!=ccs.TweenType.tweenEasingMax&&this.tweenNodeTo($locCurrentPercent$$)},setBetween:function($from$$,$to$$,$limit$$){void 0===$limit$$&&($limit$$=!0);0>$from$$.displayIndex&&0<=$to$$.displayIndex?(this._from.copy($to$$),this._between.subtract($to$$,$to$$,
$limit$$)):0>$to$$.displayIndex&&0<=$from$$.displayIndex?(this._from.copy($from$$),this._between.subtract($to$$,$to$$,$limit$$)):(this._from.copy($from$$),this._between.subtract($from$$,$to$$,$limit$$));$from$$.isTween||(this._tweenData.copy($from$$),this._tweenData.isTween=!0);this.arriveKeyFrame($from$$)},arriveKeyFrame:function($keyFrameData$$){if($keyFrameData$$){var $childAramture_locBone$$=this._bone,$displayManager$$=$childAramture_locBone$$.getDisplayManager(),$displayIndex$$=$keyFrameData$$.displayIndex;
$displayManager$$.getForceChangeDisplay()||$displayManager$$.changeDisplayWithIndex($displayIndex$$,!1);this._tweenData.zOrder=$keyFrameData$$.zOrder;$childAramture_locBone$$.updateZOrder();this._bone.setBlendFunc($keyFrameData$$.blendFunc);($childAramture_locBone$$=$childAramture_locBone$$.getChildArmature())&&""!=$keyFrameData$$.movement&&$childAramture_locBone$$.getAnimation().play($keyFrameData$$.movement)}},tweenNodeTo:function($percent$$,$node$$){$node$$||($node$$=this._tweenData);var $locFrom$$=
this._from,$locBetween$$=this._between;$locFrom$$.isTween||($percent$$=0);$node$$.x=$locFrom$$.x+$percent$$*$locBetween$$.x;$node$$.y=$locFrom$$.y+$percent$$*$locBetween$$.y;$node$$.scaleX=$locFrom$$.scaleX+$percent$$*$locBetween$$.scaleX;$node$$.scaleY=$locFrom$$.scaleY+$percent$$*$locBetween$$.scaleY;$node$$.skewX=$locFrom$$.skewX+$percent$$*$locBetween$$.skewX;$node$$.skewY=$locFrom$$.skewY+$percent$$*$locBetween$$.skewY;this._bone.setTransformDirty(!0);$node$$&&$locBetween$$.isUseColorInfo&&this.tweenColorTo($percent$$,
$node$$);return $node$$},tweenColorTo:function($percent$$,$node$$){var $locFrom$$=this._from,$locBetween$$=this._between;$node$$.a=$locFrom$$.a+$percent$$*$locBetween$$.a;$node$$.r=$locFrom$$.r+$percent$$*$locBetween$$.r;$node$$.g=$locFrom$$.g+$percent$$*$locBetween$$.g;$node$$.b=$locFrom$$.b+$percent$$*$locBetween$$.b;this._bone.updateColor()},updateFrameData:function($currentPercent_playedTime$$){1<$currentPercent_playedTime$$&&0!=this._movementBoneData.delay&&($currentPercent_playedTime$$=ccs.fmodf($currentPercent_playedTime$$,
1));$currentPercent_playedTime$$*=this._rawDuration-1;var $from$$,$to$$,$locTotalDuration$$=this._totalDuration,$frames$$=this._betweenDuration,$locToIndex$$=this._toIndex;if($currentPercent_playedTime$$<$locTotalDuration$$||$currentPercent_playedTime$$>=$locTotalDuration$$+$frames$$){var $frames$$=this._movementBoneData.frameList,$length$$=$frames$$.length;if($currentPercent_playedTime$$<$frames$$[0].frameID)return $from$$=$to$$=$frames$$[0],this.setBetween($from$$,$to$$),this._currentPercent;if($currentPercent_playedTime$$>=
$frames$$[$length$$-1].frameID){if(this._passLastFrame)return $from$$=$to$$=$frames$$[$length$$-1],this.setBetween($from$$,$to$$),this._currentPercent;this._passLastFrame=!0}else this._passLastFrame=!1;do if(this._fromIndex=$locToIndex$$,$from$$=$frames$$[this._fromIndex],$locTotalDuration$$=$from$$.frameID,$locToIndex$$=this._fromIndex+1,$locToIndex$$>=$length$$&&($locToIndex$$=0),$to$$=$frames$$[$locToIndex$$],$from$$.strEvent&&!this._animation.isIgnoreFrameEvent()&&this._animation.frameEvent(this._bone,
$from$$.strEvent,$from$$.frameID,$currentPercent_playedTime$$),$currentPercent_playedTime$$==$from$$.frameID||this._passLastFrame&&this._fromIndex==$length$$-1)break;while($currentPercent_playedTime$$<$from$$.frameID||$currentPercent_playedTime$$>=$to$$.frameID);$frames$$=$to$$.frameID-$from$$.frameID;this._frameTweenEasing=$from$$.tweenEasing;this.setBetween($from$$,$to$$,!1);this._totalDuration=$locTotalDuration$$;this._betweenDuration=$frames$$;this._toIndex=$locToIndex$$}$currentPercent_playedTime$$=
0==$frames$$?0:($currentPercent_playedTime$$-this._totalDuration)/this._betweenDuration;$from$$=this._frameTweenEasing!=ccs.TweenType.linear?this._frameTweenEasing:this._tweenEasing;$from$$==ccs.TweenType.tweenEasingMax||$from$$==ccs.TweenType.linear||this._passLastFrame||($currentPercent_playedTime$$=ccs.TweenFunction.tweenTo($currentPercent_playedTime$$,$from$$,this._from.easingParams));return $currentPercent_playedTime$$},setAnimation:function($animation$$){this._animation=$animation$$},getAnimation:function(){return this._animation},
setMovementBoneData:function($data$$){this._movementBoneData=$data$$}});_p=ccs.Tween.prototype;_p.animation;cc.defineGetterSetter(_p,"animation",_p.getAnimation,_p.setAnimation);_p=null;ccs.Tween.create=function $ccs$Tween$create$($bone$$){return new ccs.Tween($bone$$)};ccs.PT_RATIO=32;
ccs.ColliderFilter=ccs.Class.extend({_collisionType:0,_group:0,_categoryBits:0,_groupIndex:0,_maskBits:0,ctor:function($collisionType$$,$group$$){this._collisionType=$collisionType$$||0;this._group=$group$$||0},updateShape:function($shape$$){if($shape$$ instanceof cp.Shape)$shape$$.collision_type=this._collisionType,$shape$$.group=this._group;else if($shape$$ instanceof Box2D.b2FilterData){var $filter$$=new Box2D.b2FilterData;$filter$$.categoryBits=this._categoryBits;$filter$$.groupIndex=this._groupIndex;
$filter$$.maskBits=this._maskBits;$shape$$.SetFilterData($filter$$)}}});
ccs.ColliderBody=ccs.Class.extend({shape:null,coutourData:null,colliderFilter:null,_calculatedVertexList:null,ctor:function($contourData$$){this.shape=null;this.coutourData=$contourData$$;this.colliderFilter=new ccs.ColliderFilter;ccs.ENABLE_PHYSICS_SAVE_CALCULATED_VERTEX&&(this._calculatedVertexList=[])},getContourData:function(){return this.coutourData},setColliderFilter:function($colliderFilter$$){this.colliderFilter=$colliderFilter$$},getCalculatedVertexList:function(){return this._calculatedVertexList},
setB2Fixture:function($fixture$$){this._fixture=$fixture$$},getB2Fixture:function(){return this._fixture},setShape:function($shape$$){this.shape=$shape$$},getShape:function(){return this.shape},setContourData:function($contourData$$){this.coutourData=$contourData$$},getColliderFilter:function(){return this.colliderFilter}});
ccs.ColliderDetector=ccs.Class.extend({_colliderBodyList:null,_bone:null,_body:null,_active:!1,_filter:null,helpPoint:cc.p(0,0),ctor:function($bone$$){this._colliderBodyList=[];this._body=this._bone=null;this._active=!1;this._filter=null;ccs.ColliderDetector.prototype.init.call(this,$bone$$)},init:function($bone$$){this._colliderBodyList.length=0;$bone$$&&(this._bone=$bone$$);this._filter=new ccs.ColliderFilter;return!0},addContourData:function($contourData$$){var $calculatedVertexList_colliderBody$$=
new ccs.ColliderBody($contourData$$);this._colliderBodyList.push($calculatedVertexList_colliderBody$$);if(ccs.ENABLE_PHYSICS_SAVE_CALCULATED_VERTEX){$calculatedVertexList_colliderBody$$=$calculatedVertexList_colliderBody$$.getCalculatedVertexList();$contourData$$=$contourData$$.vertexList;for(var $i$$=0;$i$$<$contourData$$.length;$i$$++){var $newVertex$$=new ccs.ContourVertex2(0,0);$calculatedVertexList_colliderBody$$.push($newVertex$$)}}},addContourDataList:function($contourDataList$$){for(var $i$$=
0;$i$$<$contourDataList$$.length;$i$$++)this.addContourData($contourDataList$$[$i$$])},removeContourData:function($contourData$$){var $eraseList$$=[],$i$$,$locBodyList$$=this._colliderBodyList;for($i$$=0;$i$$<$locBodyList$$.length;$i$$++){var $body$$=$locBodyList$$[$i$$];$body$$&&$body$$.getContourData()==$contourData$$&&$eraseList$$.push($body$$)}for($i$$=0;$i$$<$eraseList$$.length;$i$$++)cc.arrayRemoveObject($locBodyList$$,$eraseList$$[$i$$])},removeAll:function(){this._colliderBodyList.length=
0},setActive:function($active$$){if(this._active!=$active$$){this._active=$active$$;$active$$=this._body;var $colliderBody$$;if($active$$)if($colliderBody$$=null,this._active)for(var $i$$=0;$i$$<this._colliderBodyList.length;$i$$++)$colliderBody$$=this._colliderBodyList[$i$$],$colliderBody$$=$colliderBody$$.getShape(),$active$$.space.addShape($colliderBody$$);else for($i$$=0;$i$$<this._colliderBodyList.length;$i$$++)$colliderBody$$=this._colliderBodyList[$i$$],$colliderBody$$=$colliderBody$$.getShape(),
$active$$.space.removeShape($colliderBody$$)}},getActive:function(){return this._active},getColliderBodyList:function(){return this._colliderBodyList},setColliderFilter:function($filter$$){this._filter=$filter$$;for(var $locBodyList$$=this._colliderBodyList,$i$$=0;$i$$<$locBodyList$$.length;$i$$++){var $colliderBody$$=$locBodyList$$[$i$$];$colliderBody$$.setColliderFilter($filter$$);$colliderBody$$.getShape()&&$colliderBody$$.getColliderFilter().updateShape($colliderBody$$.getShape())}},getColliderFilter:function(){return this._filter},
updateTransform:function($t$$){if(this._active)for(var $colliderBody$$3_j$$=null,$locBody$$=this._body,$locHelpPoint$$=this.helpPoint,$i$$=0;$i$$<this._colliderBodyList.length;$i$$++){var $colliderBody$$3_j$$=this._colliderBodyList[$i$$],$contourData$$=$colliderBody$$3_j$$.getContourData(),$shape$$=null;$locBody$$&&($shape$$=$colliderBody$$3_j$$.getShape());for(var $contourData$$=$contourData$$.vertexList,$cvs_n$$=$colliderBody$$3_j$$.getCalculatedVertexList(),$colliderBody$$3_j$$=0;$colliderBody$$3_j$$<
$contourData$$.length;$colliderBody$$3_j$$++){$locHelpPoint$$.x=$contourData$$[$colliderBody$$3_j$$].x;$locHelpPoint$$.y=$contourData$$[$colliderBody$$3_j$$].y;$locHelpPoint$$=cc.pointApplyAffineTransform($locHelpPoint$$,$t$$);if(ccs.ENABLE_PHYSICS_SAVE_CALCULATED_VERTEX){var $v$$=cc.p(0,0);$v$$.x=$locHelpPoint$$.x;$v$$.y=$locHelpPoint$$.y;$cvs_n$$[$colliderBody$$3_j$$]=$v$$}$shape$$&&($shape$$.verts[2*$colliderBody$$3_j$$]=$locHelpPoint$$.x,$shape$$.verts[2*$colliderBody$$3_j$$+1]=$locHelpPoint$$.y)}if($shape$$)for($colliderBody$$3_j$$=
0;$colliderBody$$3_j$$<$contourData$$.length;$colliderBody$$3_j$$++)$cvs_n$$=cp.v.normalize(cp.v.perp(cp.v.sub($shape$$.verts[($colliderBody$$3_j$$+1)%$shape$$.verts.length],$shape$$.verts[$colliderBody$$3_j$$]))),$shape$$.planes&&($shape$$.planes[$colliderBody$$3_j$$].n=$cvs_n$$,$shape$$.planes[$colliderBody$$3_j$$].d=cp.v.dot($cvs_n$$,$shape$$.verts[$colliderBody$$3_j$$]))}},setBody:function($body$$3_colliderBody$$){this._body=$body$$3_colliderBody$$;for(var $locBodyList$$=this._colliderBodyList,
$i$$=0;$i$$<$locBodyList$$.length;$i$$++){$body$$3_colliderBody$$=$locBodyList$$[$i$$];for(var $shape$$3_verts$$=[],$vs$$=$body$$3_colliderBody$$.getContourData().vertexList,$j$$=0;$j$$<$vs$$.length;$j$$++){var $v$$=$vs$$[$j$$];$shape$$3_verts$$.push($v$$.x);$shape$$3_verts$$.push($v$$.y)}$shape$$3_verts$$=new cp.PolyShape(this._body,$shape$$3_verts$$,cp.vzero);$shape$$3_verts$$.sensor=!0;$shape$$3_verts$$.data=this._bone;this._active&&this._body.space.addShape($shape$$3_verts$$);$body$$3_colliderBody$$.setShape($shape$$3_verts$$);
$body$$3_colliderBody$$.getColliderFilter().updateShape($shape$$3_verts$$)}},getBody:function(){return this._body}});_p=ccs.ColliderDetector.prototype;_p.colliderFilter;cc.defineGetterSetter(_p,"colliderFilter",_p.getColliderFilter,_p.setColliderFilter);_p.active;cc.defineGetterSetter(_p,"active",_p.getActive,_p.setActive);_p.body;cc.defineGetterSetter(_p,"body",_p.getBody,_p.setBody);_p=null;ccs.ColliderDetector.create=function $ccs$ColliderDetector$create$($bone$$){return new ccs.ColliderDetector($bone$$)};
ccs.Armature=ccs.Node.extend({animation:null,armatureData:null,batchNode:null,_textureAtlas:null,_parentBone:null,_boneDic:null,_topBoneList:null,_armatureIndexDic:null,_offsetPoint:null,version:0,_armatureTransformDirty:!0,_body:null,_blendFunc:null,_className:"Armature",_realAnchorPointInPoints:null,ctor:function($name$$,$parentBone$$){cc.Node.prototype.ctor.call(this);this._name="";this._topBoneList=[];this._armatureIndexDic={};this._offsetPoint=cc.p(0,0);this._armatureTransformDirty=!0;this._realAnchorPointInPoints=
cc.p(0,0);$name$$&&ccs.Armature.prototype.init.call(this,$name$$,$parentBone$$)},_initRendererCmd:function(){cc._renderType===cc._RENDER_TYPE_CANVAS?(this._rendererStartCmd=new cc.CustomRenderCmdCanvas(this,this._startRendererCmdForCanvas),this._rendererEndCmd=new cc.CustomRenderCmdCanvas(this,this._endRendererCmdForCanvas)):this._rendererCmd=new cc.ArmatureRenderCmdWebGL(this)},init:function($name$$,$parentBone$$){cc.Node.prototype.init.call(this);$parentBone$$&&(this._parentBone=$parentBone$$);
this.removeAllChildren();this.animation=new ccs.ArmatureAnimation;this.animation.init(this);this._boneDic={};this._topBoneList.length=0;this._blendFunc={src:cc.BLEND_SRC,dst:cc.BLEND_DST};this._name=$name$$||"";var $armatureData$$8_armatureDataManager$$1_bone$$=ccs.armatureDataManager,$animationData$$;if(""!=$name$$){$animationData$$=$armatureData$$8_armatureDataManager$$1_bone$$.getAnimationData($name$$);cc.assert($animationData$$,"AnimationData not exist!");this.animation.setAnimationData($animationData$$);
$armatureData$$8_armatureDataManager$$1_bone$$=$armatureData$$8_armatureDataManager$$1_bone$$.getArmatureData($name$$);cc.assert($armatureData$$8_armatureDataManager$$1_bone$$,"ArmatureData not exist!");this.armatureData=$armatureData$$8_armatureDataManager$$1_bone$$;var $armatureData$$8_armatureDataManager$$1_bone$$=$armatureData$$8_armatureDataManager$$1_bone$$.getBoneDataDic(),$key$$;for($key$$ in $armatureData$$8_armatureDataManager$$1_bone$$){var $armatureData$$8_armatureDataManager$$1_bone$$=
this.createBone(String($key$$)),$_movBoneData_frameData$$=$animationData$$.getMovement($animationData$$.movementNames[0]);$_movBoneData_frameData$$&&($_movBoneData_frameData$$=$_movBoneData_frameData$$.getMovementBoneData($armatureData$$8_armatureDataManager$$1_bone$$.getName()))&&!(0>=$_movBoneData_frameData$$.frameList.length)&&($_movBoneData_frameData$$=$_movBoneData_frameData$$.getFrameData(0))&&($armatureData$$8_armatureDataManager$$1_bone$$.getTweenData().copy($_movBoneData_frameData$$),$armatureData$$8_armatureDataManager$$1_bone$$.changeDisplayWithIndex($_movBoneData_frameData$$.displayIndex,
!1))}this.update(0);this.updateOffsetPoint()}else this._name="new_armature",this.armatureData=new ccs.ArmatureData,this.armatureData.name=this._name,$animationData$$=new ccs.AnimationData,$animationData$$.name=this._name,$armatureData$$8_armatureDataManager$$1_bone$$.addArmatureData(this._name,this.armatureData),$armatureData$$8_armatureDataManager$$1_bone$$.addAnimationData(this._name,$animationData$$),this.animation.setAnimationData($animationData$$);cc._renderType===cc._RENDER_TYPE_WEBGL&&this.setShaderProgram(cc.shaderCache.programForKey(cc.SHADER_POSITION_TEXTURECOLOR));
this.setCascadeOpacityEnabled(!0);this.setCascadeColorEnabled(!0);return!0},createBone:function($boneName$$){var $boneData$$=this.getBone($boneName$$);if($boneData$$)return $boneData$$;var $boneData$$=this.armatureData.getBoneData($boneName$$),$parentName$$=$boneData$$.parentName,$bone$$=null;$parentName$$?(this.createBone($parentName$$),$bone$$=new ccs.Bone($boneName$$),this.addBone($bone$$,$parentName$$)):($bone$$=new ccs.Bone($boneName$$),this.addBone($bone$$,""));$bone$$.setBoneData($boneData$$);
$bone$$.getDisplayManager().changeDisplayWithIndex(-1,!1);return $bone$$},addBone:function($bone$$,$parentName$$){cc.assert($bone$$,"Argument must be non-nil");var $locBoneDic$$=this._boneDic;$bone$$.getName()&&cc.assert(!$locBoneDic$$[$bone$$.getName()],"bone already added. It can't be added again");if($parentName$$){var $boneParent$$=$locBoneDic$$[$parentName$$];$boneParent$$?$boneParent$$.addChildBone($bone$$):this._topBoneList.push($bone$$)}else this._topBoneList.push($bone$$);$bone$$.setArmature(this);
$locBoneDic$$[$bone$$.getName()]=$bone$$;this.addChild($bone$$)},removeBone:function($bone$$,$recursion$$){cc.assert($bone$$,"bone must be added to the bone dictionary!");$bone$$.setArmature(null);$bone$$.removeFromParent($recursion$$);cc.arrayRemoveObject(this._topBoneList,$bone$$);delete this._boneDic[$bone$$.getName()];this.removeChild($bone$$,!0)},getBone:function($name$$){return this._boneDic[$name$$]},changeBoneParent:function($bone$$,$parentName$$){cc.assert($bone$$,"bone must be added to the bone dictionary!");
var $boneParent$$1_parentBone$$=$bone$$.getParentBone();$boneParent$$1_parentBone$$&&(cc.arrayRemoveObject($boneParent$$1_parentBone$$.getChildren(),$bone$$),$bone$$.setParentBone(null));$parentName$$&&(($boneParent$$1_parentBone$$=this._boneDic[$parentName$$])?($boneParent$$1_parentBone$$.addChildBone($bone$$),cc.arrayRemoveObject(this._topBoneList,$bone$$)):this._topBoneList.push($bone$$))},getBoneDic:function(){return this._boneDic},updateOffsetPoint:function(){var $rect$$=this.getBoundingBox();
this.setContentSize($rect$$);var $locOffsetPoint$$=this._offsetPoint;$locOffsetPoint$$.x=-$rect$$.x;$locOffsetPoint$$.y=-$rect$$.y;0!=$rect$$.width&&0!=$rect$$.height&&this.setAnchorPoint($locOffsetPoint$$.x/$rect$$.width,$locOffsetPoint$$.y/$rect$$.height)},setAnchorPoint:function($point$$,$y$$){var $ax$$,$ay$$;void 0!==$y$$?($ax$$=$point$$,$ay$$=$y$$):($ax$$=$point$$.x,$ay$$=$point$$.y);var $locAnchorPoint$$=this._anchorPoint;if($ax$$!=$locAnchorPoint$$.x||$ay$$!=$locAnchorPoint$$.y){var $contentSize$$=
this._contentSize;$locAnchorPoint$$.x=$ax$$;$locAnchorPoint$$.y=$ay$$;this._anchorPointInPoints.x=$contentSize$$.width*$locAnchorPoint$$.x-this._offsetPoint.x;this._anchorPointInPoints.y=$contentSize$$.height*$locAnchorPoint$$.y-this._offsetPoint.y;this._realAnchorPointInPoints.x=$contentSize$$.width*$locAnchorPoint$$.x;this._realAnchorPointInPoints.y=$contentSize$$.height*$locAnchorPoint$$.y;this.setNodeDirty()}},_setAnchorX:function($x$$){this._anchorPoint.x!==$x$$&&(this._anchorPoint.x=$x$$,this._anchorPointInPoints.x=
this._contentSize.width*$x$$-this._offsetPoint.x,this._realAnchorPointInPoints.x=this._contentSize.width*$x$$,this.setNodeDirty())},_setAnchorY:function($y$$){this._anchorPoint.y!==$y$$&&(this._anchorPoint.y=$y$$,this._anchorPointInPoints.y=this._contentSize.height*$y$$-this._offsetPoint.y,this._realAnchorPointInPoints.y=this._contentSize.height*$y$$,this.setNodeDirty())},getAnchorPointInPoints:function(){return this._realAnchorPointInPoints},getOffsetPoints:function(){return{x:this._offsetPoint.x,
y:this._offsetPoint.y}},setAnimation:function($animation$$){this.animation=$animation$$},getAnimation:function(){return this.animation},getArmatureTransformDirty:function(){return this._armatureTransformDirty},update:function($dt$$){this.animation.update($dt$$);for(var $locTopBoneList$$=this._topBoneList,$i$$=0;$i$$<$locTopBoneList$$.length;$i$$++)$locTopBoneList$$[$i$$].update($dt$$);this._armatureTransformDirty=!1},draw:function($ctx$$){for(var $locChildren$$=this._children,$alphaPremultiplied$$=
cc.BlendFunc.ALPHA_PREMULTIPLIED,$alphaNonPremultipled$$=cc.BlendFunc.ALPHA_NON_PREMULTIPLIED,$i$$=0,$len$$=$locChildren$$.length;$i$$<$len$$;$i$$++){var $selBone$$=$locChildren$$[$i$$];if($selBone$$&&$selBone$$.getDisplayRenderNode){var $node$$=$selBone$$.getDisplayRenderNode();if(null!=$node$$)switch(cc._renderType===cc._RENDER_TYPE_WEBGL&&$node$$.setShaderProgram(this._shaderProgram),$selBone$$.getDisplayRenderNodeType()){case ccs.DISPLAY_TYPE_SPRITE:if($node$$ instanceof ccs.Skin)if(cc._renderType===
cc._RENDER_TYPE_WEBGL){$node$$.updateTransform();var $func$$=$selBone$$.getBlendFunc();$func$$.src!=$alphaPremultiplied$$.src||$func$$.dst!=$alphaPremultiplied$$.dst?$node$$.setBlendFunc($selBone$$.getBlendFunc()):this._blendFunc.src!=$alphaPremultiplied$$.src||this._blendFunc.dst!=$alphaPremultiplied$$.dst||$node$$.getTexture().hasPremultipliedAlpha()?$node$$.setBlendFunc(this._blendFunc):$node$$.setBlendFunc($alphaNonPremultipled$$);$node$$.draw($ctx$$)}else $node$$.visit($ctx$$);break;case ccs.DISPLAY_TYPE_ARMATURE:$node$$.draw($ctx$$);
break;default:$node$$.visit($ctx$$)}}else $selBone$$ instanceof cc.Node&&(cc._renderType===cc._RENDER_TYPE_WEBGL&&$selBone$$.setShaderProgram(this._shaderProgram),$selBone$$.visit($ctx$$))}},onEnter:function(){cc.Node.prototype.onEnter.call(this);this.scheduleUpdate()},onExit:function(){cc.Node.prototype.onExit.call(this);this.unscheduleUpdate()},visit:null,_visitForCanvas:function($ctx$$){var $context$$=$ctx$$||cc._renderContext;this._visible&&($context$$.save(),this.transform($context$$),this.sortAllChildren(),
this._rendererStartCmd&&cc.renderer.pushRenderCommand(this._rendererStartCmd),this.draw($ctx$$),this._rendererEndCmd&&cc.renderer.pushRenderCommand(this._rendererEndCmd),this._cacheDirty=!1,$context$$.restore())},_startRendererCmdForCanvas:function($ctx$$114_locChildren$$,$i$$477_scaleX$$,$len$$141_scaleY$$){var $context$$49_node$$252_selBone$$2_t$$=$ctx$$114_locChildren$$||cc._renderContext;$context$$49_node$$252_selBone$$2_t$$.save();this.transform($context$$49_node$$252_selBone$$2_t$$);$context$$49_node$$252_selBone$$2_t$$=
this._transformWorld;$ctx$$114_locChildren$$.transform($context$$49_node$$252_selBone$$2_t$$.a,$context$$49_node$$252_selBone$$2_t$$.b,$context$$49_node$$252_selBone$$2_t$$.c,$context$$49_node$$252_selBone$$2_t$$.d,$context$$49_node$$252_selBone$$2_t$$.tx*$i$$477_scaleX$$,-$context$$49_node$$252_selBone$$2_t$$.ty*$len$$141_scaleY$$);$ctx$$114_locChildren$$=this._children;$i$$477_scaleX$$=0;for($len$$141_scaleY$$=$ctx$$114_locChildren$$.length;$i$$477_scaleX$$<$len$$141_scaleY$$;$i$$477_scaleX$$++)($context$$49_node$$252_selBone$$2_t$$=
$ctx$$114_locChildren$$[$i$$477_scaleX$$])&&$context$$49_node$$252_selBone$$2_t$$.getDisplayRenderNode&&($context$$49_node$$252_selBone$$2_t$$=$context$$49_node$$252_selBone$$2_t$$.getDisplayRenderNode(),null!=$context$$49_node$$252_selBone$$2_t$$&&$context$$49_node$$252_selBone$$2_t$$._transformForRenderer())},_endRendererCmdForCanvas:function($context$$50_ctx$$){$context$$50_ctx$$=$context$$50_ctx$$||cc._renderContext;this._cacheDirty=!1;$context$$50_ctx$$.restore()},_visitForWebGL:function(){if(this._visible){var $currentStack$$=
cc.current_stack;$currentStack$$.stack.push($currentStack$$.top);cc.kmMat4Assign(this._stackMatrix,$currentStack$$.top);$currentStack$$.top=this._stackMatrix;this.transform();this.sortAllChildren();cc.renderer.pushRenderCommand(this._rendererCmd);$currentStack$$.top=$currentStack$$.stack.pop()}},getBoundingBox:function(){for(var $bone$$33_minX$$,$minY$$,$maxX$$,$maxY$$2_r$$=0,$first$$=!0,$boundingBox$$=cc.rect(0,0,0,0),$locChildren$$=this._children,$len$$=$locChildren$$.length,$i$$=0;$i$$<$len$$;$i$$++)if($bone$$33_minX$$=
$locChildren$$[$i$$])if($maxY$$2_r$$=$bone$$33_minX$$.getDisplayManager().getBoundingBox(),0!=$maxY$$2_r$$.x||0!=$maxY$$2_r$$.y||0!=$maxY$$2_r$$.width||0!=$maxY$$2_r$$.height)$first$$?($bone$$33_minX$$=$maxY$$2_r$$.x,$minY$$=$maxY$$2_r$$.y,$maxX$$=$maxY$$2_r$$.x+$maxY$$2_r$$.width,$maxY$$2_r$$=$maxY$$2_r$$.y+$maxY$$2_r$$.height,$first$$=!1):($bone$$33_minX$$=$maxY$$2_r$$.x<$boundingBox$$.x?$maxY$$2_r$$.x:$boundingBox$$.x,$minY$$=$maxY$$2_r$$.y<$boundingBox$$.y?$maxY$$2_r$$.y:$boundingBox$$.y,$maxX$$=
$maxY$$2_r$$.x+$maxY$$2_r$$.width>$boundingBox$$.x+$boundingBox$$.width?$maxY$$2_r$$.x+$maxY$$2_r$$.width:$boundingBox$$.x+$boundingBox$$.width,$maxY$$2_r$$=$maxY$$2_r$$.y+$maxY$$2_r$$.height>$boundingBox$$.y+$boundingBox$$.height?$maxY$$2_r$$.y+$maxY$$2_r$$.height:$boundingBox$$.y+$boundingBox$$.height),$boundingBox$$.x=$bone$$33_minX$$,$boundingBox$$.y=$minY$$,$boundingBox$$.width=$maxX$$-$bone$$33_minX$$,$boundingBox$$.height=$maxY$$2_r$$-$minY$$;return cc.rectApplyAffineTransform($boundingBox$$,
this.getNodeToParentTransform())},getBoneAtPoint:function($x$$,$y$$){for(var $locChildren$$=this._children,$i$$=$locChildren$$.length-1;0<=$i$$;$i$$--){var $child$$=$locChildren$$[$i$$];if($child$$ instanceof ccs.Bone&&$child$$.getDisplayManager().containPoint($x$$,$y$$))return $child$$}return null},setParentBone:function($locBoneDic$$1_parentBone$$){this._parentBone=$locBoneDic$$1_parentBone$$;$locBoneDic$$1_parentBone$$=this._boneDic;for(var $key$$ in $locBoneDic$$1_parentBone$$)$locBoneDic$$1_parentBone$$[$key$$].setArmature(this)},
getParentBone:function(){return this._parentBone},drawContour:function(){cc._drawingUtil.setDrawColor(255,255,255,255);cc._drawingUtil.setLineWidth(1);var $locBoneDic$$=this._boneDic,$key$$;for($key$$ in $locBoneDic$$){var $bodyList_detector$$=$locBoneDic$$[$key$$].getColliderDetector();if($bodyList_detector$$)for(var $bodyList_detector$$=$bodyList_detector$$.getColliderBodyList(),$i$$=0;$i$$<$bodyList_detector$$.length;$i$$++){var $vertexList$$=$bodyList_detector$$[$i$$].getCalculatedVertexList();
cc._drawingUtil.drawPoly($vertexList$$,$vertexList$$.length,!0)}}},setBody:function($body$$5_locChildren$$){if(this._body!=$body$$5_locChildren$$){this._body=$body$$5_locChildren$$;this._body.data=this;var $child$$76_displayList$$,$detector$$;$body$$5_locChildren$$=this._children;for(var $i$$=0;$i$$<$body$$5_locChildren$$.length;$i$$++)if($child$$76_displayList$$=$body$$5_locChildren$$[$i$$],$child$$76_displayList$$ instanceof ccs.Bone){$child$$76_displayList$$=$child$$76_displayList$$.getDisplayManager().getDecorativeDisplayList();
for(var $j$$=0;$j$$<$child$$76_displayList$$.length;$j$$++)$detector$$=$child$$76_displayList$$[$j$$],($detector$$=$detector$$.getColliderDetector())&&$detector$$.setBody(this._body)}}},getShapeList:function(){return this._body?this._body.shapeList:null},getBody:function(){return this._body},setBlendFunc:function($blendFunc$$){this._blendFunc=$blendFunc$$},getBlendFunc:function(){return this._blendFunc},setColliderFilter:function($filter$$){var $locBoneDic$$=this._boneDic,$key$$;for($key$$ in $locBoneDic$$)$locBoneDic$$[$key$$].setColliderFilter($filter$$)},
getArmatureData:function(){return this.armatureData},setArmatureData:function($armatureData$$){this.armatureData=$armatureData$$},getBatchNode:function(){return this.batchNode},setBatchNode:function($batchNode$$){this.batchNode=$batchNode$$},getVersion:function(){return this.version},setVersion:function($version$$){this.version=$version$$},_transformForRenderer:function(){ccs.Node.prototype._transformForRenderer.call(this);for(var $locChildren$$=this._children,$i$$=0,$len$$=$locChildren$$.length;$i$$<
$len$$;$i$$++){var $node$$253_selBone$$=$locChildren$$[$i$$];$node$$253_selBone$$&&$node$$253_selBone$$.getDisplayRenderNode&&($node$$253_selBone$$=$node$$253_selBone$$.getDisplayRenderNode(),null!=$node$$253_selBone$$&&$node$$253_selBone$$._transformForRenderer())}}});ccs.Armature.prototype.visit=cc._renderType==cc._RENDER_TYPE_WEBGL?ccs.Armature.prototype._visitForWebGL:ccs.Armature.prototype._visitForCanvas;_p=ccs.Armature.prototype;_p.parentBone;
cc.defineGetterSetter(_p,"parentBone",_p.getParentBone,_p.setParentBone);_p.body;cc.defineGetterSetter(_p,"body",_p.getBody,_p.setBody);_p.colliderFilter;cc.defineGetterSetter(_p,"colliderFilter",null,_p.setColliderFilter);_p=null;ccs.Armature.create=function $ccs$Armature$create$($name$$,$parentBone$$){return new ccs.Armature($name$$,$parentBone$$)};
ccs.Bone=ccs.Node.extend({_boneData:null,_armature:null,_childArmature:null,_displayManager:null,ignoreMovementBoneData:!1,_tween:null,_tweenData:null,_parentBone:null,_boneTransformDirty:!1,_worldTransform:null,_blendFunc:null,blendDirty:!1,_worldInfo:null,_armatureParentBone:null,_dataVersion:0,_className:"Bone",ctor:function($name$$){cc.Node.prototype.ctor.call(this);this._displayManager=this._tween=this._boneData=this._childArmature=this._armature=this._parentBone=this._tweenData=null;this.ignoreMovementBoneData=
!1;this._worldTransform=cc.affineTransformMake(1,0,0,1,0,0);this._boneTransformDirty=!0;this._blendFunc=new cc.BlendFunc(cc.BLEND_SRC,cc.BLEND_DST);this.blendDirty=!1;this._armatureParentBone=this._worldInfo=null;this._dataVersion=0;ccs.Bone.prototype.init.call(this,$name$$)},init:function($name$$){$name$$&&(this._name=$name$$);this._tweenData=new ccs.FrameData;this._tween=new ccs.Tween(this);this._displayManager=new ccs.DisplayManager(this);this._worldInfo=new ccs.BaseData;this._boneData=new ccs.BaseData;
return!0},setBoneData:function($boneData$$){cc.assert($boneData$$,"_boneData must not be null");this._boneData!=$boneData$$&&(this._boneData=$boneData$$);this.setName(this._boneData.name);this._localZOrder=this._boneData.zOrder;this._displayManager.initDisplayList($boneData$$)},getBoneData:function(){return this._boneData},setArmature:function($armature$$){(this._armature=$armature$$)?(this._tween.setAnimation(this._armature.getAnimation()),this._dataVersion=this._armature.getArmatureData().dataVersion,
this._armatureParentBone=this._armature.getParentBone()):this._armatureParentBone=null},getArmature:function(){return this._armature},update:function($delta$$){this._parentBone&&(this._boneTransformDirty=this._boneTransformDirty||this._parentBone.isTransformDirty());this._armatureParentBone&&!this._boneTransformDirty&&(this._boneTransformDirty=this._armatureParentBone.isTransformDirty());if(this._boneTransformDirty){var $i$$=this._tweenData;this._dataVersion>=ccs.CONST_VERSION_COMBINED&&(ccs.TransformHelp.nodeConcat($i$$,
this._boneData),--$i$$.scaleX,--$i$$.scaleY);var $locWorldInfo$$=this._worldInfo;$locWorldInfo$$.copy($i$$);$locWorldInfo$$.x=$i$$.x+this._position.x;$locWorldInfo$$.y=$i$$.y+this._position.y;$locWorldInfo$$.scaleX=$i$$.scaleX*this._scaleX;$locWorldInfo$$.scaleY=$i$$.scaleY*this._scaleY;$locWorldInfo$$.skewX=$i$$.skewX+this._skewX+cc.degreesToRadians(this._rotationX);$locWorldInfo$$.skewY=$i$$.skewY+this._skewY-cc.degreesToRadians(this._rotationY);this._parentBone?this._applyParentTransform(this._parentBone):
this._armatureParentBone&&this._applyParentTransform(this._armatureParentBone);ccs.TransformHelp.nodeToMatrix($locWorldInfo$$,this._worldTransform);this._armatureParentBone&&(this._worldTransform=cc.affineTransformConcat(this._worldTransform,this._armature.getNodeToParentTransform()))}ccs.displayFactory.updateDisplay(this,$delta$$,this._boneTransformDirty||this._armature.getArmatureTransformDirty());for($i$$=0;$i$$<this._children.length;$i$$++)this._children[$i$$].update($delta$$);this._boneTransformDirty=
!1},_applyParentTransform:function($locParentWorldInfo_parent$$){var $locWorldInfo$$=this._worldInfo,$locParentWorldTransform$$=$locParentWorldInfo_parent$$._worldTransform;$locParentWorldInfo_parent$$=$locParentWorldInfo_parent$$._worldInfo;var $x$$=$locWorldInfo$$.x,$y$$=$locWorldInfo$$.y;$locWorldInfo$$.x=$x$$*$locParentWorldTransform$$.a+$y$$*$locParentWorldTransform$$.c+$locParentWorldInfo_parent$$.x;$locWorldInfo$$.y=$x$$*$locParentWorldTransform$$.b+$y$$*$locParentWorldTransform$$.d+$locParentWorldInfo_parent$$.y;
$locWorldInfo$$.scaleX*=$locParentWorldInfo_parent$$.scaleX;$locWorldInfo$$.scaleY*=$locParentWorldInfo_parent$$.scaleY;$locWorldInfo$$.skewX+=$locParentWorldInfo_parent$$.skewX;$locWorldInfo$$.skewY+=$locParentWorldInfo_parent$$.skewY},setBlendFunc:function($blendFunc$$,$dst$$){var $locBlendFunc$$=this._blendFunc,$srcValue$$,$dstValue$$;void 0===$dst$$?($srcValue$$=$blendFunc$$.src,$dstValue$$=$blendFunc$$.dst):($srcValue$$=$blendFunc$$,$dstValue$$=$dst$$);if($locBlendFunc$$.src!=$srcValue$$||$locBlendFunc$$.dst!=
$dstValue$$)$locBlendFunc$$.src=$srcValue$$,$locBlendFunc$$.dst=$dstValue$$,this.blendDirty=!0},updateDisplayedColor:function($color$$){this._realColor=cc.color(255,255,255);cc.Node.prototype.updateDisplayedColor.call(this,$color$$);this.updateColor()},updateDisplayedOpacity:function($opacity$$){this._realOpacity=255;cc.Node.prototype.updateDisplayedOpacity.call(this,$opacity$$);this.updateColor()},updateColor:function(){var $display$$=this._displayManager.getDisplayRenderNode();null!=$display$$&&
($display$$.setColor(cc.color(this._displayedColor.r*this._tweenData.r/255,this._displayedColor.g*this._tweenData.g/255,this._displayedColor.b*this._tweenData.b/255)),$display$$.setOpacity(this._displayedOpacity*this._tweenData.a/255))},updateZOrder:function(){this._armature.getArmatureData().dataVersion>=ccs.CONST_VERSION_COMBINED?this.setLocalZOrder(this._tweenData.zOrder+this._boneData.zOrder):this.setLocalZOrder(this._tweenData.zOrder)},addChildBone:function($child$$){cc.assert($child$$,"Argument must be non-nil");
cc.assert(!$child$$.parentBone,"child already added. It can't be added again");0>this._children.indexOf($child$$)&&(this._children.push($child$$),$child$$.setParentBone(this))},removeChildBone:function($bone$$,$recursion$$){if(0<this._children.length&&-1!=this._children.getIndex($bone$$)){if($recursion$$)for(var $ccbones$$=$bone$$._children,$i$$=0;$i$$<$ccbones$$.length;$i$$++)$bone$$.removeChildBone($ccbones$$[$i$$],$recursion$$);$bone$$.setParentBone(null);$bone$$.getDisplayManager().setCurrentDecorativeDisplay(null);
cc.arrayRemoveObject(this._children,$bone$$)}},removeFromParent:function($recursion$$){this._parentBone&&this._parentBone.removeChildBone(this,$recursion$$)},setParentBone:function($parent$$){this._parentBone=$parent$$},getParentBone:function(){return this._parentBone},setChildArmature:function($armature$$){this._childArmature!=$armature$$&&(null==$armature$$&&this._childArmature&&this._childArmature.setParentBone(null),this._childArmature=$armature$$)},getChildArmature:function(){return this._childArmature},
getTween:function(){return this._tween},setLocalZOrder:function($zOrder$$){this._localZOrder!=$zOrder$$&&cc.Node.prototype.setLocalZOrder.call(this,$zOrder$$)},getNodeToArmatureTransform:function(){return this._worldTransform},getNodeToWorldTransform:function(){return cc.affineTransformConcat(this._worldTransform,this._armature.getNodeToWorldTransform())},getDisplayRenderNode:function(){return this._displayManager.getDisplayRenderNode()},getDisplayRenderNodeType:function(){return this._displayManager.getDisplayRenderNodeType()},
addDisplay:function($displayData$$,$index$$){return this._displayManager.addDisplay($displayData$$,$index$$||0)},removeDisplay:function($index$$){this._displayManager.removeDisplay($index$$)},changeDisplayByIndex:function($index$$,$force$$){cc.log("changeDisplayByIndex is deprecated. Use changeDisplayWithIndex instead.");this.changeDisplayWithIndex($index$$,$force$$)},changeDisplayByName:function($name$$,$force$$){cc.log("changeDisplayByName is deprecated. Use changeDisplayWithName instead.");this.changeDisplayWithName($name$$,
$force$$)},changeDisplayWithIndex:function($index$$,$force$$){this._displayManager.changeDisplayWithIndex($index$$,$force$$)},changeDisplayWithName:function($name$$,$force$$){this._displayManager.changeDisplayWithName($name$$,$force$$)},getColliderDetector:function(){var $decoDisplay$$14_detector$$=this._displayManager.getCurrentDecorativeDisplay();return $decoDisplay$$14_detector$$&&($decoDisplay$$14_detector$$=$decoDisplay$$14_detector$$.getColliderDetector())?$decoDisplay$$14_detector$$:null},
setColliderFilter:function($filter$$){for(var $displayList$$=this._displayManager.getDecorativeDisplayList(),$i$$=0;$i$$<$displayList$$.length;$i$$++){var $locDetector$$=$displayList$$[$i$$].getColliderDetector();$locDetector$$&&$locDetector$$.setColliderFilter($filter$$)}},getColliderFilter:function(){var $decoDisplay$$15_detector$$=this.displayManager.getCurrentDecorativeDisplay();return $decoDisplay$$15_detector$$&&($decoDisplay$$15_detector$$=$decoDisplay$$15_detector$$.getColliderDetector())?
$decoDisplay$$15_detector$$.getColliderFilter():null},setTransformDirty:function($dirty$$){this._boneTransformDirty=$dirty$$},isTransformDirty:function(){return this._boneTransformDirty},getDisplayManager:function(){return this._displayManager},setIgnoreMovementBoneData:function($bool$$){this._ignoreMovementBoneData=$bool$$},isIgnoreMovementBoneData:function(){return this._ignoreMovementBoneData},getBlendFunc:function(){return this._blendFunc},setBlendDirty:function($dirty$$){this._blendDirty=$dirty$$},
isBlendDirty:function(){return this._blendDirty},getTweenData:function(){return this._tweenData},getWorldInfo:function(){return this._worldInfo},getChildrenBone:function(){return this._children},nodeToArmatureTransform:function(){return this.getNodeToArmatureTransform()},nodeToWorldTransform:function(){return this.getNodeToWorldTransform()},getColliderBodyList:function(){var $detector$$=this.getColliderDetector();return $detector$$?$detector$$.getColliderBodyList():null},getIgnoreMovementBoneData:function(){return this.isIgnoreMovementBoneData()}});
_p=ccs.Bone.prototype;_p.boneData;cc.defineGetterSetter(_p,"boneData",_p.getBoneData,_p.setBoneData);_p.armature;cc.defineGetterSetter(_p,"armature",_p.getArmature,_p.setArmature);_p.childArmature;cc.defineGetterSetter(_p,"childArmature",_p.getChildArmature,_p.setChildArmature);_p.childrenBone;cc.defineGetterSetter(_p,"childrenBone",_p.getChildrenBone);_p.tween;cc.defineGetterSetter(_p,"tween",_p.getTween);_p.tweenData;cc.defineGetterSetter(_p,"tweenData",_p.getTweenData);_p.colliderFilter;
cc.defineGetterSetter(_p,"colliderFilter",_p.getColliderFilter,_p.setColliderFilter);_p=null;ccs.Bone.create=function $ccs$Bone$create$($name$$){return new ccs.Bone($name$$)};ccs.FRAME_TYPE_MOVE=0;ccs.FRAME_TYPE_SCALE=1;ccs.FRAME_TYPE_ROTATE=2;ccs.FRAME_TYPE_TINT=3;ccs.FRAME_TYPE_FADE=4;ccs.FRAME_TYPE_MAX=5;
ccs.FrameEaseType={Custom:-1,Linear:0,Sine_EaseIn:1,Sine_EaseOut:2,Sine_EaseInOut:3,Quad_EaseIn:4,Quad_EaseOut:5,Quad_EaseInOut:6,Cubic_EaseIn:7,Cubic_EaseOut:8,Cubic_EaseInOut:9,Quart_EaseIn:10,Quart_EaseOut:11,Quart_EaseInOut:12,Quint_EaseIn:13,Quint_EaseOut:14,Quint_EaseInOut:15,Expo_EaseIn:16,Expo_EaseOut:17,Expo_EaseInOut:18,Circ_EaseIn:19,Circ_EaseOut:20,Circ_EaseInOut:21,Elastic_EaesIn:22,Elastic_EaesOut:23,Elastic_EaesInOut:24,Back_EaseIn:25,Back_EaseOut:26,Back_EaseInOut:27,Bounce_EaseIn:28,
Bounce_EaseOut:29,Bounce_EaseInOut:30};
ccs.ActionFrame=ccs.Class.extend({frameType:0,easingType:0,frameIndex:0,_Parameter:null,time:0,ctor:function(){this.frameType=0;this.easingType=ccs.FrameEaseType.Linear;this.time=this.frameIndex=0},getAction:function($duration$$,$srcFrame$$){cc.log("Need a definition of <getAction> for ActionFrame");return null},_getEasingAction:function($action$$){if(null===$action$$)return console.error("Action cannot be null!"),null;var $resultAction$$;switch(this.easingType){case ccs.FrameEaseType.Linear:$resultAction$$=$action$$;
break;case ccs.FrameEaseType.Sine_EaseIn:$resultAction$$=$action$$.easing(cc.easeSineIn());break;case ccs.FrameEaseType.Sine_EaseOut:$resultAction$$=$action$$.easing(cc.easeSineOut());break;case ccs.FrameEaseType.Sine_EaseInOut:$resultAction$$=$action$$.easing(cc.easeSineInOut());break;case ccs.FrameEaseType.Quad_EaseIn:$resultAction$$=$action$$.easing(cc.easeQuadraticActionIn());break;case ccs.FrameEaseType.Quad_EaseOut:$resultAction$$=$action$$.easing(cc.easeQuadraticActionOut());break;case ccs.FrameEaseType.Quad_EaseInOut:$resultAction$$=
$action$$.easing(cc.easeQuadraticActionInOut());break;case ccs.FrameEaseType.Cubic_EaseIn:$resultAction$$=$action$$.easing(cc.easeCubicActionIn());break;case ccs.FrameEaseType.Cubic_EaseOut:$resultAction$$=$action$$.easing(cc.easeCubicActionOut());break;case ccs.FrameEaseType.Cubic_EaseInOut:$resultAction$$=$action$$.easing(cc.easeCubicActionInOut());break;case ccs.FrameEaseType.Quart_EaseIn:$resultAction$$=$action$$.easing(cc.easeQuarticActionIn());break;case ccs.FrameEaseType.Quart_EaseOut:$resultAction$$=
$action$$.easing(cc.easeQuarticActionOut());break;case ccs.FrameEaseType.Quart_EaseInOut:$resultAction$$=$action$$.easing(cc.easeQuarticActionInOut());break;case ccs.FrameEaseType.Quint_EaseIn:$resultAction$$=$action$$.easing(cc.easeQuinticActionIn());break;case ccs.FrameEaseType.Quint_EaseOut:$resultAction$$=$action$$.easing(cc.easeQuinticActionOut());break;case ccs.FrameEaseType.Quint_EaseInOut:$resultAction$$=$action$$.easing(cc.easeQuinticActionInOut());break;case ccs.FrameEaseType.Expo_EaseIn:$resultAction$$=
$action$$.easing(cc.easeExponentialIn());break;case ccs.FrameEaseType.Expo_EaseOut:$resultAction$$=$action$$.easing(cc.easeExponentialOut());break;case ccs.FrameEaseType.Expo_EaseInOut:$resultAction$$=$action$$.easing(cc.easeExponentialInOut());break;case ccs.FrameEaseType.Circ_EaseIn:$resultAction$$=$action$$.easing(cc.easeCircleActionIn());break;case ccs.FrameEaseType.Circ_EaseOut:$resultAction$$=$action$$.easing(cc.easeCircleActionOut());break;case ccs.FrameEaseType.Circ_EaseInOut:$resultAction$$=
$action$$.easing(cc.easeCircleActionInOut());break;case ccs.FrameEaseType.Elastic_EaesIn:$resultAction$$=$action$$.easing(cc.easeElasticIn());break;case ccs.FrameEaseType.Elastic_EaesOut:$resultAction$$=$action$$.easing(cc.easeElasticOut());break;case ccs.FrameEaseType.Elastic_EaesInOut:$resultAction$$=$action$$.easing(cc.easeElasticInOut());break;case ccs.FrameEaseType.Back_EaseIn:$resultAction$$=$action$$.easing(cc.easeBackIn());break;case ccs.FrameEaseType.Back_EaseOut:$resultAction$$=$action$$.easing(cc.easeBackOut());
break;case ccs.FrameEaseType.Back_EaseInOut:$resultAction$$=$action$$.easing(cc.easeBackInOut());break;case ccs.FrameEaseType.Bounce_EaseIn:$resultAction$$=$action$$.easing(cc.easeBounceIn());break;case ccs.FrameEaseType.Bounce_EaseOut:$resultAction$$=$action$$.easing(cc.easeBounceOut());break;case ccs.FrameEaseType.Bounce_EaseInOut:$resultAction$$=$action$$.easing(cc.easeBounceInOut())}return $resultAction$$},setEasingParameter:function($parameter$$){this._Parameter=[];for(var $i$$=0;$i$$<$parameter$$.length;$i$$++)this._Parameter.push($parameter$$[$i$$])},
setEasingType:function($easingType$$){this.easingType=$easingType$$}});
ccs.ActionMoveFrame=ccs.ActionFrame.extend({_position:null,ctor:function(){ccs.ActionFrame.prototype.ctor.call(this);this._position=cc.p(0,0);this.frameType=ccs.FRAME_TYPE_MOVE},setPosition:function($pos$$,$y$$){void 0===$y$$?(this._position.x=$pos$$.x,this._position.y=$pos$$.y):(this._position.x=$pos$$,this._position.y=$y$$)},getPosition:function(){return this._position},getAction:function($duration$$){return this._getEasingAction(cc.moveTo($duration$$,this._position))}});
ccs.ActionScaleFrame=ccs.ActionFrame.extend({_scaleX:1,_scaleY:1,ctor:function(){ccs.ActionFrame.prototype.ctor.call(this);this._scaleY=this._scaleX=1;this.frameType=ccs.FRAME_TYPE_SCALE},setScaleX:function($scaleX$$){this._scaleX=$scaleX$$},getScaleX:function(){return this._scaleX},setScaleY:function($scaleY$$){this._scaleY=$scaleY$$},getScaleY:function(){return this._scaleY},getAction:function($duration$$){return this._getEasingAction(cc.scaleTo($duration$$,this._scaleX,this._scaleY))}});
ccs.ActionRotationFrame=ccs.ActionFrame.extend({_rotation:0,ctor:function(){ccs.ActionFrame.prototype.ctor.call(this);this._rotation=0;this.frameType=ccs.FRAME_TYPE_ROTATE},setRotation:function($rotation$$){this._rotation=$rotation$$},getRotation:function(){return this._rotation},getAction:function($duration$$,$srcFrame$$){return void 0===$srcFrame$$?this._getEasingAction(cc.rotateTo($duration$$,this._rotation)):$srcFrame$$ instanceof cc.ActionRotationFrame?this._getEasingAction(cc.rotateBy($duration$$,
this._rotation-$srcFrame$$._rotation)):this.getAction($duration$$)}});ccs.ActionFadeFrame=ccs.ActionFrame.extend({_opacity:255,ctor:function(){ccs.ActionFrame.prototype.ctor.call(this);this._opacity=255;this.frameType=ccs.FRAME_TYPE_FADE},setOpacity:function($opacity$$){this._opacity=$opacity$$},getOpacity:function(){return this._opacity},getAction:function($duration$$){return this._getEasingAction(cc.fadeTo($duration$$,this._opacity))}});
ccs.ActionTintFrame=ccs.ActionFrame.extend({_color:null,ctor:function(){ccs.ActionFrame.prototype.ctor.call(this);this._color=cc.color(255,255,255,255);this.frameType=ccs.FRAME_TYPE_TINT},setColor:function($color$$){var $locColor$$=this._color;$locColor$$.r=$color$$.r;$locColor$$.g=$color$$.g;$locColor$$.b=$color$$.b},getColor:function(){var $locColor$$=this._color;return cc.color($locColor$$.r,$locColor$$.g,$locColor$$.b,$locColor$$.a)},getAction:function($duration$$){return this._getEasingAction(cc.tintTo($duration$$,
this._color.r,this._color.g,this._color.b))}});
ccs.actionManager={_actionDic:{},initWithDictionary:function $ccs$actionManager$initWithDictionary$($fileName$$,$actionList_dic$$,$root$$){var $locActionList_pos$$=$fileName$$.lastIndexOf("/");$fileName$$=$fileName$$.substr($locActionList_pos$$+1,$fileName$$.length);$actionList_dic$$=$actionList_dic$$.actionlist;for(var $locActionList_pos$$=[],$i$$=0;$i$$<$actionList_dic$$.length;$i$$++){var $locAction$$=new ccs.ActionObject;$locAction$$.initWithDictionary($actionList_dic$$[$i$$],$root$$);$locActionList_pos$$.push($locAction$$)}this._actionDic[$fileName$$]=
$locActionList_pos$$},getActionByName:function $ccs$actionManager$getActionByName$($jsonName$$,$actionName$$){var $actionList$$=this._actionDic[$jsonName$$];if(!$actionList$$)return null;for(var $i$$=0;$i$$<$actionList$$.length;$i$$++){var $locAction$$=$actionList$$[$i$$];if($actionName$$==$locAction$$.getName())return $locAction$$}return null},playActionByName:function $ccs$actionManager$playActionByName$($action$$192_jsonName$$,$actionName$$,$fun$$){($action$$192_jsonName$$=this.getActionByName($action$$192_jsonName$$,
$actionName$$))&&$action$$192_jsonName$$.play($fun$$)},releaseActions:function $ccs$actionManager$releaseActions$(){this._actionDic={}},clear:function $ccs$actionManager$clear$(){this._actionDic={}}};
ccs.ActionNode=ccs.Class.extend({_currentFrameIndex:0,_destFrameIndex:0,_unitTime:0,_actionTag:0,_object:null,_actionSpawn:null,_action:null,_frameArray:null,_frameArrayNum:0,ctor:function(){this._destFrameIndex=this._currentFrameIndex=0;this._unitTime=.1;this._actionTag=0;this._action=this._actionSpawn=this._object=null;this._frameArray=[];this._frameArrayNum=ccs.FRAME_TYPE_MAX;for(var $i$$=0;$i$$<this._frameArrayNum;$i$$++)this._frameArray.push([])},initWithDictionary:function($dic$$,$root$$){this.setActionTag($dic$$.ActionTag);
for(var $actionFrameList$$=$dic$$.actionframelist,$i$$=0;$i$$<$actionFrameList$$.length;$i$$++){var $actionFrameDic_colorB$$=$actionFrameList$$[$i$$],$frameIndex$$=$actionFrameDic_colorB$$.frameid,$frameTweenType$$=$actionFrameDic_colorB$$.tweenType;null==$frameTweenType$$&&($frameTweenType$$=0);for(var $actionFrame_frameTweenParameterNum$$=$actionFrameDic_colorB$$.tweenParameter,$frameTweenParameter$$=[],$actionArray_colorR_j$$74_opacity$$44_positionX_rotation$$9_scaleX$$=0;$actionArray_colorR_j$$74_opacity$$44_positionX_rotation$$9_scaleX$$<
$actionFrame_frameTweenParameterNum$$;$actionArray_colorR_j$$74_opacity$$44_positionX_rotation$$9_scaleX$$++)$frameTweenParameter$$.push($actionFrameDic_colorB$$.tweenParameter[$actionArray_colorR_j$$74_opacity$$44_positionX_rotation$$9_scaleX$$]);if(void 0!==$actionFrameDic_colorB$$.positionx){var $actionArray_colorR_j$$74_opacity$$44_positionX_rotation$$9_scaleX$$=$actionFrameDic_colorB$$.positionx,$colorG_positionY_scaleY$$=$actionFrameDic_colorB$$.positiony,$actionFrame_frameTweenParameterNum$$=
new ccs.ActionMoveFrame;$actionFrame_frameTweenParameterNum$$.frameIndex=$frameIndex$$;$actionFrame_frameTweenParameterNum$$.setEasingType($frameTweenType$$);$actionFrame_frameTweenParameterNum$$.setEasingParameter($frameTweenParameter$$);$actionFrame_frameTweenParameterNum$$.setPosition($actionArray_colorR_j$$74_opacity$$44_positionX_rotation$$9_scaleX$$,$colorG_positionY_scaleY$$);$actionArray_colorR_j$$74_opacity$$44_positionX_rotation$$9_scaleX$$=this._frameArray[ccs.FRAME_TYPE_MOVE];$actionArray_colorR_j$$74_opacity$$44_positionX_rotation$$9_scaleX$$.push($actionFrame_frameTweenParameterNum$$)}void 0!==
$actionFrameDic_colorB$$.scalex&&($actionArray_colorR_j$$74_opacity$$44_positionX_rotation$$9_scaleX$$=$actionFrameDic_colorB$$.scalex,$colorG_positionY_scaleY$$=$actionFrameDic_colorB$$.scaley,$actionFrame_frameTweenParameterNum$$=new ccs.ActionScaleFrame,$actionFrame_frameTweenParameterNum$$.frameIndex=$frameIndex$$,$actionFrame_frameTweenParameterNum$$.setEasingType($frameTweenType$$),$actionFrame_frameTweenParameterNum$$.setEasingParameter($frameTweenParameter$$),$actionFrame_frameTweenParameterNum$$.setScaleX($actionArray_colorR_j$$74_opacity$$44_positionX_rotation$$9_scaleX$$),
$actionFrame_frameTweenParameterNum$$.setScaleY($colorG_positionY_scaleY$$),$actionArray_colorR_j$$74_opacity$$44_positionX_rotation$$9_scaleX$$=this._frameArray[ccs.FRAME_TYPE_SCALE],$actionArray_colorR_j$$74_opacity$$44_positionX_rotation$$9_scaleX$$.push($actionFrame_frameTweenParameterNum$$));void 0!==$actionFrameDic_colorB$$.rotation&&($actionArray_colorR_j$$74_opacity$$44_positionX_rotation$$9_scaleX$$=$actionFrameDic_colorB$$.rotation,$actionFrame_frameTweenParameterNum$$=new ccs.ActionRotationFrame,
$actionFrame_frameTweenParameterNum$$.frameIndex=$frameIndex$$,$actionFrame_frameTweenParameterNum$$.setEasingType($frameTweenType$$),$actionFrame_frameTweenParameterNum$$.setEasingParameter($frameTweenParameter$$),$actionFrame_frameTweenParameterNum$$.setRotation($actionArray_colorR_j$$74_opacity$$44_positionX_rotation$$9_scaleX$$),$actionArray_colorR_j$$74_opacity$$44_positionX_rotation$$9_scaleX$$=this._frameArray[ccs.FRAME_TYPE_ROTATE],$actionArray_colorR_j$$74_opacity$$44_positionX_rotation$$9_scaleX$$.push($actionFrame_frameTweenParameterNum$$));
void 0!==$actionFrameDic_colorB$$.opacity&&($actionArray_colorR_j$$74_opacity$$44_positionX_rotation$$9_scaleX$$=$actionFrameDic_colorB$$.opacity,$actionFrame_frameTweenParameterNum$$=new ccs.ActionFadeFrame,$actionFrame_frameTweenParameterNum$$.frameIndex=$frameIndex$$,$actionFrame_frameTweenParameterNum$$.setEasingType($frameTweenType$$),$actionFrame_frameTweenParameterNum$$.setEasingParameter($frameTweenParameter$$),$actionFrame_frameTweenParameterNum$$.setOpacity($actionArray_colorR_j$$74_opacity$$44_positionX_rotation$$9_scaleX$$),
$actionArray_colorR_j$$74_opacity$$44_positionX_rotation$$9_scaleX$$=this._frameArray[ccs.FRAME_TYPE_FADE],$actionArray_colorR_j$$74_opacity$$44_positionX_rotation$$9_scaleX$$.push($actionFrame_frameTweenParameterNum$$));void 0!==$actionFrameDic_colorB$$.colorr&&($actionArray_colorR_j$$74_opacity$$44_positionX_rotation$$9_scaleX$$=$actionFrameDic_colorB$$.colorr,$colorG_positionY_scaleY$$=$actionFrameDic_colorB$$.colorg,$actionFrameDic_colorB$$=$actionFrameDic_colorB$$.colorb,$actionFrame_frameTweenParameterNum$$=
new ccs.ActionTintFrame,$actionFrame_frameTweenParameterNum$$.frameIndex=$frameIndex$$,$actionFrame_frameTweenParameterNum$$.setEasingType($frameTweenType$$),$actionFrame_frameTweenParameterNum$$.setEasingParameter($frameTweenParameter$$),$actionFrame_frameTweenParameterNum$$.setColor(cc.color($actionArray_colorR_j$$74_opacity$$44_positionX_rotation$$9_scaleX$$,$colorG_positionY_scaleY$$,$actionFrameDic_colorB$$)),$actionArray_colorR_j$$74_opacity$$44_positionX_rotation$$9_scaleX$$=this._frameArray[ccs.FRAME_TYPE_TINT],
$actionArray_colorR_j$$74_opacity$$44_positionX_rotation$$9_scaleX$$.push($actionFrame_frameTweenParameterNum$$))}this._initActionNodeFromRoot($root$$)},_initActionNodeFromRoot:function($root$$9_widget$$){$root$$9_widget$$ instanceof ccui.Widget&&($root$$9_widget$$=ccui.helper.seekActionWidgetByActionTag($root$$9_widget$$,this.getActionTag()))&&this.setObject($root$$9_widget$$)},setUnitTime:function($time$$){this._unitTime=$time$$;this._refreshActionProperty()},getUnitTime:function(){return this._unitTime},
setActionTag:function($tag$$){this._actionTag=$tag$$},getActionTag:function(){return this._actionTag},setObject:function($node$$){this._object=$node$$},getObject:function(){return this._object},getActionNode:function(){return this._object instanceof cc.Node?this._object:null},insertFrame:function($index$$,$frame$$){null!=$frame$$&&this._frameArray[$frame$$.frameType].splice($index$$,0,$frame$$)},addFrame:function($frame$$){$frame$$&&this._frameArray[$frame$$.frameType].push($frame$$)},deleteFrame:function($frame$$){null!=
$frame$$&&cc.arrayRemoveObject(this._frameArray[$frame$$.frameType],$frame$$)},clearAllFrame:function(){for(var $i$$=0;$i$$<this._frameArrayNum;$i$$++)this._frameArray[$i$$].length=0},_refreshActionProperty:function(){if(null==this._object)return null;for(var $locSpawnArray$$=[],$i$$=0;$i$$<this._frameArrayNum;$i$$++){var $locArray_locSequence$$=this._frameArray[$i$$];if(!(0>=$locArray_locSequence$$.length)){for(var $locSequenceArray$$=[],$j$$=0;$j$$<$locArray_locSequence$$.length;$j$$++){var $locAction$$=
$locArray_locSequence$$[$j$$];if(0!=$j$$){var $locDuration$$=($locAction$$.frameIndex-$locArray_locSequence$$[$j$$-1].frameIndex)*this.getUnitTime();($locAction$$=$locAction$$.getAction($locDuration$$))&&$locSequenceArray$$.push($locAction$$)}}$locSequenceArray$$&&($locArray_locSequence$$=cc.sequence($locSequenceArray$$),null!=$locArray_locSequence$$&&$locSpawnArray$$.push($locArray_locSequence$$))}}this._action=null;return this._actionSpawn=cc.spawn($locSpawnArray$$)},playAction:function($fun$$){null!=
this._object&&null!=this._actionSpawn&&(this._action=$fun$$?cc.sequence(this._actionSpawn,$fun$$):cc.sequence(this._actionSpawn),this._runAction())},_runAction:function(){var $node$$=this.getActionNode();null!=$node$$&&null!=this._action&&$node$$.runAction(this._action)},stopAction:function(){var $node$$=this.getActionNode();null!=$node$$&&null!=this._action&&(this._action.isDone()||$node$$.stopAction(this._action))},getFirstFrameIndex:function(){for(var $locFrameindex$$=99999,$bFindFrame$$=!1,$locFrameArray$$=
this._frameArray,$i$$=0,$len$$=this._frameArrayNum;$i$$<$len$$;$i$$++){var $locArray$$=$locFrameArray$$[$i$$];0>=$locArray$$.length||($bFindFrame$$=!0,$locArray$$=$locArray$$[0].frameIndex,$locFrameindex$$=$locFrameindex$$>$locArray$$?$locArray$$:$locFrameindex$$)}$bFindFrame$$||($locFrameindex$$=0);return $locFrameindex$$},getLastFrameIndex:function(){for(var $locFrameindex$$=-1,$locIsFindFrame$$=!1,$locFrameArray$$=this._frameArray,$i$$=0,$len$$=this._frameArrayNum;$i$$<$len$$;$i$$++){var $locArray$$2_locFrameIndex$$=
$locFrameArray$$[$i$$];0>=$locArray$$2_locFrameIndex$$.length||($locIsFindFrame$$=!0,$locArray$$2_locFrameIndex$$=$locArray$$2_locFrameIndex$$[$locArray$$2_locFrameIndex$$.length-1].frameIndex,$locFrameindex$$=$locFrameindex$$<$locArray$$2_locFrameIndex$$?$locArray$$2_locFrameIndex$$:$locFrameindex$$)}$locIsFindFrame$$||($locFrameindex$$=0);return $locFrameindex$$},updateActionToTimeLine:function($time$$){for(var $locIsFindFrame$$1_locSrcFrame$$=!1,$locUnitTime$$=this.getUnitTime(),$i$$=0;$i$$<this._frameArrayNum;$i$$++){var $locArray$$3_locDuration$$=
this._frameArray[$i$$];if(null!=$locArray$$3_locDuration$$)for(var $j$$=0;$j$$<$locArray$$3_locDuration$$.length;$j$$++){var $locFrame$$=$locArray$$3_locDuration$$[$j$$];if($locFrame$$.frameIndex*$locUnitTime$$==$time$$){this._easingToFrame(1,1,$locFrame$$);$locIsFindFrame$$1_locSrcFrame$$=!0;break}else if($locFrame$$.frameIndex*$locUnitTime$$>$time$$){0==$j$$?(this._easingToFrame(1,1,$locFrame$$),$locIsFindFrame$$1_locSrcFrame$$=!1):($locIsFindFrame$$1_locSrcFrame$$=$locArray$$3_locDuration$$[$j$$-
1],$locArray$$3_locDuration$$=($locFrame$$.frameIndex-$locIsFindFrame$$1_locSrcFrame$$.frameIndex)*$locUnitTime$$,$j$$=$time$$-$locIsFindFrame$$1_locSrcFrame$$.frameIndex*$locUnitTime$$,this._easingToFrame($locArray$$3_locDuration$$,1,$locIsFindFrame$$1_locSrcFrame$$),this._easingToFrame($locArray$$3_locDuration$$,$j$$/$locArray$$3_locDuration$$,$locFrame$$),$locIsFindFrame$$1_locSrcFrame$$=!0);break}}}return $locIsFindFrame$$1_locSrcFrame$$},_easingToFrame:function($action$$193_duration$$,$delayTime$$,
$destFrame_node$$){$action$$193_duration$$=$destFrame_node$$.getAction($action$$193_duration$$);$destFrame_node$$=this.getActionNode();null!=$action$$193_duration$$&&null!=$destFrame_node$$&&($action$$193_duration$$.startWithTarget($destFrame_node$$),$action$$193_duration$$.update($delayTime$$))},isActionDoneOnce:function(){return null==this._action?!0:this._action.isDone()}});
ccs.ActionObject=ccs.Class.extend({_actionNodeList:null,_name:"",_loop:!1,_pause:!1,_playing:!1,_unitTime:0,_currentTime:0,_scheduler:null,_callback:null,_fTotalTime:0,ctor:function(){this._actionNodeList=[];this._name="";this._playing=this._pause=this._loop=!1;this._unitTime=.1;this._fTotalTime=this._currentTime=0;this._scheduler=cc.director.getScheduler()},setName:function($name$$){this._name=$name$$},getName:function(){return this._name},setLoop:function($loop$$){this._loop=$loop$$},getLoop:function(){return this._loop},
setUnitTime:function($frameNum_time$$){this._unitTime=$frameNum_time$$;$frameNum_time$$=this._actionNodeList.length;for(var $i$$=0;$i$$<$frameNum_time$$;$i$$++)this._actionNodeList[$i$$].setUnitTime(this._unitTime)},getUnitTime:function(){return this._unitTime},getCurrentTime:function(){return this._currentTime},setCurrentTime:function($time$$){this._currentTime=$time$$},getTotalTime:function(){return this._fTotalTime},isPlaying:function(){return this._playing},initWithDictionary:function($dic$$,
$root$$){this.setName($dic$$.name);this.setLoop($dic$$.loop);this.setUnitTime($dic$$.unittime);for(var $actionNodeList$$=$dic$$.actionnodelist,$maxLength$$=0,$i$$=0;$i$$<$actionNodeList$$.length;$i$$++){var $actionNode_length$$=new ccs.ActionNode;$actionNode_length$$.initWithDictionary($actionNodeList$$[$i$$],$root$$);$actionNode_length$$.setUnitTime(this.getUnitTime());this._actionNodeList.push($actionNode_length$$);$actionNode_length$$=$actionNode_length$$.getLastFrameIndex()-$actionNode_length$$.getFirstFrameIndex();
$actionNode_length$$>$maxLength$$&&($maxLength$$=$actionNode_length$$)}this._fTotalTime=$maxLength$$*this._unitTime},addActionNode:function($node$$){$node$$&&(this._actionNodeList.push($node$$),$node$$.setUnitTime(this._unitTime))},removeActionNode:function($node$$){null!=$node$$&&cc.arrayRemoveObject(this._actionNodeList,$node$$)},play:function($fun$$){this.stop();this.updateToFrameByTime(0);for(var $locActionNodeList$$=this._actionNodeList,$frameNum$$=$locActionNodeList$$.length,$i$$=0;$i$$<$frameNum$$;$i$$++)$locActionNodeList$$[$i$$].playAction($fun$$);
this._loop&&this._scheduler.scheduleCallbackForTarget(this,this.simulationActionUpdate,0,cc.REPEAT_FOREVER,0,!1);void 0!==$fun$$&&(this._callback=$fun$$)},pause:function(){this._pause=!0;this._playing=!1},stop:function(){for(var $locActionNodeList$$=this._actionNodeList,$i$$=0;$i$$<$locActionNodeList$$.length;$i$$++)$locActionNodeList$$[$i$$].stopAction();this._scheduler.unscheduleCallbackForTarget(this,this.simulationActionUpdate);this._playing=this._pause=!1},updateToFrameByTime:function($time$$){this._currentTime=
$time$$;for(var $i$$=0;$i$$<this._actionNodeList.length;$i$$++)this._actionNodeList[$i$$].updateActionToTimeLine($time$$)},simulationActionUpdate:function($dt$$){$dt$$=!0;for(var $locNodeList$$=this._actionNodeList,$i$$=0,$len$$=$locNodeList$$.length;$i$$<$len$$;$i$$++)if(!$locNodeList$$[$i$$].isActionDoneOnce()){$dt$$=!1;break}$dt$$&&(null!=this._callback&&this._callback.execute(),this._loop?this.play():(this._playing=!1,this._scheduler.unschedule(this.simulationActionUpdate,this)))}});
ccs.ComAttribute=ccs.Component.extend({_jsonDict:null,_filePath:"",ctor:function(){cc.Component.prototype.ctor.call(this);this._jsonDict={};this._filePath="";this._name="CCComAttribute";ccs.ComAttribute.prototype.init.call(this)},init:function(){this._jsonDict={};return!0},setInt:function($key$$,$value$$){$key$$?this._jsonDict[$key$$]=$value$$:cc.log("Argument must be non-nil")},setDouble:function($key$$,$value$$){$key$$?this._jsonDict[$key$$]=$value$$:cc.log("Argument must be non-nil")},setFloat:function($key$$,
$value$$){$key$$?this._jsonDict[$key$$]=$value$$:cc.log("Argument must be non-nil")},setBool:function($key$$,$value$$){$key$$?this._jsonDict[$key$$]=$value$$:cc.log("Argument must be non-nil")},setString:function($key$$,$value$$){$key$$?this._jsonDict[$key$$]=$value$$:cc.log("Argument must be non-nil")},setObject:function($key$$,$value$$){$key$$?this._jsonDict[$key$$]=$value$$:cc.log("Argument must be non-nil")},getInt:function($key$$){return parseInt(this._jsonDict[$key$$]||0)},getDouble:function($key$$){return parseFloat(this._jsonDict[$key$$]||
0)},getFloat:function($key$$){return parseFloat(this._jsonDict[$key$$]||0)},getBool:function($key$$){return Boolean(this._jsonDict[$key$$]||!1)},getString:function($key$$){return this._jsonDict[$key$$]||""},getObject:function($key$$){return this._jsonDict[$key$$]},parse:function($filename$$){this._jsonDict=cc.loader.getRes($filename$$)}});ccs.ComAttribute.create=function $ccs$ComAttribute$create$(){return new ccs.ComAttribute};
ccs.ComAudio=ccs.Component.extend({_filePath:"",_loop:!1,ctor:function(){cc.Component.prototype.ctor.call(this);this._name="Audio";ccs.ComAudio.prototype.init.call(this)},init:function(){return!0},onExit:function(){this.stopBackgroundMusic(!0);this.stopAllEffects()},end:function(){cc.audioEngine.end()},preloadBackgroundMusic:function($pszFilePath$$){cc.loader.load($pszFilePath$$)},playBackgroundMusic:function($pszFilePath$$,$loop$$){$pszFilePath$$?cc.audioEngine.playMusic($pszFilePath$$,$loop$$):
cc.audioEngine.playMusic(this._filePath,this._loop)},stopBackgroundMusic:function($releaseData$$){cc.audioEngine.stopMusic($releaseData$$)},pauseBackgroundMusic:function(){cc.audioEngine.pauseMusic()},resumeBackgroundMusic:function(){cc.audioEngine.resumeMusic()},rewindBackgroundMusic:function(){cc.audioEngine.rewindMusic()},willPlayBackgroundMusic:function(){return cc.audioEngine.willPlayMusic()},isBackgroundMusicPlaying:function(){return cc.audioEngine.isMusicPlaying()},getBackgroundMusicVolume:function(){return cc.audioEngine.getMusicVolume()},
setBackgroundMusicVolume:function($volume$$){cc.audioEngine.setMusicVolume($volume$$)},getEffectsVolume:function(){return cc.audioEngine.getEffectsVolume()},setEffectsVolume:function($volume$$){cc.audioEngine.setEffectsVolume($volume$$)},playEffect:function($pszFilePath$$,$loop$$){return $pszFilePath$$?cc.audioEngine.playEffect($pszFilePath$$,$loop$$):cc.audioEngine.playEffect(this._filePath,this._loop)},pauseEffect:function($soundId$$){cc.audioEngine.pauseEffect($soundId$$)},pauseAllEffects:function(){cc.audioEngine.pauseAllEffects()},
resumeEffect:function($soundId$$){cc.audioEngine.resumeEffect($soundId$$)},resumeAllEffects:function(){cc.audioEngine.resumeAllEffects()},stopEffect:function($soundId$$){cc.audioEngine.stopEffect($soundId$$)},stopAllEffects:function(){cc.audioEngine.stopAllEffects()},preloadEffect:function($pszFilePath$$){cc.loader.getRes($pszFilePath$$);this.setFile($pszFilePath$$);this.setLoop(!1)},unloadEffect:function($pszFilePath$$){cc.audioEngine.unloadEffect($pszFilePath$$)},setFile:function($pszFilePath$$){this._filePath=
$pszFilePath$$},setLoop:function($loop$$){this._loop=$loop$$},getFile:function(){return this._filePath},isLoop:function(){return this._loop}});ccs.ComAudio.create=function $ccs$ComAudio$create$(){return new ccs.ComAudio};
ccs.ComController=ccs.Component.extend({ctor:function(){cc.Component.prototype.ctor.call(this);this._name="ComController";ccs.ComController.prototype.init.call(this)},onEnter:function(){null!=this._owner&&this._owner.scheduleUpdate()},isEnabled:function(){return this._enabled},setEnabled:function($bool$$){this._enabled=$bool$$}});ccs.ComController.create=function $ccs$ComController$create$(){return new ccs.ComController};
ccs.ComRender=ccs.Component.extend({_render:null,ctor:function($node$$,$comName$$){cc.Component.prototype.ctor.call(this);this._render=$node$$;this._name=$comName$$;this.isRenderer=!0;ccs.ComRender.prototype.init.call(this)},onEnter:function(){this._owner&&this._owner.addChild(this._render)},onExit:function(){this._owner&&(this._owner.removeChild(this._render,!0),this._render=null)},getNode:function(){return this._render},setNode:function($node$$){this._render=$node$$}});
ccs.ComRender.create=function $ccs$ComRender$create$($node$$,$comName$$){return new ccs.ComRender($node$$,$comName$$)};
ccs.objectFactory={_typeMap:{},createObject:function $ccs$objectFactory$createObject$($className$$6_t$$){var $o$$=null;($className$$6_t$$=this._typeMap[$className$$6_t$$])&&($o$$=cc.isFunction($className$$6_t$$._fun)?new $className$$6_t$$._fun:$className$$6_t$$._fun);return $o$$},registerType:function $ccs$objectFactory$registerType$($t$$){this._typeMap[$t$$._className]=$t$$},createGUI:function $ccs$objectFactory$createGUI$($name$$113_t$$){var $object$$=null;"Panel"===$name$$113_t$$?$name$$113_t$$=
"Layout":"TextArea"===$name$$113_t$$?$name$$113_t$$="Label":"TextButton"===$name$$113_t$$&&($name$$113_t$$="Button");($name$$113_t$$=this._typeMap[$name$$113_t$$])&&$name$$113_t$$._fun&&($object$$=$name$$113_t$$._fun);return $object$$},removeAll:function $ccs$objectFactory$removeAll$(){this._typeMap={}}};ccs.TInfo=ccs.Class.extend({_className:"",_fun:null,ctor:function($c$$,$f$$){$f$$?(this._className=$c$$,this._fun=$f$$):(this._className=$c$$._className,this._fun=$c$$._fun);ccs.objectFactory.registerType(this)}});
ccs.sendEvent=function $ccs$sendEvent$($event$$){$event$$=ccs.triggerManager.get($event$$);if(null!=$event$$)for(var $i$$=0;$i$$<$event$$.length;$i$$++){var $triObj$$=$event$$[$i$$];null!=$triObj$$&&$triObj$$.detect()&&$triObj$$.done()}};ccs.registerTriggerClass=function $ccs$registerTriggerClass$($className$$,$func$$){new ccs.TInfo($className$$,$func$$)};
ccs.triggerManager={_eventTriggers:{},_triggerObjs:{},_movementDispatches:[],parse:function $ccs$triggerManager$parse$($triggers$$){for(var $i$$=0;$i$$<$triggers$$.length;++$i$$){var $events_subDict$$=$triggers$$[$i$$],$triggerObj$$=new ccs.TriggerObj;$triggerObj$$.serialize($events_subDict$$);for(var $events_subDict$$=$triggerObj$$.getEvents(),$j$$=0;$j$$<$events_subDict$$.length;$j$$++)this.add($events_subDict$$[$j$$],$triggerObj$$);this._triggerObjs[$triggerObj$$.getId()]=$triggerObj$$}},get:function $ccs$triggerManager$get$($event$$){return this._eventTriggers[$event$$]},
getTriggerObj:function $ccs$triggerManager$getTriggerObj$($id$$){return this._triggerObjs[$id$$]},add:function $ccs$triggerManager$add$($event$$,$triggerObj$$){var $eventTriggers$$=this._eventTriggers[$event$$];$eventTriggers$$||($eventTriggers$$=[]);-1==$eventTriggers$$.indexOf($triggerObj$$)&&($eventTriggers$$.push($triggerObj$$),this._eventTriggers[$event$$]=$eventTriggers$$)},removeAll:function $ccs$triggerManager$removeAll$(){for(var $key$$ in this._eventTriggers)for(var $triObjArr$$=this._eventTriggers[$key$$],
$j$$=0;$j$$<$triObjArr$$.length;$j$$++)$triObjArr$$[$j$$].removeAll();this._eventTriggers={}},remove:function $ccs$triggerManager$remove$($event$$,$Obj$$){if($Obj$$)return this._removeObj($event$$,$Obj$$);var $bRet_i$$=!1,$triObjects$$=this._eventTriggers[$event$$];if($triObjects$$){for($bRet_i$$=0;$bRet_i$$<$triObjects$$.length;$bRet_i$$++){var $triObject$$=$triObjects$$[$bRet_i$$];$triObject$$&&$triObject$$.removeAll()}delete this._eventTriggers[$event$$];$bRet_i$$=!0}return $bRet_i$$},_removeObj:function $ccs$triggerManager$_removeObj$($event$$,
$Obj$$){var $bRet$$1_i$$=!1;do{var $triObjects$$=this._eventTriggers[$event$$];if($triObjects$$){for($bRet$$1_i$$=0;$bRet$$1_i$$<$triObjects$$.length;$bRet$$1_i$$++){var $triObject$$=$triObjects$$[$bRet$$1_i$$];if($triObject$$&&$triObject$$==$Obj$$){$triObject$$.removeAll();$triObjects$$.splice($bRet$$1_i$$,1);break}}$bRet$$1_i$$=!0}}while(0);return $bRet$$1_i$$},removeTriggerObj:function $ccs$triggerManager$removeTriggerObj$($id$$22_obj$$){$id$$22_obj$$=this.getTriggerObj($id$$22_obj$$);if(!$id$$22_obj$$)return!1;
for(var $events$$=$id$$22_obj$$.getEvents(),$i$$=0;$i$$<$events$$.length;$i$$++)this.remove($events$$[$i$$],$id$$22_obj$$);return!0},isEmpty:function $ccs$triggerManager$isEmpty$(){return!this._eventTriggers||0>=this._eventTriggers.length},addArmatureMovementCallBack:function $ccs$triggerManager$addArmatureMovementCallBack$($armature$$,$callFunc$$,$target$$){if(null!=$armature$$&&null!=$target$$&&null!=$callFunc$$){for(var $locAmd_newAmd$$,$hasADD$$=!1,$i$$=0;$i$$<this._movementDispatches.length;$i$$++)($locAmd_newAmd$$=
this._movementDispatches[$i$$])&&$locAmd_newAmd$$[0]==$armature$$&&($locAmd_newAmd$$.addAnimationEventCallBack($callFunc$$,$target$$),$hasADD$$=!0);$hasADD$$||($locAmd_newAmd$$=new ccs.ArmatureMovementDispatcher,$armature$$.getAnimation().setMovementEventCallFunc($locAmd_newAmd$$.animationEvent,$locAmd_newAmd$$),$locAmd_newAmd$$.addAnimationEventCallBack($callFunc$$,$target$$),this._movementDispatches.push([$armature$$,$locAmd_newAmd$$]))}},removeArmatureMovementCallBack:function $ccs$triggerManager$removeArmatureMovementCallBack$($armature$$,
$target$$,$callFunc$$){if(null!=$armature$$&&null!=$target$$&&null!=$callFunc$$)for(var $locAmd$$,$i$$=0;$i$$<this._movementDispatches.length;$i$$++)($locAmd$$=this._movementDispatches[$i$$])&&$locAmd$$[0]==$armature$$&&$locAmd$$.removeAnimationEventCallBack($callFunc$$,$target$$)},removeArmatureAllMovementCallBack:function $ccs$triggerManager$removeArmatureAllMovementCallBack$($armature$$){if(null!=$armature$$)for(var $locAmd$$,$i$$=0;$i$$<this._movementDispatches.length;$i$$++)if(($locAmd$$=this._movementDispatches[$i$$])&&
$locAmd$$[0]==$armature$$){this._movementDispatches.splice($i$$,1);break}},removeAllArmatureMovementCallBack:function $ccs$triggerManager$removeAllArmatureMovementCallBack$(){this._movementDispatches.length=0},version:function $ccs$triggerManager$version$(){return"1.2.0.0"}};
ccs.ArmatureMovementDispatcher=ccs.Class.extend({_mapEventAnimation:null,ctor:function(){this._mapEventAnimation=[]},animationEvent:function($armature$$,$movementType$$,$movementID$$){for(var $locEventAni_locFunc$$,$locTarget$$,$i$$=0;$i$$<this._mapEventAnimation.length;$i$$++)$locEventAni_locFunc$$=this._mapEventAnimation[$i$$],$locTarget$$=$locEventAni_locFunc$$[0],($locEventAni_locFunc$$=$locEventAni_locFunc$$[1])&&$locEventAni_locFunc$$.call($locTarget$$,$armature$$,$movementType$$,$movementID$$)},
addAnimationEventCallBack:function($callFunc$$,$target$$){this._mapEventAnimation.push([$target$$,$callFunc$$])},removeAnimationEventCallBack:function($callFunc$$,$target$$){for(var $locEventAni$$,$i$$=0;$i$$<this._mapEventAnimation.length;$i$$++)$locEventAni$$=this._mapEventAnimation[$i$$],$locEventAni$$[0]==$target$$&&this._mapEventAnimation.splice($i$$,1)}});
ccs.BaseTriggerCondition=ccs.Class.extend({ctor:function(){},init:function(){return!0},detect:function(){return!0},serialize:function($jsonVal$$){},removeAll:function(){}});ccs.BaseTriggerAction=ccs.Class.extend({ctor:function(){},init:function(){return!0},done:function(){},serialize:function($jsonVal$$){},removeAll:function(){}});
ccs.TriggerObj=ccs.Class.extend({_cons:null,_acts:null,_id:0,_enable:!0,_vInt:null,ctor:function(){this._id=0;this._enable=!0;ccs.TriggerObj.prototype.init.call(this)},init:function(){this._cons=[];this._acts=[];this._vInt=[];return!0},detect:function(){if(!this._enable||0==this._cons.length)return!0;for(var $ret$$=!0,$obj$$=null,$i$$=0;$i$$<this._cons.length;$i$$++)($obj$$=this._cons[$i$$])&&$obj$$.detect&&($ret$$=$ret$$&&$obj$$.detect());return $ret$$},done:function(){if(this._enable&&0!=this._acts.length)for(var $obj$$,
$i$$=0;$i$$<this._acts.length;$i$$++)($obj$$=this._acts[$i$$])&&$obj$$.done&&$obj$$.done()},removeAll:function(){for(var $obj$$=null,$i$$=0;$i$$<this._cons.length;$i$$++)($obj$$=this._cons[$i$$])&&$obj$$.removeAll();this._cons=[];for($i$$=0;$i$$<this._acts.length;$i$$++)($obj$$=this._acts[$i$$])&&$obj$$.removeAll();this._acts=[]},serialize:function($events$$2_jsonVal$$){this._id=$events$$2_jsonVal$$.id||0;for(var $actions$$=$events$$2_jsonVal$$.conditions||[],$i$$=0;$i$$<$actions$$.length;$i$$++){var $event$$89_subDict$$=
$actions$$[$i$$],$classname$$=$event$$89_subDict$$.classname,$act_con$$=ccs.objectFactory.createObject($classname$$);$act_con$$?($act_con$$.serialize($event$$89_subDict$$),$act_con$$.init(),this._cons.push($act_con$$)):cc.log("class named classname("+$classname$$+") can not implement!")}$actions$$=$events$$2_jsonVal$$.actions||[];for($i$$=0;$i$$<$actions$$.length;$i$$++)$event$$89_subDict$$=$actions$$[$i$$],$classname$$=$event$$89_subDict$$.classname,($act_con$$=ccs.objectFactory.createObject($classname$$))?
($act_con$$.serialize($event$$89_subDict$$),$act_con$$.init(),this._acts.push($act_con$$)):cc.log("class named classname("+$classname$$+") can not implement!");$events$$2_jsonVal$$=$events$$2_jsonVal$$.events||[];for($i$$=0;$i$$<$events$$2_jsonVal$$.length;$i$$++)$event$$89_subDict$$=$events$$2_jsonVal$$[$i$$],$event$$89_subDict$$=$event$$89_subDict$$.id,0>$event$$89_subDict$$||this._vInt.push($event$$89_subDict$$)},getId:function(){return this._id},setEnable:function($enable$$){this._enable=$enable$$},
getEvents:function(){return this._vInt}});ccs.TriggerObj.create=function $ccs$TriggerObj$create$(){return new ccs.TriggerObj};
ccs.buttonReader={setPropsFromJsonDictionary:function $ccs$buttonReader$setPropsFromJsonDictionary$($widget$$,$options$$){ccs.widgetReader.setPropsFromJsonDictionary.call(this,$widget$$,$options$$);var $jsonPath$$2_sw$$3_text$$=ccs.uiReader.getFilePath(),$scale9Enable_sh$$=$options$$.scale9Enable;$widget$$.setScale9Enabled($scale9Enable_sh$$);var $disabledDic_disabledFileName_normalDic_normalFileName_pressedDic_pressedFileName$$=$options$$.normalData;switch($disabledDic_disabledFileName_normalDic_normalFileName_pressedDic_pressedFileName$$.resourceType){case 0:$disabledDic_disabledFileName_normalDic_normalFileName_pressedDic_pressedFileName$$=
$disabledDic_disabledFileName_normalDic_normalFileName_pressedDic_pressedFileName$$.path;$widget$$.loadTextureNormal($disabledDic_disabledFileName_normalDic_normalFileName_pressedDic_pressedFileName$$&&""!==$disabledDic_disabledFileName_normalDic_normalFileName_pressedDic_pressedFileName$$?$jsonPath$$2_sw$$3_text$$+$disabledDic_disabledFileName_normalDic_normalFileName_pressedDic_pressedFileName$$:null);break;case 1:$disabledDic_disabledFileName_normalDic_normalFileName_pressedDic_pressedFileName$$=
$disabledDic_disabledFileName_normalDic_normalFileName_pressedDic_pressedFileName$$.path,$widget$$.loadTextureNormal($disabledDic_disabledFileName_normalDic_normalFileName_pressedDic_pressedFileName$$,1)}$disabledDic_disabledFileName_normalDic_normalFileName_pressedDic_pressedFileName$$=$options$$.pressedData;switch($disabledDic_disabledFileName_normalDic_normalFileName_pressedDic_pressedFileName$$.resourceType){case 0:$disabledDic_disabledFileName_normalDic_normalFileName_pressedDic_pressedFileName$$=
$disabledDic_disabledFileName_normalDic_normalFileName_pressedDic_pressedFileName$$.path;$widget$$.loadTexturePressed($disabledDic_disabledFileName_normalDic_normalFileName_pressedDic_pressedFileName$$&&""!==$disabledDic_disabledFileName_normalDic_normalFileName_pressedDic_pressedFileName$$?$jsonPath$$2_sw$$3_text$$+$disabledDic_disabledFileName_normalDic_normalFileName_pressedDic_pressedFileName$$:null);break;case 1:$disabledDic_disabledFileName_normalDic_normalFileName_pressedDic_pressedFileName$$=
$disabledDic_disabledFileName_normalDic_normalFileName_pressedDic_pressedFileName$$.path,$widget$$.loadTexturePressed($disabledDic_disabledFileName_normalDic_normalFileName_pressedDic_pressedFileName$$,1)}$disabledDic_disabledFileName_normalDic_normalFileName_pressedDic_pressedFileName$$=$options$$.disabledData;switch($disabledDic_disabledFileName_normalDic_normalFileName_pressedDic_pressedFileName$$.resourceType){case 0:$disabledDic_disabledFileName_normalDic_normalFileName_pressedDic_pressedFileName$$=
$disabledDic_disabledFileName_normalDic_normalFileName_pressedDic_pressedFileName$$.path;$widget$$.loadTextureDisabled($disabledDic_disabledFileName_normalDic_normalFileName_pressedDic_pressedFileName$$&&""!==$disabledDic_disabledFileName_normalDic_normalFileName_pressedDic_pressedFileName$$?$jsonPath$$2_sw$$3_text$$+$disabledDic_disabledFileName_normalDic_normalFileName_pressedDic_pressedFileName$$:null);break;case 1:$disabledDic_disabledFileName_normalDic_normalFileName_pressedDic_pressedFileName$$=
$disabledDic_disabledFileName_normalDic_normalFileName_pressedDic_pressedFileName$$.path,$widget$$.loadTextureDisabled($disabledDic_disabledFileName_normalDic_normalFileName_pressedDic_pressedFileName$$,1)}$scale9Enable_sh$$&&($widget$$.setCapInsets(cc.rect($options$$.capInsetsX,$options$$.capInsetsY,$options$$.capInsetsWidth,$options$$.capInsetsHeight)),$jsonPath$$2_sw$$3_text$$=$options$$.scale9Width,$scale9Enable_sh$$=$options$$.scale9Height,null!=$jsonPath$$2_sw$$3_text$$&&null!=$scale9Enable_sh$$&&
$widget$$.setSize(cc.size($jsonPath$$2_sw$$3_text$$,$scale9Enable_sh$$)));$jsonPath$$2_sw$$3_text$$=$options$$.text;null!=$jsonPath$$2_sw$$3_text$$&&$widget$$.setTitleText($jsonPath$$2_sw$$3_text$$);$widget$$.setTitleColor(cc.color(null!==$options$$.textColorR?$options$$.textColorR:255,null!==$options$$.textColorG?$options$$.textColorG:255,null!==$options$$.textColorB?$options$$.textColorB:255));null!=$options$$.fontSize&&$widget$$.setTitleFontSize($options$$.fontSize);$options$$.fontName&&$widget$$.setTitleFontName($options$$.fontName);
ccs.widgetReader.setColorPropsFromJsonDictionary.call(this,$widget$$,$options$$)},setPropsFromProtocolBuffers:function $ccs$buttonReader$setPropsFromProtocolBuffers$($widget$$,$nodeTree$$){ccs.widgetReader.setPropsFromProtocolBuffers.call(this,$widget$$,$nodeTree$$);var $options$$=$nodeTree$$.buttonOptions,$protocolBuffersPath$$=ccs.uiReader.getFilePath(),$displaystate_scale9Enable$$1_sw$$4_tt$$=$options$$.scale9Enable;$widget$$.setScale9Enabled($displaystate_scale9Enable$$1_sw$$4_tt$$);var $disabledDic$$1_disabledTexturePath_normalDic$$1_normalTexturePath_pressedDic$$=
$options$$.normalData,$disabledType$$1_normalType$$1_pressedType$$1_sh$$=$disabledDic$$1_disabledTexturePath_normalDic$$1_normalTexturePath_pressedDic$$.resourceType,$disabledDic$$1_disabledTexturePath_normalDic$$1_normalTexturePath_pressedDic$$=ccs.widgetReader.getResourcePath($disabledDic$$1_disabledTexturePath_normalDic$$1_normalTexturePath_pressedDic$$.path,$disabledType$$1_normalType$$1_pressedType$$1_sh$$);$widget$$.loadTextureNormal($disabledDic$$1_disabledTexturePath_normalDic$$1_normalTexturePath_pressedDic$$,
$disabledType$$1_normalType$$1_pressedType$$1_sh$$);$disabledDic$$1_disabledTexturePath_normalDic$$1_normalTexturePath_pressedDic$$=$options$$.pressedData;$disabledType$$1_normalType$$1_pressedType$$1_sh$$=$disabledDic$$1_disabledTexturePath_normalDic$$1_normalTexturePath_pressedDic$$.resourceType;$disabledDic$$1_disabledTexturePath_normalDic$$1_normalTexturePath_pressedDic$$=ccs.widgetReader.getResourcePath($disabledDic$$1_disabledTexturePath_normalDic$$1_normalTexturePath_pressedDic$$.path,$disabledType$$1_normalType$$1_pressedType$$1_sh$$);
$widget$$.loadTexturePressed($disabledDic$$1_disabledTexturePath_normalDic$$1_normalTexturePath_pressedDic$$,$disabledType$$1_normalType$$1_pressedType$$1_sh$$);$disabledDic$$1_disabledTexturePath_normalDic$$1_normalTexturePath_pressedDic$$=$options$$.disabledData;$disabledType$$1_normalType$$1_pressedType$$1_sh$$=$disabledDic$$1_disabledTexturePath_normalDic$$1_normalTexturePath_pressedDic$$.resourceType;$disabledDic$$1_disabledTexturePath_normalDic$$1_normalTexturePath_pressedDic$$=ccs.widgetReader.getResourcePath($disabledDic$$1_disabledTexturePath_normalDic$$1_normalTexturePath_pressedDic$$.path,
$disabledType$$1_normalType$$1_pressedType$$1_sh$$);$widget$$.loadTextureDisabled($disabledDic$$1_disabledTexturePath_normalDic$$1_normalTexturePath_pressedDic$$,$disabledType$$1_normalType$$1_pressedType$$1_sh$$);$displaystate_scale9Enable$$1_sw$$4_tt$$&&($widget$$.setUnifySizeEnabled(!1),$widget$$.ignoreContentAdaptWithSize(!1),$widget$$.setCapInsets(cc.rect($options$$.capInsetsX,$options$$.capInsetsY,$options$$.capInsetsWidth,$options$$.capInsetsHeight)),$displaystate_scale9Enable$$1_sw$$4_tt$$=
$options$$.scale9Width,$disabledType$$1_normalType$$1_pressedType$$1_sh$$=$options$$.scale9Height,$displaystate_scale9Enable$$1_sw$$4_tt$$&&$disabledType$$1_normalType$$1_pressedType$$1_sh$$&&$widget$$.setContentSize(cc.size($displaystate_scale9Enable$$1_sw$$4_tt$$,$disabledType$$1_normalType$$1_pressedType$$1_sh$$)));($displaystate_scale9Enable$$1_sw$$4_tt$$=$options$$.text)&&$widget$$.setTitleText($displaystate_scale9Enable$$1_sw$$4_tt$$);$widget$$.setTitleColor(cc.color(null!==$options$$.textColorR?
$options$$.textColorR:255,null!==$options$$.textColorG?$options$$.textColorG:255,null!==$options$$.textColorB?$options$$.textColorB:255));$widget$$.setTitleFontSize(null!==$options$$.fontSize?$options$$.fontSize:14);$displaystate_scale9Enable$$1_sw$$4_tt$$=!0;null!==$options$$.displaystate&&($displaystate_scale9Enable$$1_sw$$4_tt$$=$options$$.displaystate);$widget$$.setBright($displaystate_scale9Enable$$1_sw$$4_tt$$);$widget$$.setTitleFontName(null!==$options$$.fontName?$options$$.fontName:"微软雅黑");
$options$$.fontResource&&$widget$$.setTitleFontName($protocolBuffersPath$$+$options$$.fontResource.path);$options$$=$nodeTree$$.widgetOptions;$widget$$.setColor(cc.color($options$$.colorR,$options$$.colorG,$options$$.colorB));$widget$$.setOpacity(null!==$options$$.Alpha?$options$$.Alpha:255);ccs.widgetReader.setColorPropsFromProtocolBuffers.call(this,$widget$$,$nodeTree$$)}};
ccs.checkBoxReader={setPropsFromJsonDictionary:function $ccs$checkBoxReader$setPropsFromJsonDictionary$($widget$$,$options$$){ccs.widgetReader.setPropsFromJsonDictionary.call(this,$widget$$,$options$$);var $backGroundDic_backGroundTexturePath_frontCrossDic_frontCrossDisabledDic_frontCrossDisabledFileName_frontCrossFileName$$=$options$$.backGroundBoxData,$backGroundType_frontCrossDisabledType_frontCrossType$$=$backGroundDic_backGroundTexturePath_frontCrossDic_frontCrossDisabledDic_frontCrossDisabledFileName_frontCrossFileName$$.resourceType,
$backGroundDic_backGroundTexturePath_frontCrossDic_frontCrossDisabledDic_frontCrossDisabledFileName_frontCrossFileName$$=ccs.widgetReader._getResourcePath($backGroundDic_backGroundTexturePath_frontCrossDic_frontCrossDisabledDic_frontCrossDisabledFileName_frontCrossFileName$$,"path",$backGroundType_frontCrossDisabledType_frontCrossType$$);$widget$$.loadTextureBackGround($backGroundDic_backGroundTexturePath_frontCrossDic_frontCrossDisabledDic_frontCrossDisabledFileName_frontCrossFileName$$,$backGroundType_frontCrossDisabledType_frontCrossType$$);
var $backGroundDisabledDic_backGroundDisabledFileName_backGroundSelectedDic_backGroundSelectedTexturePath$$=$options$$.backGroundBoxSelectedData,$backGroundDisabledType_backGroundSelectedType$$=$backGroundDisabledDic_backGroundDisabledFileName_backGroundSelectedDic_backGroundSelectedTexturePath$$.resourceType,$backGroundDisabledDic_backGroundDisabledFileName_backGroundSelectedDic_backGroundSelectedTexturePath$$=ccs.widgetReader._getResourcePath($backGroundDisabledDic_backGroundDisabledFileName_backGroundSelectedDic_backGroundSelectedTexturePath$$,
"path",$backGroundDisabledType_backGroundSelectedType$$);$backGroundDisabledDic_backGroundDisabledFileName_backGroundSelectedDic_backGroundSelectedTexturePath$$||($backGroundDisabledType_backGroundSelectedType$$=$backGroundType_frontCrossDisabledType_frontCrossType$$,$backGroundDisabledDic_backGroundDisabledFileName_backGroundSelectedDic_backGroundSelectedTexturePath$$=$backGroundDic_backGroundTexturePath_frontCrossDic_frontCrossDisabledDic_frontCrossDisabledFileName_frontCrossFileName$$);$widget$$.loadTextureBackGroundSelected($backGroundDisabledDic_backGroundDisabledFileName_backGroundSelectedDic_backGroundSelectedTexturePath$$,
$backGroundDisabledType_backGroundSelectedType$$);$backGroundDic_backGroundTexturePath_frontCrossDic_frontCrossDisabledDic_frontCrossDisabledFileName_frontCrossFileName$$=$options$$.frontCrossData;$backGroundType_frontCrossDisabledType_frontCrossType$$=$backGroundDic_backGroundTexturePath_frontCrossDic_frontCrossDisabledDic_frontCrossDisabledFileName_frontCrossFileName$$.resourceType;$backGroundDic_backGroundTexturePath_frontCrossDic_frontCrossDisabledDic_frontCrossDisabledFileName_frontCrossFileName$$=
ccs.widgetReader._getResourcePath($backGroundDic_backGroundTexturePath_frontCrossDic_frontCrossDisabledDic_frontCrossDisabledFileName_frontCrossFileName$$,"path",$backGroundType_frontCrossDisabledType_frontCrossType$$);$widget$$.loadTextureFrontCross($backGroundDic_backGroundTexturePath_frontCrossDic_frontCrossDisabledDic_frontCrossDisabledFileName_frontCrossFileName$$,$backGroundType_frontCrossDisabledType_frontCrossType$$);$backGroundDisabledDic_backGroundDisabledFileName_backGroundSelectedDic_backGroundSelectedTexturePath$$=
$options$$.backGroundBoxDisabledData;$backGroundDisabledType_backGroundSelectedType$$=$backGroundDisabledDic_backGroundDisabledFileName_backGroundSelectedDic_backGroundSelectedTexturePath$$.resourceType;$backGroundDisabledDic_backGroundDisabledFileName_backGroundSelectedDic_backGroundSelectedTexturePath$$=ccs.widgetReader._getResourcePath($backGroundDisabledDic_backGroundDisabledFileName_backGroundSelectedDic_backGroundSelectedTexturePath$$,"path",$backGroundDisabledType_backGroundSelectedType$$);
$backGroundDisabledDic_backGroundDisabledFileName_backGroundSelectedDic_backGroundSelectedTexturePath$$||($backGroundDisabledType_backGroundSelectedType$$=$backGroundType_frontCrossDisabledType_frontCrossType$$,$backGroundDisabledDic_backGroundDisabledFileName_backGroundSelectedDic_backGroundSelectedTexturePath$$=$backGroundDic_backGroundTexturePath_frontCrossDic_frontCrossDisabledDic_frontCrossDisabledFileName_frontCrossFileName$$);$widget$$.loadTextureBackGroundDisabled($backGroundDisabledDic_backGroundDisabledFileName_backGroundSelectedDic_backGroundSelectedTexturePath$$,
$backGroundDisabledType_backGroundSelectedType$$);$backGroundDic_backGroundTexturePath_frontCrossDic_frontCrossDisabledDic_frontCrossDisabledFileName_frontCrossFileName$$=$options$$.frontCrossDisabledData;$backGroundType_frontCrossDisabledType_frontCrossType$$=$backGroundDic_backGroundTexturePath_frontCrossDic_frontCrossDisabledDic_frontCrossDisabledFileName_frontCrossFileName$$.resourceType;$backGroundDic_backGroundTexturePath_frontCrossDic_frontCrossDisabledDic_frontCrossDisabledFileName_frontCrossFileName$$=
ccs.widgetReader._getResourcePath($backGroundDic_backGroundTexturePath_frontCrossDic_frontCrossDisabledDic_frontCrossDisabledFileName_frontCrossFileName$$,"path",$backGroundType_frontCrossDisabledType_frontCrossType$$);$widget$$.loadTextureFrontCrossDisabled($backGroundDic_backGroundTexturePath_frontCrossDic_frontCrossDisabledDic_frontCrossDisabledFileName_frontCrossFileName$$,$backGroundType_frontCrossDisabledType_frontCrossType$$);$options$$.selectedState&&$widget$$.setSelected($options$$.selectedState);
ccs.widgetReader.setColorPropsFromJsonDictionary.call(this,$widget$$,$options$$)},setPropsFromProtocolBuffers:function $ccs$checkBoxReader$setPropsFromProtocolBuffers$($widget$$,$nodeTree$$){ccs.widgetReader.setPropsFromProtocolBuffers.call(this,$widget$$,$nodeTree$$);var $options$$=$nodeTree$$.checkBoxOptions,$backGroundDisabledDic$$1_backGroundDisabledFileName$$1_backGroundSelectedDic$$1_backGroundSelectedTexturePath$$1_backGroundTexturePath$$1_frontCrossDic$$1_frontCrossDisabledDic$$1_frontCrossDisabledFileName$$1_frontCrossFileName$$1_protocolBuffersPath$$=
ccs.uiReader.getFilePath(),$backGroundDic$$=$options$$.backGroundBoxData,$backGroundDisabledType$$1_backGroundSelectedType$$1_backGroundType$$1_displaystate$$1_frontCrossDisabledType$$1_frontCrossType$$=$backGroundDic$$.resourceType;1==$backGroundDisabledType$$1_backGroundSelectedType$$1_backGroundType$$1_displaystate$$1_frontCrossDisabledType$$1_frontCrossType$$&&cc.spriteFrameCache.addSpriteFrames($backGroundDisabledDic$$1_backGroundDisabledFileName$$1_backGroundSelectedDic$$1_backGroundSelectedTexturePath$$1_backGroundTexturePath$$1_frontCrossDic$$1_frontCrossDisabledDic$$1_frontCrossDisabledFileName$$1_frontCrossFileName$$1_protocolBuffersPath$$+
$backGroundDic$$.plistFile);$backGroundDisabledDic$$1_backGroundDisabledFileName$$1_backGroundSelectedDic$$1_backGroundSelectedTexturePath$$1_backGroundTexturePath$$1_frontCrossDic$$1_frontCrossDisabledDic$$1_frontCrossDisabledFileName$$1_frontCrossFileName$$1_protocolBuffersPath$$=ccs.widgetReader.getResourcePath($backGroundDic$$.path,$backGroundDisabledType$$1_backGroundSelectedType$$1_backGroundType$$1_displaystate$$1_frontCrossDisabledType$$1_frontCrossType$$);$widget$$.loadTextureBackGround($backGroundDisabledDic$$1_backGroundDisabledFileName$$1_backGroundSelectedDic$$1_backGroundSelectedTexturePath$$1_backGroundTexturePath$$1_frontCrossDic$$1_frontCrossDisabledDic$$1_frontCrossDisabledFileName$$1_frontCrossFileName$$1_protocolBuffersPath$$,
$backGroundDisabledType$$1_backGroundSelectedType$$1_backGroundType$$1_displaystate$$1_frontCrossDisabledType$$1_frontCrossType$$);$backGroundDisabledDic$$1_backGroundDisabledFileName$$1_backGroundSelectedDic$$1_backGroundSelectedTexturePath$$1_backGroundTexturePath$$1_frontCrossDic$$1_frontCrossDisabledDic$$1_frontCrossDisabledFileName$$1_frontCrossFileName$$1_protocolBuffersPath$$=$options$$.backGroundBoxSelectedData;$backGroundDisabledType$$1_backGroundSelectedType$$1_backGroundType$$1_displaystate$$1_frontCrossDisabledType$$1_frontCrossType$$=
$backGroundDisabledDic$$1_backGroundDisabledFileName$$1_backGroundSelectedDic$$1_backGroundSelectedTexturePath$$1_backGroundTexturePath$$1_frontCrossDic$$1_frontCrossDisabledDic$$1_frontCrossDisabledFileName$$1_frontCrossFileName$$1_protocolBuffersPath$$.resourceType;$backGroundDisabledDic$$1_backGroundDisabledFileName$$1_backGroundSelectedDic$$1_backGroundSelectedTexturePath$$1_backGroundTexturePath$$1_frontCrossDic$$1_frontCrossDisabledDic$$1_frontCrossDisabledFileName$$1_frontCrossFileName$$1_protocolBuffersPath$$=
ccs.widgetReader.getResourcePath($backGroundDisabledDic$$1_backGroundDisabledFileName$$1_backGroundSelectedDic$$1_backGroundSelectedTexturePath$$1_backGroundTexturePath$$1_frontCrossDic$$1_frontCrossDisabledDic$$1_frontCrossDisabledFileName$$1_frontCrossFileName$$1_protocolBuffersPath$$.path,$backGroundDisabledType$$1_backGroundSelectedType$$1_backGroundType$$1_displaystate$$1_frontCrossDisabledType$$1_frontCrossType$$);$widget$$.loadTextureBackGroundSelected($backGroundDisabledDic$$1_backGroundDisabledFileName$$1_backGroundSelectedDic$$1_backGroundSelectedTexturePath$$1_backGroundTexturePath$$1_frontCrossDic$$1_frontCrossDisabledDic$$1_frontCrossDisabledFileName$$1_frontCrossFileName$$1_protocolBuffersPath$$,
$backGroundDisabledType$$1_backGroundSelectedType$$1_backGroundType$$1_displaystate$$1_frontCrossDisabledType$$1_frontCrossType$$);$backGroundDisabledDic$$1_backGroundDisabledFileName$$1_backGroundSelectedDic$$1_backGroundSelectedTexturePath$$1_backGroundTexturePath$$1_frontCrossDic$$1_frontCrossDisabledDic$$1_frontCrossDisabledFileName$$1_frontCrossFileName$$1_protocolBuffersPath$$=$options$$.frontCrossData;$backGroundDisabledType$$1_backGroundSelectedType$$1_backGroundType$$1_displaystate$$1_frontCrossDisabledType$$1_frontCrossType$$=
$backGroundDisabledDic$$1_backGroundDisabledFileName$$1_backGroundSelectedDic$$1_backGroundSelectedTexturePath$$1_backGroundTexturePath$$1_frontCrossDic$$1_frontCrossDisabledDic$$1_frontCrossDisabledFileName$$1_frontCrossFileName$$1_protocolBuffersPath$$.resourceType;$backGroundDisabledDic$$1_backGroundDisabledFileName$$1_backGroundSelectedDic$$1_backGroundSelectedTexturePath$$1_backGroundTexturePath$$1_frontCrossDic$$1_frontCrossDisabledDic$$1_frontCrossDisabledFileName$$1_frontCrossFileName$$1_protocolBuffersPath$$=
ccs.widgetReader.getResourcePath($backGroundDisabledDic$$1_backGroundDisabledFileName$$1_backGroundSelectedDic$$1_backGroundSelectedTexturePath$$1_backGroundTexturePath$$1_frontCrossDic$$1_frontCrossDisabledDic$$1_frontCrossDisabledFileName$$1_frontCrossFileName$$1_protocolBuffersPath$$.path,$backGroundDisabledType$$1_backGroundSelectedType$$1_backGroundType$$1_displaystate$$1_frontCrossDisabledType$$1_frontCrossType$$);$widget$$.loadTextureFrontCross($backGroundDisabledDic$$1_backGroundDisabledFileName$$1_backGroundSelectedDic$$1_backGroundSelectedTexturePath$$1_backGroundTexturePath$$1_frontCrossDic$$1_frontCrossDisabledDic$$1_frontCrossDisabledFileName$$1_frontCrossFileName$$1_protocolBuffersPath$$,
$backGroundDisabledType$$1_backGroundSelectedType$$1_backGroundType$$1_displaystate$$1_frontCrossDisabledType$$1_frontCrossType$$);$backGroundDisabledDic$$1_backGroundDisabledFileName$$1_backGroundSelectedDic$$1_backGroundSelectedTexturePath$$1_backGroundTexturePath$$1_frontCrossDic$$1_frontCrossDisabledDic$$1_frontCrossDisabledFileName$$1_frontCrossFileName$$1_protocolBuffersPath$$=$options$$.backGroundBoxDisabledData;$backGroundDisabledType$$1_backGroundSelectedType$$1_backGroundType$$1_displaystate$$1_frontCrossDisabledType$$1_frontCrossType$$=
$backGroundDisabledDic$$1_backGroundDisabledFileName$$1_backGroundSelectedDic$$1_backGroundSelectedTexturePath$$1_backGroundTexturePath$$1_frontCrossDic$$1_frontCrossDisabledDic$$1_frontCrossDisabledFileName$$1_frontCrossFileName$$1_protocolBuffersPath$$.resourceType;$backGroundDisabledDic$$1_backGroundDisabledFileName$$1_backGroundSelectedDic$$1_backGroundSelectedTexturePath$$1_backGroundTexturePath$$1_frontCrossDic$$1_frontCrossDisabledDic$$1_frontCrossDisabledFileName$$1_frontCrossFileName$$1_protocolBuffersPath$$=
ccs.widgetReader.getResourcePath($backGroundDisabledDic$$1_backGroundDisabledFileName$$1_backGroundSelectedDic$$1_backGroundSelectedTexturePath$$1_backGroundTexturePath$$1_frontCrossDic$$1_frontCrossDisabledDic$$1_frontCrossDisabledFileName$$1_frontCrossFileName$$1_protocolBuffersPath$$.path,$backGroundDisabledType$$1_backGroundSelectedType$$1_backGroundType$$1_displaystate$$1_frontCrossDisabledType$$1_frontCrossType$$);$widget$$.loadTextureBackGroundDisabled($backGroundDisabledDic$$1_backGroundDisabledFileName$$1_backGroundSelectedDic$$1_backGroundSelectedTexturePath$$1_backGroundTexturePath$$1_frontCrossDic$$1_frontCrossDisabledDic$$1_frontCrossDisabledFileName$$1_frontCrossFileName$$1_protocolBuffersPath$$,
$backGroundDisabledType$$1_backGroundSelectedType$$1_backGroundType$$1_displaystate$$1_frontCrossDisabledType$$1_frontCrossType$$);$backGroundDisabledDic$$1_backGroundDisabledFileName$$1_backGroundSelectedDic$$1_backGroundSelectedTexturePath$$1_backGroundTexturePath$$1_frontCrossDic$$1_frontCrossDisabledDic$$1_frontCrossDisabledFileName$$1_frontCrossFileName$$1_protocolBuffersPath$$=$options$$.frontCrossDisabledData;$backGroundDisabledType$$1_backGroundSelectedType$$1_backGroundType$$1_displaystate$$1_frontCrossDisabledType$$1_frontCrossType$$=
$backGroundDisabledDic$$1_backGroundDisabledFileName$$1_backGroundSelectedDic$$1_backGroundSelectedTexturePath$$1_backGroundTexturePath$$1_frontCrossDic$$1_frontCrossDisabledDic$$1_frontCrossDisabledFileName$$1_frontCrossFileName$$1_protocolBuffersPath$$.resourceType;$backGroundDisabledDic$$1_backGroundDisabledFileName$$1_backGroundSelectedDic$$1_backGroundSelectedTexturePath$$1_backGroundTexturePath$$1_frontCrossDic$$1_frontCrossDisabledDic$$1_frontCrossDisabledFileName$$1_frontCrossFileName$$1_protocolBuffersPath$$=
ccs.widgetReader.getResourcePath($backGroundDisabledDic$$1_backGroundDisabledFileName$$1_backGroundSelectedDic$$1_backGroundSelectedTexturePath$$1_backGroundTexturePath$$1_frontCrossDic$$1_frontCrossDisabledDic$$1_frontCrossDisabledFileName$$1_frontCrossFileName$$1_protocolBuffersPath$$.path,$backGroundDisabledType$$1_backGroundSelectedType$$1_backGroundType$$1_displaystate$$1_frontCrossDisabledType$$1_frontCrossType$$);$widget$$.loadTextureFrontCrossDisabled($backGroundDisabledDic$$1_backGroundDisabledFileName$$1_backGroundSelectedDic$$1_backGroundSelectedTexturePath$$1_backGroundTexturePath$$1_frontCrossDic$$1_frontCrossDisabledDic$$1_frontCrossDisabledFileName$$1_frontCrossFileName$$1_protocolBuffersPath$$,
$backGroundDisabledType$$1_backGroundSelectedType$$1_backGroundType$$1_displaystate$$1_frontCrossDisabledType$$1_frontCrossType$$);$widget$$.setSelected($options$$.selectedState);$backGroundDisabledType$$1_backGroundSelectedType$$1_backGroundType$$1_displaystate$$1_frontCrossDisabledType$$1_frontCrossType$$=!0;null!==$options$$.displaystate&&($backGroundDisabledType$$1_backGroundSelectedType$$1_backGroundType$$1_displaystate$$1_frontCrossDisabledType$$1_frontCrossType$$=$options$$.displaystate);$widget$$.setBright($backGroundDisabledType$$1_backGroundSelectedType$$1_backGroundType$$1_displaystate$$1_frontCrossDisabledType$$1_frontCrossType$$);
ccs.widgetReader.setColorPropsFromProtocolBuffers.call(this,$widget$$,$nodeTree$$)},getResourceType:function $ccs$checkBoxReader$getResourceType$($key$$){return"Normal"==$key$$||"Default"==$key$$||"MarkedSubImage"==$key$$?0:1}};
ccs.imageViewReader={setPropsFromJsonDictionary:function $ccs$imageViewReader$setPropsFromJsonDictionary$($widget$$,$options$$){ccs.widgetReader.setPropsFromJsonDictionary.call(this,$widget$$,$options$$);var $jsonPath$$3_scale9Enable$$2_sh$$=ccs.uiReader.getFilePath(),$imageFileName$$=$options$$.fileNameData;switch($imageFileName$$.resourceType){case 0:($imageFileName$$=$imageFileName$$.path)&&""!==$imageFileName$$&&$widget$$.loadTexture($jsonPath$$3_scale9Enable$$2_sh$$+$imageFileName$$);break;case 1:$imageFileName$$=
$imageFileName$$.path,$widget$$.loadTexture($imageFileName$$,1)}$jsonPath$$3_scale9Enable$$2_sh$$=!1;$options$$.scale9Enable&&($jsonPath$$3_scale9Enable$$2_sh$$=$options$$.scale9Enable);$widget$$.setScale9Enabled($jsonPath$$3_scale9Enable$$2_sh$$);$jsonPath$$3_scale9Enable$$2_sh$$&&($jsonPath$$3_scale9Enable$$2_sh$$=$options$$.scale9Height,$options$$.scale9Width&&$jsonPath$$3_scale9Enable$$2_sh$$&&$widget$$.setSize(cc.size($options$$.scale9Width,$options$$.scale9Height)),$widget$$.setCapInsets(cc.rect($options$$.capInsetsX,
$options$$.capInsetsY,$options$$.capInsetsWidth,$options$$.capInsetsHeight)));ccs.widgetReader.setColorPropsFromJsonDictionary.call(this,$widget$$,$options$$)},setPropsFromProtocolBuffers:function $ccs$imageViewReader$setPropsFromProtocolBuffers$($widget$$,$nodeTree$$){ccs.widgetReader.setPropsFromProtocolBuffers.call(this,$widget$$,$nodeTree$$);var $flipY$$4_options$$=$nodeTree$$.imageViewOptions;ccs.uiReader.getFilePath();var $imageFileName$$4_imageFileNameDic$$=$flipY$$4_options$$.fileNameData,
$flipX$$4_imageFileNameType$$1_scale9Enable$$=$imageFileName$$4_imageFileNameDic$$.resourceType,$imageFileName$$4_imageFileNameDic$$=ccs.widgetReader.getResourcePath($imageFileName$$4_imageFileNameDic$$.path,$flipX$$4_imageFileNameType$$1_scale9Enable$$);$widget$$.loadTexture($imageFileName$$4_imageFileNameDic$$,$flipX$$4_imageFileNameType$$1_scale9Enable$$);$flipX$$4_imageFileNameType$$1_scale9Enable$$=!1;null!==$flipY$$4_options$$.scale9Enable&&($flipX$$4_imageFileNameType$$1_scale9Enable$$=$flipY$$4_options$$.scale9Enable);
$widget$$.setScale9Enabled($flipX$$4_imageFileNameType$$1_scale9Enable$$);$flipX$$4_imageFileNameType$$1_scale9Enable$$&&($widget$$.setUnifySizeEnabled(!1),$widget$$.ignoreContentAdaptWithSize(!1),$widget$$.setContentSize(cc.size(null!==$flipY$$4_options$$.scale9width?$flipY$$4_options$$.scale9Width:80,null!==$flipY$$4_options$$.scale9height?$flipY$$4_options$$.scale9Height:80)),$widget$$.setCapInsets(cc.rect($flipY$$4_options$$.capInsetsX,$flipY$$4_options$$.capInsetsY,null!==$flipY$$4_options$$.capInsetsWidth?
$flipY$$4_options$$.capInsetsWidth:1,null!==$flipY$$4_options$$.capInsetsHeight?$flipY$$4_options$$.capInsetsHeight:1)));ccs.widgetReader.setColorPropsFromProtocolBuffers.call(this,$widget$$,$nodeTree$$);$flipX$$4_imageFileNameType$$1_scale9Enable$$=$flipY$$4_options$$.flippedX;$flipY$$4_options$$=$flipY$$4_options$$.flippedY;0!=$flipX$$4_imageFileNameType$$1_scale9Enable$$&&$widget$$.setFlippedX($flipX$$4_imageFileNameType$$1_scale9Enable$$);0!=$flipY$$4_options$$&&$widget$$.setFlippedY($flipY$$4_options$$)}};
ccs.labelAtlasReader={setPropsFromJsonDictionary:function $ccs$labelAtlasReader$setPropsFromJsonDictionary$($widget$$,$options$$){ccs.widgetReader.setPropsFromJsonDictionary.call(this,$widget$$,$options$$);var $jsonPath$$=ccs.uiReader.getFilePath(),$sv$$=$options$$.stringValue,$cmf_cmftDic$$=$options$$.charMapFileData,$iw$$=$options$$.itemWidth,$ih$$=$options$$.itemHeight,$scm$$=$options$$.startCharMap;if(null!=$sv$$&&$cmf_cmftDic$$&&null!=$iw$$&&null!=$ih$$&&null!=$scm$$)switch($cmf_cmftDic$$=$options$$.charMapFileData,
$cmf_cmftDic$$.resourceType){case 0:$widget$$.setProperty($sv$$,$jsonPath$$+$cmf_cmftDic$$.path,$iw$$,$ih$$,$scm$$);break;case 1:cc.log("Wrong res type of LabelAtlas!")}ccs.widgetReader.setColorPropsFromJsonDictionary.call(this,$widget$$,$options$$)},setPropsFromProtocolBuffers:function $ccs$labelAtlasReader$setPropsFromProtocolBuffers$($widget$$,$nodeTree$$){ccs.widgetReader.setPropsFromProtocolBuffers.call(this,$widget$$,$nodeTree$$);var $jsonPath$$=ccs.uiReader.getFilePath(),$options$$=$nodeTree$$.textAtlasOptions,
$cmftDic$$=$options$$.charMapFileData;switch($cmftDic$$.resourceType){case 0:$widget$$.setProperty(null!==$options$$.stringValue?$options$$.stringValue:"12345678",$jsonPath$$+$cmftDic$$.path,null!==$options$$.itemWidth?$options$$.itemWidth:24,null!==$options$$.itemHeight?$options$$.itemHeight:32,$options$$.startCharMap);break;case 1:cc.log("Wrong res type of LabelAtlas!")}ccs.widgetReader.setColorPropsFromProtocolBuffers.call(this,$widget$$,$nodeTree$$)}};
ccs.labelBMFontReader={setPropsFromJsonDictionary:function $ccs$labelBMFontReader$setPropsFromJsonDictionary$($widget$$,$options$$){ccs.widgetReader.setPropsFromJsonDictionary.call(this,$widget$$,$options$$);var $jsonPath$$=ccs.uiReader.getFilePath(),$cmftDic$$=$options$$.fileNameData;switch($cmftDic$$.resourceType){case 0:$widget$$.setFntFile($jsonPath$$+$cmftDic$$.path);break;case 1:cc.log("Wrong res type of LabelAtlas!")}$widget$$.setString($options$$.text);ccs.widgetReader.setColorPropsFromJsonDictionary.call(this,
$widget$$,$options$$)},setPropsFromProtocolBuffers:function $ccs$labelBMFontReader$setPropsFromProtocolBuffers$($widget$$,$nodeTree$$){ccs.widgetReader.setPropsFromProtocolBuffers.call(this,$widget$$,$nodeTree$$);var $jsonPath$$=ccs.uiReader.getFilePath(),$options$$=$nodeTree$$.textBMFontOptions;if($options$$){var $cmftDic$$=$options$$.fileNameData;switch($cmftDic$$.resourceType){case 0:$widget$$.setFntFile($jsonPath$$+$cmftDic$$.path);break;case 1:cc.log("Wrong res type of LabelAtlas!")}$widget$$.setString(null!==
$options$$.text?$options$$.text:"Text Label")}ccs.widgetReader.setColorPropsFromProtocolBuffers.call(this,$widget$$,$nodeTree$$)}};
ccs.labelReader={setPropsFromJsonDictionary:function $ccs$labelReader$setPropsFromJsonDictionary$($widget$$,$options$$){ccs.widgetReader.setPropsFromJsonDictionary.call(this,$widget$$,$options$$);$widget$$.setTouchScaleChangeEnabled($options$$.touchScaleEnable);$widget$$.setString($options$$.text);null!=$options$$.fontSize&&$widget$$.setFontSize($options$$.fontSize);null!=$options$$.fontName&&$widget$$.setFontName($options$$.fontName);var $ah_size$$=$options$$.areaHeight;null!=$options$$.areaWidth&&
null!=$ah_size$$&&($ah_size$$=cc.size($options$$.areaWidth,$options$$.areaHeight),$widget$$.setTextAreaSize($ah_size$$));null!=$options$$.hAlignment&&$widget$$.setTextHorizontalAlignment($options$$.hAlignment);null!=$options$$.vAlignment&&$widget$$.setTextVerticalAlignment($options$$.vAlignment);ccs.widgetReader.setColorPropsFromJsonDictionary.call(this,$widget$$,$options$$)},setPropsFromProtocolBuffers:function $ccs$labelReader$setPropsFromProtocolBuffers$($widget$$,$nodeTree$$){var $options$$=$nodeTree$$.textOptions;
$widget$$.ignoreContentAdaptWithSize(!$options$$.IsCustomSize);ccs.widgetReader.setPropsFromProtocolBuffers.call(this,$widget$$,$nodeTree$$);$widget$$.setUnifySizeEnabled(!1);var $protocolBuffersPath$$=ccs.uiReader.getFilePath();$widget$$.setTouchScaleChangeEnabled($options$$.touchScaleEnable);$widget$$.setString(null!==$options$$.text?$options$$.text:"Text Label");$widget$$.setFontSize(null!==$options$$.fontSize?$options$$.fontSize:20);$widget$$.setFontName(null!==$options$$.fontName?$options$$.fontName:
"微软雅黑");var $aw$$1_ha$$2_size$$108_va$$=$options$$.areaWidth,$ah$$=$options$$.areaHeight;null!==$aw$$1_ha$$2_size$$108_va$$&&null!==$ah$$&&($aw$$1_ha$$2_size$$108_va$$=cc.size($aw$$1_ha$$2_size$$108_va$$,$ah$$),$widget$$.setTextAreaSize($aw$$1_ha$$2_size$$108_va$$));($aw$$1_ha$$2_size$$108_va$$=$options$$.hAlignment)&&$widget$$.setTextHorizontalAlignment($aw$$1_ha$$2_size$$108_va$$);($aw$$1_ha$$2_size$$108_va$$=$options$$.vAlignment)&&$widget$$.setTextVerticalAlignment($aw$$1_ha$$2_size$$108_va$$);
$options$$.fontResource&&$widget$$.setFontName($protocolBuffersPath$$+$options$$.fontResource.path);ccs.widgetReader.setColorPropsFromProtocolBuffers.call(this,$widget$$,$nodeTree$$)}};
ccs.layoutReader={setPropsFromJsonDictionary:function $ccs$layoutReader$setPropsFromJsonDictionary$($widget$$,$options$$){ccs.widgetReader.setPropsFromJsonDictionary.call(this,$widget$$,$options$$);var $jsonPath$$=ccs.uiReader.getFilePath(),$backGroundScale9Enable_w$$=0,$cr$$6_h$$63_imageFileName$$5_imageFileNameDic$$2_screenSize$$=0;$options$$.adaptScreen?($cr$$6_h$$63_imageFileName$$5_imageFileNameDic$$2_screenSize$$=cc.director.getWinSize(),$backGroundScale9Enable_w$$=$cr$$6_h$$63_imageFileName$$5_imageFileNameDic$$2_screenSize$$.width,
$cr$$6_h$$63_imageFileName$$5_imageFileNameDic$$2_screenSize$$=$cr$$6_h$$63_imageFileName$$5_imageFileNameDic$$2_screenSize$$.height):($backGroundScale9Enable_w$$=$options$$.width,$cr$$6_h$$63_imageFileName$$5_imageFileNameDic$$2_screenSize$$=$options$$.height);$widget$$.setSize(cc.size($backGroundScale9Enable_w$$,$cr$$6_h$$63_imageFileName$$5_imageFileNameDic$$2_screenSize$$));$widget$$.setClippingEnabled($options$$.clipAble);$backGroundScale9Enable_w$$=$options$$.backGroundScale9Enable;$widget$$.setBackGroundImageScale9Enabled($backGroundScale9Enable_w$$);
var $cr$$6_h$$63_imageFileName$$5_imageFileNameDic$$2_screenSize$$=$options$$.bgColorR,$cg$$=$options$$.bgColorG,$cb$$=$options$$.bgColorB,$scr$$=$options$$.bgStartColorR,$scg$$=$options$$.bgStartColorG,$scb$$=$options$$.bgStartColorB,$ecr$$=$options$$.bgEndColorR,$ecg$$=$options$$.bgEndColorG,$ecb$$=$options$$.bgEndColorB;$widget$$.setBackGroundColorVector(cc.p($options$$.vectorX,$options$$.vectorY));var $co$$=$options$$.bgColorOpacity;$widget$$.setBackGroundColorType($options$$.colorType);$widget$$.setBackGroundColor(cc.color($scr$$,
$scg$$,$scb$$),cc.color($ecr$$,$ecg$$,$ecb$$));$widget$$.setBackGroundColor(cc.color($cr$$6_h$$63_imageFileName$$5_imageFileNameDic$$2_screenSize$$,$cg$$,$cb$$));$widget$$.setBackGroundColorOpacity($co$$);if($cr$$6_h$$63_imageFileName$$5_imageFileNameDic$$2_screenSize$$=$options$$.backGroundImageData)switch($cr$$6_h$$63_imageFileName$$5_imageFileNameDic$$2_screenSize$$.resourceType){case 0:$cr$$6_h$$63_imageFileName$$5_imageFileNameDic$$2_screenSize$$=$cr$$6_h$$63_imageFileName$$5_imageFileNameDic$$2_screenSize$$.path;
$widget$$.setBackGroundImage($cr$$6_h$$63_imageFileName$$5_imageFileNameDic$$2_screenSize$$&&""!==$cr$$6_h$$63_imageFileName$$5_imageFileNameDic$$2_screenSize$$?$jsonPath$$+$cr$$6_h$$63_imageFileName$$5_imageFileNameDic$$2_screenSize$$:null);break;case 1:$cr$$6_h$$63_imageFileName$$5_imageFileNameDic$$2_screenSize$$=$cr$$6_h$$63_imageFileName$$5_imageFileNameDic$$2_screenSize$$.path,$widget$$.setBackGroundImage($cr$$6_h$$63_imageFileName$$5_imageFileNameDic$$2_screenSize$$,1)}$backGroundScale9Enable_w$$&&
$widget$$.setBackGroundImageCapInsets(cc.rect($options$$.capInsetsX,$options$$.capInsetsY,$options$$.capInsetsWidth,$options$$.capInsetsHeight));$widget$$.setLayoutType($options$$.layoutType);ccs.widgetReader.setColorPropsFromJsonDictionary.call(this,$widget$$,$options$$)},setPropsFromProtocolBuffers:function $ccs$layoutReader$setPropsFromProtocolBuffers$($widget$$,$nodeTree$$){ccs.widgetReader.setPropsFromProtocolBuffers.call(this,$widget$$,$nodeTree$$);var $options$$26_widgetOptions$$=$nodeTree$$.PanelOptions;
if($options$$26_widgetOptions$$){ccs.uiReader.getFilePath();$widget$$.setClippingEnabled($options$$26_widgetOptions$$.clipAble);var $backGroundScale9Enable$$1_flipY$$5_sw$$=$options$$26_widgetOptions$$.backGroundScale9Enable;$widget$$.setBackGroundImageScale9Enabled($backGroundScale9Enable$$1_flipY$$5_sw$$);var $cr$$7_imageFileNameType$$3_sh$$,$cg$$2_imageFileName$$6_imageFileNameDic$$,$cb$$,$scr$$,$scg$$,$scb$$,$ecr$$,$ecg$$,$ecb$$;$widget$$ instanceof ccui.PageView?($cb$$=$cg$$2_imageFileName$$6_imageFileNameDic$$=
$cr$$7_imageFileNameType$$3_sh$$=150,$ecr$$=$scb$$=$scg$$=$scr$$=255,$ecg$$=150,$ecb$$=100):$widget$$ instanceof ccui.ListView?($cg$$2_imageFileName$$6_imageFileNameDic$$=$cr$$7_imageFileNameType$$3_sh$$=150,$scb$$=$scg$$=$scr$$=$cb$$=255,$ecg$$=$ecr$$=150,$ecb$$=255):$widget$$ instanceof ccui.ScrollView?($cr$$7_imageFileNameType$$3_sh$$=255,$cg$$2_imageFileName$$6_imageFileNameDic$$=150,$cb$$=100,$ecr$$=$scb$$=$scg$$=$scr$$=255,$ecg$$=150,$ecb$$=100):($cr$$7_imageFileNameType$$3_sh$$=150,$cg$$2_imageFileName$$6_imageFileNameDic$$=
200,$scb$$=$scg$$=$scr$$=$cb$$=255,$ecr$$=150,$ecg$$=200,$ecb$$=255);$cr$$7_imageFileNameType$$3_sh$$=null!==$options$$26_widgetOptions$$.bgColorR?$options$$26_widgetOptions$$.bgColorR:$cr$$7_imageFileNameType$$3_sh$$;$cg$$2_imageFileName$$6_imageFileNameDic$$=null!==$options$$26_widgetOptions$$.bgColorG?$options$$26_widgetOptions$$.bgColorG:$cg$$2_imageFileName$$6_imageFileNameDic$$;$cb$$=null!==$options$$26_widgetOptions$$.bgColorB?$options$$26_widgetOptions$$.bgColorB:$cb$$;$scr$$=null!==$options$$26_widgetOptions$$.bgStartColorR?
$options$$26_widgetOptions$$.bgStartColorR:$scr$$;$scg$$=null!==$options$$26_widgetOptions$$.bgStartColorG?$options$$26_widgetOptions$$.bgStartColorG:$scg$$;$scb$$=null!==$options$$26_widgetOptions$$.bgStartColorB?$options$$26_widgetOptions$$.bgStartColorB:$scb$$;$ecr$$=null!==$options$$26_widgetOptions$$.bgEndColorR?$options$$26_widgetOptions$$.bgEndColorR:$ecr$$;$ecg$$=null!==$options$$26_widgetOptions$$.bgEndColorG?$options$$26_widgetOptions$$.bgEndColorG:$ecg$$;$ecb$$=null!==$options$$26_widgetOptions$$.bgEndColorB?
$options$$26_widgetOptions$$.bgEndColorB:$ecb$$;var $bgcv1$$1_co$$=0,$bgcv2$$=-.5;null!==$options$$26_widgetOptions$$.vectorX&&($bgcv1$$1_co$$=$options$$26_widgetOptions$$.vectorX);$options$$26_widgetOptions$$.vectorY&&($bgcv2$$=$options$$26_widgetOptions$$.vectorY);$widget$$.setBackGroundColorVector(cc.p($bgcv1$$1_co$$,$bgcv2$$));$bgcv1$$1_co$$=null!==$options$$26_widgetOptions$$.bgColorOpacity?$options$$26_widgetOptions$$.bgColorOpacity:100;$widget$$.setBackGroundColorType(null!==$options$$26_widgetOptions$$.colorType?
$options$$26_widgetOptions$$.colorType:1);$widget$$.setBackGroundColor(cc.color($scr$$,$scg$$,$scb$$),cc.color($ecr$$,$ecg$$,$ecb$$));$widget$$.setBackGroundColor(cc.color($cr$$7_imageFileNameType$$3_sh$$,$cg$$2_imageFileName$$6_imageFileNameDic$$,$cb$$));$widget$$.setBackGroundColorOpacity($bgcv1$$1_co$$);if($cg$$2_imageFileName$$6_imageFileNameDic$$=$options$$26_widgetOptions$$.backGroundImageData)$cr$$7_imageFileNameType$$3_sh$$=$cg$$2_imageFileName$$6_imageFileNameDic$$.resourceType,$cg$$2_imageFileName$$6_imageFileNameDic$$=
ccs.widgetReader.getResourcePath($cg$$2_imageFileName$$6_imageFileNameDic$$.path,$cr$$7_imageFileNameType$$3_sh$$),$widget$$.setBackGroundImage($cg$$2_imageFileName$$6_imageFileNameDic$$,$cr$$7_imageFileNameType$$3_sh$$);$backGroundScale9Enable$$1_flipY$$5_sw$$&&($backGroundScale9Enable$$1_flipY$$5_sw$$=$options$$26_widgetOptions$$.scale9Width,$cr$$7_imageFileNameType$$3_sh$$=$options$$26_widgetOptions$$.scale9Height,null!=$backGroundScale9Enable$$1_flipY$$5_sw$$&&null!==$cr$$7_imageFileNameType$$3_sh$$&&
$widget$$.setContentSize(cc.size($backGroundScale9Enable$$1_flipY$$5_sw$$,$cr$$7_imageFileNameType$$3_sh$$)));$widget$$.setLayoutType($options$$26_widgetOptions$$.layoutType);$options$$26_widgetOptions$$=$nodeTree$$.widgetOptions;$widget$$.setColor(cc.color(null!==$options$$26_widgetOptions$$.colorR?$options$$26_widgetOptions$$.colorR:255,null!==$options$$26_widgetOptions$$.colorG?$options$$26_widgetOptions$$.colorG:255,null!==$options$$26_widgetOptions$$.colorB?$options$$26_widgetOptions$$.colorB:
255));$widget$$.setOpacity(null!==$options$$26_widgetOptions$$.Alpha?$options$$26_widgetOptions$$.Alpha:255);ccs.widgetReader._setAnchorPointForWidget($widget$$,$nodeTree$$);$backGroundScale9Enable$$1_flipY$$5_sw$$=$options$$26_widgetOptions$$.flipY;$widget$$.setFlippedX($options$$26_widgetOptions$$.flipX);$widget$$.setFlippedY($backGroundScale9Enable$$1_flipY$$5_sw$$)}}};
ccs.scrollViewReader={setPropsFromJsonDictionary:function $ccs$scrollViewReader$setPropsFromJsonDictionary$($widget$$,$options$$){ccs.layoutReader.setPropsFromJsonDictionary.call(this,$widget$$,$options$$);$widget$$.setInnerContainerSize(cc.size(null!=$options$$.innerWidth?$options$$.innerWidth:200,null!=$options$$.innerHeight?$options$$.innerHeight:200));$widget$$.setDirection(null!=$options$$.direction?$options$$.direction:1);$widget$$.setBounceEnabled($options$$.bounceEnable);ccs.widgetReader.setColorPropsFromJsonDictionary.call(this,
$widget$$,$options$$)},setPropsFromProtocolBuffers:function $ccs$scrollViewReader$setPropsFromProtocolBuffers$($widget$$,$nodeTree$$){ccs.widgetReader.setPropsFromProtocolBuffers.call(this,$widget$$,$nodeTree$$);var $flipY$$6_options$$=$nodeTree$$.scrollViewOptions;ccs.uiReader.getFilePath();$widget$$.setClippingEnabled($flipY$$6_options$$.clipAble);var $backGroundScale9Enable$$2_sw$$7_widgetOptions$$=$flipY$$6_options$$.backGroundScale9Enable;$widget$$.setBackGroundImageScale9Enabled($backGroundScale9Enable$$2_sw$$7_widgetOptions$$);
var $cr$$8_imageFileNameType$$4_sh$$,$cg$$3_imageFileName$$7_imageFileNameDic$$,$cb$$,$scr$$,$scg$$,$scb$$,$ecr$$,$ecg$$,$ecb$$;$cr$$8_imageFileNameType$$4_sh$$=null!==$flipY$$6_options$$.bgColorR?$flipY$$6_options$$.bgColorR:255;$cg$$3_imageFileName$$7_imageFileNameDic$$=null!==$flipY$$6_options$$.bgColorG?$flipY$$6_options$$.bgColorG:150;$cb$$=null!==$flipY$$6_options$$.bgColorB?$flipY$$6_options$$.bgColorB:100;$scr$$=null!==$flipY$$6_options$$.bgStartColorR?$flipY$$6_options$$.bgStartColorR:255;
$scg$$=null!==$flipY$$6_options$$.bgStartColorG?$flipY$$6_options$$.bgStartColorG:255;$scb$$=null!==$flipY$$6_options$$.bgStartColorB?$flipY$$6_options$$.bgStartColorB:255;$ecr$$=null!==$flipY$$6_options$$.bgEndColorR?$flipY$$6_options$$.bgEndColorR:255;$ecg$$=null!==$flipY$$6_options$$.bgEndColorG?$flipY$$6_options$$.bgEndColorG:150;$ecb$$=null!==$flipY$$6_options$$.bgEndColorB?$flipY$$6_options$$.bgEndColorB:100;var $bgcv1$$2_co$$=0,$bgcv2$$=-.5;$flipY$$6_options$$.vectorX&&($bgcv1$$2_co$$=$flipY$$6_options$$.vectorX);
null!==$flipY$$6_options$$.vectorY&&($bgcv2$$=$flipY$$6_options$$.vectorY);$widget$$.setBackGroundColorVector(cc.p($bgcv1$$2_co$$,$bgcv2$$));$bgcv1$$2_co$$=null!==$flipY$$6_options$$.bgColorOpacity?$flipY$$6_options$$.bgColorOpacity:100;$widget$$.setBackGroundColorType($flipY$$6_options$$.colorType?$flipY$$6_options$$.colorType:1);$widget$$.setBackGroundColor(cc.color($scr$$,$scg$$,$scb$$),cc.color($ecr$$,$ecg$$,$ecb$$));$widget$$.setBackGroundColor(cc.color($cr$$8_imageFileNameType$$4_sh$$,$cg$$3_imageFileName$$7_imageFileNameDic$$,
$cb$$));$widget$$.setBackGroundColorOpacity($bgcv1$$2_co$$);if($cg$$3_imageFileName$$7_imageFileNameDic$$=$flipY$$6_options$$.backGroundImageData)$cr$$8_imageFileNameType$$4_sh$$=$cg$$3_imageFileName$$7_imageFileNameDic$$.resourceType,$cg$$3_imageFileName$$7_imageFileNameDic$$=ccs.widgetReader.getResourcePath($cg$$3_imageFileName$$7_imageFileNameDic$$.path,$cr$$8_imageFileNameType$$4_sh$$),$widget$$.setBackGroundImage($cg$$3_imageFileName$$7_imageFileNameDic$$,$cr$$8_imageFileNameType$$4_sh$$);$backGroundScale9Enable$$2_sw$$7_widgetOptions$$&&
($widget$$.setBackGroundImageCapInsets(cc.rect($flipY$$6_options$$.capInsetsX,$flipY$$6_options$$.capInsetsY,null!==$flipY$$6_options$$.capInsetsWidth?$flipY$$6_options$$.capInsetsWidth:1,null!==$flipY$$6_options$$.capInsetsHeight?$flipY$$6_options$$.capInsetsHeight:1)),$backGroundScale9Enable$$2_sw$$7_widgetOptions$$=$flipY$$6_options$$.scale9Width,$cr$$8_imageFileNameType$$4_sh$$=$flipY$$6_options$$.scale9Height,null!=$backGroundScale9Enable$$2_sw$$7_widgetOptions$$&&null!=$cr$$8_imageFileNameType$$4_sh$$&&
$widget$$.setContentSize(cc.size($backGroundScale9Enable$$2_sw$$7_widgetOptions$$,$cr$$8_imageFileNameType$$4_sh$$)));$widget$$.setLayoutType($flipY$$6_options$$.layoutType);$backGroundScale9Enable$$2_sw$$7_widgetOptions$$=$nodeTree$$.widgetOptions;$widget$$.setColor(cc.color(null!==$backGroundScale9Enable$$2_sw$$7_widgetOptions$$.colorR?$backGroundScale9Enable$$2_sw$$7_widgetOptions$$.colorR:255,$backGroundScale9Enable$$2_sw$$7_widgetOptions$$.colorG?$backGroundScale9Enable$$2_sw$$7_widgetOptions$$.colorG:
255,$backGroundScale9Enable$$2_sw$$7_widgetOptions$$.colorB?$backGroundScale9Enable$$2_sw$$7_widgetOptions$$.colorB:255));$widget$$.setOpacity(null!==$backGroundScale9Enable$$2_sw$$7_widgetOptions$$.Alpha?$backGroundScale9Enable$$2_sw$$7_widgetOptions$$.Alpha:255);$widget$$.setInnerContainerSize(cc.size(null!==$flipY$$6_options$$.innerWidth?$flipY$$6_options$$.innerWidth:200,null!==$flipY$$6_options$$.innerHeight?$flipY$$6_options$$.innerHeight:200));$widget$$.setDirection(null!==$flipY$$6_options$$.direction?
$flipY$$6_options$$.direction:1);$widget$$.setBounceEnabled($flipY$$6_options$$.bounceenAble);ccs.widgetReader.setAnchorPointForWidget($widget$$,$nodeTree$$);$flipY$$6_options$$=$backGroundScale9Enable$$2_sw$$7_widgetOptions$$.flipY;$widget$$.setFlippedX($backGroundScale9Enable$$2_sw$$7_widgetOptions$$.flipX);$widget$$.setFlippedY($flipY$$6_options$$)}};
ccs.listViewReader={setPropsFromJsonDictionary:function $ccs$listViewReader$setPropsFromJsonDictionary$($widget$$,$options$$){ccs.scrollViewReader.setPropsFromJsonDictionary.call(this,$widget$$,$options$$);$widget$$.setDirection($options$$.direction);$widget$$.setGravity($options$$.gravity);$widget$$.setItemsMargin($options$$.itemMargin)},setPropsFromProtocolBuffers:function $ccs$listViewReader$setPropsFromProtocolBuffers$($widget$$,$nodeTree$$){ccs.widgetReader.setPropsFromProtocolBuffers.call(this,
$widget$$,$nodeTree$$);var $flipY$$7_options$$=$nodeTree$$.listviewOptions;ccs.uiReader.getFilePath();$widget$$.setClippingEnabled($flipY$$7_options$$.clipAble);var $backGroundScale9Enable$$3_sw$$8_widgetOptions$$=$flipY$$7_options$$.backGroundScale9enAble;$widget$$.setBackGroundImageScale9Enabled($backGroundScale9Enable$$3_sw$$8_widgetOptions$$);var $cr$$9_imageFileNameType$$5_sh$$,$cg$$4_imageFileName$$8_imageFileNameDic$$,$cb$$,$scr$$,$scg$$,$scb$$,$ecr$$,$ecg$$,$ecb$$;$cr$$9_imageFileNameType$$5_sh$$=
null!==$flipY$$7_options$$.bgColorR?$flipY$$7_options$$.bgColorR:150;$cg$$4_imageFileName$$8_imageFileNameDic$$=null!==$flipY$$7_options$$.bgColorG?$flipY$$7_options$$.bgColorG:150;$cb$$=null!==$flipY$$7_options$$.bgColorB?$flipY$$7_options$$.bgColorB:255;$scr$$=null!==$flipY$$7_options$$.bgStartColorR?$flipY$$7_options$$.bgStartColorR:255;$scg$$=null!==$flipY$$7_options$$.bgStartColorG?$flipY$$7_options$$.bgStartColorG:255;$scb$$=null!==$flipY$$7_options$$.bgStartColorB?$flipY$$7_options$$.bgStartColorB:
255;$ecr$$=null!==$flipY$$7_options$$.bgEndColorR?$flipY$$7_options$$.bgEndColorR:150;$ecg$$=null!==$flipY$$7_options$$.bgEndColorG?$flipY$$7_options$$.bgEndColorG:150;$ecb$$=null!==$flipY$$7_options$$.bgEndColorB?$flipY$$7_options$$.bgEndColorB:255;$widget$$.setBackGroundColorVector(cc.p($flipY$$7_options$$.vectorX,null!==$flipY$$7_options$$.ectorY?$flipY$$7_options$$.vectorY:-.5));var $co$$=null!==$flipY$$7_options$$.bgColorOpacity?$flipY$$7_options$$.bgColorOpacity:100;$widget$$.setBackGroundColorType(null!==
$flipY$$7_options$$.colorType?$flipY$$7_options$$.colorType:1);$widget$$.setBackGroundColor(cc.color($scr$$,$scg$$,$scb$$),cc.color($ecr$$,$ecg$$,$ecb$$));$widget$$.setBackGroundColor(cc.color($cr$$9_imageFileNameType$$5_sh$$,$cg$$4_imageFileName$$8_imageFileNameDic$$,$cb$$));$widget$$.setBackGroundColorOpacity($co$$);$cg$$4_imageFileName$$8_imageFileNameDic$$=$flipY$$7_options$$.backGroundImageData;$cr$$9_imageFileNameType$$5_sh$$=$cg$$4_imageFileName$$8_imageFileNameDic$$.resourceType;$cg$$4_imageFileName$$8_imageFileNameDic$$=
ccs.widgetReader.getResourcePath($cg$$4_imageFileName$$8_imageFileNameDic$$.path,$cr$$9_imageFileNameType$$5_sh$$);$widget$$.setBackGroundImage($cg$$4_imageFileName$$8_imageFileNameDic$$,$cr$$9_imageFileNameType$$5_sh$$);$backGroundScale9Enable$$3_sw$$8_widgetOptions$$&&($widget$$.setBackGroundImageCapInsets(cc.rect($flipY$$7_options$$.capInsetsX,$flipY$$7_options$$.capInsetsY,null!==$flipY$$7_options$$.capInsetsWidth?$flipY$$7_options$$.capInsetsWidth:1,null!==$flipY$$7_options$$.capInsetsHeight?
$flipY$$7_options$$.capInsetsHeight:1)),$backGroundScale9Enable$$3_sw$$8_widgetOptions$$=$flipY$$7_options$$.scale9width,$cr$$9_imageFileNameType$$5_sh$$=$flipY$$7_options$$.scale9height,null!=$backGroundScale9Enable$$3_sw$$8_widgetOptions$$&&null!=$cr$$9_imageFileNameType$$5_sh$$&&$widget$$.setContentSize(cc.size($backGroundScale9Enable$$3_sw$$8_widgetOptions$$,$cr$$9_imageFileNameType$$5_sh$$)));$backGroundScale9Enable$$3_sw$$8_widgetOptions$$=$nodeTree$$.widgetOptions;$widget$$.setColor(cc.color(null!==
$backGroundScale9Enable$$3_sw$$8_widgetOptions$$.colorR?$backGroundScale9Enable$$3_sw$$8_widgetOptions$$.colorR:255,null!==$backGroundScale9Enable$$3_sw$$8_widgetOptions$$.colorG?$backGroundScale9Enable$$3_sw$$8_widgetOptions$$.colorG:255,null!==$backGroundScale9Enable$$3_sw$$8_widgetOptions$$.colorB?$backGroundScale9Enable$$3_sw$$8_widgetOptions$$.colorB:255));$widget$$.setOpacity(null!=$backGroundScale9Enable$$3_sw$$8_widgetOptions$$.Alpha?$backGroundScale9Enable$$3_sw$$8_widgetOptions$$.Alpha:
255);$widget$$.setInnerContainerSize(cc.size(null!==$flipY$$7_options$$.innerWidth?$flipY$$7_options$$.innerWidth:200,null!==$flipY$$7_options$$.innerHeight?$flipY$$7_options$$.innerHeight:200));$widget$$.setBounceEnabled($flipY$$7_options$$.bounceEnable);$widget$$.setDirection(null!=$flipY$$7_options$$.direction?$flipY$$7_options$$.direction:2);$widget$$.setGravity(null!==$flipY$$7_options$$.gravity?$flipY$$7_options$$.gravity:3);$widget$$.setItemsMargin($flipY$$7_options$$.itemMargin);ccs.widgetReader.setAnchorPointForWidget($widget$$,
$nodeTree$$);$flipY$$7_options$$=$backGroundScale9Enable$$3_sw$$8_widgetOptions$$.flipY;$widget$$.setFlippedX($backGroundScale9Enable$$3_sw$$8_widgetOptions$$.flipX);$widget$$.setFlippedY($flipY$$7_options$$)}};
ccs.loadingBarReader={setPropsFromJsonDictionary:function $ccs$loadingBarReader$setPropsFromJsonDictionary$($widget$$,$options$$){ccs.widgetReader.setPropsFromJsonDictionary.call(this,$widget$$,$options$$);var $jsonPath$$9_scale9Enable$$=ccs.uiReader.getFilePath(),$imageFileName$$9_imageFileNameDic$$=$options$$.textureData;switch($imageFileName$$9_imageFileNameDic$$.resourceType){case 0:($imageFileName$$9_imageFileNameDic$$=$imageFileName$$9_imageFileNameDic$$.path)&&""!==$imageFileName$$9_imageFileNameDic$$&&
$widget$$.loadTexture($jsonPath$$9_scale9Enable$$+$imageFileName$$9_imageFileNameDic$$);break;case 1:$imageFileName$$9_imageFileNameDic$$=$imageFileName$$9_imageFileNameDic$$.path,$widget$$.loadTexture($imageFileName$$9_imageFileNameDic$$,1)}$jsonPath$$9_scale9Enable$$=$options$$.scale9Enable;$widget$$.setScale9Enabled($jsonPath$$9_scale9Enable$$);$jsonPath$$9_scale9Enable$$&&($widget$$.setCapInsets(cc.rect($options$$.capInsetsX,$options$$.capInsetsY,$options$$.capInsetsWidth,$options$$.capInsetsHeight)),
$widget$$.setSize(cc.size($options$$.width,$options$$.height)));$widget$$.setDirection($options$$.direction);$widget$$.setPercent($options$$.percent);ccs.widgetReader.setColorPropsFromJsonDictionary.call(this,$widget$$,$options$$)},setPropsFromProtocolBuffers:function $ccs$loadingBarReader$setPropsFromProtocolBuffers$($widget$$,$nodeTree$$){ccs.widgetReader.setPropsFromProtocolBuffers.call(this,$widget$$,$nodeTree$$);var $options$$=$nodeTree$$.loadingBarOptions;ccs.uiReader.getFilePath();var $cx$$12_imageFileName$$10_imageFileNameDic$$=
$options$$.textureData,$imageFileNameType$$7_scale9Enable$$5_widgetOptions$$=$cx$$12_imageFileName$$10_imageFileNameDic$$.resourceType,$cx$$12_imageFileName$$10_imageFileNameDic$$=ccs.widgetReader.getResourcePath($cx$$12_imageFileName$$10_imageFileNameDic$$.path,$imageFileNameType$$7_scale9Enable$$5_widgetOptions$$);$widget$$.loadTexture($cx$$12_imageFileName$$10_imageFileNameDic$$,$imageFileNameType$$7_scale9Enable$$5_widgetOptions$$);$imageFileNameType$$7_scale9Enable$$5_widgetOptions$$=$options$$.scale9Enable;
$widget$$.setScale9Enabled($imageFileNameType$$7_scale9Enable$$5_widgetOptions$$);var $cx$$12_imageFileName$$10_imageFileNameDic$$=$options$$.capinsetsX,$cy$$=$options$$.capinsetsY,$cw$$=null!=$options$$.capinsetsWidth?$options$$.capinsetsWidth:1,$ch$$=null!=$options$$.capinsetsHeight?$options$$.capinsetsHeight:1;$imageFileNameType$$7_scale9Enable$$5_widgetOptions$$&&$widget$$.setCapInsets(cc.rect($cx$$12_imageFileName$$10_imageFileNameDic$$,$cy$$,$cw$$,$ch$$));$imageFileNameType$$7_scale9Enable$$5_widgetOptions$$=
$nodeTree$$.widgetOptions;$widget$$.setContentSize(cc.size($imageFileNameType$$7_scale9Enable$$5_widgetOptions$$.width,$imageFileNameType$$7_scale9Enable$$5_widgetOptions$$.height));$widget$$.setDirection($options$$.direction);$widget$$.setPercent(null!==$options$$.percent?$options$$.percent:100);ccs.widgetReader.setColorPropsFromProtocolBuffers.call(this,$widget$$,$nodeTree$$)}};
ccs.pageViewReader={setPropsFromJsonDictionary:function $ccs$pageViewReader$setPropsFromJsonDictionary$($widget$$,$options$$){ccs.layoutReader.setPropsFromJsonDictionary.call(this,$widget$$,$options$$)},setPropsFromProtocolBuffers:function $ccs$pageViewReader$setPropsFromProtocolBuffers$($widget$$,$nodeTree$$){ccs.widgetReader.setPropsFromProtocolBuffers.call(this,$widget$$,$nodeTree$$);var $options$$34_sh$$9_widgetOptions$$=$nodeTree$$.pageViewOptions;ccs.uiReader.getFilePath();$widget$$.setClippingEnabled($options$$34_sh$$9_widgetOptions$$.clipAble);
var $backGroundScale9Enable$$4_flipY$$8_sw$$=$options$$34_sh$$9_widgetOptions$$.backGroundScale9Enable;$widget$$.setBackGroundImageScale9Enabled($backGroundScale9Enable$$4_flipY$$8_sw$$);var $cr$$10_imageFileNameType$$,$cg$$5_imageFileName$$11_imageFileNameDic$$,$cb$$,$scr$$,$scg$$,$scb$$,$ecr$$,$ecg$$,$ecb$$;$cr$$10_imageFileNameType$$=null!==$options$$34_sh$$9_widgetOptions$$.bgColorR?$options$$34_sh$$9_widgetOptions$$.bgColorR:150;$cg$$5_imageFileName$$11_imageFileNameDic$$=null!==$options$$34_sh$$9_widgetOptions$$.bgColorG?
$options$$34_sh$$9_widgetOptions$$.bgColorG:150;$cb$$=null!==$options$$34_sh$$9_widgetOptions$$.bgColorB?$options$$34_sh$$9_widgetOptions$$.bgColorB:150;$scr$$=null!==$options$$34_sh$$9_widgetOptions$$.bgStartColorR?$options$$34_sh$$9_widgetOptions$$.bgStartColorR:255;$scg$$=null!==$options$$34_sh$$9_widgetOptions$$.bgStartColorG?$options$$34_sh$$9_widgetOptions$$.bgStartColorG:255;$scb$$=null!==$options$$34_sh$$9_widgetOptions$$.bgStartColorB?$options$$34_sh$$9_widgetOptions$$.bgStartColorB:255;
$ecr$$=null!==$options$$34_sh$$9_widgetOptions$$.bgEndColorR?$options$$34_sh$$9_widgetOptions$$.bgEndColorR:255;$ecg$$=null!==$options$$34_sh$$9_widgetOptions$$.bgEndColorG?$options$$34_sh$$9_widgetOptions$$.bgEndColorG:150;$ecb$$=null!==$options$$34_sh$$9_widgetOptions$$.bgEndColorB?$options$$34_sh$$9_widgetOptions$$.bgEndColorB:100;var $bgcv1$$4_co$$=0,$bgcv2$$=-.5;null!==$options$$34_sh$$9_widgetOptions$$.vectorX&&($bgcv1$$4_co$$=$options$$34_sh$$9_widgetOptions$$.vectorX);null!==$options$$34_sh$$9_widgetOptions$$.vectorY&&
($bgcv2$$=$options$$34_sh$$9_widgetOptions$$.vectorY);$widget$$.setBackGroundColorVector(cc.p($bgcv1$$4_co$$,$bgcv2$$));$bgcv1$$4_co$$=null!==$options$$34_sh$$9_widgetOptions$$.bgColorOpacity?$options$$34_sh$$9_widgetOptions$$.bgColorOpacity:100;$widget$$.setBackGroundColorType(null!==$options$$34_sh$$9_widgetOptions$$.colorType?$options$$34_sh$$9_widgetOptions$$.colorType:1);$widget$$.setBackGroundColor(cc.color($scr$$,$scg$$,$scb$$),cc.color($ecr$$,$ecg$$,$ecb$$));$widget$$.setBackGroundColor(cc.color($cr$$10_imageFileNameType$$,
$cg$$5_imageFileName$$11_imageFileNameDic$$,$cb$$));$widget$$.setBackGroundColorOpacity($bgcv1$$4_co$$);if($cg$$5_imageFileName$$11_imageFileNameDic$$=$options$$34_sh$$9_widgetOptions$$.backGroundImageData)$cr$$10_imageFileNameType$$=$cg$$5_imageFileName$$11_imageFileNameDic$$.resourceType,$cg$$5_imageFileName$$11_imageFileNameDic$$=ccs.widgetReader.getResourcePath($cg$$5_imageFileName$$11_imageFileNameDic$$.path,$cr$$10_imageFileNameType$$),$widget$$.setBackGroundImage($cg$$5_imageFileName$$11_imageFileNameDic$$,
$cr$$10_imageFileNameType$$);$backGroundScale9Enable$$4_flipY$$8_sw$$&&($widget$$.setBackGroundImageCapInsets(cc.rect($options$$34_sh$$9_widgetOptions$$.capInsetsX,$options$$34_sh$$9_widgetOptions$$.capInsetsY,null!==$options$$34_sh$$9_widgetOptions$$.capInsetsWidth?$options$$34_sh$$9_widgetOptions$$.capInsetsWidth:1,null!==$options$$34_sh$$9_widgetOptions$$.capInsetsHeight?$options$$34_sh$$9_widgetOptions$$.capInsetsHeight:1)),$backGroundScale9Enable$$4_flipY$$8_sw$$=$options$$34_sh$$9_widgetOptions$$.scale9Width,
$options$$34_sh$$9_widgetOptions$$=$options$$34_sh$$9_widgetOptions$$.scale9Height,null!=$backGroundScale9Enable$$4_flipY$$8_sw$$&&null!=$options$$34_sh$$9_widgetOptions$$&&$widget$$.setContentSize(cc.size($backGroundScale9Enable$$4_flipY$$8_sw$$,$options$$34_sh$$9_widgetOptions$$)));$options$$34_sh$$9_widgetOptions$$=$nodeTree$$.widgetOptions;$widget$$.setColor(cc.color(null!==$options$$34_sh$$9_widgetOptions$$.colorR?$options$$34_sh$$9_widgetOptions$$.colorR:255,null!==$options$$34_sh$$9_widgetOptions$$.colorG?
$options$$34_sh$$9_widgetOptions$$.colorG:255,null!==$options$$34_sh$$9_widgetOptions$$.colorB?$options$$34_sh$$9_widgetOptions$$.colorB:255));$widget$$.setOpacity(null!==$options$$34_sh$$9_widgetOptions$$.Alpha?$options$$34_sh$$9_widgetOptions$$.Alpha:255);ccs.widgetReader.setAnchorPointForWidget($widget$$,$nodeTree$$);$backGroundScale9Enable$$4_flipY$$8_sw$$=$options$$34_sh$$9_widgetOptions$$.flipY;$widget$$.setFlippedX($options$$34_sh$$9_widgetOptions$$.flipX);$widget$$.setFlippedY($backGroundScale9Enable$$4_flipY$$8_sw$$)}};
ccs.sliderReader={setPropsFromJsonDictionary:function $ccs$sliderReader$setPropsFromJsonDictionary$($widget$$,$options$$){ccs.widgetReader.setPropsFromJsonDictionary.call(this,$widget$$,$options$$);var $tp$$=ccs.uiReader.getFilePath(),$barTextureScale9Enable_disabledDic$$2_normalType$$=$options$$.scale9Enable;$widget$$.setScale9Enabled($barTextureScale9Enable_disabledDic$$2_normalType$$);var $barLength_disabledFileName$$1_imageProgressFileName_normalDic$$2_normalFileName$$=$options$$.length,$imageFileName$$12_imageFileNameDic$$9_pressedDic$$2_pressedFileName$$=
$options$$.barFileNameData,$imageFileType_pressedType$$=$imageFileName$$12_imageFileNameDic$$9_pressedDic$$2_pressedFileName$$.resourceType,$imageFileName$$12_imageFileNameDic$$9_pressedDic$$2_pressedFileName$$=$imageFileName$$12_imageFileNameDic$$9_pressedDic$$2_pressedFileName$$.path;if(null!=$options$$.barFileName){if($barTextureScale9Enable_disabledDic$$2_normalType$$){switch($imageFileType_pressedType$$){case 0:$widget$$.loadBarTexture($imageFileName$$12_imageFileNameDic$$9_pressedDic$$2_pressedFileName$$?
$tp$$+$imageFileName$$12_imageFileNameDic$$9_pressedDic$$2_pressedFileName$$:null);break;case 1:$widget$$.loadBarTexture($imageFileName$$12_imageFileNameDic$$9_pressedDic$$2_pressedFileName$$,1)}$widget$$.setSize(cc.size($barLength_disabledFileName$$1_imageProgressFileName_normalDic$$2_normalFileName$$,$widget$$.getContentSize().height))}}else switch($imageFileType_pressedType$$){case 0:$widget$$.loadBarTexture($imageFileName$$12_imageFileNameDic$$9_pressedDic$$2_pressedFileName$$?$tp$$+$imageFileName$$12_imageFileNameDic$$9_pressedDic$$2_pressedFileName$$:
null);break;case 1:$widget$$.loadBarTexture($imageFileName$$12_imageFileNameDic$$9_pressedDic$$2_pressedFileName$$,1)}$barLength_disabledFileName$$1_imageProgressFileName_normalDic$$2_normalFileName$$=$options$$.ballNormalData;$barTextureScale9Enable_disabledDic$$2_normalType$$=$barLength_disabledFileName$$1_imageProgressFileName_normalDic$$2_normalFileName$$.resourceType;$barLength_disabledFileName$$1_imageProgressFileName_normalDic$$2_normalFileName$$=$barLength_disabledFileName$$1_imageProgressFileName_normalDic$$2_normalFileName$$.path;
switch($barTextureScale9Enable_disabledDic$$2_normalType$$){case 0:$widget$$.loadSlidBallTextureNormal($barLength_disabledFileName$$1_imageProgressFileName_normalDic$$2_normalFileName$$?$tp$$+$barLength_disabledFileName$$1_imageProgressFileName_normalDic$$2_normalFileName$$:null);break;case 1:$widget$$.loadSlidBallTextureNormal($barLength_disabledFileName$$1_imageProgressFileName_normalDic$$2_normalFileName$$,1)}$imageFileName$$12_imageFileNameDic$$9_pressedDic$$2_pressedFileName$$=$options$$.ballPressedData;
$imageFileType_pressedType$$=$imageFileName$$12_imageFileNameDic$$9_pressedDic$$2_pressedFileName$$.resourceType;$imageFileName$$12_imageFileNameDic$$9_pressedDic$$2_pressedFileName$$=$imageFileName$$12_imageFileNameDic$$9_pressedDic$$2_pressedFileName$$.path;null===$imageFileName$$12_imageFileNameDic$$9_pressedDic$$2_pressedFileName$$&&($imageFileType_pressedType$$=$barTextureScale9Enable_disabledDic$$2_normalType$$,$imageFileName$$12_imageFileNameDic$$9_pressedDic$$2_pressedFileName$$=$barLength_disabledFileName$$1_imageProgressFileName_normalDic$$2_normalFileName$$);
switch($imageFileType_pressedType$$){case 0:$widget$$.loadSlidBallTexturePressed($imageFileName$$12_imageFileNameDic$$9_pressedDic$$2_pressedFileName$$?$tp$$+$imageFileName$$12_imageFileNameDic$$9_pressedDic$$2_pressedFileName$$:null);break;case 1:$widget$$.loadSlidBallTexturePressed($imageFileName$$12_imageFileNameDic$$9_pressedDic$$2_pressedFileName$$,1)}$barTextureScale9Enable_disabledDic$$2_normalType$$=$options$$.ballDisabledData;$barLength_disabledFileName$$1_imageProgressFileName_normalDic$$2_normalFileName$$=
$barTextureScale9Enable_disabledDic$$2_normalType$$.path;switch($barTextureScale9Enable_disabledDic$$2_normalType$$.resourceType){case 0:$widget$$.loadSlidBallTextureDisabled($barLength_disabledFileName$$1_imageProgressFileName_normalDic$$2_normalFileName$$?$tp$$+$barLength_disabledFileName$$1_imageProgressFileName_normalDic$$2_normalFileName$$:null);break;case 1:$widget$$.loadSlidBallTextureDisabled($barLength_disabledFileName$$1_imageProgressFileName_normalDic$$2_normalFileName$$,1)}$barTextureScale9Enable_disabledDic$$2_normalType$$=
$options$$.progressBarData;$barLength_disabledFileName$$1_imageProgressFileName_normalDic$$2_normalFileName$$=$barTextureScale9Enable_disabledDic$$2_normalType$$.path;switch($barTextureScale9Enable_disabledDic$$2_normalType$$.resourceType){case 0:$widget$$.loadProgressBarTexture($barLength_disabledFileName$$1_imageProgressFileName_normalDic$$2_normalFileName$$?$tp$$+$barLength_disabledFileName$$1_imageProgressFileName_normalDic$$2_normalFileName$$:null);break;case 1:$widget$$.loadProgressBarTexture($barLength_disabledFileName$$1_imageProgressFileName_normalDic$$2_normalFileName$$,
1)}ccs.widgetReader.setColorPropsFromJsonDictionary.call(this,$widget$$,$options$$)},setPropsFromProtocolBuffers:function $ccs$sliderReader$setPropsFromProtocolBuffers$($widget$$,$nodeTree$$){ccs.widgetReader.setPropsFromProtocolBuffers.call(this,$widget$$,$nodeTree$$);var $options$$=$nodeTree$$.sliderOptions;ccs.uiReader.getFilePath();var $barTextureScale9Enable$$1_disabledType$$3_displaystate$$2_normalType$$3_pressedType$$3_progressBarType$$=!!$options$$.scale9Enable;$barTextureScale9Enable$$1_disabledType$$3_displaystate$$2_normalType$$3_pressedType$$3_progressBarType$$&&
$widget$$.setUnifySizeEnabled(!1);$widget$$.setScale9Enabled($barTextureScale9Enable$$1_disabledType$$3_displaystate$$2_normalType$$3_pressedType$$3_progressBarType$$);$widget$$.setPercent($options$$.percent);var $barLength$$1_disabledDic$$3_disabledFileName$$2_normalDic$$3_pressedDic$$3_pressedFileName$$2_progressBarDic$$=null!==$options$$.length?$options$$.length:290,$imageFileName$$13_imageFileNameDic$$=$options$$.barFileNameData,$imageFileNameType$$=$imageFileName$$13_imageFileNameDic$$.resourceType,
$imageFileName$$13_imageFileNameDic$$=ccs.widgetReader.getResourcePath($imageFileName$$13_imageFileNameDic$$.path,$imageFileNameType$$);$widget$$.loadBarTexture($imageFileName$$13_imageFileNameDic$$,$imageFileNameType$$);$barTextureScale9Enable$$1_disabledType$$3_displaystate$$2_normalType$$3_pressedType$$3_progressBarType$$&&$widget$$.setContentSize(cc.size($barLength$$1_disabledDic$$3_disabledFileName$$2_normalDic$$3_pressedDic$$3_pressedFileName$$2_progressBarDic$$,$widget$$.getContentSize().height));
$barLength$$1_disabledDic$$3_disabledFileName$$2_normalDic$$3_pressedDic$$3_pressedFileName$$2_progressBarDic$$=$options$$.ballNormalData;$barTextureScale9Enable$$1_disabledType$$3_displaystate$$2_normalType$$3_pressedType$$3_progressBarType$$=$barLength$$1_disabledDic$$3_disabledFileName$$2_normalDic$$3_pressedDic$$3_pressedFileName$$2_progressBarDic$$.resourceType;$imageFileName$$13_imageFileNameDic$$=ccs.widgetReader.getResourcePath($barLength$$1_disabledDic$$3_disabledFileName$$2_normalDic$$3_pressedDic$$3_pressedFileName$$2_progressBarDic$$.path,
$barTextureScale9Enable$$1_disabledType$$3_displaystate$$2_normalType$$3_pressedType$$3_progressBarType$$);$widget$$.loadSlidBallTextureNormal($imageFileName$$13_imageFileNameDic$$,$barTextureScale9Enable$$1_disabledType$$3_displaystate$$2_normalType$$3_pressedType$$3_progressBarType$$);$barLength$$1_disabledDic$$3_disabledFileName$$2_normalDic$$3_pressedDic$$3_pressedFileName$$2_progressBarDic$$=$options$$.ballPressedData;$barTextureScale9Enable$$1_disabledType$$3_displaystate$$2_normalType$$3_pressedType$$3_progressBarType$$=
$barLength$$1_disabledDic$$3_disabledFileName$$2_normalDic$$3_pressedDic$$3_pressedFileName$$2_progressBarDic$$.resourceType;$barLength$$1_disabledDic$$3_disabledFileName$$2_normalDic$$3_pressedDic$$3_pressedFileName$$2_progressBarDic$$=ccs.widgetReader.getResourcePath($barLength$$1_disabledDic$$3_disabledFileName$$2_normalDic$$3_pressedDic$$3_pressedFileName$$2_progressBarDic$$.path,$barTextureScale9Enable$$1_disabledType$$3_displaystate$$2_normalType$$3_pressedType$$3_progressBarType$$);$widget$$.loadSlidBallTexturePressed($barLength$$1_disabledDic$$3_disabledFileName$$2_normalDic$$3_pressedDic$$3_pressedFileName$$2_progressBarDic$$,
$barTextureScale9Enable$$1_disabledType$$3_displaystate$$2_normalType$$3_pressedType$$3_progressBarType$$);$barLength$$1_disabledDic$$3_disabledFileName$$2_normalDic$$3_pressedDic$$3_pressedFileName$$2_progressBarDic$$=$options$$.ballDisabledData;$barTextureScale9Enable$$1_disabledType$$3_displaystate$$2_normalType$$3_pressedType$$3_progressBarType$$=$barLength$$1_disabledDic$$3_disabledFileName$$2_normalDic$$3_pressedDic$$3_pressedFileName$$2_progressBarDic$$.resourceType;$barLength$$1_disabledDic$$3_disabledFileName$$2_normalDic$$3_pressedDic$$3_pressedFileName$$2_progressBarDic$$=
ccs.widgetReader.getResourcePath($barLength$$1_disabledDic$$3_disabledFileName$$2_normalDic$$3_pressedDic$$3_pressedFileName$$2_progressBarDic$$.path,$barTextureScale9Enable$$1_disabledType$$3_displaystate$$2_normalType$$3_pressedType$$3_progressBarType$$);$widget$$.loadSlidBallTextureDisabled($barLength$$1_disabledDic$$3_disabledFileName$$2_normalDic$$3_pressedDic$$3_pressedFileName$$2_progressBarDic$$,$barTextureScale9Enable$$1_disabledType$$3_displaystate$$2_normalType$$3_pressedType$$3_progressBarType$$);
$barLength$$1_disabledDic$$3_disabledFileName$$2_normalDic$$3_pressedDic$$3_pressedFileName$$2_progressBarDic$$=$options$$.progressBarData;$barTextureScale9Enable$$1_disabledType$$3_displaystate$$2_normalType$$3_pressedType$$3_progressBarType$$=$barLength$$1_disabledDic$$3_disabledFileName$$2_normalDic$$3_pressedDic$$3_pressedFileName$$2_progressBarDic$$.resourceType;$barLength$$1_disabledDic$$3_disabledFileName$$2_normalDic$$3_pressedDic$$3_pressedFileName$$2_progressBarDic$$=ccs.widgetReader.getResourcePath($barLength$$1_disabledDic$$3_disabledFileName$$2_normalDic$$3_pressedDic$$3_pressedFileName$$2_progressBarDic$$.path,
$barTextureScale9Enable$$1_disabledType$$3_displaystate$$2_normalType$$3_pressedType$$3_progressBarType$$);$widget$$.loadProgressBarTexture($barLength$$1_disabledDic$$3_disabledFileName$$2_normalDic$$3_pressedDic$$3_pressedFileName$$2_progressBarDic$$,$barTextureScale9Enable$$1_disabledType$$3_displaystate$$2_normalType$$3_pressedType$$3_progressBarType$$);$barTextureScale9Enable$$1_disabledType$$3_displaystate$$2_normalType$$3_pressedType$$3_progressBarType$$=!0;null!==$options$$.displaystate&&($barTextureScale9Enable$$1_disabledType$$3_displaystate$$2_normalType$$3_pressedType$$3_progressBarType$$=
$options$$.displaystate);$widget$$.setBright($barTextureScale9Enable$$1_disabledType$$3_displaystate$$2_normalType$$3_pressedType$$3_progressBarType$$);ccs.widgetReader.setColorPropsFromProtocolBuffers.call(this,$widget$$,$nodeTree$$)}};
ccs.textFieldReader={setPropsFromJsonDictionary:function $ccs$textFieldReader$setPropsFromJsonDictionary$($widget$$,$options$$){ccs.widgetReader.setPropsFromJsonDictionary.call(this,$widget$$,$options$$);var $aw$$2_fn$$3_fs$$4_ha$$3_maxLengthEnable_passwordEnable_ph$$1_size$$109_tsw_va$$=$options$$.placeHolder;$aw$$2_fn$$3_fs$$4_ha$$3_maxLengthEnable_passwordEnable_ph$$1_size$$109_tsw_va$$&&$widget$$.setPlaceHolder($aw$$2_fn$$3_fs$$4_ha$$3_maxLengthEnable_passwordEnable_ph$$1_size$$109_tsw_va$$);
$widget$$.setString($options$$.text||"Text Field");($aw$$2_fn$$3_fs$$4_ha$$3_maxLengthEnable_passwordEnable_ph$$1_size$$109_tsw_va$$=$options$$.fontSize1)&&$widget$$.setFontSize($aw$$2_fn$$3_fs$$4_ha$$3_maxLengthEnable_passwordEnable_ph$$1_size$$109_tsw_va$$);($aw$$2_fn$$3_fs$$4_ha$$3_maxLengthEnable_passwordEnable_ph$$1_size$$109_tsw_va$$=$options$$.fontName)&&$widget$$.setFontName($aw$$2_fn$$3_fs$$4_ha$$3_maxLengthEnable_passwordEnable_ph$$1_size$$109_tsw_va$$);var $aw$$2_fn$$3_fs$$4_ha$$3_maxLengthEnable_passwordEnable_ph$$1_size$$109_tsw_va$$=
$options$$.touchSizeWidth,$ah$$=$options$$.touchSizeHeight;null!=$aw$$2_fn$$3_fs$$4_ha$$3_maxLengthEnable_passwordEnable_ph$$1_size$$109_tsw_va$$&&null!=$ah$$&&$widget$$.setTouchSize($aw$$2_fn$$3_fs$$4_ha$$3_maxLengthEnable_passwordEnable_ph$$1_size$$109_tsw_va$$,$ah$$);$aw$$2_fn$$3_fs$$4_ha$$3_maxLengthEnable_passwordEnable_ph$$1_size$$109_tsw_va$$=$options$$.maxLengthEnable;$widget$$.setMaxLengthEnabled($aw$$2_fn$$3_fs$$4_ha$$3_maxLengthEnable_passwordEnable_ph$$1_size$$109_tsw_va$$);$aw$$2_fn$$3_fs$$4_ha$$3_maxLengthEnable_passwordEnable_ph$$1_size$$109_tsw_va$$&&
$widget$$.setMaxLength($options$$.maxLength);$aw$$2_fn$$3_fs$$4_ha$$3_maxLengthEnable_passwordEnable_ph$$1_size$$109_tsw_va$$=$options$$.passwordEnable;$widget$$.setPasswordEnabled($aw$$2_fn$$3_fs$$4_ha$$3_maxLengthEnable_passwordEnable_ph$$1_size$$109_tsw_va$$);$aw$$2_fn$$3_fs$$4_ha$$3_maxLengthEnable_passwordEnable_ph$$1_size$$109_tsw_va$$&&$widget$$.setPasswordStyleText($options$$.passwordStyleText);$aw$$2_fn$$3_fs$$4_ha$$3_maxLengthEnable_passwordEnable_ph$$1_size$$109_tsw_va$$=$options$$.areaWidth;
$ah$$=$options$$.areaHeight;null!=$aw$$2_fn$$3_fs$$4_ha$$3_maxLengthEnable_passwordEnable_ph$$1_size$$109_tsw_va$$&&null!=$ah$$&&($aw$$2_fn$$3_fs$$4_ha$$3_maxLengthEnable_passwordEnable_ph$$1_size$$109_tsw_va$$=cc.size($aw$$2_fn$$3_fs$$4_ha$$3_maxLengthEnable_passwordEnable_ph$$1_size$$109_tsw_va$$,$ah$$),$widget$$.setTextAreaSize($aw$$2_fn$$3_fs$$4_ha$$3_maxLengthEnable_passwordEnable_ph$$1_size$$109_tsw_va$$));($aw$$2_fn$$3_fs$$4_ha$$3_maxLengthEnable_passwordEnable_ph$$1_size$$109_tsw_va$$=$options$$.hAlignment)&&
$widget$$.setTextHorizontalAlignment($aw$$2_fn$$3_fs$$4_ha$$3_maxLengthEnable_passwordEnable_ph$$1_size$$109_tsw_va$$);($aw$$2_fn$$3_fs$$4_ha$$3_maxLengthEnable_passwordEnable_ph$$1_size$$109_tsw_va$$=$options$$.vAlignment)&&$widget$$.setTextVerticalAlignment($aw$$2_fn$$3_fs$$4_ha$$3_maxLengthEnable_passwordEnable_ph$$1_size$$109_tsw_va$$);ccs.widgetReader.setColorPropsFromJsonDictionary.call(this,$widget$$,$options$$)},setPropsFromProtocolBuffers:function $ccs$textFieldReader$setPropsFromProtocolBuffers$($widget$$,
$nodeTree$$){var $options$$=$nodeTree$$.textfieldOptions,$protocolBuffersPath$$=ccs.uiReader.getFilePath(),$IsCustomSize$$1_maxLengthEnable$$1_passwordEnable$$1_widgetOptions$$=$options$$.isCustomSize;$widget$$.ignoreContentAdaptWithSize(!$IsCustomSize$$1_maxLengthEnable$$1_passwordEnable$$1_widgetOptions$$);$IsCustomSize$$1_maxLengthEnable$$1_passwordEnable$$1_widgetOptions$$&&($IsCustomSize$$1_maxLengthEnable$$1_passwordEnable$$1_widgetOptions$$=$nodeTree$$.widgetOptions,$widget$$.setContentSize(cc.size($IsCustomSize$$1_maxLengthEnable$$1_passwordEnable$$1_widgetOptions$$.width,
$IsCustomSize$$1_maxLengthEnable$$1_passwordEnable$$1_widgetOptions$$.height)));ccs.widgetReader.setPropsFromProtocolBuffers.call(this,$widget$$,$nodeTree$$);ccs.widgetReader.setAnchorPointForWidget.call(this,$widget$$,$nodeTree$$);$widget$$.setUnifySizeEnabled(!1);null!==$options$$.placeholder&&$widget$$.setPlaceHolder(null!==$options$$.placeholder?$options$$.placeholder:"inputs words here");$widget$$.setString(null!==$options$$.text?$options$$.text:"Text Field");$widget$$.setFontSize($options$$.fontSize?
$options$$.fontSize:20);$widget$$.setFontName(null!==$options$$.fontName?$options$$.fontName:"微软雅黑");$IsCustomSize$$1_maxLengthEnable$$1_passwordEnable$$1_widgetOptions$$=$options$$.maxlengthEnable;$widget$$.setMaxLengthEnabled($IsCustomSize$$1_maxLengthEnable$$1_passwordEnable$$1_widgetOptions$$);$IsCustomSize$$1_maxLengthEnable$$1_passwordEnable$$1_widgetOptions$$&&$widget$$.setMaxLength(null!==$options$$.maxLength?$options$$.maxLength:10);$IsCustomSize$$1_maxLengthEnable$$1_passwordEnable$$1_widgetOptions$$=
$options$$.passwordEnable;$widget$$.setPasswordEnabled($IsCustomSize$$1_maxLengthEnable$$1_passwordEnable$$1_widgetOptions$$);$IsCustomSize$$1_maxLengthEnable$$1_passwordEnable$$1_widgetOptions$$&&$widget$$.setPasswordStyleText(null!==$options$$.passwordStyleText?$options$$.passwordStyleText:"*");null!==$options$$.fontResource&&$widget$$.setFontName($protocolBuffersPath$$+$options$$.fontresource.path);ccs.widgetReader.setColorPropsFromProtocolBuffers.call(this,$widget$$,$nodeTree$$)}};
ccs.WidgetReaderProtocol=ccs.Class.extend({setPropsFromJsonDictionary:function($widget$$,$options$$){}});
ccs.widgetReader={setPropsFromJsonDictionary:function $ccs$widgetReader$setPropsFromJsonDictionary$($widget$$,$options$$){var $ignoreSizeExsit_layoutParameterDic_name$$114_vb$$1_w$$=$options$$.ignoreSize;null!=$ignoreSizeExsit_layoutParameterDic_name$$114_vb$$1_w$$&&$widget$$.ignoreContentAdaptWithSize($ignoreSizeExsit_layoutParameterDic_name$$114_vb$$1_w$$);$widget$$.setSizeType($options$$.sizeType);$widget$$.setPositionType($options$$.positionType);$widget$$.setSizePercent(cc.p($options$$.sizePercentX,
$options$$.sizePercentY));$widget$$.setPositionPercent(cc.p($options$$.positionPercentX,$options$$.positionPercentY));var $h$$64_parameter$$4_screenSize$$=$ignoreSizeExsit_layoutParameterDic_name$$114_vb$$1_w$$=0;$options$$.adaptScreen?($h$$64_parameter$$4_screenSize$$=cc.director.getWinSize(),$ignoreSizeExsit_layoutParameterDic_name$$114_vb$$1_w$$=$h$$64_parameter$$4_screenSize$$.width,$h$$64_parameter$$4_screenSize$$=$h$$64_parameter$$4_screenSize$$.height):($ignoreSizeExsit_layoutParameterDic_name$$114_vb$$1_w$$=
$options$$.width,$h$$64_parameter$$4_screenSize$$=$options$$.height);$widget$$.setContentSize($ignoreSizeExsit_layoutParameterDic_name$$114_vb$$1_w$$,$h$$64_parameter$$4_screenSize$$);$widget$$.setTag($options$$.tag);$widget$$.setActionTag($options$$.actiontag);$widget$$.setTouchEnabled($options$$.touchAble);$ignoreSizeExsit_layoutParameterDic_name$$114_vb$$1_w$$=$options$$.name;$widget$$.setName($ignoreSizeExsit_layoutParameterDic_name$$114_vb$$1_w$$?$ignoreSizeExsit_layoutParameterDic_name$$114_vb$$1_w$$:
"default");$widget$$.setPosition($options$$.x,$options$$.y);$widget$$.setScaleX(null!=$options$$.scaleX?$options$$.scaleX:1);$widget$$.setScaleY(null!=$options$$.scaleY?$options$$.scaleY:1);$widget$$.setRotation($options$$.rotation||0);$ignoreSizeExsit_layoutParameterDic_name$$114_vb$$1_w$$=$options$$.visible||!1;null!=$ignoreSizeExsit_layoutParameterDic_name$$114_vb$$1_w$$&&$widget$$.setVisible($ignoreSizeExsit_layoutParameterDic_name$$114_vb$$1_w$$);$widget$$.setLocalZOrder($options$$.ZOrder);if(null!=
$options$$.layoutParameter){$ignoreSizeExsit_layoutParameterDic_name$$114_vb$$1_w$$=$options$$.layoutParameter;$h$$64_parameter$$4_screenSize$$=null;switch($ignoreSizeExsit_layoutParameterDic_name$$114_vb$$1_w$$.type){case 1:$h$$64_parameter$$4_screenSize$$=new ccui.LinearLayoutParameter;$h$$64_parameter$$4_screenSize$$.setGravity($ignoreSizeExsit_layoutParameterDic_name$$114_vb$$1_w$$.gravity);break;case 2:var $rParameter$$=$h$$64_parameter$$4_screenSize$$=new ccui.RelativeLayoutParameter;$rParameter$$.setRelativeName($ignoreSizeExsit_layoutParameterDic_name$$114_vb$$1_w$$.relativeName);
$rParameter$$.setRelativeToWidgetName($ignoreSizeExsit_layoutParameterDic_name$$114_vb$$1_w$$.relativeToName);$rParameter$$.setAlign($ignoreSizeExsit_layoutParameterDic_name$$114_vb$$1_w$$.align)}null!=$h$$64_parameter$$4_screenSize$$&&($h$$64_parameter$$4_screenSize$$.setMargin($ignoreSizeExsit_layoutParameterDic_name$$114_vb$$1_w$$.marginLeft||0,$ignoreSizeExsit_layoutParameterDic_name$$114_vb$$1_w$$.marginTop||0,$ignoreSizeExsit_layoutParameterDic_name$$114_vb$$1_w$$.marginRight||0,$ignoreSizeExsit_layoutParameterDic_name$$114_vb$$1_w$$.marginDown||
0),$widget$$.setLayoutParameter($h$$64_parameter$$4_screenSize$$))}},setColorPropsFromJsonDictionary:function $ccs$widgetReader$setColorPropsFromJsonDictionary$($widget$$,$options$$){var $colorR$$1_op$$=$options$$.opacity;null!=$colorR$$1_op$$&&$widget$$.setOpacity($colorR$$1_op$$);var $colorR$$1_op$$=$options$$.colorR,$colorG$$=$options$$.colorG,$colorB$$=$options$$.colorB;$widget$$.setColor(cc.color(null==$colorR$$1_op$$?255:$colorR$$1_op$$,null==$colorG$$?255:$colorG$$,null==$colorB$$?255:$colorB$$));
ccs.widgetReader._setAnchorPointForWidget($widget$$,$options$$);$widget$$.setFlippedX($options$$.flipX);$widget$$.setFlippedY($options$$.flipY)},_setAnchorPointForWidget:function $ccs$widgetReader$_setAnchorPointForWidget$($widget$$,$options$$){var $isAnchorPointXExists$$=$options$$.anchorPointX,$anchorPointXInFile$$;$anchorPointXInFile$$=null!=$isAnchorPointXExists$$?$options$$.anchorPointX:$widget$$.getAnchorPoint().x;var $isAnchorPointYExists$$=$options$$.anchorPointY,$anchorPointYInFile$$;$anchorPointYInFile$$=
null!=$isAnchorPointYExists$$?$options$$.anchorPointY:$widget$$.getAnchorPoint().y;null==$isAnchorPointXExists$$&&null==$isAnchorPointYExists$$||$widget$$.setAnchorPoint(cc.p($anchorPointXInFile$$,$anchorPointYInFile$$))},_getResourcePath:function $ccs$widgetReader$_getResourcePath$($dict$$10_imageFileName$$,$key$$,$texType$$){$dict$$10_imageFileName$$=$dict$$10_imageFileName$$[$key$$];var $imageFileName_tp$$;null!=$dict$$10_imageFileName$$&&(0==$texType$$?$imageFileName_tp$$=ccs.uiReader.getFilePath()+
$dict$$10_imageFileName$$:1==$texType$$?$imageFileName_tp$$=$dict$$10_imageFileName$$:cc.assert(0,"invalid TextureResType!!!"));return $imageFileName_tp$$},setPropsFromProtocolBuffers:function $ccs$widgetReader$setPropsFromProtocolBuffers$($widget$$,$nodeTree$$){var $layoutParameterDic$$1_options$$=$nodeTree$$.widgetOptions;$widget$$.setCascadeColorEnabled(!0);$widget$$.setCascadeOpacityEnabled(!0);$widget$$.setAnchorPoint(cc.p(0,0));$widget$$.setUnifySizeEnabled(!0);$layoutParameterDic$$1_options$$.ignoreSize&&
$widget$$.ignoreContentAdaptWithSize($layoutParameterDic$$1_options$$.ignoreSize);$widget$$.setSizeType($layoutParameterDic$$1_options$$.sizeType);$widget$$.setPositionType($layoutParameterDic$$1_options$$.positionType);$widget$$.setSizePercent(cc.p($layoutParameterDic$$1_options$$.sizePercentX,$layoutParameterDic$$1_options$$.sizePercentY));$widget$$.setPositionPercent(cc.p($layoutParameterDic$$1_options$$.positionPercentX,$layoutParameterDic$$1_options$$.positionPercentY));$widget$$.setContentSize(cc.size($layoutParameterDic$$1_options$$.width,
$layoutParameterDic$$1_options$$.height));$widget$$.setTag($layoutParameterDic$$1_options$$.tag);$widget$$.setActionTag($layoutParameterDic$$1_options$$.actionTag);$widget$$.setTouchEnabled($layoutParameterDic$$1_options$$.touchAble);var $name$$115_parameter$$=$layoutParameterDic$$1_options$$.name;$widget$$.setName($name$$115_parameter$$?$name$$115_parameter$$:"default");$widget$$.setPosition(cc.p($layoutParameterDic$$1_options$$.x,$layoutParameterDic$$1_options$$.y));$layoutParameterDic$$1_options$$.Alpha&&
$widget$$.setOpacity($layoutParameterDic$$1_options$$.Alpha);$widget$$.setScaleX(null!==$layoutParameterDic$$1_options$$.scaleX?$layoutParameterDic$$1_options$$.scaleX:1);$widget$$.setScaleY(null!==$layoutParameterDic$$1_options$$.scaleY?$layoutParameterDic$$1_options$$.scaleY:1);$widget$$.setRotationX(null!==$layoutParameterDic$$1_options$$.rotationSkewX?$layoutParameterDic$$1_options$$.rotationSkewX:0);$widget$$.setRotationY(null!==$layoutParameterDic$$1_options$$.rotationSkewY?$layoutParameterDic$$1_options$$.rotationSkewY:
0);$layoutParameterDic$$1_options$$.visible&&$widget$$.setVisible($layoutParameterDic$$1_options$$.visible);$widget$$.setLocalZOrder($layoutParameterDic$$1_options$$.zorder);if($layoutParameterDic$$1_options$$.layoutParameter){$layoutParameterDic$$1_options$$=$layoutParameterDic$$1_options$$.layoutParameter;$name$$115_parameter$$=null;switch($layoutParameterDic$$1_options$$.type){case 1:$name$$115_parameter$$=new ccui.LinearLayoutParameter;$name$$115_parameter$$.setGravity($layoutParameterDic$$1_options$$.gravity);
break;case 2:var $rParameter$$=$name$$115_parameter$$=new ccui.RelativeLayoutParameter;$rParameter$$.setRelativeName($layoutParameterDic$$1_options$$.relativeName);$rParameter$$.setRelativeToWidgetName($layoutParameterDic$$1_options$$.relativeToName);$rParameter$$.setAlign($layoutParameterDic$$1_options$$.align)}$name$$115_parameter$$&&($name$$115_parameter$$.setMargin(new ccui.Margin($layoutParameterDic$$1_options$$.marginLeft,$layoutParameterDic$$1_options$$.marginTop,$layoutParameterDic$$1_options$$.marginRight,
$layoutParameterDic$$1_options$$.marginDown)),$widget$$.setLayoutParameter($name$$115_parameter$$))}},setColorPropsFromProtocolBuffers:function $ccs$widgetReader$setColorPropsFromProtocolBuffers$($widget$$,$nodeTree$$){var $options$$=$nodeTree$$.widgetOptions,$flipY$$=null!==$options$$.colorG,$isColorBExists$$=null!==$options$$.colorB,$colorR$$=$options$$.colorR,$colorG$$=$options$$.colorG,$colorB$$=$options$$.colorB;null!==$options$$.colorR&&$flipY$$&&$isColorBExists$$&&$widget$$.setColor(cc.color($colorR$$,
$colorG$$,$colorB$$));ccs.widgetReader.setAnchorPointForWidget($widget$$,$nodeTree$$);$flipY$$=$options$$.flipY;$widget$$.setFlippedX($options$$.flipX);$widget$$.setFlippedY($flipY$$)},setAnchorPointForWidget:function $ccs$widgetReader$setAnchorPointForWidget$($widget$$,$nodeTree$$){var $anchorPointYInFile$$1_options$$=$nodeTree$$.widgetOptions,$isAnchorPointXExists$$=$anchorPointYInFile$$1_options$$.anchorPointX,$anchorPointXInFile$$;$anchorPointXInFile$$=$isAnchorPointXExists$$?$anchorPointYInFile$$1_options$$.anchorPointX:
$widget$$.getAnchorPoint().x;var $isAnchorPointYExists$$=$anchorPointYInFile$$1_options$$.anchorPointY,$anchorPointYInFile$$1_options$$=$isAnchorPointYExists$$?$anchorPointYInFile$$1_options$$.anchorPointY:$widget$$.getAnchorPoint().y;($isAnchorPointXExists$$||$isAnchorPointYExists$$)&&$widget$$.setAnchorPoint(cc.p($anchorPointXInFile$$,$anchorPointYInFile$$1_options$$))},getResourcePath:function $ccs$widgetReader$getResourcePath$($path$$,$texType$$){var $filePath$$=ccs.uiReader.getFilePath(),$imageFileName_tp$$;
null!=$path$$&&0!=""!=$path$$&&($texType$$==ccui.Widget.LOCAL_TEXTURE?$imageFileName_tp$$=$filePath$$+$path$$:$texType$$==ccui.Widget.PLIST_TEXTURE?$imageFileName_tp$$=$path$$:cc.assert(0,"invalid TextureResType!!!"));return $imageFileName_tp$$}};var PBP;PBP=CSParseBinary&&window.dcodeIO&&window.dcodeIO.ProtoBuf?dcodeIO.ProtoBuf.loadProto(CSParseBinary).build().protocolbuffers:null;
(function(){var $factoryCreate$$=ccs.objectFactory;$factoryCreate$$.registerType({_className:"ButtonReader",_fun:ccs.buttonReader});$factoryCreate$$.registerType({_className:"CheckBoxReader",_fun:ccs.checkBoxReader});$factoryCreate$$.registerType({_className:"SliderReader",_fun:ccs.sliderReader});$factoryCreate$$.registerType({_className:"ImageViewReader",_fun:ccs.imageViewReader});$factoryCreate$$.registerType({_className:"LoadingBarReader",_fun:ccs.loadingBarReader});$factoryCreate$$.registerType({_className:"TextAtlasReader",
_fun:ccs.labelAtlasReader});$factoryCreate$$.registerType({_className:"TextReader",_fun:ccs.labelReader});$factoryCreate$$.registerType({_className:"TextBMFontReader",_fun:ccs.labelBMFontReader});$factoryCreate$$.registerType({_className:"TextFieldReader",_fun:ccs.textFieldReader});$factoryCreate$$.registerType({_className:"LayoutReader",_fun:ccs.layoutReader});$factoryCreate$$.registerType({_className:"PageViewReader",_fun:ccs.pageViewReader});$factoryCreate$$.registerType({_className:"ScrollViewReader",
_fun:ccs.scrollViewReader});$factoryCreate$$.registerType({_className:"ListViewReader",_fun:ccs.listViewReader});$factoryCreate$$.registerType({_className:"WidgetReader",_fun:ccs.widgetReader});$factoryCreate$$.registerType({_className:"Button",_fun:ccui.Button});$factoryCreate$$.registerType({_className:"CheckBox",_fun:ccui.CheckBox});$factoryCreate$$.registerType({_className:"ImageView",_fun:ccui.ImageView});$factoryCreate$$.registerType({_className:"Text",_fun:ccui.Text});$factoryCreate$$.registerType({_className:"TextAtlas",
_fun:ccui.TextAtlas});$factoryCreate$$.registerType({_className:"TextBMFont",_fun:ccui.TextBMFont});$factoryCreate$$.registerType({_className:"LoadingBar",_fun:ccui.LoadingBar});$factoryCreate$$.registerType({_className:"Slider",_fun:ccui.Slider});$factoryCreate$$.registerType({_className:"TextField",_fun:ccui.TextField});$factoryCreate$$.registerType({_className:"Layout",_fun:ccui.Layout});$factoryCreate$$.registerType({_className:"ListView",_fun:ccui.ListView});$factoryCreate$$.registerType({_className:"PageView",
_fun:ccui.PageView});$factoryCreate$$.registerType({_className:"ScrollView",_fun:ccui.ScrollView})})();
ccs.uiReader={_filePath:"",_olderVersion:!1,_fileDesignSizes:{},_mapObject:{},_mapParseSelector:{},getVersionInteger:function $ccs$uiReader$getVersionInteger$($ite_str$$){if(!$ite_str$$)return 0;var $is_s$$=$ite_str$$,$versionLength$$=$is_s$$.length;if(7>$versionLength$$)return 0;var $pos$$=$is_s$$.indexOf("."),$it$$4_t$$=$is_s$$.substr(0,$pos$$),$is_s$$=$is_s$$.substr($pos$$+1,$versionLength$$-1),$pos$$=$is_s$$.indexOf("."),$h$$66_ih$$=$is_s$$.substr(0,$pos$$),$is_s$$=$is_s$$.substr($pos$$+1,$versionLength$$-
1),$pos$$=$is_s$$.indexOf(".");$ite_str$$=$is_s$$.substr(0,$pos$$);$is_s$$=$is_s$$.substr($pos$$+1,$versionLength$$-1);$pos$$=$is_s$$.indexOf(".");$is_s$$=-1==$pos$$?$is_s$$:$is_s$$.substr(0,$pos$$);$it$$4_t$$=parseInt($it$$4_t$$);$h$$66_ih$$=parseInt($h$$66_ih$$);$ite_str$$=parseInt($ite_str$$);$is_s$$=parseInt($is_s$$);return 1E3*$it$$4_t$$+100*$h$$66_ih$$+10*$ite_str$$+$is_s$$},storeFileDesignSize:function $ccs$uiReader$storeFileDesignSize$($fileName$$,$size$$){this._fileDesignSizes[$fileName$$]=
$size$$},getFileDesignSize:function $ccs$uiReader$getFileDesignSize$($fileName$$){return this._fileDesignSizes[$fileName$$]},widgetFromJsonFile:function $ccs$uiReader$widgetFromJsonFile$($fileName$$22_widget$$){var $jsonDict$$=cc.loader.getRes($fileName$$22_widget$$);if(!$jsonDict$$)throw"Please load the resource first : "+$fileName$$22_widget$$;var $fileVersion_tempFilePath$$=cc.path.dirname($fileName$$22_widget$$);this._filePath=""==$fileVersion_tempFilePath$$?$fileVersion_tempFilePath$$:$fileVersion_tempFilePath$$+
"/";var $fileVersion_tempFilePath$$=$jsonDict$$.version,$versionInteger$$=this.getVersionInteger($fileVersion_tempFilePath$$);$fileName$$22_widget$$=($fileVersion_tempFilePath$$?250>$versionInteger$$?new ccs.WidgetPropertiesReader0250:new ccs.WidgetPropertiesReader0300:new ccs.WidgetPropertiesReader0250).createWidget($jsonDict$$,this._filePath,$fileName$$22_widget$$);if(!$fileVersion_tempFilePath$$||250>$versionInteger$$)this._olderVersion=!0;return $fileName$$22_widget$$},clear:function $ccs$uiReader$clear$(){this._filePath=
"";this._olderVersion=!1;this._fileDesignSizes={}},registerTypeAndCallBack:function $ccs$uiReader$registerTypeAndCallBack$($classType$$,$ins_t$$,$object$$,$callback$$){var $factoryCreate$$=ccs.objectFactory;$ins_t$$=new ccs.TInfo($classType$$,$ins_t$$);$factoryCreate$$.registerType($ins_t$$);$object$$&&(this._mapObject[$classType$$]=$object$$);$callback$$&&(this._mapParseSelector[$classType$$]=$callback$$)},getFilePath:function $ccs$uiReader$getFilePath$(){return this._filePath},setFilePath:function $ccs$uiReader$setFilePath$($path$$){this._filePath=
$path$$},getParseObjectMap:function $ccs$uiReader$getParseObjectMap$(){return this._mapObject},getParseCallBackMap:function $ccs$uiReader$getParseCallBackMap$(){return this._mapParseSelector}};
ccs.WidgetPropertiesReader=ccs.Class.extend({_filePath:"",createWidget:function($jsonDict$$,$fullPath$$,$fileName$$){},widgetFromJsonDictionary:function($data$$){},_createGUI:function($className$$8_name$$){$className$$8_name$$=this._getGUIClassName($className$$8_name$$);return ccs.objectFactory.createObject($className$$8_name$$)},_getGUIClassName:function($name$$){var $convertedClassName$$=$name$$;"Panel"==$name$$?$convertedClassName$$="Layout":"TextArea"==$name$$?$convertedClassName$$="Text":"TextButton"==
$name$$?$convertedClassName$$="Button":"Label"==$name$$?$convertedClassName$$="Text":"LabelAtlas"==$name$$?$convertedClassName$$="TextAtlas":"LabelBMFont"==$name$$?$convertedClassName$$="TextBMFont":"Node"==$name$$&&($convertedClassName$$="Layout");return $convertedClassName$$},_getWidgetReaderClassName:function($className$$9_readerName$$){"Panel"==$className$$9_readerName$$?$className$$9_readerName$$="Layout":"TextArea"==$className$$9_readerName$$?$className$$9_readerName$$="Text":"TextButton"==
$className$$9_readerName$$?$className$$9_readerName$$="Button":"Label"==$className$$9_readerName$$?$className$$9_readerName$$="Text":"LabelAtlas"==$className$$9_readerName$$?$className$$9_readerName$$="TextAtlas":"LabelBMFont"==$className$$9_readerName$$&&($className$$9_readerName$$="TextBMFont");return $className$$9_readerName$$+"Reader"},_getWidgetReaderClassNameFromWidget:function($widget$$){var $readerName$$="";$widget$$ instanceof ccui.Button?$readerName$$="ButtonReader":$widget$$ instanceof
ccui.CheckBox?$readerName$$="CheckBoxReader":$widget$$ instanceof ccui.ImageView?$readerName$$="ImageViewReader":$widget$$ instanceof ccui.TextAtlas?$readerName$$="TextAtlasReader":$widget$$ instanceof ccui.TextBMFont?$readerName$$="TextBMFontReader":$widget$$ instanceof ccui.Text?$readerName$$="TextReader":$widget$$ instanceof ccui.LoadingBar?$readerName$$="LoadingBarReader":$widget$$ instanceof ccui.Slider?$readerName$$="SliderReader":$widget$$ instanceof ccui.TextField?$readerName$$="TextFieldReader":
$widget$$ instanceof ccui.ListView?$readerName$$="ListViewReader":$widget$$ instanceof ccui.PageView?$readerName$$="PageViewReader":$widget$$ instanceof ccui.ScrollView?$readerName$$="ScrollViewReader":$widget$$ instanceof ccui.Layout?$readerName$$="LayoutReader":$widget$$ instanceof ccui.Widget&&($readerName$$="WidgetReader");return $readerName$$},_createWidgetReaderProtocol:function($className$$){return ccs.objectFactory.createObject($className$$)}});
ccs.WidgetPropertiesReader0250=ccs.WidgetPropertiesReader.extend({createWidget:function($jsonDict$$,$fileDesignWidth$$1_fullPath$$,$fileName$$){this._filePath=""==$fileDesignWidth$$1_fullPath$$?$fileDesignWidth$$1_fullPath$$:cc.path.join($fileDesignWidth$$1_fullPath$$,"/");for(var $fileDesignHeight$$=$jsonDict$$.textures,$i$$516_widget$$58_winSize$$=0;$i$$516_widget$$58_winSize$$<$fileDesignHeight$$.length;$i$$516_widget$$58_winSize$$++){var $size$$111_tp$$=$fileDesignWidth$$1_fullPath$$,$size$$111_tp$$=
$size$$111_tp$$+$fileDesignHeight$$[$i$$516_widget$$58_winSize$$];cc.spriteFrameCache.addSpriteFrames($size$$111_tp$$)}$fileDesignWidth$$1_fullPath$$=$jsonDict$$.designWidth;$fileDesignHeight$$=$jsonDict$$.designHeight;0>=$fileDesignWidth$$1_fullPath$$||0>=$fileDesignHeight$$?(cc.log("Read design size error!"),$i$$516_widget$$58_winSize$$=cc.director.getWinSize(),ccs.uiReader.storeFileDesignSize($fileName$$,$i$$516_widget$$58_winSize$$)):ccs.uiReader.storeFileDesignSize($fileName$$,cc.size($fileDesignWidth$$1_fullPath$$,
$fileDesignHeight$$));$i$$516_widget$$58_winSize$$=this.widgetFromJsonDictionary($jsonDict$$.widgetTree);$size$$111_tp$$=$i$$516_widget$$58_winSize$$.getContentSize();0==$size$$111_tp$$.width&&0==$size$$111_tp$$.height&&$i$$516_widget$$58_winSize$$.setSize(cc.size($fileDesignWidth$$1_fullPath$$,$fileDesignHeight$$));ccs.actionManager.initWithDictionary($fileName$$,$jsonDict$$.animation,$i$$516_widget$$58_winSize$$);return $i$$516_widget$$58_winSize$$},widgetFromJsonDictionary:function($children$$22_data$$){var $widget$$=
null,$classname$$3_i$$=$children$$22_data$$.classname,$child$$=$children$$22_data$$.options;"Button"==$classname$$3_i$$?($widget$$=new ccui.Button,this.setPropsForButtonFromJsonDictionary($widget$$,$child$$)):"CheckBox"==$classname$$3_i$$?($widget$$=new ccui.CheckBox,this.setPropsForCheckBoxFromJsonDictionary($widget$$,$child$$)):"Label"==$classname$$3_i$$?($widget$$=new ccui.Text,this.setPropsForLabelFromJsonDictionary($widget$$,$child$$)):"LabelAtlas"==$classname$$3_i$$?($widget$$=new ccui.TextAtlas,
this.setPropsForLabelAtlasFromJsonDictionary($widget$$,$child$$)):"LoadingBar"==$classname$$3_i$$?($widget$$=new ccui.LoadingBar,this.setPropsForLoadingBarFromJsonDictionary($widget$$,$child$$)):"ScrollView"==$classname$$3_i$$?($widget$$=new ccui.ScrollView,this.setPropsForScrollViewFromJsonDictionary($widget$$,$child$$)):"TextArea"==$classname$$3_i$$?($widget$$=new ccui.Text,this.setPropsForLabelFromJsonDictionary($widget$$,$child$$)):"TextButton"==$classname$$3_i$$?($widget$$=new ccui.Button,this.setPropsForButtonFromJsonDictionary($widget$$,
$child$$)):"TextField"==$classname$$3_i$$?($widget$$=new ccui.TextField,this.setPropsForTextFieldFromJsonDictionary($widget$$,$child$$)):"ImageView"==$classname$$3_i$$?($widget$$=new ccui.ImageView,this.setPropsForImageViewFromJsonDictionary($widget$$,$child$$)):"Panel"==$classname$$3_i$$?($widget$$=new ccui.Layout,this.setPropsForLayoutFromJsonDictionary($widget$$,$child$$)):"Slider"==$classname$$3_i$$?($widget$$=new ccui.Slider,this.setPropsForSliderFromJsonDictionary($widget$$,$child$$)):"LabelBMFont"==
$classname$$3_i$$?($widget$$=new ccui.TextBMFont,this.setPropsForLabelBMFontFromJsonDictionary($widget$$,$child$$)):"DragPanel"==$classname$$3_i$$&&($widget$$=new ccui.ScrollView,this.setPropsForScrollViewFromJsonDictionary($widget$$,$child$$));$children$$22_data$$=$children$$22_data$$.children;for($classname$$3_i$$=0;$classname$$3_i$$<$children$$22_data$$.length;$classname$$3_i$$++)($child$$=this.widgetFromJsonDictionary($children$$22_data$$[$classname$$3_i$$]))&&$widget$$.addChild($child$$);return $widget$$},
setPropsForWidgetFromJsonDictionary:function($widget$$,$options$$){void 0!==$options$$.ignoreSize&&$widget$$.ignoreContentAdaptWithSize($options$$.ignoreSize);$widget$$.setSize(cc.size($options$$.width,$options$$.height));$widget$$.setTag($options$$.tag);$widget$$.setActionTag($options$$.actiontag);$widget$$.setTouchEnabled($options$$.touchAble);var $name$$=$options$$.name;$widget$$.setName($name$$?$name$$:"default");$widget$$.setPosition(cc.p($options$$.x,$options$$.y));void 0!==$options$$.scaleX&&
$widget$$.setScaleX($options$$.scaleX);void 0!==$options$$.scaleY&&$widget$$.setScaleY($options$$.scaleY);void 0!==$options$$.rotation&&$widget$$.setRotation($options$$.rotation);void 0!==$options$$.visible&&$widget$$.setVisible($options$$.visible);$widget$$.setLocalZOrder($options$$.ZOrder)},setPropsForAllWidgetFromJsonDictionary:function(){},setPropsForAllCustomWidgetFromJsonDictionary:function(){},setColorPropsForWidgetFromJsonDictionary:function($widget$$,$options$$){void 0!==$options$$.opacity&&
$widget$$.setOpacity($options$$.opacity);$widget$$.setColor(cc.color(void 0!==$options$$.colorR?$options$$.colorR:255,void 0!==$options$$.colorG?$options$$.colorG:255,void 0!==$options$$.colorB?$options$$.colorB:255));var $apx$$4_flipY$$=void 0!==$options$$.anchorPointX?$options$$.anchorPointX:$widget$$.getWidgetType()==ccui.Widget.TYPE_WIDGET?.5:0,$apy$$=void 0!==$options$$.anchorPointY?$options$$.anchorPointY:$widget$$.getWidgetType()==ccui.Widget.TYPE_WIDGET?.5:0;$widget$$.setAnchorPoint($apx$$4_flipY$$,
$apy$$);$apx$$4_flipY$$=$options$$.flipY;$widget$$.setFlippedX($options$$.flipX);$widget$$.setFlippedY($apx$$4_flipY$$)},setPropsForButtonFromJsonDictionary:function($widget$$,$options$$){this.setPropsForWidgetFromJsonDictionary($widget$$,$options$$);var $scale9Enable$$6_tc_text$$=$options$$.scale9Enable;$widget$$.setScale9Enabled($scale9Enable$$6_tc_text$$);var $normalFileName$$=$options$$.normal,$pressedFileName$$=$options$$.pressed,$disabledFileName$$=$options$$.disabled,$normalFileName_tp$$=$normalFileName$$?
this._filePath+$normalFileName$$:null,$pressedFileName_tp$$=$pressedFileName$$?this._filePath+$pressedFileName$$:null,$disabledFileName_tp$$=$disabledFileName$$?this._filePath+$disabledFileName$$:null,$useMergedTexture$$=$options$$.useMergedTexture;$scale9Enable$$6_tc_text$$?($useMergedTexture$$?$widget$$.loadTextures($normalFileName$$,$pressedFileName$$,$disabledFileName$$,ccui.Widget.PLIST_TEXTURE):$widget$$.loadTextures($normalFileName_tp$$,$pressedFileName_tp$$,$disabledFileName_tp$$),void 0!==
$options$$.scale9Width&&void 0!==$options$$.scale9Height&&$widget$$.setSize(cc.size($options$$.scale9Width,$options$$.scale9Height))):$useMergedTexture$$?$widget$$.loadTextures($normalFileName$$,$pressedFileName$$,$disabledFileName$$,ccui.Widget.PLIST_TEXTURE):$widget$$.loadTextures($normalFileName_tp$$,$pressedFileName_tp$$,$disabledFileName_tp$$);void 0!==$options$$.text&&($scale9Enable$$6_tc_text$$=$options$$.text||"")&&$widget$$.setTitleText($scale9Enable$$6_tc_text$$);void 0!==$options$$.fontSize&&
$widget$$.setTitleFontSize($options$$.fontSize);void 0!==$options$$.fontName&&$widget$$.setTitleFontName($options$$.fontName);$scale9Enable$$6_tc_text$$=cc.color(void 0!==$options$$.textColorR?$options$$.textColorR:255,void 0!==$options$$.textColorG?$options$$.textColorG:255,void 0!==$options$$.textColorB?$options$$.textColorB:255);$widget$$.setTitleColor($scale9Enable$$6_tc_text$$);this.setColorPropsForWidgetFromJsonDictionary($widget$$,$options$$)},setPropsForCheckBoxFromJsonDictionary:function($widget$$,
$options$$){this.setPropsForWidgetFromJsonDictionary($widget$$,$options$$);var $backGroundFileName$$=$options$$.backGroundBox,$backGroundSelectedFileName$$=$options$$.backGroundBoxSelected,$frontCrossFileName$$=$options$$.frontCross,$backGroundDisabledFileName$$=$options$$.backGroundBoxDisabled,$frontCrossDisabledFileName$$=$options$$.frontCrossDisabled,$frontCrossDisabledFileName_tp_locFilePath$$=this._filePath,$backGroundFileName_tp$$=$backGroundFileName$$?$frontCrossDisabledFileName_tp_locFilePath$$+
$backGroundFileName$$:null,$backGroundSelectedFileName_tp$$=$backGroundSelectedFileName$$?$frontCrossDisabledFileName_tp_locFilePath$$+$backGroundSelectedFileName$$:null,$frontCrossFileName_tp$$=$frontCrossFileName$$?$frontCrossDisabledFileName_tp_locFilePath$$+$frontCrossFileName$$:null,$backGroundDisabledFileName_tp$$=$backGroundDisabledFileName$$?$frontCrossDisabledFileName_tp_locFilePath$$+$backGroundDisabledFileName$$:null,$frontCrossDisabledFileName_tp_locFilePath$$=$frontCrossDisabledFileName$$?
$frontCrossDisabledFileName_tp_locFilePath$$+$frontCrossDisabledFileName$$:null;$options$$.useMergedTexture?$widget$$.loadTextures($backGroundFileName$$,$backGroundSelectedFileName$$,$frontCrossFileName$$,$backGroundDisabledFileName$$,$frontCrossDisabledFileName$$,ccui.Widget.PLIST_TEXTURE):$widget$$.loadTextures($backGroundFileName_tp$$,$backGroundSelectedFileName_tp$$,$frontCrossFileName_tp$$,$backGroundDisabledFileName_tp$$,$frontCrossDisabledFileName_tp_locFilePath$$);$widget$$.setSelected($options$$.selectedState||
!1);this.setColorPropsForWidgetFromJsonDictionary($widget$$,$options$$)},setPropsForImageViewFromJsonDictionary:function($widget$$,$options$$){this.setPropsForWidgetFromJsonDictionary($widget$$,$options$$);var $imageFileName$$=$options$$.fileName,$scale9Enable$$=$options$$.scale9Enable||!1;$widget$$.setScale9Enabled($scale9Enable$$);var $tp_i$$2_useMergedTexture$$=this._filePath,$imageFileName_tp$$=null;$imageFileName$$&&($imageFileName_tp$$=$tp_i$$2_useMergedTexture$$+$imageFileName$$);$tp_i$$2_useMergedTexture$$=
$options$$.useMergedTexture;$scale9Enable$$?($tp_i$$2_useMergedTexture$$?$widget$$.loadTexture($imageFileName$$,ccui.Widget.PLIST_TEXTURE):$widget$$.loadTexture($imageFileName_tp$$),void 0!==$options$$.scale9Width&&void 0!==$options$$.scale9Height&&$widget$$.setSize(cc.size($options$$.scale9Width,$options$$.scale9Height)),$widget$$.setCapInsets(cc.rect($options$$.capInsetsX,$options$$.capInsetsY,$options$$.capInsetsWidth,$options$$.capInsetsHeight))):$tp_i$$2_useMergedTexture$$?$widget$$.loadTexture($imageFileName$$,
ccui.Widget.PLIST_TEXTURE):$widget$$.loadTexture($imageFileName_tp$$);this.setColorPropsForWidgetFromJsonDictionary($widget$$,$options$$)},setPropsForLabelFromJsonDictionary:function($widget$$,$options$$){this.setPropsForWidgetFromJsonDictionary($widget$$,$options$$);$widget$$.setTouchScaleChangeEnabled($options$$.touchScaleEnable);$widget$$.setString($options$$.text);void 0!==$options$$.fontSize&&$widget$$.setFontSize($options$$.fontSize);void 0!==$options$$.fontName&&$widget$$.setFontName($options$$.fontName);
if(void 0!==$options$$.areaWidth&&void 0!==$options$$.areaHeight){var $size$$=cc.size($options$$.areaWidth,$options$$.areaHeight);$widget$$.setTextAreaSize($size$$)}$options$$.hAlignment&&$widget$$.setTextHorizontalAlignment($options$$.hAlignment);$options$$.vAlignment&&$widget$$.setTextVerticalAlignment($options$$.vAlignment);this.setColorPropsForWidgetFromJsonDictionary($widget$$,$options$$)},setPropsForLabelAtlasFromJsonDictionary:function($widget$$,$options$$){this.setPropsForWidgetFromJsonDictionary($widget$$,
$options$$);var $cmft$$=$options$$.charMapFileData,$svValue$$=$options$$.stringValue,$iwValue$$=$options$$.itemWidth,$ihValue$$=$options$$.itemHeight,$scmValue$$=$options$$.startCharMap;void 0!==$svValue$$&&void 0!==$cmft$$&&void 0!==$iwValue$$&&void 0!==$ihValue$$&&void 0!==$scmValue$$&&$cmft$$&&$widget$$.setProperty($svValue$$,this._filePath+$cmft$$,$iwValue$$,$ihValue$$,$scmValue$$);this.setColorPropsForWidgetFromJsonDictionary($widget$$,$options$$)},setPropsForLayoutFromJsonDictionary:function($widget$$,
$options$$){this.setPropsForWidgetFromJsonDictionary($widget$$,$options$$);$widget$$ instanceof ccui.ScrollView||$widget$$ instanceof ccui.ListView||$widget$$.setClippingEnabled($options$$.clipAble);var $backGroundScale9Enable$$=$options$$.backGroundScale9Enable;$widget$$.setBackGroundImageScale9Enabled($backGroundScale9Enable$$);var $cr$$12_imageFileName$$=$options$$.bgColorR,$cg$$7_imageFileName_tp$$=$options$$.bgColorG,$cb$$=$options$$.bgColorB,$scr$$=$options$$.bgStartColorR,$scg$$=$options$$.bgStartColorG,
$scb$$=$options$$.bgStartColorB,$ecr$$=$options$$.bgEndColorR,$ecg$$=$options$$.bgEndColorG,$ecb$$=$options$$.bgEndColorB;$widget$$.setBackGroundColorVector(cc.p($options$$.vectorX,$options$$.vectorY));var $co$$=$options$$.bgColorOpacity;$widget$$.setBackGroundColorType($options$$.colorType);$widget$$.setBackGroundColor(cc.color($scr$$,$scg$$,$scb$$),cc.color($ecr$$,$ecg$$,$ecb$$));$widget$$.setBackGroundColor(cc.color($cr$$12_imageFileName$$,$cg$$7_imageFileName_tp$$,$cb$$));$widget$$.setBackGroundColorOpacity($co$$);
$cg$$7_imageFileName_tp$$=($cr$$12_imageFileName$$=$options$$.backGroundImage)?this._filePath+$cr$$12_imageFileName$$:null;$options$$.useMergedTexture?$widget$$.setBackGroundImage($cr$$12_imageFileName$$,ccui.Widget.PLIST_TEXTURE):$widget$$.setBackGroundImage($cg$$7_imageFileName_tp$$);$backGroundScale9Enable$$&&$widget$$.setBackGroundImageCapInsets(cc.rect($options$$.capInsetsX,$options$$.capInsetsY,$options$$.capInsetsWidth,$options$$.capInsetsHeight));this.setColorPropsForWidgetFromJsonDictionary($widget$$,
$options$$)},setPropsForScrollViewFromJsonDictionary:function($widget$$,$options$$){this.setPropsForLayoutFromJsonDictionary($widget$$,$options$$);$widget$$.setInnerContainerSize(cc.size($options$$.innerWidth,$options$$.innerHeight));$widget$$.setDirection($options$$.direction);$widget$$.setBounceEnabled($options$$.bounceEnable);this.setColorPropsForWidgetFromJsonDictionary($widget$$,$options$$)},setPropsForContainerWidgetFromJsonDictionary:function($widget$$,$options$$){this.setPropsForWidgetFromJsonDictionary($widget$$,
$options$$);($widget$$ instanceof ccui.ScrollView||$widget$$ instanceof ccui.ListView)&&$widget$$.setClippingEnabled($options$$.clipAble);this.setColorPropsForWidgetFromJsonDictionary($widget$$,$options$$)},setPropsForSliderFromJsonDictionary:function($widget$$,$options$$){this.setPropsForWidgetFromJsonDictionary($widget$$,$options$$);var $barTextureScale9Enable$$2_imageFileName$$18_pressedFileName$$=$options$$.barTextureScale9Enable||!1;$widget$$.setScale9Enabled($barTextureScale9Enable$$2_imageFileName$$18_pressedFileName$$);
var $barLength$$2_normalFileName$$=$options$$.length,$useMergedTexture$$=$options$$.useMergedTexture;if(void 0!==$options$$.barFileName)if($barTextureScale9Enable$$2_imageFileName$$18_pressedFileName$$){var $disabledFileName$$4_imageFileName_tp$$=($barTextureScale9Enable$$2_imageFileName$$18_pressedFileName$$=$options$$.barFileName)?this._filePath+$barTextureScale9Enable$$2_imageFileName$$18_pressedFileName$$:null;$useMergedTexture$$?$widget$$.loadBarTexture($barTextureScale9Enable$$2_imageFileName$$18_pressedFileName$$,
ccui.Widget.PLIST_TEXTURE):$widget$$.loadBarTexture($disabledFileName$$4_imageFileName_tp$$);$widget$$.setSize(cc.size($barLength$$2_normalFileName$$,$widget$$.getContentSize().height))}else $disabledFileName$$4_imageFileName_tp$$=($barTextureScale9Enable$$2_imageFileName$$18_pressedFileName$$=$options$$.barFileName)?this._filePath+$barTextureScale9Enable$$2_imageFileName$$18_pressedFileName$$:null,$useMergedTexture$$?$widget$$.loadBarTexture($barTextureScale9Enable$$2_imageFileName$$18_pressedFileName$$,
ccui.Widget.PLIST_TEXTURE):$widget$$.loadBarTexture($disabledFileName$$4_imageFileName_tp$$);var $barLength$$2_normalFileName$$=$options$$.ballNormal,$barTextureScale9Enable$$2_imageFileName$$18_pressedFileName$$=$options$$.ballPressed,$disabledFileName$$4_imageFileName_tp$$=$options$$.ballDisabled,$normalFileName_tp$$=$barLength$$2_normalFileName$$?this._filePath+$barLength$$2_normalFileName$$:null,$pressedFileName_tp$$=$barTextureScale9Enable$$2_imageFileName$$18_pressedFileName$$?this._filePath+
$barTextureScale9Enable$$2_imageFileName$$18_pressedFileName$$:null,$disabledFileName_tp$$=$disabledFileName$$4_imageFileName_tp$$?this._filePath+$disabledFileName$$4_imageFileName_tp$$:null;$useMergedTexture$$?$widget$$.loadSlidBallTextures($barLength$$2_normalFileName$$,$barTextureScale9Enable$$2_imageFileName$$18_pressedFileName$$,$disabledFileName$$4_imageFileName_tp$$,ccui.Widget.PLIST_TEXTURE):$widget$$.loadSlidBallTextures($normalFileName_tp$$,$pressedFileName_tp$$,$disabledFileName_tp$$);
$widget$$.setPercent($options$$.percent);$disabledFileName$$4_imageFileName_tp$$=($barTextureScale9Enable$$2_imageFileName$$18_pressedFileName$$=$options$$.progressBarFileName)?this._filePath+$barTextureScale9Enable$$2_imageFileName$$18_pressedFileName$$:null;$useMergedTexture$$?$widget$$.loadProgressBarTexture($barTextureScale9Enable$$2_imageFileName$$18_pressedFileName$$,ccui.Widget.PLIST_TEXTURE):$widget$$.loadProgressBarTexture($disabledFileName$$4_imageFileName_tp$$);this.setColorPropsForWidgetFromJsonDictionary($widget$$,
$options$$)},setPropsForTextAreaFromJsonDictionary:function($widget$$,$options$$){this.setPropsForWidgetFromJsonDictionary($widget$$,$options$$);$widget$$.setString($options$$.text);void 0!==$options$$.fontSize&&$widget$$.setFontSize($options$$.fontSize);var $cr$$13_size$$=$options$$.colorR,$cg$$=$options$$.colorG,$cb$$=$options$$.colorB;$widget$$.setColor(cc.color(null==$cr$$13_size$$?255:$cr$$13_size$$,null==$cg$$?255:$cg$$,null==$cb$$?255:$cb$$));$widget$$.setFontName($options$$.fontName);void 0!==
$options$$.areaWidth&&void 0!==$options$$.areaHeight&&($cr$$13_size$$=cc.size($options$$.areaWidth,$options$$.areaHeight),$widget$$.setTextAreaSize($cr$$13_size$$));$options$$.hAlignment&&$widget$$.setTextHorizontalAlignment($options$$.hAlignment);$options$$.vAlignment&&$widget$$.setTextVerticalAlignment($options$$.vAlignment);this.setColorPropsForWidgetFromJsonDictionary($widget$$,$options$$)},setPropsForTextButtonFromJsonDictionary:function($widget$$,$options$$){this.setPropsForButtonFromJsonDictionary($widget$$,
$options$$);$widget$$.setTitleText($options$$.text||"");$widget$$.setTitleColor(cc.color(void 0!==$options$$.textColorR?$options$$.textColorR:255,void 0!==$options$$.textColorG?$options$$.textColorG:255,void 0!==$options$$.textColorB?$options$$.textColorB:255));void 0!==$options$$.fontSize&&$widget$$.setTitleFontSize($options$$.fontSize);void 0!==$options$$.fontName&&$widget$$.setTitleFontName($options$$.fontName);this.setColorPropsForWidgetFromJsonDictionary($widget$$,$options$$)},setPropsForTextFieldFromJsonDictionary:function($widget$$,
$options$$){this.setPropsForWidgetFromJsonDictionary($widget$$,$options$$);void 0!==$options$$.placeHolder&&$widget$$.setPlaceHolder($options$$.placeHolder);$widget$$.setString($options$$.text);void 0!==$options$$.fontSize&&$widget$$.setFontSize($options$$.fontSize);void 0!==$options$$.fontName&&$widget$$.setFontName($options$$.fontName);void 0!==$options$$.touchSizeWidth&&void 0!==$options$$.touchSizeHeight&&$widget$$.setTouchSize(cc.size($options$$.touchSizeWidth,$options$$.touchSizeHeight));var $maxLengthEnable$$2_passwordEnable$$=
$options$$.maxLengthEnable;$widget$$.setMaxLengthEnabled($maxLengthEnable$$2_passwordEnable$$);$maxLengthEnable$$2_passwordEnable$$&&$widget$$.setMaxLength($options$$.maxLength);$maxLengthEnable$$2_passwordEnable$$=$options$$.passwordEnable;$widget$$.setPasswordEnabled($maxLengthEnable$$2_passwordEnable$$);$maxLengthEnable$$2_passwordEnable$$&&$widget$$.setPasswordStyleText($options$$.passwordStyleText);this.setColorPropsForWidgetFromJsonDictionary($widget$$,$options$$)},setPropsForLoadingBarFromJsonDictionary:function($widget$$,
$options$$){this.setPropsForWidgetFromJsonDictionary($widget$$,$options$$);var $imageFileName$$=$options$$.texture,$imageFileName_tp$$=$imageFileName$$?this._filePath+$imageFileName$$:null;$options$$.useMergedTexture?$widget$$.loadTexture($imageFileName$$,ccui.Widget.PLIST_TEXTURE):$widget$$.loadTexture($imageFileName_tp$$);$widget$$.setDirection($options$$.direction);$widget$$.setPercent($options$$.percent);this.setColorPropsForWidgetFromJsonDictionary($widget$$,$options$$)},setPropsForListViewFromJsonDictionary:function($widget$$,
$options$$){this.setPropsForLayoutFromJsonDictionary($widget$$,$options$$)},setPropsForPageViewFromJsonDictionary:function($widget$$,$options$$){this.setPropsForLayoutFromJsonDictionary($widget$$,$options$$)},setPropsForLabelBMFontFromJsonDictionary:function($widget$$,$options$$){this.setPropsForWidgetFromJsonDictionary($widget$$,$options$$);$widget$$.setFntFile(this._filePath+$options$$.fileName);$widget$$.setString($options$$.text);this.setColorPropsForWidgetFromJsonDictionary($widget$$,$options$$)}});
ccs.WidgetPropertiesReader0300=ccs.WidgetPropertiesReader.extend({createWidget:function($jsonDict$$,$fileDesignWidth$$2_fullPath$$,$fileName$$){this._filePath=""==$fileDesignWidth$$2_fullPath$$?$fileDesignWidth$$2_fullPath$$:cc.path.join($fileDesignWidth$$2_fullPath$$,"/");for(var $fileDesignHeight$$2_textures$$=$jsonDict$$.textures,$i$$518_widget$$78_winSize$$=0;$i$$518_widget$$78_winSize$$<$fileDesignHeight$$2_textures$$.length;$i$$518_widget$$78_winSize$$++){var $size$$114_tp$$=$fileDesignWidth$$2_fullPath$$,
$size$$114_tp$$=$size$$114_tp$$+$fileDesignHeight$$2_textures$$[$i$$518_widget$$78_winSize$$];cc.spriteFrameCache.addSpriteFrames($size$$114_tp$$)}$fileDesignWidth$$2_fullPath$$=$jsonDict$$.designWidth;$fileDesignHeight$$2_textures$$=$jsonDict$$.designHeight;0>=$fileDesignWidth$$2_fullPath$$||0>=$fileDesignHeight$$2_textures$$?(cc.log("Read design size error!"),$i$$518_widget$$78_winSize$$=cc.director.getWinSize(),ccs.uiReader.storeFileDesignSize($fileName$$,$i$$518_widget$$78_winSize$$)):ccs.uiReader.storeFileDesignSize($fileName$$,
cc.size($fileDesignWidth$$2_fullPath$$,$fileDesignHeight$$2_textures$$));$i$$518_widget$$78_winSize$$=this.widgetFromJsonDictionary($jsonDict$$.widgetTree);$size$$114_tp$$=$i$$518_widget$$78_winSize$$.getContentSize();0==$size$$114_tp$$.width&&0==$size$$114_tp$$.height&&$i$$518_widget$$78_winSize$$.setSize(cc.size($fileDesignWidth$$2_fullPath$$,$fileDesignHeight$$2_textures$$));ccs.actionManager.initWithDictionary($fileName$$,$jsonDict$$.animation,$i$$518_widget$$78_winSize$$);return $i$$518_widget$$78_winSize$$},
setPropsForAllWidgetFromJsonDictionary:function($reader$$,$widget$$,$options$$){$reader$$&&$reader$$.setPropsFromJsonDictionary&&$reader$$.setPropsFromJsonDictionary($widget$$,$options$$)},setPropsForAllCustomWidgetFromJsonDictionary:function($classType$$,$widget$$,$customOptions$$){var $guiReader_selector$$=ccs.uiReader,$object$$=$guiReader_selector$$.getParseObjectMap()[$classType$$],$guiReader_selector$$=$guiReader_selector$$.getParseCallBackMap()[$classType$$];$object$$&&$guiReader_selector$$&&
$guiReader_selector$$.call($object$$,$classType$$,$widget$$,$customOptions$$)},widgetFromJsonDictionary:function($childrenItem_data$$){var $classname$$4_i$$=$childrenItem_data$$.classname,$child$$79_customJsonDict$$2_uiOptions$$=$childrenItem_data$$.options,$widget$$=this._createGUI($classname$$4_i$$),$AnchorPointIn_position$$34_reader$$5_readerName$$=this._getWidgetReaderClassName($classname$$4_i$$);($AnchorPointIn_position$$34_reader$$5_readerName$$=this._createWidgetReaderProtocol($AnchorPointIn_position$$34_reader$$5_readerName$$))?
this.setPropsForAllWidgetFromJsonDictionary($AnchorPointIn_position$$34_reader$$5_readerName$$,$widget$$,$child$$79_customJsonDict$$2_uiOptions$$):($AnchorPointIn_position$$34_reader$$5_readerName$$=this._getWidgetReaderClassNameFromWidget($widget$$),($AnchorPointIn_position$$34_reader$$5_readerName$$=ccs.objectFactory.createObject($AnchorPointIn_position$$34_reader$$5_readerName$$))&&$widget$$?(this.setPropsForAllWidgetFromJsonDictionary($AnchorPointIn_position$$34_reader$$5_readerName$$,$widget$$,
$child$$79_customJsonDict$$2_uiOptions$$),$child$$79_customJsonDict$$2_uiOptions$$=JSON.parse($child$$79_customJsonDict$$2_uiOptions$$.customProperty),this.setPropsForAllCustomWidgetFromJsonDictionary($classname$$4_i$$,$widget$$,$child$$79_customJsonDict$$2_uiOptions$$)):cc.log("Widget or WidgetReader doesn't exists!!!  Please check your json file."));$childrenItem_data$$=$childrenItem_data$$.children;for($classname$$4_i$$=0;$classname$$4_i$$<$childrenItem_data$$.length;$classname$$4_i$$++)if($child$$79_customJsonDict$$2_uiOptions$$=
this.widgetFromJsonDictionary($childrenItem_data$$[$classname$$4_i$$]))if($widget$$ instanceof ccui.PageView)$widget$$.addPage($child$$79_customJsonDict$$2_uiOptions$$);else if($widget$$ instanceof ccui.ListView)$widget$$.pushBackCustomItem($child$$79_customJsonDict$$2_uiOptions$$);else{if(!($widget$$ instanceof ccui.Layout)){if($child$$79_customJsonDict$$2_uiOptions$$.getPositionType()==ccui.Widget.POSITION_PERCENT){var $AnchorPointIn_position$$34_reader$$5_readerName$$=$child$$79_customJsonDict$$2_uiOptions$$.getPositionPercent(),
$anchor$$=$widget$$.getAnchorPoint();$child$$79_customJsonDict$$2_uiOptions$$.setPositionPercent(cc.p($AnchorPointIn_position$$34_reader$$5_readerName$$.x+$anchor$$.x,$AnchorPointIn_position$$34_reader$$5_readerName$$.y+$anchor$$.y))}$AnchorPointIn_position$$34_reader$$5_readerName$$=$widget$$.getAnchorPointInPoints();$child$$79_customJsonDict$$2_uiOptions$$.setPosition(cc.p($child$$79_customJsonDict$$2_uiOptions$$.getPositionX()+$AnchorPointIn_position$$34_reader$$5_readerName$$.x,$child$$79_customJsonDict$$2_uiOptions$$.getPositionY()+
$AnchorPointIn_position$$34_reader$$5_readerName$$.y))}$widget$$.addChild($child$$79_customJsonDict$$2_uiOptions$$)}return $widget$$},setPropsForWidgetFromJsonDictionary:function($widget$$,$options$$){var $layoutParameterDic$$2_name$$=$options$$.name;$widget$$.setName($layoutParameterDic$$2_name$$?$layoutParameterDic$$2_name$$:"default");void 0!==$options$$.ignoreSize&&$widget$$.ignoreContentAdaptWithSize($options$$.ignoreSize);$widget$$.setSizeType($options$$.sizeType);$widget$$.setPositionType($options$$.positionType);
$widget$$.setSizePercent(cc.p($options$$.sizePercentX,$options$$.sizePercentY));$widget$$.setPositionPercent(cc.p($options$$.positionPercentX,$options$$.positionPercentY));$widget$$.setSize(cc.size($options$$.width,$options$$.height));$widget$$.setTag($options$$.tag);$widget$$.setActionTag($options$$.actiontag);$widget$$.setTouchEnabled($options$$.touchAble);$widget$$.setPosition(cc.p($options$$.x,$options$$.y));void 0!==$options$$.scaleX&&$widget$$.setScaleX($options$$.scaleX);void 0!==$options$$.scaleY&&
$widget$$.setScaleY($options$$.scaleY);void 0!==$options$$.rotation&&$widget$$.setRotation($options$$.rotation);void 0!==$options$$.visible&&$widget$$.setVisible($options$$.visible);$widget$$.setLocalZOrder($options$$.ZOrder);if($layoutParameterDic$$2_name$$=$options$$.layoutParameter){var $parameter$$;switch($layoutParameterDic$$2_name$$.type){case 1:$parameter$$=new ccui.LinearLayoutParameter;$parameter$$.setGravity($layoutParameterDic$$2_name$$.gravity);break;case 2:$parameter$$=new ccui.RelativeLayoutParameter,
$parameter$$.setRelativeName($layoutParameterDic$$2_name$$.relativeName),$parameter$$.setRelativeToWidgetName($layoutParameterDic$$2_name$$.relativeToName),$parameter$$.setAlign($layoutParameterDic$$2_name$$.align)}$parameter$$.setMargin(new ccui.Margin($layoutParameterDic$$2_name$$.marginLeft,$layoutParameterDic$$2_name$$.marginTop,$layoutParameterDic$$2_name$$.marginRight,$layoutParameterDic$$2_name$$.marginDown));$widget$$.setLayoutParameter($parameter$$)}},setColorPropsForWidgetFromJsonDictionary:function($widget$$,
$options$$){void 0!==$options$$.opacity&&$widget$$.setOpacity($options$$.opacity);$widget$$.setColor(cc.color(void 0!==$options$$.colorR?$options$$.colorR:255,void 0!==$options$$.colorG?$options$$.colorG:255,void 0!==$options$$.colorB?$options$$.colorB:255));var $apx$$5_flipY$$=void 0!==$options$$.anchorPointX?$options$$.anchorPointX:$widget$$.getWidgetType()==ccui.Widget.TYPE_WIDGET?.5:0,$apy$$=void 0!==$options$$.anchorPointY?$options$$.anchorPointY:$widget$$.getWidgetType()==ccui.Widget.TYPE_WIDGET?
.5:0;$widget$$.setAnchorPoint($apx$$5_flipY$$,$apy$$);$apx$$5_flipY$$=$options$$.flipY;$widget$$.setFlippedX($options$$.flipX);$widget$$.setFlippedY($apx$$5_flipY$$)},setPropsForButtonFromJsonDictionary:function($widget$$,$options$$){this.setPropsForWidgetFromJsonDictionary($widget$$,$options$$);var $scale9Enable$$8_tc$$1_text$$=$options$$.scale9Enable;$widget$$.setScale9Enabled($scale9Enable$$8_tc$$1_text$$);var $disabledDic$$4_disabledFileName$$5_normalDic$$4_normalFileName$$4_pressedDic$$4_pressedFileName$$=
$options$$.normalData;switch($disabledDic$$4_disabledFileName$$5_normalDic$$4_normalFileName$$4_pressedDic$$4_pressedFileName$$.resourceType){case 0:$disabledDic$$4_disabledFileName$$5_normalDic$$4_normalFileName$$4_pressedDic$$4_pressedFileName$$=$disabledDic$$4_disabledFileName$$5_normalDic$$4_normalFileName$$4_pressedDic$$4_pressedFileName$$.path;$widget$$.loadTextureNormal($disabledDic$$4_disabledFileName$$5_normalDic$$4_normalFileName$$4_pressedDic$$4_pressedFileName$$?this._filePath+$disabledDic$$4_disabledFileName$$5_normalDic$$4_normalFileName$$4_pressedDic$$4_pressedFileName$$:
null);break;case 1:$disabledDic$$4_disabledFileName$$5_normalDic$$4_normalFileName$$4_pressedDic$$4_pressedFileName$$=$disabledDic$$4_disabledFileName$$5_normalDic$$4_normalFileName$$4_pressedDic$$4_pressedFileName$$.path,$widget$$.loadTextureNormal($disabledDic$$4_disabledFileName$$5_normalDic$$4_normalFileName$$4_pressedDic$$4_pressedFileName$$,ccui.Widget.PLIST_TEXTURE)}$disabledDic$$4_disabledFileName$$5_normalDic$$4_normalFileName$$4_pressedDic$$4_pressedFileName$$=$options$$.pressedData;switch($disabledDic$$4_disabledFileName$$5_normalDic$$4_normalFileName$$4_pressedDic$$4_pressedFileName$$.resourceType){case 0:$disabledDic$$4_disabledFileName$$5_normalDic$$4_normalFileName$$4_pressedDic$$4_pressedFileName$$=
$disabledDic$$4_disabledFileName$$5_normalDic$$4_normalFileName$$4_pressedDic$$4_pressedFileName$$.path;$widget$$.loadTexturePressed($disabledDic$$4_disabledFileName$$5_normalDic$$4_normalFileName$$4_pressedDic$$4_pressedFileName$$?this._filePath+$disabledDic$$4_disabledFileName$$5_normalDic$$4_normalFileName$$4_pressedDic$$4_pressedFileName$$:null);break;case 1:$disabledDic$$4_disabledFileName$$5_normalDic$$4_normalFileName$$4_pressedDic$$4_pressedFileName$$=$disabledDic$$4_disabledFileName$$5_normalDic$$4_normalFileName$$4_pressedDic$$4_pressedFileName$$.path,
$widget$$.loadTexturePressed($disabledDic$$4_disabledFileName$$5_normalDic$$4_normalFileName$$4_pressedDic$$4_pressedFileName$$,ccui.Widget.PLIST_TEXTURE)}$disabledDic$$4_disabledFileName$$5_normalDic$$4_normalFileName$$4_pressedDic$$4_pressedFileName$$=$options$$.disabledData;switch($disabledDic$$4_disabledFileName$$5_normalDic$$4_normalFileName$$4_pressedDic$$4_pressedFileName$$.resourceType){case 0:$disabledDic$$4_disabledFileName$$5_normalDic$$4_normalFileName$$4_pressedDic$$4_pressedFileName$$=
$disabledDic$$4_disabledFileName$$5_normalDic$$4_normalFileName$$4_pressedDic$$4_pressedFileName$$.path;$widget$$.loadTextureDisabled($disabledDic$$4_disabledFileName$$5_normalDic$$4_normalFileName$$4_pressedDic$$4_pressedFileName$$?this._filePath+$disabledDic$$4_disabledFileName$$5_normalDic$$4_normalFileName$$4_pressedDic$$4_pressedFileName$$:null);break;case 1:$disabledDic$$4_disabledFileName$$5_normalDic$$4_normalFileName$$4_pressedDic$$4_pressedFileName$$=$disabledDic$$4_disabledFileName$$5_normalDic$$4_normalFileName$$4_pressedDic$$4_pressedFileName$$.path,
$widget$$.loadTextureDisabled($disabledDic$$4_disabledFileName$$5_normalDic$$4_normalFileName$$4_pressedDic$$4_pressedFileName$$,ccui.Widget.PLIST_TEXTURE)}$scale9Enable$$8_tc$$1_text$$&&($widget$$.setCapInsets(cc.rect($options$$.capInsetsX,$options$$.capInsetsY,$options$$.capInsetsWidth,$options$$.capInsetsHeight)),void 0!==$options$$.scale9Width&&void 0!==$options$$.scale9Height&&$widget$$.setSize(cc.size($options$$.scale9Width,$options$$.scale9Height)));void 0!==$options$$.text&&($scale9Enable$$8_tc$$1_text$$=
$options$$.text||"")&&$widget$$.setTitleText($scale9Enable$$8_tc$$1_text$$);void 0!==$options$$.fontSize&&$widget$$.setTitleFontSize($options$$.fontSize);void 0!==$options$$.fontName&&$widget$$.setTitleFontName($options$$.fontName);$scale9Enable$$8_tc$$1_text$$=cc.color(void 0!==$options$$.textColorR?$options$$.textColorR:255,void 0!==$options$$.textColorG?$options$$.textColorG:255,void 0!==$options$$.textColorB?$options$$.textColorB:255);$widget$$.setTitleColor($scale9Enable$$8_tc$$1_text$$);this.setColorPropsForWidgetFromJsonDictionary($widget$$,
$options$$)},setPropsForCheckBoxFromJsonDictionary:function($widget$$,$options$$){this.setPropsForWidgetFromJsonDictionary($widget$$,$options$$);var $backGroundDic$$2_backGroundDisabledDic$$2_backGroundDisabledFileName$$3_backGroundFileName$$1_backGroundSelectedDic$$2_backGroundSelectedFileName$$1_frontCrossDic$$2_frontCrossDisabledFileName$$3_frontCrossFileName$$=$options$$.backGroundBoxData;switch($backGroundDic$$2_backGroundDisabledDic$$2_backGroundDisabledFileName$$3_backGroundFileName$$1_backGroundSelectedDic$$2_backGroundSelectedFileName$$1_frontCrossDic$$2_frontCrossDisabledFileName$$3_frontCrossFileName$$.resourceType){case 0:$backGroundDic$$2_backGroundDisabledDic$$2_backGroundDisabledFileName$$3_backGroundFileName$$1_backGroundSelectedDic$$2_backGroundSelectedFileName$$1_frontCrossDic$$2_frontCrossDisabledFileName$$3_frontCrossFileName$$=
$backGroundDic$$2_backGroundDisabledDic$$2_backGroundDisabledFileName$$3_backGroundFileName$$1_backGroundSelectedDic$$2_backGroundSelectedFileName$$1_frontCrossDic$$2_frontCrossDisabledFileName$$3_frontCrossFileName$$.path;$widget$$.loadTextureBackGround($backGroundDic$$2_backGroundDisabledDic$$2_backGroundDisabledFileName$$3_backGroundFileName$$1_backGroundSelectedDic$$2_backGroundSelectedFileName$$1_frontCrossDic$$2_frontCrossDisabledFileName$$3_frontCrossFileName$$?this._filePath+$backGroundDic$$2_backGroundDisabledDic$$2_backGroundDisabledFileName$$3_backGroundFileName$$1_backGroundSelectedDic$$2_backGroundSelectedFileName$$1_frontCrossDic$$2_frontCrossDisabledFileName$$3_frontCrossFileName$$:
null);break;case 1:$backGroundDic$$2_backGroundDisabledDic$$2_backGroundDisabledFileName$$3_backGroundFileName$$1_backGroundSelectedDic$$2_backGroundSelectedFileName$$1_frontCrossDic$$2_frontCrossDisabledFileName$$3_frontCrossFileName$$=$backGroundDic$$2_backGroundDisabledDic$$2_backGroundDisabledFileName$$3_backGroundFileName$$1_backGroundSelectedDic$$2_backGroundSelectedFileName$$1_frontCrossDic$$2_frontCrossDisabledFileName$$3_frontCrossFileName$$.path,$widget$$.loadTextureBackGround($backGroundDic$$2_backGroundDisabledDic$$2_backGroundDisabledFileName$$3_backGroundFileName$$1_backGroundSelectedDic$$2_backGroundSelectedFileName$$1_frontCrossDic$$2_frontCrossDisabledFileName$$3_frontCrossFileName$$,
ccui.Widget.PLIST_TEXTURE)}$backGroundDic$$2_backGroundDisabledDic$$2_backGroundDisabledFileName$$3_backGroundFileName$$1_backGroundSelectedDic$$2_backGroundSelectedFileName$$1_frontCrossDic$$2_frontCrossDisabledFileName$$3_frontCrossFileName$$=$options$$.backGroundBoxSelectedData;switch($backGroundDic$$2_backGroundDisabledDic$$2_backGroundDisabledFileName$$3_backGroundFileName$$1_backGroundSelectedDic$$2_backGroundSelectedFileName$$1_frontCrossDic$$2_frontCrossDisabledFileName$$3_frontCrossFileName$$.resourceType){case 0:$backGroundDic$$2_backGroundDisabledDic$$2_backGroundDisabledFileName$$3_backGroundFileName$$1_backGroundSelectedDic$$2_backGroundSelectedFileName$$1_frontCrossDic$$2_frontCrossDisabledFileName$$3_frontCrossFileName$$=
$backGroundDic$$2_backGroundDisabledDic$$2_backGroundDisabledFileName$$3_backGroundFileName$$1_backGroundSelectedDic$$2_backGroundSelectedFileName$$1_frontCrossDic$$2_frontCrossDisabledFileName$$3_frontCrossFileName$$.path;$widget$$.loadTextureBackGroundSelected($backGroundDic$$2_backGroundDisabledDic$$2_backGroundDisabledFileName$$3_backGroundFileName$$1_backGroundSelectedDic$$2_backGroundSelectedFileName$$1_frontCrossDic$$2_frontCrossDisabledFileName$$3_frontCrossFileName$$?this._filePath+$backGroundDic$$2_backGroundDisabledDic$$2_backGroundDisabledFileName$$3_backGroundFileName$$1_backGroundSelectedDic$$2_backGroundSelectedFileName$$1_frontCrossDic$$2_frontCrossDisabledFileName$$3_frontCrossFileName$$:
null);break;case 1:$backGroundDic$$2_backGroundDisabledDic$$2_backGroundDisabledFileName$$3_backGroundFileName$$1_backGroundSelectedDic$$2_backGroundSelectedFileName$$1_frontCrossDic$$2_frontCrossDisabledFileName$$3_frontCrossFileName$$=$backGroundDic$$2_backGroundDisabledDic$$2_backGroundDisabledFileName$$3_backGroundFileName$$1_backGroundSelectedDic$$2_backGroundSelectedFileName$$1_frontCrossDic$$2_frontCrossDisabledFileName$$3_frontCrossFileName$$.path,$widget$$.loadTextureBackGroundSelected($backGroundDic$$2_backGroundDisabledDic$$2_backGroundDisabledFileName$$3_backGroundFileName$$1_backGroundSelectedDic$$2_backGroundSelectedFileName$$1_frontCrossDic$$2_frontCrossDisabledFileName$$3_frontCrossFileName$$,
ccui.Widget.PLIST_TEXTURE)}$backGroundDic$$2_backGroundDisabledDic$$2_backGroundDisabledFileName$$3_backGroundFileName$$1_backGroundSelectedDic$$2_backGroundSelectedFileName$$1_frontCrossDic$$2_frontCrossDisabledFileName$$3_frontCrossFileName$$=$options$$.frontCrossData;switch($backGroundDic$$2_backGroundDisabledDic$$2_backGroundDisabledFileName$$3_backGroundFileName$$1_backGroundSelectedDic$$2_backGroundSelectedFileName$$1_frontCrossDic$$2_frontCrossDisabledFileName$$3_frontCrossFileName$$.resourceType){case 0:$backGroundDic$$2_backGroundDisabledDic$$2_backGroundDisabledFileName$$3_backGroundFileName$$1_backGroundSelectedDic$$2_backGroundSelectedFileName$$1_frontCrossDic$$2_frontCrossDisabledFileName$$3_frontCrossFileName$$=
$backGroundDic$$2_backGroundDisabledDic$$2_backGroundDisabledFileName$$3_backGroundFileName$$1_backGroundSelectedDic$$2_backGroundSelectedFileName$$1_frontCrossDic$$2_frontCrossDisabledFileName$$3_frontCrossFileName$$.path;$widget$$.loadTextureFrontCross($backGroundDic$$2_backGroundDisabledDic$$2_backGroundDisabledFileName$$3_backGroundFileName$$1_backGroundSelectedDic$$2_backGroundSelectedFileName$$1_frontCrossDic$$2_frontCrossDisabledFileName$$3_frontCrossFileName$$?this._filePath+$backGroundDic$$2_backGroundDisabledDic$$2_backGroundDisabledFileName$$3_backGroundFileName$$1_backGroundSelectedDic$$2_backGroundSelectedFileName$$1_frontCrossDic$$2_frontCrossDisabledFileName$$3_frontCrossFileName$$:
null);break;case 1:$backGroundDic$$2_backGroundDisabledDic$$2_backGroundDisabledFileName$$3_backGroundFileName$$1_backGroundSelectedDic$$2_backGroundSelectedFileName$$1_frontCrossDic$$2_frontCrossDisabledFileName$$3_frontCrossFileName$$=$backGroundDic$$2_backGroundDisabledDic$$2_backGroundDisabledFileName$$3_backGroundFileName$$1_backGroundSelectedDic$$2_backGroundSelectedFileName$$1_frontCrossDic$$2_frontCrossDisabledFileName$$3_frontCrossFileName$$.path,$widget$$.loadTextureFrontCross($backGroundDic$$2_backGroundDisabledDic$$2_backGroundDisabledFileName$$3_backGroundFileName$$1_backGroundSelectedDic$$2_backGroundSelectedFileName$$1_frontCrossDic$$2_frontCrossDisabledFileName$$3_frontCrossFileName$$,
ccui.Widget.PLIST_TEXTURE)}$backGroundDic$$2_backGroundDisabledDic$$2_backGroundDisabledFileName$$3_backGroundFileName$$1_backGroundSelectedDic$$2_backGroundSelectedFileName$$1_frontCrossDic$$2_frontCrossDisabledFileName$$3_frontCrossFileName$$=$options$$.backGroundBoxDisabledData;switch($backGroundDic$$2_backGroundDisabledDic$$2_backGroundDisabledFileName$$3_backGroundFileName$$1_backGroundSelectedDic$$2_backGroundSelectedFileName$$1_frontCrossDic$$2_frontCrossDisabledFileName$$3_frontCrossFileName$$.resourceType){case 0:$backGroundDic$$2_backGroundDisabledDic$$2_backGroundDisabledFileName$$3_backGroundFileName$$1_backGroundSelectedDic$$2_backGroundSelectedFileName$$1_frontCrossDic$$2_frontCrossDisabledFileName$$3_frontCrossFileName$$=
$backGroundDic$$2_backGroundDisabledDic$$2_backGroundDisabledFileName$$3_backGroundFileName$$1_backGroundSelectedDic$$2_backGroundSelectedFileName$$1_frontCrossDic$$2_frontCrossDisabledFileName$$3_frontCrossFileName$$.path;$widget$$.loadTextureBackGroundDisabled($backGroundDic$$2_backGroundDisabledDic$$2_backGroundDisabledFileName$$3_backGroundFileName$$1_backGroundSelectedDic$$2_backGroundSelectedFileName$$1_frontCrossDic$$2_frontCrossDisabledFileName$$3_frontCrossFileName$$?this._filePath+$backGroundDic$$2_backGroundDisabledDic$$2_backGroundDisabledFileName$$3_backGroundFileName$$1_backGroundSelectedDic$$2_backGroundSelectedFileName$$1_frontCrossDic$$2_frontCrossDisabledFileName$$3_frontCrossFileName$$:
null);break;case 1:$backGroundDic$$2_backGroundDisabledDic$$2_backGroundDisabledFileName$$3_backGroundFileName$$1_backGroundSelectedDic$$2_backGroundSelectedFileName$$1_frontCrossDic$$2_frontCrossDisabledFileName$$3_frontCrossFileName$$=$backGroundDic$$2_backGroundDisabledDic$$2_backGroundDisabledFileName$$3_backGroundFileName$$1_backGroundSelectedDic$$2_backGroundSelectedFileName$$1_frontCrossDic$$2_frontCrossDisabledFileName$$3_frontCrossFileName$$.path,$widget$$.loadTextureBackGroundDisabled($backGroundDic$$2_backGroundDisabledDic$$2_backGroundDisabledFileName$$3_backGroundFileName$$1_backGroundSelectedDic$$2_backGroundSelectedFileName$$1_frontCrossDic$$2_frontCrossDisabledFileName$$3_frontCrossFileName$$,
ccui.Widget.PLIST_TEXTURE)}switch($options$$.frontCrossDisabledData.resourceType){case 0:$backGroundDic$$2_backGroundDisabledDic$$2_backGroundDisabledFileName$$3_backGroundFileName$$1_backGroundSelectedDic$$2_backGroundSelectedFileName$$1_frontCrossDic$$2_frontCrossDisabledFileName$$3_frontCrossFileName$$=$options$$.path;$widget$$.loadTextureFrontCrossDisabled($backGroundDic$$2_backGroundDisabledDic$$2_backGroundDisabledFileName$$3_backGroundFileName$$1_backGroundSelectedDic$$2_backGroundSelectedFileName$$1_frontCrossDic$$2_frontCrossDisabledFileName$$3_frontCrossFileName$$?
this._filePath+$backGroundDic$$2_backGroundDisabledDic$$2_backGroundDisabledFileName$$3_backGroundFileName$$1_backGroundSelectedDic$$2_backGroundSelectedFileName$$1_frontCrossDic$$2_frontCrossDisabledFileName$$3_frontCrossFileName$$:null);break;case 1:$backGroundDic$$2_backGroundDisabledDic$$2_backGroundDisabledFileName$$3_backGroundFileName$$1_backGroundSelectedDic$$2_backGroundSelectedFileName$$1_frontCrossDic$$2_frontCrossDisabledFileName$$3_frontCrossFileName$$=$options$$.path,$widget$$.loadTextureFrontCrossDisabled($backGroundDic$$2_backGroundDisabledDic$$2_backGroundDisabledFileName$$3_backGroundFileName$$1_backGroundSelectedDic$$2_backGroundSelectedFileName$$1_frontCrossDic$$2_frontCrossDisabledFileName$$3_frontCrossFileName$$,
ccui.Widget.PLIST_TEXTURE)}$widget$$.setSelectedState($options$$.selectedState||!1);$widget$$.setSelectedState($options$$,"selectedState");this.setColorPropsForWidgetFromJsonDictionary($widget$$,$options$$)},setPropsForImageViewFromJsonDictionary:function($widget$$,$options$$){this.setPropsForWidgetFromJsonDictionary($widget$$,$options$$);var $imageFileName$$20_imageFileNameDic$$=$options$$.fileNameData;switch($imageFileName$$20_imageFileNameDic$$.resourceType){case 0:var $scale9Enable$$9_tp_i$$=
this._filePath;($imageFileName$$20_imageFileNameDic$$=$imageFileName$$20_imageFileNameDic$$.path)&&$widget$$.loadTexture($scale9Enable$$9_tp_i$$+$imageFileName$$20_imageFileNameDic$$);break;case 1:$imageFileName$$20_imageFileNameDic$$=$imageFileName$$20_imageFileNameDic$$.path,$widget$$.loadTexture($imageFileName$$20_imageFileNameDic$$,ccui.Widget.PLIST_TEXTURE)}$scale9Enable$$9_tp_i$$=$options$$.scale9Enable||!1;$widget$$.setScale9Enabled($scale9Enable$$9_tp_i$$);$scale9Enable$$9_tp_i$$&&(void 0!==
$options$$.scale9Width&&void 0!==$options$$.scale9Height&&$widget$$.setSize(cc.size($options$$.scale9Width,$options$$.scale9Height)),$widget$$.setCapInsets(cc.rect($options$$.capInsetsX,$options$$.capInsetsY,$options$$.capInsetsWidth,$options$$.capInsetsHeight)));this.setColorPropsForWidgetFromJsonDictionary($widget$$,$options$$)},setPropsForLabelFromJsonDictionary:function($widget$$,$options$$){this.setPropsForWidgetFromJsonDictionary($widget$$,$options$$);$widget$$.setTouchScaleChangeEnabled($options$$.touchScaleEnable);
$widget$$.setString($options$$.text);void 0!==$options$$.fontSize&&$widget$$.setFontSize($options$$.fontSize);void 0!==$options$$.fontName&&$widget$$.setFontName($options$$.fontName);if(void 0!==$options$$.areaWidth&&void 0!==$options$$.areaHeight){var $size$$=cc.size($options$$.areaWidth,$options$$.areaHeight);$widget$$.setTextAreaSize($size$$)}$options$$.hAlignment&&$widget$$.setTextHorizontalAlignment($options$$.hAlignment);$options$$.vAlignment&&$widget$$.setTextVerticalAlignment($options$$.vAlignment);
this.setColorPropsForWidgetFromJsonDictionary($widget$$,$options$$)},setPropsForLabelAtlasFromJsonDictionary:function($widget$$,$options$$){this.setPropsForWidgetFromJsonDictionary($widget$$,$options$$);var $cmf$$2_cmftDic$$=void 0!==$options$$.charMapFile,$iw$$=void 0!==$options$$.itemWidth,$ih$$=void 0!==$options$$.itemHeight,$scm$$=void 0!==$options$$.startCharMap;if(void 0!==$options$$.stringValue&&$cmf$$2_cmftDic$$&&$iw$$&&$ih$$&&$scm$$)switch($cmf$$2_cmftDic$$=$options$$.charMapFileData,$cmf$$2_cmftDic$$.resourceType){case 0:$widget$$.setProperty($options$$.stringValue,
this._filePath+$cmf$$2_cmftDic$$.path,$options$$.itemWidth,$options$$.itemHeight,$options$$.startCharMap);break;case 1:cc.log("Wrong res type of LabelAtlas!")}this.setColorPropsForWidgetFromJsonDictionary($widget$$,$options$$)},setPropsForLayoutFromJsonDictionary:function($widget$$,$options$$){this.setPropsForWidgetFromJsonDictionary($widget$$,$options$$);$widget$$ instanceof ccui.ScrollView||$widget$$ instanceof ccui.ListView||$widget$$.setClippingEnabled($options$$.clipAble);var $backGroundScale9Enable$$=
$options$$.backGroundScale9Enable;$widget$$.setBackGroundImageScale9Enabled($backGroundScale9Enable$$);var $cr$$15_imageFileName$$21_imageFileNameDic$$=$options$$.bgColorR,$cg$$=$options$$.bgColorG,$cb$$=$options$$.bgColorB,$scr$$=$options$$.bgStartColorR,$scg$$=$options$$.bgStartColorG,$scb$$=$options$$.bgStartColorB,$ecr$$=$options$$.bgEndColorR,$ecg$$=$options$$.bgEndColorG,$ecb$$=$options$$.bgEndColorB;$widget$$.setBackGroundColorVector(cc.p($options$$.vectorX,$options$$.vectorY));var $co$$=$options$$.bgColorOpacity;
$widget$$.setBackGroundColorType($options$$.colorType);$widget$$.setBackGroundColor(cc.color($scr$$,$scg$$,$scb$$),cc.color($ecr$$,$ecg$$,$ecb$$));$widget$$.setBackGroundColor(cc.color($cr$$15_imageFileName$$21_imageFileNameDic$$,$cg$$,$cb$$));$widget$$.setBackGroundColorOpacity($co$$);$cr$$15_imageFileName$$21_imageFileNameDic$$=$options$$.backGroundImageData||{};switch($cr$$15_imageFileName$$21_imageFileNameDic$$.resourceType){case 0:$cr$$15_imageFileName$$21_imageFileNameDic$$=$cr$$15_imageFileName$$21_imageFileNameDic$$.path;
$widget$$.setBackGroundImage($cr$$15_imageFileName$$21_imageFileNameDic$$?this._filePath+$cr$$15_imageFileName$$21_imageFileNameDic$$:null);break;case 1:$cr$$15_imageFileName$$21_imageFileNameDic$$=$cr$$15_imageFileName$$21_imageFileNameDic$$.path,$widget$$.setBackGroundImage($cr$$15_imageFileName$$21_imageFileNameDic$$,ccui.Widget.PLIST_TEXTURE)}$backGroundScale9Enable$$&&$widget$$.setBackGroundImageCapInsets(cc.rect($options$$.capInsetsX,$options$$.capInsetsY,$options$$.capInsetsWidth,$options$$.capInsetsHeight));
$widget$$.setLayoutType($options$$.layoutType);this.setColorPropsForWidgetFromJsonDictionary($widget$$,$options$$)},setPropsForScrollViewFromJsonDictionary:function($widget$$,$options$$){this.setPropsForLayoutFromJsonDictionary($widget$$,$options$$);$widget$$.setInnerContainerSize(cc.size($options$$.innerWidth,$options$$.innerHeight));$widget$$.setDirection($options$$.direction);$widget$$.setBounceEnabled($options$$.bounceEnable);this.setColorPropsForWidgetFromJsonDictionary($widget$$,$options$$)},
setPropsForSliderFromJsonDictionary:function($widget$$,$options$$){this.setPropsForWidgetFromJsonDictionary($widget$$,$options$$);var $barTextureScale9Enable$$3_imageFileName$$22_imageFileNameDic$$13_imageFileName_tp$$=$options$$.barTextureScale9Enable||!1;$widget$$.setScale9Enabled($barTextureScale9Enable$$3_imageFileName$$22_imageFileNameDic$$13_imageFileName_tp$$);var $barLength$$3_disabledDic$$5_disabledFileName$$6_normalDic$$5_normalFileName$$5_pressedDic$$5_pressedFileName$$6_progressBarDic$$=
$options$$.length;if(void 0!==$options$$.barFileName)if($barTextureScale9Enable$$3_imageFileName$$22_imageFileNameDic$$13_imageFileName_tp$$){var $barTextureScale9Enable$$3_imageFileName$$22_imageFileNameDic$$13_imageFileName_tp$$=$options$$.barFileNameData,$imageFileType$$=$barTextureScale9Enable$$3_imageFileName$$22_imageFileNameDic$$13_imageFileName_tp$$.resourceType;switch($imageFileType$$){case 0:$barTextureScale9Enable$$3_imageFileName$$22_imageFileNameDic$$13_imageFileName_tp$$=($barTextureScale9Enable$$3_imageFileName$$22_imageFileNameDic$$13_imageFileName_tp$$=
$barTextureScale9Enable$$3_imageFileName$$22_imageFileNameDic$$13_imageFileName_tp$$.path)?this._filePath+$barTextureScale9Enable$$3_imageFileName$$22_imageFileNameDic$$13_imageFileName_tp$$:null;$widget$$.loadBarTexture($barTextureScale9Enable$$3_imageFileName$$22_imageFileNameDic$$13_imageFileName_tp$$);break;case 1:$barTextureScale9Enable$$3_imageFileName$$22_imageFileNameDic$$13_imageFileName_tp$$=$barTextureScale9Enable$$3_imageFileName$$22_imageFileNameDic$$13_imageFileName_tp$$.path,$widget$$.loadBarTexture($barTextureScale9Enable$$3_imageFileName$$22_imageFileNameDic$$13_imageFileName_tp$$,
ccui.Widget.PLIST_TEXTURE)}$widget$$.setSize(cc.size($barLength$$3_disabledDic$$5_disabledFileName$$6_normalDic$$5_normalFileName$$5_pressedDic$$5_pressedFileName$$6_progressBarDic$$,$widget$$.getContentSize().height))}else switch($barTextureScale9Enable$$3_imageFileName$$22_imageFileNameDic$$13_imageFileName_tp$$=$options$$.barFileNameData,$imageFileType$$=$barTextureScale9Enable$$3_imageFileName$$22_imageFileNameDic$$13_imageFileName_tp$$.resourceType,$imageFileType$$){case 0:$barTextureScale9Enable$$3_imageFileName$$22_imageFileNameDic$$13_imageFileName_tp$$=
($barTextureScale9Enable$$3_imageFileName$$22_imageFileNameDic$$13_imageFileName_tp$$=$barTextureScale9Enable$$3_imageFileName$$22_imageFileNameDic$$13_imageFileName_tp$$.path)?this._filePath+$barTextureScale9Enable$$3_imageFileName$$22_imageFileNameDic$$13_imageFileName_tp$$:null;$widget$$.loadBarTexture($barTextureScale9Enable$$3_imageFileName$$22_imageFileNameDic$$13_imageFileName_tp$$);break;case 1:$barTextureScale9Enable$$3_imageFileName$$22_imageFileNameDic$$13_imageFileName_tp$$=$barTextureScale9Enable$$3_imageFileName$$22_imageFileNameDic$$13_imageFileName_tp$$.path,
$widget$$.loadBarTexture($barTextureScale9Enable$$3_imageFileName$$22_imageFileNameDic$$13_imageFileName_tp$$,ccui.Widget.PLIST_TEXTURE)}$barLength$$3_disabledDic$$5_disabledFileName$$6_normalDic$$5_normalFileName$$5_pressedDic$$5_pressedFileName$$6_progressBarDic$$=$options$$.ballNormalData;switch($barLength$$3_disabledDic$$5_disabledFileName$$6_normalDic$$5_normalFileName$$5_pressedDic$$5_pressedFileName$$6_progressBarDic$$.resourceType){case 0:$barLength$$3_disabledDic$$5_disabledFileName$$6_normalDic$$5_normalFileName$$5_pressedDic$$5_pressedFileName$$6_progressBarDic$$=
$barLength$$3_disabledDic$$5_disabledFileName$$6_normalDic$$5_normalFileName$$5_pressedDic$$5_pressedFileName$$6_progressBarDic$$.path;$widget$$.loadSlidBallTextureNormal($barLength$$3_disabledDic$$5_disabledFileName$$6_normalDic$$5_normalFileName$$5_pressedDic$$5_pressedFileName$$6_progressBarDic$$?this._filePath+$barLength$$3_disabledDic$$5_disabledFileName$$6_normalDic$$5_normalFileName$$5_pressedDic$$5_pressedFileName$$6_progressBarDic$$:null);break;case 1:$barLength$$3_disabledDic$$5_disabledFileName$$6_normalDic$$5_normalFileName$$5_pressedDic$$5_pressedFileName$$6_progressBarDic$$=
$barLength$$3_disabledDic$$5_disabledFileName$$6_normalDic$$5_normalFileName$$5_pressedDic$$5_pressedFileName$$6_progressBarDic$$.path,$widget$$.loadSlidBallTextureNormal($barLength$$3_disabledDic$$5_disabledFileName$$6_normalDic$$5_normalFileName$$5_pressedDic$$5_pressedFileName$$6_progressBarDic$$,ccui.Widget.PLIST_TEXTURE)}$barLength$$3_disabledDic$$5_disabledFileName$$6_normalDic$$5_normalFileName$$5_pressedDic$$5_pressedFileName$$6_progressBarDic$$=$options$$.ballPressedData;switch($barLength$$3_disabledDic$$5_disabledFileName$$6_normalDic$$5_normalFileName$$5_pressedDic$$5_pressedFileName$$6_progressBarDic$$.resourceType){case 0:$barLength$$3_disabledDic$$5_disabledFileName$$6_normalDic$$5_normalFileName$$5_pressedDic$$5_pressedFileName$$6_progressBarDic$$=
$barLength$$3_disabledDic$$5_disabledFileName$$6_normalDic$$5_normalFileName$$5_pressedDic$$5_pressedFileName$$6_progressBarDic$$.path;$widget$$.loadSlidBallTexturePressed($barLength$$3_disabledDic$$5_disabledFileName$$6_normalDic$$5_normalFileName$$5_pressedDic$$5_pressedFileName$$6_progressBarDic$$?this._filePath+$barLength$$3_disabledDic$$5_disabledFileName$$6_normalDic$$5_normalFileName$$5_pressedDic$$5_pressedFileName$$6_progressBarDic$$:null);break;case 1:$barLength$$3_disabledDic$$5_disabledFileName$$6_normalDic$$5_normalFileName$$5_pressedDic$$5_pressedFileName$$6_progressBarDic$$=
$barLength$$3_disabledDic$$5_disabledFileName$$6_normalDic$$5_normalFileName$$5_pressedDic$$5_pressedFileName$$6_progressBarDic$$.path,$widget$$.loadSlidBallTexturePressed($barLength$$3_disabledDic$$5_disabledFileName$$6_normalDic$$5_normalFileName$$5_pressedDic$$5_pressedFileName$$6_progressBarDic$$,ccui.Widget.PLIST_TEXTURE)}$barLength$$3_disabledDic$$5_disabledFileName$$6_normalDic$$5_normalFileName$$5_pressedDic$$5_pressedFileName$$6_progressBarDic$$=$options$$.ballDisabledData;switch($barLength$$3_disabledDic$$5_disabledFileName$$6_normalDic$$5_normalFileName$$5_pressedDic$$5_pressedFileName$$6_progressBarDic$$.resourceType){case 0:$barLength$$3_disabledDic$$5_disabledFileName$$6_normalDic$$5_normalFileName$$5_pressedDic$$5_pressedFileName$$6_progressBarDic$$=
$barLength$$3_disabledDic$$5_disabledFileName$$6_normalDic$$5_normalFileName$$5_pressedDic$$5_pressedFileName$$6_progressBarDic$$.path;$widget$$.loadSlidBallTextureDisabled($barLength$$3_disabledDic$$5_disabledFileName$$6_normalDic$$5_normalFileName$$5_pressedDic$$5_pressedFileName$$6_progressBarDic$$?this._filePath+$barLength$$3_disabledDic$$5_disabledFileName$$6_normalDic$$5_normalFileName$$5_pressedDic$$5_pressedFileName$$6_progressBarDic$$:null);break;case 1:$barLength$$3_disabledDic$$5_disabledFileName$$6_normalDic$$5_normalFileName$$5_pressedDic$$5_pressedFileName$$6_progressBarDic$$=
$barLength$$3_disabledDic$$5_disabledFileName$$6_normalDic$$5_normalFileName$$5_pressedDic$$5_pressedFileName$$6_progressBarDic$$.path,$widget$$.loadSlidBallTextureDisabled($barLength$$3_disabledDic$$5_disabledFileName$$6_normalDic$$5_normalFileName$$5_pressedDic$$5_pressedFileName$$6_progressBarDic$$,ccui.Widget.PLIST_TEXTURE)}$barLength$$3_disabledDic$$5_disabledFileName$$6_normalDic$$5_normalFileName$$5_pressedDic$$5_pressedFileName$$6_progressBarDic$$=$options$$.progressBarData;switch($barLength$$3_disabledDic$$5_disabledFileName$$6_normalDic$$5_normalFileName$$5_pressedDic$$5_pressedFileName$$6_progressBarDic$$.resourceType){case 0:$barTextureScale9Enable$$3_imageFileName$$22_imageFileNameDic$$13_imageFileName_tp$$=
($barTextureScale9Enable$$3_imageFileName$$22_imageFileNameDic$$13_imageFileName_tp$$=$barLength$$3_disabledDic$$5_disabledFileName$$6_normalDic$$5_normalFileName$$5_pressedDic$$5_pressedFileName$$6_progressBarDic$$.path)?this._filePath+$barTextureScale9Enable$$3_imageFileName$$22_imageFileNameDic$$13_imageFileName_tp$$:null;$widget$$.loadProgressBarTexture($barTextureScale9Enable$$3_imageFileName$$22_imageFileNameDic$$13_imageFileName_tp$$);break;case 1:$barTextureScale9Enable$$3_imageFileName$$22_imageFileNameDic$$13_imageFileName_tp$$=
$barLength$$3_disabledDic$$5_disabledFileName$$6_normalDic$$5_normalFileName$$5_pressedDic$$5_pressedFileName$$6_progressBarDic$$.path,$widget$$.loadProgressBarTexture($barTextureScale9Enable$$3_imageFileName$$22_imageFileNameDic$$13_imageFileName_tp$$,ccui.Widget.PLIST_TEXTURE)}this.setColorPropsForWidgetFromJsonDictionary($widget$$,$options$$);$widget$$.setPercent($options$$.percent)},setPropsForTextAreaFromJsonDictionary:function($widget$$,$options$$){this.setPropsForWidgetFromJsonDictionary($widget$$,
$options$$);$widget$$.setString($options$$.text);void 0!==$options$$.fontSize&&$widget$$.setFontSize($options$$.fontSize);var $cr$$16_size$$=$options$$.colorR,$cg$$=$options$$.colorG,$cb$$=$options$$.colorB;$widget$$.setColor(cc.color(null==$cr$$16_size$$?255:$cr$$16_size$$,null==$cg$$?255:$cg$$,null==$cb$$?255:$cb$$));$widget$$.setFontName($options$$.fontName);void 0!==$options$$.areaWidth&&void 0!==$options$$.areaHeight&&($cr$$16_size$$=cc.size($options$$.areaWidth,$options$$.areaHeight),$widget$$.setTextAreaSize($cr$$16_size$$));
$options$$.hAlignment&&$widget$$.setTextHorizontalAlignment($options$$.hAlignment);$options$$.vAlignment&&$widget$$.setTextVerticalAlignment($options$$.vAlignment);this.setColorPropsForWidgetFromJsonDictionary($widget$$,$options$$)},setPropsForTextButtonFromJsonDictionary:function($widget$$,$options$$){this.setPropsForButtonFromJsonDictionary($widget$$,$options$$);$widget$$.setTitleText($options$$.text||"");$widget$$.setTitleColor(cc.color(void 0!==$options$$.textColorR?$options$$.textColorR:255,
void 0!==$options$$.textColorG?$options$$.textColorG:255,void 0!==$options$$.textColorB?$options$$.textColorB:255));void 0!==$options$$.fontSize&&$widget$$.setTitleFontSize($options$$.fontSize);void 0!==$options$$.fontName&&$widget$$.setTitleFontName($options$$.fontName);this.setColorPropsForWidgetFromJsonDictionary($widget$$,$options$$)},setPropsForTextFieldFromJsonDictionary:function($widget$$,$options$$){this.setPropsForWidgetFromJsonDictionary($widget$$,$options$$);void 0!==$options$$.placeHolder&&
$widget$$.setPlaceHolder($options$$.placeHolder);$widget$$.setString($options$$.text);void 0!==$options$$.fontSize&&$widget$$.setFontSize($options$$.fontSize);void 0!==$options$$.fontName&&$widget$$.setFontName($options$$.fontName);void 0!==$options$$.touchSizeWidth&&void 0!==$options$$.touchSizeHeight&&$widget$$.setTouchSize(cc.size($options$$.touchSizeWidth,$options$$.touchSizeHeight));var $maxLengthEnable$$3_passwordEnable$$=$options$$.maxLengthEnable;$widget$$.setMaxLengthEnabled($maxLengthEnable$$3_passwordEnable$$);
$maxLengthEnable$$3_passwordEnable$$&&$widget$$.setMaxLength($options$$.maxLength);$maxLengthEnable$$3_passwordEnable$$=$options$$.passwordEnable;$widget$$.setPasswordEnabled($maxLengthEnable$$3_passwordEnable$$);$maxLengthEnable$$3_passwordEnable$$&&$widget$$.setPasswordStyleText($options$$.passwordStyleText);this.setColorPropsForWidgetFromJsonDictionary($widget$$,$options$$)},setPropsForLoadingBarFromJsonDictionary:function($widget$$,$options$$){this.setPropsForWidgetFromJsonDictionary($widget$$,
$options$$);var $imageFileName$$23_imageFileNameDic$$=$options$$.textureData;switch($imageFileName$$23_imageFileNameDic$$.resourceType){case 0:var $scale9Enable$$10_tp_i$$=this._filePath;($imageFileName$$23_imageFileNameDic$$=$imageFileName$$23_imageFileNameDic$$.path)&&$widget$$.loadTexture($scale9Enable$$10_tp_i$$+$imageFileName$$23_imageFileNameDic$$);break;case 1:$imageFileName$$23_imageFileNameDic$$=$imageFileName$$23_imageFileNameDic$$.path,$widget$$.loadTexture($imageFileName$$23_imageFileNameDic$$,
ccui.Widget.PLIST_TEXTURE)}$scale9Enable$$10_tp_i$$=$options$$.scale9Enable;$widget$$.setScale9Enabled($scale9Enable$$10_tp_i$$);$scale9Enable$$10_tp_i$$&&($widget$$.setCapInsets(cc.rect($options$$.capInsetsX,$options$$.capInsetsY,$options$$.capInsetsWidth,$options$$.capInsetsHeight)),$widget$$.setSize(cc.size($options$$.width,$options$$.height)));$widget$$.setDirection($options$$.direction);$widget$$.setPercent($options$$.percent);this.setColorPropsForWidgetFromJsonDictionary($widget$$,$options$$)},
setPropsForListViewFromJsonDictionary:function($widget$$,$options$$){this.setPropsForLayoutFromJsonDictionary($widget$$,$options$$);$widget$$.setInnerContainerSize(cc.size($options$$.innerWidth||0,$options$$.innerHeight||0));$widget$$.setDirection($options$$.direction||0);$widget$$.setGravity($options$$.gravity||0);$widget$$.setItemsMargin($options$$.itemMargin||0)},setPropsForPageViewFromJsonDictionary:function($widget$$,$options$$){this.setPropsForLayoutFromJsonDictionary($widget$$,$options$$)},
setPropsForLabelBMFontFromJsonDictionary:function($widget$$,$options$$){this.setPropsForWidgetFromJsonDictionary($widget$$,$options$$);var $cmftDic$$=$options$$.fileNameData;switch($cmftDic$$.resourceType){case 0:$widget$$.setFntFile(this._filePath+$cmftDic$$.path);break;case 1:cc.log("Wrong res type of LabelAtlas!")}$widget$$.setString($options$$.text);this.setColorPropsForWidgetFromJsonDictionary($widget$$,$options$$)},widgetFromProtocolBuffers:function($nodetree$$){var $classname$$5_size$$=$nodetree$$.classname,
$widget$$=this._createGUI($classname$$5_size$$),$i$$520_reader$$6_readerName$$=this._getWidgetReaderClassName($classname$$5_size$$);($i$$520_reader$$6_readerName$$=this._createWidgetReaderProtocol($i$$520_reader$$6_readerName$$))?this.setPropsForAllWidgetFromProtocolBuffers($i$$520_reader$$6_readerName$$,$widget$$,$nodetree$$):($i$$520_reader$$6_readerName$$=this._getWidgetReaderClassNameFromWidget($widget$$),($i$$520_reader$$6_readerName$$=this._createWidgetReaderProtocol($i$$520_reader$$6_readerName$$))&&
$widget$$?(this.setPropsForAllWidgetFromProtocolBuffers($i$$520_reader$$6_readerName$$,$widget$$,$nodetree$$),this.setPropsForAllCustomWidgetFromJsonDictionary($classname$$5_size$$,$widget$$,$nodetree$$.widgetOptions.componentOptions)):cc.log("Widget or WidgetReader doesn't exists!!!  Please check your json file."));$classname$$5_size$$=$nodetree$$.children.length;for($i$$520_reader$$6_readerName$$=0;$i$$520_reader$$6_readerName$$<$classname$$5_size$$;++$i$$520_reader$$6_readerName$$){var $child$$=
this.widgetFromProtocolBuffers($nodetree$$.children[$i$$520_reader$$6_readerName$$]);if($child$$){var $listView$$5_pageView$$=$widget$$;$listView$$5_pageView$$ instanceof ccui.PageView?$listView$$5_pageView$$.addPage($child$$):($listView$$5_pageView$$=$widget$$,$listView$$5_pageView$$ instanceof ccui.ListView?$listView$$5_pageView$$.pushBackCustomItem($child$$):$widget$$.addChild($child$$))}}return $widget$$},setPropsForAllWidgetFromProtocolBuffers:function($reader$$,$widget$$,$nodetree$$){$reader$$.setPropsFromProtocolBuffers($widget$$,
$nodetree$$)},widgetFromXML:function($objectData$$,$classType$$){var $attribute_classname$$6_containChildrenElement_pageView$$=$classType$$.substr(0,$classType$$.find("ObjectData")),$widget$$=this.createGUI($attribute_classname$$6_containChildrenElement_pageView$$),$layout$$14_listView$$6_name$$120_reader$$8_readerName$$=this.getWidgetReaderClassName($attribute_classname$$6_containChildrenElement_pageView$$);($layout$$14_listView$$6_name$$120_reader$$8_readerName$$=this.createWidgetReaderProtocol($layout$$14_listView$$6_name$$120_reader$$8_readerName$$))?
this.setPropsForAllWidgetFromXML($layout$$14_listView$$6_name$$120_reader$$8_readerName$$,$widget$$,$objectData$$):($layout$$14_listView$$6_name$$120_reader$$8_readerName$$=this.getWidgetReaderClassName($widget$$),($layout$$14_listView$$6_name$$120_reader$$8_readerName$$=this.createWidgetReaderProtocol($layout$$14_listView$$6_name$$120_reader$$8_readerName$$))&&$widget$$?(this.setPropsForAllWidgetFromXML($layout$$14_listView$$6_name$$120_reader$$8_readerName$$,$widget$$,$objectData$$),(void 0).Parse(""),
(void 0).HasParseError()&&cc.log("GetParseError %s\n",(void 0).GetParseError()),this.setPropsForAllCustomWidgetFromJsonDictionary($attribute_classname$$6_containChildrenElement_pageView$$,$widget$$,void 0)):cc.log("Widget or WidgetReader doesn't exists!!!  Please check your json file."));$attribute_classname$$6_containChildrenElement_pageView$$=!1;for($objectData$$=$objectData$$.FirstChildElement();$objectData$$;){if("Children"!==$objectData$$.Name()){$attribute_classname$$6_containChildrenElement_pageView$$=
!0;break}$objectData$$=$objectData$$.NextSiblingElement()}if($attribute_classname$$6_containChildrenElement_pageView$$)for($objectData$$=$objectData$$.FirstChildElement();$objectData$$;){for($attribute_classname$$6_containChildrenElement_pageView$$=$objectData$$.FirstAttribute();$attribute_classname$$6_containChildrenElement_pageView$$;){var $layout$$14_listView$$6_name$$120_reader$$8_readerName$$=$attribute_classname$$6_containChildrenElement_pageView$$.Name(),$child$$81_value$$=$attribute_classname$$6_containChildrenElement_pageView$$.Value();
if("ctype"==$layout$$14_listView$$6_name$$120_reader$$8_readerName$$){if($child$$81_value$$=this.widgetFromXML($objectData$$,$child$$81_value$$))$layout$$14_listView$$6_name$$120_reader$$8_readerName$$=$attribute_classname$$6_containChildrenElement_pageView$$=$widget$$,$attribute_classname$$6_containChildrenElement_pageView$$ instanceof ccui.PageView?($layout$$14_listView$$6_name$$120_reader$$8_readerName$$=$child$$81_value$$,$layout$$14_listView$$6_name$$120_reader$$8_readerName$$ instanceof ccui.Layout&&
$attribute_classname$$6_containChildrenElement_pageView$$.addPage($layout$$14_listView$$6_name$$120_reader$$8_readerName$$)):$layout$$14_listView$$6_name$$120_reader$$8_readerName$$?($attribute_classname$$6_containChildrenElement_pageView$$=$child$$81_value$$,$attribute_classname$$6_containChildrenElement_pageView$$ instanceof ccui.Widget&&$layout$$14_listView$$6_name$$120_reader$$8_readerName$$.pushBackCustomItem($attribute_classname$$6_containChildrenElement_pageView$$)):$widget$$.addChild($child$$81_value$$);
break}$attribute_classname$$6_containChildrenElement_pageView$$=$attribute_classname$$6_containChildrenElement_pageView$$.Next()}$objectData$$=$objectData$$.NextSiblingElement()}return $widget$$},setPropsForAllWidgetFromXML:function($reader$$,$widget$$,$objectData$$){$reader$$.setPropsFromXML($widget$$,$objectData$$)}});
ccs.sceneReader={_baseBath:"",_listener:null,_selector:null,_node:null,createNodeWithSceneFile:function $ccs$sceneReader$createNodeWithSceneFile$($pszFileName$$){this._node=null;this._baseBath=cc.path.dirname($pszFileName$$);var $jsonDict$$=cc.loader.getRes($pszFileName$$);if(!$jsonDict$$)throw"Please load the resource first : "+$pszFileName$$;this._node=this.createObject($jsonDict$$,null);ccs.triggerManager.parse($jsonDict$$.Triggers||[]);return this._node},createObject:function $ccs$sceneReader$createObject$($inputFiles$$,
$parenet$$){var $className$$11_sprite$$=$inputFiles$$.classname;if("CCNode"==$className$$11_sprite$$){var $gb$$=null;$parenet$$?($gb$$=new cc.Node,$parenet$$.addChild($gb$$)):$gb$$=new cc.Node;this.setPropertyFromJsonDict($gb$$,$inputFiles$$);for(var $components$$=$inputFiles$$.components,$canvasSizeDict_i$$=0;$canvasSizeDict_i$$<$components$$.length;$canvasSizeDict_i$$++){var $subDict$$=$components$$[$canvasSizeDict_i$$];if(!$subDict$$)break;var $className$$11_sprite$$=$subDict$$.classname,$actionName$$2_comName$$=
$subDict$$.name,$attribute$$1_fileData_particle$$6_tmx$$=$subDict$$.fileData,$path$$19_pngFile_render_widget$$="",$plistFile$$="",$armature$$16_bLoop_jsonDict$$5_name$$=0;null!=$attribute$$1_fileData_particle$$6_tmx$$&&($armature$$16_bLoop_jsonDict$$5_name$$=void 0!==$attribute$$1_fileData_particle$$6_tmx$$.resourceType?$attribute$$1_fileData_particle$$6_tmx$$.resourceType:-1,$path$$19_pngFile_render_widget$$=cc.path.join(this._baseBath,$attribute$$1_fileData_particle$$6_tmx$$.path),$plistFile$$=
$attribute$$1_fileData_particle$$6_tmx$$.plistFile);var $pathExtname$$=cc.path.extname($path$$19_pngFile_render_widget$$);if("CCSprite"==$className$$11_sprite$$){$className$$11_sprite$$=null;if(0==$armature$$16_bLoop_jsonDict$$5_name$$){if(".png"!=$pathExtname$$)continue;$className$$11_sprite$$=new cc.Sprite($path$$19_pngFile_render_widget$$)}else if(1==$armature$$16_bLoop_jsonDict$$5_name$$){if(".plist"!=$pathExtname$$)continue;$plistFile$$=cc.path.join(this._baseBath,$plistFile$$);$path$$19_pngFile_render_widget$$=
cc.path.changeExtname($plistFile$$,".png");cc.spriteFrameCache.addSpriteFrames($plistFile$$,$path$$19_pngFile_render_widget$$);$className$$11_sprite$$=new cc.Sprite("#"+$attribute$$1_fileData_particle$$6_tmx$$.path)}else continue;$path$$19_pngFile_render_widget$$=new ccs.ComRender($className$$11_sprite$$,"CCSprite");null!=$actionName$$2_comName$$&&$path$$19_pngFile_render_widget$$.setName($actionName$$2_comName$$);$gb$$.addComponent($path$$19_pngFile_render_widget$$);this._callSelector($className$$11_sprite$$,
$subDict$$)}else if("CCTMXTiledMap"==$className$$11_sprite$$)$attribute$$1_fileData_particle$$6_tmx$$=null,0==$armature$$16_bLoop_jsonDict$$5_name$$&&".tmx"==$pathExtname$$&&($attribute$$1_fileData_particle$$6_tmx$$=new cc.TMXTiledMap($path$$19_pngFile_render_widget$$),$path$$19_pngFile_render_widget$$=new ccs.ComRender($attribute$$1_fileData_particle$$6_tmx$$,"CCTMXTiledMap"),null!=$actionName$$2_comName$$&&$path$$19_pngFile_render_widget$$.setName($actionName$$2_comName$$),$gb$$.addComponent($path$$19_pngFile_render_widget$$),
this._callSelector($attribute$$1_fileData_particle$$6_tmx$$,$subDict$$));else if("CCParticleSystemQuad"==$className$$11_sprite$$)".plist"==$pathExtname$$&&($attribute$$1_fileData_particle$$6_tmx$$=null,0==$armature$$16_bLoop_jsonDict$$5_name$$?($attribute$$1_fileData_particle$$6_tmx$$=new cc.ParticleSystem($path$$19_pngFile_render_widget$$),$attribute$$1_fileData_particle$$6_tmx$$.setPosition(0,0),$path$$19_pngFile_render_widget$$=new ccs.ComRender($attribute$$1_fileData_particle$$6_tmx$$,"CCParticleSystemQuad"),
null!=$actionName$$2_comName$$&&$path$$19_pngFile_render_widget$$.setName($actionName$$2_comName$$),$gb$$.addComponent($path$$19_pngFile_render_widget$$),this._callSelector($attribute$$1_fileData_particle$$6_tmx$$,$subDict$$)):cc.log("unknown resourcetype on CCParticleSystemQuad!"));else if("CCArmature"==$className$$11_sprite$$)0==$armature$$16_bLoop_jsonDict$$5_name$$&&(($armature$$16_bLoop_jsonDict$$5_name$$=cc.loader.getRes($path$$19_pngFile_render_widget$$))||cc.log("Please load the resource [%s] first!",
$path$$19_pngFile_render_widget$$),$armature$$16_bLoop_jsonDict$$5_name$$=$armature$$16_bLoop_jsonDict$$5_name$$.armature_data[0].name,ccs.armatureDataManager.addArmatureFileInfo($path$$19_pngFile_render_widget$$),$armature$$16_bLoop_jsonDict$$5_name$$=new ccs.Armature($armature$$16_bLoop_jsonDict$$5_name$$),$path$$19_pngFile_render_widget$$=new ccs.ComRender($armature$$16_bLoop_jsonDict$$5_name$$,"CCArmature"),null!=$actionName$$2_comName$$&&$path$$19_pngFile_render_widget$$.setName($actionName$$2_comName$$),
$gb$$.addComponent($path$$19_pngFile_render_widget$$),($actionName$$2_comName$$=$subDict$$.selectedactionname)&&$armature$$16_bLoop_jsonDict$$5_name$$.getAnimation()&&$armature$$16_bLoop_jsonDict$$5_name$$.getAnimation().play($actionName$$2_comName$$),this._callSelector($armature$$16_bLoop_jsonDict$$5_name$$,$subDict$$));else if("CCComAudio"==$className$$11_sprite$$){var $audio$$=null;0==$armature$$16_bLoop_jsonDict$$5_name$$&&($audio$$=new ccs.ComAudio,$audio$$.preloadEffect($path$$19_pngFile_render_widget$$),
$actionName$$2_comName$$&&$audio$$.setName($actionName$$2_comName$$),$gb$$.addComponent($audio$$),this._callSelector($audio$$,$subDict$$))}else"CCComAttribute"==$className$$11_sprite$$?($attribute$$1_fileData_particle$$6_tmx$$=null,0==$armature$$16_bLoop_jsonDict$$5_name$$?($attribute$$1_fileData_particle$$6_tmx$$=new ccs.ComAttribute,""!=$path$$19_pngFile_render_widget$$&&$attribute$$1_fileData_particle$$6_tmx$$.parse($path$$19_pngFile_render_widget$$),$actionName$$2_comName$$&&$attribute$$1_fileData_particle$$6_tmx$$.setName($actionName$$2_comName$$),
$gb$$.addComponent($attribute$$1_fileData_particle$$6_tmx$$),this._callSelector($attribute$$1_fileData_particle$$6_tmx$$,$subDict$$)):cc.log("unknown resourcetype on CCComAttribute!")):"CCBackgroundAudio"==$className$$11_sprite$$?$pathExtname$$&&0==$armature$$16_bLoop_jsonDict$$5_name$$&&($audio$$=new ccs.ComAudio,$audio$$.preloadBackgroundMusic($path$$19_pngFile_render_widget$$),$audio$$.setFile($path$$19_pngFile_render_widget$$),$armature$$16_bLoop_jsonDict$$5_name$$=Boolean($subDict$$.loop||0),
$audio$$.setLoop($armature$$16_bLoop_jsonDict$$5_name$$),$actionName$$2_comName$$&&$audio$$.setName($actionName$$2_comName$$),$gb$$.addComponent($audio$$),$audio$$.playBackgroundMusic($path$$19_pngFile_render_widget$$,$armature$$16_bLoop_jsonDict$$5_name$$),this._callSelector($audio$$,$subDict$$)):"GUIComponent"==$className$$11_sprite$$&&($path$$19_pngFile_render_widget$$=ccs.uiReader.widgetFromJsonFile($path$$19_pngFile_render_widget$$),$path$$19_pngFile_render_widget$$=new ccs.ComRender($path$$19_pngFile_render_widget$$,
"GUIComponent"),null!=$actionName$$2_comName$$&&$path$$19_pngFile_render_widget$$.setName($actionName$$2_comName$$),$gb$$.addComponent($path$$19_pngFile_render_widget$$),this._callSelector($audio$$,$subDict$$))}$components$$=$inputFiles$$.gameobjects;for($canvasSizeDict_i$$=0;$canvasSizeDict_i$$<$components$$.length;$canvasSizeDict_i$$++){$subDict$$=$components$$[$canvasSizeDict_i$$];if(!$subDict$$)break;this.createObject($subDict$$,$gb$$)}($canvasSizeDict_i$$=$inputFiles$$.CanvasSize)&&$gb$$.setContentSize(cc.size($canvasSizeDict_i$$._width,
$canvasSizeDict_i$$._height));return $gb$$}return null},_nodeByTag:function $ccs$sceneReader$_nodeByTag$($parent$$,$tag$$){if(null==$parent$$)return null;for(var $child$$=null,$children$$=$parent$$.getChildren(),$i$$=0;$i$$<$children$$.length&&(!($child$$=$children$$[$i$$])||$child$$.getTag()!=$tag$$)&&!($child$$=this._nodeByTag($child$$,$tag$$));$i$$++);return $child$$},getNodeByTag:function $ccs$sceneReader$getNodeByTag$($tag$$){return null==this._node?null:this._node.getTag()==$tag$$?this._node:
this._nodeByTag(this._node,$tag$$)},setPropertyFromJsonDict:function $ccs$sceneReader$setPropertyFromJsonDict$($node$$,$dict$$){var $bVisible_fRotationZ_fScaleX_nTag_nZorder_x$$=cc.isUndefined($dict$$.x)?0:$dict$$.x,$fScaleY_y$$=cc.isUndefined($dict$$.y)?0:$dict$$.y;$node$$.setPosition($bVisible_fRotationZ_fScaleX_nTag_nZorder_x$$,$fScaleY_y$$);$bVisible_fRotationZ_fScaleX_nTag_nZorder_x$$=Boolean(cc.isUndefined($dict$$.visible)?1:$dict$$.visible);$node$$.setVisible($bVisible_fRotationZ_fScaleX_nTag_nZorder_x$$);
$bVisible_fRotationZ_fScaleX_nTag_nZorder_x$$=cc.isUndefined($dict$$.objecttag)?-1:$dict$$.objecttag;$node$$.setTag($bVisible_fRotationZ_fScaleX_nTag_nZorder_x$$);$bVisible_fRotationZ_fScaleX_nTag_nZorder_x$$=cc.isUndefined($dict$$.zorder)?0:$dict$$.zorder;$node$$.setLocalZOrder($bVisible_fRotationZ_fScaleX_nTag_nZorder_x$$);$bVisible_fRotationZ_fScaleX_nTag_nZorder_x$$=cc.isUndefined($dict$$.scalex)?1:$dict$$.scalex;$fScaleY_y$$=cc.isUndefined($dict$$.scaley)?1:$dict$$.scaley;$node$$.setScaleX($bVisible_fRotationZ_fScaleX_nTag_nZorder_x$$);
$node$$.setScaleY($fScaleY_y$$);$bVisible_fRotationZ_fScaleX_nTag_nZorder_x$$=cc.isUndefined($dict$$.rotation)?0:$dict$$.rotation;$node$$.setRotation($bVisible_fRotationZ_fScaleX_nTag_nZorder_x$$);$node$$.setName($dict$$.name||"")},setTarget:function $ccs$sceneReader$setTarget$($selector$$,$listener$$){this._listener=$listener$$;this._selector=$selector$$},_callSelector:function $ccs$sceneReader$_callSelector$($obj$$,$subDict$$){this._selector&&this._selector.call(this._listener,$obj$$,$subDict$$)},
version:function $ccs$sceneReader$version$(){return"1.2.0.0"},clear:function $ccs$sceneReader$clear$(){ccs.triggerManager.removeAll();cc.audioEngine.end()}};ccs.ActionTimelineData=ccs.Class.extend({_actionTag:0,ctor:function($actionTag$$){this._init($actionTag$$)},_init:function($actionTag$$){this._actionTag=$actionTag$$;return!0},setActionTag:function($actionTag$$){this._actionTag=$actionTag$$},getActionTag:function(){return this._actionTag}});ccs.ActionTimelineData.create=function $ccs$ActionTimelineData$create$($actionTag$$){return new ccs.ActionTimelineData($actionTag$$)};
ccs.ActionTimeline=cc.Action.extend({_timelineMap:null,_timelineList:null,_duration:0,_time:null,_timeSpeed:1,_frameInternal:1/60,_playing:!1,_currentFrame:0,_startFrame:0,_endFrame:0,_loop:null,_frameEventListener:null,ctor:function(){cc.Action.prototype.ctor.call(this);this._timelineMap={};this._timelineList=[];this.init()},_gotoFrame:function($frameIndex$$){for(var $size$$=this._timelineList.length,$i$$=0;$i$$<$size$$;$i$$++)this._timelineList[$i$$]._gotoFrame($frameIndex$$)},_stepToFrame:function($frameIndex$$){for(var $size$$=
this._timelineList.length,$i$$=0;$i$$<$size$$;$i$$++)this._timelineList[$i$$]._stepToFrame($frameIndex$$)},_emitFrameEvent:function($frame$$){this._frameEventListener&&this._frameEventListener($frame$$)},init:function(){return!0},gotoFrameAndPlay:function($startIndex$$,$endIndex$$,$currentFrameIndex$$,$loop$$){var $i$$=0,$argLen$$=arguments.length,$num$$=[],$bool$$;for($i$$;$i$$<$argLen$$;$i$$++)"boolean"===typeof arguments[$i$$]?$bool$$=arguments[$i$$]:$num$$.push(arguments[$i$$]);$startIndex$$=
$num$$[0];$endIndex$$=$num$$[1]||this._duration;$currentFrameIndex$$=$num$$[2]||$startIndex$$;this._startFrame=$startIndex$$;this._endFrame=$endIndex$$;this._currentFrame=$currentFrameIndex$$;this._loop=null!=$bool$$?$bool$$:!0;this._time=this._currentFrame*this._frameInternal;this.resume();this._gotoFrame(this._currentFrame)},gotoFrameAndPause:function($startIndex$$){this._startFrame=this._currentFrame=$startIndex$$;this._time=this._currentFrame*this._frameInternal;this.pause();this._gotoFrame(this._currentFrame)},
pause:function(){this._playing=!1},resume:function(){this._playing=!0},isPlaying:function(){return this._playing},setTimeSpeed:function($speed$$){this._timeSpeed=$speed$$},getTimeSpeed:function(){return this._timeSpeed},setDuration:function($duration$$){this._duration=$duration$$},getDuration:function(){return this._duration},getStartFrame:function(){return this._startFrame},getEndFrame:function(){return this._endFrame},setCurrentFrame:function($frameIndex$$){$frameIndex$$>=this._startFrame&&$frameIndex$$>=
this._endFrame?(this._currentFrame=$frameIndex$$,this._time=this._currentFrame*this._frameInternal):cc.log("frame index is not between start frame and end frame")},getCurrentFrame:function(){return this._currentFrame},addTimeline:function($timeline$$){var $tag$$=$timeline$$.getActionTag();this._timelineMap[$tag$$]||(this._timelineMap[$tag$$]=[]);this._timelineMap[$tag$$].some(function($item$$){if($item$$===$timeline$$)return!0})||(this._timelineList.push($timeline$$),this._timelineMap[$tag$$].push($timeline$$),
$timeline$$.setActionTimeline(this))},removeTimeline:function($timeline$$){var $tag$$=$timeline$$.getActionTag();this._timelineMap[$tag$$]&&this._timelineMap[$tag$$].some(function($item$$){if($item$$===$timeline$$)return!0})&&(cc.arrayRemoveObject(this._timelineMap[$tag$$],$timeline$$),cc.arrayRemoveObject(this._timelineList,$timeline$$),$timeline$$.setActionTimeline(null))},getTimelines:function(){return this._timelineList},setFrameEventCallFunc:function($listener$$){this._frameEventListener=$listener$$},
clearFrameEventCallFunc:function(){this._frameEventListener=null},clone:function(){var $newAction$$=new ccs.ActionTimeline;$newAction$$.setDuration(this._duration);$newAction$$.setTimeSpeed(this._timeSpeed);for(var $a$$ in this._timelineMap){var $timelines$$=this._timelineMap[$a$$],$b$$;for($b$$ in $timelines$$){var $newTimeline$$=$timelines$$[$b$$].clone();$newAction$$.addTimeline($newTimeline$$)}}return $newAction$$},reverse:function(){return null},step:function($delta$$){this._playing&&0!=this._timelineMap.length&&
0!=this._duration&&(this._time+=$delta$$*this._timeSpeed,this._currentFrame=this._time/this._frameInternal,this._stepToFrame(this._currentFrame),this._time>this._endFrame*this._frameInternal&&((this._playing=this._loop)?this.gotoFrameAndPlay(this._startFrame,this._endFrame,this._loop):this._time=this._endFrame*this._frameInternal))},_foreachNodeDescendant:function($parent$$,$callback$$){$callback$$($parent$$);for(var $children$$=$parent$$.getChildren(),$i$$=0;$i$$<$children$$.length;$i$$++)this._foreachNodeDescendant($children$$[$i$$],
$callback$$)},startWithTarget:function($target$$){cc.Action.prototype.startWithTarget.call(this,$target$$);var $self$$=this;this._foreachNodeDescendant($target$$,function($child$$){var $actionTag$$8_data$$68_timelines$$=$child$$.getUserObject();if($actionTag$$8_data$$68_timelines$$&&($actionTag$$8_data$$68_timelines$$=$actionTag$$8_data$$68_timelines$$.getActionTag(),$self$$._timelineMap[$actionTag$$8_data$$68_timelines$$]))for(var $actionTag$$8_data$$68_timelines$$=$self$$._timelineMap[$actionTag$$8_data$$68_timelines$$],
$i$$=0;$i$$<$actionTag$$8_data$$68_timelines$$.length;$i$$++)$actionTag$$8_data$$68_timelines$$[$i$$].setNode($child$$)})},isDone:function(){return!1}});ccs.ActionTimeline.create=function $ccs$ActionTimeline$create$(){return new ccs.ActionTimeline};
ccui.actionTimelineCacheStatic={FrameType_VisibleFrame:"VisibleFrame",FrameType_PositionFrame:"PositionFrame",FrameType_ScaleFrame:"ScaleFrame",FrameType_RotationFrame:"RotationFrame",FrameType_SkewFrame:"SkewFrame",FrameType_RotationSkewFrame:"RotationSkewFrame",FrameType_AnchorFrame:"AnchorPointFrame",FrameType_InnerActionFrame:"InnerActionFrame",FrameType_ColorFrame:"ColorFrame",FrameType_TextureFrame:"TextureFrame",FrameType_EventFrame:"EventFrame",FrameType_ZOrderFrame:"ZOrderFrame",ACTION:"action",
DURATION:"duration",TIMELINES:"timelines",FRAME_TYPE:"frameType",FRAMES:"frames",FRAME_INDEX:"frameIndex",TWEEN:"tween",TIME_SPEED:"speed",ACTION_TAG:"actionTag",INNER_ACTION:"innerActionType",START_FRAME:"startFrame",X:"x",Y:"y",ROTATION:"rotation",ALPHA:"alpha",RED:"red",GREEN:"green",BLUE:"blue",Value:"value"};
ccs.actionTimelineCache={_FrameCreateFunc:null,_Pair:null,_funcs:null,_animationActions:null,init:function $ccs$actionTimelineCache$init$(){this._animationActions={};this._funcs={};this._funcs.VisibleFrame=this._loadVisibleFrame;this._funcs.PositionFrame=this._loadPositionFrame;this._funcs.ScaleFrame=this._loadScaleFrame;this._funcs.RotationFrame=this._loadRotationFrame;this._funcs.SkewFrame=this._loadSkewFrame;this._funcs.RotationSkewFrame=this._loadRotationSkewFrame;this._funcs.AnchorFrame=this._loadAnchorPointFrame;
this._funcs.InnerActionFrame=this._loadInnerActionFrame;this._funcs.ColorFrame=this._loadColorFrame;this._funcs.TextureFrame=this._loadTextureFrame;this._funcs.EventFrame=this._loadEventFrame;this._funcs.ZOrderFrame=this._loadZOrderFrame},removeAction:function $ccs$actionTimelineCache$removeAction$($fileName$$){this._animationActions[$fileName$$]&&delete this._animationActions[$fileName$$]},createAction:function $ccs$actionTimelineCache$createAction$($filename$$){var $pos$$81_suffix$$=$filename$$.lastIndexOf("."),
$pos$$81_suffix$$=$filename$$.substr($pos$$81_suffix$$+1,$filename$$.length),$cache$$=ccs.actionTimelineCache;if("csb"==$pos$$81_suffix$$)return $cache$$.createActionFromProtocolBuffers($filename$$);if("json"==$pos$$81_suffix$$||"ExportJson"==$pos$$81_suffix$$)return $cache$$.createActionFromJson($filename$$);"xml"==$pos$$81_suffix$$&&cc.log("Does not support");return null},createActionFromJson:function $ccs$actionTimelineCache$createActionFromJson$($fileName$$){var $action$$=this._animationActions[$fileName$$];
null==$action$$&&($action$$=this.loadAnimationActionWithFile($fileName$$));return $action$$.clone()},loadAnimationActionWithFile:function $ccs$actionTimelineCache$loadAnimationActionWithFile$($fileName$$){var $contentStr$$=cc.loader.getRes($fileName$$);return this.loadAnimationActionWithContent($fileName$$,$contentStr$$)},loadAnimationActionWithContent:function $ccs$actionTimelineCache$loadAnimationActionWithContent$($fileName$$,$content$$){var $action$$=this._animationActions[$fileName$$];if($action$$)return $action$$;
var $json$$=$content$$[ccui.actionTimelineCacheStatic.ACTION],$action$$=new ccs.ActionTimeline;$action$$.setDuration($json$$[ccui.actionTimelineCacheStatic.DURATION]);$action$$.setTimeSpeed($json$$[ccui.actionTimelineCacheStatic.TIME_SPEED]||1);for(var $timelineLength$$=$json$$[ccui.actionTimelineCacheStatic.TIMELINES].length,$i$$=0;$i$$<$timelineLength$$;$i$$++){var $timeline$$=this._loadTimeline($json$$[ccui.actionTimelineCacheStatic.TIMELINES][$i$$]);$timeline$$&&$action$$.addTimeline($timeline$$)}return this._animationActions[$fileName$$]=
$action$$},createActionFromProtocolBuffers:function $ccs$actionTimelineCache$createActionFromProtocolBuffers$($fileName$$){var $action$$=this._animationActions[$fileName$$];null==$action$$&&($action$$=this.loadAnimationActionWithFileFromProtocolBuffers($fileName$$));return $action$$.clone()},loadAnimationActionWithFileFromProtocolBuffers:function $ccs$actionTimelineCache$loadAnimationActionWithFileFromProtocolBuffers$($fileName$$){var $action$$197_binary$$=this._animationActions[$fileName$$];if($action$$197_binary$$)return $action$$197_binary$$;
var $action$$197_binary$$=cc.loader.getRes($fileName$$),$actionProtobuf$$=PBP.CSParseBinary.decode($action$$197_binary$$).action,$action$$197_binary$$=new ccs.ActionTimeline;$action$$197_binary$$.setDuration($actionProtobuf$$.duration);$action$$197_binary$$.setTimeSpeed(null!==$actionProtobuf$$.speed?$actionProtobuf$$.speed:1);for(var $timelineLength$$=$actionProtobuf$$.timelines.length,$i$$=0;$i$$<$timelineLength$$;$i$$++)var $timeline$$=$actionProtobuf$$.timelines[$i$$],$timeline$$=this.loadTimelineFromProtocolBuffers($timeline$$);
for($i$$=0;$i$$<$timelineLength$$;$i$$++)$timeline$$=$actionProtobuf$$.timelines[$i$$],($timeline$$=this.loadTimelineFromProtocolBuffers($timeline$$))&&$action$$197_binary$$.addTimeline($timeline$$);return this._animationActions[$fileName$$]=$action$$197_binary$$},_loadTimeline:function $ccs$actionTimelineCache$_loadTimeline$($json$$){var $timeline$$=null,$frameType$$3_func$$=$json$$[ccui.actionTimelineCacheStatic.FRAME_TYPE];if(null==$frameType$$3_func$$)return null;if($frameType$$3_func$$&&this._funcs[$frameType$$3_func$$]){$timeline$$=
new ccs.Timeline;$timeline$$.setActionTag($json$$[ccui.actionTimelineCacheStatic.ACTION_TAG]);for(var $frameType$$3_func$$=this._funcs[$frameType$$3_func$$],$length$$=$json$$[ccui.actionTimelineCacheStatic.FRAMES].length,$i$$=0;$i$$<$length$$;$i$$++){var $dic$$=$json$$[ccui.actionTimelineCacheStatic.FRAMES][$i$$],$frame$$=null;null!=$frameType$$3_func$$&&($frame$$=$frameType$$3_func$$($dic$$),$frame$$.setFrameIndex($dic$$[ccui.actionTimelineCacheStatic.FRAME_INDEX]),$frame$$.setTween($dic$$[ccui.actionTimelineCacheStatic.TWEEN]||
!1));$timeline$$.addFrame($frame$$)}}return $timeline$$},_loadVisibleFrame:function $ccs$actionTimelineCache$_loadVisibleFrame$($json$$){var $frame$$=new ccs.VisibleFrame;$frame$$.setVisible($json$$[ccui.actionTimelineCacheStatic.Value]);return $frame$$},_loadPositionFrame:function $ccs$actionTimelineCache$_loadPositionFrame$($json$$){var $frame$$=new ccs.PositionFrame;$frame$$.setPosition(cc.p($json$$[ccui.actionTimelineCacheStatic.X],$json$$[ccui.actionTimelineCacheStatic.Y]));return $frame$$},
_loadScaleFrame:function $ccs$actionTimelineCache$_loadScaleFrame$($json$$){var $frame$$=new ccs.ScaleFrame,$scaley$$=$json$$[ccui.actionTimelineCacheStatic.Y];$frame$$.setScaleX($json$$[ccui.actionTimelineCacheStatic.X]);$frame$$.setScaleY($scaley$$);return $frame$$},_loadSkewFrame:function $ccs$actionTimelineCache$_loadSkewFrame$($json$$){var $frame$$=new ccs.SkewFrame,$skewy$$=$json$$[ccui.actionTimelineCacheStatic.Y];$frame$$.setSkewX($json$$[ccui.actionTimelineCacheStatic.X]);$frame$$.setSkewY($skewy$$);
return $frame$$},_loadRotationSkewFrame:function $ccs$actionTimelineCache$_loadRotationSkewFrame$($json$$){var $frame$$=new ccs.RotationSkewFrame,$skewy$$=$json$$[ccui.actionTimelineCacheStatic.Y];$frame$$.setSkewX($json$$[ccui.actionTimelineCacheStatic.X]);$frame$$.setSkewY($skewy$$);return $frame$$},_loadRotationFrame:function $ccs$actionTimelineCache$_loadRotationFrame$($json$$){var $frame$$=new ccs.RotationFrame;$frame$$.setRotation($json$$[ccui.actionTimelineCacheStatic.ROTATION]);return $frame$$},
_loadAnchorPointFrame:function $ccs$actionTimelineCache$_loadAnchorPointFrame$($json$$){var $frame$$=new ccs.AnchorPointFrame;$frame$$.setAnchorPoint(Point($json$$[ccui.actionTimelineCacheStatic.X],$json$$[ccui.actionTimelineCacheStatic.Y]));return $frame$$},_loadInnerActionFrame:function $ccs$actionTimelineCache$_loadInnerActionFrame$($json$$){var $frame$$=new ccs.InnerActionFrame,$startFrame$$=$json$$[ccui.actionTimelineCacheStatic.START_FRAME];$frame$$.setInnerActionType($json$$[ccui.actionTimelineCacheStatic.INNER_ACTION]);
$frame$$.setStartFrameIndex($startFrame$$);return $frame$$},_loadColorFrame:function $ccs$actionTimelineCache$_loadColorFrame$($json$$){var $frame$$=new ccs.ColorFrame,$red$$=$json$$[ccui.actionTimelineCacheStatic.RED],$green$$=$json$$[ccui.actionTimelineCacheStatic.GREEN],$blue$$=$json$$[ccui.actionTimelineCacheStatic.BLUE];$frame$$.setAlpha($json$$[ccui.actionTimelineCacheStatic.ALPHA]);$frame$$.setColor(cc.color($red$$,$green$$,$blue$$));return $frame$$},_loadTextureFrame:function $ccs$actionTimelineCache$_loadTextureFrame$($json$$32_texture$$){var $frame$$=
new ccs.TextureFrame;$json$$32_texture$$=$json$$32_texture$$[ccui.actionTimelineCacheStatic.Value];if(null!=$json$$32_texture$$){var $path$$=$json$$32_texture$$;null==cc.spriteFrameCache.getSpriteFrame($path$$)&&($path$$=ccs.csLoader.getJsonPath()+$json$$32_texture$$);$frame$$.setTextureName($path$$)}return $frame$$},_loadEventFrame:function $ccs$actionTimelineCache$_loadEventFrame$($evnt_json$$){var $frame$$=new ccs.EventFrame;$evnt_json$$=$evnt_json$$[ccui.actionTimelineCacheStatic.Value];null!=
$evnt_json$$&&$frame$$.setEvent($evnt_json$$);return $frame$$},_loadZOrderFrame:function $ccs$actionTimelineCache$_loadZOrderFrame$($json$$){var $frame$$=new ccs.ZOrderFrame;$frame$$.setZOrder($json$$[ccui.actionTimelineCacheStatic.Value]);return $frame$$},loadTimelineFromProtocolBuffers:function $ccs$actionTimelineCache$loadTimelineFromProtocolBuffers$($timelineProtobuf$$){var $timeline$$=null,$frameType$$=$timelineProtobuf$$.frameType;if(null==$frameType$$)return null;if($frameType$$){$timeline$$=
new ccs.Timeline;$timeline$$.setActionTag($timelineProtobuf$$.actionTag);for(var $length$$=$timelineProtobuf$$.frames.length,$i$$=0;$i$$<$length$$;$i$$++){var $frameProtobuf$$=$timelineProtobuf$$.frames[$i$$],$frame$$=null;ccui.actionTimelineCacheStatic.FrameType_VisibleFrame===$frameType$$?$frame$$=this.loadVisibleFrameFromProtocolBuffers($frameProtobuf$$.visibleFrame):ccui.actionTimelineCacheStatic.FrameType_PositionFrame===$frameType$$?$frame$$=this.loadPositionFrameFromProtocolBuffers($frameProtobuf$$.positionFrame):
ccui.actionTimelineCacheStatic.FrameType_ScaleFrame===$frameType$$?$frame$$=this.loadScaleFrameFromProtocolBuffers($frameProtobuf$$.scaleFrame):ccui.actionTimelineCacheStatic.FrameType_RotationSkewFrame===$frameType$$?$frame$$=this.loadRotationSkewFrameFromProtocolBuffers($frameProtobuf$$.rotationSkewFrame):ccui.actionTimelineCacheStatic.FrameType_AnchorFrame===$frameType$$?$frame$$=this.loadAnchorPointFrameFromProtocolBuffers($frameProtobuf$$.anchorPointFrame):ccui.actionTimelineCacheStatic.FrameType_ColorFrame===
$frameType$$?$frame$$=this.loadColorFrameFromProtocolBuffers($frameProtobuf$$.colorFrame):ccui.actionTimelineCacheStatic.FrameType_TextureFrame===$frameType$$?$frame$$=this.loadTextureFrameFromProtocolBuffers($frameProtobuf$$.textureFrame):ccui.actionTimelineCacheStatic.FrameType_EventFrame===$frameType$$?$frame$$=this.loadEventFrameFromProtocolBuffers($frameProtobuf$$.eventFrame):ccui.actionTimelineCacheStatic.FrameType_ZOrderFrame===$frameType$$&&($frame$$=this.loadZOrderFrameFromProtocolBuffers($frameProtobuf$$.zOrderFrame));
$timeline$$.addFrame($frame$$)}}return $timeline$$},loadVisibleFrameFromProtocolBuffers:function $ccs$actionTimelineCache$loadVisibleFrameFromProtocolBuffers$($frameProtobuf$$){var $frame$$=new ccs.VisibleFrame;$frame$$.setVisible($frameProtobuf$$.value);$frame$$.setFrameIndex(null!==$frameProtobuf$$.frameIndex?$frameProtobuf$$.frameIndex:0);$frame$$.setTween(null!==$frameProtobuf$$.tween?$frameProtobuf$$.tween:!1);return $frame$$},loadPositionFrameFromProtocolBuffers:function $ccs$actionTimelineCache$loadPositionFrameFromProtocolBuffers$($frameProtobuf$$){var $frame$$=
new ccs.PositionFrame;$frame$$.setPosition(cc.p($frameProtobuf$$.x,$frameProtobuf$$.y));$frame$$.setFrameIndex(null!==$frameProtobuf$$.frameIndex?$frameProtobuf$$.frameIndex:0);$frame$$.setTween(null!==$frameProtobuf$$.tween?$frameProtobuf$$.tween:!1);return $frame$$},loadScaleFrameFromProtocolBuffers:function $ccs$actionTimelineCache$loadScaleFrameFromProtocolBuffers$($frameProtobuf$$){var $frame$$=new ccs.ScaleFrame,$scaley$$=$frameProtobuf$$.y;$frame$$.setScaleX($frameProtobuf$$.x);$frame$$.setScaleY($scaley$$);
$frame$$.setFrameIndex(null!==$frameProtobuf$$.frameIndex?$frameProtobuf$$.frameIndex:0);$frame$$.setTween(null!==$frameProtobuf$$.tween?$frameProtobuf$$.tween:!1);return $frame$$},loadRotationSkewFrameFromProtocolBuffers:function $ccs$actionTimelineCache$loadRotationSkewFrameFromProtocolBuffers$($frameProtobuf$$){var $frame$$=new ccs.RotationSkewFrame,$skewy$$=$frameProtobuf$$.y;$frame$$.setSkewX($frameProtobuf$$.x);$frame$$.setSkewY($skewy$$);$frame$$.setFrameIndex(null!==$frameProtobuf$$.frameIndex?
$frameProtobuf$$.frameIndex:0);$frame$$.setTween(null!==$frameProtobuf$$.tween?$frameProtobuf$$.tween:!1);return $frame$$},loadAnchorPointFrameFromProtocolBuffers:function $ccs$actionTimelineCache$loadAnchorPointFrameFromProtocolBuffers$($frameProtobuf$$){var $frame$$=new ccs.AnchorPointFrame;$frame$$.setAnchorPoint(cc.p($frameProtobuf$$.x,$frameProtobuf$$.y));$frame$$.setFrameIndex(null!==$frameProtobuf$$.frameIndex?$frameProtobuf$$.frameIndex:0);$frame$$.setTween(null!==$frameProtobuf$$.tween?$frameProtobuf$$.tween:
!1);return $frame$$},loadColorFrameFromProtocolBuffers:function $ccs$actionTimelineCache$loadColorFrameFromProtocolBuffers$($frameProtobuf$$){var $frame$$=new ccs.ColorFrame,$red$$=$frameProtobuf$$.red,$green$$=$frameProtobuf$$.green,$blue$$=$frameProtobuf$$.blue;$frame$$.setAlpha($frameProtobuf$$.alpha);$frame$$.setColor(cc.color($red$$,$green$$,$blue$$));$frame$$.setFrameIndex(null!==$frameProtobuf$$.frameIndex?$frameProtobuf$$.frameIndex:0);$frame$$.setTween(null!==$frameProtobuf$$.tween?$frameProtobuf$$.tween:
!1);return $frame$$},loadTextureFrameFromProtocolBuffers:function $ccs$actionTimelineCache$loadTextureFrameFromProtocolBuffers$($frameProtobuf$$){var $frame$$=new ccs.TextureFrame,$texture$$=$frameProtobuf$$.filepath;null!=$texture$$&&$frame$$.setTextureName($texture$$);$frame$$.setFrameIndex(null!==$frameProtobuf$$.frameIndex?$frameProtobuf$$.frameIndex:0);$frame$$.setTween(null!==$frameProtobuf$$.tween?$frameProtobuf$$.tween:!1);return $frame$$},loadEventFrameFromProtocolBuffers:function $ccs$actionTimelineCache$loadEventFrameFromProtocolBuffers$($frameProtobuf$$){var $frame$$=
new ccs.EventFrame,$evnt$$=$frameProtobuf$$.value;null!=$evnt$$&&$frame$$.setEvent($evnt$$);$frame$$.setFrameIndex(null!==$frameProtobuf$$.frameIndex?$frameProtobuf$$.frameIndex:0);$frame$$.setTween(null!==$frameProtobuf$$.tween?$frameProtobuf$$.tween:!1);return $frame$$},loadZOrderFrameFromProtocolBuffers:function $ccs$actionTimelineCache$loadZOrderFrameFromProtocolBuffers$($frameProtobuf$$){var $frame$$=new ccs.ZOrderFrame;$frame$$.setZOrder($frameProtobuf$$.value);$frame$$.setFrameIndex(null!==
$frameProtobuf$$.frameIndex?$frameProtobuf$$.frameIndex:0);$frame$$.setTween(null!==$frameProtobuf$$.tween?$frameProtobuf$$.tween:!1);return $frame$$},createActionFromXML:function $ccs$actionTimelineCache$createActionFromXML$($fileName$$){var $action$$=this._animationActions[$fileName$$];null==$action$$&&($action$$=this.loadAnimationActionWithFileFromXML($fileName$$));return $action$$.clone()},loadAnimationActionWithFileFromXML:function $ccs$actionTimelineCache$loadAnimationActionWithFileFromXML$($content$$5_element$$69_fileName$$){var $action$$=
this._animationActions[$content$$5_element$$69_fileName$$];if($action$$)return $action$$;$content$$5_element$$69_fileName$$=cc.loader.getRes($content$$5_element$$69_fileName$$);var $createEnabled_document$$=new tinyxml2.XMLDocument;$createEnabled_document$$.Parse($content$$5_element$$69_fileName$$);$content$$5_element$$69_fileName$$=$createEnabled_document$$.RootElement().FirstChildElement();for($createEnabled_document$$=!1;$content$$5_element$$69_fileName$$;){0==strcmp("Content",$content$$5_element$$69_fileName$$.Name())&&
($content$$5_element$$69_fileName$$.FirstAttribute()||($createEnabled_document$$=!0));if($createEnabled_document$$)break;var $child$$=$content$$5_element$$69_fileName$$.FirstChildElement();$content$$5_element$$69_fileName$$=$child$$?$child$$:$content$$5_element$$69_fileName$$.NextSiblingElement()}if($createEnabled_document$$)for($child$$=$content$$5_element$$69_fileName$$.FirstChildElement();$child$$;)"Animation"==$child$$.Name()&&($action$$=this.loadActionTimelineFromXML($child$$)),$child$$=$child$$.NextSiblingElement();
return $action$$},loadActionTimelineFromXML:function $ccs$actionTimelineCache$loadActionTimelineFromXML$($animationElement_timelineElement$$){for(var $action$$=new ccs.ActionTimeline,$attribute$$3_timeline$$=$animationElement_timelineElement$$.FirstAttribute();$attribute$$3_timeline$$;){var $name$$=$attribute$$3_timeline$$.Name(),$value$$=$attribute$$3_timeline$$.Value();"Duration"==$name$$?$action$$.setDuration(atoi($value$$.c_str())):"Speed"==$name$$&&$action$$.setTimeSpeed(atof($value$$.c_str()));
$attribute$$3_timeline$$=$attribute$$3_timeline$$.Next()}for($animationElement_timelineElement$$=$animationElement_timelineElement$$.FirstChildElement();$animationElement_timelineElement$$;)($attribute$$3_timeline$$=loadTimelineFromXML($animationElement_timelineElement$$))&&$action$$.addTimeline($attribute$$3_timeline$$),$animationElement_timelineElement$$=$animationElement_timelineElement$$.NextSiblingElement();return $action$$},loadTimelineFromXML:function $ccs$actionTimelineCache$loadTimelineFromXML$($frameElement$$1_timelineElement$$){for(var $timeline$$=
null,$actionTag$$11_frame$$=0,$frameType$$="",$attribute$$=$frameElement$$1_timelineElement$$.FirstAttribute();$attribute$$;){var $name$$=$attribute$$.Name(),$value$$=$attribute$$.Value();"ActionTag"==$name$$?$actionTag$$11_frame$$=atoi($value$$.c_str()):"FrameType"==$name$$&&($frameType$$=$value$$);$attribute$$=$attribute$$.Next()}""!=$frameType$$&&($timeline$$=new ccs.Timeline,$timeline$$.setActionTag($actionTag$$11_frame$$));for($frameElement$$1_timelineElement$$=$frameElement$$1_timelineElement$$.FirstChildElement();$frameElement$$1_timelineElement$$;)$actionTag$$11_frame$$=
null,$frameType$$==FrameType_VisibleFrame?$actionTag$$11_frame$$=loadVisibleFrameFromXML($frameElement$$1_timelineElement$$):$frameType$$==FrameType_PositionFrame?$actionTag$$11_frame$$=loadPositionFrameFromXML($frameElement$$1_timelineElement$$):$frameType$$==FrameType_ScaleFrame?$actionTag$$11_frame$$=loadScaleFrameFromXML($frameElement$$1_timelineElement$$):$frameType$$==FrameType_RotationSkewFrame?$actionTag$$11_frame$$=loadRotationSkewFrameFromXML($frameElement$$1_timelineElement$$):$frameType$$==
FrameType_AnchorFrame?$actionTag$$11_frame$$=loadAnchorPointFrameFromXML($frameElement$$1_timelineElement$$):$frameType$$==FrameType_ColorFrame?$actionTag$$11_frame$$=loadColorFrameFromXML($frameElement$$1_timelineElement$$):$frameType$$==FrameType_TextureFrame?$actionTag$$11_frame$$=loadTextureFrameFromXML($frameElement$$1_timelineElement$$):$frameType$$==FrameType_EventFrame?$actionTag$$11_frame$$=loadEventFrameFromXML($frameElement$$1_timelineElement$$):$frameType$$==FrameType_ZOrderFrame&&($actionTag$$11_frame$$=
loadZOrderFrameFromXML($frameElement$$1_timelineElement$$)),$actionTag$$11_frame$$&&$timeline$$.addFrame($actionTag$$11_frame$$),$frameElement$$1_timelineElement$$=$frameElement$$1_timelineElement$$.NextSiblingElement();return $timeline$$},loadVisibleFrameFromXML:function $ccs$actionTimelineCache$loadVisibleFrameFromXML$($attribute$$5_frameElement$$){var $frame$$=new ccs.VisibleFrame;$frame$$.setTween(!0);for($attribute$$5_frameElement$$=$attribute$$5_frameElement$$.FirstAttribute();$attribute$$5_frameElement$$;){var $name$$=
$attribute$$5_frameElement$$.Name(),$value$$=$attribute$$5_frameElement$$.Value();"Value"==$name$$?$frame$$.setVisible("True"==$value$$?!0:!1):"FrameIndex"==$name$$?$frame$$.setFrameIndex(atoi($value$$)):"Tween"==$name$$&&$frame$$.setTween("True"==$value$$?!0:!1);$attribute$$5_frameElement$$=$attribute$$5_frameElement$$.Next()}return $frame$$},loadPositionFrameFromXML:function $ccs$actionTimelineCache$loadPositionFrameFromXML$($attribute$$6_frameElement$$){var $frame$$=new ccs.PositionFrame;$frame$$.setTween(!0);
for($attribute$$6_frameElement$$=$attribute$$6_frameElement$$.FirstAttribute();$attribute$$6_frameElement$$;){var $name$$=$attribute$$6_frameElement$$.Name(),$value$$=$attribute$$6_frameElement$$.Value();"X"==$name$$?$frame$$.setX(atof($value$$)):"Y"==$name$$?$frame$$.setY(atof($value$$)):"FrameIndex"==$name$$?$frame$$.setFrameIndex(atoi($value$$)):"Tween"==$name$$&&$frame$$.setTween("True"==$value$$?!0:!1);$attribute$$6_frameElement$$=$attribute$$6_frameElement$$.Next()}return $frame$$},loadScaleFrameFromXML:function $ccs$actionTimelineCache$loadScaleFrameFromXML$($attribute$$7_frameElement$$){var $frame$$=
new ccs.ScaleFrame;$frame$$.setTween(!0);for($attribute$$7_frameElement$$=$attribute$$7_frameElement$$.FirstAttribute();$attribute$$7_frameElement$$;){var $name$$=$attribute$$7_frameElement$$.Name(),$value$$=$attribute$$7_frameElement$$.Value();"X"==$name$$?$frame$$.setScaleX(atof($value$$)):"Y"==$name$$?$frame$$.setScaleY(atof($value$$)):"FrameIndex"==$name$$?$frame$$.setFrameIndex(atoi($value$$)):"Tween"==$name$$&&$frame$$.setTween("True"==$value$$?!0:!1);$attribute$$7_frameElement$$=$attribute$$7_frameElement$$.Next()}return $frame$$},
loadRotationSkewFrameFromXML:function $ccs$actionTimelineCache$loadRotationSkewFrameFromXML$($attribute$$8_frameElement$$){var $frame$$=new ccs.RotationSkewFrame;$frame$$.setTween(!0);for($attribute$$8_frameElement$$=$attribute$$8_frameElement$$.FirstAttribute();$attribute$$8_frameElement$$;){var $name$$=$attribute$$8_frameElement$$.Name(),$value$$=$attribute$$8_frameElement$$.Value();"X"==$name$$?$frame$$.setSkewX(atof($value$$)):"Y"==$name$$?$frame$$.setSkewY(atof($value$$)):"FrameIndex"==$name$$?
$frame$$.setFrameIndex(atoi($value$$)):"Tween"==$name$$&&$frame$$.setTween("True"==$value$$?!0:!1);$attribute$$8_frameElement$$=$attribute$$8_frameElement$$.Next()}return $frame$$},loadAnchorPointFrameFromXML:function $ccs$actionTimelineCache$loadAnchorPointFrameFromXML$($attribute$$9_frameElement$$){var $frame$$=new ccs.AnchorPointFrame,$anchor_x$$=.5,$anchor_y$$=.5;$frame$$.setTween(!0);for($attribute$$9_frameElement$$=$attribute$$9_frameElement$$.FirstAttribute();$attribute$$9_frameElement$$;){var $name$$=
$attribute$$9_frameElement$$.Name(),$value$$=$attribute$$9_frameElement$$.Value();"X"==$name$$?$anchor_x$$=atof($value$$):"Y"==$name$$?$anchor_y$$=atof($value$$):"FrameIndex"==$name$$?$frame$$.setFrameIndex(atoi($value$$)):"Tween"==$name$$&&$frame$$.setTween("True"==$value$$?!0:!1);$attribute$$9_frameElement$$=$attribute$$9_frameElement$$.Next()}$frame$$.setAnchorPoint(cc.p($anchor_x$$,$anchor_y$$));return $frame$$},loadColorFrameFromXML:function $ccs$actionTimelineCache$loadColorFrameFromXML$($child$$86_frameElement$$){var $frame$$=
new ccs.ColorFrame,$red$$=255,$green$$=255,$blue$$=255;$frame$$.setTween(!0);for(var $attribute$$=$child$$86_frameElement$$.FirstAttribute();$attribute$$;){var $name$$=$attribute$$.Name(),$value$$=$attribute$$.Value();"FrameIndex"==$name$$?$frame$$.setFrameIndex(atoi($value$$)):"Alpha"==$name$$?$frame$$.setAlpha(atoi($value$$)):"Tween"==$name$$&&$frame$$.setTween("True"==$value$$?!0:!1);$attribute$$=$attribute$$.Next()}for($child$$86_frameElement$$=$child$$86_frameElement$$.FirstChildElement();$child$$86_frameElement$$;){for($attribute$$=
$child$$86_frameElement$$.FirstAttribute();$attribute$$;)$name$$=$attribute$$.Name(),$value$$=$attribute$$.Value(),"R"==$name$$?$red$$=atoi($value$$):"G"==$name$$?$green$$=atoi($value$$):"B"==$name$$&&($blue$$=atoi($value$$)),$attribute$$=$attribute$$.Next();$child$$86_frameElement$$=$child$$86_frameElement$$.NextSiblingElement()}$frame$$.setColor(cc.color($red$$,$green$$,$blue$$));return $frame$$},loadTextureFrameFromXML:function $ccs$actionTimelineCache$loadTextureFrameFromXML$($attribute$$11_frameElement$$){var $frame$$=
new ccs.TextureFrame;$frame$$.setTween(!0);for($attribute$$11_frameElement$$=$attribute$$11_frameElement$$.FirstAttribute();$attribute$$11_frameElement$$;){var $name$$=$attribute$$11_frameElement$$.Name(),$value$$=$attribute$$11_frameElement$$.Value();"Path"==$name$$?$frame$$.setTextureName($value$$):"FrameIndex"==$name$$?$frame$$.setFrameIndex(atoi($value$$.c_str())):"Tween"==$name$$&&$frame$$.setTween("True"==$value$$?!0:!1);$attribute$$11_frameElement$$=$attribute$$11_frameElement$$.Next()}return $frame$$},
loadEventFrameFromXML:function $ccs$actionTimelineCache$loadEventFrameFromXML$($attribute$$12_frameElement$$){var $frame$$=new ccs.EventFrame;$frame$$.setTween(!0);for($attribute$$12_frameElement$$=$attribute$$12_frameElement$$.FirstAttribute();$attribute$$12_frameElement$$;){var $name$$=$attribute$$12_frameElement$$.Name(),$value$$=$attribute$$12_frameElement$$.Value();"EventStr"==$name$$?$frame$$.setEvent($value$$):"FrameIndex"==$name$$?$frame$$.setFrameIndex(atoi($value$$.c_str())):"Tween"==$name$$&&
$frame$$.setTween("True"==$value$$?!0:!1);$attribute$$12_frameElement$$=$attribute$$12_frameElement$$.Next()}return $frame$$},loadZOrderFrameFromXML:function $ccs$actionTimelineCache$loadZOrderFrameFromXML$($frame$$){$frame$$=new ccs.ZOrderFrame;$frame$$.setTween(!0);for(var $attribute$$=frameElement.FirstAttribute();$attribute$$;){var $name$$=$attribute$$.Name(),$value$$=$attribute$$.Value();"zorder"==$name$$?$frame$$.setZOrder(atoi($value$$)):"FrameIndex"==$name$$?$frame$$.setFrameIndex(atoi($value$$)):
"Tween"==$name$$&&$frame$$.setTween("True"==$value$$?!0:!1);$attribute$$=$attribute$$.Next()}return $frame$$}};ccs.actionTimelineCache.init();ccs.actionTimelineCache._sharedActionCache=null;
ccs.Frame=ccs.Class.extend({_frameIndex:null,_tween:null,_timeline:null,_node:null,ctor:function(){this._frameIndex=0;this._tween=!0;this._node=this._timeline=null},_emitEvent:function(){this._timeline&&this._timeline.getActionTimeline()._emitFrameEvent(this)},_cloneProperty:function($frame$$){this._frameIndex=$frame$$.getFrameIndex();this._tween=$frame$$.isTween()},setFrameIndex:function($frameIndex$$){this._frameIndex=$frameIndex$$},getFrameIndex:function(){return this._frameIndex},setTimeline:function($timeline$$){this._timeline=
$timeline$$},getTimeline:function($timeline$$){return this._timeline},setNode:function($node$$){this._node=$node$$},getNode:function(){return this._node},setTween:function($tween$$){this._tween=$tween$$},isTween:function(){return this._tween},onEnter:function($nextFrame$$){},apply:function($percent$$){},clone:function(){}});
ccs.VisibleFrame=ccs.Frame.extend({_visible:!0,ctor:function(){ccs.Frame.prototype.ctor.call(this);this._visible=!0},onEnter:function($nextFrame$$){this._node.setVisible(this._visible)},clone:function(){var $frame$$=new ccs.VisibleFrame;$frame$$.setVisible(this._visible);$frame$$._cloneProperty(this);return $frame$$},setVisible:function($visible$$){this._visible=$visible$$},isVisible:function(){return this._visible}});ccs.VisibleFrame.create=function $ccs$VisibleFrame$create$(){return new ccs.VisibleFrame};
ccs.TextureFrame=ccs.Frame.extend({_sprite:null,_textureName:null,ctor:function(){ccs.Frame.prototype.ctor.call(this);this._textureName=""},setNode:function($node$$){ccs.Frame.prototype.setNode.call(this,$node$$);this._sprite=$node$$},onEnter:function($nextFrame$$2_spriteFrame$$){this._sprite&&($nextFrame$$2_spriteFrame$$=cc.spriteFrameCache.getSpriteFrame(this._textureName),null!=$nextFrame$$2_spriteFrame$$?this._sprite.setSpriteFrame($nextFrame$$2_spriteFrame$$):this._sprite.setTexture(this._textureName))},
clone:function(){var $frame$$=new ccs.TextureFrame;$frame$$.setTextureName(this._textureName);$frame$$._cloneProperty(this);return $frame$$},setTextureName:function($textureName$$){this._textureName=$textureName$$},getTextureName:function(){return this._textureName}});ccs.TextureFrame.create=function $ccs$TextureFrame$create$(){return new ccs.TextureFrame};
ccs.RotationFrame=ccs.Frame.extend({_rotation:null,_betwennRotation:null,ctor:function(){ccs.Frame.prototype.ctor.call(this);this._rotation=0},onEnter:function($nextFrame$$){this._node.setRotation(this._rotation);this._tween&&(this._betwennRotation=$nextFrame$$._rotation-this._rotation)},apply:function($percent$$){this._tween&&0!=this._betwennRotation&&this._node.setRotation(this._rotation+$percent$$*this._betwennRotation)},clone:function(){var $frame$$=new ccs.RotationFrame;$frame$$.setRotation(this._rotation);
$frame$$._cloneProperty(this);return $frame$$},setRotation:function($rotation$$){this._rotation=$rotation$$},getRotation:function(){return this._rotation}});ccs.RotationFrame.create=function $ccs$RotationFrame$create$(){return new ccs.RotationFrame};
ccs.SkewFrame=ccs.Frame.extend({_skewX:null,_skewY:null,_betweenSkewX:null,_betweenSkewY:null,ctor:function(){ccs.Frame.prototype.ctor.call(this);this._skewY=this._skewX=0},onEnter:function($nextFrame$$){this._node.setSkewX(this._skewX);this._node.setSkewY(this._skewY);this._tween&&(this._betweenSkewX=$nextFrame$$._skewX-this._skewX,this._betweenSkewY=$nextFrame$$._skewY-this._skewY)},apply:function($percent$$){if(this._tween&&(0!=this._betweenSkewX||0!=this._betweenSkewY)){var $skewy$$=this._skewY+
$percent$$*this._betweenSkewY;this._node.setSkewX(this._skewX+$percent$$*this._betweenSkewX);this._node.setSkewY($skewy$$)}},clone:function(){var $frame$$=new ccs.SkewFrame;$frame$$.setSkewX(this._skewX);$frame$$.setSkewY(this._skewY);$frame$$._cloneProperty(this);return $frame$$},setSkewX:function($skewx$$){this._skewX=$skewx$$},getSkewX:function(){return this._skewX},setSkewY:function($skewy$$){this._skewY=$skewy$$},getSkewY:function(){return this._skewY}});ccs.SkewFrame.create=function $ccs$SkewFrame$create$(){return new ccs.SkewFrame};
ccs.RotationSkewFrame=ccs.SkewFrame.extend({onEnter:function($nextFrame$$){this._node.setRotationX(this._skewX);this._node.setRotationY(this._skewY);this._tween&&(this._betweenSkewX=$nextFrame$$._skewX-this._skewX,this._betweenSkewY=$nextFrame$$._skewY-this._skewY)},apply:function($percent$$){if(this._tween&&(0!=this._betweenSkewX||0!=this._betweenSkewY)){var $skewy$$=this._skewY+$percent$$*this._betweenSkewY;this._node.setRotationX(this._skewX+$percent$$*this._betweenSkewX);this._node.setRotationY($skewy$$)}},
clone:function(){var $frame$$=new ccs.RotationSkewFrame;$frame$$.setSkewX(this._skewX);$frame$$.setSkewY(this._skewY);$frame$$._cloneProperty(this);return $frame$$}});ccs.RotationSkewFrame.create=function $ccs$RotationSkewFrame$create$(){return new ccs.RotationSkewFrame};
ccs.PositionFrame=ccs.Frame.extend({_position:null,_betweenX:null,_betweenY:null,ctor:function(){ccs.Frame.prototype.ctor.call(this);this._position=cc.p(0,0)},onEnter:function($nextFrame$$){this._node.setPosition(this._position);this._tween&&(this._betweenX=$nextFrame$$._position.x-this._position.x,this._betweenY=$nextFrame$$._position.y-this._position.y)},apply:function($percent$$){if(this._tween&&(0!=this._betweenX||0!=this._betweenY)){var $p$$=cc.p(0,0);$p$$.x=this._position.x+this._betweenX*$percent$$;
$p$$.y=this._position.y+this._betweenY*$percent$$;this._node.setPosition($p$$)}},clone:function(){var $frame$$=new ccs.PositionFrame;$frame$$.setPosition(this._position);$frame$$._cloneProperty(this);return $frame$$},setPosition:function($position$$){this._position=$position$$},getPosition:function(){return this._position},setX:function($x$$){this._position.x=$x$$},getX:function(){return this._position.x},setY:function($y$$){this._position.y=$y$$},getY:function(){return this._position.y}});
ccs.PositionFrame.create=function $ccs$PositionFrame$create$(){return new ccs.PositionFrame};
ccs.ScaleFrame=ccs.Frame.extend({_scaleX:null,_scaleY:null,_betweenScaleX:null,_betweenScaleY:null,ctor:function(){ccs.Frame.prototype.ctor.call(this);this._scaleY=this._scaleX=1},onEnter:function($nextFrame$$){this._node.setScaleX(this._scaleX);this._node.setScaleY(this._scaleY);this._tween&&(this._betweenScaleX=$nextFrame$$._scaleX-this._scaleX,this._betweenScaleY=$nextFrame$$._scaleY-this._scaleY)},apply:function($percent$$){if(this._tween&&(0!=this._betweenScaleX||0!=this._betweenScaleY)){var $scaleY$$=
this._scaleY+this._betweenScaleY*$percent$$;this._node.setScaleX(this._scaleX+this._betweenScaleX*$percent$$);this._node.setScaleY($scaleY$$)}},clone:function(){var $frame$$=new ccs.ScaleFrame;$frame$$.setScaleX(this._scaleX);$frame$$.setScaleY(this._scaleY);$frame$$._cloneProperty(this);return $frame$$},setScale:function($scale$$){this._scaleY=this._scaleX=$scale$$},setScaleX:function($scaleX$$){this._scaleX=$scaleX$$},getScaleX:function(){return this._scaleX},setScaleY:function($scaleY$$){this._scaleY=
$scaleY$$},getScaleY:function(){return this._scaleY}});ccs.ScaleFrame.create=function $ccs$ScaleFrame$create$(){return new ccs.ScaleFrame};
ccs.AnchorPointFrame=ccs.Frame.extend({_anchorPoint:null,ctor:function(){ccs.Frame.prototype.ctor.call(this);this._anchorPoint=cc.p(0,0)},onEnter:function($nextFrame$$){this._node.setAnchorPoint(this._anchorPoint)},clone:function(){var $frame$$=new ccs.AnchorPointFrame;$frame$$.setAnchorPoint(this._anchorPoint);$frame$$._cloneProperty(this);return $frame$$},setAnchorPoint:function($point$$){this._anchorPoint=$point$$},getAnchorPoint:function(){return this._anchorPoint}});
ccs.AnchorPointFrame.create=function $ccs$AnchorPointFrame$create$(){return new ccs.AnchorPointFrame};ccs.InnerActionType={LoopAction:0,NoLoopAction:1,SingleFrame:2};
ccs.InnerActionFrame=ccs.Frame.extend({_innerActionType:null,_startFrameIndex:null,ctor:function(){ccs.Frame.prototype.ctor.call(this);this._innerActionType=ccs.InnerActionType.LoopAction;this._startFrameIndex=0},onEnter:function($nextFrame$$){},clone:function(){var $frame$$=new ccs.InnerActionFrame;$frame$$.setInnerActionType(this._innerActionType);$frame$$.setStartFrameIndex(this._startFrameIndex);$frame$$._cloneProperty(this);return $frame$$},setInnerActionType:function($type$$){this._innerActionType=
$type$$},getInnerActionType:function(){return this._innerActionType},setStartFrameIndex:function($frameIndex$$){this._startFrameIndex=$frameIndex$$},getStartFrameIndex:function(){return this._startFrameIndex}});ccs.InnerActionFrame.create=function $ccs$InnerActionFrame$create$(){return new ccs.InnerActionFrame};
ccs.ColorFrame=ccs.Frame.extend({_alpha:null,_color:null,_betweenAlpha:null,_betweenRed:null,_betweenGreen:null,_betweenBlue:null,ctor:function(){ccs.Frame.prototype.ctor.call(this);this._alpha=255;this.color=cc.color(255,255,255)},onEnter:function($color$$92_nextFrame$$){this._node.setOpacity(this._alpha);this._node.setColor(this._color);this._tween&&(this._betweenAlpha=$color$$92_nextFrame$$._alpha-this._alpha,$color$$92_nextFrame$$=$color$$92_nextFrame$$._color,this._betweenRed=$color$$92_nextFrame$$.r-
this._color.r,this._betweenGreen=$color$$92_nextFrame$$.g-this._color.g,this._betweenBlue=$color$$92_nextFrame$$.b-this._color.b)},apply:function($percent$$){if(this._tween&&(0!=this._betweenAlpha||0!=this._betweenRed||0!=this._betweenGreen||0!=this._betweenBlue)){var $alpha$$=this._alpha+this._betweenAlpha*$percent$$,$color$$=cc.color(255,255,255);$color$$.r=this._color.r+this._betweenRed*$percent$$;$color$$.g=this._color.g+this._betweenGreen*$percent$$;$color$$.b=this._color.b+this._betweenBlue*
$percent$$;this._node.setOpacity($alpha$$);this._node.setColor($color$$)}},clone:function(){var $frame$$=new ccs.ColorFrame;$frame$$.setAlpha(this._alpha);$frame$$.setColor(this._color);$frame$$._cloneProperty(this);return $frame$$},setAlpha:function($alpha$$){this._alpha=$alpha$$},getAlpha:function(){return this._alpha},setColor:function($color$$){this._color=$color$$},getColor:function(){return this._color}});ccs.ColorFrame.create=function $ccs$ColorFrame$create$(){return new ccs.ColorFrame};
ccs.EventFrame=ccs.Frame.extend({_event:null,ctor:function(){ccs.Frame.prototype.ctor.call(this);this._event=""},onEnter:function($nextFrame$$){this._emitEvent()},clone:function(){var $frame$$=new ccs.EventFrame;$frame$$.setEvent(this._event);$frame$$._cloneProperty(this);return $frame$$},setEvent:function($event$$){this._event=$event$$},getEvent:function(){return this._event}});ccs.EventFrame.create=function $ccs$EventFrame$create$(){return new ccs.EventFrame};
ccs.ZOrderFrame=ccs.Frame.extend({_zorder:null,onEnter:function($nextFrame$$){this._node&&this._node.setLocalZOrder(this._zorder)},clone:function(){var $frame$$=new ccs.ZOrderFrame;$frame$$.setZOrder(this._zorder);$frame$$._cloneProperty(this);return $frame$$},setZOrder:function($zorder$$){this._zorder=$zorder$$},getZOrder:function(){return this._zorder}});ccs.ZOrderFrame.create=function $ccs$ZOrderFrame$create$(){return new ccs.ZOrderFrame};
ccs.Timeline=ccs.Class.extend({_frames:null,_currentKeyFrame:null,_currentKeyFrameIndex:null,_fromIndex:null,_toIndex:null,_betweenDuration:null,_actionTag:null,_ActionTimeline:null,_node:null,ctor:function(){this._frames=[];this._currentKeyFrame=null;this._actionTag=this._betweenDuration=this._toIndex=this._fromIndex=this._currentKeyFrameIndex=0;this._node=this._ActionTimeline=null},_gotoFrame:function($frameIndex$$){0!=this._frames.length&&(this._binarySearchKeyFrame($frameIndex$$),this._apply($frameIndex$$))},
_stepToFrame:function($frameIndex$$){0!=this._frames.length&&(this._updateCurrentKeyFrame($frameIndex$$),this._apply($frameIndex$$))},getFrames:function(){return this._frames},addFrame:function($frame$$){this._frames.push($frame$$);$frame$$.setTimeline(this)},insertFrame:function($frame$$,$index$$){this._frames.splice($index$$,0,$frame$$);$frame$$.setTimeline(this)},removeFrame:function($frame$$){cc.arrayRemoveObject(this._frames,$frame$$);$frame$$.setTimeline(null)},setActionTag:function($tag$$){this._actionTag=
$tag$$},getActionTag:function(){return this._actionTag},setNode:function($node$$){for(var $i$$=0;$i$$<this._frames.length;$i$$++)this._frames[$i$$].setNode($node$$)},getNode:function(){return this._node},setActionTimeline:function($action$$){this._ActionTimeline=$action$$},getActionTimeline:function(){return this._ActionTimeline},clone:function(){var $timeline$$=new ccs.Timeline;$timeline$$._actionTag=this._actionTag;for(var $i$$=0;$i$$<this._frames.length;$i$$++){var $newFrame$$=this._frames[$i$$].clone();
$timeline$$.addFrame($newFrame$$)}return $timeline$$},_apply:function($frameIndex$$){this._currentKeyFrame&&this._currentKeyFrame.apply(0==this._betweenDuration?0:($frameIndex$$-this._currentKeyFrameIndex)/this._betweenDuration)},_binarySearchKeyFrame:function($frameIndex$$){var $from$$8_low$$=null,$high$$2_to$$=null,$length$$=this._frames.length,$needEnterFrame$$=!1;do if($frameIndex$$<=this._frames[0].getFrameIndex())this._currentKeyFrameIndex>=this._frames[0].getFrameIndex()&&($needEnterFrame$$=
!0),$from$$8_low$$=$high$$2_to$$=this._frames[0],this._currentKeyFrameIndex=0,this._betweenDuration=this._frames[0].getFrameIndex();else if($frameIndex$$>=this._frames[$length$$-1].getFrameIndex())$from$$8_low$$=$high$$2_to$$=this._frames[$length$$-1],this._currentKeyFrameIndex=this._frames[$length$$-1].getFrameIndex(),this._betweenDuration=0;else{for(var $target$$=-1,$from$$8_low$$=0,$high$$2_to$$=$length$$-1,$mid$$=0;$from$$8_low$$<=$high$$2_to$$;){$mid$$=Math.ceil(($from$$8_low$$+$high$$2_to$$)/
2);if($frameIndex$$>=this._frames[$mid$$].getFrameIndex()&&$frameIndex$$<this._frames[$mid$$+1].getFrameIndex()){$target$$=$mid$$;break}this._frames[$mid$$].getFrameIndex()>$frameIndex$$?$high$$2_to$$=$mid$$-1:$from$$8_low$$=$mid$$+1}$from$$8_low$$=this._frames[$target$$];$high$$2_to$$=this._frames[$target$$+1];0==$target$$&&this._currentKeyFrameIndex<$from$$8_low$$.getFrameIndex()&&($needEnterFrame$$=!0);this._currentKeyFrameIndex=$from$$8_low$$.getFrameIndex();this._betweenDuration=$high$$2_to$$.getFrameIndex()-
$from$$8_low$$.getFrameIndex()}while(0);if($needEnterFrame$$||this._currentKeyFrame!=$from$$8_low$$)this._currentKeyFrame=$from$$8_low$$,this._currentKeyFrame.onEnter($high$$2_to$$)},_updateCurrentKeyFrame:function($frameIndex$$){if($frameIndex$$<this._currentKeyFrameIndex||$frameIndex$$>=this._currentKeyFrameIndex+this._betweenDuration){var $from$$=null,$to$$=null;do{var $length$$=this._frames.length;if($frameIndex$$<this._frames[0].getFrameIndex())$from$$=$to$$=this._frames[0],this._currentKeyFrameIndex=
0,this._betweenDuration=this._frames[0].getFrameIndex();else if($frameIndex$$>=this._frames[$length$$-1].getFrameIndex())$from$$=$to$$=this._frames[$length$$-1],this._currentKeyFrameIndex=this._frames[$length$$-1].getFrameIndex(),this._betweenDuration=0;else{do if(this._fromIndex=this._toIndex,$from$$=this._frames[this._fromIndex],this._currentKeyFrameIndex=$from$$.getFrameIndex(),this._toIndex=this._fromIndex+1,this._toIndex>=$length$$&&(this._toIndex=0),$to$$=this._frames[this._toIndex],$frameIndex$$==
$from$$.getFrameIndex())break;while($frameIndex$$<$from$$.getFrameIndex()||$frameIndex$$>=$to$$.getFrameIndex());this._betweenDuration=$to$$.getFrameIndex()-$from$$.getFrameIndex()}}while(0);this._currentKeyFrame=$from$$;this._currentKeyFrame.onEnter($to$$)}}});ccs.Timeline.create=function $ccs$Timeline$create$(){return new ccs.Timeline};
cc.pool={_pool:{},_releaseCB:function $cc$pool$_releaseCB$(){this.release()},_autoRelease:function $cc$pool$_autoRelease$($obj$$){var $running$$=void 0===$obj$$._running?!1:!$obj$$._running;cc.director.getScheduler().scheduleCallbackForTarget($obj$$,this._releaseCB,0,0,0,$running$$)},putInPool:function $cc$pool$putInPool$($obj$$){var $pid$$=$obj$$.constructor.prototype.__pid;if(!$pid$$){var $desc$$={writable:!0,enumerable:!1,configurable:!0};$desc$$.value=ClassManager.getNewID();Object.defineProperty($obj$$.constructor.prototype,
"__pid",$desc$$)}this._pool[$pid$$]||(this._pool[$pid$$]=[]);$obj$$.retain&&$obj$$.retain();$obj$$.unuse&&$obj$$.unuse();this._pool[$pid$$].push($obj$$)},hasObject:function $cc$pool$hasObject$($list$$){return($list$$=this._pool[$list$$.prototype.__pid])&&0!=$list$$.length?!0:!1},removeObject:function $cc$pool$removeObject$($obj$$){var $list$$5_pid$$=$obj$$.constructor.prototype.__pid;if($list$$5_pid$$&&($list$$5_pid$$=this._pool[$list$$5_pid$$]))for(var $i$$=0;$i$$<$list$$5_pid$$.length;$i$$++)$obj$$===
$list$$5_pid$$[$i$$]&&($obj$$.release&&$obj$$.release(),$list$$5_pid$$.splice($i$$,1))},getFromPool:function $cc$pool$getFromPool$($objClass$$){if(this.hasObject($objClass$$)){var $list$$6_obj$$=this._pool[$objClass$$.prototype.__pid],$args$$=Array.prototype.slice.call(arguments);$args$$.shift();$list$$6_obj$$=$list$$6_obj$$.pop();$list$$6_obj$$.reuse&&$list$$6_obj$$.reuse.apply($list$$6_obj$$,$args$$);cc.sys.isNative&&$list$$6_obj$$.release&&this._autoRelease($list$$6_obj$$);return $list$$6_obj$$}},
drainAllPools:function $cc$pool$drainAllPools$(){for(var $i$$ in this._pool)for(var $j$$=0;$j$$<this._pool[$i$$].length;$j$$++){var $obj$$=this._pool[$i$$][$j$$];$obj$$.release&&$obj$$.release()}this._pool={}}};
(function(){if(void 0!==cc){var $config$$=cc.game.config.plugin||{},$Plugin$$=function $$Plugin$$$(){};$Plugin$$.prototype={constructor:$Plugin$$,getInstance:function $$Plugin$$$$getInstance$(){return this},loadPlugin:function $$Plugin$$$$loadPlugin$($pluginName$$){},unloadPlugin:function $$Plugin$$$$unloadPlugin$($pluginName$$){}};var $PluginAssembly$$=function $$PluginAssembly$$$(){};$PluginAssembly$$.prototype={constructor:$PluginAssembly$$,setDebugMode:function $$PluginAssembly$$$$setDebugMode$($debug$$){},
startSession:function $$PluginAssembly$$$$startSession$($appKey$$){},setCaptureUncaughtException:function $$PluginAssembly$$$$setCaptureUncaughtException$($Capture$$){},callFuncWithParam:function $$PluginAssembly$$$$callFuncWithParam$($funName$$){if("function"===typeof this[$funName$$])return this[$funName$$].apply(this,Array.prototype.splice.call(arguments,1));cc.log("function is not define")},callStringFuncWithParam:function $$PluginAssembly$$$$callStringFuncWithParam$($funName$$){this.callFuncWithParam.apply(arguments)},
getPluginName:function $$PluginAssembly$$$$getPluginName$(){return this._name},getPluginVersion:function $$PluginAssembly$$$$getPluginVersion$(){return this._version}};$PluginAssembly$$.extend=function $$PluginAssembly$$$extend$($name$$,$porp$$){var $p$$40_tmp$$,$prototype$$={};for($p$$40_tmp$$ in $PluginAssembly$$.prototype)$prototype$$[$p$$40_tmp$$]=$PluginAssembly$$.prototype[$p$$40_tmp$$];for($p$$40_tmp$$ in $porp$$)$prototype$$[$p$$40_tmp$$]=$porp$$[$p$$40_tmp$$];$p$$40_tmp$$=eval("(function "+
$name$$+"Plugin(){})");$prototype$$.constructor=$p$$40_tmp$$;$p$$40_tmp$$.prototype=$prototype$$;return $p$$40_tmp$$};var $Param$$=function $$Param$$$($type$$,$value$$){var $paramType$$=plugin.PluginParam.ParamType;switch($type$$){case $paramType$$.TypeInt:$paramType$$=parseInt($value$$);break;case $paramType$$.TypeFloat:$paramType$$=parseFloat($value$$);break;case $paramType$$.TypeBool:$paramType$$=Boolean($value$$);break;case $paramType$$.TypeString:$paramType$$=String($value$$);break;case $paramType$$.TypeStringMap:$paramType$$=
$value$$;break;default:$paramType$$=$value$$}return $paramType$$};$Param$$.ParamType={TypeInt:1,TypeFloat:2,TypeBool:3,TypeString:4,TypeStringMap:5};$Param$$.AdsResultCode={AdsReceived:0,FullScreenViewShown:1,FullScreenViewDismissed:2,PointsSpendSucceed:3,PointsSpendFailed:4,NetworkError:5,UnknownError:6};$Param$$.PayResultCode={PaySuccess:0,PayFail:1,PayCancel:2,PayTimeOut:3};$Param$$.ShareResultCode={ShareSuccess:0,ShareFail:1,ShareCancel:2,ShareTimeOut:3};var $PluginList$$={},$Plugin$$={extend:function($name$$,
$extend$$){$PluginList$$[$name$$]=new ($PluginAssembly$$.extend($name$$,$extend$$));"function"===typeof $PluginList$$[$name$$].ctor&&$PluginList$$[$name$$].ctor($config$$[$name$$])},PluginList:$PluginList$$,PluginParam:$Param$$,PluginManager:new $Plugin$$};window.plugin=$Plugin$$}})();
(function(){cc.PhysicsSprite=cc.Sprite.extend({_ignoreBodyRotation:!1,_body:null,_rotation:1,ctor:function($fileName$$,$rect$$){cc.Sprite.prototype.ctor.call(this);if(void 0===$fileName$$)cc.PhysicsSprite.prototype.init.call(this);else if(cc.isString($fileName$$))if("#"===$fileName$$[0]){var $frameName$$3_spriteFrame$$=$fileName$$.substr(1,$fileName$$.length-1),$frameName$$3_spriteFrame$$=cc.spriteFrameCache.getSpriteFrame($frameName$$3_spriteFrame$$);this.initWithSpriteFrame($frameName$$3_spriteFrame$$)}else this.init($fileName$$,
$rect$$);else cc.isObject($fileName$$)&&($fileName$$ instanceof cc.Texture2D?this.initWithTexture($fileName$$,$rect$$):$fileName$$ instanceof cc.SpriteFrame&&this.initWithSpriteFrame($fileName$$));this._transformCmd=cc._renderType===cc._RENDER_TYPE_CANVAS?new cc.CustomRenderCmdCanvas(this,function(){this.transform&&this.transform()}):new cc.CustomRenderCmdWebGL(this,function(){this._transformForRenderer&&this._transformForRenderer()});cc.renderer.pushRenderCommand(this._transformCmd)},visit:function(){cc.renderer.pushRenderCommand(this._transformCmd);
cc.Sprite.prototype.visit.call(this)},setBody:function($body$$){this._body=$body$$},getBody:function(){return this._body},getPosition:function(){var $locBody$$=this._body;return{x:$locBody$$.p.x,y:$locBody$$.p.y}},getPositionX:function(){return this._body.p.x},getPositionY:function(){return this._body.p.y},setPosition:function($newPosOrxValue$$,$yValue$$){void 0===$yValue$$?(this._body.p.x=$newPosOrxValue$$.x,this._body.p.y=$newPosOrxValue$$.y):(this._body.p.x=$newPosOrxValue$$,this._body.p.y=$yValue$$)},
setPositionX:function($xValue$$){this._body.p.x=$xValue$$},setPositionY:function($yValue$$){this._body.p.y=$yValue$$},_syncPosition:function(){var $locPosition$$=this._position,$locBody$$=this._body;$locPosition$$.x==$locBody$$.p.x&&$locPosition$$.y==$locBody$$.p.y||cc.Sprite.prototype.setPosition.call(this,$locBody$$.p.x,$locBody$$.p.y)},getRotation:function(){return this._ignoreBodyRotation?cc.radiansToDegrees(this._rotationRadiansX):-cc.radiansToDegrees(this._body.a)},setRotation:function($r$$){this._ignoreBodyRotation?
cc.Sprite.prototype.setRotation.call(this,$r$$):this._body.a=-cc.degreesToRadians($r$$)},_syncRotation:function(){this._rotationRadiansX!=-this._body.a&&cc.Sprite.prototype.setRotation.call(this,-cc.radiansToDegrees(this._body.a))},nodeToParentTransform:function(){return this.getNodeToParentTransform()},getNodeToParentTransform:function(){if(this._usingNormalizedPosition&&this._parent){var $conSize$$=this._parent._contentSize;this._position.x=this._normalizedPosition.x*$conSize$$.width;this._position.y=
this._normalizedPosition.y*$conSize$$.height;this._normalizedPositionDirty=!1}if(cc._renderType===cc._RENDER_TYPE_CANVAS)return this._nodeToParentTransformForCanvas();var $c$$203_locBody$$=this._body,$conSize$$=this._anchorPointInPoints,$locScaleX$$=this._scaleX,$locScaleY$$=this._scaleY,$x$$=$c$$203_locBody$$.p.x,$y$$=$c$$203_locBody$$.p.y;this._ignoreAnchorPointForPosition&&($x$$+=$conSize$$.x,$y$$+=$conSize$$.y);var $radians$$12_s$$=$c$$203_locBody$$.a,$c$$203_locBody$$=Math.cos($radians$$12_s$$),
$radians$$12_s$$=Math.sin($radians$$12_s$$);cc._rectEqualToZero($conSize$$)||($x$$+=$c$$203_locBody$$*-$conSize$$.x*$locScaleX$$+-$radians$$12_s$$*-$conSize$$.y*$locScaleY$$,$y$$+=$radians$$12_s$$*-$conSize$$.x*$locScaleX$$+$c$$203_locBody$$*-$conSize$$.y*$locScaleY$$);return this._transform=cc.affineTransformMake($c$$203_locBody$$*$locScaleX$$,$radians$$12_s$$*$locScaleX$$,-$radians$$12_s$$*$locScaleY$$,$c$$203_locBody$$*$locScaleY$$,$x$$,$y$$)},_nodeToParentTransformForCanvas:function(){if(this.dirty){var $t$$=
this._transform,$locBody$$6_radians$$=this._body,$locScaleX$$=this._scaleX,$locScaleY$$=this._scaleY,$locAnchorPIP$$=this._anchorPointInPoints;$t$$.tx=$locBody$$6_radians$$.p.x;$t$$.ty=$locBody$$6_radians$$.p.y;var $locBody$$6_radians$$=-$locBody$$6_radians$$.a,$Cos$$=1,$Sin$$=0;$locBody$$6_radians$$&&($Cos$$=Math.cos($locBody$$6_radians$$),$Sin$$=Math.sin($locBody$$6_radians$$));$t$$.a=$t$$.d=$Cos$$;$t$$.b=-$Sin$$;$t$$.c=$Sin$$;if(1!==$locScaleX$$||1!==$locScaleY$$)$t$$.a*=$locScaleX$$,$t$$.c*=$locScaleX$$,
$t$$.b*=$locScaleY$$,$t$$.d*=$locScaleY$$;$t$$.tx+=$Cos$$*-$locAnchorPIP$$.x*$locScaleX$$+-$Sin$$*$locAnchorPIP$$.y*$locScaleY$$;$t$$.ty-=$Sin$$*-$locAnchorPIP$$.x*$locScaleX$$+$Cos$$*$locAnchorPIP$$.y*$locScaleY$$;this._ignoreAnchorPointForPosition&&($t$$.tx+=$locAnchorPIP$$.x,$t$$.ty+=$locAnchorPIP$$.y);this._transformDirty=!1}return this._transform},isDirty:function(){return!this._body.isSleeping()},setDirty:function(){},setIgnoreBodyRotation:function($b$$){this._ignoreBodyRotation=$b$$}});cc.PhysicsSprite._className=
"PhysicsSprite";var $_p$$=cc.PhysicsSprite.prototype;$_p$$.body;cc.defineGetterSetter($_p$$,"body",$_p$$.getBody,$_p$$.setBody);$_p$$.dirty;cc.defineGetterSetter($_p$$,"dirty",$_p$$.isDirty,$_p$$.setDirty);cc.PhysicsSprite.create=function $cc$PhysicsSprite$create$($fileName$$,$rect$$){return new cc.PhysicsSprite($fileName$$,$rect$$)};cc.PhysicsSprite.createWithSpriteFrameName=cc.PhysicsSprite.create;cc.PhysicsSprite.createWithSpriteFrame=cc.PhysicsSprite.create})();
cc.__convertVerts=function $cc$__convertVerts$($verts$$){for(var $ret$$=[],$i$$=0;$i$$<$verts$$.length/2;$i$$++)$ret$$[$i$$]={x:$verts$$[2*$i$$],y:$verts$$[2*$i$$+1]};return $ret$$};cc.ColorForBody=function $cc$ColorForBody$($body$$){return $body$$.isRogue()||$body$$.isSleeping()?cc.color(128,128,128,128):$body$$.nodeIdleTime>$body$$.space.sleepTimeThreshold?cc.color(84,84,84,128):cc.color(255,0,0,128)};
cc.DrawShape=function $cc$DrawShape$($shape$$,$renderer$$){var $body$$9_line$$=$shape$$.body,$color$$=cc.ColorForBody($body$$9_line$$);switch($shape$$.collisionCode){case cp.CircleShape.prototype.collisionCode:this.drawDot($shape$$.tc,Math.max($shape$$.r,1),$color$$);this.drawSegment($shape$$.tc,cp.v.add($shape$$.tc,cp.v.mult($body$$9_line$$.rot,$shape$$.r)),1,$color$$);break;case cp.SegmentShape.prototype.collisionCode:this.drawSegment($shape$$.ta,$shape$$.tb,Math.max($shape$$.r,2),$color$$);break;
case cp.PolyShape.prototype.collisionCode:$body$$9_line$$=cc.color($color$$.r,$color$$.g,$color$$.b,cc.lerp($color$$.a,255,.5));this.drawPoly(cc.__convertVerts($shape$$.tVerts),$color$$,1,$body$$9_line$$);break;default:cc.log("cc.DrawShape(): Bad assertion in DrawShape()")}};
cc.DrawConstraint=function $cc$DrawConstraint$($constraint$$,$renderer$$){var $b$$=$constraint$$.a,$body_b_c$$=$constraint$$.b,$a$$;$constraint$$ instanceof cp.PinJoint?($a$$=$b$$.local2World($constraint$$.anchr1),$b$$=$body_b_c$$.local2World($constraint$$.anchr2),this.drawDot($a$$,3,cc.CONSTRAINT_COLOR),this.drawDot($b$$,3,cc.CONSTRAINT_COLOR),this.drawSegment($a$$,$b$$,1,cc.CONSTRAINT_COLOR)):$constraint$$ instanceof cp.SlideJoint?($a$$=$b$$.local2World($constraint$$.anchr1),$b$$=$body_b_c$$.local2World($constraint$$.anchr2),
this.drawDot($a$$,3,cc.CONSTRAINT_COLOR),this.drawDot($b$$,3,cc.CONSTRAINT_COLOR),this.drawSegment($a$$,$b$$,1,cc.CONSTRAINT_COLOR)):$constraint$$ instanceof cp.PivotJoint?($a$$=$b$$.local2World($constraint$$.anchr1),$b$$=$body_b_c$$.local2World($constraint$$.anchr2),this.drawDot($a$$,3,cc.CONSTRAINT_COLOR),this.drawDot($b$$,3,cc.CONSTRAINT_COLOR)):$constraint$$ instanceof cp.GrooveJoint&&($a$$=$b$$.local2World($constraint$$.grv_a),$b$$=$b$$.local2World($constraint$$.grv_b),$body_b_c$$=$body_b_c$$.local2World($constraint$$.anchr2),
this.drawDot($body_b_c$$,3,cc.CONSTRAINT_COLOR),this.drawSegment($a$$,$b$$,1,cc.CONSTRAINT_COLOR))};cc.CONSTRAINT_COLOR=cc.color(0,255,0,128);
cc.PhysicsDebugNode=cc.DrawNode.extend({_space:null,_className:"PhysicsDebugNode",ctor:function($space$$){cc.DrawNode.prototype.ctor.call(this);this._space=$space$$},_initRendererCmd:function(){this._rendererCmd=cc._renderType===cc._RENDER_TYPE_CANVAS?new cc.PhysicsDebugNodeRenderCmdCanvas(this):new cc.PhysicsDebugNodeRenderCmdWebGL(this)},getSpace:function(){return this._space},setSpace:function($space$$){this._space=$space$$},draw:function($context$$){this._space&&(this._space.eachShape(cc.DrawShape.bind(this)),
this._space.eachConstraint(cc.DrawConstraint.bind(this)),cc.DrawNode.prototype.draw.call(this),this.clear())}});cc.PhysicsDebugNode.create=function $cc$PhysicsDebugNode$create$($space$$){return new cc.PhysicsDebugNode($space$$)};var io="undefined"==typeof module?{}:module.exports;
(function(){(function($a$$0$$,$b$$){$a$$0$$.version="0.9.16";$a$$0$$.protocol=1;$a$$0$$.transports=[];$a$$0$$.j=[];$a$$0$$.sockets={};$a$$0$$.connect=function $$a$$0$$$connect$($a$$,$d$$){var $e$$=$a$$0$$.util.parseUri($a$$),$f$$,$g$$;$b$$&&$b$$.location&&($e$$.protocol=$e$$.protocol||$b$$.location.protocol.slice(0,-1),$e$$.host=$e$$.host||($b$$.document?$b$$.document.domain:$b$$.location.hostname),$e$$.port=$e$$.port||$b$$.location.port);$f$$=$a$$0$$.util.uniqueUri($e$$);var $h$$={host:$e$$.host,
secure:"https"==$e$$.protocol,port:$e$$.port||("https"==$e$$.protocol?443:80),query:$e$$.query||""};$a$$0$$.util.merge($h$$,$d$$);if($h$$["force new connection"]||!$a$$0$$.sockets[$f$$])$g$$=new $a$$0$$.Socket($h$$);return!$h$$["force new connection"]&&$g$$&&($a$$0$$.sockets[$f$$]=$g$$),$g$$=$g$$||$a$$0$$.sockets[$f$$],$g$$.of(1<$e$$.path.length?$e$$.path:"")}})("object"==typeof module?module.exports:this.io={},this);(function($a$$0$$,$b$$0$$){var $c$$0$$=$a$$0$$.util={},$d$$0$$=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,
$e$$0$$="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");$c$$0$$.parseUri=function $$c$$0$$$parseUri$($a$$319_b$$){$a$$319_b$$=$d$$0$$.exec($a$$319_b$$||"");for(var $c$$={},$f$$=14;$f$$--;)$c$$[$e$$0$$[$f$$]]=$a$$319_b$$[$f$$]||"";return $c$$};$c$$0$$.uniqueUri=function $$c$$0$$$uniqueUri$($a$$320_e$$){var $c$$=$a$$320_e$$.protocol,$d$$=$a$$320_e$$.host;$a$$320_e$$=$a$$320_e$$.port;return"document"in $b$$0$$?($d$$=$d$$||document.domain,
$a$$320_e$$=$a$$320_e$$||("https"==$c$$&&"https:"!==document.location.protocol?443:document.location.port)):($d$$=$d$$||"localhost",!$a$$320_e$$&&"https"==$c$$&&($a$$320_e$$=443)),($c$$||"http")+"://"+$d$$+":"+($a$$320_e$$||80)};$c$$0$$.query=function $$c$$0$$$query$($a$$,$b$$){var $d$$=$c$$0$$.chunkQuery($a$$||""),$e$$=[];$c$$0$$.merge($d$$,$c$$0$$.chunkQuery($b$$||""));for(var $f$$ in $d$$)$d$$.hasOwnProperty($f$$)&&$e$$.push($f$$+"="+$d$$[$f$$]);return $e$$.length?"?"+$e$$.join("&"):""};$c$$0$$.chunkQuery=
function $$c$$0$$$chunkQuery$($a$$322_c$$){var $b$$={};$a$$322_c$$=$a$$322_c$$.split("&");for(var $d$$=0,$e$$=$a$$322_c$$.length,$f$$;$d$$<$e$$;++$d$$)$f$$=$a$$322_c$$[$d$$].split("="),$f$$[0]&&($b$$[$f$$[0]]=$f$$[1]);return $b$$};var $f$$0$$=!1;$c$$0$$.load=function $$c$$0$$$load$($a$$){if("document"in $b$$0$$&&"complete"===document.readyState||$f$$0$$)return $a$$();$c$$0$$.on($b$$0$$,"load",$a$$,!1)};$c$$0$$.on=function $$c$$0$$$on$($a$$,$b$$,$c$$,$d$$){$a$$.attachEvent?$a$$.attachEvent("on"+$b$$,
$c$$):$a$$.addEventListener&&$a$$.addEventListener($b$$,$c$$,$d$$)};$c$$0$$.request=function $$c$$0$$$request$($a$$){if($a$$&&"undefined"!=typeof XDomainRequest&&!$c$$0$$.ua.hasCORS)return new XDomainRequest;if("undefined"!=typeof XMLHttpRequest&&(!$a$$||$c$$0$$.ua.hasCORS))return new XMLHttpRequest;if(!$a$$)try{return new (window[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch($b$$){}return null};"undefined"!=typeof window&&$c$$0$$.load(function(){$f$$0$$=!0});$c$$0$$.defer=function $$c$$0$$$defer$($a$$){if(!$c$$0$$.ua.webkit||
"undefined"!=typeof importScripts)return $a$$();$c$$0$$.load(function(){setTimeout($a$$,100)})};$c$$0$$.merge=function $$c$$0$$$merge$($b$$,$d$$,$e$$118_h$$,$f$$103_g$$){$f$$103_g$$=$f$$103_g$$||[];$e$$118_h$$="undefined"==typeof $e$$118_h$$?2:$e$$118_h$$;for(var $i$$ in $d$$)$d$$.hasOwnProperty($i$$)&&0>$c$$0$$.indexOf($f$$103_g$$,$i$$)&&("object"==typeof $b$$[$i$$]&&$e$$118_h$$?$c$$0$$.merge($b$$[$i$$],$d$$[$i$$],$e$$118_h$$-1,$f$$103_g$$):($b$$[$i$$]=$d$$[$i$$],$f$$103_g$$.push($d$$[$i$$])));return $b$$};
$c$$0$$.mixin=function $$c$$0$$$mixin$($a$$,$b$$){$c$$0$$.merge($a$$.prototype,$b$$.prototype)};$c$$0$$.inherit=function $$c$$0$$$inherit$($a$$,$b$$){function $c$$(){}$c$$.prototype=$b$$.prototype;$a$$.prototype=new $c$$};$c$$0$$.isArray=Array.isArray||function($a$$){return"[object Array]"===Object.prototype.toString.call($a$$)};$c$$0$$.intersect=function $$c$$0$$$intersect$($a$$,$b$$){for(var $d$$=[],$e$$=$a$$.length>$b$$.length?$a$$:$b$$,$f$$=$a$$.length>$b$$.length?$b$$:$a$$,$g$$=0,$h$$=$f$$.length;$g$$<
$h$$;$g$$++)~$c$$0$$.indexOf($e$$,$f$$[$g$$])&&$d$$.push($f$$[$g$$]);return $d$$};$c$$0$$.indexOf=function $$c$$0$$$indexOf$($a$$,$b$$,$c$$){var $d$$=$a$$.length;for($c$$=0>$c$$?0>$c$$+$d$$?0:$c$$+$d$$:$c$$||0;$c$$<$d$$&&$a$$[$c$$]!==$b$$;$c$$++);return $d$$<=$c$$?-1:$c$$};$c$$0$$.toArray=function $$c$$0$$$toArray$($a$$){for(var $b$$=[],$c$$=0,$d$$=$a$$.length;$c$$<$d$$;$c$$++)$b$$.push($a$$[$c$$]);return $b$$};$c$$0$$.ua={};$c$$0$$.ua.hasCORS="undefined"!=typeof XMLHttpRequest&&function(){try{var $a$$=
new XMLHttpRequest}catch($b$$){return!1}return void 0!=$a$$.withCredentials}();$c$$0$$.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent);$c$$0$$.ua.iDevice="undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)})("undefined"!=typeof io?io:module.exports,this);(function($a$$0$$,$b$$0$$){function $c$$0$$(){}$a$$0$$.EventEmitter=$c$$0$$;$c$$0$$.prototype.on=function $$c$$0$$$$on$($a$$,$c$$){return this.$events||(this.$events={}),this.$events[$a$$]?$b$$0$$.util.isArray(this.$events[$a$$])?
this.$events[$a$$].push($c$$):this.$events[$a$$]=[this.$events[$a$$],$c$$]:this.$events[$a$$]=$c$$,this};$c$$0$$.prototype.addListener=$c$$0$$.prototype.on;$c$$0$$.prototype.once=function $$c$$0$$$$once$($a$$,$b$$){function $d$$(){$c$$.removeListener($a$$,$d$$);$b$$.apply(this,arguments)}var $c$$=this;return $d$$.listener=$b$$,this.on($a$$,$d$$),this};$c$$0$$.prototype.removeListener=function $$c$$0$$$$removeListener$($a$$,$c$$){if(this.$events&&this.$events[$a$$]){var $d$$=this.$events[$a$$];if($b$$0$$.util.isArray($d$$)){for(var $e$$=
-1,$f$$=0,$g$$=$d$$.length;$f$$<$g$$;$f$$++)if($d$$[$f$$]===$c$$||$d$$[$f$$].listener&&$d$$[$f$$].listener===$c$$){$e$$=$f$$;break}if(0>$e$$)return this;$d$$.splice($e$$,1);$d$$.length||delete this.$events[$a$$]}else($d$$===$c$$||$d$$.listener&&$d$$.listener===$c$$)&&delete this.$events[$a$$]}return this};$c$$0$$.prototype.removeAllListeners=function $$c$$0$$$$removeAllListeners$($a$$){return void 0===$a$$?(this.$events={},this):(this.$events&&this.$events[$a$$]&&(this.$events[$a$$]=null),this)};
$c$$0$$.prototype.listeners=function $$c$$0$$$$listeners$($a$$){return this.$events||(this.$events={}),this.$events[$a$$]||(this.$events[$a$$]=[]),$b$$0$$.util.isArray(this.$events[$a$$])||(this.$events[$a$$]=[this.$events[$a$$]]),this.$events[$a$$]};$c$$0$$.prototype.emit=function $$c$$0$$$$emit$($a$$){if(!this.$events)return!1;var $c$$218_e$$=this.$events[$a$$];if(!$c$$218_e$$)return!1;var $d$$=Array.prototype.slice.call(arguments,1);if("function"==typeof $c$$218_e$$)$c$$218_e$$.apply(this,$d$$);
else{if(!$b$$0$$.util.isArray($c$$218_e$$))return!1;for(var $c$$218_e$$=$c$$218_e$$.slice(),$f$$=0,$g$$=$c$$218_e$$.length;$f$$<$g$$;$f$$++)$c$$218_e$$[$f$$].apply(this,$d$$)}return!0}})("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports);(function($exports$$,$nativeJSON$$){function $f$$0$$($a$$){return 10>$a$$?"0"+$a$$:$a$$}function $quote$$($a$$0$$){return $escapable$$.lastIndex=0,$escapable$$.test($a$$0$$)?'"'+$a$$0$$.replace($escapable$$,function($a$$){var $b$$=
$meta$$[$a$$];return"string"==typeof $b$$?$b$$:"\\u"+("0000"+$a$$.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+$a$$0$$+'"'}function $str$$($a$$,$b$$){var $c$$,$d$$,$e$$,$f$$,$g$$=$gap$$,$h$$,$i$$=$b$$[$a$$];$i$$ instanceof Date&&($i$$=isFinite($a$$.valueOf())?$a$$.getUTCFullYear()+"-"+$f$$0$$($a$$.getUTCMonth()+1)+"-"+$f$$0$$($a$$.getUTCDate())+"T"+$f$$0$$($a$$.getUTCHours())+":"+$f$$0$$($a$$.getUTCMinutes())+":"+$f$$0$$($a$$.getUTCSeconds())+"Z":null);"function"==typeof $rep$$&&($i$$=$rep$$.call($b$$,
$a$$,$i$$));switch(typeof $i$$){case "string":return $quote$$($i$$);case "number":return isFinite($i$$)?String($i$$):"null";case "boolean":case "null":return String($i$$);case "object":if(!$i$$)return"null";$gap$$+=$indent$$;$h$$=[];if("[object Array]"===Object.prototype.toString.apply($i$$)){$f$$=$i$$.length;for($c$$=0;$c$$<$f$$;$c$$+=1)$h$$[$c$$]=$str$$($c$$,$i$$)||"null";return $e$$=0===$h$$.length?"[]":$gap$$?"[\n"+$gap$$+$h$$.join(",\n"+$gap$$)+"\n"+$g$$+"]":"["+$h$$.join(",")+"]",$gap$$=$g$$,
$e$$}if($rep$$&&"object"==typeof $rep$$)for($f$$=$rep$$.length,$c$$=0;$c$$<$f$$;$c$$+=1)"string"==typeof $rep$$[$c$$]&&($d$$=$rep$$[$c$$],$e$$=$str$$($d$$,$i$$),$e$$&&$h$$.push($quote$$($d$$)+($gap$$?": ":":")+$e$$));else for($d$$ in $i$$)Object.prototype.hasOwnProperty.call($i$$,$d$$)&&($e$$=$str$$($d$$,$i$$),$e$$&&$h$$.push($quote$$($d$$)+($gap$$?": ":":")+$e$$));return $e$$=0===$h$$.length?"{}":$gap$$?"{\n"+$gap$$+$h$$.join(",\n"+$gap$$)+"\n"+$g$$+"}":"{"+$h$$.join(",")+"}",$gap$$=$g$$,$e$$}}"use strict";
if($nativeJSON$$&&$nativeJSON$$.parse)return $exports$$.JSON={parse:$nativeJSON$$.parse,stringify:$nativeJSON$$.stringify};var $JSON$$=$exports$$.JSON={},$cx$$=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,$escapable$$=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,$gap$$,$indent$$,$meta$$={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},
$rep$$;$JSON$$.stringify=function $$JSON$$$stringify$($a$$,$b$$,$c$$){var $d$$;$indent$$=$gap$$="";if("number"==typeof $c$$)for($d$$=0;$d$$<$c$$;$d$$+=1)$indent$$+=" ";else"string"==typeof $c$$&&($indent$$=$c$$);$rep$$=$b$$;if(!$b$$||"function"==typeof $b$$||"object"==typeof $b$$&&"number"==typeof $b$$.length)return $str$$("",{"":$a$$});throw Error("JSON.stringify");};$JSON$$.parse=function $$JSON$$$parse$($text$$,$reviver$$){function $walk$$($a$$,$b$$){var $c$$,$d$$,$e$$=$a$$[$b$$];if($e$$&&"object"==
typeof $e$$)for($c$$ in $e$$)Object.prototype.hasOwnProperty.call($e$$,$c$$)&&($d$$=$walk$$($e$$,$c$$),void 0!==$d$$?$e$$[$c$$]=$d$$:delete $e$$[$c$$]);return $reviver$$.call($a$$,$b$$,$e$$)}var $j$$;$text$$=String($text$$);$cx$$.lastIndex=0;$cx$$.test($text$$)&&($text$$=$text$$.replace($cx$$,function($a$$){return"\\u"+("0000"+$a$$.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test($text$$.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return $j$$=eval("("+$text$$+")"),"function"==typeof $reviver$$?$walk$$({"":$j$$},""):$j$$;throw new SyntaxError("JSON.parse");}})("undefined"!=typeof io?io:module.exports,"undefined"!=typeof JSON?JSON:void 0);(function($a$$0$$,$b$$0$$){var $c$$0$$=$a$$0$$.parser={},$d$$0$$=$c$$0$$.packets="disconnect connect heartbeat message json event ack error noop".split(" "),$e$$0$$=$c$$0$$.reasons=["transport not supported","client not handshaken","unauthorized"],$f$$=
$c$$0$$.advice=["reconnect"],$g$$=$b$$0$$.JSON,$h$$0$$=$b$$0$$.util.indexOf;$c$$0$$.encodePacket=function $$c$$0$$$encodePacket$($a$$350_m$$){var $b$$250_o$$=$h$$0$$($d$$0$$,$a$$350_m$$.type),$c$$=$a$$350_m$$.id||"",$i$$=$a$$350_m$$.endpoint||"",$j$$=$a$$350_m$$.ack,$k$$33_n$$=null;switch($a$$350_m$$.type){case "error":var $l$$=$a$$350_m$$.reason?$h$$0$$($e$$0$$,$a$$350_m$$.reason):"";$a$$350_m$$=$a$$350_m$$.advice?$h$$0$$($f$$,$a$$350_m$$.advice):"";if(""!==$l$$||""!==$a$$350_m$$)$k$$33_n$$=$l$$+
(""!==$a$$350_m$$?"+"+$a$$350_m$$:"");break;case "message":""!==$a$$350_m$$.data&&($k$$33_n$$=$a$$350_m$$.data);break;case "event":$k$$33_n$$={name:$a$$350_m$$.name};$a$$350_m$$.args&&$a$$350_m$$.args.length&&($k$$33_n$$.args=$a$$350_m$$.args);$k$$33_n$$=$g$$.stringify($k$$33_n$$);break;case "json":$k$$33_n$$=$g$$.stringify($a$$350_m$$.data);break;case "connect":$a$$350_m$$.qs&&($k$$33_n$$=$a$$350_m$$.qs);break;case "ack":$k$$33_n$$=$a$$350_m$$.ackId+($a$$350_m$$.args&&$a$$350_m$$.args.length?"+"+
$g$$.stringify($a$$350_m$$.args):"")}$b$$250_o$$=[$b$$250_o$$,$c$$+("data"==$j$$?"+":""),$i$$];return null!==$k$$33_n$$&&void 0!==$k$$33_n$$&&$b$$250_o$$.push($k$$33_n$$),$b$$250_o$$.join(":")};$c$$0$$.encodePayload=function $$c$$0$$$encodePayload$($a$$){var $b$$="";if(1==$a$$.length)return $a$$[0];for(var $c$$=0,$d$$=$a$$.length;$c$$<$d$$;$c$$++)$b$$+="�"+$a$$[$c$$].length+"�"+$a$$[$c$$];return $b$$};var $i$$0$$=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;$c$$0$$.decodePacket=function $$c$$0$$$decodePacket$($a$$){var $b$$=
$a$$.match($i$$0$$);if(!$b$$)return{};var $c$$=$b$$[2]||"";$a$$=$b$$[5]||"";var $h$$={type:$d$$0$$[$b$$[1]],endpoint:$b$$[4]||""};$c$$&&($h$$.id=$c$$,$b$$[3]?$h$$.ack="data":$h$$.ack=!0);switch($h$$.type){case "error":$b$$=$a$$.split("+");$h$$.reason=$e$$0$$[$b$$[0]]||"";$h$$.advice=$f$$[$b$$[1]]||"";break;case "message":$h$$.data=$a$$||"";break;case "event":try{var $j$$=$g$$.parse($a$$);$h$$.name=$j$$.name;$h$$.args=$j$$.args}catch($k$$){}$h$$.args=$h$$.args||[];break;case "json":try{$h$$.data=$g$$.parse($a$$)}catch($k$$0$$){}break;
case "connect":$h$$.qs=$a$$||"";break;case "ack":if($b$$=$a$$.match(/^([0-9]+)(\+)?(.*)/))if($h$$.ackId=$b$$[1],$h$$.args=[],$b$$[3])try{$h$$.args=$b$$[3]?$g$$.parse($b$$[3]):[]}catch($k$$1$$){}}return $h$$};$c$$0$$.decodePayload=function $$c$$0$$$decodePayload$($a$$){if("�"==$a$$.charAt(0)){for(var $b$$=[],$d$$=1,$e$$="";$d$$<$a$$.length;$d$$++)"�"==$a$$.charAt($d$$)?($b$$.push($c$$0$$.decodePacket($a$$.substr($d$$+1).substr(0,$e$$))),$d$$+=Number($e$$)+1,$e$$=""):$e$$+=$a$$.charAt($d$$);return $b$$}return[$c$$0$$.decodePacket($a$$)]}})("undefined"!=
typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports);(function($a$$0$$,$b$$0$$){function $c$$($a$$,$b$$){this.socket=$a$$;this.sessid=$b$$}$a$$0$$.Transport=$c$$;$b$$0$$.util.mixin($c$$,$b$$0$$.EventEmitter);$c$$.prototype.heartbeats=function $$c$$$$heartbeats$(){return!0};$c$$.prototype.onData=function $$c$$$$onData$($a$$356_c$$){this.clearCloseTimeout();(this.socket.connected||this.socket.connecting||this.socket.reconnecting)&&this.setCloseTimeout();if(""!==$a$$356_c$$&&
($a$$356_c$$=$b$$0$$.parser.decodePayload($a$$356_c$$))&&$a$$356_c$$.length)for(var $d$$=0,$e$$=$a$$356_c$$.length;$d$$<$e$$;$d$$++)this.onPacket($a$$356_c$$[$d$$]);return this};$c$$.prototype.onPacket=function $$c$$$$onPacket$($a$$){return this.socket.setHeartbeatTimeout(),"heartbeat"==$a$$.type?this.onHeartbeat():("connect"==$a$$.type&&""==$a$$.endpoint&&this.onConnect(),"error"==$a$$.type&&"reconnect"==$a$$.advice&&(this.isOpen=!1),this.socket.onPacket($a$$),this)};$c$$.prototype.setCloseTimeout=
function $$c$$$$setCloseTimeout$(){if(!this.closeTimeout){var $a$$=this;this.closeTimeout=setTimeout(function(){$a$$.onDisconnect()},this.socket.closeTimeout)}};$c$$.prototype.onDisconnect=function $$c$$$$onDisconnect$(){return this.isOpen&&this.close(),this.clearTimeouts(),this.socket.onDisconnect(),this};$c$$.prototype.onConnect=function $$c$$$$onConnect$(){return this.socket.onConnect(),this};$c$$.prototype.clearCloseTimeout=function $$c$$$$clearCloseTimeout$(){this.closeTimeout&&(clearTimeout(this.closeTimeout),
this.closeTimeout=null)};$c$$.prototype.clearTimeouts=function $$c$$$$clearTimeouts$(){this.clearCloseTimeout();this.reopenTimeout&&clearTimeout(this.reopenTimeout)};$c$$.prototype.packet=function $$c$$$$packet$($a$$){this.send($b$$0$$.parser.encodePacket($a$$))};$c$$.prototype.onHeartbeat=function $$c$$$$onHeartbeat$($a$$){this.packet({type:"heartbeat"})};$c$$.prototype.onOpen=function $$c$$$$onOpen$(){this.isOpen=!0;this.clearCloseTimeout();this.socket.onOpen()};$c$$.prototype.onClose=function $$c$$$$onClose$(){this.isOpen=
!1;this.socket.onClose();this.onDisconnect()};$c$$.prototype.prepareUrl=function $$c$$$$prepareUrl$(){var $a$$=this.socket.options;return this.scheme()+"://"+$a$$.host+":"+$a$$.port+"/"+$a$$.resource+"/"+$b$$0$$.protocol+"/"+this.name+"/"+this.sessid};$c$$.prototype.ready=function $$c$$$$ready$($a$$,$b$$){$b$$.call(this)}})("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports);(function($a$$2$$,$b$$1$$,$c$$0$$){function $d$$0$$($a$$){this.options={port:80,secure:!1,
document:"document"in $c$$0$$?document:!1,resource:"socket.io",transports:$b$$1$$.transports,"connect timeout":1E4,"try multiple transports":!0,reconnect:!0,"reconnection delay":500,"reconnection limit":Infinity,"reopen delay":3E3,"max reconnection attempts":10,"sync disconnect on unload":!1,"auto connect":!0,"flash policy port":10843,manualFlush:!1};$b$$1$$.util.merge(this.options,$a$$);this.reconnecting=this.connecting=this.open=this.connected=!1;this.namespaces={};this.buffer=[];this.doBuffer=
!1;if(this.options["sync disconnect on unload"]&&(!this.isXDomain()||$b$$1$$.util.ua.hasCORS)){var $d$$=this;$b$$1$$.util.on($c$$0$$,"beforeunload",function(){$d$$.disconnectSync()},!1)}this.options["auto connect"]&&this.connect()}function $e$$0$$(){}$a$$2$$.Socket=$d$$0$$;$b$$1$$.util.mixin($d$$0$$,$b$$1$$.EventEmitter);$d$$0$$.prototype.of=function $$d$$0$$$$of$($a$$){return this.namespaces[$a$$]||(this.namespaces[$a$$]=new $b$$1$$.SocketNamespace(this,$a$$),""!==$a$$&&this.namespaces[$a$$].packet({type:"connect"})),
this.namespaces[$a$$]};$d$$0$$.prototype.publish=function $$d$$0$$$$publish$(){this.emit.apply(this,arguments);var $a$$,$b$$;for($b$$ in this.namespaces)this.namespaces.hasOwnProperty($b$$)&&($a$$=this.of($b$$),$a$$.$emit.apply($a$$,arguments))};$d$$0$$.prototype.handshake=function $$d$$0$$$$handshake$($a$$0$$){function $f$$($b$$){$b$$ instanceof Error?($c$$.connecting=!1,$c$$.onError($b$$.message)):$a$$0$$.apply(null,$b$$.split(":"))}var $c$$=this,$d$$162_g$$=this.options,$d$$162_g$$=["http"+($d$$162_g$$.secure?
"s":"")+":/",$d$$162_g$$.host+":"+$d$$162_g$$.port,$d$$162_g$$.resource,$b$$1$$.protocol,$b$$1$$.util.query(this.options.query,"t="+ +new Date)].join("/");if(this.isXDomain()&&!$b$$1$$.util.ua.hasCORS){var $h$$=document.getElementsByTagName("script")[0],$i$$=document.createElement("script");$i$$.src=$d$$162_g$$+"&jsonp="+$b$$1$$.j.length;$h$$.parentNode.insertBefore($i$$,$h$$);$b$$1$$.j.push(function($a$$){$f$$($a$$);$i$$.parentNode.removeChild($i$$)})}else{var $j$$=$b$$1$$.util.request();$j$$.open("GET",
$d$$162_g$$,!0);this.isXDomain()&&($j$$.withCredentials=!0);$j$$.onreadystatechange=function $$j$$$onreadystatechange$(){4==$j$$.readyState&&($j$$.onreadystatechange=$e$$0$$,200==$j$$.status?$f$$($j$$.responseText):403==$j$$.status?$c$$.onError($j$$.responseText):($c$$.connecting=!1,!$c$$.reconnecting&&$c$$.onError($j$$.responseText)))};$j$$.send(null)}};$d$$0$$.prototype.getTransport=function $$d$$0$$$$getTransport$($a$$370_c$$){$a$$370_c$$=$a$$370_c$$||this.transports;for(var $e$$=0,$f$$;$f$$=$a$$370_c$$[$e$$];$e$$++)if($b$$1$$.Transport[$f$$]&&
$b$$1$$.Transport[$f$$].check(this)&&(!this.isXDomain()||$b$$1$$.Transport[$f$$].xdomainCheck(this)))return new $b$$1$$.Transport[$f$$](this,this.sessionid);return null};$d$$0$$.prototype.connect=function $$d$$0$$$$connect$($a$$1$$){if(this.connecting)return this;var $c$$=this;return $c$$.connecting=!0,this.handshake(function($d$$,$e$$,$f$$,$g$$){function $h$$($a$$0$$){$c$$.transport&&$c$$.transport.clearTimeouts();$c$$.transport=$c$$.getTransport($a$$0$$);if(!$c$$.transport)return $c$$.publish("connect_failed");
$c$$.transport.ready($c$$,function(){$c$$.connecting=!0;$c$$.publish("connecting",$c$$.transport.name);$c$$.transport.open();$c$$.options["connect timeout"]&&($c$$.connectTimeoutTimer=setTimeout(function(){if(!$c$$.connected&&($c$$.connecting=!1,$c$$.options["try multiple transports"])){for(var $a$$=$c$$.transports;0<$a$$.length&&$a$$.splice(0,1)[0]!=$c$$.transport.name;);$a$$.length?$h$$($a$$):$c$$.publish("connect_failed")}},$c$$.options["connect timeout"]))})}$c$$.sessionid=$d$$;$c$$.closeTimeout=
1E3*$f$$;$c$$.heartbeatTimeout=1E3*$e$$;$c$$.transports||($c$$.transports=$c$$.origTransports=$g$$?$b$$1$$.util.intersect($g$$.split(","),$c$$.options.transports):$c$$.options.transports);$c$$.setHeartbeatTimeout();$h$$($c$$.transports);$c$$.once("connect",function(){clearTimeout($c$$.connectTimeoutTimer);$a$$1$$&&"function"==typeof $a$$1$$&&$a$$1$$()})}),this};$d$$0$$.prototype.setHeartbeatTimeout=function $$d$$0$$$$setHeartbeatTimeout$(){clearTimeout(this.heartbeatTimeoutTimer);if(!this.transport||
this.transport.heartbeats()){var $a$$=this;this.heartbeatTimeoutTimer=setTimeout(function(){$a$$.transport.onClose()},this.heartbeatTimeout)}};$d$$0$$.prototype.packet=function $$d$$0$$$$packet$($a$$){return this.connected&&!this.doBuffer?this.transport.packet($a$$):this.buffer.push($a$$),this};$d$$0$$.prototype.setBuffer=function $$d$$0$$$$setBuffer$($a$$){this.doBuffer=$a$$;!$a$$&&this.connected&&this.buffer.length&&(this.options.manualFlush||this.flushBuffer())};$d$$0$$.prototype.flushBuffer=function $$d$$0$$$$flushBuffer$(){this.transport.payload(this.buffer);
this.buffer=[]};$d$$0$$.prototype.disconnect=function $$d$$0$$$$disconnect$(){if(this.connected||this.connecting)this.open&&this.of("").packet({type:"disconnect"}),this.onDisconnect("booted");return this};$d$$0$$.prototype.disconnectSync=function $$d$$0$$$$disconnectSync$(){var $a$$=$b$$1$$.util.request(),$c$$=["http"+(this.options.secure?"s":"")+":/",this.options.host+":"+this.options.port,this.options.resource,$b$$1$$.protocol,"",this.sessionid].join("/")+"/?disconnect=1";$a$$.open("GET",$c$$,!1);
$a$$.send(null);this.onDisconnect("booted")};$d$$0$$.prototype.isXDomain=function $$d$$0$$$$isXDomain$(){var $a$$=$c$$0$$.location.port||("https:"==$c$$0$$.location.protocol?443:80);return this.options.host!==$c$$0$$.location.hostname||this.options.port!=$a$$};$d$$0$$.prototype.onConnect=function $$d$$0$$$$onConnect$(){this.connected||(this.connected=!0,this.connecting=!1,this.doBuffer||this.setBuffer(!1),this.emit("connect"))};$d$$0$$.prototype.onOpen=function $$d$$0$$$$onOpen$(){this.open=!0};$d$$0$$.prototype.onClose=
function $$d$$0$$$$onClose$(){this.open=!1;clearTimeout(this.heartbeatTimeoutTimer)};$d$$0$$.prototype.onPacket=function $$d$$0$$$$onPacket$($a$$){this.of($a$$.endpoint).onPacket($a$$)};$d$$0$$.prototype.onError=function $$d$$0$$$$onError$($a$$){$a$$&&$a$$.advice&&"reconnect"===$a$$.advice&&(this.connected||this.connecting)&&(this.disconnect(),this.options.reconnect&&this.reconnect());this.publish("error",$a$$&&$a$$.reason?$a$$.reason:$a$$)};$d$$0$$.prototype.onDisconnect=function $$d$$0$$$$onDisconnect$($a$$){var $b$$=
this.connected,$c$$=this.connecting;this.open=this.connecting=this.connected=!1;if($b$$||$c$$)this.transport.close(),this.transport.clearTimeouts(),$b$$&&(this.publish("disconnect",$a$$),"booted"!=$a$$&&this.options.reconnect&&!this.reconnecting&&this.reconnect())};$d$$0$$.prototype.reconnect=function $$d$$0$$$$reconnect$(){function $e$$(){if($a$$.connected){for(var $b$$ in $a$$.namespaces)$a$$.namespaces.hasOwnProperty($b$$)&&""!==$b$$&&$a$$.namespaces[$b$$].packet({type:"connect"});$a$$.publish("reconnect",
$a$$.transport.name,$a$$.reconnectionAttempts)}clearTimeout($a$$.reconnectionTimer);$a$$.removeListener("connect_failed",$f$$);$a$$.removeListener("connect",$f$$);$a$$.reconnecting=!1;delete $a$$.reconnectionAttempts;delete $a$$.reconnectionDelay;delete $a$$.reconnectionTimer;delete $a$$.redoTransports;$a$$.options["try multiple transports"]=$c$$}function $f$$(){if($a$$.reconnecting){if($a$$.connected)return $e$$();if($a$$.connecting&&$a$$.reconnecting)return $a$$.reconnectionTimer=setTimeout($f$$,
1E3);$a$$.reconnectionAttempts++>=$b$$0$$?$a$$.redoTransports?($a$$.publish("reconnect_failed"),$e$$()):($a$$.on("connect_failed",$f$$),$a$$.options["try multiple transports"]=!0,$a$$.transports=$a$$.origTransports,$a$$.transport=$a$$.getTransport(),$a$$.redoTransports=!0,$a$$.connect()):($a$$.reconnectionDelay<$d$$&&($a$$.reconnectionDelay*=2),$a$$.connect(),$a$$.publish("reconnecting",$a$$.reconnectionDelay,$a$$.reconnectionAttempts),$a$$.reconnectionTimer=setTimeout($f$$,$a$$.reconnectionDelay))}}
this.reconnecting=!0;this.reconnectionAttempts=0;this.reconnectionDelay=this.options["reconnection delay"];var $a$$=this,$b$$0$$=this.options["max reconnection attempts"],$c$$=this.options["try multiple transports"],$d$$=this.options["reconnection limit"];this.options["try multiple transports"]=!1;this.reconnectionTimer=setTimeout($f$$,this.reconnectionDelay);this.on("connect",$f$$)}})("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports,this);(function($a$$0$$,
$b$$0$$){function $c$$0$$($a$$,$b$$){this.socket=$a$$;this.name=$b$$||"";this.flags={};this.json=new $d$$0$$(this,"json");this.ackPackets=0;this.acks={}}function $d$$0$$($a$$,$b$$){this.namespace=$a$$;this.name=$b$$}$a$$0$$.SocketNamespace=$c$$0$$;$b$$0$$.util.mixin($c$$0$$,$b$$0$$.EventEmitter);$c$$0$$.prototype.$emit=$b$$0$$.EventEmitter.prototype.emit;$c$$0$$.prototype.of=function $$c$$0$$$$of$(){return this.socket.of.apply(this.socket,arguments)};$c$$0$$.prototype.packet=function $$c$$0$$$$packet$($a$$){return $a$$.endpoint=
this.name,this.socket.packet($a$$),this.flags={},this};$c$$0$$.prototype.send=function $$c$$0$$$$send$($a$$,$b$$){var $c$$={type:this.flags.json?"json":"message",data:$a$$};return"function"==typeof $b$$&&($c$$.id=++this.ackPackets,$c$$.ack=!0,this.acks[$c$$.id]=$b$$),this.packet($c$$)};$c$$0$$.prototype.emit=function $$c$$0$$$$emit$($a$$){var $b$$=Array.prototype.slice.call(arguments,1),$c$$=$b$$[$b$$.length-1],$d$$={type:"event",name:$a$$};return"function"==typeof $c$$&&($d$$.id=++this.ackPackets,
$d$$.ack="data",this.acks[$d$$.id]=$c$$,$b$$=$b$$.slice(0,$b$$.length-1)),$d$$.args=$b$$,this.packet($d$$)};$c$$0$$.prototype.disconnect=function $$c$$0$$$$disconnect$(){return""===this.name?this.socket.disconnect():(this.packet({type:"disconnect"}),this.$emit("disconnect")),this};$c$$0$$.prototype.onPacket=function $$c$$0$$$$onPacket$($a$$){function $d$$(){$c$$.packet({type:"ack",args:$b$$0$$.util.toArray(arguments),ackId:$a$$.id})}var $c$$=this;switch($a$$.type){case "connect":this.$emit("connect");
break;case "disconnect":""===this.name?this.socket.onDisconnect($a$$.reason||"booted"):this.$emit("disconnect",$a$$.reason);break;case "message":case "json":var $e$$=["message",$a$$.data];"data"==$a$$.ack?$e$$.push($d$$):$a$$.ack&&this.packet({type:"ack",ackId:$a$$.id});this.$emit.apply(this,$e$$);break;case "event":$e$$=[$a$$.name].concat($a$$.args);"data"==$a$$.ack&&$e$$.push($d$$);this.$emit.apply(this,$e$$);break;case "ack":this.acks[$a$$.ackId]&&(this.acks[$a$$.ackId].apply(this,$a$$.args),delete this.acks[$a$$.ackId]);
break;case "error":$a$$.advice?this.socket.onError($a$$):"unauthorized"==$a$$.reason?this.$emit("connect_failed",$a$$.reason):this.$emit("error",$a$$.reason)}};$d$$0$$.prototype.send=function $$d$$0$$$$send$(){this.namespace.flags[this.name]=!0;this.namespace.send.apply(this.namespace,arguments)};$d$$0$$.prototype.emit=function $$d$$0$$$$emit$(){this.namespace.flags[this.name]=!0;this.namespace.emit.apply(this.namespace,arguments)}})("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?
io:module.parent.exports);(function($a$$1$$,$b$$0$$,$c$$0$$){function $d$$0$$($a$$){$b$$0$$.Transport.apply(this,arguments)}$a$$1$$.websocket=$d$$0$$;$b$$0$$.util.inherit($d$$0$$,$b$$0$$.Transport);$d$$0$$.prototype.name="websocket";$d$$0$$.prototype.open=function $$d$$0$$$$open$(){var $a$$0$$=$b$$0$$.util.query(this.socket.options.query),$d$$=this,$e$$;return $e$$||($e$$=$c$$0$$.MozWebSocket||$c$$0$$.WebSocket),this.websocket=new $e$$(this.prepareUrl()+$a$$0$$),this.websocket.onopen=function $this$websocket$onopen$(){$d$$.onOpen();
$d$$.socket.setBuffer(!1)},this.websocket.onmessage=function $this$websocket$onmessage$($a$$){$d$$.onData($a$$.data)},this.websocket.onclose=function $this$websocket$onclose$(){$d$$.onClose();$d$$.socket.setBuffer(!0)},this.websocket.onerror=function $this$websocket$onerror$($a$$){$d$$.onError($a$$)},this};$b$$0$$.util.ua.iDevice?$d$$0$$.prototype.send=function $$d$$0$$$$send$($a$$){var $b$$=this;return setTimeout(function(){$b$$.websocket.send($a$$)},0),this}:$d$$0$$.prototype.send=function $$d$$0$$$$send$($a$$){return this.websocket.send($a$$),
this};$d$$0$$.prototype.payload=function $$d$$0$$$$payload$($a$$){for(var $b$$=0,$c$$=$a$$.length;$b$$<$c$$;$b$$++)this.packet($a$$[$b$$]);return this};$d$$0$$.prototype.close=function $$d$$0$$$$close$(){return this.websocket.close(),this};$d$$0$$.prototype.onError=function $$d$$0$$$$onError$($a$$){this.socket.onError($a$$)};$d$$0$$.prototype.scheme=function $$d$$0$$$$scheme$(){return this.socket.options.secure?"wss":"ws"};$d$$0$$.check=function $$d$$0$$$check$(){return"WebSocket"in $c$$0$$&&!("__addTask"in
WebSocket)||"MozWebSocket"in $c$$0$$};$d$$0$$.xdomainCheck=function $$d$$0$$$xdomainCheck$(){return!0};$b$$0$$.transports.push("websocket")})("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this);(function($a$$0$$,$b$$0$$){function $c$$0$$(){$b$$0$$.Transport.websocket.apply(this,arguments)}$a$$0$$.flashsocket=$c$$0$$;$b$$0$$.util.inherit($c$$0$$,$b$$0$$.Transport.websocket);$c$$0$$.prototype.name="flashsocket";$c$$0$$.prototype.open=function $$c$$0$$$$open$(){var $a$$=
this,$c$$=arguments;return WebSocket.__addTask(function(){$b$$0$$.Transport.websocket.prototype.open.apply($a$$,$c$$)}),this};$c$$0$$.prototype.send=function $$c$$0$$$$send$(){var $a$$=this,$c$$=arguments;return WebSocket.__addTask(function(){$b$$0$$.Transport.websocket.prototype.send.apply($a$$,$c$$)}),this};$c$$0$$.prototype.close=function $$c$$0$$$$close$(){return WebSocket.__tasks.length=0,$b$$0$$.Transport.websocket.prototype.close.call(this),this};$c$$0$$.prototype.ready=function $$c$$0$$$$ready$($a$$,
$d$$){function $e$$0$$(){var $b$$=$a$$.options,$e$$=$b$$["flash policy port"],$g$$=["http"+($b$$.secure?"s":"")+":/",$b$$.host+":"+$b$$.port,$b$$.resource,"static/flashsocket","WebSocketMain"+($a$$.isXDomain()?"Insecure":"")+".swf"];$c$$0$$.loaded||("undefined"==typeof WEB_SOCKET_SWF_LOCATION&&(WEB_SOCKET_SWF_LOCATION=$g$$.join("/")),843!==$e$$&&WebSocket.loadFlashPolicyFile("xmlsocket://"+$b$$.host+":"+$e$$),WebSocket.__initialize(),$c$$0$$.loaded=!0);$d$$.call($f$$)}var $f$$=this;if(document.body)return $e$$0$$();
$b$$0$$.util.load($e$$0$$)};$c$$0$$.check=function $$c$$0$$$check$(){return"undefined"!=typeof WebSocket&&"__initialize"in WebSocket&&$swfobject$$?10<=$swfobject$$.getFlashPlayerVersion().major:!1};$c$$0$$.xdomainCheck=function $$c$$0$$$xdomainCheck$(){return!0};"undefined"!=typeof window&&(WEB_SOCKET_DISABLE_AUTO_INITIALIZATION=!0);$b$$0$$.transports.push("flashsocket")})("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports);if("undefined"!=typeof window)var $swfobject$$=
function(){function $A$$(){if(!$t$$0$$){try{var $a$$404_c$$=$i$$0$$.getElementsByTagName("body")[0].appendChild($i$$0$$.createElement("span"));$a$$404_c$$.parentNode.removeChild($a$$404_c$$)}catch($b$$){return}$t$$0$$=!0;for(var $a$$404_c$$=$l$$0$$.length,$d$$=0;$d$$<$a$$404_c$$;$d$$++)$l$$0$$[$d$$]()}}function $B$$($a$$){$t$$0$$?$a$$():$l$$0$$[$l$$0$$.length]=$a$$}function $C$$($b$$){if(typeof $h$$0$$.addEventListener!=$a$$0$$)$h$$0$$.addEventListener("load",$b$$,!1);else if(typeof $i$$0$$.addEventListener!=
$a$$0$$)$i$$0$$.addEventListener("load",$b$$,!1);else if(typeof $h$$0$$.attachEvent!=$a$$0$$)$R$$($h$$0$$,"onload",$b$$);else if("function"==typeof $h$$0$$.onload){var $c$$=$h$$0$$.onload;$h$$0$$.onload=function $$h$$0$$$onload$(){$c$$();$b$$()}}else $h$$0$$.onload=$b$$}function $E$$(){var $c$$=$i$$0$$.getElementsByTagName("body")[0],$d$$=$i$$0$$.createElement($b$$1$$);$d$$.setAttribute("type",$e$$0$$);var $f$$=$c$$.appendChild($d$$);if($f$$){var $g$$=0;(function(){if(typeof $f$$.GetVariable!=$a$$0$$){var $b$$=
$f$$.GetVariable("$version");$b$$&&($b$$=$b$$.split(" ")[1].split(","),$y$$.pv=[parseInt($b$$[0],10),parseInt($b$$[1],10),parseInt($b$$[2],10)])}else if(10>$g$$){$g$$++;setTimeout(arguments.callee,10);return}$c$$.removeChild($d$$);$f$$=null;$F$$()})()}else $F$$()}function $F$$(){var $b$$=$m$$0$$.length;if(0<$b$$)for(var $c$$=0;$c$$<$b$$;$c$$++){var $d$$175_n$$=$m$$0$$[$c$$].id,$e$$=$m$$0$$[$c$$].callbackFn,$f$$117_h$$={success:!1,id:$d$$175_n$$};if(0<$y$$.pv[0]){var $g$$72_j$$=$P$$($d$$175_n$$);if($g$$72_j$$)if(!$S$$($m$$0$$[$c$$].swfVersion)||
$y$$.wk&&312>$y$$.wk)if($m$$0$$[$c$$].expressInstall&&$H$$()){$f$$117_h$$={};$f$$117_h$$.data=$m$$0$$[$c$$].expressInstall;$f$$117_h$$.width=$g$$72_j$$.getAttribute("width")||"0";$f$$117_h$$.height=$g$$72_j$$.getAttribute("height")||"0";$g$$72_j$$.getAttribute("class")&&($f$$117_h$$.styleclass=$g$$72_j$$.getAttribute("class"));$g$$72_j$$.getAttribute("align")&&($f$$117_h$$.align=$g$$72_j$$.getAttribute("align"));for(var $i$$={},$g$$72_j$$=$g$$72_j$$.getElementsByTagName("param"),$k$$=$g$$72_j$$.length,
$l$$=0;$l$$<$k$$;$l$$++)"movie"!=$g$$72_j$$[$l$$].getAttribute("name").toLowerCase()&&($i$$[$g$$72_j$$[$l$$].getAttribute("name")]=$g$$72_j$$[$l$$].getAttribute("value"));$I$$($f$$117_h$$,$i$$,$d$$175_n$$,$e$$)}else $J$$($g$$72_j$$),$e$$&&$e$$($f$$117_h$$);else $U$$($d$$175_n$$,!0),$e$$&&($f$$117_h$$.success=!0,$f$$117_h$$.ref=$G$$($d$$175_n$$),$e$$($f$$117_h$$))}else $U$$($d$$175_n$$,!0),$e$$&&(($d$$175_n$$=$G$$($d$$175_n$$))&&typeof $d$$175_n$$.SetVariable!=$a$$0$$&&($f$$117_h$$.success=!0,$f$$117_h$$.ref=
$d$$175_n$$),$e$$($f$$117_h$$))}}function $G$$($c$$249_e$$138_f$$){var $d$$=null;($c$$249_e$$138_f$$=$P$$($c$$249_e$$138_f$$))&&"OBJECT"==$c$$249_e$$138_f$$.nodeName&&(typeof $c$$249_e$$138_f$$.SetVariable!=$a$$0$$?$d$$=$c$$249_e$$138_f$$:($c$$249_e$$138_f$$=$c$$249_e$$138_f$$.getElementsByTagName($b$$1$$)[0])&&($d$$=$c$$249_e$$138_f$$));return $d$$}function $H$$(){return!$u$$&&$S$$("6.0.65")&&($y$$.win||$y$$.mac)&&!($y$$.wk&&312>$y$$.wk)}function $I$$($b$$,$c$$,$d$$,$e$$139_j$$86_k$$39_l$$){$u$$=
!0;$r$$0$$=$e$$139_j$$86_k$$39_l$$||null;$s$$0$$={success:!1,id:$d$$};var $g$$=$P$$($d$$);if($g$$){"OBJECT"==$g$$.nodeName?($p$$0$$=$K$$($g$$),$q$$0$$=null):($p$$0$$=$g$$,$q$$0$$=$d$$);$b$$.id=$f$$0$$;if(typeof $b$$.width==$a$$0$$||!/%$/.test($b$$.width)&&310>parseInt($b$$.width,10))$b$$.width="310";if(typeof $b$$.height==$a$$0$$||!/%$/.test($b$$.height)&&137>parseInt($b$$.height,10))$b$$.height="137";$i$$0$$.title=$i$$0$$.title.slice(0,47)+" - Flash Player Installation";$e$$139_j$$86_k$$39_l$$=$y$$.ie&&
$y$$.win?["Active"].concat("").join("X"):"PlugIn";$e$$139_j$$86_k$$39_l$$="MMredirectURL="+$h$$0$$.location.toString().replace(/&/g,"%26")+"&MMplayerType="+$e$$139_j$$86_k$$39_l$$+"&MMdoctitle="+$i$$0$$.title;typeof $c$$.flashvars!=$a$$0$$?$c$$.flashvars+="&"+$e$$139_j$$86_k$$39_l$$:$c$$.flashvars=$e$$139_j$$86_k$$39_l$$;$y$$.ie&&$y$$.win&&4!=$g$$.readyState&&($e$$139_j$$86_k$$39_l$$=$i$$0$$.createElement("div"),$d$$+="SWFObjectNew",$e$$139_j$$86_k$$39_l$$.setAttribute("id",$d$$),$g$$.parentNode.insertBefore($e$$139_j$$86_k$$39_l$$,
$g$$),$g$$.style.display="none",function(){4==$g$$.readyState?$g$$.parentNode.removeChild($g$$):setTimeout(arguments.callee,10)}());$L$$($b$$,$c$$,$d$$)}}function $J$$($a$$){if($y$$.ie&&$y$$.win&&4!=$a$$.readyState){var $b$$=$i$$0$$.createElement("div");$a$$.parentNode.insertBefore($b$$,$a$$);$b$$.parentNode.replaceChild($K$$($a$$),$b$$);$a$$.style.display="none";(function(){4==$a$$.readyState?$a$$.parentNode.removeChild($a$$):setTimeout(arguments.callee,10)})()}else $a$$.parentNode.replaceChild($K$$($a$$),
$a$$)}function $K$$($a$$407_d$$178_e$$){var $c$$=$i$$0$$.createElement("div");if($y$$.win&&$y$$.ie)$c$$.innerHTML=$a$$407_d$$178_e$$.innerHTML;else if($a$$407_d$$178_e$$=$a$$407_d$$178_e$$.getElementsByTagName($b$$1$$)[0])if($a$$407_d$$178_e$$=$a$$407_d$$178_e$$.childNodes)for(var $f$$=$a$$407_d$$178_e$$.length,$g$$=0;$g$$<$f$$;$g$$++)1==$a$$407_d$$178_e$$[$g$$].nodeType&&"PARAM"==$a$$407_d$$178_e$$[$g$$].nodeName||8==$a$$407_d$$178_e$$[$g$$].nodeType||$c$$.appendChild($a$$407_d$$178_e$$[$g$$].cloneNode(!0));
return $c$$}function $L$$($a$$inline_13_c$$,$d$$,$d$$inline_16_f$$){var $g$$,$h$$=$P$$($d$$inline_16_f$$);if($y$$.wk&&312>$y$$.wk)return $g$$;if($h$$)if(typeof $a$$inline_13_c$$.id==$a$$0$$&&($a$$inline_13_c$$.id=$d$$inline_16_f$$),$y$$.ie&&$y$$.win){var $i$$544_p$$="",$b$$inline_14_j$$87_k$$;for($b$$inline_14_j$$87_k$$ in $a$$inline_13_c$$)$a$$inline_13_c$$[$b$$inline_14_j$$87_k$$]!=Object.prototype[$b$$inline_14_j$$87_k$$]&&("data"==$b$$inline_14_j$$87_k$$.toLowerCase()?$d$$.movie=$a$$inline_13_c$$[$b$$inline_14_j$$87_k$$]:
"styleclass"==$b$$inline_14_j$$87_k$$.toLowerCase()?$i$$544_p$$+=' class="'+$a$$inline_13_c$$[$b$$inline_14_j$$87_k$$]+'"':"classid"!=$b$$inline_14_j$$87_k$$.toLowerCase()&&($i$$544_p$$+=" "+$b$$inline_14_j$$87_k$$+'="'+$a$$inline_13_c$$[$b$$inline_14_j$$87_k$$]+'"'));$b$$inline_14_j$$87_k$$="";for(var $l$$47_m$$ in $d$$)$d$$[$l$$47_m$$]!=Object.prototype[$l$$47_m$$]&&($b$$inline_14_j$$87_k$$+='<param name="'+$l$$47_m$$+'" value="'+$d$$[$l$$47_m$$]+'" />');$h$$.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+
$i$$544_p$$+">"+$b$$inline_14_j$$87_k$$+"</object>";$n$$0$$[$n$$0$$.length]=$a$$inline_13_c$$.id;$g$$=$P$$($a$$inline_13_c$$.id)}else{$l$$47_m$$=$i$$0$$.createElement($b$$1$$);$l$$47_m$$.setAttribute("type",$e$$0$$);for(var $c$$inline_15_o$$ in $a$$inline_13_c$$)$a$$inline_13_c$$[$c$$inline_15_o$$]!=Object.prototype[$c$$inline_15_o$$]&&("styleclass"==$c$$inline_15_o$$.toLowerCase()?$l$$47_m$$.setAttribute("class",$a$$inline_13_c$$[$c$$inline_15_o$$]):"classid"!=$c$$inline_15_o$$.toLowerCase()&&$l$$47_m$$.setAttribute($c$$inline_15_o$$,
$a$$inline_13_c$$[$c$$inline_15_o$$]));for($i$$544_p$$ in $d$$)$d$$[$i$$544_p$$]!=Object.prototype[$i$$544_p$$]&&"movie"!=$i$$544_p$$.toLowerCase()&&($a$$inline_13_c$$=$l$$47_m$$,$b$$inline_14_j$$87_k$$=$i$$544_p$$,$c$$inline_15_o$$=$d$$[$i$$544_p$$],$d$$inline_16_f$$=$i$$0$$.createElement("param"),$d$$inline_16_f$$.setAttribute("name",$b$$inline_14_j$$87_k$$),$d$$inline_16_f$$.setAttribute("value",$c$$inline_15_o$$),$a$$inline_13_c$$.appendChild($d$$inline_16_f$$));$h$$.parentNode.replaceChild($l$$47_m$$,
$h$$);$g$$=$l$$47_m$$}return $g$$}function $N$$($a$$){var $b$$0$$=$P$$($a$$);$b$$0$$&&"OBJECT"==$b$$0$$.nodeName&&($y$$.ie&&$y$$.win?($b$$0$$.style.display="none",function(){if(4==$b$$0$$.readyState){var $b$$=$P$$($a$$);if($b$$){for(var $c$$ in $b$$)"function"==typeof $b$$[$c$$]&&($b$$[$c$$]=null);$b$$.parentNode.removeChild($b$$)}}else setTimeout(arguments.callee,10)}()):$b$$0$$.parentNode.removeChild($b$$0$$))}function $P$$($a$$){var $b$$=null;try{$b$$=$i$$0$$.getElementById($a$$)}catch($c$$){}return $b$$}
function $R$$($a$$,$b$$,$c$$){$a$$.attachEvent($b$$,$c$$);$o$$[$o$$.length]=[$a$$,$b$$,$c$$]}function $S$$($a$$414_c$$){var $b$$=$y$$.pv;$a$$414_c$$=$a$$414_c$$.split(".");return $a$$414_c$$[0]=parseInt($a$$414_c$$[0],10),$a$$414_c$$[1]=parseInt($a$$414_c$$[1],10)||0,$a$$414_c$$[2]=parseInt($a$$414_c$$[2],10)||0,$b$$[0]>$a$$414_c$$[0]||$b$$[0]==$a$$414_c$$[0]&&$b$$[1]>$a$$414_c$$[1]||$b$$[0]==$a$$414_c$$[0]&&$b$$[1]==$a$$414_c$$[1]&&$b$$[2]>=$a$$414_c$$[2]?!0:!1}function $T$$($c$$,$d$$,$e$$141_h$$,
$f$$121_j$$){if(!$y$$.ie||!$y$$.mac){var $g$$=$i$$0$$.getElementsByTagName("head")[0];$g$$&&($e$$141_h$$=$e$$141_h$$&&"string"==typeof $e$$141_h$$?$e$$141_h$$:"screen",$f$$121_j$$&&($v$$=null,$w$$=null),$v$$&&$w$$==$e$$141_h$$||($f$$121_j$$=$i$$0$$.createElement("style"),$f$$121_j$$.setAttribute("type","text/css"),$f$$121_j$$.setAttribute("media",$e$$141_h$$),$v$$=$g$$.appendChild($f$$121_j$$),$y$$.ie&&$y$$.win&&typeof $i$$0$$.styleSheets!=$a$$0$$&&0<$i$$0$$.styleSheets.length&&($v$$=$i$$0$$.styleSheets[$i$$0$$.styleSheets.length-
1]),$w$$=$e$$141_h$$),$y$$.ie&&$y$$.win?$v$$&&typeof $v$$.addRule==$b$$1$$&&$v$$.addRule($c$$,$d$$):$v$$&&typeof $i$$0$$.createTextNode!=$a$$0$$&&$v$$.appendChild($i$$0$$.createTextNode($c$$+" {"+$d$$+"}")))}}function $U$$($a$$,$b$$){if($x$$){var $c$$=$b$$?"visible":"hidden";$t$$0$$&&$P$$($a$$)?$P$$($a$$).style.visibility=$c$$:$T$$("#"+$a$$,"visibility:"+$c$$)}}function $V$$($b$$){return null!=/[\\\"<>\.;]/.exec($b$$)&&typeof encodeURIComponent!=$a$$0$$?encodeURIComponent($b$$):$b$$}var $a$$0$$="undefined",
$b$$1$$="object",$e$$0$$="application/x-shockwave-flash",$f$$0$$="SWFObjectExprInst",$h$$0$$=window,$i$$0$$=document,$j$$0$$=navigator,$k$$0$$=!1,$l$$0$$=[function D(){$k$$0$$?$E$$():$F$$()}],$m$$0$$=[],$n$$0$$=[],$o$$=[],$p$$0$$,$q$$0$$,$r$$0$$,$s$$0$$,$t$$0$$=!1,$u$$=!1,$v$$,$w$$,$x$$=!0,$y$$=function(){var $f$$=typeof $i$$0$$.getElementById!=$a$$0$$&&typeof $i$$0$$.getElementsByTagName!=$a$$0$$&&typeof $i$$0$$.createElement!=$a$$0$$,$g$$77_o$$=$j$$0$$.userAgent.toLowerCase(),$l$$48_n$$=$j$$0$$.platform.toLowerCase(),
$m$$=$l$$48_n$$?/win/.test($l$$48_n$$):/win/.test($g$$77_o$$),$l$$48_n$$=$l$$48_n$$?/mac/.test($l$$48_n$$):/mac/.test($g$$77_o$$),$g$$77_o$$=/webkit/.test($g$$77_o$$)?parseFloat($g$$77_o$$.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,$p$$=!1,$q$$=[0,0,0],$r$$=null;if(typeof $j$$0$$.plugins!=$a$$0$$&&typeof $j$$0$$.plugins["Shockwave Flash"]==$b$$1$$)($r$$=$j$$0$$.plugins["Shockwave Flash"].description)&&(typeof $j$$0$$.mimeTypes==$a$$0$$||!$j$$0$$.mimeTypes[$e$$0$$]||$j$$0$$.mimeTypes[$e$$0$$].enabledPlugin)&&
($k$$0$$=!0,$p$$=!1,$r$$=$r$$.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),$q$$[0]=parseInt($r$$.replace(/^(.*)\..*$/,"$1"),10),$q$$[1]=parseInt($r$$.replace(/^.*\.(.*)\s.*$/,"$1"),10),$q$$[2]=/[a-zA-Z]/.test($r$$)?parseInt($r$$.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof $h$$0$$[["Active"].concat("Object").join("X")]!=$a$$0$$)try{var $s$$=new (window[["Active"].concat("Object").join("X")])("ShockwaveFlash.ShockwaveFlash");$s$$&&($r$$=$s$$.GetVariable("$version"),$r$$&&($p$$=!0,$r$$=$r$$.split(" ")[1].split(","),
$q$$=[parseInt($r$$[0],10),parseInt($r$$[1],10),parseInt($r$$[2],10)]))}catch($t$$){}return{w3:$f$$,pv:$q$$,wk:$g$$77_o$$,ie:$p$$,win:$m$$,mac:$l$$48_n$$}}();(function(){$y$$.w3&&((typeof $i$$0$$.readyState!=$a$$0$$&&"complete"==$i$$0$$.readyState||typeof $i$$0$$.readyState==$a$$0$$&&($i$$0$$.getElementsByTagName("body")[0]||$i$$0$$.body))&&$A$$(),$t$$0$$||(typeof $i$$0$$.addEventListener!=$a$$0$$&&$i$$0$$.addEventListener("DOMContentLoaded",$A$$,!1),$y$$.ie&&$y$$.win&&($i$$0$$.attachEvent("onreadystatechange",
function(){"complete"==$i$$0$$.readyState&&($i$$0$$.detachEvent("onreadystatechange",arguments.callee),$A$$())}),$h$$0$$==top&&function(){if(!$t$$0$$){try{$i$$0$$.documentElement.doScroll("left")}catch($a$$){setTimeout(arguments.callee,0);return}$A$$()}}()),$y$$.wk&&function(){$t$$0$$||(/loaded|complete/.test($i$$0$$.readyState)?$A$$():setTimeout(arguments.callee,0))}(),$C$$($A$$)))})();(function(){$y$$.ie&&$y$$.win&&window.attachEvent("onunload",function(){for(var $a$$417_c$$=$o$$.length,$b$$288_d$$=
0;$b$$288_d$$<$a$$417_c$$;$b$$288_d$$++)$o$$[$b$$288_d$$][0].detachEvent($o$$[$b$$288_d$$][1],$o$$[$b$$288_d$$][2]);$a$$417_c$$=$n$$0$$.length;for($b$$288_d$$=0;$b$$288_d$$<$a$$417_c$$;$b$$288_d$$++)$N$$($n$$0$$[$b$$288_d$$]);for(var $e$$ in $y$$)$y$$[$e$$]=null;$y$$=null;for(var $f$$ in $swfobject$$)$swfobject$$[$f$$]=null;$swfobject$$=null})})();return{registerObject:function($a$$,$b$$,$c$$,$d$$){if($y$$.w3&&$a$$&&$b$$){var $e$$={};$e$$.id=$a$$;$e$$.swfVersion=$b$$;$e$$.expressInstall=$c$$;$e$$.callbackFn=
$d$$;$m$$0$$[$m$$0$$.length]=$e$$;$U$$($a$$,!1)}else $d$$&&$d$$({success:!1,id:$a$$})},getObjectById:function($a$$){if($y$$.w3)return $G$$($a$$)},embedSWF:function($c$$,$d$$,$e$$,$f$$,$g$$,$h$$,$i$$,$j$$,$k$$,$l$$){var $m$$={success:!1,id:$d$$};$y$$.w3&&!($y$$.wk&&312>$y$$.wk)&&$c$$&&$d$$&&$e$$&&$f$$&&$g$$?($U$$($d$$,!1),$B$$(function(){$e$$+="";$f$$+="";var $n$$={};if($k$$&&typeof $k$$===$b$$1$$)for(var $o$$20_p$$ in $k$$)$n$$[$o$$20_p$$]=$k$$[$o$$20_p$$];$n$$.data=$c$$;$n$$.width=$e$$;$n$$.height=
$f$$;$o$$20_p$$={};if($j$$&&typeof $j$$===$b$$1$$)for(var $q$$12_s$$ in $j$$)$o$$20_p$$[$q$$12_s$$]=$j$$[$q$$12_s$$];if($i$$&&typeof $i$$===$b$$1$$)for(var $r$$ in $i$$)typeof $o$$20_p$$.flashvars!=$a$$0$$?$o$$20_p$$.flashvars+="&"+$r$$+"="+$i$$[$r$$]:$o$$20_p$$.flashvars=$r$$+"="+$i$$[$r$$];if($S$$($g$$))$q$$12_s$$=$L$$($n$$,$o$$20_p$$,$d$$),$n$$.id==$d$$&&$U$$($d$$,!0),$m$$.success=!0,$m$$.ref=$q$$12_s$$;else{if($h$$&&$H$$()){$n$$.data=$h$$;$I$$($n$$,$o$$20_p$$,$d$$,$l$$);return}$U$$($d$$,!0)}$l$$&&
$l$$($m$$)})):$l$$&&$l$$($m$$)},switchOffAutoHideShow:function(){$x$$=!1},ua:$y$$,getFlashPlayerVersion:function(){return{major:$y$$.pv[0],minor:$y$$.pv[1],release:$y$$.pv[2]}},hasFlashPlayerVersion:$S$$,createSWF:function($a$$,$b$$,$c$$){return $y$$.w3?$L$$($a$$,$b$$,$c$$):void 0},showExpressInstall:function($a$$,$b$$,$c$$,$d$$){$y$$.w3&&$H$$()&&$I$$($a$$,$b$$,$c$$,$d$$)},removeSWF:function($a$$){$y$$.w3&&$N$$($a$$)},createCSS:function($a$$,$b$$,$c$$,$d$$){$y$$.w3&&$T$$($a$$,$b$$,$c$$,$d$$)},addDomLoadEvent:$B$$,
addLoadEvent:$C$$,getQueryParamValue:function($a$$){var $b$$293_c$$=$i$$0$$.location.search||$i$$0$$.location.hash;if($b$$293_c$$){/\?/.test($b$$293_c$$)&&($b$$293_c$$=$b$$293_c$$.split("?")[1]);if(null==$a$$)return $V$$($b$$293_c$$);for(var $b$$293_c$$=$b$$293_c$$.split("&"),$d$$=0;$d$$<$b$$293_c$$.length;$d$$++)if($b$$293_c$$[$d$$].substring(0,$b$$293_c$$[$d$$].indexOf("="))==$a$$)return $V$$($b$$293_c$$[$d$$].substring($b$$293_c$$[$d$$].indexOf("=")+1))}return""},expressInstallCallback:function(){if($u$$){var $a$$=
$P$$($f$$0$$);$a$$&&$p$$0$$&&($a$$.parentNode.replaceChild($p$$0$$,$a$$),$q$$0$$&&($U$$($q$$0$$,!0),$y$$.ie&&$y$$.win&&($p$$0$$.style.display="block")),$r$$0$$&&$r$$0$$($s$$0$$));$u$$=!1}}}}();(function(){if("undefined"!=typeof window&&!window.WebSocket){var $a$$0$$=window.console;$a$$0$$&&$a$$0$$.log&&$a$$0$$.error||($a$$0$$={log:function $$a$$0$$$log$(){},error:function $$a$$0$$$error$(){}});$swfobject$$.hasFlashPlayerVersion("10.0.0")?("file:"==location.protocol&&$a$$0$$.error("WARNING: web-socket-js doesn't work in file:///... URL unless you set Flash Security Settings properly. Open the page via Web server i.e. http://..."),
WebSocket=function $WebSocket$($a$$,$b$$,$c$$,$d$$,$e$$){var $f$$=this;$f$$.__id=WebSocket.__nextId++;WebSocket.__instances[$f$$.__id]=$f$$;$f$$.readyState=WebSocket.CONNECTING;$f$$.bufferedAmount=0;$f$$.__events={};$b$$?"string"==typeof $b$$&&($b$$=[$b$$]):$b$$=[];setTimeout(function(){WebSocket.__addTask(function(){WebSocket.__flash.create($f$$.__id,$a$$,$b$$,$c$$||null,$d$$||0,$e$$||null)})},0)},WebSocket.prototype.send=function $WebSocket$$send$($a$$428_b$$){if(this.readyState==WebSocket.CONNECTING)throw"INVALID_STATE_ERR: Web Socket connection has not been established";
$a$$428_b$$=WebSocket.__flash.send(this.__id,encodeURIComponent($a$$428_b$$));return 0>$a$$428_b$$?!0:(this.bufferedAmount+=$a$$428_b$$,!1)},WebSocket.prototype.close=function $WebSocket$$close$(){this.readyState!=WebSocket.CLOSED&&this.readyState!=WebSocket.CLOSING&&(this.readyState=WebSocket.CLOSING,WebSocket.__flash.close(this.__id))},WebSocket.prototype.addEventListener=function $WebSocket$$addEventListener$($a$$,$b$$,$c$$){$a$$ in this.__events||(this.__events[$a$$]=[]);this.__events[$a$$].push($b$$)},
WebSocket.prototype.removeEventListener=function $WebSocket$$removeEventListener$($a$$430_d$$,$b$$,$c$$270_e$$){if($a$$430_d$$ in this.__events)for($a$$430_d$$=this.__events[$a$$430_d$$],$c$$270_e$$=$a$$430_d$$.length-1;0<=$c$$270_e$$;--$c$$270_e$$)if($a$$430_d$$[$c$$270_e$$]===$b$$){$a$$430_d$$.splice($c$$270_e$$,1);break}},WebSocket.prototype.dispatchEvent=function $WebSocket$$dispatchEvent$($a$$){for(var $b$$298_d$$=this.__events[$a$$.type]||[],$c$$=0;$c$$<$b$$298_d$$.length;++$c$$)$b$$298_d$$[$c$$]($a$$);
($b$$298_d$$=this["on"+$a$$.type])&&$b$$298_d$$($a$$)},WebSocket.prototype.__handleEvent=function $WebSocket$$__handleEvent$($a$$432_b$$299_c$$){"readyState"in $a$$432_b$$299_c$$&&(this.readyState=$a$$432_b$$299_c$$.readyState);"protocol"in $a$$432_b$$299_c$$&&(this.protocol=$a$$432_b$$299_c$$.protocol);if("open"==$a$$432_b$$299_c$$.type||"error"==$a$$432_b$$299_c$$.type)$a$$432_b$$299_c$$=this.__createSimpleEvent($a$$432_b$$299_c$$.type);else if("close"==$a$$432_b$$299_c$$.type)$a$$432_b$$299_c$$=
this.__createSimpleEvent("close");else{if("message"!=$a$$432_b$$299_c$$.type)throw"unknown event type: "+$a$$432_b$$299_c$$.type;$a$$432_b$$299_c$$=decodeURIComponent($a$$432_b$$299_c$$.message);$a$$432_b$$299_c$$=this.__createMessageEvent("message",$a$$432_b$$299_c$$)}this.dispatchEvent($a$$432_b$$299_c$$)},WebSocket.prototype.__createSimpleEvent=function $WebSocket$$__createSimpleEvent$($a$$){if(document.createEvent&&window.Event){var $b$$=document.createEvent("Event");return $b$$.initEvent($a$$,
!1,!1),$b$$}return{type:$a$$,bubbles:!1,cancelable:!1}},WebSocket.prototype.__createMessageEvent=function $WebSocket$$__createMessageEvent$($a$$,$b$$){if(document.createEvent&&window.MessageEvent&&!window.opera){var $c$$=document.createEvent("MessageEvent");return $c$$.initMessageEvent("message",!1,!1,$b$$,null,null,window,null),$c$$}return{type:$a$$,data:$b$$,bubbles:!1,cancelable:!1}},WebSocket.CONNECTING=0,WebSocket.OPEN=1,WebSocket.CLOSING=2,WebSocket.CLOSED=3,WebSocket.__flash=null,WebSocket.__instances=
{},WebSocket.__tasks=[],WebSocket.__nextId=0,WebSocket.loadFlashPolicyFile=function $WebSocket$loadFlashPolicyFile$($a$$){WebSocket.__addTask(function(){WebSocket.__flash.loadManualPolicyFile($a$$)})},WebSocket.__initialize=function $WebSocket$__initialize$(){if(!WebSocket.__flash)if(WebSocket.__swfLocation&&(window.WEB_SOCKET_SWF_LOCATION=WebSocket.__swfLocation),window.WEB_SOCKET_SWF_LOCATION){var $b$$0$$=document.createElement("div");$b$$0$$.id="webSocketContainer";$b$$0$$.style.position="absolute";
WebSocket.__isFlashLite()?($b$$0$$.style.left="0px",$b$$0$$.style.top="0px"):($b$$0$$.style.left="-100px",$b$$0$$.style.top="-100px");var $c$$=document.createElement("div");$c$$.id="webSocketFlash";$b$$0$$.appendChild($c$$);document.body.appendChild($b$$0$$);$swfobject$$.embedSWF(WEB_SOCKET_SWF_LOCATION,"webSocketFlash","1","1","10.0.0",null,null,{hasPriority:!0,swliveconnect:!0,allowScriptAccess:"always"},null,function($b$$){$b$$.success||$a$$0$$.error("[WebSocket] swfobject.embedSWF failed")})}else $a$$0$$.error("[WebSocket] set WEB_SOCKET_SWF_LOCATION to location of WebSocketMain.swf")},
WebSocket.__onFlashInitialized=function $WebSocket$__onFlashInitialized$(){setTimeout(function(){WebSocket.__flash=document.getElementById("webSocketFlash");WebSocket.__flash.setCallerUrl(location.href);WebSocket.__flash.setDebug(!!window.WEB_SOCKET_DEBUG);for(var $a$$=0;$a$$<WebSocket.__tasks.length;++$a$$)WebSocket.__tasks[$a$$]();WebSocket.__tasks=[]},0)},WebSocket.__onFlashEvent=function $WebSocket$__onFlashEvent$(){return setTimeout(function(){try{for(var $b$$=WebSocket.__flash.receiveEvents(),
$c$$=0;$c$$<$b$$.length;++$c$$)WebSocket.__instances[$b$$[$c$$].webSocketId].__handleEvent($b$$[$c$$])}catch($d$$){$a$$0$$.error($d$$)}},0),!0},WebSocket.__log=function $WebSocket$__log$($b$$){$a$$0$$.log(decodeURIComponent($b$$))},WebSocket.__error=function $WebSocket$__error$($b$$){$a$$0$$.error(decodeURIComponent($b$$))},WebSocket.__addTask=function $WebSocket$__addTask$($a$$){WebSocket.__flash?$a$$():WebSocket.__tasks.push($a$$)},WebSocket.__isFlashLite=function $WebSocket$__isFlashLite$(){if(!window.navigator||
!window.navigator.mimeTypes)return!1;var $a$$=window.navigator.mimeTypes["application/x-shockwave-flash"];return $a$$&&$a$$.enabledPlugin&&$a$$.enabledPlugin.filename?$a$$.enabledPlugin.filename.match(/flashlite/i)?!0:!1:!1},window.WEB_SOCKET_DISABLE_AUTO_INITIALIZATION||(window.addEventListener?window.addEventListener("load",function(){WebSocket.__initialize()},!1):window.attachEvent("onload",function(){WebSocket.__initialize()}))):$a$$0$$.error("Flash Player >= 10.0.0 is required.")}})();(function($a$$0$$,
$b$$0$$,$c$$0$$){function $d$$0$$($a$$){$a$$&&($b$$0$$.Transport.apply(this,arguments),this.sendBuffer=[])}function $e$$0$$(){}$a$$0$$.XHR=$d$$0$$;$b$$0$$.util.inherit($d$$0$$,$b$$0$$.Transport);$d$$0$$.prototype.open=function $$d$$0$$$$open$(){return this.socket.setBuffer(!1),this.onOpen(),this.get(),this.setCloseTimeout(),this};$d$$0$$.prototype.payload=function $$d$$0$$$$payload$($a$$){for(var $c$$=[],$d$$=0,$e$$=$a$$.length;$d$$<$e$$;$d$$++)$c$$.push($b$$0$$.parser.encodePacket($a$$[$d$$]));this.send($b$$0$$.parser.encodePayload($c$$))};
$d$$0$$.prototype.send=function $$d$$0$$$$send$($a$$){return this.post($a$$),this};$d$$0$$.prototype.post=function $$d$$0$$$$post$($a$$){function $d$$(){4==this.readyState&&(this.onreadystatechange=$e$$0$$,$b$$.posting=!1,200==this.status?$b$$.socket.setBuffer(!1):$b$$.onClose())}function $f$$(){this.onload=$e$$0$$;$b$$.socket.setBuffer(!1)}var $b$$=this;this.socket.setBuffer(!0);this.sendXHR=this.request("POST");$c$$0$$.XDomainRequest&&this.sendXHR instanceof XDomainRequest?this.sendXHR.onload=this.sendXHR.onerror=
$f$$:this.sendXHR.onreadystatechange=$d$$;this.sendXHR.send($a$$)};$d$$0$$.prototype.close=function $$d$$0$$$$close$(){return this.onClose(),this};$d$$0$$.prototype.request=function $$d$$0$$$$request$($a$$){var $c$$=$b$$0$$.util.request(this.socket.isXDomain()),$d$$=$b$$0$$.util.query(this.socket.options.query,"t="+ +new Date);$c$$.open($a$$||"GET",this.prepareUrl()+$d$$,!0);if("POST"==$a$$)try{$c$$.setRequestHeader?$c$$.setRequestHeader("Content-type","text/plain;charset=UTF-8"):$c$$.contentType=
"text/plain"}catch($e$$){}return $c$$};$d$$0$$.prototype.scheme=function $$d$$0$$$$scheme$(){return this.socket.options.secure?"https":"http"};$d$$0$$.check=function $$d$$0$$$check$($a$$,$d$$){try{var $e$$=$b$$0$$.util.request($d$$),$f$$=$c$$0$$.XDomainRequest&&$e$$ instanceof XDomainRequest,$g$$=$a$$&&$a$$.options&&$a$$.options.secure?"https:":"http:",$h$$=$c$$0$$.location&&$g$$!=$c$$0$$.location.protocol;if($e$$&&(!$f$$||!$h$$))return!0}catch($i$$){}return!1};$d$$0$$.xdomainCheck=function $$d$$0$$$xdomainCheck$($a$$){return $d$$0$$.check($a$$,
!0)}})("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this);(function($a$$0$$,$b$$0$$){function $c$$0$$($a$$){$b$$0$$.Transport.XHR.apply(this,arguments)}$a$$0$$.htmlfile=$c$$0$$;$b$$0$$.util.inherit($c$$0$$,$b$$0$$.Transport.XHR);$c$$0$$.prototype.name="htmlfile";$c$$0$$.prototype.get=function $$c$$0$$$$get$(){this.doc=new (window[["Active"].concat("Object").join("X")])("htmlfile");this.doc.open();this.doc.write("<html></html>");this.doc.close();
this.doc.parentWindow.s=this;var $a$$449_d$$=this.doc.createElement("div");$a$$449_d$$.className="socketio";this.doc.body.appendChild($a$$449_d$$);this.iframe=this.doc.createElement("iframe");$a$$449_d$$.appendChild(this.iframe);var $c$$=this,$a$$449_d$$=$b$$0$$.util.query(this.socket.options.query,"t="+ +new Date);this.iframe.src=this.prepareUrl()+$a$$449_d$$;$b$$0$$.util.on(window,"unload",function(){$c$$.destroy()})};$c$$0$$.prototype._=function $$c$$0$$$$_$($a$$,$b$$){$a$$=$a$$.replace(/\\\//g,
"/");this.onData($a$$);try{var $c$$=$b$$.getElementsByTagName("script")[0];$c$$.parentNode.removeChild($c$$)}catch($d$$){}};$c$$0$$.prototype.destroy=function $$c$$0$$$$destroy$(){if(this.iframe){try{this.iframe.src="about:blank"}catch($a$$){}this.doc=null;this.iframe.parentNode.removeChild(this.iframe);this.iframe=null;CollectGarbage()}};$c$$0$$.prototype.close=function $$c$$0$$$$close$(){return this.destroy(),$b$$0$$.Transport.XHR.prototype.close.call(this)};$c$$0$$.check=function $$c$$0$$$check$($a$$){if("undefined"!=
typeof window&&["Active"].concat("Object").join("X")in window)try{return new (window[["Active"].concat("Object").join("X")])("htmlfile")&&$b$$0$$.Transport.XHR.check($a$$)}catch($d$$){}return!1};$c$$0$$.xdomainCheck=function $$c$$0$$$xdomainCheck$(){return!1};$b$$0$$.transports.push("htmlfile")})("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports);(function($a$$0$$,$b$$0$$,$c$$0$$){function $d$$0$$(){$b$$0$$.Transport.XHR.apply(this,arguments)}function $e$$(){}
$a$$0$$["xhr-polling"]=$d$$0$$;$b$$0$$.util.inherit($d$$0$$,$b$$0$$.Transport.XHR);$b$$0$$.util.merge($d$$0$$,$b$$0$$.Transport.XHR);$d$$0$$.prototype.name="xhr-polling";$d$$0$$.prototype.heartbeats=function $$d$$0$$$$heartbeats$(){return!1};$d$$0$$.prototype.open=function $$d$$0$$$$open$(){return $b$$0$$.Transport.XHR.prototype.open.call(this),!1};$d$$0$$.prototype.get=function $$d$$0$$$$get$(){function $b$$(){4==this.readyState&&(this.onreadystatechange=$e$$,200==this.status?($a$$.onData(this.responseText),
$a$$.get()):$a$$.onClose())}function $d$$(){this.onerror=this.onload=$e$$;$a$$.retryCounter=1;$a$$.onData(this.responseText);$a$$.get()}function $f$$(){$a$$.retryCounter++;!$a$$.retryCounter||3<$a$$.retryCounter?$a$$.onClose():$a$$.get()}if(this.isOpen){var $a$$=this;this.xhr=this.request();$c$$0$$.XDomainRequest&&this.xhr instanceof XDomainRequest?(this.xhr.onload=$d$$,this.xhr.onerror=$f$$):this.xhr.onreadystatechange=$b$$;this.xhr.send(null)}};$d$$0$$.prototype.onClose=function $$d$$0$$$$onClose$(){$b$$0$$.Transport.XHR.prototype.onClose.call(this);
if(this.xhr){this.xhr.onreadystatechange=this.xhr.onload=this.xhr.onerror=$e$$;try{this.xhr.abort()}catch($a$$){}this.xhr=null}};$d$$0$$.prototype.ready=function $$d$$0$$$$ready$($a$$,$c$$){var $d$$=this;$b$$0$$.util.defer(function(){$c$$.call($d$$)})};$b$$0$$.transports.push("xhr-polling")})("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this);(function($a$$1$$,$b$$,$c$$0$$){function $e$$0$$($a$$0$$){$b$$.Transport["xhr-polling"].apply(this,arguments);
this.index=$b$$.j.length;var $c$$=this;$b$$.j.push(function($a$$){$c$$._($a$$)})}var $d$$0$$=$c$$0$$.document&&"MozAppearance"in $c$$0$$.document.documentElement.style;$a$$1$$["jsonp-polling"]=$e$$0$$;$b$$.util.inherit($e$$0$$,$b$$.Transport["xhr-polling"]);$e$$0$$.prototype.name="jsonp-polling";$e$$0$$.prototype.post=function $$e$$0$$$$post$($a$$0$$){function $i$$(){$j$$();$c$$.socket.setBuffer(!1)}function $j$$(){$c$$.iframe&&$c$$.form.removeChild($c$$.iframe);try{$h$$=document.createElement('<iframe name="'+
$c$$.iframeId+'">')}catch($a$$){$h$$=document.createElement("iframe"),$h$$.name=$c$$.iframeId}$h$$.id=$c$$.iframeId;$c$$.form.appendChild($h$$);$c$$.iframe=$h$$}var $c$$=this,$d$$=$b$$.util.query(this.socket.options.query,"t="+ +new Date+"&i="+this.index);if(!this.form){var $e$$=document.createElement("form"),$f$$=document.createElement("textarea"),$g$$=this.iframeId="socketio_iframe_"+this.index,$h$$;$e$$.className="socketio";$e$$.style.position="absolute";$e$$.style.top="0px";$e$$.style.left="0px";
$e$$.style.display="none";$e$$.target=$g$$;$e$$.method="POST";$e$$.setAttribute("accept-charset","utf-8");$f$$.name="d";$e$$.appendChild($f$$);document.body.appendChild($e$$);this.form=$e$$;this.area=$f$$}this.form.action=this.prepareUrl()+$d$$;$j$$();this.area.value=$b$$.JSON.stringify($a$$0$$);try{this.form.submit()}catch($k$$){}this.iframe.attachEvent?$h$$.onreadystatechange=function $$h$$$onreadystatechange$(){"complete"==$c$$.iframe.readyState&&$i$$()}:this.iframe.onload=$i$$;this.socket.setBuffer(!0)};
$e$$0$$.prototype.get=function $$e$$0$$$$get$(){var $a$$0$$=this,$c$$=document.createElement("script"),$e$$154_f$$=$b$$.util.query(this.socket.options.query,"t="+ +new Date+"&i="+this.index);this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);$c$$.async=!0;$c$$.src=this.prepareUrl()+$e$$154_f$$;$c$$.onerror=function $$c$$$onerror$(){$a$$0$$.onClose()};$e$$154_f$$=document.getElementsByTagName("script")[0];$e$$154_f$$.parentNode.insertBefore($c$$,$e$$154_f$$);this.script=
$c$$;$d$$0$$&&setTimeout(function(){var $a$$=document.createElement("iframe");document.body.appendChild($a$$);document.body.removeChild($a$$)},100)};$e$$0$$.prototype._=function $$e$$0$$$$_$($a$$){return this.onData($a$$),this.isOpen&&this.get(),this};$e$$0$$.prototype.ready=function $$e$$0$$$$ready$($a$$,$c$$){var $e$$=this;if(!$d$$0$$)return $c$$.call(this);$b$$.util.load(function(){$c$$.call($e$$)})};$e$$0$$.check=function $$e$$0$$$check$(){return"document"in $c$$0$$};$e$$0$$.xdomainCheck=function $$e$$0$$$xdomainCheck$(){return!0};
$b$$.transports.push("jsonp-polling")})("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this);"function"==typeof define&&define.amd&&define([],function(){return io})})();var Box2D={};
(function($a2j$$,$undefined$$){function $emptyFn$$(){}!(Object.defineProperty instanceof Function)&&Object.prototype.__defineGetter__ instanceof Function&&Object.prototype.__defineSetter__ instanceof Function&&(Object.defineProperty=function $Object$defineProperty$($obj$$,$p$$,$cfg$$){$cfg$$.get instanceof Function&&$obj$$.__defineGetter__($p$$,$cfg$$.get);$cfg$$.set instanceof Function&&$obj$$.__defineSetter__($p$$,$cfg$$.set)});$a2j$$.inherit=function $$a2j$$$inherit$($cls$$,$base$$){$emptyFn$$.prototype=
$base$$.prototype;$cls$$.prototype=new $emptyFn$$;$cls$$.prototype.constructor=$cls$$};$a2j$$.generateCallback=function generateCallback($context$$,$cb$$){return function(){$cb$$.apply($context$$,arguments)}};$a2j$$.NVector=function NVector($length$$){$length$$===$undefined$$&&($length$$=0);for(var $tmp$$=Array($length$$||0),$i$$=0;$i$$<$length$$;++$i$$)$tmp$$[$i$$]=0;return $tmp$$};$a2j$$.is=function is($o1$$,$o2$$){return null===$o1$$?!1:$o2$$ instanceof Function&&$o1$$ instanceof $o2$$||$o1$$.constructor.__implements!=
$undefined$$&&$o1$$.constructor.__implements[$o2$$]?!0:!1};$a2j$$.parseUInt=function $$a2j$$$parseUInt$($v$$){return Math.abs(parseInt($v$$))}})(Box2D);var Vector=Array,Vector_a2j_Number=Box2D.NVector;"undefined"===typeof Box2D&&(Box2D={});"undefined"===typeof Box2D.Collision&&(Box2D.Collision={});"undefined"===typeof Box2D.Collision.Shapes&&(Box2D.Collision.Shapes={});"undefined"===typeof Box2D.Common&&(Box2D.Common={});"undefined"===typeof Box2D.Common.Math&&(Box2D.Common.Math={});
"undefined"===typeof Box2D.Dynamics&&(Box2D.Dynamics={});"undefined"===typeof Box2D.Dynamics.Contacts&&(Box2D.Dynamics.Contacts={});"undefined"===typeof Box2D.Dynamics.Controllers&&(Box2D.Dynamics.Controllers={});"undefined"===typeof Box2D.Dynamics.Joints&&(Box2D.Dynamics.Joints={});
(function(){function $b2AABB$$(){$b2AABB$$.b2AABB.apply(this,arguments)}function $b2Bound$$(){$b2Bound$$.b2Bound.apply(this,arguments)}function $b2BoundValues$$(){$b2BoundValues$$.b2BoundValues.apply(this,arguments);this.constructor===$b2BoundValues$$&&this.b2BoundValues.apply(this,arguments)}function $b2Collision$$(){$b2Collision$$.b2Collision.apply(this,arguments)}function $b2ContactID$$(){$b2ContactID$$.b2ContactID.apply(this,arguments);this.constructor===$b2ContactID$$&&this.b2ContactID.apply(this,
arguments)}function $b2ContactPoint$$(){$b2ContactPoint$$.b2ContactPoint.apply(this,arguments)}function $b2Distance$$(){$b2Distance$$.b2Distance.apply(this,arguments)}function $b2DistanceInput$$(){$b2DistanceInput$$.b2DistanceInput.apply(this,arguments)}function $b2DistanceOutput$$(){$b2DistanceOutput$$.b2DistanceOutput.apply(this,arguments)}function $b2DistanceProxy$$(){$b2DistanceProxy$$.b2DistanceProxy.apply(this,arguments)}function $b2DynamicTree$$(){$b2DynamicTree$$.b2DynamicTree.apply(this,
arguments);this.constructor===$b2DynamicTree$$&&this.b2DynamicTree.apply(this,arguments)}function $b2DynamicTreeBroadPhase$$(){$b2DynamicTreeBroadPhase$$.b2DynamicTreeBroadPhase.apply(this,arguments)}function $b2DynamicTreeNode$$(){$b2DynamicTreeNode$$.b2DynamicTreeNode.apply(this,arguments)}function $b2DynamicTreePair$$(){$b2DynamicTreePair$$.b2DynamicTreePair.apply(this,arguments)}function $b2Manifold$$(){$b2Manifold$$.b2Manifold.apply(this,arguments);this.constructor===$b2Manifold$$&&this.b2Manifold.apply(this,
arguments)}function $b2ManifoldPoint$$(){$b2ManifoldPoint$$.b2ManifoldPoint.apply(this,arguments);this.constructor===$b2ManifoldPoint$$&&this.b2ManifoldPoint.apply(this,arguments)}function $b2Point$$(){$b2Point$$.b2Point.apply(this,arguments)}function $b2RayCastInput$$(){$b2RayCastInput$$.b2RayCastInput.apply(this,arguments);this.constructor===$b2RayCastInput$$&&this.b2RayCastInput.apply(this,arguments)}function $b2RayCastOutput$$(){$b2RayCastOutput$$.b2RayCastOutput.apply(this,arguments)}function $b2Segment$$(){$b2Segment$$.b2Segment.apply(this,
arguments)}function $b2SeparationFunction$$(){$b2SeparationFunction$$.b2SeparationFunction.apply(this,arguments)}function $b2Simplex$$(){$b2Simplex$$.b2Simplex.apply(this,arguments);this.constructor===$b2Simplex$$&&this.b2Simplex.apply(this,arguments)}function $b2SimplexCache$$(){$b2SimplexCache$$.b2SimplexCache.apply(this,arguments)}function $b2SimplexVertex$$(){$b2SimplexVertex$$.b2SimplexVertex.apply(this,arguments)}function $b2TimeOfImpact$$(){$b2TimeOfImpact$$.b2TimeOfImpact.apply(this,arguments)}
function $b2TOIInput$$(){$b2TOIInput$$.b2TOIInput.apply(this,arguments)}function $b2WorldManifold$$(){$b2WorldManifold$$.b2WorldManifold.apply(this,arguments);this.constructor===$b2WorldManifold$$&&this.b2WorldManifold.apply(this,arguments)}function $ClipVertex$$(){$ClipVertex$$.ClipVertex.apply(this,arguments)}function $Features$$(){$Features$$.Features.apply(this,arguments)}function $b2CircleShape$$(){$b2CircleShape$$.b2CircleShape.apply(this,arguments);this.constructor===$b2CircleShape$$&&this.b2CircleShape.apply(this,
arguments)}function $b2EdgeChainDef$$(){$b2EdgeChainDef$$.b2EdgeChainDef.apply(this,arguments);this.constructor===$b2EdgeChainDef$$&&this.b2EdgeChainDef.apply(this,arguments)}function $b2EdgeShape$$(){$b2EdgeShape$$.b2EdgeShape.apply(this,arguments);this.constructor===$b2EdgeShape$$&&this.b2EdgeShape.apply(this,arguments)}function $b2MassData$$(){$b2MassData$$.b2MassData.apply(this,arguments)}function $b2PolygonShape$$(){$b2PolygonShape$$.b2PolygonShape.apply(this,arguments);this.constructor===$b2PolygonShape$$&&
this.b2PolygonShape.apply(this,arguments)}function $b2Shape$$(){$b2Shape$$.b2Shape.apply(this,arguments);this.constructor===$b2Shape$$&&this.b2Shape.apply(this,arguments)}function $b2Color$$(){$b2Color$$.b2Color.apply(this,arguments);this.constructor===$b2Color$$&&this.b2Color.apply(this,arguments)}function $b2Settings$$(){$b2Settings$$.b2Settings.apply(this,arguments)}function $b2Mat22$$(){$b2Mat22$$.b2Mat22.apply(this,arguments);this.constructor===$b2Mat22$$&&this.b2Mat22.apply(this,arguments)}
function $b2Mat33$$(){$b2Mat33$$.b2Mat33.apply(this,arguments);this.constructor===$b2Mat33$$&&this.b2Mat33.apply(this,arguments)}function $b2Math$$(){$b2Math$$.b2Math.apply(this,arguments)}function $b2Sweep$$(){$b2Sweep$$.b2Sweep.apply(this,arguments)}function $b2Transform$$(){$b2Transform$$.b2Transform.apply(this,arguments);this.constructor===$b2Transform$$&&this.b2Transform.apply(this,arguments)}function $b2Vec2$$(){$b2Vec2$$.b2Vec2.apply(this,arguments);this.constructor===$b2Vec2$$&&this.b2Vec2.apply(this,
arguments)}function $b2Vec3$$(){$b2Vec3$$.b2Vec3.apply(this,arguments);this.constructor===$b2Vec3$$&&this.b2Vec3.apply(this,arguments)}function $b2Body$$(){$b2Body$$.b2Body.apply(this,arguments);this.constructor===$b2Body$$&&this.b2Body.apply(this,arguments)}function $b2BodyDef$$(){$b2BodyDef$$.b2BodyDef.apply(this,arguments);this.constructor===$b2BodyDef$$&&this.b2BodyDef.apply(this,arguments)}function $b2ContactFilter$$(){$b2ContactFilter$$.b2ContactFilter.apply(this,arguments)}function $b2ContactImpulse$$(){$b2ContactImpulse$$.b2ContactImpulse.apply(this,
arguments)}function $b2ContactListener$$(){$b2ContactListener$$.b2ContactListener.apply(this,arguments)}function $b2ContactManager$$(){$b2ContactManager$$.b2ContactManager.apply(this,arguments);this.constructor===$b2ContactManager$$&&this.b2ContactManager.apply(this,arguments)}function $b2DebugDraw$$(){$b2DebugDraw$$.b2DebugDraw.apply(this,arguments);this.constructor===$b2DebugDraw$$&&this.b2DebugDraw.apply(this,arguments)}function $b2DestructionListener$$(){$b2DestructionListener$$.b2DestructionListener.apply(this,
arguments)}function $b2FilterData$$(){$b2FilterData$$.b2FilterData.apply(this,arguments)}function $b2Fixture$$(){$b2Fixture$$.b2Fixture.apply(this,arguments);this.constructor===$b2Fixture$$&&this.b2Fixture.apply(this,arguments)}function $b2FixtureDef$$(){$b2FixtureDef$$.b2FixtureDef.apply(this,arguments);this.constructor===$b2FixtureDef$$&&this.b2FixtureDef.apply(this,arguments)}function $b2Island$$(){$b2Island$$.b2Island.apply(this,arguments);this.constructor===$b2Island$$&&this.b2Island.apply(this,
arguments)}function $b2TimeStep$$(){$b2TimeStep$$.b2TimeStep.apply(this,arguments)}function $b2World$$(){$b2World$$.b2World.apply(this,arguments);this.constructor===$b2World$$&&this.b2World.apply(this,arguments)}function $b2CircleContact$$(){$b2CircleContact$$.b2CircleContact.apply(this,arguments)}function $b2Contact$$(){$b2Contact$$.b2Contact.apply(this,arguments);this.constructor===$b2Contact$$&&this.b2Contact.apply(this,arguments)}function $b2ContactConstraint$$(){$b2ContactConstraint$$.b2ContactConstraint.apply(this,
arguments);this.constructor===$b2ContactConstraint$$&&this.b2ContactConstraint.apply(this,arguments)}function $b2ContactConstraintPoint$$(){$b2ContactConstraintPoint$$.b2ContactConstraintPoint.apply(this,arguments)}function $b2ContactEdge$$(){$b2ContactEdge$$.b2ContactEdge.apply(this,arguments)}function $b2ContactFactory$$(){$b2ContactFactory$$.b2ContactFactory.apply(this,arguments);this.constructor===$b2ContactFactory$$&&this.b2ContactFactory.apply(this,arguments)}function $b2ContactRegister$$(){$b2ContactRegister$$.b2ContactRegister.apply(this,
arguments)}function $b2ContactResult$$(){$b2ContactResult$$.b2ContactResult.apply(this,arguments)}function $b2ContactSolver$$(){$b2ContactSolver$$.b2ContactSolver.apply(this,arguments);this.constructor===$b2ContactSolver$$&&this.b2ContactSolver.apply(this,arguments)}function $b2EdgeAndCircleContact$$(){$b2EdgeAndCircleContact$$.b2EdgeAndCircleContact.apply(this,arguments)}function $b2NullContact$$(){$b2NullContact$$.b2NullContact.apply(this,arguments);this.constructor===$b2NullContact$$&&this.b2NullContact.apply(this,
arguments)}function $b2PolyAndCircleContact$$(){$b2PolyAndCircleContact$$.b2PolyAndCircleContact.apply(this,arguments)}function $b2PolyAndEdgeContact$$(){$b2PolyAndEdgeContact$$.b2PolyAndEdgeContact.apply(this,arguments)}function $b2PolygonContact$$(){$b2PolygonContact$$.b2PolygonContact.apply(this,arguments)}function $b2PositionSolverManifold$$(){$b2PositionSolverManifold$$.b2PositionSolverManifold.apply(this,arguments);this.constructor===$b2PositionSolverManifold$$&&this.b2PositionSolverManifold.apply(this,
arguments)}function $b2BuoyancyController$$(){$b2BuoyancyController$$.b2BuoyancyController.apply(this,arguments)}function $b2ConstantAccelController$$(){$b2ConstantAccelController$$.b2ConstantAccelController.apply(this,arguments)}function $b2ConstantForceController$$(){$b2ConstantForceController$$.b2ConstantForceController.apply(this,arguments)}function $b2Controller$$(){$b2Controller$$.b2Controller.apply(this,arguments)}function $b2ControllerEdge$$(){$b2ControllerEdge$$.b2ControllerEdge.apply(this,
arguments)}function $b2GravityController$$(){$b2GravityController$$.b2GravityController.apply(this,arguments)}function $b2TensorDampingController$$(){$b2TensorDampingController$$.b2TensorDampingController.apply(this,arguments)}function $b2DistanceJoint$$(){$b2DistanceJoint$$.b2DistanceJoint.apply(this,arguments);this.constructor===$b2DistanceJoint$$&&this.b2DistanceJoint.apply(this,arguments)}function $b2DistanceJointDef$$(){$b2DistanceJointDef$$.b2DistanceJointDef.apply(this,arguments);this.constructor===
$b2DistanceJointDef$$&&this.b2DistanceJointDef.apply(this,arguments)}function $b2FrictionJoint$$(){$b2FrictionJoint$$.b2FrictionJoint.apply(this,arguments);this.constructor===$b2FrictionJoint$$&&this.b2FrictionJoint.apply(this,arguments)}function $b2FrictionJointDef$$(){$b2FrictionJointDef$$.b2FrictionJointDef.apply(this,arguments);this.constructor===$b2FrictionJointDef$$&&this.b2FrictionJointDef.apply(this,arguments)}function $b2GearJoint$$(){$b2GearJoint$$.b2GearJoint.apply(this,arguments);this.constructor===
$b2GearJoint$$&&this.b2GearJoint.apply(this,arguments)}function $b2GearJointDef$$(){$b2GearJointDef$$.b2GearJointDef.apply(this,arguments);this.constructor===$b2GearJointDef$$&&this.b2GearJointDef.apply(this,arguments)}function $b2Jacobian$$(){$b2Jacobian$$.b2Jacobian.apply(this,arguments)}function $b2Joint$$(){$b2Joint$$.b2Joint.apply(this,arguments);this.constructor===$b2Joint$$&&this.b2Joint.apply(this,arguments)}function $b2JointDef$$(){$b2JointDef$$.b2JointDef.apply(this,arguments);this.constructor===
$b2JointDef$$&&this.b2JointDef.apply(this,arguments)}function $b2JointEdge$$(){$b2JointEdge$$.b2JointEdge.apply(this,arguments)}function $b2LineJoint$$(){$b2LineJoint$$.b2LineJoint.apply(this,arguments);this.constructor===$b2LineJoint$$&&this.b2LineJoint.apply(this,arguments)}function $b2LineJointDef$$(){$b2LineJointDef$$.b2LineJointDef.apply(this,arguments);this.constructor===$b2LineJointDef$$&&this.b2LineJointDef.apply(this,arguments)}function $b2MouseJoint$$(){$b2MouseJoint$$.b2MouseJoint.apply(this,
arguments);this.constructor===$b2MouseJoint$$&&this.b2MouseJoint.apply(this,arguments)}function $b2MouseJointDef$$(){$b2MouseJointDef$$.b2MouseJointDef.apply(this,arguments);this.constructor===$b2MouseJointDef$$&&this.b2MouseJointDef.apply(this,arguments)}function $b2PrismaticJoint$$(){$b2PrismaticJoint$$.b2PrismaticJoint.apply(this,arguments);this.constructor===$b2PrismaticJoint$$&&this.b2PrismaticJoint.apply(this,arguments)}function $b2PrismaticJointDef$$(){$b2PrismaticJointDef$$.b2PrismaticJointDef.apply(this,
arguments);this.constructor===$b2PrismaticJointDef$$&&this.b2PrismaticJointDef.apply(this,arguments)}function $b2PulleyJoint$$(){$b2PulleyJoint$$.b2PulleyJoint.apply(this,arguments);this.constructor===$b2PulleyJoint$$&&this.b2PulleyJoint.apply(this,arguments)}function $b2PulleyJointDef$$(){$b2PulleyJointDef$$.b2PulleyJointDef.apply(this,arguments);this.constructor===$b2PulleyJointDef$$&&this.b2PulleyJointDef.apply(this,arguments)}function $b2RevoluteJoint$$(){$b2RevoluteJoint$$.b2RevoluteJoint.apply(this,
arguments);this.constructor===$b2RevoluteJoint$$&&this.b2RevoluteJoint.apply(this,arguments)}function $b2RevoluteJointDef$$(){$b2RevoluteJointDef$$.b2RevoluteJointDef.apply(this,arguments);this.constructor===$b2RevoluteJointDef$$&&this.b2RevoluteJointDef.apply(this,arguments)}function $b2WeldJoint$$(){$b2WeldJoint$$.b2WeldJoint.apply(this,arguments);this.constructor===$b2WeldJoint$$&&this.b2WeldJoint.apply(this,arguments)}function $b2WeldJointDef$$(){$b2WeldJointDef$$.b2WeldJointDef.apply(this,arguments);
this.constructor===$b2WeldJointDef$$&&this.b2WeldJointDef.apply(this,arguments)}Box2D.Collision.IBroadPhase="Box2D.Collision.IBroadPhase";Box2D.Collision.b2AABB=$b2AABB$$;Box2D.Collision.b2Bound=$b2Bound$$;Box2D.Collision.b2BoundValues=$b2BoundValues$$;Box2D.Collision.b2Collision=$b2Collision$$;Box2D.Collision.b2ContactID=$b2ContactID$$;Box2D.Collision.b2ContactPoint=$b2ContactPoint$$;Box2D.Collision.b2Distance=$b2Distance$$;Box2D.Collision.b2DistanceInput=$b2DistanceInput$$;Box2D.Collision.b2DistanceOutput=
$b2DistanceOutput$$;Box2D.Collision.b2DistanceProxy=$b2DistanceProxy$$;Box2D.Collision.b2DynamicTree=$b2DynamicTree$$;Box2D.Collision.b2DynamicTreeBroadPhase=$b2DynamicTreeBroadPhase$$;Box2D.Collision.b2DynamicTreeNode=$b2DynamicTreeNode$$;Box2D.Collision.b2DynamicTreePair=$b2DynamicTreePair$$;Box2D.Collision.b2Manifold=$b2Manifold$$;Box2D.Collision.b2ManifoldPoint=$b2ManifoldPoint$$;Box2D.Collision.b2Point=$b2Point$$;Box2D.Collision.b2RayCastInput=$b2RayCastInput$$;Box2D.Collision.b2RayCastOutput=
$b2RayCastOutput$$;Box2D.Collision.b2Segment=$b2Segment$$;Box2D.Collision.b2SeparationFunction=$b2SeparationFunction$$;Box2D.Collision.b2Simplex=$b2Simplex$$;Box2D.Collision.b2SimplexCache=$b2SimplexCache$$;Box2D.Collision.b2SimplexVertex=$b2SimplexVertex$$;Box2D.Collision.b2TimeOfImpact=$b2TimeOfImpact$$;Box2D.Collision.b2TOIInput=$b2TOIInput$$;Box2D.Collision.b2WorldManifold=$b2WorldManifold$$;Box2D.Collision.ClipVertex=$ClipVertex$$;Box2D.Collision.Features=$Features$$;Box2D.Collision.Shapes.b2CircleShape=
$b2CircleShape$$;Box2D.Collision.Shapes.b2EdgeChainDef=$b2EdgeChainDef$$;Box2D.Collision.Shapes.b2EdgeShape=$b2EdgeShape$$;Box2D.Collision.Shapes.b2MassData=$b2MassData$$;Box2D.Collision.Shapes.b2PolygonShape=$b2PolygonShape$$;Box2D.Collision.Shapes.b2Shape=$b2Shape$$;Box2D.Common.b2internal="Box2D.Common.b2internal";Box2D.Common.b2Color=$b2Color$$;Box2D.Common.b2Settings=$b2Settings$$;Box2D.Common.Math.b2Mat22=$b2Mat22$$;Box2D.Common.Math.b2Mat33=$b2Mat33$$;Box2D.Common.Math.b2Math=$b2Math$$;Box2D.Common.Math.b2Sweep=
$b2Sweep$$;Box2D.Common.Math.b2Transform=$b2Transform$$;Box2D.Common.Math.b2Vec2=$b2Vec2$$;Box2D.Common.Math.b2Vec3=$b2Vec3$$;Box2D.Dynamics.b2Body=$b2Body$$;Box2D.Dynamics.b2BodyDef=$b2BodyDef$$;Box2D.Dynamics.b2ContactFilter=$b2ContactFilter$$;Box2D.Dynamics.b2ContactImpulse=$b2ContactImpulse$$;Box2D.Dynamics.b2ContactListener=$b2ContactListener$$;Box2D.Dynamics.b2ContactManager=$b2ContactManager$$;Box2D.Dynamics.b2DebugDraw=$b2DebugDraw$$;Box2D.Dynamics.b2DestructionListener=$b2DestructionListener$$;
Box2D.Dynamics.b2FilterData=$b2FilterData$$;Box2D.Dynamics.b2Fixture=$b2Fixture$$;Box2D.Dynamics.b2FixtureDef=$b2FixtureDef$$;Box2D.Dynamics.b2Island=$b2Island$$;Box2D.Dynamics.b2TimeStep=$b2TimeStep$$;Box2D.Dynamics.b2World=$b2World$$;Box2D.Dynamics.Contacts.b2CircleContact=$b2CircleContact$$;Box2D.Dynamics.Contacts.b2Contact=$b2Contact$$;Box2D.Dynamics.Contacts.b2ContactConstraint=$b2ContactConstraint$$;Box2D.Dynamics.Contacts.b2ContactConstraintPoint=$b2ContactConstraintPoint$$;Box2D.Dynamics.Contacts.b2ContactEdge=
$b2ContactEdge$$;Box2D.Dynamics.Contacts.b2ContactFactory=$b2ContactFactory$$;Box2D.Dynamics.Contacts.b2ContactRegister=$b2ContactRegister$$;Box2D.Dynamics.Contacts.b2ContactResult=$b2ContactResult$$;Box2D.Dynamics.Contacts.b2ContactSolver=$b2ContactSolver$$;Box2D.Dynamics.Contacts.b2EdgeAndCircleContact=$b2EdgeAndCircleContact$$;Box2D.Dynamics.Contacts.b2NullContact=$b2NullContact$$;Box2D.Dynamics.Contacts.b2PolyAndCircleContact=$b2PolyAndCircleContact$$;Box2D.Dynamics.Contacts.b2PolyAndEdgeContact=
$b2PolyAndEdgeContact$$;Box2D.Dynamics.Contacts.b2PolygonContact=$b2PolygonContact$$;Box2D.Dynamics.Contacts.b2PositionSolverManifold=$b2PositionSolverManifold$$;Box2D.Dynamics.Controllers.b2BuoyancyController=$b2BuoyancyController$$;Box2D.Dynamics.Controllers.b2ConstantAccelController=$b2ConstantAccelController$$;Box2D.Dynamics.Controllers.b2ConstantForceController=$b2ConstantForceController$$;Box2D.Dynamics.Controllers.b2Controller=$b2Controller$$;Box2D.Dynamics.Controllers.b2ControllerEdge=$b2ControllerEdge$$;
Box2D.Dynamics.Controllers.b2GravityController=$b2GravityController$$;Box2D.Dynamics.Controllers.b2TensorDampingController=$b2TensorDampingController$$;Box2D.Dynamics.Joints.b2DistanceJoint=$b2DistanceJoint$$;Box2D.Dynamics.Joints.b2DistanceJointDef=$b2DistanceJointDef$$;Box2D.Dynamics.Joints.b2FrictionJoint=$b2FrictionJoint$$;Box2D.Dynamics.Joints.b2FrictionJointDef=$b2FrictionJointDef$$;Box2D.Dynamics.Joints.b2GearJoint=$b2GearJoint$$;Box2D.Dynamics.Joints.b2GearJointDef=$b2GearJointDef$$;Box2D.Dynamics.Joints.b2Jacobian=
$b2Jacobian$$;Box2D.Dynamics.Joints.b2Joint=$b2Joint$$;Box2D.Dynamics.Joints.b2JointDef=$b2JointDef$$;Box2D.Dynamics.Joints.b2JointEdge=$b2JointEdge$$;Box2D.Dynamics.Joints.b2LineJoint=$b2LineJoint$$;Box2D.Dynamics.Joints.b2LineJointDef=$b2LineJointDef$$;Box2D.Dynamics.Joints.b2MouseJoint=$b2MouseJoint$$;Box2D.Dynamics.Joints.b2MouseJointDef=$b2MouseJointDef$$;Box2D.Dynamics.Joints.b2PrismaticJoint=$b2PrismaticJoint$$;Box2D.Dynamics.Joints.b2PrismaticJointDef=$b2PrismaticJointDef$$;Box2D.Dynamics.Joints.b2PulleyJoint=
$b2PulleyJoint$$;Box2D.Dynamics.Joints.b2PulleyJointDef=$b2PulleyJointDef$$;Box2D.Dynamics.Joints.b2RevoluteJoint=$b2RevoluteJoint$$;Box2D.Dynamics.Joints.b2RevoluteJointDef=$b2RevoluteJointDef$$;Box2D.Dynamics.Joints.b2WeldJoint=$b2WeldJoint$$;Box2D.Dynamics.Joints.b2WeldJointDef=$b2WeldJointDef$$})();Box2D.postDefs=[];
(function(){var $b2CircleShape$$=Box2D.Collision.Shapes.b2CircleShape,$b2PolygonShape$$=Box2D.Collision.Shapes.b2PolygonShape,$b2Shape$$=Box2D.Collision.Shapes.b2Shape,$b2Settings$$=Box2D.Common.b2Settings,$b2Math$$=Box2D.Common.Math.b2Math,$b2Sweep$$=Box2D.Common.Math.b2Sweep,$b2Transform$$=Box2D.Common.Math.b2Transform,$b2Vec2$$=Box2D.Common.Math.b2Vec2,$b2AABB$$=Box2D.Collision.b2AABB,$b2Bound$$=Box2D.Collision.b2Bound,$b2BoundValues$$=Box2D.Collision.b2BoundValues,$b2Collision$$=Box2D.Collision.b2Collision,
$b2ContactID$$=Box2D.Collision.b2ContactID,$b2ContactPoint$$=Box2D.Collision.b2ContactPoint,$b2Distance$$=Box2D.Collision.b2Distance,$b2DistanceInput$$=Box2D.Collision.b2DistanceInput,$b2DistanceOutput$$=Box2D.Collision.b2DistanceOutput,$b2DistanceProxy$$=Box2D.Collision.b2DistanceProxy,$b2DynamicTree$$=Box2D.Collision.b2DynamicTree,$b2DynamicTreeBroadPhase$$=Box2D.Collision.b2DynamicTreeBroadPhase,$b2DynamicTreeNode$$=Box2D.Collision.b2DynamicTreeNode,$b2DynamicTreePair$$=Box2D.Collision.b2DynamicTreePair,
$b2Manifold$$=Box2D.Collision.b2Manifold,$b2ManifoldPoint$$=Box2D.Collision.b2ManifoldPoint,$b2Point$$=Box2D.Collision.b2Point,$b2RayCastInput$$=Box2D.Collision.b2RayCastInput,$b2RayCastOutput$$=Box2D.Collision.b2RayCastOutput,$b2Segment$$=Box2D.Collision.b2Segment,$b2SeparationFunction$$=Box2D.Collision.b2SeparationFunction,$b2Simplex$$=Box2D.Collision.b2Simplex,$b2SimplexCache$$=Box2D.Collision.b2SimplexCache,$b2SimplexVertex$$=Box2D.Collision.b2SimplexVertex,$b2TimeOfImpact$$=Box2D.Collision.b2TimeOfImpact,
$b2TOIInput$$=Box2D.Collision.b2TOIInput,$b2WorldManifold$$=Box2D.Collision.b2WorldManifold,$ClipVertex$$=Box2D.Collision.ClipVertex,$Features$$=Box2D.Collision.Features,$IBroadPhase$$=Box2D.Collision.IBroadPhase;$b2AABB$$.b2AABB=function $$b2AABB$$$b2AABB$(){this.lowerBound=new $b2Vec2$$;this.upperBound=new $b2Vec2$$};$b2AABB$$.prototype.IsValid=function $$b2AABB$$$$IsValid$(){var $dY$$=this.upperBound.y-this.lowerBound.y;return $dY$$=($dY$$=0<=this.upperBound.x-this.lowerBound.x&&0<=$dY$$)&&this.lowerBound.IsValid()&&
this.upperBound.IsValid()};$b2AABB$$.prototype.GetCenter=function $$b2AABB$$$$GetCenter$(){return new $b2Vec2$$((this.lowerBound.x+this.upperBound.x)/2,(this.lowerBound.y+this.upperBound.y)/2)};$b2AABB$$.prototype.GetExtents=function $$b2AABB$$$$GetExtents$(){return new $b2Vec2$$((this.upperBound.x-this.lowerBound.x)/2,(this.upperBound.y-this.lowerBound.y)/2)};$b2AABB$$.prototype.Contains=function $$b2AABB$$$$Contains$($aabb$$){var $result$$;return $result$$=($result$$=($result$$=($result$$=this.lowerBound.x<=
$aabb$$.lowerBound.x)&&this.lowerBound.y<=$aabb$$.lowerBound.y)&&$aabb$$.upperBound.x<=this.upperBound.x)&&$aabb$$.upperBound.y<=this.upperBound.y};$b2AABB$$.prototype.RayCast=function $$b2AABB$$$$RayCast$($output$$,$input$$){var $tmin$$=-Number.MAX_VALUE,$tmax$$=Number.MAX_VALUE,$pX$$=$input$$.p1.x,$pY$$=$input$$.p1.y,$dX$$=$input$$.p2.x-$input$$.p1.x,$dY$$=$input$$.p2.y-$input$$.p1.y,$absDX$$=Math.abs($dX$$),$absDY$$=Math.abs($dY$$),$normal$$=$output$$.normal,$inv_d_t2$$=0,$t1$$=0,$s$$49_t3$$=$inv_d_t2$$=
0,$s$$49_t3$$=0;if($absDX$$<Number.MIN_VALUE){if($pX$$<this.lowerBound.x||this.upperBound.x<$pX$$)return!1}else if($inv_d_t2$$=1/$dX$$,$t1$$=(this.lowerBound.x-$pX$$)*$inv_d_t2$$,$inv_d_t2$$*=this.upperBound.x-$pX$$,$s$$49_t3$$=-1,$t1$$>$inv_d_t2$$&&($s$$49_t3$$=$t1$$,$t1$$=$inv_d_t2$$,$inv_d_t2$$=$s$$49_t3$$,$s$$49_t3$$=1),$t1$$>$tmin$$&&($normal$$.x=$s$$49_t3$$,$normal$$.y=0,$tmin$$=$t1$$),$tmax$$=Math.min($tmax$$,$inv_d_t2$$),$tmin$$>$tmax$$)return!1;if($absDY$$<Number.MIN_VALUE){if($pY$$<this.lowerBound.y||
this.upperBound.y<$pY$$)return!1}else if($inv_d_t2$$=1/$dY$$,$t1$$=(this.lowerBound.y-$pY$$)*$inv_d_t2$$,$inv_d_t2$$*=this.upperBound.y-$pY$$,$s$$49_t3$$=-1,$t1$$>$inv_d_t2$$&&($s$$49_t3$$=$t1$$,$t1$$=$inv_d_t2$$,$inv_d_t2$$=$s$$49_t3$$,$s$$49_t3$$=1),$t1$$>$tmin$$&&($normal$$.y=$s$$49_t3$$,$normal$$.x=0,$tmin$$=$t1$$),$tmax$$=Math.min($tmax$$,$inv_d_t2$$),$tmin$$>$tmax$$)return!1;$output$$.fraction=$tmin$$;return!0};$b2AABB$$.prototype.TestOverlap=function $$b2AABB$$$$TestOverlap$($other$$){var $d1Y$$=
$other$$.lowerBound.y-this.upperBound.y,$d2Y$$=this.lowerBound.y-$other$$.upperBound.y;return 0<$other$$.lowerBound.x-this.upperBound.x||0<$d1Y$$||0<this.lowerBound.x-$other$$.upperBound.x||0<$d2Y$$?!1:!0};$b2AABB$$.Combine=function $$b2AABB$$$Combine$($aabb1$$,$aabb2$$){var $aabb$$=new $b2AABB$$;$aabb$$.Combine($aabb1$$,$aabb2$$);return $aabb$$};$b2AABB$$.prototype.Combine=function $$b2AABB$$$$Combine$($aabb1$$,$aabb2$$){this.lowerBound.x=Math.min($aabb1$$.lowerBound.x,$aabb2$$.lowerBound.x);this.lowerBound.y=
Math.min($aabb1$$.lowerBound.y,$aabb2$$.lowerBound.y);this.upperBound.x=Math.max($aabb1$$.upperBound.x,$aabb2$$.upperBound.x);this.upperBound.y=Math.max($aabb1$$.upperBound.y,$aabb2$$.upperBound.y)};$b2Bound$$.b2Bound=function $$b2Bound$$$b2Bound$(){};$b2Bound$$.prototype.IsLower=function $$b2Bound$$$$IsLower$(){return 0==(this.value&1)};$b2Bound$$.prototype.IsUpper=function $$b2Bound$$$$IsUpper$(){return 1==(this.value&1)};$b2Bound$$.prototype.Swap=function $$b2Bound$$$$Swap$($b$$){var $tempValue$$=
this.value,$tempProxy$$=this.proxy,$tempStabbingCount$$=this.stabbingCount;this.value=$b$$.value;this.proxy=$b$$.proxy;this.stabbingCount=$b$$.stabbingCount;$b$$.value=$tempValue$$;$b$$.proxy=$tempProxy$$;$b$$.stabbingCount=$tempStabbingCount$$};$b2BoundValues$$.b2BoundValues=function $$b2BoundValues$$$b2BoundValues$(){};$b2BoundValues$$.prototype.b2BoundValues=function $$b2BoundValues$$$$b2BoundValues$(){this.lowerValues=new Vector_a2j_Number;this.lowerValues[0]=0;this.lowerValues[1]=0;this.upperValues=
new Vector_a2j_Number;this.upperValues[0]=0;this.upperValues[1]=0};$b2Collision$$.b2Collision=function $$b2Collision$$$b2Collision$(){};$b2Collision$$.ClipSegmentToLine=function $$b2Collision$$$ClipSegmentToLine$($vOut$$,$vIn$$,$interp_normal$$,$offset$$){void 0===$offset$$&&($offset$$=0);var $cv_distance1_tVec$$,$numOut$$=0;$cv_distance1_tVec$$=$vIn$$[0];var $vIn0$$=$cv_distance1_tVec$$.v;$cv_distance1_tVec$$=$vIn$$[1];var $vIn1$$=$cv_distance1_tVec$$.v,$distance0$$=$interp_normal$$.x*$vIn0$$.x+
$interp_normal$$.y*$vIn0$$.y-$offset$$;$cv_distance1_tVec$$=$interp_normal$$.x*$vIn1$$.x+$interp_normal$$.y*$vIn1$$.y-$offset$$;0>=$distance0$$&&$vOut$$[$numOut$$++].Set($vIn$$[0]);0>=$cv_distance1_tVec$$&&$vOut$$[$numOut$$++].Set($vIn$$[1]);0>$distance0$$*$cv_distance1_tVec$$&&($interp_normal$$=$distance0$$/($distance0$$-$cv_distance1_tVec$$),$cv_distance1_tVec$$=$vOut$$[$numOut$$],$cv_distance1_tVec$$=$cv_distance1_tVec$$.v,$cv_distance1_tVec$$.x=$vIn0$$.x+$interp_normal$$*($vIn1$$.x-$vIn0$$.x),
$cv_distance1_tVec$$.y=$vIn0$$.y+$interp_normal$$*($vIn1$$.y-$vIn0$$.y),$cv_distance1_tVec$$=$vOut$$[$numOut$$],$cv_distance1_tVec$$.id=(0<$distance0$$?$vIn$$[0]:$vIn$$[1]).id,++$numOut$$);return $numOut$$};$b2Collision$$.EdgeSeparation=function $$b2Collision$$$EdgeSeparation$($normal1WorldX_normals1_poly1$$,$v1Y_xf1$$,$edge1_v1X$$,$normal1WorldY_poly2$$,$v2Y_xf2$$){void 0===$edge1_v1X$$&&($edge1_v1X$$=0);parseInt($normal1WorldX_normals1_poly1$$.m_vertexCount);var $v2X_vertices1$$=$normal1WorldX_normals1_poly1$$.m_vertices;
$normal1WorldX_normals1_poly1$$=$normal1WorldX_normals1_poly1$$.m_normals;var $count2$$=parseInt($normal1WorldY_poly2$$.m_vertexCount),$vertices2$$=$normal1WorldY_poly2$$.m_vertices,$normal1Y_tMat$$,$dot_tVec$$;$normal1Y_tMat$$=$v1Y_xf1$$.R;$dot_tVec$$=$normal1WorldX_normals1_poly1$$[$edge1_v1X$$];$normal1WorldX_normals1_poly1$$=$normal1Y_tMat$$.col1.x*$dot_tVec$$.x+$normal1Y_tMat$$.col2.x*$dot_tVec$$.y;$normal1WorldY_poly2$$=$normal1Y_tMat$$.col1.y*$dot_tVec$$.x+$normal1Y_tMat$$.col2.y*$dot_tVec$$.y;
$normal1Y_tMat$$=$v2Y_xf2$$.R;var $normal1X$$=$normal1Y_tMat$$.col1.x*$normal1WorldX_normals1_poly1$$+$normal1Y_tMat$$.col1.y*$normal1WorldY_poly2$$;$normal1Y_tMat$$=$normal1Y_tMat$$.col2.x*$normal1WorldX_normals1_poly1$$+$normal1Y_tMat$$.col2.y*$normal1WorldY_poly2$$;for(var $index$$=0,$minDot$$=Number.MAX_VALUE,$i$$=0;$i$$<$count2$$;++$i$$)$dot_tVec$$=$vertices2$$[$i$$],$dot_tVec$$=$dot_tVec$$.x*$normal1X$$+$dot_tVec$$.y*$normal1Y_tMat$$,$dot_tVec$$<$minDot$$&&($minDot$$=$dot_tVec$$,$index$$=$i$$);
$dot_tVec$$=$v2X_vertices1$$[$edge1_v1X$$];$normal1Y_tMat$$=$v1Y_xf1$$.R;$edge1_v1X$$=$v1Y_xf1$$.position.x+($normal1Y_tMat$$.col1.x*$dot_tVec$$.x+$normal1Y_tMat$$.col2.x*$dot_tVec$$.y);$v1Y_xf1$$=$v1Y_xf1$$.position.y+($normal1Y_tMat$$.col1.y*$dot_tVec$$.x+$normal1Y_tMat$$.col2.y*$dot_tVec$$.y);$dot_tVec$$=$vertices2$$[$index$$];$normal1Y_tMat$$=$v2Y_xf2$$.R;$v2X_vertices1$$=$v2Y_xf2$$.position.x+($normal1Y_tMat$$.col1.x*$dot_tVec$$.x+$normal1Y_tMat$$.col2.x*$dot_tVec$$.y);$v2Y_xf2$$=$v2Y_xf2$$.position.y+
($normal1Y_tMat$$.col1.y*$dot_tVec$$.x+$normal1Y_tMat$$.col2.y*$dot_tVec$$.y);return($v2X_vertices1$$-$edge1_v1X$$)*$normal1WorldX_normals1_poly1$$+($v2Y_xf2$$-$v1Y_xf1$$)*$normal1WorldY_poly2$$};$b2Collision$$.FindMaxSeparation=function $$b2Collision$$$FindMaxSeparation$($edgeIndex$$,$poly1$$,$xf1$$,$poly2$$,$xf2$$){var $count1$$=parseInt($poly1$$.m_vertexCount),$normals1$$1_s$$=$poly1$$.m_normals,$dot$$1_prevEdge_tVec$$,$dLocal1X_sPrev_tMat$$;$dLocal1X_sPrev_tMat$$=$xf2$$.R;$dot$$1_prevEdge_tVec$$=
$poly2$$.m_centroid;var $dX$$=$xf2$$.position.x+($dLocal1X_sPrev_tMat$$.col1.x*$dot$$1_prevEdge_tVec$$.x+$dLocal1X_sPrev_tMat$$.col2.x*$dot$$1_prevEdge_tVec$$.y),$dLocal1Y_dY$$=$xf2$$.position.y+($dLocal1X_sPrev_tMat$$.col1.y*$dot$$1_prevEdge_tVec$$.x+$dLocal1X_sPrev_tMat$$.col2.y*$dot$$1_prevEdge_tVec$$.y);$dLocal1X_sPrev_tMat$$=$xf1$$.R;$dot$$1_prevEdge_tVec$$=$poly1$$.m_centroid;$dX$$-=$xf1$$.position.x+($dLocal1X_sPrev_tMat$$.col1.x*$dot$$1_prevEdge_tVec$$.x+$dLocal1X_sPrev_tMat$$.col2.x*$dot$$1_prevEdge_tVec$$.y);
$dLocal1Y_dY$$-=$xf1$$.position.y+($dLocal1X_sPrev_tMat$$.col1.y*$dot$$1_prevEdge_tVec$$.x+$dLocal1X_sPrev_tMat$$.col2.y*$dot$$1_prevEdge_tVec$$.y);$dLocal1X_sPrev_tMat$$=$dX$$*$xf1$$.R.col1.x+$dLocal1Y_dY$$*$xf1$$.R.col1.y;for(var $dLocal1Y_dY$$=$dX$$*$xf1$$.R.col2.x+$dLocal1Y_dY$$*$xf1$$.R.col2.y,$dX$$=0,$maxDot_sNext$$=-Number.MAX_VALUE,$bestEdge_i$$=0;$bestEdge_i$$<$count1$$;++$bestEdge_i$$)$dot$$1_prevEdge_tVec$$=$normals1$$1_s$$[$bestEdge_i$$],$dot$$1_prevEdge_tVec$$=$dot$$1_prevEdge_tVec$$.x*
$dLocal1X_sPrev_tMat$$+$dot$$1_prevEdge_tVec$$.y*$dLocal1Y_dY$$,$dot$$1_prevEdge_tVec$$>$maxDot_sNext$$&&($maxDot_sNext$$=$dot$$1_prevEdge_tVec$$,$dX$$=$bestEdge_i$$);$normals1$$1_s$$=$b2Collision$$.EdgeSeparation($poly1$$,$xf1$$,$dX$$,$poly2$$,$xf2$$);$dot$$1_prevEdge_tVec$$=parseInt(0<=$dX$$-1?$dX$$-1:$count1$$-1);$dLocal1X_sPrev_tMat$$=$b2Collision$$.EdgeSeparation($poly1$$,$xf1$$,$dot$$1_prevEdge_tVec$$,$poly2$$,$xf2$$);var $dLocal1Y_dY$$=parseInt($dX$$+1<$count1$$?$dX$$+1:0),$maxDot_sNext$$=
$b2Collision$$.EdgeSeparation($poly1$$,$xf1$$,$dLocal1Y_dY$$,$poly2$$,$xf2$$),$bestSeparation$$=$bestEdge_i$$=0,$increment$$=0;if($dLocal1X_sPrev_tMat$$>$normals1$$1_s$$&&$dLocal1X_sPrev_tMat$$>$maxDot_sNext$$)$increment$$=-1,$bestEdge_i$$=$dot$$1_prevEdge_tVec$$,$bestSeparation$$=$dLocal1X_sPrev_tMat$$;else if($maxDot_sNext$$>$normals1$$1_s$$)$increment$$=1,$bestEdge_i$$=$dLocal1Y_dY$$,$bestSeparation$$=$maxDot_sNext$$;else return $edgeIndex$$[0]=$dX$$,$normals1$$1_s$$;for(;;)if($dX$$=-1==$increment$$?
0<=$bestEdge_i$$-1?$bestEdge_i$$-1:$count1$$-1:$bestEdge_i$$+1<$count1$$?$bestEdge_i$$+1:0,$normals1$$1_s$$=$b2Collision$$.EdgeSeparation($poly1$$,$xf1$$,$dX$$,$poly2$$,$xf2$$),$normals1$$1_s$$>$bestSeparation$$)$bestEdge_i$$=$dX$$,$bestSeparation$$=$normals1$$1_s$$;else break;$edgeIndex$$[0]=$bestEdge_i$$;return $bestSeparation$$};$b2Collision$$.FindIncidentEdge=function $$b2Collision$$$FindIncidentEdge$($c$$,$poly1$$2_vertices2$$,$dot$$2_tVec$$3_tX_xf1$$,$edge1$$,$i1$$5_normals2_poly2$$,$xf2$$){void 0===
$edge1$$&&($edge1$$=0);parseInt($poly1$$2_vertices2$$.m_vertexCount);var $i2$$4_normal1X$$1_normals1$$=$poly1$$2_vertices2$$.m_normals,$count2$$=parseInt($i1$$5_normals2_poly2$$.m_vertexCount);$poly1$$2_vertices2$$=$i1$$5_normals2_poly2$$.m_vertices;$i1$$5_normals2_poly2$$=$i1$$5_normals2_poly2$$.m_normals;var $index$$136_tMat$$;$index$$136_tMat$$=$dot$$2_tVec$$3_tX_xf1$$.R;$dot$$2_tVec$$3_tX_xf1$$=$i2$$4_normal1X$$1_normals1$$[$edge1$$];var $i2$$4_normal1X$$1_normals1$$=$index$$136_tMat$$.col1.x*
$dot$$2_tVec$$3_tX_xf1$$.x+$index$$136_tMat$$.col2.x*$dot$$2_tVec$$3_tX_xf1$$.y,$normal1Y$$=$index$$136_tMat$$.col1.y*$dot$$2_tVec$$3_tX_xf1$$.x+$index$$136_tMat$$.col2.y*$dot$$2_tVec$$3_tX_xf1$$.y;$index$$136_tMat$$=$xf2$$.R;$dot$$2_tVec$$3_tX_xf1$$=$index$$136_tMat$$.col1.x*$i2$$4_normal1X$$1_normals1$$+$index$$136_tMat$$.col1.y*$normal1Y$$;$normal1Y$$=$index$$136_tMat$$.col2.x*$i2$$4_normal1X$$1_normals1$$+$index$$136_tMat$$.col2.y*$normal1Y$$;$i2$$4_normal1X$$1_normals1$$=$dot$$2_tVec$$3_tX_xf1$$;
$index$$136_tMat$$=0;for(var $minDot$$=Number.MAX_VALUE,$i$$=0;$i$$<$count2$$;++$i$$)$dot$$2_tVec$$3_tX_xf1$$=$i1$$5_normals2_poly2$$[$i$$],$dot$$2_tVec$$3_tX_xf1$$=$i2$$4_normal1X$$1_normals1$$*$dot$$2_tVec$$3_tX_xf1$$.x+$normal1Y$$*$dot$$2_tVec$$3_tX_xf1$$.y,$dot$$2_tVec$$3_tX_xf1$$<$minDot$$&&($minDot$$=$dot$$2_tVec$$3_tX_xf1$$,$index$$136_tMat$$=$i$$);$i1$$5_normals2_poly2$$=parseInt($index$$136_tMat$$);$i2$$4_normal1X$$1_normals1$$=parseInt($i1$$5_normals2_poly2$$+1<$count2$$?$i1$$5_normals2_poly2$$+
1:0);$count2$$=$c$$[0];$dot$$2_tVec$$3_tX_xf1$$=$poly1$$2_vertices2$$[$i1$$5_normals2_poly2$$];$index$$136_tMat$$=$xf2$$.R;$count2$$.v.x=$xf2$$.position.x+($index$$136_tMat$$.col1.x*$dot$$2_tVec$$3_tX_xf1$$.x+$index$$136_tMat$$.col2.x*$dot$$2_tVec$$3_tX_xf1$$.y);$count2$$.v.y=$xf2$$.position.y+($index$$136_tMat$$.col1.y*$dot$$2_tVec$$3_tX_xf1$$.x+$index$$136_tMat$$.col2.y*$dot$$2_tVec$$3_tX_xf1$$.y);$count2$$.id.features.referenceEdge=$edge1$$;$count2$$.id.features.incidentEdge=$i1$$5_normals2_poly2$$;
$count2$$.id.features.incidentVertex=0;$count2$$=$c$$[1];$dot$$2_tVec$$3_tX_xf1$$=$poly1$$2_vertices2$$[$i2$$4_normal1X$$1_normals1$$];$index$$136_tMat$$=$xf2$$.R;$count2$$.v.x=$xf2$$.position.x+($index$$136_tMat$$.col1.x*$dot$$2_tVec$$3_tX_xf1$$.x+$index$$136_tMat$$.col2.x*$dot$$2_tVec$$3_tX_xf1$$.y);$count2$$.v.y=$xf2$$.position.y+($index$$136_tMat$$.col1.y*$dot$$2_tVec$$3_tX_xf1$$.x+$index$$136_tMat$$.col2.y*$dot$$2_tVec$$3_tX_xf1$$.y);$count2$$.id.features.referenceEdge=$edge1$$;$count2$$.id.features.incidentEdge=
$i2$$4_normal1X$$1_normals1$$;$count2$$.id.features.incidentVertex=1};$b2Collision$$.MakeClipPointVector=function $$b2Collision$$$MakeClipPointVector$(){var $r$$=new Vector(2);$r$$[0]=new $ClipVertex$$;$r$$[1]=new $ClipVertex$$;return $r$$};$b2Collision$$.CollidePolygons=function $$b2Collision$$$CollidePolygons$($manifold$$,$frontOffset_polyA_xf1$$,$xf2$$,$i$$552_planePoint_poly2$$,$localNormal_pointCount_vertices1$$){var $cv$$;$manifold$$.m_pointCount=0;var $totalRadius$$=$frontOffset_polyA_xf1$$.m_radius+
$i$$552_planePoint_poly2$$.m_radius;$b2Collision$$.s_edgeAO[0]=0;var $clipPoints2_local_v11_poly1$$=$b2Collision$$.FindMaxSeparation($b2Collision$$.s_edgeAO,$frontOffset_polyA_xf1$$,$xf2$$,$i$$552_planePoint_poly2$$,$localNormal_pointCount_vertices1$$);$cv$$=$b2Collision$$.s_edgeAO[0];if(!($clipPoints2_local_v11_poly1$$>$totalRadius$$)){var $count1$$3_edgeB_sideOffset2_tMat$$;$b2Collision$$.s_edgeBO[0]=0;var $cp$$=$b2Collision$$.FindMaxSeparation($b2Collision$$.s_edgeBO,$i$$552_planePoint_poly2$$,
$localNormal_pointCount_vertices1$$,$frontOffset_polyA_xf1$$,$xf2$$);$count1$$3_edgeB_sideOffset2_tMat$$=$b2Collision$$.s_edgeBO[0];if(!($cp$$>$totalRadius$$)){var $edge1$$2_localTangent_normal$$=0,$flip$$=0;$cp$$>.98*$clipPoints2_local_v11_poly1$$+.001?($clipPoints2_local_v11_poly1$$=$i$$552_planePoint_poly2$$,$i$$552_planePoint_poly2$$=$frontOffset_polyA_xf1$$,$frontOffset_polyA_xf1$$=$localNormal_pointCount_vertices1$$,$edge1$$2_localTangent_normal$$=$count1$$3_edgeB_sideOffset2_tMat$$,$manifold$$.m_type=
$b2Manifold$$.e_faceB,$flip$$=1):($clipPoints2_local_v11_poly1$$=$frontOffset_polyA_xf1$$,$frontOffset_polyA_xf1$$=$xf2$$,$xf2$$=$localNormal_pointCount_vertices1$$,$edge1$$2_localTangent_normal$$=$cv$$,$manifold$$.m_type=$b2Manifold$$.e_faceA,$flip$$=0);$cv$$=$b2Collision$$.s_incidentEdge;$b2Collision$$.FindIncidentEdge($cv$$,$clipPoints2_local_v11_poly1$$,$frontOffset_polyA_xf1$$,$edge1$$2_localTangent_normal$$,$i$$552_planePoint_poly2$$,$xf2$$);$count1$$3_edgeB_sideOffset2_tMat$$=parseInt($clipPoints2_local_v11_poly1$$.m_vertexCount);
$localNormal_pointCount_vertices1$$=$clipPoints2_local_v11_poly1$$.m_vertices;var $clipPoints2_local_v11_poly1$$=$localNormal_pointCount_vertices1$$[$edge1$$2_localTangent_normal$$],$clipPoints1_local_v12$$;$clipPoints1_local_v12$$=$edge1$$2_localTangent_normal$$+1<$count1$$3_edgeB_sideOffset2_tMat$$?$localNormal_pointCount_vertices1$$[parseInt($edge1$$2_localTangent_normal$$+1)]:$localNormal_pointCount_vertices1$$[0];$edge1$$2_localTangent_normal$$=$b2Collision$$.s_localTangent;$edge1$$2_localTangent_normal$$.Set($clipPoints1_local_v12$$.x-
$clipPoints2_local_v11_poly1$$.x,$clipPoints1_local_v12$$.y-$clipPoints2_local_v11_poly1$$.y);$edge1$$2_localTangent_normal$$.Normalize();$localNormal_pointCount_vertices1$$=$b2Collision$$.s_localNormal;$localNormal_pointCount_vertices1$$.x=$edge1$$2_localTangent_normal$$.y;$localNormal_pointCount_vertices1$$.y=-$edge1$$2_localTangent_normal$$.x;$i$$552_planePoint_poly2$$=$b2Collision$$.s_planePoint;$i$$552_planePoint_poly2$$.Set(.5*($clipPoints2_local_v11_poly1$$.x+$clipPoints1_local_v12$$.x),.5*
($clipPoints2_local_v11_poly1$$.y+$clipPoints1_local_v12$$.y));$cp$$=$b2Collision$$.s_tangent;$count1$$3_edgeB_sideOffset2_tMat$$=$frontOffset_polyA_xf1$$.R;$cp$$.x=$count1$$3_edgeB_sideOffset2_tMat$$.col1.x*$edge1$$2_localTangent_normal$$.x+$count1$$3_edgeB_sideOffset2_tMat$$.col2.x*$edge1$$2_localTangent_normal$$.y;$cp$$.y=$count1$$3_edgeB_sideOffset2_tMat$$.col1.y*$edge1$$2_localTangent_normal$$.x+$count1$$3_edgeB_sideOffset2_tMat$$.col2.y*$edge1$$2_localTangent_normal$$.y;var $tX$$=$b2Collision$$.s_tangent2;
$tX$$.x=-$cp$$.x;$tX$$.y=-$cp$$.y;$edge1$$2_localTangent_normal$$=$b2Collision$$.s_normal;$edge1$$2_localTangent_normal$$.x=$cp$$.y;$edge1$$2_localTangent_normal$$.y=-$cp$$.x;var $tY_v11$$=$b2Collision$$.s_v11,$np_v12$$=$b2Collision$$.s_v12;$tY_v11$$.x=$frontOffset_polyA_xf1$$.position.x+($count1$$3_edgeB_sideOffset2_tMat$$.col1.x*$clipPoints2_local_v11_poly1$$.x+$count1$$3_edgeB_sideOffset2_tMat$$.col2.x*$clipPoints2_local_v11_poly1$$.y);$tY_v11$$.y=$frontOffset_polyA_xf1$$.position.y+($count1$$3_edgeB_sideOffset2_tMat$$.col1.y*
$clipPoints2_local_v11_poly1$$.x+$count1$$3_edgeB_sideOffset2_tMat$$.col2.y*$clipPoints2_local_v11_poly1$$.y);$np_v12$$.x=$frontOffset_polyA_xf1$$.position.x+($count1$$3_edgeB_sideOffset2_tMat$$.col1.x*$clipPoints1_local_v12$$.x+$count1$$3_edgeB_sideOffset2_tMat$$.col2.x*$clipPoints1_local_v12$$.y);$np_v12$$.y=$frontOffset_polyA_xf1$$.position.y+($count1$$3_edgeB_sideOffset2_tMat$$.col1.y*$clipPoints1_local_v12$$.x+$count1$$3_edgeB_sideOffset2_tMat$$.col2.y*$clipPoints1_local_v12$$.y);$frontOffset_polyA_xf1$$=
$edge1$$2_localTangent_normal$$.x*$tY_v11$$.x+$edge1$$2_localTangent_normal$$.y*$tY_v11$$.y;$count1$$3_edgeB_sideOffset2_tMat$$=$cp$$.x*$np_v12$$.x+$cp$$.y*$np_v12$$.y+$totalRadius$$;$clipPoints1_local_v12$$=$b2Collision$$.s_clipPoints1;$clipPoints2_local_v11_poly1$$=$b2Collision$$.s_clipPoints2;$np_v12$$=0;$np_v12$$=$b2Collision$$.ClipSegmentToLine($clipPoints1_local_v12$$,$cv$$,$tX$$,-$cp$$.x*$tY_v11$$.x-$cp$$.y*$tY_v11$$.y+$totalRadius$$);if(!(2>$np_v12$$||($np_v12$$=$b2Collision$$.ClipSegmentToLine($clipPoints2_local_v11_poly1$$,
$clipPoints1_local_v12$$,$cp$$,$count1$$3_edgeB_sideOffset2_tMat$$),2>$np_v12$$))){$manifold$$.m_localPlaneNormal.SetV($localNormal_pointCount_vertices1$$);$manifold$$.m_localPoint.SetV($i$$552_planePoint_poly2$$);for($i$$552_planePoint_poly2$$=$localNormal_pointCount_vertices1$$=0;$i$$552_planePoint_poly2$$<$b2Settings$$.b2_maxManifoldPoints;++$i$$552_planePoint_poly2$$)$cv$$=$clipPoints2_local_v11_poly1$$[$i$$552_planePoint_poly2$$],$edge1$$2_localTangent_normal$$.x*$cv$$.v.x+$edge1$$2_localTangent_normal$$.y*
$cv$$.v.y-$frontOffset_polyA_xf1$$<=$totalRadius$$&&($cp$$=$manifold$$.m_points[$localNormal_pointCount_vertices1$$],$count1$$3_edgeB_sideOffset2_tMat$$=$xf2$$.R,$tX$$=$cv$$.v.x-$xf2$$.position.x,$tY_v11$$=$cv$$.v.y-$xf2$$.position.y,$cp$$.m_localPoint.x=$tX$$*$count1$$3_edgeB_sideOffset2_tMat$$.col1.x+$tY_v11$$*$count1$$3_edgeB_sideOffset2_tMat$$.col1.y,$cp$$.m_localPoint.y=$tX$$*$count1$$3_edgeB_sideOffset2_tMat$$.col2.x+$tY_v11$$*$count1$$3_edgeB_sideOffset2_tMat$$.col2.y,$cp$$.m_id.Set($cv$$.id),
$cp$$.m_id.features.flip=$flip$$,++$localNormal_pointCount_vertices1$$);$manifold$$.m_pointCount=$localNormal_pointCount_vertices1$$}}}};$b2Collision$$.CollideCircles=function $$b2Collision$$$CollideCircles$($manifold$$,$circle1$$,$p1Y_xf1$$,$circle2$$,$dY$$4_xf2$$){$manifold$$.m_pointCount=0;var $radius$$25_tMat$$,$tVec$$;$radius$$25_tMat$$=$p1Y_xf1$$.R;$tVec$$=$circle1$$.m_p;var $dX$$=$p1Y_xf1$$.position.x+($radius$$25_tMat$$.col1.x*$tVec$$.x+$radius$$25_tMat$$.col2.x*$tVec$$.y);$p1Y_xf1$$=$p1Y_xf1$$.position.y+
($radius$$25_tMat$$.col1.y*$tVec$$.x+$radius$$25_tMat$$.col2.y*$tVec$$.y);$radius$$25_tMat$$=$dY$$4_xf2$$.R;$tVec$$=$circle2$$.m_p;$dX$$=$dY$$4_xf2$$.position.x+($radius$$25_tMat$$.col1.x*$tVec$$.x+$radius$$25_tMat$$.col2.x*$tVec$$.y)-$dX$$;$dY$$4_xf2$$=$dY$$4_xf2$$.position.y+($radius$$25_tMat$$.col1.y*$tVec$$.x+$radius$$25_tMat$$.col2.y*$tVec$$.y)-$p1Y_xf1$$;$radius$$25_tMat$$=$circle1$$.m_radius+$circle2$$.m_radius;$dX$$*$dX$$+$dY$$4_xf2$$*$dY$$4_xf2$$>$radius$$25_tMat$$*$radius$$25_tMat$$||($manifold$$.m_type=
$b2Manifold$$.e_circles,$manifold$$.m_localPoint.SetV($circle1$$.m_p),$manifold$$.m_localPlaneNormal.SetZero(),$manifold$$.m_pointCount=1,$manifold$$.m_points[0].m_localPoint.SetV($circle2$$.m_p),$manifold$$.m_points[0].m_id.key=0)};$b2Collision$$.CollidePolygonAndCircle=function $$b2Collision$$$CollidePolygonAndCircle$($manifold$$,$normals_polygon$$,$cLocalX_xf1$$,$circle$$,$radius$$26_xf2$$){var $dX$$5_s$$=$manifold$$.m_pointCount=0,$dY$$=0,$faceCenterY_tVec$$5_v1$$,$cLocalY_tMat$$;$cLocalY_tMat$$=
$radius$$26_xf2$$.R;$faceCenterY_tVec$$5_v1$$=$circle$$.m_p;var $cY_separation$$=$radius$$26_xf2$$.position.y+($cLocalY_tMat$$.col1.y*$faceCenterY_tVec$$5_v1$$.x+$cLocalY_tMat$$.col2.y*$faceCenterY_tVec$$5_v1$$.y),$dX$$5_s$$=$radius$$26_xf2$$.position.x+($cLocalY_tMat$$.col1.x*$faceCenterY_tVec$$5_v1$$.x+$cLocalY_tMat$$.col2.x*$faceCenterY_tVec$$5_v1$$.y)-$cLocalX_xf1$$.position.x,$dY$$=$cY_separation$$-$cLocalX_xf1$$.position.y;$cLocalY_tMat$$=$cLocalX_xf1$$.R;$cLocalX_xf1$$=$dX$$5_s$$*$cLocalY_tMat$$.col1.x+
$dY$$*$cLocalY_tMat$$.col1.y;$cLocalY_tMat$$=$dX$$5_s$$*$cLocalY_tMat$$.col2.x+$dY$$*$cLocalY_tMat$$.col2.y;var $faceCenterX_normalIndex$$=0,$cY_separation$$=-Number.MAX_VALUE;$radius$$26_xf2$$=$normals_polygon$$.m_radius+$circle$$.m_radius;var $vertexCount$$=parseInt($normals_polygon$$.m_vertexCount),$v2$$18_vertices$$=$normals_polygon$$.m_vertices;$normals_polygon$$=$normals_polygon$$.m_normals;for(var $i$$=0;$i$$<$vertexCount$$;++$i$$){$faceCenterY_tVec$$5_v1$$=$v2$$18_vertices$$[$i$$];$dX$$5_s$$=
$cLocalX_xf1$$-$faceCenterY_tVec$$5_v1$$.x;$dY$$=$cLocalY_tMat$$-$faceCenterY_tVec$$5_v1$$.y;$faceCenterY_tVec$$5_v1$$=$normals_polygon$$[$i$$];$dX$$5_s$$=$faceCenterY_tVec$$5_v1$$.x*$dX$$5_s$$+$faceCenterY_tVec$$5_v1$$.y*$dY$$;if($dX$$5_s$$>$radius$$26_xf2$$)return;$dX$$5_s$$>$cY_separation$$&&($cY_separation$$=$dX$$5_s$$,$faceCenterX_normalIndex$$=$i$$)}$dX$$5_s$$=parseInt($faceCenterX_normalIndex$$);$dY$$=parseInt($dX$$5_s$$+1<$vertexCount$$?$dX$$5_s$$+1:0);$faceCenterY_tVec$$5_v1$$=$v2$$18_vertices$$[$dX$$5_s$$];
$v2$$18_vertices$$=$v2$$18_vertices$$[$dY$$];$cY_separation$$<Number.MIN_VALUE?($manifold$$.m_pointCount=1,$manifold$$.m_type=$b2Manifold$$.e_faceA,$manifold$$.m_localPlaneNormal.SetV($normals_polygon$$[$faceCenterX_normalIndex$$]),$manifold$$.m_localPoint.x=.5*($faceCenterY_tVec$$5_v1$$.x+$v2$$18_vertices$$.x),$manifold$$.m_localPoint.y=.5*($faceCenterY_tVec$$5_v1$$.y+$v2$$18_vertices$$.y),$manifold$$.m_points[0].m_localPoint.SetV($circle$$.m_p),$manifold$$.m_points[0].m_id.key=0):($cY_separation$$=
($cLocalX_xf1$$-$v2$$18_vertices$$.x)*($faceCenterY_tVec$$5_v1$$.x-$v2$$18_vertices$$.x)+($cLocalY_tMat$$-$v2$$18_vertices$$.y)*($faceCenterY_tVec$$5_v1$$.y-$v2$$18_vertices$$.y),0>=($cLocalX_xf1$$-$faceCenterY_tVec$$5_v1$$.x)*($v2$$18_vertices$$.x-$faceCenterY_tVec$$5_v1$$.x)+($cLocalY_tMat$$-$faceCenterY_tVec$$5_v1$$.y)*($v2$$18_vertices$$.y-$faceCenterY_tVec$$5_v1$$.y)?($cLocalX_xf1$$-$faceCenterY_tVec$$5_v1$$.x)*($cLocalX_xf1$$-$faceCenterY_tVec$$5_v1$$.x)+($cLocalY_tMat$$-$faceCenterY_tVec$$5_v1$$.y)*
($cLocalY_tMat$$-$faceCenterY_tVec$$5_v1$$.y)>$radius$$26_xf2$$*$radius$$26_xf2$$||($manifold$$.m_pointCount=1,$manifold$$.m_type=$b2Manifold$$.e_faceA,$manifold$$.m_localPlaneNormal.x=$cLocalX_xf1$$-$faceCenterY_tVec$$5_v1$$.x,$manifold$$.m_localPlaneNormal.y=$cLocalY_tMat$$-$faceCenterY_tVec$$5_v1$$.y,$manifold$$.m_localPlaneNormal.Normalize(),$manifold$$.m_localPoint.SetV($faceCenterY_tVec$$5_v1$$),$manifold$$.m_points[0].m_localPoint.SetV($circle$$.m_p),$manifold$$.m_points[0].m_id.key=0):0>=
$cY_separation$$?($cLocalX_xf1$$-$v2$$18_vertices$$.x)*($cLocalX_xf1$$-$v2$$18_vertices$$.x)+($cLocalY_tMat$$-$v2$$18_vertices$$.y)*($cLocalY_tMat$$-$v2$$18_vertices$$.y)>$radius$$26_xf2$$*$radius$$26_xf2$$||($manifold$$.m_pointCount=1,$manifold$$.m_type=$b2Manifold$$.e_faceA,$manifold$$.m_localPlaneNormal.x=$cLocalX_xf1$$-$v2$$18_vertices$$.x,$manifold$$.m_localPlaneNormal.y=$cLocalY_tMat$$-$v2$$18_vertices$$.y,$manifold$$.m_localPlaneNormal.Normalize(),$manifold$$.m_localPoint.SetV($v2$$18_vertices$$),
$manifold$$.m_points[0].m_localPoint.SetV($circle$$.m_p),$manifold$$.m_points[0].m_id.key=0):($faceCenterX_normalIndex$$=.5*($faceCenterY_tVec$$5_v1$$.x+$v2$$18_vertices$$.x),$faceCenterY_tVec$$5_v1$$=.5*($faceCenterY_tVec$$5_v1$$.y+$v2$$18_vertices$$.y),$cY_separation$$=($cLocalX_xf1$$-$faceCenterX_normalIndex$$)*$normals_polygon$$[$dX$$5_s$$].x+($cLocalY_tMat$$-$faceCenterY_tVec$$5_v1$$)*$normals_polygon$$[$dX$$5_s$$].y,$cY_separation$$>$radius$$26_xf2$$||($manifold$$.m_pointCount=1,$manifold$$.m_type=
$b2Manifold$$.e_faceA,$manifold$$.m_localPlaneNormal.x=$normals_polygon$$[$dX$$5_s$$].x,$manifold$$.m_localPlaneNormal.y=$normals_polygon$$[$dX$$5_s$$].y,$manifold$$.m_localPlaneNormal.Normalize(),$manifold$$.m_localPoint.Set($faceCenterX_normalIndex$$,$faceCenterY_tVec$$5_v1$$),$manifold$$.m_points[0].m_localPoint.SetV($circle$$.m_p),$manifold$$.m_points[0].m_id.key=0)))};$b2Collision$$.TestOverlap=function $$b2Collision$$$TestOverlap$($a$$,$b$$){var $t1$$=$b$$.lowerBound,$t2$$=$a$$.upperBound,$d1X$$=
$t1$$.x-$t2$$.x,$d1Y$$=$t1$$.y-$t2$$.y,$t1$$=$a$$.lowerBound,$t2$$=$b$$.upperBound,$d2Y$$=$t1$$.y-$t2$$.y;return 0<$d1X$$||0<$d1Y$$||0<$t1$$.x-$t2$$.x||0<$d2Y$$?!1:!0};Box2D.postDefs.push(function(){Box2D.Collision.b2Collision.s_incidentEdge=$b2Collision$$.MakeClipPointVector();Box2D.Collision.b2Collision.s_clipPoints1=$b2Collision$$.MakeClipPointVector();Box2D.Collision.b2Collision.s_clipPoints2=$b2Collision$$.MakeClipPointVector();Box2D.Collision.b2Collision.s_edgeAO=new Vector_a2j_Number(1);Box2D.Collision.b2Collision.s_edgeBO=
new Vector_a2j_Number(1);Box2D.Collision.b2Collision.s_localTangent=new $b2Vec2$$;Box2D.Collision.b2Collision.s_localNormal=new $b2Vec2$$;Box2D.Collision.b2Collision.s_planePoint=new $b2Vec2$$;Box2D.Collision.b2Collision.s_normal=new $b2Vec2$$;Box2D.Collision.b2Collision.s_tangent=new $b2Vec2$$;Box2D.Collision.b2Collision.s_tangent2=new $b2Vec2$$;Box2D.Collision.b2Collision.s_v11=new $b2Vec2$$;Box2D.Collision.b2Collision.s_v12=new $b2Vec2$$;Box2D.Collision.b2Collision.b2CollidePolyTempVec=new $b2Vec2$$;
Box2D.Collision.b2Collision.b2_nullFeature=255});$b2ContactID$$.b2ContactID=function $$b2ContactID$$$b2ContactID$(){this.features=new $Features$$};$b2ContactID$$.prototype.b2ContactID=function $$b2ContactID$$$$b2ContactID$(){this.features._m_id=this};$b2ContactID$$.prototype.Set=function $$b2ContactID$$$$Set$($id$$){this.key=$id$$._key};$b2ContactID$$.prototype.Copy=function $$b2ContactID$$$$Copy$(){var $id$$=new $b2ContactID$$;$id$$.key=this.key;return $id$$};Object.defineProperty($b2ContactID$$.prototype,
"key",{enumerable:!1,configurable:!0,get:function(){return this._key}});Object.defineProperty($b2ContactID$$.prototype,"key",{enumerable:!1,configurable:!0,set:function($value$$){void 0===$value$$&&($value$$=0);this._key=$value$$;this.features._referenceEdge=this._key&255;this.features._incidentEdge=(this._key&65280)>>8&255;this.features._incidentVertex=(this._key&16711680)>>16&255;this.features._flip=(this._key&4278190080)>>24&255}});$b2ContactPoint$$.b2ContactPoint=function $$b2ContactPoint$$$b2ContactPoint$(){this.position=
new $b2Vec2$$;this.velocity=new $b2Vec2$$;this.normal=new $b2Vec2$$;this.id=new $b2ContactID$$};$b2Distance$$.b2Distance=function $$b2Distance$$$b2Distance$(){};$b2Distance$$.Distance=function $$b2Distance$$$Distance$($output$$,$cache$$,$input$$7_normal$$){++$b2Distance$$.b2_gjkCalls;var $proxyA$$=$input$$7_normal$$.proxyA,$proxyB_rB$$=$input$$7_normal$$.proxyB,$transformA$$=$input$$7_normal$$.transformA,$transformB$$=$input$$7_normal$$.transformB,$simplex$$=$b2Distance$$.s_simplex;$simplex$$.ReadCache($cache$$,
$proxyA$$,$transformA$$,$proxyB_rB$$,$transformB$$);var $vertices$$=$simplex$$.m_vertices,$saveA$$=$b2Distance$$.s_saveA,$saveB$$=$b2Distance$$.s_saveB,$saveCount$$=0;$simplex$$.GetClosestPoint().LengthSquared();for(var $d$$206_i$$=0,$p$$48_vertex$$,$iter$$=0;20>$iter$$;){$saveCount$$=$simplex$$.m_count;for($d$$206_i$$=0;$d$$206_i$$<$saveCount$$;$d$$206_i$$++)$saveA$$[$d$$206_i$$]=$vertices$$[$d$$206_i$$].indexA,$saveB$$[$d$$206_i$$]=$vertices$$[$d$$206_i$$].indexB;switch($simplex$$.m_count){case 1:break;
case 2:$simplex$$.Solve2();break;case 3:$simplex$$.Solve3();break;default:$b2Settings$$.b2Assert(!1)}if(3==$simplex$$.m_count)break;$p$$48_vertex$$=$simplex$$.GetClosestPoint();$p$$48_vertex$$.LengthSquared();$d$$206_i$$=$simplex$$.GetSearchDirection();if($d$$206_i$$.LengthSquared()<Number.MIN_VALUE*Number.MIN_VALUE)break;$p$$48_vertex$$=$vertices$$[$simplex$$.m_count];$p$$48_vertex$$.indexA=$proxyA$$.GetSupport($b2Math$$.MulTMV($transformA$$.R,$d$$206_i$$.GetNegative()));$p$$48_vertex$$.wA=$b2Math$$.MulX($transformA$$,
$proxyA$$.GetVertex($p$$48_vertex$$.indexA));$p$$48_vertex$$.indexB=$proxyB_rB$$.GetSupport($b2Math$$.MulTMV($transformB$$.R,$d$$206_i$$));$p$$48_vertex$$.wB=$b2Math$$.MulX($transformB$$,$proxyB_rB$$.GetVertex($p$$48_vertex$$.indexB));$p$$48_vertex$$.w=$b2Math$$.SubtractVV($p$$48_vertex$$.wB,$p$$48_vertex$$.wA);++$iter$$;++$b2Distance$$.b2_gjkIters;for(var $duplicate$$=!1,$d$$206_i$$=0;$d$$206_i$$<$saveCount$$;$d$$206_i$$++)if($p$$48_vertex$$.indexA==$saveA$$[$d$$206_i$$]&&$p$$48_vertex$$.indexB==
$saveB$$[$d$$206_i$$]){$duplicate$$=!0;break}if($duplicate$$)break;++$simplex$$.m_count}$b2Distance$$.b2_gjkMaxIters=$b2Math$$.Max($b2Distance$$.b2_gjkMaxIters,$iter$$);$simplex$$.GetWitnessPoints($output$$.pointA,$output$$.pointB);$output$$.distance=$b2Math$$.SubtractVV($output$$.pointA,$output$$.pointB).Length();$output$$.iterations=$iter$$;$simplex$$.WriteCache($cache$$);$input$$7_normal$$.useRadii&&($cache$$=$proxyA$$.m_radius,$proxyB_rB$$=$proxyB_rB$$.m_radius,$output$$.distance>$cache$$+$proxyB_rB$$&&
$output$$.distance>Number.MIN_VALUE?($output$$.distance-=$cache$$+$proxyB_rB$$,$input$$7_normal$$=$b2Math$$.SubtractVV($output$$.pointB,$output$$.pointA),$input$$7_normal$$.Normalize(),$output$$.pointA.x+=$cache$$*$input$$7_normal$$.x,$output$$.pointA.y+=$cache$$*$input$$7_normal$$.y,$output$$.pointB.x-=$proxyB_rB$$*$input$$7_normal$$.x,$output$$.pointB.y-=$proxyB_rB$$*$input$$7_normal$$.y):($p$$48_vertex$$=new $b2Vec2$$,$p$$48_vertex$$.x=.5*($output$$.pointA.x+$output$$.pointB.x),$p$$48_vertex$$.y=
.5*($output$$.pointA.y+$output$$.pointB.y),$output$$.pointA.x=$output$$.pointB.x=$p$$48_vertex$$.x,$output$$.pointA.y=$output$$.pointB.y=$p$$48_vertex$$.y,$output$$.distance=0))};Box2D.postDefs.push(function(){Box2D.Collision.b2Distance.s_simplex=new $b2Simplex$$;Box2D.Collision.b2Distance.s_saveA=new Vector_a2j_Number(3);Box2D.Collision.b2Distance.s_saveB=new Vector_a2j_Number(3)});$b2DistanceInput$$.b2DistanceInput=function $$b2DistanceInput$$$b2DistanceInput$(){};$b2DistanceOutput$$.b2DistanceOutput=
function $$b2DistanceOutput$$$b2DistanceOutput$(){this.pointA=new $b2Vec2$$;this.pointB=new $b2Vec2$$};$b2DistanceProxy$$.b2DistanceProxy=function $$b2DistanceProxy$$$b2DistanceProxy$(){};$b2DistanceProxy$$.prototype.Set=function $$b2DistanceProxy$$$$Set$($circle$$1_polygon$$1_shape$$){switch($circle$$1_polygon$$1_shape$$.GetType()){case $b2Shape$$.e_circleShape:$circle$$1_polygon$$1_shape$$=$circle$$1_polygon$$1_shape$$ instanceof $b2CircleShape$$?$circle$$1_polygon$$1_shape$$:null;this.m_vertices=
new Vector(1,!0);this.m_vertices[0]=$circle$$1_polygon$$1_shape$$.m_p;this.m_count=1;this.m_radius=$circle$$1_polygon$$1_shape$$.m_radius;break;case $b2Shape$$.e_polygonShape:$circle$$1_polygon$$1_shape$$=$circle$$1_polygon$$1_shape$$ instanceof $b2PolygonShape$$?$circle$$1_polygon$$1_shape$$:null;this.m_vertices=$circle$$1_polygon$$1_shape$$.m_vertices;this.m_count=$circle$$1_polygon$$1_shape$$.m_vertexCount;this.m_radius=$circle$$1_polygon$$1_shape$$.m_radius;break;default:$b2Settings$$.b2Assert(!1)}};
$b2DistanceProxy$$.prototype.GetSupport=function $$b2DistanceProxy$$$$GetSupport$($d$$){for(var $bestIndex$$=0,$bestValue$$=this.m_vertices[0].x*$d$$.x+this.m_vertices[0].y*$d$$.y,$i$$=1;$i$$<this.m_count;++$i$$){var $value$$=this.m_vertices[$i$$].x*$d$$.x+this.m_vertices[$i$$].y*$d$$.y;$value$$>$bestValue$$&&($bestIndex$$=$i$$,$bestValue$$=$value$$)}return $bestIndex$$};$b2DistanceProxy$$.prototype.GetSupportVertex=function $$b2DistanceProxy$$$$GetSupportVertex$($d$$){for(var $bestIndex$$=0,$bestValue$$=
this.m_vertices[0].x*$d$$.x+this.m_vertices[0].y*$d$$.y,$i$$=1;$i$$<this.m_count;++$i$$){var $value$$=this.m_vertices[$i$$].x*$d$$.x+this.m_vertices[$i$$].y*$d$$.y;$value$$>$bestValue$$&&($bestIndex$$=$i$$,$bestValue$$=$value$$)}return this.m_vertices[$bestIndex$$]};$b2DistanceProxy$$.prototype.GetVertexCount=function $$b2DistanceProxy$$$$GetVertexCount$(){return this.m_count};$b2DistanceProxy$$.prototype.GetVertex=function $$b2DistanceProxy$$$$GetVertex$($index$$){void 0===$index$$&&($index$$=0);
$b2Settings$$.b2Assert(0<=$index$$&&$index$$<this.m_count);return this.m_vertices[$index$$]};$b2DynamicTree$$.b2DynamicTree=function $$b2DynamicTree$$$b2DynamicTree$(){};$b2DynamicTree$$.prototype.b2DynamicTree=function $$b2DynamicTree$$$$b2DynamicTree$(){this.m_freeList=this.m_root=null;this.m_insertionCount=this.m_path=0};$b2DynamicTree$$.prototype.CreateProxy=function $$b2DynamicTree$$$$CreateProxy$($aabb$$,$userData$$){var $node$$=this.AllocateNode(),$extendX$$=$b2Settings$$.b2_aabbExtension,
$extendY$$=$b2Settings$$.b2_aabbExtension;$node$$.aabb.lowerBound.x=$aabb$$.lowerBound.x-$extendX$$;$node$$.aabb.lowerBound.y=$aabb$$.lowerBound.y-$extendY$$;$node$$.aabb.upperBound.x=$aabb$$.upperBound.x+$extendX$$;$node$$.aabb.upperBound.y=$aabb$$.upperBound.y+$extendY$$;$node$$.userData=$userData$$;this.InsertLeaf($node$$);return $node$$};$b2DynamicTree$$.prototype.DestroyProxy=function $$b2DynamicTree$$$$DestroyProxy$($proxy$$){this.RemoveLeaf($proxy$$);this.FreeNode($proxy$$)};$b2DynamicTree$$.prototype.MoveProxy=
function $$b2DynamicTree$$$$MoveProxy$($proxy$$,$aabb$$,$displacement_extendY$$){$b2Settings$$.b2Assert($proxy$$.IsLeaf());if($proxy$$.aabb.Contains($aabb$$))return!1;this.RemoveLeaf($proxy$$);var $extendX$$=$b2Settings$$.b2_aabbExtension+$b2Settings$$.b2_aabbMultiplier*(0<$displacement_extendY$$.x?$displacement_extendY$$.x:-$displacement_extendY$$.x);$displacement_extendY$$=$b2Settings$$.b2_aabbExtension+$b2Settings$$.b2_aabbMultiplier*(0<$displacement_extendY$$.y?$displacement_extendY$$.y:-$displacement_extendY$$.y);
$proxy$$.aabb.lowerBound.x=$aabb$$.lowerBound.x-$extendX$$;$proxy$$.aabb.lowerBound.y=$aabb$$.lowerBound.y-$displacement_extendY$$;$proxy$$.aabb.upperBound.x=$aabb$$.upperBound.x+$extendX$$;$proxy$$.aabb.upperBound.y=$aabb$$.upperBound.y+$displacement_extendY$$;this.InsertLeaf($proxy$$);return!0};$b2DynamicTree$$.prototype.Rebalance=function $$b2DynamicTree$$$$Rebalance$($iterations$$){void 0===$iterations$$&&($iterations$$=0);if(null!=this.m_root)for(var $i$$=0;$i$$<$iterations$$;$i$$++){for(var $node$$=
this.m_root,$bit$$=0;0==$node$$.IsLeaf();)$node$$=this.m_path>>$bit$$&1?$node$$.child2:$node$$.child1,$bit$$=$bit$$+1&31;++this.m_path;this.RemoveLeaf($node$$);this.InsertLeaf($node$$)}};$b2DynamicTree$$.prototype.GetFatAABB=function $$b2DynamicTree$$$$GetFatAABB$($proxy$$){return $proxy$$.aabb};$b2DynamicTree$$.prototype.GetUserData=function $$b2DynamicTree$$$$GetUserData$($proxy$$){return $proxy$$.userData};$b2DynamicTree$$.prototype.Query=function $$b2DynamicTree$$$$Query$($callback$$,$aabb$$){if(null!=
this.m_root){var $stack$$=new Vector,$count$$=0;for($stack$$[$count$$++]=this.m_root;0<$count$$;){var $node$$=$stack$$[--$count$$];if($node$$.aabb.TestOverlap($aabb$$))if($node$$.IsLeaf()){if(!$callback$$($node$$))break}else $stack$$[$count$$++]=$node$$.child1,$stack$$[$count$$++]=$node$$.child2}}};$b2DynamicTree$$.prototype.RayCast=function $$b2DynamicTree$$$$RayCast$($callback$$,$input$$){if(null!=this.m_root){var $p1$$=$input$$.p1,$p2$$=$input$$.p2,$r$$40_v$$=$b2Math$$.SubtractVV($p1$$,$p2$$);
$r$$40_v$$.Normalize();var $r$$40_v$$=$b2Math$$.CrossFV(1,$r$$40_v$$),$abs_v$$=$b2Math$$.AbsV($r$$40_v$$),$maxFraction_node$$=$input$$.maxFraction,$segmentAABB$$=new $b2AABB$$,$c$$291_subInput_tX$$=0,$h$$84_tY$$=0,$c$$291_subInput_tX$$=$p1$$.x+$maxFraction_node$$*($p2$$.x-$p1$$.x),$h$$84_tY$$=$p1$$.y+$maxFraction_node$$*($p2$$.y-$p1$$.y);$segmentAABB$$.lowerBound.x=Math.min($p1$$.x,$c$$291_subInput_tX$$);$segmentAABB$$.lowerBound.y=Math.min($p1$$.y,$h$$84_tY$$);$segmentAABB$$.upperBound.x=Math.max($p1$$.x,
$c$$291_subInput_tX$$);$segmentAABB$$.upperBound.y=Math.max($p1$$.y,$h$$84_tY$$);var $stack$$=new Vector,$count$$=0;for($stack$$[$count$$++]=this.m_root;0<$count$$;)if($maxFraction_node$$=$stack$$[--$count$$],0!=$maxFraction_node$$.aabb.TestOverlap($segmentAABB$$)&&($c$$291_subInput_tX$$=$maxFraction_node$$.aabb.GetCenter(),$h$$84_tY$$=$maxFraction_node$$.aabb.GetExtents(),!(0<Math.abs($r$$40_v$$.x*($p1$$.x-$c$$291_subInput_tX$$.x)+$r$$40_v$$.y*($p1$$.y-$c$$291_subInput_tX$$.y))-$abs_v$$.x*$h$$84_tY$$.x-
$abs_v$$.y*$h$$84_tY$$.y)))if($maxFraction_node$$.IsLeaf()){$c$$291_subInput_tX$$=new $b2RayCastInput$$;$c$$291_subInput_tX$$.p1=$input$$.p1;$c$$291_subInput_tX$$.p2=$input$$.p2;$c$$291_subInput_tX$$.maxFraction=$input$$.maxFraction;$maxFraction_node$$=$callback$$($c$$291_subInput_tX$$,$maxFraction_node$$);if(0==$maxFraction_node$$)break;0<$maxFraction_node$$&&($c$$291_subInput_tX$$=$p1$$.x+$maxFraction_node$$*($p2$$.x-$p1$$.x),$h$$84_tY$$=$p1$$.y+$maxFraction_node$$*($p2$$.y-$p1$$.y),$segmentAABB$$.lowerBound.x=
Math.min($p1$$.x,$c$$291_subInput_tX$$),$segmentAABB$$.lowerBound.y=Math.min($p1$$.y,$h$$84_tY$$),$segmentAABB$$.upperBound.x=Math.max($p1$$.x,$c$$291_subInput_tX$$),$segmentAABB$$.upperBound.y=Math.max($p1$$.y,$h$$84_tY$$))}else $stack$$[$count$$++]=$maxFraction_node$$.child1,$stack$$[$count$$++]=$maxFraction_node$$.child2}};$b2DynamicTree$$.prototype.AllocateNode=function $$b2DynamicTree$$$$AllocateNode$(){if(this.m_freeList){var $node$$=this.m_freeList;this.m_freeList=$node$$.parent;$node$$.parent=
null;$node$$.child1=null;$node$$.child2=null;return $node$$}return new $b2DynamicTreeNode$$};$b2DynamicTree$$.prototype.FreeNode=function $$b2DynamicTree$$$$FreeNode$($node$$){$node$$.parent=this.m_freeList;this.m_freeList=$node$$};$b2DynamicTree$$.prototype.InsertLeaf=function $$b2DynamicTree$$$$InsertLeaf$($leaf$$){++this.m_insertionCount;if(null==this.m_root)this.m_root=$leaf$$,this.m_root.parent=null;else{var $center$$=$leaf$$.aabb.GetCenter(),$child2_sibling$$=this.m_root;if(0==$child2_sibling$$.IsLeaf()){do var $child1_node2$$=
$child2_sibling$$.child1,$child2_sibling$$=$child2_sibling$$.child2,$norm1$$=Math.abs(($child1_node2$$.aabb.lowerBound.x+$child1_node2$$.aabb.upperBound.x)/2-$center$$.x)+Math.abs(($child1_node2$$.aabb.lowerBound.y+$child1_node2$$.aabb.upperBound.y)/2-$center$$.y),$norm2$$=Math.abs(($child2_sibling$$.aabb.lowerBound.x+$child2_sibling$$.aabb.upperBound.x)/2-$center$$.x)+Math.abs(($child2_sibling$$.aabb.lowerBound.y+$child2_sibling$$.aabb.upperBound.y)/2-$center$$.y),$child2_sibling$$=$norm1$$<$norm2$$?
$child1_node2$$:$child2_sibling$$;while(0==$child2_sibling$$.IsLeaf())}$center$$=$child2_sibling$$.parent;$child1_node2$$=this.AllocateNode();$child1_node2$$.parent=$center$$;$child1_node2$$.userData=null;$child1_node2$$.aabb.Combine($leaf$$.aabb,$child2_sibling$$.aabb);if($center$$){$child2_sibling$$.parent.child1==$child2_sibling$$?$center$$.child1=$child1_node2$$:$center$$.child2=$child1_node2$$;$child1_node2$$.child1=$child2_sibling$$;$child1_node2$$.child2=$leaf$$;$child2_sibling$$.parent=$child1_node2$$;
$leaf$$.parent=$child1_node2$$;do{if($center$$.aabb.Contains($child1_node2$$.aabb))break;$center$$.aabb.Combine($center$$.child1.aabb,$center$$.child2.aabb);$child1_node2$$=$center$$;$center$$=$center$$.parent}while($center$$)}else $child1_node2$$.child1=$child2_sibling$$,$child1_node2$$.child2=$leaf$$,$child2_sibling$$.parent=$child1_node2$$,this.m_root=$leaf$$.parent=$child1_node2$$}};$b2DynamicTree$$.prototype.RemoveLeaf=function $$b2DynamicTree$$$$RemoveLeaf$($leaf$$1_sibling$$){if($leaf$$1_sibling$$==
this.m_root)this.m_root=null;else{var $node2$$=$leaf$$1_sibling$$.parent,$node1$$=$node2$$.parent;$leaf$$1_sibling$$=$node2$$.child1==$leaf$$1_sibling$$?$node2$$.child2:$node2$$.child1;if($node1$$)for($node1$$.child1==$node2$$?$node1$$.child1=$leaf$$1_sibling$$:$node1$$.child2=$leaf$$1_sibling$$,$leaf$$1_sibling$$.parent=$node1$$,this.FreeNode($node2$$);$node1$$;){$node2$$=$node1$$.aabb;$node1$$.aabb=$b2AABB$$.Combine($node1$$.child1.aabb,$node1$$.child2.aabb);if($node2$$.Contains($node1$$.aabb))break;
$node1$$=$node1$$.parent}else this.m_root=$leaf$$1_sibling$$,$leaf$$1_sibling$$.parent=null,this.FreeNode($node2$$)}};$b2DynamicTreeBroadPhase$$.b2DynamicTreeBroadPhase=function $$b2DynamicTreeBroadPhase$$$b2DynamicTreeBroadPhase$(){this.m_tree=new $b2DynamicTree$$;this.m_moveBuffer=new Vector;this.m_pairBuffer=new Vector;this.m_pairCount=0};$b2DynamicTreeBroadPhase$$.prototype.CreateProxy=function $$b2DynamicTreeBroadPhase$$$$CreateProxy$($aabb$$,$userData$$){var $proxy$$=this.m_tree.CreateProxy($aabb$$,
$userData$$);++this.m_proxyCount;this.BufferMove($proxy$$);return $proxy$$};$b2DynamicTreeBroadPhase$$.prototype.DestroyProxy=function $$b2DynamicTreeBroadPhase$$$$DestroyProxy$($proxy$$){this.UnBufferMove($proxy$$);--this.m_proxyCount;this.m_tree.DestroyProxy($proxy$$)};$b2DynamicTreeBroadPhase$$.prototype.MoveProxy=function $$b2DynamicTreeBroadPhase$$$$MoveProxy$($proxy$$,$aabb$$,$displacement$$){this.m_tree.MoveProxy($proxy$$,$aabb$$,$displacement$$)&&this.BufferMove($proxy$$)};$b2DynamicTreeBroadPhase$$.prototype.TestOverlap=
function $$b2DynamicTreeBroadPhase$$$$TestOverlap$($proxyA$$,$proxyB$$){var $aabbA$$=this.m_tree.GetFatAABB($proxyA$$),$aabbB$$=this.m_tree.GetFatAABB($proxyB$$);return $aabbA$$.TestOverlap($aabbB$$)};$b2DynamicTreeBroadPhase$$.prototype.GetUserData=function $$b2DynamicTreeBroadPhase$$$$GetUserData$($proxy$$){return this.m_tree.GetUserData($proxy$$)};$b2DynamicTreeBroadPhase$$.prototype.GetFatAABB=function $$b2DynamicTreeBroadPhase$$$$GetFatAABB$($proxy$$){return this.m_tree.GetFatAABB($proxy$$)};
$b2DynamicTreeBroadPhase$$.prototype.GetProxyCount=function $$b2DynamicTreeBroadPhase$$$$GetProxyCount$(){return this.m_proxyCount};$b2DynamicTreeBroadPhase$$.prototype.UpdatePairs=function $$b2DynamicTreeBroadPhase$$$$UpdatePairs$($callback$$){for(var $__this$$=this,$i$$=$__this$$.m_pairCount=0,$queryProxy$$,$i$$=0;$i$$<$__this$$.m_moveBuffer.length;++$i$$){$queryProxy$$=$__this$$.m_moveBuffer[$i$$];var $fatAABB_primaryPair$$=$__this$$.m_tree.GetFatAABB($queryProxy$$);$__this$$.m_tree.Query(function($proxy$$){if($proxy$$==
$queryProxy$$)return!0;$__this$$.m_pairCount==$__this$$.m_pairBuffer.length&&($__this$$.m_pairBuffer[$__this$$.m_pairCount]=new $b2DynamicTreePair$$);var $pair$$=$__this$$.m_pairBuffer[$__this$$.m_pairCount];$pair$$.proxyA=$proxy$$<$queryProxy$$?$proxy$$:$queryProxy$$;$pair$$.proxyB=$proxy$$>=$queryProxy$$?$proxy$$:$queryProxy$$;++$__this$$.m_pairCount;return!0},$fatAABB_primaryPair$$)}for($i$$=$__this$$.m_moveBuffer.length=0;$i$$<$__this$$.m_pairCount;){var $fatAABB_primaryPair$$=$__this$$.m_pairBuffer[$i$$],
$pair_userDataA$$=$__this$$.m_tree.GetUserData($fatAABB_primaryPair$$.proxyA),$userDataB$$=$__this$$.m_tree.GetUserData($fatAABB_primaryPair$$.proxyB);$callback$$($pair_userDataA$$,$userDataB$$);for(++$i$$;$i$$<$__this$$.m_pairCount;){$pair_userDataA$$=$__this$$.m_pairBuffer[$i$$];if($pair_userDataA$$.proxyA!=$fatAABB_primaryPair$$.proxyA||$pair_userDataA$$.proxyB!=$fatAABB_primaryPair$$.proxyB)break;++$i$$}}};$b2DynamicTreeBroadPhase$$.prototype.Query=function $$b2DynamicTreeBroadPhase$$$$Query$($callback$$,
$aabb$$){this.m_tree.Query($callback$$,$aabb$$)};$b2DynamicTreeBroadPhase$$.prototype.RayCast=function $$b2DynamicTreeBroadPhase$$$$RayCast$($callback$$,$input$$){this.m_tree.RayCast($callback$$,$input$$)};$b2DynamicTreeBroadPhase$$.prototype.Validate=function $$b2DynamicTreeBroadPhase$$$$Validate$(){};$b2DynamicTreeBroadPhase$$.prototype.Rebalance=function $$b2DynamicTreeBroadPhase$$$$Rebalance$($iterations$$){void 0===$iterations$$&&($iterations$$=0);this.m_tree.Rebalance($iterations$$)};$b2DynamicTreeBroadPhase$$.prototype.BufferMove=
function $$b2DynamicTreeBroadPhase$$$$BufferMove$($proxy$$){this.m_moveBuffer[this.m_moveBuffer.length]=$proxy$$};$b2DynamicTreeBroadPhase$$.prototype.UnBufferMove=function $$b2DynamicTreeBroadPhase$$$$UnBufferMove$($i$$559_proxy$$){$i$$559_proxy$$=parseInt(this.m_moveBuffer.indexOf($i$$559_proxy$$));this.m_moveBuffer.splice($i$$559_proxy$$,1)};$b2DynamicTreeBroadPhase$$.prototype.ComparePairs=function $$b2DynamicTreeBroadPhase$$$$ComparePairs$($pair1$$,$pair2$$){return 0};$b2DynamicTreeBroadPhase$$.__implements=
{};$b2DynamicTreeBroadPhase$$.__implements[$IBroadPhase$$]=!0;$b2DynamicTreeNode$$.b2DynamicTreeNode=function $$b2DynamicTreeNode$$$b2DynamicTreeNode$(){this.aabb=new $b2AABB$$};$b2DynamicTreeNode$$.prototype.IsLeaf=function $$b2DynamicTreeNode$$$$IsLeaf$(){return null==this.child1};$b2DynamicTreePair$$.b2DynamicTreePair=function $$b2DynamicTreePair$$$b2DynamicTreePair$(){};$b2Manifold$$.b2Manifold=function $$b2Manifold$$$b2Manifold$(){this.m_pointCount=0};$b2Manifold$$.prototype.b2Manifold=function $$b2Manifold$$$$b2Manifold$(){this.m_points=
new Vector($b2Settings$$.b2_maxManifoldPoints);for(var $i$$=0;$i$$<$b2Settings$$.b2_maxManifoldPoints;$i$$++)this.m_points[$i$$]=new $b2ManifoldPoint$$;this.m_localPlaneNormal=new $b2Vec2$$;this.m_localPoint=new $b2Vec2$$};$b2Manifold$$.prototype.Reset=function $$b2Manifold$$$$Reset$(){for(var $i$$=0;$i$$<$b2Settings$$.b2_maxManifoldPoints;$i$$++)(this.m_points[$i$$]instanceof $b2ManifoldPoint$$?this.m_points[$i$$]:null).Reset();this.m_localPlaneNormal.SetZero();this.m_localPoint.SetZero();this.m_pointCount=
this.m_type=0};$b2Manifold$$.prototype.Set=function $$b2Manifold$$$$Set$($m$$){this.m_pointCount=$m$$.m_pointCount;for(var $i$$=0;$i$$<$b2Settings$$.b2_maxManifoldPoints;$i$$++)(this.m_points[$i$$]instanceof $b2ManifoldPoint$$?this.m_points[$i$$]:null).Set($m$$.m_points[$i$$]);this.m_localPlaneNormal.SetV($m$$.m_localPlaneNormal);this.m_localPoint.SetV($m$$.m_localPoint);this.m_type=$m$$.m_type};$b2Manifold$$.prototype.Copy=function $$b2Manifold$$$$Copy$(){var $copy$$=new $b2Manifold$$;$copy$$.Set(this);
return $copy$$};Box2D.postDefs.push(function(){Box2D.Collision.b2Manifold.e_circles=1;Box2D.Collision.b2Manifold.e_faceA=2;Box2D.Collision.b2Manifold.e_faceB=4});$b2ManifoldPoint$$.b2ManifoldPoint=function $$b2ManifoldPoint$$$b2ManifoldPoint$(){this.m_localPoint=new $b2Vec2$$;this.m_id=new $b2ContactID$$};$b2ManifoldPoint$$.prototype.b2ManifoldPoint=function $$b2ManifoldPoint$$$$b2ManifoldPoint$(){this.Reset()};$b2ManifoldPoint$$.prototype.Reset=function $$b2ManifoldPoint$$$$Reset$(){this.m_localPoint.SetZero();
this.m_tangentImpulse=this.m_normalImpulse=0;this.m_id.key=0};$b2ManifoldPoint$$.prototype.Set=function $$b2ManifoldPoint$$$$Set$($m$$){this.m_localPoint.SetV($m$$.m_localPoint);this.m_normalImpulse=$m$$.m_normalImpulse;this.m_tangentImpulse=$m$$.m_tangentImpulse;this.m_id.Set($m$$.m_id)};$b2Point$$.b2Point=function $$b2Point$$$b2Point$(){this.p=new $b2Vec2$$};$b2Point$$.prototype.Support=function $$b2Point$$$$Support$($xf$$,$vX$$,$vY$$){return this.p};$b2Point$$.prototype.GetFirstVertex=function $$b2Point$$$$GetFirstVertex$($xf$$){return this.p};
$b2RayCastInput$$.b2RayCastInput=function $$b2RayCastInput$$$b2RayCastInput$(){this.p1=new $b2Vec2$$;this.p2=new $b2Vec2$$};$b2RayCastInput$$.prototype.b2RayCastInput=function $$b2RayCastInput$$$$b2RayCastInput$($p1$$,$p2$$,$maxFraction$$){void 0===$p1$$&&($p1$$=null);void 0===$p2$$&&($p2$$=null);void 0===$maxFraction$$&&($maxFraction$$=1);$p1$$&&this.p1.SetV($p1$$);$p2$$&&this.p2.SetV($p2$$);this.maxFraction=$maxFraction$$};$b2RayCastOutput$$.b2RayCastOutput=function $$b2RayCastOutput$$$b2RayCastOutput$(){this.normal=
new $b2Vec2$$};$b2Segment$$.b2Segment=function $$b2Segment$$$b2Segment$(){this.p1=new $b2Vec2$$;this.p2=new $b2Vec2$$};$b2Segment$$.prototype.TestSegment=function $$b2Segment$$$$TestSegment$($lambda$$,$normal$$,$nX_segment$$,$maxLambda_mu2_nLen$$){void 0===$maxLambda_mu2_nLen$$&&($maxLambda_mu2_nLen$$=0);var $a$$468_s$$=$nX_segment$$.p1,$rX$$=$nX_segment$$.p2.x-$a$$468_s$$.x,$rY$$=$nX_segment$$.p2.y-$a$$468_s$$.y;$nX_segment$$=this.p2.y-this.p1.y;var $nY$$=-(this.p2.x-this.p1.x),$k_slop$$=100*Number.MIN_VALUE,
$denom$$=-($rX$$*$nX_segment$$+$rY$$*$nY$$);if($denom$$>$k_slop$$){var $bX$$=$a$$468_s$$.x-this.p1.x,$bY$$=$a$$468_s$$.y-this.p1.y,$a$$468_s$$=$bX$$*$nX_segment$$+$bY$$*$nY$$;if(0<=$a$$468_s$$&&$a$$468_s$$<=$maxLambda_mu2_nLen$$*$denom$$&&($maxLambda_mu2_nLen$$=-$rX$$*$bY$$+$rY$$*$bX$$,-$k_slop$$*$denom$$<=$maxLambda_mu2_nLen$$&&$maxLambda_mu2_nLen$$<=$denom$$*(1+$k_slop$$)))return $a$$468_s$$/=$denom$$,$maxLambda_mu2_nLen$$=Math.sqrt($nX_segment$$*$nX_segment$$+$nY$$*$nY$$),$lambda$$[0]=$a$$468_s$$,
$normal$$.Set($nX_segment$$/$maxLambda_mu2_nLen$$,$nY$$/$maxLambda_mu2_nLen$$),!0}return!1};$b2Segment$$.prototype.Extend=function $$b2Segment$$$$Extend$($aabb$$){this.ExtendForward($aabb$$);this.ExtendBackward($aabb$$)};$b2Segment$$.prototype.ExtendForward=function $$b2Segment$$$$ExtendForward$($aabb$$9_lambda$$){var $dX$$=this.p2.x-this.p1.x,$dY$$=this.p2.y-this.p1.y;$aabb$$9_lambda$$=Math.min(0<$dX$$?($aabb$$9_lambda$$.upperBound.x-this.p1.x)/$dX$$:0>$dX$$?($aabb$$9_lambda$$.lowerBound.x-this.p1.x)/
$dX$$:Number.POSITIVE_INFINITY,0<$dY$$?($aabb$$9_lambda$$.upperBound.y-this.p1.y)/$dY$$:0>$dY$$?($aabb$$9_lambda$$.lowerBound.y-this.p1.y)/$dY$$:Number.POSITIVE_INFINITY);this.p2.x=this.p1.x+$dX$$*$aabb$$9_lambda$$;this.p2.y=this.p1.y+$dY$$*$aabb$$9_lambda$$};$b2Segment$$.prototype.ExtendBackward=function $$b2Segment$$$$ExtendBackward$($aabb$$10_lambda$$){var $dX$$=-this.p2.x+this.p1.x,$dY$$=-this.p2.y+this.p1.y;$aabb$$10_lambda$$=Math.min(0<$dX$$?($aabb$$10_lambda$$.upperBound.x-this.p2.x)/$dX$$:
0>$dX$$?($aabb$$10_lambda$$.lowerBound.x-this.p2.x)/$dX$$:Number.POSITIVE_INFINITY,0<$dY$$?($aabb$$10_lambda$$.upperBound.y-this.p2.y)/$dY$$:0>$dY$$?($aabb$$10_lambda$$.lowerBound.y-this.p2.y)/$dY$$:Number.POSITIVE_INFINITY);this.p1.x=this.p2.x+$dX$$*$aabb$$10_lambda$$;this.p1.y=this.p2.y+$dY$$*$aabb$$10_lambda$$};$b2SeparationFunction$$.b2SeparationFunction=function $$b2SeparationFunction$$$b2SeparationFunction$(){this.m_localPoint=new $b2Vec2$$;this.m_axis=new $b2Vec2$$};$b2SeparationFunction$$.prototype.Initialize=
function $$b2SeparationFunction$$$$Initialize$($cache$$5_f$$131_r$$41_tMat$$,$localPointA1_pointAX_proxyA$$,$c$$292_transformA$$,$localPointA2_pointAY_proxyB$$,$a$$469_transformB$$){this.m_proxyA=$localPointA1_pointAX_proxyA$$;this.m_proxyB=$localPointA2_pointAY_proxyB$$;var $count$$26_tVec$$=parseInt($cache$$5_f$$131_r$$41_tMat$$.count);$b2Settings$$.b2Assert(0<$count$$26_tVec$$&&3>$count$$26_tVec$$);var $b$$,$e$$,$localPointB1_pointBX$$,$localPointB2_pointBY$$,$dB_normalX_s$$=$localPointB2_pointBY$$=
$localPointB1_pointBX$$=$localPointA2_pointAY_proxyB$$=$localPointA1_pointAX_proxyA$$=0,$denom$$=0,$dB_normalX_s$$=0;1==$count$$26_tVec$$?(this.m_type=$b2SeparationFunction$$.e_points,$b$$=this.m_proxyA.GetVertex($cache$$5_f$$131_r$$41_tMat$$.indexA[0]),$e$$=this.m_proxyB.GetVertex($cache$$5_f$$131_r$$41_tMat$$.indexB[0]),$count$$26_tVec$$=$b$$,$cache$$5_f$$131_r$$41_tMat$$=$c$$292_transformA$$.R,$localPointA1_pointAX_proxyA$$=$c$$292_transformA$$.position.x+($cache$$5_f$$131_r$$41_tMat$$.col1.x*
$count$$26_tVec$$.x+$cache$$5_f$$131_r$$41_tMat$$.col2.x*$count$$26_tVec$$.y),$localPointA2_pointAY_proxyB$$=$c$$292_transformA$$.position.y+($cache$$5_f$$131_r$$41_tMat$$.col1.y*$count$$26_tVec$$.x+$cache$$5_f$$131_r$$41_tMat$$.col2.y*$count$$26_tVec$$.y),$count$$26_tVec$$=$e$$,$cache$$5_f$$131_r$$41_tMat$$=$a$$469_transformB$$.R,$localPointB1_pointBX$$=$a$$469_transformB$$.position.x+($cache$$5_f$$131_r$$41_tMat$$.col1.x*$count$$26_tVec$$.x+$cache$$5_f$$131_r$$41_tMat$$.col2.x*$count$$26_tVec$$.y),
$localPointB2_pointBY$$=$a$$469_transformB$$.position.y+($cache$$5_f$$131_r$$41_tMat$$.col1.y*$count$$26_tVec$$.x+$cache$$5_f$$131_r$$41_tMat$$.col2.y*$count$$26_tVec$$.y),this.m_axis.x=$localPointB1_pointBX$$-$localPointA1_pointAX_proxyA$$,this.m_axis.y=$localPointB2_pointBY$$-$localPointA2_pointAY_proxyB$$,this.m_axis.Normalize()):($cache$$5_f$$131_r$$41_tMat$$.indexB[0]==$cache$$5_f$$131_r$$41_tMat$$.indexB[1]?(this.m_type=$b2SeparationFunction$$.e_faceA,$localPointA1_pointAX_proxyA$$=this.m_proxyA.GetVertex($cache$$5_f$$131_r$$41_tMat$$.indexA[0]),
$localPointA2_pointAY_proxyB$$=this.m_proxyA.GetVertex($cache$$5_f$$131_r$$41_tMat$$.indexA[1]),$e$$=this.m_proxyB.GetVertex($cache$$5_f$$131_r$$41_tMat$$.indexB[0]),this.m_localPoint.x=.5*($localPointA1_pointAX_proxyA$$.x+$localPointA2_pointAY_proxyB$$.x),this.m_localPoint.y=.5*($localPointA1_pointAX_proxyA$$.y+$localPointA2_pointAY_proxyB$$.y),this.m_axis=$b2Math$$.CrossVF($b2Math$$.SubtractVV($localPointA2_pointAY_proxyB$$,$localPointA1_pointAX_proxyA$$),1),this.m_axis.Normalize(),$count$$26_tVec$$=
this.m_axis,$cache$$5_f$$131_r$$41_tMat$$=$c$$292_transformA$$.R,$dB_normalX_s$$=$cache$$5_f$$131_r$$41_tMat$$.col1.x*$count$$26_tVec$$.x+$cache$$5_f$$131_r$$41_tMat$$.col2.x*$count$$26_tVec$$.y,$denom$$=$cache$$5_f$$131_r$$41_tMat$$.col1.y*$count$$26_tVec$$.x+$cache$$5_f$$131_r$$41_tMat$$.col2.y*$count$$26_tVec$$.y,$count$$26_tVec$$=this.m_localPoint,$cache$$5_f$$131_r$$41_tMat$$=$c$$292_transformA$$.R,$localPointA1_pointAX_proxyA$$=$c$$292_transformA$$.position.x+($cache$$5_f$$131_r$$41_tMat$$.col1.x*
$count$$26_tVec$$.x+$cache$$5_f$$131_r$$41_tMat$$.col2.x*$count$$26_tVec$$.y),$localPointA2_pointAY_proxyB$$=$c$$292_transformA$$.position.y+($cache$$5_f$$131_r$$41_tMat$$.col1.y*$count$$26_tVec$$.x+$cache$$5_f$$131_r$$41_tMat$$.col2.y*$count$$26_tVec$$.y),$count$$26_tVec$$=$e$$,$cache$$5_f$$131_r$$41_tMat$$=$a$$469_transformB$$.R,$localPointB1_pointBX$$=$a$$469_transformB$$.position.x+($cache$$5_f$$131_r$$41_tMat$$.col1.x*$count$$26_tVec$$.x+$cache$$5_f$$131_r$$41_tMat$$.col2.x*$count$$26_tVec$$.y),
$localPointB2_pointBY$$=$a$$469_transformB$$.position.y+($cache$$5_f$$131_r$$41_tMat$$.col1.y*$count$$26_tVec$$.x+$cache$$5_f$$131_r$$41_tMat$$.col2.y*$count$$26_tVec$$.y),$dB_normalX_s$$=($localPointB1_pointBX$$-$localPointA1_pointAX_proxyA$$)*$dB_normalX_s$$+($localPointB2_pointBY$$-$localPointA2_pointAY_proxyB$$)*$denom$$):$cache$$5_f$$131_r$$41_tMat$$.indexA[0]==$cache$$5_f$$131_r$$41_tMat$$.indexA[0]?(this.m_type=$b2SeparationFunction$$.e_faceB,$localPointB1_pointBX$$=this.m_proxyB.GetVertex($cache$$5_f$$131_r$$41_tMat$$.indexB[0]),
$localPointB2_pointBY$$=this.m_proxyB.GetVertex($cache$$5_f$$131_r$$41_tMat$$.indexB[1]),$b$$=this.m_proxyA.GetVertex($cache$$5_f$$131_r$$41_tMat$$.indexA[0]),this.m_localPoint.x=.5*($localPointB1_pointBX$$.x+$localPointB2_pointBY$$.x),this.m_localPoint.y=.5*($localPointB1_pointBX$$.y+$localPointB2_pointBY$$.y),this.m_axis=$b2Math$$.CrossVF($b2Math$$.SubtractVV($localPointB2_pointBY$$,$localPointB1_pointBX$$),1),this.m_axis.Normalize(),$count$$26_tVec$$=this.m_axis,$cache$$5_f$$131_r$$41_tMat$$=$a$$469_transformB$$.R,
$dB_normalX_s$$=$cache$$5_f$$131_r$$41_tMat$$.col1.x*$count$$26_tVec$$.x+$cache$$5_f$$131_r$$41_tMat$$.col2.x*$count$$26_tVec$$.y,$denom$$=$cache$$5_f$$131_r$$41_tMat$$.col1.y*$count$$26_tVec$$.x+$cache$$5_f$$131_r$$41_tMat$$.col2.y*$count$$26_tVec$$.y,$count$$26_tVec$$=this.m_localPoint,$cache$$5_f$$131_r$$41_tMat$$=$a$$469_transformB$$.R,$localPointB1_pointBX$$=$a$$469_transformB$$.position.x+($cache$$5_f$$131_r$$41_tMat$$.col1.x*$count$$26_tVec$$.x+$cache$$5_f$$131_r$$41_tMat$$.col2.x*$count$$26_tVec$$.y),
$localPointB2_pointBY$$=$a$$469_transformB$$.position.y+($cache$$5_f$$131_r$$41_tMat$$.col1.y*$count$$26_tVec$$.x+$cache$$5_f$$131_r$$41_tMat$$.col2.y*$count$$26_tVec$$.y),$count$$26_tVec$$=$b$$,$cache$$5_f$$131_r$$41_tMat$$=$c$$292_transformA$$.R,$localPointA1_pointAX_proxyA$$=$c$$292_transformA$$.position.x+($cache$$5_f$$131_r$$41_tMat$$.col1.x*$count$$26_tVec$$.x+$cache$$5_f$$131_r$$41_tMat$$.col2.x*$count$$26_tVec$$.y),$localPointA2_pointAY_proxyB$$=$c$$292_transformA$$.position.y+($cache$$5_f$$131_r$$41_tMat$$.col1.y*
$count$$26_tVec$$.x+$cache$$5_f$$131_r$$41_tMat$$.col2.y*$count$$26_tVec$$.y),$dB_normalX_s$$=($localPointA1_pointAX_proxyA$$-$localPointB1_pointBX$$)*$dB_normalX_s$$+($localPointA2_pointAY_proxyB$$-$localPointB2_pointBY$$)*$denom$$):($localPointA1_pointAX_proxyA$$=this.m_proxyA.GetVertex($cache$$5_f$$131_r$$41_tMat$$.indexA[0]),$localPointA2_pointAY_proxyB$$=this.m_proxyA.GetVertex($cache$$5_f$$131_r$$41_tMat$$.indexA[1]),$localPointB1_pointBX$$=this.m_proxyB.GetVertex($cache$$5_f$$131_r$$41_tMat$$.indexB[0]),
$localPointB2_pointBY$$=this.m_proxyB.GetVertex($cache$$5_f$$131_r$$41_tMat$$.indexB[1]),$b2Math$$.MulX($c$$292_transformA$$,$b$$),$b$$=$b2Math$$.MulMV($c$$292_transformA$$.R,$b2Math$$.SubtractVV($localPointA2_pointAY_proxyB$$,$localPointA1_pointAX_proxyA$$)),$b2Math$$.MulX($a$$469_transformB$$,$e$$),$dB_normalX_s$$=$b2Math$$.MulMV($a$$469_transformB$$.R,$b2Math$$.SubtractVV($localPointB2_pointBY$$,$localPointB1_pointBX$$)),$a$$469_transformB$$=$b$$.x*$b$$.x+$b$$.y*$b$$.y,$e$$=$dB_normalX_s$$.x*$dB_normalX_s$$.x+
$dB_normalX_s$$.y*$dB_normalX_s$$.y,$cache$$5_f$$131_r$$41_tMat$$=$b2Math$$.SubtractVV($dB_normalX_s$$,$b$$),$c$$292_transformA$$=$b$$.x*$cache$$5_f$$131_r$$41_tMat$$.x+$b$$.y*$cache$$5_f$$131_r$$41_tMat$$.y,$cache$$5_f$$131_r$$41_tMat$$=$dB_normalX_s$$.x*$cache$$5_f$$131_r$$41_tMat$$.x+$dB_normalX_s$$.y*$cache$$5_f$$131_r$$41_tMat$$.y,$b$$=$b$$.x*$dB_normalX_s$$.x+$b$$.y*$dB_normalX_s$$.y,$denom$$=$a$$469_transformB$$*$e$$-$b$$*$b$$,$dB_normalX_s$$=0,0!=$denom$$&&($dB_normalX_s$$=$b2Math$$.Clamp(($b$$*
$cache$$5_f$$131_r$$41_tMat$$-$c$$292_transformA$$*$e$$)/$denom$$,0,1)),0>($b$$*$dB_normalX_s$$+$cache$$5_f$$131_r$$41_tMat$$)/$e$$&&($dB_normalX_s$$=$b2Math$$.Clamp(($b$$-$c$$292_transformA$$)/$a$$469_transformB$$,0,1)),$b$$=new $b2Vec2$$,$b$$.x=$localPointA1_pointAX_proxyA$$.x+$dB_normalX_s$$*($localPointA2_pointAY_proxyB$$.x-$localPointA1_pointAX_proxyA$$.x),$b$$.y=$localPointA1_pointAX_proxyA$$.y+$dB_normalX_s$$*($localPointA2_pointAY_proxyB$$.y-$localPointA1_pointAX_proxyA$$.y),$e$$=new $b2Vec2$$,
$e$$.x=$localPointB1_pointBX$$.x+$dB_normalX_s$$*($localPointB2_pointBY$$.x-$localPointB1_pointBX$$.x),$e$$.y=$localPointB1_pointBX$$.y+$dB_normalX_s$$*($localPointB2_pointBY$$.y-$localPointB1_pointBX$$.y),0==$dB_normalX_s$$||1==$dB_normalX_s$$?(this.m_type=$b2SeparationFunction$$.e_faceB,this.m_axis=$b2Math$$.CrossVF($b2Math$$.SubtractVV($localPointB2_pointBY$$,$localPointB1_pointBX$$),1),this.m_axis.Normalize(),this.m_localPoint=$e$$):(this.m_type=$b2SeparationFunction$$.e_faceA,this.m_axis=$b2Math$$.CrossVF($b2Math$$.SubtractVV($localPointA2_pointAY_proxyB$$,
$localPointA1_pointAX_proxyA$$),1),this.m_localPoint=$b$$)),0>$dB_normalX_s$$&&this.m_axis.NegativeSelf())};$b2SeparationFunction$$.prototype.Evaluate=function $$b2SeparationFunction$$$$Evaluate$($transformA$$,$transformB$$){var $axisA_localPointA$$,$axisB_localPointB$$,$normal$$=0;switch(this.m_type){case $b2SeparationFunction$$.e_points:return $axisA_localPointA$$=$b2Math$$.MulTMV($transformA$$.R,this.m_axis),$axisB_localPointB$$=$b2Math$$.MulTMV($transformB$$.R,this.m_axis.GetNegative()),$axisA_localPointA$$=
this.m_proxyA.GetSupportVertex($axisA_localPointA$$),$axisB_localPointB$$=this.m_proxyB.GetSupportVertex($axisB_localPointB$$),$axisA_localPointA$$=$b2Math$$.MulX($transformA$$,$axisA_localPointA$$),$axisB_localPointB$$=$b2Math$$.MulX($transformB$$,$axisB_localPointB$$),$normal$$=($axisB_localPointB$$.x-$axisA_localPointA$$.x)*this.m_axis.x+($axisB_localPointB$$.y-$axisA_localPointA$$.y)*this.m_axis.y;case $b2SeparationFunction$$.e_faceA:return $normal$$=$b2Math$$.MulMV($transformA$$.R,this.m_axis),
$axisA_localPointA$$=$b2Math$$.MulX($transformA$$,this.m_localPoint),$axisB_localPointB$$=$b2Math$$.MulTMV($transformB$$.R,$normal$$.GetNegative()),$axisB_localPointB$$=this.m_proxyB.GetSupportVertex($axisB_localPointB$$),$axisB_localPointB$$=$b2Math$$.MulX($transformB$$,$axisB_localPointB$$),$normal$$=($axisB_localPointB$$.x-$axisA_localPointA$$.x)*$normal$$.x+($axisB_localPointB$$.y-$axisA_localPointA$$.y)*$normal$$.y;case $b2SeparationFunction$$.e_faceB:return $normal$$=$b2Math$$.MulMV($transformB$$.R,
this.m_axis),$axisB_localPointB$$=$b2Math$$.MulX($transformB$$,this.m_localPoint),$axisA_localPointA$$=$b2Math$$.MulTMV($transformA$$.R,$normal$$.GetNegative()),$axisA_localPointA$$=this.m_proxyA.GetSupportVertex($axisA_localPointA$$),$axisA_localPointA$$=$b2Math$$.MulX($transformA$$,$axisA_localPointA$$),$normal$$=($axisA_localPointA$$.x-$axisB_localPointB$$.x)*$normal$$.x+($axisA_localPointA$$.y-$axisB_localPointB$$.y)*$normal$$.y;default:return $b2Settings$$.b2Assert(!1),0}};Box2D.postDefs.push(function(){Box2D.Collision.b2SeparationFunction.e_points=
1;Box2D.Collision.b2SeparationFunction.e_faceA=2;Box2D.Collision.b2SeparationFunction.e_faceB=4});$b2Simplex$$.b2Simplex=function $$b2Simplex$$$b2Simplex$(){this.m_v1=new $b2SimplexVertex$$;this.m_v2=new $b2SimplexVertex$$;this.m_v3=new $b2SimplexVertex$$;this.m_vertices=new Vector(3)};$b2Simplex$$.prototype.b2Simplex=function $$b2Simplex$$$$b2Simplex$(){this.m_vertices[0]=this.m_v1;this.m_vertices[1]=this.m_v2;this.m_vertices[2]=this.m_v3};$b2Simplex$$.prototype.ReadCache=function $$b2Simplex$$$$ReadCache$($cache$$,
$proxyA$$,$transformA$$,$proxyB$$,$transformB$$){$b2Settings$$.b2Assert(0<=$cache$$.count&&3>=$cache$$.count);var $metric2_wALocal$$,$wBLocal$$;this.m_count=$cache$$.count;for(var $vertices$$=this.m_vertices,$i$$=0;$i$$<this.m_count;$i$$++){var $v$$=$vertices$$[$i$$];$v$$.indexA=$cache$$.indexA[$i$$];$v$$.indexB=$cache$$.indexB[$i$$];$metric2_wALocal$$=$proxyA$$.GetVertex($v$$.indexA);$wBLocal$$=$proxyB$$.GetVertex($v$$.indexB);$v$$.wA=$b2Math$$.MulX($transformA$$,$metric2_wALocal$$);$v$$.wB=$b2Math$$.MulX($transformB$$,
$wBLocal$$);$v$$.w=$b2Math$$.SubtractVV($v$$.wB,$v$$.wA);$v$$.a=0}1<this.m_count&&($cache$$=$cache$$.metric,$metric2_wALocal$$=this.GetMetric(),$metric2_wALocal$$<.5*$cache$$||2*$cache$$<$metric2_wALocal$$||$metric2_wALocal$$<Number.MIN_VALUE)&&(this.m_count=0);0==this.m_count&&($v$$=$vertices$$[0],$v$$.indexA=0,$v$$.indexB=0,$metric2_wALocal$$=$proxyA$$.GetVertex(0),$wBLocal$$=$proxyB$$.GetVertex(0),$v$$.wA=$b2Math$$.MulX($transformA$$,$metric2_wALocal$$),$v$$.wB=$b2Math$$.MulX($transformB$$,$wBLocal$$),
$v$$.w=$b2Math$$.SubtractVV($v$$.wB,$v$$.wA),this.m_count=1)};$b2Simplex$$.prototype.WriteCache=function $$b2Simplex$$$$WriteCache$($cache$$){$cache$$.metric=this.GetMetric();$cache$$.count=Box2D.parseUInt(this.m_count);for(var $vertices$$=this.m_vertices,$i$$=0;$i$$<this.m_count;$i$$++)$cache$$.indexA[$i$$]=Box2D.parseUInt($vertices$$[$i$$].indexA),$cache$$.indexB[$i$$]=Box2D.parseUInt($vertices$$[$i$$].indexB)};$b2Simplex$$.prototype.GetSearchDirection=function $$b2Simplex$$$$GetSearchDirection$(){switch(this.m_count){case 1:return this.m_v1.w.GetNegative();
case 2:var $e12$$=$b2Math$$.SubtractVV(this.m_v2.w,this.m_v1.w);return 0<$b2Math$$.CrossVV($e12$$,this.m_v1.w.GetNegative())?$b2Math$$.CrossFV(1,$e12$$):$b2Math$$.CrossVF($e12$$,1);default:return $b2Settings$$.b2Assert(!1),new $b2Vec2$$}};$b2Simplex$$.prototype.GetClosestPoint=function $$b2Simplex$$$$GetClosestPoint$(){switch(this.m_count){case 0:return $b2Settings$$.b2Assert(!1),new $b2Vec2$$;case 1:return this.m_v1.w;case 2:return new $b2Vec2$$(this.m_v1.a*this.m_v1.w.x+this.m_v2.a*this.m_v2.w.x,
this.m_v1.a*this.m_v1.w.y+this.m_v2.a*this.m_v2.w.y);default:return $b2Settings$$.b2Assert(!1),new $b2Vec2$$}};$b2Simplex$$.prototype.GetWitnessPoints=function $$b2Simplex$$$$GetWitnessPoints$($pA$$,$pB$$){switch(this.m_count){case 0:$b2Settings$$.b2Assert(!1);break;case 1:$pA$$.SetV(this.m_v1.wA);$pB$$.SetV(this.m_v1.wB);break;case 2:$pA$$.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x;$pA$$.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y;$pB$$.x=this.m_v1.a*this.m_v1.wB.x+this.m_v2.a*
this.m_v2.wB.x;$pB$$.y=this.m_v1.a*this.m_v1.wB.y+this.m_v2.a*this.m_v2.wB.y;break;case 3:$pB$$.x=$pA$$.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x+this.m_v3.a*this.m_v3.wA.x;$pB$$.y=$pA$$.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y+this.m_v3.a*this.m_v3.wA.y;break;default:$b2Settings$$.b2Assert(!1)}};$b2Simplex$$.prototype.GetMetric=function $$b2Simplex$$$$GetMetric$(){switch(this.m_count){case 0:return $b2Settings$$.b2Assert(!1),0;case 1:return 0;case 2:return $b2Math$$.SubtractVV(this.m_v1.w,
this.m_v2.w).Length();case 3:return $b2Math$$.CrossVV($b2Math$$.SubtractVV(this.m_v2.w,this.m_v1.w),$b2Math$$.SubtractVV(this.m_v3.w,this.m_v1.w));default:return $b2Settings$$.b2Assert(!1),0}};$b2Simplex$$.prototype.Solve2=function $$b2Simplex$$$$Solve2$(){var $d12_2_w1$$=this.m_v1.w,$d12_1_w2$$=this.m_v2.w,$e12$$=$b2Math$$.SubtractVV($d12_1_w2$$,$d12_2_w1$$),$d12_2_w1$$=-($d12_2_w1$$.x*$e12$$.x+$d12_2_w1$$.y*$e12$$.y);0>=$d12_2_w1$$?this.m_count=this.m_v1.a=1:($d12_1_w2$$=$d12_1_w2$$.x*$e12$$.x+
$d12_1_w2$$.y*$e12$$.y,0>=$d12_1_w2$$?(this.m_count=this.m_v2.a=1,this.m_v1.Set(this.m_v2)):($e12$$=1/($d12_1_w2$$+$d12_2_w1$$),this.m_v1.a=$d12_1_w2$$*$e12$$,this.m_v2.a=$d12_2_w1$$*$e12$$,this.m_count=2))};$b2Simplex$$.prototype.Solve3=function $$b2Simplex$$$$Solve3$(){var $d123_3_w1$$=this.m_v1.w,$w2$$=this.m_v2.w,$d123_2_w3$$=this.m_v3.w,$d123_1_e12$$=$b2Math$$.SubtractVV($w2$$,$d123_3_w1$$),$d12_2$$=$b2Math$$.Dot($d123_3_w1$$,$d123_1_e12$$),$d12_1$$=$b2Math$$.Dot($w2$$,$d123_1_e12$$),$d12_2$$=
-$d12_2$$,$e13_n123$$=$b2Math$$.SubtractVV($d123_2_w3$$,$d123_3_w1$$),$d13_2_w1e13$$=$b2Math$$.Dot($d123_3_w1$$,$e13_n123$$),$d13_1_inv_d12$$=$b2Math$$.Dot($d123_2_w3$$,$e13_n123$$),$d13_2_w1e13$$=-$d13_2_w1e13$$,$d23_1_e23$$=$b2Math$$.SubtractVV($d123_2_w3$$,$w2$$),$d23_2_w2e23$$=$b2Math$$.Dot($w2$$,$d23_1_e23$$),$d23_1_e23$$=$b2Math$$.Dot($d123_2_w3$$,$d23_1_e23$$),$d23_2_w2e23$$=-$d23_2_w2e23$$,$e13_n123$$=$b2Math$$.CrossVV($d123_1_e12$$,$e13_n123$$),$d123_1_e12$$=$e13_n123$$*$b2Math$$.CrossVV($w2$$,
$d123_2_w3$$),$d123_2_w3$$=$e13_n123$$*$b2Math$$.CrossVV($d123_2_w3$$,$d123_3_w1$$),$d123_3_w1$$=$e13_n123$$*$b2Math$$.CrossVV($d123_3_w1$$,$w2$$);0>=$d12_2$$&&0>=$d13_2_w1e13$$?this.m_count=this.m_v1.a=1:0<$d12_1$$&&0<$d12_2$$&&0>=$d123_3_w1$$?($d13_1_inv_d12$$=1/($d12_1$$+$d12_2$$),this.m_v1.a=$d12_1$$*$d13_1_inv_d12$$,this.m_v2.a=$d12_2$$*$d13_1_inv_d12$$,this.m_count=2):0<$d13_1_inv_d12$$&&0<$d13_2_w1e13$$&&0>=$d123_2_w3$$?($d12_1$$=1/($d13_1_inv_d12$$+$d13_2_w1e13$$),this.m_v1.a=$d13_1_inv_d12$$*
$d12_1$$,this.m_v3.a=$d13_2_w1e13$$*$d12_1$$,this.m_count=2,this.m_v2.Set(this.m_v3)):0>=$d12_1$$&&0>=$d23_2_w2e23$$?(this.m_count=this.m_v2.a=1,this.m_v1.Set(this.m_v2)):0>=$d13_1_inv_d12$$&&0>=$d23_1_e23$$?(this.m_count=this.m_v3.a=1,this.m_v1.Set(this.m_v3)):0<$d23_1_e23$$&&0<$d23_2_w2e23$$&&0>=$d123_1_e12$$?($d12_1$$=1/($d23_1_e23$$+$d23_2_w2e23$$),this.m_v2.a=$d23_1_e23$$*$d12_1$$,this.m_v3.a=$d23_2_w2e23$$*$d12_1$$,this.m_count=2,this.m_v1.Set(this.m_v3)):($d12_1$$=1/($d123_1_e12$$+$d123_2_w3$$+
$d123_3_w1$$),this.m_v1.a=$d123_1_e12$$*$d12_1$$,this.m_v2.a=$d123_2_w3$$*$d12_1$$,this.m_v3.a=$d123_3_w1$$*$d12_1$$,this.m_count=3)};$b2SimplexCache$$.b2SimplexCache=function $$b2SimplexCache$$$b2SimplexCache$(){this.indexA=new Vector_a2j_Number(3);this.indexB=new Vector_a2j_Number(3)};$b2SimplexVertex$$.b2SimplexVertex=function $$b2SimplexVertex$$$b2SimplexVertex$(){};$b2SimplexVertex$$.prototype.Set=function $$b2SimplexVertex$$$$Set$($other$$){this.wA.SetV($other$$.wA);this.wB.SetV($other$$.wB);
this.w.SetV($other$$.w);this.a=$other$$.a;this.indexA=$other$$.indexA;this.indexB=$other$$.indexB};$b2TimeOfImpact$$.b2TimeOfImpact=function $$b2TimeOfImpact$$$b2TimeOfImpact$(){};$b2TimeOfImpact$$.TimeOfImpact=function $$b2TimeOfImpact$$$TimeOfImpact$($input$$){++$b2TimeOfImpact$$.b2_toiCalls;var $proxyA$$=$input$$.proxyA,$proxyB$$=$input$$.proxyB,$sweepA$$=$input$$.sweepA,$sweepB$$=$input$$.sweepB;$b2Settings$$.b2Assert($sweepA$$.t0==$sweepB$$.t0);$b2Settings$$.b2Assert(1-$sweepA$$.t0>Number.MIN_VALUE);
var $radius$$=$proxyA$$.m_radius+$proxyB$$.m_radius;$input$$=$input$$.tolerance;var $alpha$$=0,$iter$$=0,$target$$=0;$b2TimeOfImpact$$.s_cache.count=0;for($b2TimeOfImpact$$.s_distanceInput.useRadii=!1;;){$sweepA$$.GetTransform($b2TimeOfImpact$$.s_xfA,$alpha$$);$sweepB$$.GetTransform($b2TimeOfImpact$$.s_xfB,$alpha$$);$b2TimeOfImpact$$.s_distanceInput.proxyA=$proxyA$$;$b2TimeOfImpact$$.s_distanceInput.proxyB=$proxyB$$;$b2TimeOfImpact$$.s_distanceInput.transformA=$b2TimeOfImpact$$.s_xfA;$b2TimeOfImpact$$.s_distanceInput.transformB=
$b2TimeOfImpact$$.s_xfB;$b2Distance$$.Distance($b2TimeOfImpact$$.s_distanceOutput,$b2TimeOfImpact$$.s_cache,$b2TimeOfImpact$$.s_distanceInput);if(0>=$b2TimeOfImpact$$.s_distanceOutput.distance){$alpha$$=1;break}$b2TimeOfImpact$$.s_fcn.Initialize($b2TimeOfImpact$$.s_cache,$proxyA$$,$b2TimeOfImpact$$.s_xfA,$proxyB$$,$b2TimeOfImpact$$.s_xfB);var $f1$$4_separation$$=$b2TimeOfImpact$$.s_fcn.Evaluate($b2TimeOfImpact$$.s_xfA,$b2TimeOfImpact$$.s_xfB);if(0>=$f1$$4_separation$$){$alpha$$=1;break}0==$iter$$&&
($target$$=$f1$$4_separation$$>$radius$$?$b2Math$$.Max($radius$$-$input$$,.75*$radius$$):$b2Math$$.Max($f1$$4_separation$$-$input$$,.02*$radius$$));if($f1$$4_separation$$-$target$$<.5*$input$$){if(0==$iter$$){$alpha$$=1;break}break}var $newAlpha$$=$alpha$$,$x1$$=$alpha$$,$x2$$=1;$sweepA$$.GetTransform($b2TimeOfImpact$$.s_xfA,$x2$$);$sweepB$$.GetTransform($b2TimeOfImpact$$.s_xfB,$x2$$);var $f2$$=$b2TimeOfImpact$$.s_fcn.Evaluate($b2TimeOfImpact$$.s_xfA,$b2TimeOfImpact$$.s_xfB);if($f2$$>=$target$$){$alpha$$=
1;break}for(var $rootIterCount$$=0;;){var $x$$=0,$x$$=$rootIterCount$$&1?$x1$$+($target$$-$f1$$4_separation$$)*($x2$$-$x1$$)/($f2$$-$f1$$4_separation$$):.5*($x1$$+$x2$$);$sweepA$$.GetTransform($b2TimeOfImpact$$.s_xfA,$x$$);$sweepB$$.GetTransform($b2TimeOfImpact$$.s_xfB,$x$$);var $f$$=$b2TimeOfImpact$$.s_fcn.Evaluate($b2TimeOfImpact$$.s_xfA,$b2TimeOfImpact$$.s_xfB);if($b2Math$$.Abs($f$$-$target$$)<.025*$input$$){$newAlpha$$=$x$$;break}$f$$>$target$$?($x1$$=$x$$,$f1$$4_separation$$=$f$$):($x2$$=$x$$,
$f2$$=$f$$);++$rootIterCount$$;++$b2TimeOfImpact$$.b2_toiRootIters;if(50==$rootIterCount$$)break}$b2TimeOfImpact$$.b2_toiMaxRootIters=$b2Math$$.Max($b2TimeOfImpact$$.b2_toiMaxRootIters,$rootIterCount$$);if($newAlpha$$<(1+100*Number.MIN_VALUE)*$alpha$$)break;$alpha$$=$newAlpha$$;$iter$$++;++$b2TimeOfImpact$$.b2_toiIters;if(1E3==$iter$$)break}$b2TimeOfImpact$$.b2_toiMaxIters=$b2Math$$.Max($b2TimeOfImpact$$.b2_toiMaxIters,$iter$$);return $alpha$$};Box2D.postDefs.push(function(){Box2D.Collision.b2TimeOfImpact.b2_toiCalls=
0;Box2D.Collision.b2TimeOfImpact.b2_toiIters=0;Box2D.Collision.b2TimeOfImpact.b2_toiMaxIters=0;Box2D.Collision.b2TimeOfImpact.b2_toiRootIters=0;Box2D.Collision.b2TimeOfImpact.b2_toiMaxRootIters=0;Box2D.Collision.b2TimeOfImpact.s_cache=new $b2SimplexCache$$;Box2D.Collision.b2TimeOfImpact.s_distanceInput=new $b2DistanceInput$$;Box2D.Collision.b2TimeOfImpact.s_xfA=new $b2Transform$$;Box2D.Collision.b2TimeOfImpact.s_xfB=new $b2Transform$$;Box2D.Collision.b2TimeOfImpact.s_fcn=new $b2SeparationFunction$$;
Box2D.Collision.b2TimeOfImpact.s_distanceOutput=new $b2DistanceOutput$$});$b2TOIInput$$.b2TOIInput=function $$b2TOIInput$$$b2TOIInput$(){this.proxyA=new $b2DistanceProxy$$;this.proxyB=new $b2DistanceProxy$$;this.sweepA=new $b2Sweep$$;this.sweepB=new $b2Sweep$$};$b2WorldManifold$$.b2WorldManifold=function $$b2WorldManifold$$$b2WorldManifold$(){this.m_normal=new $b2Vec2$$};$b2WorldManifold$$.prototype.b2WorldManifold=function $$b2WorldManifold$$$$b2WorldManifold$(){this.m_points=new Vector($b2Settings$$.b2_maxManifoldPoints);
for(var $i$$=0;$i$$<$b2Settings$$.b2_maxManifoldPoints;$i$$++)this.m_points[$i$$]=new $b2Vec2$$};$b2WorldManifold$$.prototype.Initialize=function $$b2WorldManifold$$$$Initialize$($manifold$$3_pointBX$$,$pointAY$$1_xfA$$,$radiusA$$,$cBY_pointBY$$1_xfB$$,$radiusB$$){void 0===$radiusA$$&&($radiusA$$=0);void 0===$radiusB$$&&($radiusB$$=0);if(0!=$manifold$$3_pointBX$$.m_pointCount){var $i$$566_pointAX$$=0,$cAY_clipPointY_dX$$9_tVec$$,$dY$$9_tMat$$,$d$$209_d2$$1_normalX$$=0,$normalY$$=0,$planePointX$$=
0,$planePointY$$=0,$clipPointX$$=0;$cAY_clipPointY_dX$$9_tVec$$=0;switch($manifold$$3_pointBX$$.m_type){case $b2Manifold$$.e_circles:$dY$$9_tMat$$=$pointAY$$1_xfA$$.R;$cAY_clipPointY_dX$$9_tVec$$=$manifold$$3_pointBX$$.m_localPoint;$i$$566_pointAX$$=$pointAY$$1_xfA$$.position.x+$dY$$9_tMat$$.col1.x*$cAY_clipPointY_dX$$9_tVec$$.x+$dY$$9_tMat$$.col2.x*$cAY_clipPointY_dX$$9_tVec$$.y;$pointAY$$1_xfA$$=$pointAY$$1_xfA$$.position.y+$dY$$9_tMat$$.col1.y*$cAY_clipPointY_dX$$9_tVec$$.x+$dY$$9_tMat$$.col2.y*
$cAY_clipPointY_dX$$9_tVec$$.y;$dY$$9_tMat$$=$cBY_pointBY$$1_xfB$$.R;$cAY_clipPointY_dX$$9_tVec$$=$manifold$$3_pointBX$$.m_points[0].m_localPoint;$manifold$$3_pointBX$$=$cBY_pointBY$$1_xfB$$.position.x+$dY$$9_tMat$$.col1.x*$cAY_clipPointY_dX$$9_tVec$$.x+$dY$$9_tMat$$.col2.x*$cAY_clipPointY_dX$$9_tVec$$.y;$cBY_pointBY$$1_xfB$$=$cBY_pointBY$$1_xfB$$.position.y+$dY$$9_tMat$$.col1.y*$cAY_clipPointY_dX$$9_tVec$$.x+$dY$$9_tMat$$.col2.y*$cAY_clipPointY_dX$$9_tVec$$.y;$cAY_clipPointY_dX$$9_tVec$$=$manifold$$3_pointBX$$-
$i$$566_pointAX$$;$dY$$9_tMat$$=$cBY_pointBY$$1_xfB$$-$pointAY$$1_xfA$$;$d$$209_d2$$1_normalX$$=$cAY_clipPointY_dX$$9_tVec$$*$cAY_clipPointY_dX$$9_tVec$$+$dY$$9_tMat$$*$dY$$9_tMat$$;$d$$209_d2$$1_normalX$$>Number.MIN_VALUE*Number.MIN_VALUE?($d$$209_d2$$1_normalX$$=Math.sqrt($d$$209_d2$$1_normalX$$),this.m_normal.x=$cAY_clipPointY_dX$$9_tVec$$/$d$$209_d2$$1_normalX$$,this.m_normal.y=$dY$$9_tMat$$/$d$$209_d2$$1_normalX$$):(this.m_normal.x=1,this.m_normal.y=0);$cAY_clipPointY_dX$$9_tVec$$=$pointAY$$1_xfA$$+
$radiusA$$*this.m_normal.y;$cBY_pointBY$$1_xfB$$-=$radiusB$$*this.m_normal.y;this.m_points[0].x=.5*($i$$566_pointAX$$+$radiusA$$*this.m_normal.x+($manifold$$3_pointBX$$-$radiusB$$*this.m_normal.x));this.m_points[0].y=.5*($cAY_clipPointY_dX$$9_tVec$$+$cBY_pointBY$$1_xfB$$);break;case $b2Manifold$$.e_faceA:$dY$$9_tMat$$=$pointAY$$1_xfA$$.R;$cAY_clipPointY_dX$$9_tVec$$=$manifold$$3_pointBX$$.m_localPlaneNormal;$d$$209_d2$$1_normalX$$=$dY$$9_tMat$$.col1.x*$cAY_clipPointY_dX$$9_tVec$$.x+$dY$$9_tMat$$.col2.x*
$cAY_clipPointY_dX$$9_tVec$$.y;$normalY$$=$dY$$9_tMat$$.col1.y*$cAY_clipPointY_dX$$9_tVec$$.x+$dY$$9_tMat$$.col2.y*$cAY_clipPointY_dX$$9_tVec$$.y;$dY$$9_tMat$$=$pointAY$$1_xfA$$.R;$cAY_clipPointY_dX$$9_tVec$$=$manifold$$3_pointBX$$.m_localPoint;$planePointX$$=$pointAY$$1_xfA$$.position.x+$dY$$9_tMat$$.col1.x*$cAY_clipPointY_dX$$9_tVec$$.x+$dY$$9_tMat$$.col2.x*$cAY_clipPointY_dX$$9_tVec$$.y;$planePointY$$=$pointAY$$1_xfA$$.position.y+$dY$$9_tMat$$.col1.y*$cAY_clipPointY_dX$$9_tVec$$.x+$dY$$9_tMat$$.col2.y*
$cAY_clipPointY_dX$$9_tVec$$.y;this.m_normal.x=$d$$209_d2$$1_normalX$$;this.m_normal.y=$normalY$$;for($i$$566_pointAX$$=0;$i$$566_pointAX$$<$manifold$$3_pointBX$$.m_pointCount;$i$$566_pointAX$$++)$dY$$9_tMat$$=$cBY_pointBY$$1_xfB$$.R,$cAY_clipPointY_dX$$9_tVec$$=$manifold$$3_pointBX$$.m_points[$i$$566_pointAX$$].m_localPoint,$clipPointX$$=$cBY_pointBY$$1_xfB$$.position.x+$dY$$9_tMat$$.col1.x*$cAY_clipPointY_dX$$9_tVec$$.x+$dY$$9_tMat$$.col2.x*$cAY_clipPointY_dX$$9_tVec$$.y,$cAY_clipPointY_dX$$9_tVec$$=
$cBY_pointBY$$1_xfB$$.position.y+$dY$$9_tMat$$.col1.y*$cAY_clipPointY_dX$$9_tVec$$.x+$dY$$9_tMat$$.col2.y*$cAY_clipPointY_dX$$9_tVec$$.y,this.m_points[$i$$566_pointAX$$].x=$clipPointX$$+.5*($radiusA$$-($clipPointX$$-$planePointX$$)*$d$$209_d2$$1_normalX$$-($cAY_clipPointY_dX$$9_tVec$$-$planePointY$$)*$normalY$$-$radiusB$$)*$d$$209_d2$$1_normalX$$,this.m_points[$i$$566_pointAX$$].y=$cAY_clipPointY_dX$$9_tVec$$+.5*($radiusA$$-($clipPointX$$-$planePointX$$)*$d$$209_d2$$1_normalX$$-($cAY_clipPointY_dX$$9_tVec$$-
$planePointY$$)*$normalY$$-$radiusB$$)*$normalY$$;break;case $b2Manifold$$.e_faceB:for($dY$$9_tMat$$=$cBY_pointBY$$1_xfB$$.R,$cAY_clipPointY_dX$$9_tVec$$=$manifold$$3_pointBX$$.m_localPlaneNormal,$d$$209_d2$$1_normalX$$=$dY$$9_tMat$$.col1.x*$cAY_clipPointY_dX$$9_tVec$$.x+$dY$$9_tMat$$.col2.x*$cAY_clipPointY_dX$$9_tVec$$.y,$normalY$$=$dY$$9_tMat$$.col1.y*$cAY_clipPointY_dX$$9_tVec$$.x+$dY$$9_tMat$$.col2.y*$cAY_clipPointY_dX$$9_tVec$$.y,$dY$$9_tMat$$=$cBY_pointBY$$1_xfB$$.R,$cAY_clipPointY_dX$$9_tVec$$=
$manifold$$3_pointBX$$.m_localPoint,$planePointX$$=$cBY_pointBY$$1_xfB$$.position.x+$dY$$9_tMat$$.col1.x*$cAY_clipPointY_dX$$9_tVec$$.x+$dY$$9_tMat$$.col2.x*$cAY_clipPointY_dX$$9_tVec$$.y,$planePointY$$=$cBY_pointBY$$1_xfB$$.position.y+$dY$$9_tMat$$.col1.y*$cAY_clipPointY_dX$$9_tVec$$.x+$dY$$9_tMat$$.col2.y*$cAY_clipPointY_dX$$9_tVec$$.y,this.m_normal.x=-$d$$209_d2$$1_normalX$$,this.m_normal.y=-$normalY$$,$i$$566_pointAX$$=0;$i$$566_pointAX$$<$manifold$$3_pointBX$$.m_pointCount;$i$$566_pointAX$$++)$dY$$9_tMat$$=
$pointAY$$1_xfA$$.R,$cAY_clipPointY_dX$$9_tVec$$=$manifold$$3_pointBX$$.m_points[$i$$566_pointAX$$].m_localPoint,$clipPointX$$=$pointAY$$1_xfA$$.position.x+$dY$$9_tMat$$.col1.x*$cAY_clipPointY_dX$$9_tVec$$.x+$dY$$9_tMat$$.col2.x*$cAY_clipPointY_dX$$9_tVec$$.y,$cAY_clipPointY_dX$$9_tVec$$=$pointAY$$1_xfA$$.position.y+$dY$$9_tMat$$.col1.y*$cAY_clipPointY_dX$$9_tVec$$.x+$dY$$9_tMat$$.col2.y*$cAY_clipPointY_dX$$9_tVec$$.y,this.m_points[$i$$566_pointAX$$].x=$clipPointX$$+.5*($radiusB$$-($clipPointX$$-
$planePointX$$)*$d$$209_d2$$1_normalX$$-($cAY_clipPointY_dX$$9_tVec$$-$planePointY$$)*$normalY$$-$radiusA$$)*$d$$209_d2$$1_normalX$$,this.m_points[$i$$566_pointAX$$].y=$cAY_clipPointY_dX$$9_tVec$$+.5*($radiusB$$-($clipPointX$$-$planePointX$$)*$d$$209_d2$$1_normalX$$-($cAY_clipPointY_dX$$9_tVec$$-$planePointY$$)*$normalY$$-$radiusA$$)*$normalY$$}}};$ClipVertex$$.ClipVertex=function $$ClipVertex$$$ClipVertex$(){this.v=new $b2Vec2$$;this.id=new $b2ContactID$$};$ClipVertex$$.prototype.Set=function $$ClipVertex$$$$Set$($other$$){this.v.SetV($other$$.v);
this.id.Set($other$$.id)};$Features$$.Features=function $$Features$$$Features$(){};Object.defineProperty($Features$$.prototype,"referenceEdge",{enumerable:!1,configurable:!0,get:function(){return this._referenceEdge}});Object.defineProperty($Features$$.prototype,"referenceEdge",{enumerable:!1,configurable:!0,set:function($value$$){void 0===$value$$&&($value$$=0);this._referenceEdge=$value$$;this._m_id._key=this._m_id._key&4294967040|this._referenceEdge&255}});Object.defineProperty($Features$$.prototype,
"incidentEdge",{enumerable:!1,configurable:!0,get:function(){return this._incidentEdge}});Object.defineProperty($Features$$.prototype,"incidentEdge",{enumerable:!1,configurable:!0,set:function($value$$){void 0===$value$$&&($value$$=0);this._incidentEdge=$value$$;this._m_id._key=this._m_id._key&4294902015|this._incidentEdge<<8&65280}});Object.defineProperty($Features$$.prototype,"incidentVertex",{enumerable:!1,configurable:!0,get:function(){return this._incidentVertex}});Object.defineProperty($Features$$.prototype,
"incidentVertex",{enumerable:!1,configurable:!0,set:function($value$$){void 0===$value$$&&($value$$=0);this._incidentVertex=$value$$;this._m_id._key=this._m_id._key&4278255615|this._incidentVertex<<16&16711680}});Object.defineProperty($Features$$.prototype,"flip",{enumerable:!1,configurable:!0,get:function(){return this._flip}});Object.defineProperty($Features$$.prototype,"flip",{enumerable:!1,configurable:!0,set:function($value$$){void 0===$value$$&&($value$$=0);this._flip=$value$$;this._m_id._key=
this._m_id._key&16777215|this._flip<<24&4278190080}})})();
(function(){var $b2Settings$$=Box2D.Common.b2Settings,$b2CircleShape$$=Box2D.Collision.Shapes.b2CircleShape,$b2EdgeChainDef$$=Box2D.Collision.Shapes.b2EdgeChainDef,$b2EdgeShape$$=Box2D.Collision.Shapes.b2EdgeShape,$b2MassData$$=Box2D.Collision.Shapes.b2MassData,$b2PolygonShape$$=Box2D.Collision.Shapes.b2PolygonShape,$b2Shape$$=Box2D.Collision.Shapes.b2Shape,$b2Mat22$$=Box2D.Common.Math.b2Mat22,$b2Math$$=Box2D.Common.Math.b2Math,$b2Transform$$=Box2D.Common.Math.b2Transform,$b2Vec2$$=Box2D.Common.Math.b2Vec2,
$b2Distance$$=Box2D.Collision.b2Distance,$b2DistanceInput$$=Box2D.Collision.b2DistanceInput,$b2DistanceOutput$$=Box2D.Collision.b2DistanceOutput,$b2DistanceProxy$$=Box2D.Collision.b2DistanceProxy,$b2SimplexCache$$=Box2D.Collision.b2SimplexCache;Box2D.inherit($b2CircleShape$$,Box2D.Collision.Shapes.b2Shape);$b2CircleShape$$.prototype.__super=Box2D.Collision.Shapes.b2Shape.prototype;$b2CircleShape$$.b2CircleShape=function $$b2CircleShape$$$b2CircleShape$(){Box2D.Collision.Shapes.b2Shape.b2Shape.apply(this,
arguments);this.m_p=new $b2Vec2$$};$b2CircleShape$$.prototype.Copy=function $$b2CircleShape$$$$Copy$(){var $s$$=new $b2CircleShape$$;$s$$.Set(this);return $s$$};$b2CircleShape$$.prototype.Set=function $$b2CircleShape$$$$Set$($other$$){this.__super.Set.call(this,$other$$);Box2D.is($other$$,$b2CircleShape$$)&&this.m_p.SetV(($other$$ instanceof $b2CircleShape$$?$other$$:null).m_p)};$b2CircleShape$$.prototype.TestPoint=function $$b2CircleShape$$$$TestPoint$($transform$$,$p$$){var $dY$$10_tMat$$=$transform$$.R,
$dX$$=$transform$$.position.x+($dY$$10_tMat$$.col1.x*this.m_p.x+$dY$$10_tMat$$.col2.x*this.m_p.y),$dY$$10_tMat$$=$transform$$.position.y+($dY$$10_tMat$$.col1.y*this.m_p.x+$dY$$10_tMat$$.col2.y*this.m_p.y),$dX$$=$p$$.x-$dX$$,$dY$$10_tMat$$=$p$$.y-$dY$$10_tMat$$;return $dX$$*$dX$$+$dY$$10_tMat$$*$dY$$10_tMat$$<=this.m_radius*this.m_radius};$b2CircleShape$$.prototype.RayCast=function $$b2CircleShape$$$$RayCast$($output$$,$input$$,$sY_transform$$){var $rX$$1_tMat$$=$sY_transform$$.R,$sX$$=$input$$.p1.x-
($sY_transform$$.position.x+($rX$$1_tMat$$.col1.x*this.m_p.x+$rX$$1_tMat$$.col2.x*this.m_p.y));$sY_transform$$=$input$$.p1.y-($sY_transform$$.position.y+($rX$$1_tMat$$.col1.y*this.m_p.x+$rX$$1_tMat$$.col2.y*this.m_p.y));var $rX$$1_tMat$$=$input$$.p2.x-$input$$.p1.x,$rY$$=$input$$.p2.y-$input$$.p1.y,$a$$470_c$$=$sX$$*$rX$$1_tMat$$+$sY_transform$$*$rY$$,$rr$$=$rX$$1_tMat$$*$rX$$1_tMat$$+$rY$$*$rY$$,$sigma$$=$a$$470_c$$*$a$$470_c$$-$rr$$*($sX$$*$sX$$+$sY_transform$$*$sY_transform$$-this.m_radius*this.m_radius);
if(0>$sigma$$||$rr$$<Number.MIN_VALUE)return!1;$a$$470_c$$=-($a$$470_c$$+Math.sqrt($sigma$$));return 0<=$a$$470_c$$&&$a$$470_c$$<=$input$$.maxFraction*$rr$$?($a$$470_c$$/=$rr$$,$output$$.fraction=$a$$470_c$$,$output$$.normal.x=$sX$$+$a$$470_c$$*$rX$$1_tMat$$,$output$$.normal.y=$sY_transform$$+$a$$470_c$$*$rY$$,$output$$.normal.Normalize(),!0):!1};$b2CircleShape$$.prototype.ComputeAABB=function $$b2CircleShape$$$$ComputeAABB$($aabb$$,$transform$$){var $pY$$1_tMat$$=$transform$$.R,$pX$$=$transform$$.position.x+
($pY$$1_tMat$$.col1.x*this.m_p.x+$pY$$1_tMat$$.col2.x*this.m_p.y),$pY$$1_tMat$$=$transform$$.position.y+($pY$$1_tMat$$.col1.y*this.m_p.x+$pY$$1_tMat$$.col2.y*this.m_p.y);$aabb$$.lowerBound.Set($pX$$-this.m_radius,$pY$$1_tMat$$-this.m_radius);$aabb$$.upperBound.Set($pX$$+this.m_radius,$pY$$1_tMat$$+this.m_radius)};$b2CircleShape$$.prototype.ComputeMass=function $$b2CircleShape$$$$ComputeMass$($massData$$,$density$$){void 0===$density$$&&($density$$=0);$massData$$.mass=$density$$*$b2Settings$$.b2_pi*
this.m_radius*this.m_radius;$massData$$.center.SetV(this.m_p);$massData$$.I=$massData$$.mass*(.5*this.m_radius*this.m_radius+(this.m_p.x*this.m_p.x+this.m_p.y*this.m_p.y))};$b2CircleShape$$.prototype.ComputeSubmergedArea=function $$b2CircleShape$$$$ComputeSubmergedArea$($normal$$,$com_offset$$68_r2$$,$p$$50_xf$$,$c$$){void 0===$com_offset$$68_r2$$&&($com_offset$$68_r2$$=0);$p$$50_xf$$=$b2Math$$.MulX($p$$50_xf$$,this.m_p);var $area_l$$=-($b2Math$$.Dot($normal$$,$p$$50_xf$$)-$com_offset$$68_r2$$);if($area_l$$<
-this.m_radius+Number.MIN_VALUE)return 0;if($area_l$$>this.m_radius)return $c$$.SetV($p$$50_xf$$),Math.PI*this.m_radius*this.m_radius;$com_offset$$68_r2$$=this.m_radius*this.m_radius;var $l2$$=$area_l$$*$area_l$$,$area_l$$=$com_offset$$68_r2$$*(Math.asin($area_l$$/this.m_radius)+Math.PI/2)+$area_l$$*Math.sqrt($com_offset$$68_r2$$-$l2$$);$com_offset$$68_r2$$=-2/3*Math.pow($com_offset$$68_r2$$-$l2$$,1.5)/$area_l$$;$c$$.x=$p$$50_xf$$.x+$normal$$.x*$com_offset$$68_r2$$;$c$$.y=$p$$50_xf$$.y+$normal$$.y*
$com_offset$$68_r2$$;return $area_l$$};$b2CircleShape$$.prototype.GetLocalPosition=function $$b2CircleShape$$$$GetLocalPosition$(){return this.m_p};$b2CircleShape$$.prototype.SetLocalPosition=function $$b2CircleShape$$$$SetLocalPosition$($position$$){this.m_p.SetV($position$$)};$b2CircleShape$$.prototype.GetRadius=function $$b2CircleShape$$$$GetRadius$(){return this.m_radius};$b2CircleShape$$.prototype.SetRadius=function $$b2CircleShape$$$$SetRadius$($radius$$){void 0===$radius$$&&($radius$$=0);this.m_radius=
$radius$$};$b2CircleShape$$.prototype.b2CircleShape=function $$b2CircleShape$$$$b2CircleShape$($radius$$){void 0===$radius$$&&($radius$$=0);this.__super.b2Shape.call(this);this.m_type=$b2Shape$$.e_circleShape;this.m_radius=$radius$$};$b2EdgeChainDef$$.b2EdgeChainDef=function $$b2EdgeChainDef$$$b2EdgeChainDef$(){};$b2EdgeChainDef$$.prototype.b2EdgeChainDef=function $$b2EdgeChainDef$$$$b2EdgeChainDef$(){this.vertexCount=0;this.isALoop=!0;this.vertices=[]};Box2D.inherit($b2EdgeShape$$,Box2D.Collision.Shapes.b2Shape);
$b2EdgeShape$$.prototype.__super=Box2D.Collision.Shapes.b2Shape.prototype;$b2EdgeShape$$.b2EdgeShape=function $$b2EdgeShape$$$b2EdgeShape$(){Box2D.Collision.Shapes.b2Shape.b2Shape.apply(this,arguments);this.s_supportVec=new $b2Vec2$$;this.m_v1=new $b2Vec2$$;this.m_v2=new $b2Vec2$$;this.m_coreV1=new $b2Vec2$$;this.m_coreV2=new $b2Vec2$$;this.m_normal=new $b2Vec2$$;this.m_direction=new $b2Vec2$$;this.m_cornerDir1=new $b2Vec2$$;this.m_cornerDir2=new $b2Vec2$$};$b2EdgeShape$$.prototype.TestPoint=function $$b2EdgeShape$$$$TestPoint$($transform$$,
$p$$){return!1};$b2EdgeShape$$.prototype.RayCast=function $$b2EdgeShape$$$$RayCast$($output$$,$input$$12_mu2$$1_nLen$$,$nY$$1_transform$$){var $k_slop$$1_tMat$$,$rX$$=$input$$12_mu2$$1_nLen$$.p2.x-$input$$12_mu2$$1_nLen$$.p1.x,$rY$$=$input$$12_mu2$$1_nLen$$.p2.y-$input$$12_mu2$$1_nLen$$.p1.y;$k_slop$$1_tMat$$=$nY$$1_transform$$.R;var $bX$$1_v1X$$=$nY$$1_transform$$.position.x+($k_slop$$1_tMat$$.col1.x*this.m_v1.x+$k_slop$$1_tMat$$.col2.x*this.m_v1.y),$a$$471_v1Y$$=$nY$$1_transform$$.position.y+($k_slop$$1_tMat$$.col1.y*
this.m_v1.x+$k_slop$$1_tMat$$.col2.y*this.m_v1.y),$nX$$=$nY$$1_transform$$.position.y+($k_slop$$1_tMat$$.col1.y*this.m_v2.x+$k_slop$$1_tMat$$.col2.y*this.m_v2.y)-$a$$471_v1Y$$;$nY$$1_transform$$=-($nY$$1_transform$$.position.x+($k_slop$$1_tMat$$.col1.x*this.m_v2.x+$k_slop$$1_tMat$$.col2.x*this.m_v2.y)-$bX$$1_v1X$$);$k_slop$$1_tMat$$=100*Number.MIN_VALUE;var $denom$$=-($rX$$*$nX$$+$rY$$*$nY$$1_transform$$);if($denom$$>$k_slop$$1_tMat$$){var $bX$$1_v1X$$=$input$$12_mu2$$1_nLen$$.p1.x-$bX$$1_v1X$$,$bY$$=
$input$$12_mu2$$1_nLen$$.p1.y-$a$$471_v1Y$$,$a$$471_v1Y$$=$bX$$1_v1X$$*$nX$$+$bY$$*$nY$$1_transform$$;if(0<=$a$$471_v1Y$$&&$a$$471_v1Y$$<=$input$$12_mu2$$1_nLen$$.maxFraction*$denom$$&&($input$$12_mu2$$1_nLen$$=-$rX$$*$bY$$+$rY$$*$bX$$1_v1X$$,-$k_slop$$1_tMat$$*$denom$$<=$input$$12_mu2$$1_nLen$$&&$input$$12_mu2$$1_nLen$$<=$denom$$*(1+$k_slop$$1_tMat$$)))return $output$$.fraction=$a$$471_v1Y$$/$denom$$,$input$$12_mu2$$1_nLen$$=Math.sqrt($nX$$*$nX$$+$nY$$1_transform$$*$nY$$1_transform$$),$output$$.normal.x=
$nX$$/$input$$12_mu2$$1_nLen$$,$output$$.normal.y=$nY$$1_transform$$/$input$$12_mu2$$1_nLen$$,!0}return!1};$b2EdgeShape$$.prototype.ComputeAABB=function $$b2EdgeShape$$$$ComputeAABB$($aabb$$,$transform$$){var $tMat$$12_v2Y$$=$transform$$.R,$v1X$$=$transform$$.position.x+($tMat$$12_v2Y$$.col1.x*this.m_v1.x+$tMat$$12_v2Y$$.col2.x*this.m_v1.y),$v1Y$$=$transform$$.position.y+($tMat$$12_v2Y$$.col1.y*this.m_v1.x+$tMat$$12_v2Y$$.col2.y*this.m_v1.y),$v2X$$=$transform$$.position.x+($tMat$$12_v2Y$$.col1.x*
this.m_v2.x+$tMat$$12_v2Y$$.col2.x*this.m_v2.y),$tMat$$12_v2Y$$=$transform$$.position.y+($tMat$$12_v2Y$$.col1.y*this.m_v2.x+$tMat$$12_v2Y$$.col2.y*this.m_v2.y);$v1X$$<$v2X$$?($aabb$$.lowerBound.x=$v1X$$,$aabb$$.upperBound.x=$v2X$$):($aabb$$.lowerBound.x=$v2X$$,$aabb$$.upperBound.x=$v1X$$);$v1Y$$<$tMat$$12_v2Y$$?($aabb$$.lowerBound.y=$v1Y$$,$aabb$$.upperBound.y=$tMat$$12_v2Y$$):($aabb$$.lowerBound.y=$tMat$$12_v2Y$$,$aabb$$.upperBound.y=$v1Y$$)};$b2EdgeShape$$.prototype.ComputeMass=function $$b2EdgeShape$$$$ComputeMass$($massData$$,
$density$$){$massData$$.mass=0;$massData$$.center.SetV(this.m_v1);$massData$$.I=0};$b2EdgeShape$$.prototype.ComputeSubmergedArea=function $$b2EdgeShape$$$$ComputeSubmergedArea$($d2$$2_normal$$,$offset$$,$v2$$19_xf$$,$c$$){void 0===$offset$$&&($offset$$=0);var $v0$$=new $b2Vec2$$($d2$$2_normal$$.x*$offset$$,$d2$$2_normal$$.y*$offset$$),$v1$$=$b2Math$$.MulX($v2$$19_xf$$,this.m_v1);$v2$$19_xf$$=$b2Math$$.MulX($v2$$19_xf$$,this.m_v2);var $d1$$=$b2Math$$.Dot($d2$$2_normal$$,$v1$$)-$offset$$;$d2$$2_normal$$=
$b2Math$$.Dot($d2$$2_normal$$,$v2$$19_xf$$)-$offset$$;if(0<$d1$$){if(0<$d2$$2_normal$$)return 0;$v1$$.x=-$d2$$2_normal$$/($d1$$-$d2$$2_normal$$)*$v1$$.x+$d1$$/($d1$$-$d2$$2_normal$$)*$v2$$19_xf$$.x;$v1$$.y=-$d2$$2_normal$$/($d1$$-$d2$$2_normal$$)*$v1$$.y+$d1$$/($d1$$-$d2$$2_normal$$)*$v2$$19_xf$$.y}else 0<$d2$$2_normal$$&&($v2$$19_xf$$.x=-$d2$$2_normal$$/($d1$$-$d2$$2_normal$$)*$v1$$.x+$d1$$/($d1$$-$d2$$2_normal$$)*$v2$$19_xf$$.x,$v2$$19_xf$$.y=-$d2$$2_normal$$/($d1$$-$d2$$2_normal$$)*$v1$$.y+$d1$$/
($d1$$-$d2$$2_normal$$)*$v2$$19_xf$$.y);$c$$.x=($v0$$.x+$v1$$.x+$v2$$19_xf$$.x)/3;$c$$.y=($v0$$.y+$v1$$.y+$v2$$19_xf$$.y)/3;return.5*(($v1$$.x-$v0$$.x)*($v2$$19_xf$$.y-$v0$$.y)-($v1$$.y-$v0$$.y)*($v2$$19_xf$$.x-$v0$$.x))};$b2EdgeShape$$.prototype.GetLength=function $$b2EdgeShape$$$$GetLength$(){return this.m_length};$b2EdgeShape$$.prototype.GetVertex1=function $$b2EdgeShape$$$$GetVertex1$(){return this.m_v1};$b2EdgeShape$$.prototype.GetVertex2=function $$b2EdgeShape$$$$GetVertex2$(){return this.m_v2};
$b2EdgeShape$$.prototype.GetCoreVertex1=function $$b2EdgeShape$$$$GetCoreVertex1$(){return this.m_coreV1};$b2EdgeShape$$.prototype.GetCoreVertex2=function $$b2EdgeShape$$$$GetCoreVertex2$(){return this.m_coreV2};$b2EdgeShape$$.prototype.GetNormalVector=function $$b2EdgeShape$$$$GetNormalVector$(){return this.m_normal};$b2EdgeShape$$.prototype.GetDirectionVector=function $$b2EdgeShape$$$$GetDirectionVector$(){return this.m_direction};$b2EdgeShape$$.prototype.GetCorner1Vector=function $$b2EdgeShape$$$$GetCorner1Vector$(){return this.m_cornerDir1};
$b2EdgeShape$$.prototype.GetCorner2Vector=function $$b2EdgeShape$$$$GetCorner2Vector$(){return this.m_cornerDir2};$b2EdgeShape$$.prototype.Corner1IsConvex=function $$b2EdgeShape$$$$Corner1IsConvex$(){return this.m_cornerConvex1};$b2EdgeShape$$.prototype.Corner2IsConvex=function $$b2EdgeShape$$$$Corner2IsConvex$(){return this.m_cornerConvex2};$b2EdgeShape$$.prototype.GetFirstVertex=function $$b2EdgeShape$$$$GetFirstVertex$($xf$$){var $tMat$$=$xf$$.R;return new $b2Vec2$$($xf$$.position.x+($tMat$$.col1.x*
this.m_coreV1.x+$tMat$$.col2.x*this.m_coreV1.y),$xf$$.position.y+($tMat$$.col1.y*this.m_coreV1.x+$tMat$$.col2.y*this.m_coreV1.y))};$b2EdgeShape$$.prototype.GetNextEdge=function $$b2EdgeShape$$$$GetNextEdge$(){return this.m_nextEdge};$b2EdgeShape$$.prototype.GetPrevEdge=function $$b2EdgeShape$$$$GetPrevEdge$(){return this.m_prevEdge};$b2EdgeShape$$.prototype.Support=function $$b2EdgeShape$$$$Support$($v2Y$$2_xf$$,$dX$$,$dY$$){void 0===$dX$$&&($dX$$=0);void 0===$dY$$&&($dY$$=0);var $tMat$$=$v2Y$$2_xf$$.R,
$v1X$$=$v2Y$$2_xf$$.position.x+($tMat$$.col1.x*this.m_coreV1.x+$tMat$$.col2.x*this.m_coreV1.y),$v1Y$$=$v2Y$$2_xf$$.position.y+($tMat$$.col1.y*this.m_coreV1.x+$tMat$$.col2.y*this.m_coreV1.y),$v2X$$=$v2Y$$2_xf$$.position.x+($tMat$$.col1.x*this.m_coreV2.x+$tMat$$.col2.x*this.m_coreV2.y);$v2Y$$2_xf$$=$v2Y$$2_xf$$.position.y+($tMat$$.col1.y*this.m_coreV2.x+$tMat$$.col2.y*this.m_coreV2.y);$v1X$$*$dX$$+$v1Y$$*$dY$$>$v2X$$*$dX$$+$v2Y$$2_xf$$*$dY$$?(this.s_supportVec.x=$v1X$$,this.s_supportVec.y=$v1Y$$):(this.s_supportVec.x=
$v2X$$,this.s_supportVec.y=$v2Y$$2_xf$$);return this.s_supportVec};$b2EdgeShape$$.prototype.b2EdgeShape=function $$b2EdgeShape$$$$b2EdgeShape$($v1$$,$v2$$){this.__super.b2Shape.call(this);this.m_type=$b2Shape$$.e_edgeShape;this.m_nextEdge=this.m_prevEdge=null;this.m_v1=$v1$$;this.m_v2=$v2$$;this.m_direction.Set(this.m_v2.x-this.m_v1.x,this.m_v2.y-this.m_v1.y);this.m_length=this.m_direction.Normalize();this.m_normal.Set(this.m_direction.y,-this.m_direction.x);this.m_coreV1.Set(-$b2Settings$$.b2_toiSlop*
(this.m_normal.x-this.m_direction.x)+this.m_v1.x,-$b2Settings$$.b2_toiSlop*(this.m_normal.y-this.m_direction.y)+this.m_v1.y);this.m_coreV2.Set(-$b2Settings$$.b2_toiSlop*(this.m_normal.x+this.m_direction.x)+this.m_v2.x,-$b2Settings$$.b2_toiSlop*(this.m_normal.y+this.m_direction.y)+this.m_v2.y);this.m_cornerDir1=this.m_normal;this.m_cornerDir2.Set(-this.m_normal.x,-this.m_normal.y)};$b2EdgeShape$$.prototype.SetPrevEdge=function $$b2EdgeShape$$$$SetPrevEdge$($edge$$,$core$$,$cornerDir$$,$convex$$){this.m_prevEdge=
$edge$$;this.m_coreV1=$core$$;this.m_cornerDir1=$cornerDir$$;this.m_cornerConvex1=$convex$$};$b2EdgeShape$$.prototype.SetNextEdge=function $$b2EdgeShape$$$$SetNextEdge$($edge$$,$core$$,$cornerDir$$,$convex$$){this.m_nextEdge=$edge$$;this.m_coreV2=$core$$;this.m_cornerDir2=$cornerDir$$;this.m_cornerConvex2=$convex$$};$b2MassData$$.b2MassData=function $$b2MassData$$$b2MassData$(){this.mass=0;this.center=new $b2Vec2$$(0,0);this.I=0};Box2D.inherit($b2PolygonShape$$,Box2D.Collision.Shapes.b2Shape);$b2PolygonShape$$.prototype.__super=
Box2D.Collision.Shapes.b2Shape.prototype;$b2PolygonShape$$.b2PolygonShape=function $$b2PolygonShape$$$b2PolygonShape$(){Box2D.Collision.Shapes.b2Shape.b2Shape.apply(this,arguments)};$b2PolygonShape$$.prototype.Copy=function $$b2PolygonShape$$$$Copy$(){var $s$$=new $b2PolygonShape$$;$s$$.Set(this);return $s$$};$b2PolygonShape$$.prototype.Set=function $$b2PolygonShape$$$$Set$($other$$7_other2$$){this.__super.Set.call(this,$other$$7_other2$$);if(Box2D.is($other$$7_other2$$,$b2PolygonShape$$)){$other$$7_other2$$=
$other$$7_other2$$ instanceof $b2PolygonShape$$?$other$$7_other2$$:null;this.m_centroid.SetV($other$$7_other2$$.m_centroid);this.m_vertexCount=$other$$7_other2$$.m_vertexCount;this.Reserve(this.m_vertexCount);for(var $i$$=0;$i$$<this.m_vertexCount;$i$$++)this.m_vertices[$i$$].SetV($other$$7_other2$$.m_vertices[$i$$]),this.m_normals[$i$$].SetV($other$$7_other2$$.m_normals[$i$$])}};$b2PolygonShape$$.prototype.SetAsArray=function $$b2PolygonShape$$$$SetAsArray$($vertices$$,$vertexCount$$){void 0===$vertexCount$$&&
($vertexCount$$=0);for(var $v$$=new Vector,$i$$=0,$tVec$$,$i$$=0;$i$$<$vertices$$.length;++$i$$)$tVec$$=$vertices$$[$i$$],$v$$.push($tVec$$);this.SetAsVector($v$$,$vertexCount$$)};$b2PolygonShape$$.AsArray=function $$b2PolygonShape$$$AsArray$($vertices$$,$vertexCount$$){void 0===$vertexCount$$&&($vertexCount$$=0);var $polygonShape$$=new $b2PolygonShape$$;$polygonShape$$.SetAsArray($vertices$$,$vertexCount$$);return $polygonShape$$};$b2PolygonShape$$.prototype.SetAsVector=function $$b2PolygonShape$$$$SetAsVector$($vertices$$,
$vertexCount$$){void 0===$vertexCount$$&&($vertexCount$$=0);0==$vertexCount$$&&($vertexCount$$=$vertices$$.length);$b2Settings$$.b2Assert(2<=$vertexCount$$);this.m_vertexCount=$vertexCount$$;this.Reserve($vertexCount$$);for(var $i$$=0,$i$$=0;$i$$<this.m_vertexCount;$i$$++)this.m_vertices[$i$$].SetV($vertices$$[$i$$]);for($i$$=0;$i$$<this.m_vertexCount;++$i$$){var $edge$$3_i1$$=parseInt($i$$),$i2$$=parseInt($i$$+1<this.m_vertexCount?$i$$+1:0),$edge$$3_i1$$=$b2Math$$.SubtractVV(this.m_vertices[$i2$$],
this.m_vertices[$edge$$3_i1$$]);$b2Settings$$.b2Assert($edge$$3_i1$$.LengthSquared()>Number.MIN_VALUE);this.m_normals[$i$$].SetV($b2Math$$.CrossVF($edge$$3_i1$$,1));this.m_normals[$i$$].Normalize()}this.m_centroid=$b2PolygonShape$$.ComputeCentroid(this.m_vertices,this.m_vertexCount)};$b2PolygonShape$$.AsVector=function $$b2PolygonShape$$$AsVector$($vertices$$,$vertexCount$$){void 0===$vertexCount$$&&($vertexCount$$=0);var $polygonShape$$=new $b2PolygonShape$$;$polygonShape$$.SetAsVector($vertices$$,
$vertexCount$$);return $polygonShape$$};$b2PolygonShape$$.prototype.SetAsBox=function $$b2PolygonShape$$$$SetAsBox$($hx$$,$hy$$){void 0===$hx$$&&($hx$$=0);void 0===$hy$$&&($hy$$=0);this.m_vertexCount=4;this.Reserve(4);this.m_vertices[0].Set(-$hx$$,-$hy$$);this.m_vertices[1].Set($hx$$,-$hy$$);this.m_vertices[2].Set($hx$$,$hy$$);this.m_vertices[3].Set(-$hx$$,$hy$$);this.m_normals[0].Set(0,-1);this.m_normals[1].Set(1,0);this.m_normals[2].Set(0,1);this.m_normals[3].Set(-1,0);this.m_centroid.SetZero()};
$b2PolygonShape$$.AsBox=function $$b2PolygonShape$$$AsBox$($hx$$,$hy$$){void 0===$hx$$&&($hx$$=0);void 0===$hy$$&&($hy$$=0);var $polygonShape$$=new $b2PolygonShape$$;$polygonShape$$.SetAsBox($hx$$,$hy$$);return $polygonShape$$};$b2PolygonShape$$.prototype.SetAsOrientedBox=function $$b2PolygonShape$$$$SetAsOrientedBox$($hx$$2_xf$$,$hy$$,$center$$10_i$$,$angle$$){void 0===$hx$$2_xf$$&&($hx$$2_xf$$=0);void 0===$hy$$&&($hy$$=0);void 0===$center$$10_i$$&&($center$$10_i$$=null);void 0===$angle$$&&($angle$$=
0);this.m_vertexCount=4;this.Reserve(4);this.m_vertices[0].Set(-$hx$$2_xf$$,-$hy$$);this.m_vertices[1].Set($hx$$2_xf$$,-$hy$$);this.m_vertices[2].Set($hx$$2_xf$$,$hy$$);this.m_vertices[3].Set(-$hx$$2_xf$$,$hy$$);this.m_normals[0].Set(0,-1);this.m_normals[1].Set(1,0);this.m_normals[2].Set(0,1);this.m_normals[3].Set(-1,0);this.m_centroid=$center$$10_i$$;$hx$$2_xf$$=new $b2Transform$$;$hx$$2_xf$$.position=$center$$10_i$$;$hx$$2_xf$$.R.Set($angle$$);for($center$$10_i$$=0;$center$$10_i$$<this.m_vertexCount;++$center$$10_i$$)this.m_vertices[$center$$10_i$$]=
$b2Math$$.MulX($hx$$2_xf$$,this.m_vertices[$center$$10_i$$]),this.m_normals[$center$$10_i$$]=$b2Math$$.MulMV($hx$$2_xf$$.R,this.m_normals[$center$$10_i$$])};$b2PolygonShape$$.AsOrientedBox=function $$b2PolygonShape$$$AsOrientedBox$($hx$$,$hy$$,$center$$,$angle$$){void 0===$hx$$&&($hx$$=0);void 0===$hy$$&&($hy$$=0);void 0===$center$$&&($center$$=null);void 0===$angle$$&&($angle$$=0);var $polygonShape$$=new $b2PolygonShape$$;$polygonShape$$.SetAsOrientedBox($hx$$,$hy$$,$center$$,$angle$$);return $polygonShape$$};
$b2PolygonShape$$.prototype.SetAsEdge=function $$b2PolygonShape$$$$SetAsEdge$($v1$$,$v2$$){this.m_vertexCount=2;this.Reserve(2);this.m_vertices[0].SetV($v1$$);this.m_vertices[1].SetV($v2$$);this.m_centroid.x=.5*($v1$$.x+$v2$$.x);this.m_centroid.y=.5*($v1$$.y+$v2$$.y);this.m_normals[0]=$b2Math$$.CrossVF($b2Math$$.SubtractVV($v2$$,$v1$$),1);this.m_normals[0].Normalize();this.m_normals[1].x=-this.m_normals[0].x;this.m_normals[1].y=-this.m_normals[0].y};$b2PolygonShape$$.AsEdge=function $$b2PolygonShape$$$AsEdge$($v1$$,
$v2$$){var $polygonShape$$=new $b2PolygonShape$$;$polygonShape$$.SetAsEdge($v1$$,$v2$$);return $polygonShape$$};$b2PolygonShape$$.prototype.TestPoint=function $$b2PolygonShape$$$$TestPoint$($xf$$,$p$$){var $tMat$$15_tVec$$;$tMat$$15_tVec$$=$xf$$.R;for(var $tX$$=$p$$.x-$xf$$.position.x,$tY$$=$p$$.y-$xf$$.position.y,$pLocalX$$=$tX$$*$tMat$$15_tVec$$.col1.x+$tY$$*$tMat$$15_tVec$$.col1.y,$pLocalY$$=$tX$$*$tMat$$15_tVec$$.col2.x+$tY$$*$tMat$$15_tVec$$.col2.y,$i$$=0;$i$$<this.m_vertexCount;++$i$$)if($tMat$$15_tVec$$=
this.m_vertices[$i$$],$tX$$=$pLocalX$$-$tMat$$15_tVec$$.x,$tY$$=$pLocalY$$-$tMat$$15_tVec$$.y,$tMat$$15_tVec$$=this.m_normals[$i$$],0<$tMat$$15_tVec$$.x*$tX$$+$tMat$$15_tVec$$.y*$tY$$)return!1;return!0};$b2PolygonShape$$.prototype.RayCast=function $$b2PolygonShape$$$$RayCast$($output$$,$dX$$12_input$$,$transform$$){var $lower$$=0,$upper$$=$dX$$12_input$$.maxFraction,$numerator_tX$$=0,$denominator_tY$$=0,$dY$$12_tMat$$,$tVec$$,$numerator_tX$$=$dX$$12_input$$.p1.x-$transform$$.position.x,$denominator_tY$$=
$dX$$12_input$$.p1.y-$transform$$.position.y;$dY$$12_tMat$$=$transform$$.R;var $p1X$$=$numerator_tX$$*$dY$$12_tMat$$.col1.x+$denominator_tY$$*$dY$$12_tMat$$.col1.y,$p1Y$$=$numerator_tX$$*$dY$$12_tMat$$.col2.x+$denominator_tY$$*$dY$$12_tMat$$.col2.y,$numerator_tX$$=$dX$$12_input$$.p2.x-$transform$$.position.x,$denominator_tY$$=$dX$$12_input$$.p2.y-$transform$$.position.y;$dY$$12_tMat$$=$transform$$.R;$dX$$12_input$$=$numerator_tX$$*$dY$$12_tMat$$.col1.x+$denominator_tY$$*$dY$$12_tMat$$.col1.y-$p1X$$;
$dY$$12_tMat$$=$numerator_tX$$*$dY$$12_tMat$$.col2.x+$denominator_tY$$*$dY$$12_tMat$$.col2.y-$p1Y$$;for(var $index$$=-1,$i$$=0;$i$$<this.m_vertexCount;++$i$$){$tVec$$=this.m_vertices[$i$$];$numerator_tX$$=$tVec$$.x-$p1X$$;$denominator_tY$$=$tVec$$.y-$p1Y$$;$tVec$$=this.m_normals[$i$$];$numerator_tX$$=$tVec$$.x*$numerator_tX$$+$tVec$$.y*$denominator_tY$$;$denominator_tY$$=$tVec$$.x*$dX$$12_input$$+$tVec$$.y*$dY$$12_tMat$$;if(0==$denominator_tY$$){if(0>$numerator_tX$$)return!1}else 0>$denominator_tY$$&&
$numerator_tX$$<$lower$$*$denominator_tY$$?($lower$$=$numerator_tX$$/$denominator_tY$$,$index$$=$i$$):0<$denominator_tY$$&&$numerator_tX$$<$upper$$*$denominator_tY$$&&($upper$$=$numerator_tX$$/$denominator_tY$$);if($upper$$<$lower$$-Number.MIN_VALUE)return!1}return 0<=$index$$?($output$$.fraction=$lower$$,$dY$$12_tMat$$=$transform$$.R,$tVec$$=this.m_normals[$index$$],$output$$.normal.x=$dY$$12_tMat$$.col1.x*$tVec$$.x+$dY$$12_tMat$$.col2.x*$tVec$$.y,$output$$.normal.y=$dY$$12_tMat$$.col1.y*$tVec$$.x+
$dY$$12_tMat$$.col2.y*$tVec$$.y,!0):!1};$b2PolygonShape$$.prototype.ComputeAABB=function $$b2PolygonShape$$$$ComputeAABB$($aabb$$,$xf$$){for(var $tMat$$=$xf$$.R,$tVec$$11_vY$$=this.m_vertices[0],$lowerX$$=$xf$$.position.x+($tMat$$.col1.x*$tVec$$11_vY$$.x+$tMat$$.col2.x*$tVec$$11_vY$$.y),$lowerY$$=$xf$$.position.y+($tMat$$.col1.y*$tVec$$11_vY$$.x+$tMat$$.col2.y*$tVec$$11_vY$$.y),$upperX$$=$lowerX$$,$upperY$$=$lowerY$$,$i$$=1;$i$$<this.m_vertexCount;++$i$$)var $tVec$$11_vY$$=this.m_vertices[$i$$],$vX$$=
$xf$$.position.x+($tMat$$.col1.x*$tVec$$11_vY$$.x+$tMat$$.col2.x*$tVec$$11_vY$$.y),$tVec$$11_vY$$=$xf$$.position.y+($tMat$$.col1.y*$tVec$$11_vY$$.x+$tMat$$.col2.y*$tVec$$11_vY$$.y),$lowerX$$=$lowerX$$<$vX$$?$lowerX$$:$vX$$,$lowerY$$=$lowerY$$<$tVec$$11_vY$$?$lowerY$$:$tVec$$11_vY$$,$upperX$$=$upperX$$>$vX$$?$upperX$$:$vX$$,$upperY$$=$upperY$$>$tVec$$11_vY$$?$upperY$$:$tVec$$11_vY$$;$aabb$$.lowerBound.x=$lowerX$$-this.m_radius;$aabb$$.lowerBound.y=$lowerY$$-this.m_radius;$aabb$$.upperBound.x=$upperX$$+
this.m_radius;$aabb$$.upperBound.y=$upperY$$+this.m_radius};$b2PolygonShape$$.prototype.ComputeMass=function $$b2PolygonShape$$$$ComputeMass$($massData$$,$density$$){void 0===$density$$&&($density$$=0);if(2==this.m_vertexCount)$massData$$.center.x=.5*(this.m_vertices[0].x+this.m_vertices[1].x),$massData$$.center.y=.5*(this.m_vertices[0].y+this.m_vertices[1].y),$massData$$.mass=0,$massData$$.I=0;else{for(var $centerX$$=0,$centerY$$=0,$area$$=0,$I$$=0,$k_inv3$$=1/3,$i$$=0;$i$$<this.m_vertexCount;++$i$$)var $ex1_p2$$=
this.m_vertices[$i$$],$p3$$=$i$$+1<this.m_vertexCount?this.m_vertices[parseInt($i$$+1)]:this.m_vertices[0],$e1X$$=$ex1_p2$$.x-0,$e1Y_ey1$$=$ex1_p2$$.y-0,$e2X_ex2$$=$p3$$.x-0,$e2Y_ey2$$=$p3$$.y-0,$D$$=$e1X$$*$e2Y_ey2$$-$e1Y_ey1$$*$e2X_ex2$$,$triangleArea$$=.5*$D$$,$area$$=$area$$+$triangleArea$$,$centerX$$=$centerX$$+$triangleArea$$*$k_inv3$$*(0+$ex1_p2$$.x+$p3$$.x),$centerY$$=$centerY$$+$triangleArea$$*$k_inv3$$*(0+$ex1_p2$$.y+$p3$$.y),$ex1_p2$$=$e1X$$,$I$$=$I$$+$D$$*($k_inv3$$*(.25*($ex1_p2$$*$ex1_p2$$+
$e2X_ex2$$*$ex1_p2$$+$e2X_ex2$$*$e2X_ex2$$)+(0*$ex1_p2$$+0*$e2X_ex2$$))+0+($k_inv3$$*(.25*($e1Y_ey1$$*$e1Y_ey1$$+$e2Y_ey2$$*$e1Y_ey1$$+$e2Y_ey2$$*$e2Y_ey2$$)+(0*$e1Y_ey1$$+0*$e2Y_ey2$$))+0));$massData$$.mass=$density$$*$area$$;$massData$$.center.Set(1/$area$$*$centerX$$,1/$area$$*$centerY$$);$massData$$.I=$density$$*$I$$}};$b2PolygonShape$$.prototype.ComputeSubmergedArea=function $$b2PolygonShape$$$$ComputeSubmergedArea$($i$$575_intoIndex2_md_normal$$,$offset$$,$xf$$,$c$$){void 0===$offset$$&&($offset$$=
0);var $normalL_outoIndex2$$=$b2Math$$.MulTMV($xf$$.R,$i$$575_intoIndex2_md_normal$$),$center$$=$offset$$-$b2Math$$.Dot($i$$575_intoIndex2_md_normal$$,$xf$$.position),$area$$=new Vector_a2j_Number,$diveCount_p2$$=0,$intoIndex_intoVec$$=-1;$offset$$=-1;var $lastSubmerged_p3$$=!1;for($i$$575_intoIndex2_md_normal$$=$i$$575_intoIndex2_md_normal$$=0;$i$$575_intoIndex2_md_normal$$<this.m_vertexCount;++$i$$575_intoIndex2_md_normal$$){$area$$[$i$$575_intoIndex2_md_normal$$]=$b2Math$$.Dot($normalL_outoIndex2$$,
this.m_vertices[$i$$575_intoIndex2_md_normal$$])-$center$$;var $isSubmerged_triangleArea$$=$area$$[$i$$575_intoIndex2_md_normal$$]<-Number.MIN_VALUE;0<$i$$575_intoIndex2_md_normal$$&&($isSubmerged_triangleArea$$?$lastSubmerged_p3$$||($intoIndex_intoVec$$=$i$$575_intoIndex2_md_normal$$-1,$diveCount_p2$$++):$lastSubmerged_p3$$&&($offset$$=$i$$575_intoIndex2_md_normal$$-1,$diveCount_p2$$++));$lastSubmerged_p3$$=$isSubmerged_triangleArea$$}switch($diveCount_p2$$){case 0:return $lastSubmerged_p3$$?($i$$575_intoIndex2_md_normal$$=
new $b2MassData$$,this.ComputeMass($i$$575_intoIndex2_md_normal$$,1),$c$$.SetV($b2Math$$.MulX($xf$$,$i$$575_intoIndex2_md_normal$$.center)),$i$$575_intoIndex2_md_normal$$.mass):0;case 1:-1==$intoIndex_intoVec$$?$intoIndex_intoVec$$=this.m_vertexCount-1:$offset$$=this.m_vertexCount-1}$i$$575_intoIndex2_md_normal$$=parseInt(($intoIndex_intoVec$$+1)%this.m_vertexCount);$normalL_outoIndex2$$=parseInt(($offset$$+1)%this.m_vertexCount);$center$$=(0-$area$$[$intoIndex_intoVec$$])/($area$$[$i$$575_intoIndex2_md_normal$$]-
$area$$[$intoIndex_intoVec$$]);$area$$=(0-$area$$[$offset$$])/($area$$[$normalL_outoIndex2$$]-$area$$[$offset$$]);$intoIndex_intoVec$$=new $b2Vec2$$(this.m_vertices[$intoIndex_intoVec$$].x*(1-$center$$)+this.m_vertices[$i$$575_intoIndex2_md_normal$$].x*$center$$,this.m_vertices[$intoIndex_intoVec$$].y*(1-$center$$)+this.m_vertices[$i$$575_intoIndex2_md_normal$$].y*$center$$);$offset$$=new $b2Vec2$$(this.m_vertices[$offset$$].x*(1-$area$$)+this.m_vertices[$normalL_outoIndex2$$].x*$area$$,this.m_vertices[$offset$$].y*
(1-$area$$)+this.m_vertices[$normalL_outoIndex2$$].y*$area$$);$area$$=0;$center$$=new $b2Vec2$$;for($diveCount_p2$$=this.m_vertices[$i$$575_intoIndex2_md_normal$$];$i$$575_intoIndex2_md_normal$$!=$normalL_outoIndex2$$;)$i$$575_intoIndex2_md_normal$$=($i$$575_intoIndex2_md_normal$$+1)%this.m_vertexCount,$lastSubmerged_p3$$=$i$$575_intoIndex2_md_normal$$==$normalL_outoIndex2$$?$offset$$:this.m_vertices[$i$$575_intoIndex2_md_normal$$],$isSubmerged_triangleArea$$=.5*(($diveCount_p2$$.x-$intoIndex_intoVec$$.x)*
($lastSubmerged_p3$$.y-$intoIndex_intoVec$$.y)-($diveCount_p2$$.y-$intoIndex_intoVec$$.y)*($lastSubmerged_p3$$.x-$intoIndex_intoVec$$.x)),$area$$+=$isSubmerged_triangleArea$$,$center$$.x+=$isSubmerged_triangleArea$$*($intoIndex_intoVec$$.x+$diveCount_p2$$.x+$lastSubmerged_p3$$.x)/3,$center$$.y+=$isSubmerged_triangleArea$$*($intoIndex_intoVec$$.y+$diveCount_p2$$.y+$lastSubmerged_p3$$.y)/3,$diveCount_p2$$=$lastSubmerged_p3$$;$center$$.Multiply(1/$area$$);$c$$.SetV($b2Math$$.MulX($xf$$,$center$$));return $area$$};
$b2PolygonShape$$.prototype.GetVertexCount=function $$b2PolygonShape$$$$GetVertexCount$(){return this.m_vertexCount};$b2PolygonShape$$.prototype.GetVertices=function $$b2PolygonShape$$$$GetVertices$(){return this.m_vertices};$b2PolygonShape$$.prototype.GetNormals=function $$b2PolygonShape$$$$GetNormals$(){return this.m_normals};$b2PolygonShape$$.prototype.GetSupport=function $$b2PolygonShape$$$$GetSupport$($d$$){for(var $bestIndex$$=0,$bestValue$$=this.m_vertices[0].x*$d$$.x+this.m_vertices[0].y*
$d$$.y,$i$$=1;$i$$<this.m_vertexCount;++$i$$){var $value$$=this.m_vertices[$i$$].x*$d$$.x+this.m_vertices[$i$$].y*$d$$.y;$value$$>$bestValue$$&&($bestIndex$$=$i$$,$bestValue$$=$value$$)}return $bestIndex$$};$b2PolygonShape$$.prototype.GetSupportVertex=function $$b2PolygonShape$$$$GetSupportVertex$($d$$){for(var $bestIndex$$=0,$bestValue$$=this.m_vertices[0].x*$d$$.x+this.m_vertices[0].y*$d$$.y,$i$$=1;$i$$<this.m_vertexCount;++$i$$){var $value$$=this.m_vertices[$i$$].x*$d$$.x+this.m_vertices[$i$$].y*
$d$$.y;$value$$>$bestValue$$&&($bestIndex$$=$i$$,$bestValue$$=$value$$)}return this.m_vertices[$bestIndex$$]};$b2PolygonShape$$.prototype.Validate=function $$b2PolygonShape$$$$Validate$(){return!1};$b2PolygonShape$$.prototype.b2PolygonShape=function $$b2PolygonShape$$$$b2PolygonShape$(){this.__super.b2Shape.call(this);this.m_type=$b2Shape$$.e_polygonShape;this.m_centroid=new $b2Vec2$$;this.m_vertices=new Vector;this.m_normals=new Vector};$b2PolygonShape$$.prototype.Reserve=function $$b2PolygonShape$$$$Reserve$($count$$){void 0===
$count$$&&($count$$=0);for(var $i$$=parseInt(this.m_vertices.length);$i$$<$count$$;$i$$++)this.m_vertices[$i$$]=new $b2Vec2$$,this.m_normals[$i$$]=new $b2Vec2$$};$b2PolygonShape$$.ComputeCentroid=function $$b2PolygonShape$$$ComputeCentroid$($vs$$,$count$$){void 0===$count$$&&($count$$=0);for(var $c$$=new $b2Vec2$$,$area$$=0,$inv3$$=1/3,$i$$=0;$i$$<$count$$;++$i$$){var $p2$$=$vs$$[$i$$],$p3$$=$i$$+1<$count$$?$vs$$[parseInt($i$$+1)]:$vs$$[0],$triangleArea$$=.5*(($p2$$.x-0)*($p3$$.y-0)-($p2$$.y-0)*($p3$$.x-
0)),$area$$=$area$$+$triangleArea$$;$c$$.x+=$triangleArea$$*$inv3$$*(0+$p2$$.x+$p3$$.x);$c$$.y+=$triangleArea$$*$inv3$$*(0+$p2$$.y+$p3$$.y)}$c$$.x*=1/$area$$;$c$$.y*=1/$area$$;return $c$$};$b2PolygonShape$$.ComputeOBB=function $$b2PolygonShape$$$ComputeOBB$($obb$$,$minArea_vs$$,$count$$){void 0===$count$$&&($count$$=0);for(var $i$$=0,$p$$=new Vector($count$$+1),$i$$=0;$i$$<$count$$;++$i$$)$p$$[$i$$]=$minArea_vs$$[$i$$];$p$$[$count$$]=$p$$[0];$minArea_vs$$=Number.MAX_VALUE;for($i$$=1;$i$$<=$count$$;++$i$$){for(var $root$$=
$p$$[parseInt($i$$-1)],$centerX$$=$p$$[$i$$].x-$root$$.x,$centerY$$=$p$$[$i$$].y-$root$$.y,$length$$50_lowerX$$=Math.sqrt($centerX$$*$centerX$$+$centerY$$*$centerY$$),$centerX$$=$centerX$$/$length$$50_lowerX$$,$centerY$$=$centerY$$/$length$$50_lowerX$$,$tMat$$=-$centerY$$,$uyY$$=$centerX$$,$lowerY$$=$length$$50_lowerX$$=Number.MAX_VALUE,$upperX$$=-Number.MAX_VALUE,$upperY$$=-Number.MAX_VALUE,$area$$4_j$$=0;$area$$4_j$$<$count$$;++$area$$4_j$$){var $dX$$13_rY$$=$p$$[$area$$4_j$$].x-$root$$.x,$dY$$=
$p$$[$area$$4_j$$].y-$root$$.y,$rX$$=$centerX$$*$dX$$13_rY$$+$centerY$$*$dY$$,$dX$$13_rY$$=$tMat$$*$dX$$13_rY$$+$uyY$$*$dY$$;$rX$$<$length$$50_lowerX$$&&($length$$50_lowerX$$=$rX$$);$dX$$13_rY$$<$lowerY$$&&($lowerY$$=$dX$$13_rY$$);$rX$$>$upperX$$&&($upperX$$=$rX$$);$dX$$13_rY$$>$upperY$$&&($upperY$$=$dX$$13_rY$$)}$area$$4_j$$=($upperX$$-$length$$50_lowerX$$)*($upperY$$-$lowerY$$);$area$$4_j$$<.95*$minArea_vs$$&&($minArea_vs$$=$area$$4_j$$,$obb$$.R.col1.x=$centerX$$,$obb$$.R.col1.y=$centerY$$,$obb$$.R.col2.x=
$tMat$$,$obb$$.R.col2.y=$uyY$$,$centerX$$=.5*($length$$50_lowerX$$+$upperX$$),$centerY$$=.5*($lowerY$$+$upperY$$),$tMat$$=$obb$$.R,$obb$$.center.x=$root$$.x+($tMat$$.col1.x*$centerX$$+$tMat$$.col2.x*$centerY$$),$obb$$.center.y=$root$$.y+($tMat$$.col1.y*$centerX$$+$tMat$$.col2.y*$centerY$$),$obb$$.extents.x=.5*($upperX$$-$length$$50_lowerX$$),$obb$$.extents.y=.5*($upperY$$-$lowerY$$))}};Box2D.postDefs.push(function(){Box2D.Collision.Shapes.b2PolygonShape.s_mat=new $b2Mat22$$});$b2Shape$$.b2Shape=function $$b2Shape$$$b2Shape$(){};
$b2Shape$$.prototype.Copy=function $$b2Shape$$$$Copy$(){return null};$b2Shape$$.prototype.Set=function $$b2Shape$$$$Set$($other$$){this.m_radius=$other$$.m_radius};$b2Shape$$.prototype.GetType=function $$b2Shape$$$$GetType$(){return this.m_type};$b2Shape$$.prototype.TestPoint=function $$b2Shape$$$$TestPoint$($xf$$,$p$$){return!1};$b2Shape$$.prototype.RayCast=function $$b2Shape$$$$RayCast$($output$$,$input$$,$transform$$){return!1};$b2Shape$$.prototype.ComputeAABB=function $$b2Shape$$$$ComputeAABB$($aabb$$,
$xf$$){};$b2Shape$$.prototype.ComputeMass=function $$b2Shape$$$$ComputeMass$($massData$$,$density$$){};$b2Shape$$.prototype.ComputeSubmergedArea=function $$b2Shape$$$$ComputeSubmergedArea$($normal$$,$offset$$,$xf$$,$c$$){return 0};$b2Shape$$.TestOverlap=function $$b2Shape$$$TestOverlap$($shape1_simplexCache$$,$output$$,$shape2$$,$transform2$$){var $input$$=new $b2DistanceInput$$;$input$$.proxyA=new $b2DistanceProxy$$;$input$$.proxyA.Set($shape1_simplexCache$$);$input$$.proxyB=new $b2DistanceProxy$$;
$input$$.proxyB.Set($shape2$$);$input$$.transformA=$output$$;$input$$.transformB=$transform2$$;$input$$.useRadii=!0;$shape1_simplexCache$$=new $b2SimplexCache$$;$shape1_simplexCache$$.count=0;$output$$=new $b2DistanceOutput$$;$b2Distance$$.Distance($output$$,$shape1_simplexCache$$,$input$$);return $output$$.distance<10*Number.MIN_VALUE};$b2Shape$$.prototype.b2Shape=function $$b2Shape$$$$b2Shape$(){this.m_type=$b2Shape$$.e_unknownShape;this.m_radius=$b2Settings$$.b2_linearSlop};Box2D.postDefs.push(function(){Box2D.Collision.Shapes.b2Shape.e_unknownShape=
-1;Box2D.Collision.Shapes.b2Shape.e_circleShape=0;Box2D.Collision.Shapes.b2Shape.e_polygonShape=1;Box2D.Collision.Shapes.b2Shape.e_edgeShape=2;Box2D.Collision.Shapes.b2Shape.e_shapeTypeCount=3;Box2D.Collision.Shapes.b2Shape.e_hitCollide=1;Box2D.Collision.Shapes.b2Shape.e_missCollide=0;Box2D.Collision.Shapes.b2Shape.e_startsInsideCollide=-1})})();
(function(){var $b2Color$$=Box2D.Common.b2Color,$b2Settings$$=Box2D.Common.b2Settings,$b2Math$$=Box2D.Common.Math.b2Math;$b2Color$$.b2Color=function $$b2Color$$$b2Color$(){this._b=this._g=this._r=0};$b2Color$$.prototype.b2Color=function $$b2Color$$$$b2Color$($rr$$,$gg$$,$bb$$){void 0===$rr$$&&($rr$$=0);void 0===$gg$$&&($gg$$=0);void 0===$bb$$&&($bb$$=0);this._r=Box2D.parseUInt(255*$b2Math$$.Clamp($rr$$,0,1));this._g=Box2D.parseUInt(255*$b2Math$$.Clamp($gg$$,0,1));this._b=Box2D.parseUInt(255*$b2Math$$.Clamp($bb$$,
0,1))};$b2Color$$.prototype.Set=function $$b2Color$$$$Set$($rr$$,$gg$$,$bb$$){void 0===$rr$$&&($rr$$=0);void 0===$gg$$&&($gg$$=0);void 0===$bb$$&&($bb$$=0);this._r=Box2D.parseUInt(255*$b2Math$$.Clamp($rr$$,0,1));this._g=Box2D.parseUInt(255*$b2Math$$.Clamp($gg$$,0,1));this._b=Box2D.parseUInt(255*$b2Math$$.Clamp($bb$$,0,1))};Object.defineProperty($b2Color$$.prototype,"r",{enumerable:!1,configurable:!0,set:function($rr$$){void 0===$rr$$&&($rr$$=0);this._r=Box2D.parseUInt(255*$b2Math$$.Clamp($rr$$,0,
1))}});Object.defineProperty($b2Color$$.prototype,"g",{enumerable:!1,configurable:!0,set:function($gg$$){void 0===$gg$$&&($gg$$=0);this._g=Box2D.parseUInt(255*$b2Math$$.Clamp($gg$$,0,1))}});Object.defineProperty($b2Color$$.prototype,"b",{enumerable:!1,configurable:!0,set:function($bb$$){void 0===$bb$$&&($bb$$=0);this._b=Box2D.parseUInt(255*$b2Math$$.Clamp($bb$$,0,1))}});Object.defineProperty($b2Color$$.prototype,"color",{enumerable:!1,configurable:!0,get:function(){return this._r<<16|this._g<<8|this._b}});
$b2Settings$$.b2Settings=function $$b2Settings$$$b2Settings$(){};$b2Settings$$.b2MixFriction=function $$b2Settings$$$b2MixFriction$($friction1$$,$friction2$$){void 0===$friction1$$&&($friction1$$=0);void 0===$friction2$$&&($friction2$$=0);return Math.sqrt($friction1$$*$friction2$$)};$b2Settings$$.b2MixRestitution=function $$b2Settings$$$b2MixRestitution$($restitution1$$,$restitution2$$){void 0===$restitution1$$&&($restitution1$$=0);void 0===$restitution2$$&&($restitution2$$=0);return $restitution1$$>
$restitution2$$?$restitution1$$:$restitution2$$};$b2Settings$$.b2Assert=function $$b2Settings$$$b2Assert$($a$$){if(!$a$$)throw"Assertion Failed";};Box2D.postDefs.push(function(){Box2D.Common.b2Settings.VERSION="2.1alpha";Box2D.Common.b2Settings.USHRT_MAX=65535;Box2D.Common.b2Settings.b2_pi=Math.PI;Box2D.Common.b2Settings.b2_maxManifoldPoints=2;Box2D.Common.b2Settings.b2_aabbExtension=.1;Box2D.Common.b2Settings.b2_aabbMultiplier=2;Box2D.Common.b2Settings.b2_polygonRadius=2*$b2Settings$$.b2_linearSlop;
Box2D.Common.b2Settings.b2_linearSlop=.005;Box2D.Common.b2Settings.b2_angularSlop=2/180*$b2Settings$$.b2_pi;Box2D.Common.b2Settings.b2_toiSlop=8*$b2Settings$$.b2_linearSlop;Box2D.Common.b2Settings.b2_maxTOIContactsPerIsland=32;Box2D.Common.b2Settings.b2_maxTOIJointsPerIsland=32;Box2D.Common.b2Settings.b2_velocityThreshold=1;Box2D.Common.b2Settings.b2_maxLinearCorrection=.2;Box2D.Common.b2Settings.b2_maxAngularCorrection=8/180*$b2Settings$$.b2_pi;Box2D.Common.b2Settings.b2_maxTranslation=2;Box2D.Common.b2Settings.b2_maxTranslationSquared=
$b2Settings$$.b2_maxTranslation*$b2Settings$$.b2_maxTranslation;Box2D.Common.b2Settings.b2_maxRotation=.5*$b2Settings$$.b2_pi;Box2D.Common.b2Settings.b2_maxRotationSquared=$b2Settings$$.b2_maxRotation*$b2Settings$$.b2_maxRotation;Box2D.Common.b2Settings.b2_contactBaumgarte=.2;Box2D.Common.b2Settings.b2_timeToSleep=.5;Box2D.Common.b2Settings.b2_linearSleepTolerance=.01;Box2D.Common.b2Settings.b2_angularSleepTolerance=2/180*$b2Settings$$.b2_pi})})();
(function(){var $b2Mat22$$=Box2D.Common.Math.b2Mat22,$b2Mat33$$=Box2D.Common.Math.b2Mat33,$b2Math$$=Box2D.Common.Math.b2Math,$b2Sweep$$=Box2D.Common.Math.b2Sweep,$b2Transform$$=Box2D.Common.Math.b2Transform,$b2Vec2$$=Box2D.Common.Math.b2Vec2,$b2Vec3$$=Box2D.Common.Math.b2Vec3;$b2Mat22$$.b2Mat22=function $$b2Mat22$$$b2Mat22$(){this.col1=new $b2Vec2$$;this.col2=new $b2Vec2$$};$b2Mat22$$.prototype.b2Mat22=function $$b2Mat22$$$$b2Mat22$(){this.SetIdentity()};$b2Mat22$$.FromAngle=function $$b2Mat22$$$FromAngle$($angle$$){void 0===
$angle$$&&($angle$$=0);var $mat$$=new $b2Mat22$$;$mat$$.Set($angle$$);return $mat$$};$b2Mat22$$.FromVV=function $$b2Mat22$$$FromVV$($c1$$,$c2$$){var $mat$$=new $b2Mat22$$;$mat$$.SetVV($c1$$,$c2$$);return $mat$$};$b2Mat22$$.prototype.Set=function $$b2Mat22$$$$Set$($angle$$31_s$$){void 0===$angle$$31_s$$&&($angle$$31_s$$=0);var $c$$=Math.cos($angle$$31_s$$);$angle$$31_s$$=Math.sin($angle$$31_s$$);this.col1.x=$c$$;this.col2.x=-$angle$$31_s$$;this.col1.y=$angle$$31_s$$;this.col2.y=$c$$};$b2Mat22$$.prototype.SetVV=
function $$b2Mat22$$$$SetVV$($c1$$,$c2$$){this.col1.SetV($c1$$);this.col2.SetV($c2$$)};$b2Mat22$$.prototype.Copy=function $$b2Mat22$$$$Copy$(){var $mat$$=new $b2Mat22$$;$mat$$.SetM(this);return $mat$$};$b2Mat22$$.prototype.SetM=function $$b2Mat22$$$$SetM$($m$$){this.col1.SetV($m$$.col1);this.col2.SetV($m$$.col2)};$b2Mat22$$.prototype.AddM=function $$b2Mat22$$$$AddM$($m$$){this.col1.x+=$m$$.col1.x;this.col1.y+=$m$$.col1.y;this.col2.x+=$m$$.col2.x;this.col2.y+=$m$$.col2.y};$b2Mat22$$.prototype.SetIdentity=
function $$b2Mat22$$$$SetIdentity$(){this.col1.x=1;this.col2.x=0;this.col1.y=0;this.col2.y=1};$b2Mat22$$.prototype.SetZero=function $$b2Mat22$$$$SetZero$(){this.col1.x=0;this.col2.x=0;this.col1.y=0;this.col2.y=0};$b2Mat22$$.prototype.GetAngle=function $$b2Mat22$$$$GetAngle$(){return Math.atan2(this.col1.y,this.col1.x)};$b2Mat22$$.prototype.GetInverse=function $$b2Mat22$$$$GetInverse$($out$$){var $a$$=this.col1.x,$b$$=this.col2.x,$c$$=this.col1.y,$d$$=this.col2.y,$det$$=$a$$*$d$$-$b$$*$c$$;0!=$det$$&&
($det$$=1/$det$$);$out$$.col1.x=$det$$*$d$$;$out$$.col2.x=-$det$$*$b$$;$out$$.col1.y=-$det$$*$c$$;$out$$.col2.y=$det$$*$a$$;return $out$$};$b2Mat22$$.prototype.Solve=function $$b2Mat22$$$$Solve$($out$$,$bX$$,$bY$$){void 0===$bX$$&&($bX$$=0);void 0===$bY$$&&($bY$$=0);var $a11$$=this.col1.x,$a12$$=this.col2.x,$a21$$=this.col1.y,$a22$$=this.col2.y,$det$$=$a11$$*$a22$$-$a12$$*$a21$$;0!=$det$$&&($det$$=1/$det$$);$out$$.x=$det$$*($a22$$*$bX$$-$a12$$*$bY$$);$out$$.y=$det$$*($a11$$*$bY$$-$a21$$*$bX$$);return $out$$};
$b2Mat22$$.prototype.Abs=function $$b2Mat22$$$$Abs$(){this.col1.Abs();this.col2.Abs()};$b2Mat33$$.b2Mat33=function $$b2Mat33$$$b2Mat33$(){this.col1=new $b2Vec3$$;this.col2=new $b2Vec3$$;this.col3=new $b2Vec3$$};$b2Mat33$$.prototype.b2Mat33=function $$b2Mat33$$$$b2Mat33$($c1$$,$c2$$,$c3$$){void 0===$c1$$&&($c1$$=null);void 0===$c2$$&&($c2$$=null);void 0===$c3$$&&($c3$$=null);$c1$$||$c2$$||$c3$$?(this.col1.SetV($c1$$),this.col2.SetV($c2$$),this.col3.SetV($c3$$)):(this.col1.SetZero(),this.col2.SetZero(),
this.col3.SetZero())};$b2Mat33$$.prototype.SetVVV=function $$b2Mat33$$$$SetVVV$($c1$$,$c2$$,$c3$$){this.col1.SetV($c1$$);this.col2.SetV($c2$$);this.col3.SetV($c3$$)};$b2Mat33$$.prototype.Copy=function $$b2Mat33$$$$Copy$(){return new $b2Mat33$$(this.col1,this.col2,this.col3)};$b2Mat33$$.prototype.SetM=function $$b2Mat33$$$$SetM$($m$$){this.col1.SetV($m$$.col1);this.col2.SetV($m$$.col2);this.col3.SetV($m$$.col3)};$b2Mat33$$.prototype.AddM=function $$b2Mat33$$$$AddM$($m$$){this.col1.x+=$m$$.col1.x;this.col1.y+=
$m$$.col1.y;this.col1.z+=$m$$.col1.z;this.col2.x+=$m$$.col2.x;this.col2.y+=$m$$.col2.y;this.col2.z+=$m$$.col2.z;this.col3.x+=$m$$.col3.x;this.col3.y+=$m$$.col3.y;this.col3.z+=$m$$.col3.z};$b2Mat33$$.prototype.SetIdentity=function $$b2Mat33$$$$SetIdentity$(){this.col1.x=1;this.col2.x=0;this.col3.x=0;this.col1.y=0;this.col2.y=1;this.col3.y=0;this.col1.z=0;this.col2.z=0;this.col3.z=1};$b2Mat33$$.prototype.SetZero=function $$b2Mat33$$$$SetZero$(){this.col1.x=0;this.col2.x=0;this.col3.x=0;this.col1.y=
0;this.col2.y=0;this.col3.y=0;this.col1.z=0;this.col2.z=0;this.col3.z=0};$b2Mat33$$.prototype.Solve22=function $$b2Mat33$$$$Solve22$($out$$,$bX$$,$bY$$){void 0===$bX$$&&($bX$$=0);void 0===$bY$$&&($bY$$=0);var $a11$$=this.col1.x,$a12$$=this.col2.x,$a21$$=this.col1.y,$a22$$=this.col2.y,$det$$=$a11$$*$a22$$-$a12$$*$a21$$;0!=$det$$&&($det$$=1/$det$$);$out$$.x=$det$$*($a22$$*$bX$$-$a12$$*$bY$$);$out$$.y=$det$$*($a11$$*$bY$$-$a21$$*$bX$$);return $out$$};$b2Mat33$$.prototype.Solve33=function $$b2Mat33$$$$Solve33$($out$$,
$bX$$,$bY$$,$bZ$$){void 0===$bX$$&&($bX$$=0);void 0===$bY$$&&($bY$$=0);void 0===$bZ$$&&($bZ$$=0);var $a11$$=this.col1.x,$a21$$=this.col1.y,$a31$$=this.col1.z,$a12$$=this.col2.x,$a22$$=this.col2.y,$a32$$=this.col2.z,$a13$$=this.col3.x,$a23$$=this.col3.y,$a33$$=this.col3.z,$det$$=$a11$$*($a22$$*$a33$$-$a32$$*$a23$$)+$a21$$*($a32$$*$a13$$-$a12$$*$a33$$)+$a31$$*($a12$$*$a23$$-$a22$$*$a13$$);0!=$det$$&&($det$$=1/$det$$);$out$$.x=$det$$*($bX$$*($a22$$*$a33$$-$a32$$*$a23$$)+$bY$$*($a32$$*$a13$$-$a12$$*$a33$$)+
$bZ$$*($a12$$*$a23$$-$a22$$*$a13$$));$out$$.y=$det$$*($a11$$*($bY$$*$a33$$-$bZ$$*$a23$$)+$a21$$*($bZ$$*$a13$$-$bX$$*$a33$$)+$a31$$*($bX$$*$a23$$-$bY$$*$a13$$));$out$$.z=$det$$*($a11$$*($a22$$*$bZ$$-$a32$$*$bY$$)+$a21$$*($a32$$*$bX$$-$a12$$*$bZ$$)+$a31$$*($a12$$*$bY$$-$a22$$*$bX$$));return $out$$};$b2Math$$.b2Math=function $$b2Math$$$b2Math$(){};$b2Math$$.IsValid=function $$b2Math$$$IsValid$($x$$){void 0===$x$$&&($x$$=0);return isFinite($x$$)};$b2Math$$.Dot=function $$b2Math$$$Dot$($a$$,$b$$){return $a$$.x*
$b$$.x+$a$$.y*$b$$.y};$b2Math$$.CrossVV=function $$b2Math$$$CrossVV$($a$$,$b$$){return $a$$.x*$b$$.y-$a$$.y*$b$$.x};$b2Math$$.CrossVF=function $$b2Math$$$CrossVF$($a$$,$s$$){void 0===$s$$&&($s$$=0);return new $b2Vec2$$($s$$*$a$$.y,-$s$$*$a$$.x)};$b2Math$$.CrossFV=function $$b2Math$$$CrossFV$($s$$,$a$$){void 0===$s$$&&($s$$=0);return new $b2Vec2$$(-$s$$*$a$$.y,$s$$*$a$$.x)};$b2Math$$.MulMV=function $$b2Math$$$MulMV$($A$$,$v$$){return new $b2Vec2$$($A$$.col1.x*$v$$.x+$A$$.col2.x*$v$$.y,$A$$.col1.y*
$v$$.x+$A$$.col2.y*$v$$.y)};$b2Math$$.MulTMV=function $$b2Math$$$MulTMV$($A$$,$v$$){return new $b2Vec2$$($b2Math$$.Dot($v$$,$A$$.col1),$b2Math$$.Dot($v$$,$A$$.col2))};$b2Math$$.MulX=function $$b2Math$$$MulX$($T$$,$v$$){var $a$$=$b2Math$$.MulMV($T$$.R,$v$$);$a$$.x+=$T$$.position.x;$a$$.y+=$T$$.position.y;return $a$$};$b2Math$$.MulXT=function $$b2Math$$$MulXT$($T$$,$v$$){var $a$$=$b2Math$$.SubtractVV($v$$,$T$$.position),$tX$$=$a$$.x*$T$$.R.col1.x+$a$$.y*$T$$.R.col1.y;$a$$.y=$a$$.x*$T$$.R.col2.x+$a$$.y*
$T$$.R.col2.y;$a$$.x=$tX$$;return $a$$};$b2Math$$.AddVV=function $$b2Math$$$AddVV$($a$$,$b$$){return new $b2Vec2$$($a$$.x+$b$$.x,$a$$.y+$b$$.y)};$b2Math$$.SubtractVV=function $$b2Math$$$SubtractVV$($a$$,$b$$){return new $b2Vec2$$($a$$.x-$b$$.x,$a$$.y-$b$$.y)};$b2Math$$.Distance=function $$b2Math$$$Distance$($a$$,$b$$){var $cX$$=$a$$.x-$b$$.x,$cY$$=$a$$.y-$b$$.y;return Math.sqrt($cX$$*$cX$$+$cY$$*$cY$$)};$b2Math$$.DistanceSquared=function $$b2Math$$$DistanceSquared$($a$$,$b$$){var $cX$$=$a$$.x-$b$$.x,
$cY$$=$a$$.y-$b$$.y;return $cX$$*$cX$$+$cY$$*$cY$$};$b2Math$$.MulFV=function $$b2Math$$$MulFV$($s$$,$a$$){void 0===$s$$&&($s$$=0);return new $b2Vec2$$($s$$*$a$$.x,$s$$*$a$$.y)};$b2Math$$.AddMM=function $$b2Math$$$AddMM$($A$$,$B$$){return $b2Mat22$$.FromVV($b2Math$$.AddVV($A$$.col1,$B$$.col1),$b2Math$$.AddVV($A$$.col2,$B$$.col2))};$b2Math$$.MulMM=function $$b2Math$$$MulMM$($A$$,$B$$){return $b2Mat22$$.FromVV($b2Math$$.MulMV($A$$,$B$$.col1),$b2Math$$.MulMV($A$$,$B$$.col2))};$b2Math$$.MulTMM=function $$b2Math$$$MulTMM$($A$$,
$B$$){var $c1$$=new $b2Vec2$$($b2Math$$.Dot($A$$.col1,$B$$.col1),$b2Math$$.Dot($A$$.col2,$B$$.col1)),$c2$$=new $b2Vec2$$($b2Math$$.Dot($A$$.col1,$B$$.col2),$b2Math$$.Dot($A$$.col2,$B$$.col2));return $b2Mat22$$.FromVV($c1$$,$c2$$)};$b2Math$$.Abs=function $$b2Math$$$Abs$($a$$){void 0===$a$$&&($a$$=0);return 0<$a$$?$a$$:-$a$$};$b2Math$$.AbsV=function $$b2Math$$$AbsV$($a$$){return new $b2Vec2$$($b2Math$$.Abs($a$$.x),$b2Math$$.Abs($a$$.y))};$b2Math$$.AbsM=function $$b2Math$$$AbsM$($A$$){return $b2Mat22$$.FromVV($b2Math$$.AbsV($A$$.col1),
$b2Math$$.AbsV($A$$.col2))};$b2Math$$.Min=function $$b2Math$$$Min$($a$$,$b$$){void 0===$a$$&&($a$$=0);void 0===$b$$&&($b$$=0);return $a$$<$b$$?$a$$:$b$$};$b2Math$$.MinV=function $$b2Math$$$MinV$($a$$,$b$$){return new $b2Vec2$$($b2Math$$.Min($a$$.x,$b$$.x),$b2Math$$.Min($a$$.y,$b$$.y))};$b2Math$$.Max=function $$b2Math$$$Max$($a$$,$b$$){void 0===$a$$&&($a$$=0);void 0===$b$$&&($b$$=0);return $a$$>$b$$?$a$$:$b$$};$b2Math$$.MaxV=function $$b2Math$$$MaxV$($a$$,$b$$){return new $b2Vec2$$($b2Math$$.Max($a$$.x,
$b$$.x),$b2Math$$.Max($a$$.y,$b$$.y))};$b2Math$$.Clamp=function $$b2Math$$$Clamp$($a$$,$low$$,$high$$){void 0===$a$$&&($a$$=0);void 0===$low$$&&($low$$=0);void 0===$high$$&&($high$$=0);return $a$$<$low$$?$low$$:$a$$>$high$$?$high$$:$a$$};$b2Math$$.ClampV=function $$b2Math$$$ClampV$($a$$,$low$$,$high$$){return $b2Math$$.MaxV($low$$,$b2Math$$.MinV($a$$,$high$$))};$b2Math$$.Swap=function $$b2Math$$$Swap$($a$$,$b$$){var $tmp$$=$a$$[0];$a$$[0]=$b$$[0];$b$$[0]=$tmp$$};$b2Math$$.Random=function $$b2Math$$$Random$(){return 2*
Math.random()-1};$b2Math$$.RandomRange=function $$b2Math$$$RandomRange$($lo$$,$hi$$){void 0===$lo$$&&($lo$$=0);void 0===$hi$$&&($hi$$=0);var $r$$=Math.random();return($hi$$-$lo$$)*$r$$+$lo$$};$b2Math$$.NextPowerOfTwo=function $$b2Math$$$NextPowerOfTwo$($x$$){void 0===$x$$&&($x$$=0);$x$$|=$x$$>>1&2147483647;$x$$|=$x$$>>2&1073741823;$x$$|=$x$$>>4&268435455;$x$$|=$x$$>>8&16777215;return($x$$|$x$$>>16&65535)+1};$b2Math$$.IsPowerOfTwo=function $$b2Math$$$IsPowerOfTwo$($x$$){void 0===$x$$&&($x$$=0);return 0<
$x$$&&0==($x$$&$x$$-1)};Box2D.postDefs.push(function(){Box2D.Common.Math.b2Math.b2Vec2_zero=new $b2Vec2$$(0,0);Box2D.Common.Math.b2Math.b2Mat22_identity=$b2Mat22$$.FromVV(new $b2Vec2$$(1,0),new $b2Vec2$$(0,1));Box2D.Common.Math.b2Math.b2Transform_identity=new $b2Transform$$($b2Math$$.b2Vec2_zero,$b2Math$$.b2Mat22_identity)});$b2Sweep$$.b2Sweep=function $$b2Sweep$$$b2Sweep$(){this.localCenter=new $b2Vec2$$;this.c0=new $b2Vec2$$;this.c=new $b2Vec2$$};$b2Sweep$$.prototype.Set=function $$b2Sweep$$$$Set$($other$$){this.localCenter.SetV($other$$.localCenter);
this.c0.SetV($other$$.c0);this.c.SetV($other$$.c);this.a0=$other$$.a0;this.a=$other$$.a;this.t0=$other$$.t0};$b2Sweep$$.prototype.Copy=function $$b2Sweep$$$$Copy$(){var $copy$$=new $b2Sweep$$;$copy$$.localCenter.SetV(this.localCenter);$copy$$.c0.SetV(this.c0);$copy$$.c.SetV(this.c);$copy$$.a0=this.a0;$copy$$.a=this.a;$copy$$.t0=this.t0;return $copy$$};$b2Sweep$$.prototype.GetTransform=function $$b2Sweep$$$$GetTransform$($xf$$,$alpha$$){void 0===$alpha$$&&($alpha$$=0);$xf$$.position.x=(1-$alpha$$)*
this.c0.x+$alpha$$*this.c.x;$xf$$.position.y=(1-$alpha$$)*this.c0.y+$alpha$$*this.c.y;$xf$$.R.Set((1-$alpha$$)*this.a0+$alpha$$*this.a);var $tMat$$=$xf$$.R;$xf$$.position.x-=$tMat$$.col1.x*this.localCenter.x+$tMat$$.col2.x*this.localCenter.y;$xf$$.position.y-=$tMat$$.col1.y*this.localCenter.x+$tMat$$.col2.y*this.localCenter.y};$b2Sweep$$.prototype.Advance=function $$b2Sweep$$$$Advance$($t$$){void 0===$t$$&&($t$$=0);if(this.t0<$t$$&&1-this.t0>Number.MIN_VALUE){var $alpha$$=($t$$-this.t0)/(1-this.t0);
this.c0.x=(1-$alpha$$)*this.c0.x+$alpha$$*this.c.x;this.c0.y=(1-$alpha$$)*this.c0.y+$alpha$$*this.c.y;this.a0=(1-$alpha$$)*this.a0+$alpha$$*this.a;this.t0=$t$$}};$b2Transform$$.b2Transform=function $$b2Transform$$$b2Transform$(){this.position=new $b2Vec2$$;this.R=new $b2Mat22$$};$b2Transform$$.prototype.b2Transform=function $$b2Transform$$$$b2Transform$($pos$$,$r$$){void 0===$pos$$&&($pos$$=null);void 0===$r$$&&($r$$=null);$pos$$&&(this.position.SetV($pos$$),this.R.SetM($r$$))};$b2Transform$$.prototype.Initialize=
function $$b2Transform$$$$Initialize$($pos$$,$r$$){this.position.SetV($pos$$);this.R.SetM($r$$)};$b2Transform$$.prototype.SetIdentity=function $$b2Transform$$$$SetIdentity$(){this.position.SetZero();this.R.SetIdentity()};$b2Transform$$.prototype.Set=function $$b2Transform$$$$Set$($x$$){this.position.SetV($x$$.position);this.R.SetM($x$$.R)};$b2Transform$$.prototype.GetAngle=function $$b2Transform$$$$GetAngle$(){return Math.atan2(this.R.col1.y,this.R.col1.x)};$b2Vec2$$.b2Vec2=function $$b2Vec2$$$b2Vec2$(){};
$b2Vec2$$.prototype.b2Vec2=function $$b2Vec2$$$$b2Vec2$($x_$$,$y_$$){void 0===$x_$$&&($x_$$=0);void 0===$y_$$&&($y_$$=0);this.x=$x_$$;this.y=$y_$$};$b2Vec2$$.prototype.SetZero=function $$b2Vec2$$$$SetZero$(){this.y=this.x=0};$b2Vec2$$.prototype.Set=function $$b2Vec2$$$$Set$($x_$$,$y_$$){void 0===$x_$$&&($x_$$=0);void 0===$y_$$&&($y_$$=0);this.x=$x_$$;this.y=$y_$$};$b2Vec2$$.prototype.SetV=function $$b2Vec2$$$$SetV$($v$$){this.x=$v$$.x;this.y=$v$$.y};$b2Vec2$$.prototype.GetNegative=function $$b2Vec2$$$$GetNegative$(){return new $b2Vec2$$(-this.x,
-this.y)};$b2Vec2$$.prototype.NegativeSelf=function $$b2Vec2$$$$NegativeSelf$(){this.x=-this.x;this.y=-this.y};$b2Vec2$$.Make=function $$b2Vec2$$$Make$($x_$$,$y_$$){void 0===$x_$$&&($x_$$=0);void 0===$y_$$&&($y_$$=0);return new $b2Vec2$$($x_$$,$y_$$)};$b2Vec2$$.prototype.Copy=function $$b2Vec2$$$$Copy$(){return new $b2Vec2$$(this.x,this.y)};$b2Vec2$$.prototype.Add=function $$b2Vec2$$$$Add$($v$$){this.x+=$v$$.x;this.y+=$v$$.y};$b2Vec2$$.prototype.Subtract=function $$b2Vec2$$$$Subtract$($v$$){this.x-=
$v$$.x;this.y-=$v$$.y};$b2Vec2$$.prototype.Multiply=function $$b2Vec2$$$$Multiply$($a$$){void 0===$a$$&&($a$$=0);this.x*=$a$$;this.y*=$a$$};$b2Vec2$$.prototype.MulM=function $$b2Vec2$$$$MulM$($A$$){var $tX$$=this.x;this.x=$A$$.col1.x*$tX$$+$A$$.col2.x*this.y;this.y=$A$$.col1.y*$tX$$+$A$$.col2.y*this.y};$b2Vec2$$.prototype.MulTM=function $$b2Vec2$$$$MulTM$($A$$){var $tX$$=$b2Math$$.Dot(this,$A$$.col1);this.y=$b2Math$$.Dot(this,$A$$.col2);this.x=$tX$$};$b2Vec2$$.prototype.CrossVF=function $$b2Vec2$$$$CrossVF$($s$$){void 0===
$s$$&&($s$$=0);var $tX$$=this.x;this.x=$s$$*this.y;this.y=-$s$$*$tX$$};$b2Vec2$$.prototype.CrossFV=function $$b2Vec2$$$$CrossFV$($s$$){void 0===$s$$&&($s$$=0);var $tX$$=this.x;this.x=-$s$$*this.y;this.y=$s$$*$tX$$};$b2Vec2$$.prototype.MinV=function $$b2Vec2$$$$MinV$($b$$){this.x=this.x<$b$$.x?this.x:$b$$.x;this.y=this.y<$b$$.y?this.y:$b$$.y};$b2Vec2$$.prototype.MaxV=function $$b2Vec2$$$$MaxV$($b$$){this.x=this.x>$b$$.x?this.x:$b$$.x;this.y=this.y>$b$$.y?this.y:$b$$.y};$b2Vec2$$.prototype.Abs=function $$b2Vec2$$$$Abs$(){0>
this.x&&(this.x=-this.x);0>this.y&&(this.y=-this.y)};$b2Vec2$$.prototype.Length=function $$b2Vec2$$$$Length$(){return Math.sqrt(this.x*this.x+this.y*this.y)};$b2Vec2$$.prototype.LengthSquared=function $$b2Vec2$$$$LengthSquared$(){return this.x*this.x+this.y*this.y};$b2Vec2$$.prototype.Normalize=function $$b2Vec2$$$$Normalize$(){var $length$$=Math.sqrt(this.x*this.x+this.y*this.y);if($length$$<Number.MIN_VALUE)return 0;var $invLength$$=1/$length$$;this.x*=$invLength$$;this.y*=$invLength$$;return $length$$};
$b2Vec2$$.prototype.IsValid=function $$b2Vec2$$$$IsValid$(){return $b2Math$$.IsValid(this.x)&&$b2Math$$.IsValid(this.y)};$b2Vec3$$.b2Vec3=function $$b2Vec3$$$b2Vec3$(){};$b2Vec3$$.prototype.b2Vec3=function $$b2Vec3$$$$b2Vec3$($x$$,$y$$,$z$$){void 0===$x$$&&($x$$=0);void 0===$y$$&&($y$$=0);void 0===$z$$&&($z$$=0);this.x=$x$$;this.y=$y$$;this.z=$z$$};$b2Vec3$$.prototype.SetZero=function $$b2Vec3$$$$SetZero$(){this.x=this.y=this.z=0};$b2Vec3$$.prototype.Set=function $$b2Vec3$$$$Set$($x$$,$y$$,$z$$){void 0===
$x$$&&($x$$=0);void 0===$y$$&&($y$$=0);void 0===$z$$&&($z$$=0);this.x=$x$$;this.y=$y$$;this.z=$z$$};$b2Vec3$$.prototype.SetV=function $$b2Vec3$$$$SetV$($v$$){this.x=$v$$.x;this.y=$v$$.y;this.z=$v$$.z};$b2Vec3$$.prototype.GetNegative=function $$b2Vec3$$$$GetNegative$(){return new $b2Vec3$$(-this.x,-this.y,-this.z)};$b2Vec3$$.prototype.NegativeSelf=function $$b2Vec3$$$$NegativeSelf$(){this.x=-this.x;this.y=-this.y;this.z=-this.z};$b2Vec3$$.prototype.Copy=function $$b2Vec3$$$$Copy$(){return new $b2Vec3$$(this.x,
this.y,this.z)};$b2Vec3$$.prototype.Add=function $$b2Vec3$$$$Add$($v$$){this.x+=$v$$.x;this.y+=$v$$.y;this.z+=$v$$.z};$b2Vec3$$.prototype.Subtract=function $$b2Vec3$$$$Subtract$($v$$){this.x-=$v$$.x;this.y-=$v$$.y;this.z-=$v$$.z};$b2Vec3$$.prototype.Multiply=function $$b2Vec3$$$$Multiply$($a$$){void 0===$a$$&&($a$$=0);this.x*=$a$$;this.y*=$a$$;this.z*=$a$$}})();
(function(){var $b2Math$$=Box2D.Common.Math.b2Math,$b2Sweep$$=Box2D.Common.Math.b2Sweep,$b2Transform$$=Box2D.Common.Math.b2Transform,$b2Vec2$$=Box2D.Common.Math.b2Vec2,$b2Color$$=Box2D.Common.b2Color,$b2Settings$$=Box2D.Common.b2Settings,$b2AABB$$=Box2D.Collision.b2AABB,$b2ContactPoint$$=Box2D.Collision.b2ContactPoint,$b2DynamicTreeBroadPhase$$=Box2D.Collision.b2DynamicTreeBroadPhase,$b2RayCastInput$$=Box2D.Collision.b2RayCastInput,$b2RayCastOutput$$=Box2D.Collision.b2RayCastOutput,$b2CircleShape$$=
Box2D.Collision.Shapes.b2CircleShape,$b2EdgeShape$$=Box2D.Collision.Shapes.b2EdgeShape,$b2MassData$$=Box2D.Collision.Shapes.b2MassData,$b2PolygonShape$$=Box2D.Collision.Shapes.b2PolygonShape,$b2Shape$$=Box2D.Collision.Shapes.b2Shape,$b2Body$$=Box2D.Dynamics.b2Body,$b2BodyDef$$=Box2D.Dynamics.b2BodyDef,$b2ContactFilter$$=Box2D.Dynamics.b2ContactFilter,$b2ContactImpulse$$=Box2D.Dynamics.b2ContactImpulse,$b2ContactListener$$=Box2D.Dynamics.b2ContactListener,$b2ContactManager$$=Box2D.Dynamics.b2ContactManager,
$b2DebugDraw$$=Box2D.Dynamics.b2DebugDraw,$b2DestructionListener$$=Box2D.Dynamics.b2DestructionListener,$b2FilterData$$=Box2D.Dynamics.b2FilterData,$b2Fixture$$=Box2D.Dynamics.b2Fixture,$b2FixtureDef$$=Box2D.Dynamics.b2FixtureDef,$b2Island$$=Box2D.Dynamics.b2Island,$b2TimeStep$$=Box2D.Dynamics.b2TimeStep,$b2World$$=Box2D.Dynamics.b2World,$b2Contact$$=Box2D.Dynamics.Contacts.b2Contact,$b2ContactFactory$$=Box2D.Dynamics.Contacts.b2ContactFactory,$b2ContactSolver$$=Box2D.Dynamics.Contacts.b2ContactSolver,
$b2Joint$$=Box2D.Dynamics.Joints.b2Joint,$b2PulleyJoint$$=Box2D.Dynamics.Joints.b2PulleyJoint;$b2Body$$.b2Body=function $$b2Body$$$b2Body$(){this.m_xf=new $b2Transform$$;this.m_sweep=new $b2Sweep$$;this.m_linearVelocity=new $b2Vec2$$;this.m_force=new $b2Vec2$$};$b2Body$$.prototype.connectEdges=function $$b2Body$$$$connectEdges$($s1$$,$s2$$,$angle1_core$$){void 0===$angle1_core$$&&($angle1_core$$=0);var $angle2$$=Math.atan2($s2$$.GetDirectionVector().y,$s2$$.GetDirectionVector().x);$angle1_core$$=
Math.tan(.5*($angle2$$-$angle1_core$$));$angle1_core$$=$b2Math$$.MulFV($angle1_core$$,$s2$$.GetDirectionVector());$angle1_core$$=$b2Math$$.SubtractVV($angle1_core$$,$s2$$.GetNormalVector());$angle1_core$$=$b2Math$$.MulFV($b2Settings$$.b2_toiSlop,$angle1_core$$);$angle1_core$$=$b2Math$$.AddVV($angle1_core$$,$s2$$.GetVertex1());var $cornerDir$$=$b2Math$$.AddVV($s1$$.GetDirectionVector(),$s2$$.GetDirectionVector());$cornerDir$$.Normalize();var $convex$$=0<$b2Math$$.Dot($s1$$.GetDirectionVector(),$s2$$.GetNormalVector());
$s1$$.SetNextEdge($s2$$,$angle1_core$$,$cornerDir$$,$convex$$);$s2$$.SetPrevEdge($s1$$,$angle1_core$$,$cornerDir$$,$convex$$);return $angle2$$};$b2Body$$.prototype.CreateFixture=function $$b2Body$$$$CreateFixture$($def$$){if(1==this.m_world.IsLocked())return null;var $fixture$$=new $b2Fixture$$;$fixture$$.Create(this,this.m_xf,$def$$);this.m_flags&$b2Body$$.e_activeFlag&&$fixture$$.CreateProxy(this.m_world.m_contactManager.m_broadPhase,this.m_xf);$fixture$$.m_next=this.m_fixtureList;this.m_fixtureList=
$fixture$$;++this.m_fixtureCount;$fixture$$.m_body=this;0<$fixture$$.m_density&&this.ResetMassData();this.m_world.m_flags|=$b2World$$.e_newFixture;return $fixture$$};$b2Body$$.prototype.CreateFixture2=function $$b2Body$$$$CreateFixture2$($shape$$,$density$$){void 0===$density$$&&($density$$=0);var $def$$=new $b2FixtureDef$$;$def$$.shape=$shape$$;$def$$.density=$density$$;return this.CreateFixture($def$$)};$b2Body$$.prototype.DestroyFixture=function $$b2Body$$$$DestroyFixture$($fixture$$){if(1!=this.m_world.IsLocked()){for(var $edge$$4_node$$=
this.m_fixtureList,$c$$=null;null!=$edge$$4_node$$;){if($edge$$4_node$$==$fixture$$){$c$$?$c$$.m_next=$fixture$$.m_next:this.m_fixtureList=$fixture$$.m_next;break}$c$$=$edge$$4_node$$;$edge$$4_node$$=$edge$$4_node$$.m_next}for($edge$$4_node$$=this.m_contactList;$edge$$4_node$$;){var $c$$=$edge$$4_node$$.contact,$edge$$4_node$$=$edge$$4_node$$.next,$fixtureA$$=$c$$.GetFixtureA(),$fixtureB$$=$c$$.GetFixtureB();$fixture$$!=$fixtureA$$&&$fixture$$!=$fixtureB$$||this.m_world.m_contactManager.Destroy($c$$)}this.m_flags&
$b2Body$$.e_activeFlag&&$fixture$$.DestroyProxy(this.m_world.m_contactManager.m_broadPhase);$fixture$$.Destroy();$fixture$$.m_body=null;$fixture$$.m_next=null;--this.m_fixtureCount;this.ResetMassData()}};$b2Body$$.prototype.SetPositionAndAngle=function $$b2Body$$$$SetPositionAndAngle$($position$$,$angle$$){void 0===$angle$$&&($angle$$=0);var $f$$133_tMat$$;if(1!=this.m_world.IsLocked()){this.m_xf.R.Set($angle$$);this.m_xf.position.SetV($position$$);$f$$133_tMat$$=this.m_xf.R;var $broadPhase$$2_tVec$$=
this.m_sweep.localCenter;this.m_sweep.c.x=$f$$133_tMat$$.col1.x*$broadPhase$$2_tVec$$.x+$f$$133_tMat$$.col2.x*$broadPhase$$2_tVec$$.y;this.m_sweep.c.y=$f$$133_tMat$$.col1.y*$broadPhase$$2_tVec$$.x+$f$$133_tMat$$.col2.y*$broadPhase$$2_tVec$$.y;this.m_sweep.c.x+=this.m_xf.position.x;this.m_sweep.c.y+=this.m_xf.position.y;this.m_sweep.c0.SetV(this.m_sweep.c);this.m_sweep.a0=this.m_sweep.a=$angle$$;$broadPhase$$2_tVec$$=this.m_world.m_contactManager.m_broadPhase;for($f$$133_tMat$$=this.m_fixtureList;$f$$133_tMat$$;$f$$133_tMat$$=
$f$$133_tMat$$.m_next)$f$$133_tMat$$.Synchronize($broadPhase$$2_tVec$$,this.m_xf,this.m_xf);this.m_world.m_contactManager.FindNewContacts()}};$b2Body$$.prototype.SetTransform=function $$b2Body$$$$SetTransform$($xf$$){this.SetPositionAndAngle($xf$$.position,$xf$$.GetAngle())};$b2Body$$.prototype.GetTransform=function $$b2Body$$$$GetTransform$(){return this.m_xf};$b2Body$$.prototype.GetPosition=function $$b2Body$$$$GetPosition$(){return this.m_xf.position};$b2Body$$.prototype.SetPosition=function $$b2Body$$$$SetPosition$($position$$){this.SetPositionAndAngle($position$$,
this.GetAngle())};$b2Body$$.prototype.GetAngle=function $$b2Body$$$$GetAngle$(){return this.m_sweep.a};$b2Body$$.prototype.SetAngle=function $$b2Body$$$$SetAngle$($angle$$){void 0===$angle$$&&($angle$$=0);this.SetPositionAndAngle(this.GetPosition(),$angle$$)};$b2Body$$.prototype.GetWorldCenter=function $$b2Body$$$$GetWorldCenter$(){return this.m_sweep.c};$b2Body$$.prototype.GetLocalCenter=function $$b2Body$$$$GetLocalCenter$(){return this.m_sweep.localCenter};$b2Body$$.prototype.SetLinearVelocity=
function $$b2Body$$$$SetLinearVelocity$($v$$){this.m_type!=$b2Body$$.b2_staticBody&&this.m_linearVelocity.SetV($v$$)};$b2Body$$.prototype.GetLinearVelocity=function $$b2Body$$$$GetLinearVelocity$(){return this.m_linearVelocity};$b2Body$$.prototype.SetAngularVelocity=function $$b2Body$$$$SetAngularVelocity$($omega$$){void 0===$omega$$&&($omega$$=0);this.m_type!=$b2Body$$.b2_staticBody&&(this.m_angularVelocity=$omega$$)};$b2Body$$.prototype.GetAngularVelocity=function $$b2Body$$$$GetAngularVelocity$(){return this.m_angularVelocity};
$b2Body$$.prototype.GetDefinition=function $$b2Body$$$$GetDefinition$(){var $bd$$=new $b2BodyDef$$;$bd$$.type=this.GetType();$bd$$.allowSleep=(this.m_flags&$b2Body$$.e_allowSleepFlag)==$b2Body$$.e_allowSleepFlag;$bd$$.angle=this.GetAngle();$bd$$.angularDamping=this.m_angularDamping;$bd$$.angularVelocity=this.m_angularVelocity;$bd$$.fixedRotation=(this.m_flags&$b2Body$$.e_fixedRotationFlag)==$b2Body$$.e_fixedRotationFlag;$bd$$.bullet=(this.m_flags&$b2Body$$.e_bulletFlag)==$b2Body$$.e_bulletFlag;$bd$$.awake=
(this.m_flags&$b2Body$$.e_awakeFlag)==$b2Body$$.e_awakeFlag;$bd$$.linearDamping=this.m_linearDamping;$bd$$.linearVelocity.SetV(this.GetLinearVelocity());$bd$$.position=this.GetPosition();$bd$$.userData=this.GetUserData();return $bd$$};$b2Body$$.prototype.ApplyForce=function $$b2Body$$$$ApplyForce$($force$$,$point$$){this.m_type==$b2Body$$.b2_dynamicBody&&(0==this.IsAwake()&&this.SetAwake(!0),this.m_force.x+=$force$$.x,this.m_force.y+=$force$$.y,this.m_torque+=($point$$.x-this.m_sweep.c.x)*$force$$.y-
($point$$.y-this.m_sweep.c.y)*$force$$.x)};$b2Body$$.prototype.ApplyTorque=function $$b2Body$$$$ApplyTorque$($torque$$){void 0===$torque$$&&($torque$$=0);this.m_type==$b2Body$$.b2_dynamicBody&&(0==this.IsAwake()&&this.SetAwake(!0),this.m_torque+=$torque$$)};$b2Body$$.prototype.ApplyImpulse=function $$b2Body$$$$ApplyImpulse$($impulse$$,$point$$){this.m_type==$b2Body$$.b2_dynamicBody&&(0==this.IsAwake()&&this.SetAwake(!0),this.m_linearVelocity.x+=this.m_invMass*$impulse$$.x,this.m_linearVelocity.y+=
this.m_invMass*$impulse$$.y,this.m_angularVelocity+=this.m_invI*(($point$$.x-this.m_sweep.c.x)*$impulse$$.y-($point$$.y-this.m_sweep.c.y)*$impulse$$.x))};$b2Body$$.prototype.Split=function $$b2Body$$$$Split$($callback$$){for(var $linearVelocity_velocity2$$=this.GetLinearVelocity().Copy(),$angularVelocity$$=this.GetAngularVelocity(),$center$$=this.GetWorldCenter(),$body2$$=this.m_world.CreateBody(this.GetDefinition()),$center1_prev$$,$f$$=this.m_fixtureList;$f$$;)if($callback$$($f$$)){var $next$$=
$f$$.m_next;$center1_prev$$?$center1_prev$$.m_next=$next$$:this.m_fixtureList=$next$$;this.m_fixtureCount--;$f$$.m_next=$body2$$.m_fixtureList;$body2$$.m_fixtureList=$f$$;$body2$$.m_fixtureCount++;$f$$.m_body=$body2$$;$f$$=$next$$}else $center1_prev$$=$f$$,$f$$=$f$$.m_next;this.ResetMassData();$body2$$.ResetMassData();$center1_prev$$=this.GetWorldCenter();$callback$$=$body2$$.GetWorldCenter();$center1_prev$$=$b2Math$$.AddVV($linearVelocity_velocity2$$,$b2Math$$.CrossFV($angularVelocity$$,$b2Math$$.SubtractVV($center1_prev$$,
$center$$)));$linearVelocity_velocity2$$=$b2Math$$.AddVV($linearVelocity_velocity2$$,$b2Math$$.CrossFV($angularVelocity$$,$b2Math$$.SubtractVV($callback$$,$center$$)));this.SetLinearVelocity($center1_prev$$);$body2$$.SetLinearVelocity($linearVelocity_velocity2$$);this.SetAngularVelocity($angularVelocity$$);$body2$$.SetAngularVelocity($angularVelocity$$);this.SynchronizeFixtures();$body2$$.SynchronizeFixtures();return $body2$$};$b2Body$$.prototype.Merge=function $$b2Body$$$$Merge$($other$$){var $f$$;
for($f$$=$other$$.m_fixtureList;$f$$;){var $next$$=$f$$.m_next;$other$$.m_fixtureCount--;$f$$.m_next=this.m_fixtureList;this.m_fixtureList=$f$$;this.m_fixtureCount++;$f$$.m_body=$body2$$;$f$$=$next$$}$body1$$.m_fixtureCount=0;var $body1$$=this,$body2$$=$other$$;$body1$$.GetWorldCenter();$body2$$.GetWorldCenter();$body1$$.GetLinearVelocity().Copy();$body2$$.GetLinearVelocity().Copy();$body1$$.GetAngularVelocity();$body2$$.GetAngularVelocity();$body1$$.ResetMassData();this.SynchronizeFixtures()};$b2Body$$.prototype.GetMass=
function $$b2Body$$$$GetMass$(){return this.m_mass};$b2Body$$.prototype.GetInertia=function $$b2Body$$$$GetInertia$(){return this.m_I};$b2Body$$.prototype.GetMassData=function $$b2Body$$$$GetMassData$($data$$){$data$$.mass=this.m_mass;$data$$.I=this.m_I;$data$$.center.SetV(this.m_sweep.localCenter)};$b2Body$$.prototype.SetMassData=function $$b2Body$$$$SetMassData$($massData$$){$b2Settings$$.b2Assert(0==this.m_world.IsLocked());if(1!=this.m_world.IsLocked()&&this.m_type==$b2Body$$.b2_dynamicBody){this.m_invI=
this.m_I=this.m_invMass=0;this.m_mass=$massData$$.mass;0>=this.m_mass&&(this.m_mass=1);this.m_invMass=1/this.m_mass;0<$massData$$.I&&0==(this.m_flags&$b2Body$$.e_fixedRotationFlag)&&(this.m_I=$massData$$.I-this.m_mass*($massData$$.center.x*$massData$$.center.x+$massData$$.center.y*$massData$$.center.y),this.m_invI=1/this.m_I);var $oldCenter$$=this.m_sweep.c.Copy();this.m_sweep.localCenter.SetV($massData$$.center);this.m_sweep.c0.SetV($b2Math$$.MulX(this.m_xf,this.m_sweep.localCenter));this.m_sweep.c.SetV(this.m_sweep.c0);
this.m_linearVelocity.x+=this.m_angularVelocity*-(this.m_sweep.c.y-$oldCenter$$.y);this.m_linearVelocity.y+=this.m_angularVelocity*+(this.m_sweep.c.x-$oldCenter$$.x)}};$b2Body$$.prototype.ResetMassData=function $$b2Body$$$$ResetMassData$(){this.m_invI=this.m_I=this.m_invMass=this.m_mass=0;this.m_sweep.localCenter.SetZero();if(this.m_type!=$b2Body$$.b2_staticBody&&this.m_type!=$b2Body$$.b2_kinematicBody){for(var $center$$=$b2Vec2$$.Make(0,0),$f$$136_oldCenter$$=this.m_fixtureList;$f$$136_oldCenter$$;$f$$136_oldCenter$$=
$f$$136_oldCenter$$.m_next)if(0!=$f$$136_oldCenter$$.m_density){var $massData$$=$f$$136_oldCenter$$.GetMassData();this.m_mass+=$massData$$.mass;$center$$.x+=$massData$$.center.x*$massData$$.mass;$center$$.y+=$massData$$.center.y*$massData$$.mass;this.m_I+=$massData$$.I}0<this.m_mass?(this.m_invMass=1/this.m_mass,$center$$.x*=this.m_invMass,$center$$.y*=this.m_invMass):this.m_invMass=this.m_mass=1;0<this.m_I&&0==(this.m_flags&$b2Body$$.e_fixedRotationFlag)?(this.m_I-=this.m_mass*($center$$.x*$center$$.x+
$center$$.y*$center$$.y),this.m_I*=this.m_inertiaScale,$b2Settings$$.b2Assert(0<this.m_I),this.m_invI=1/this.m_I):this.m_invI=this.m_I=0;$f$$136_oldCenter$$=this.m_sweep.c.Copy();this.m_sweep.localCenter.SetV($center$$);this.m_sweep.c0.SetV($b2Math$$.MulX(this.m_xf,this.m_sweep.localCenter));this.m_sweep.c.SetV(this.m_sweep.c0);this.m_linearVelocity.x+=this.m_angularVelocity*-(this.m_sweep.c.y-$f$$136_oldCenter$$.y);this.m_linearVelocity.y+=this.m_angularVelocity*+(this.m_sweep.c.x-$f$$136_oldCenter$$.x)}};
$b2Body$$.prototype.GetWorldPoint=function $$b2Body$$$$GetWorldPoint$($localPoint_u$$){var $A$$=this.m_xf.R;$localPoint_u$$=new $b2Vec2$$($A$$.col1.x*$localPoint_u$$.x+$A$$.col2.x*$localPoint_u$$.y,$A$$.col1.y*$localPoint_u$$.x+$A$$.col2.y*$localPoint_u$$.y);$localPoint_u$$.x+=this.m_xf.position.x;$localPoint_u$$.y+=this.m_xf.position.y;return $localPoint_u$$};$b2Body$$.prototype.GetWorldVector=function $$b2Body$$$$GetWorldVector$($localVector$$){return $b2Math$$.MulMV(this.m_xf.R,$localVector$$)};
$b2Body$$.prototype.GetLocalPoint=function $$b2Body$$$$GetLocalPoint$($worldPoint$$){return $b2Math$$.MulXT(this.m_xf,$worldPoint$$)};$b2Body$$.prototype.GetLocalVector=function $$b2Body$$$$GetLocalVector$($worldVector$$){return $b2Math$$.MulTMV(this.m_xf.R,$worldVector$$)};$b2Body$$.prototype.GetLinearVelocityFromWorldPoint=function $$b2Body$$$$GetLinearVelocityFromWorldPoint$($worldPoint$$){return new $b2Vec2$$(this.m_linearVelocity.x-this.m_angularVelocity*($worldPoint$$.y-this.m_sweep.c.y),this.m_linearVelocity.y+
this.m_angularVelocity*($worldPoint$$.x-this.m_sweep.c.x))};$b2Body$$.prototype.GetLinearVelocityFromLocalPoint=function $$b2Body$$$$GetLinearVelocityFromLocalPoint$($localPoint$$1_worldPoint$$){var $A$$=this.m_xf.R;$localPoint$$1_worldPoint$$=new $b2Vec2$$($A$$.col1.x*$localPoint$$1_worldPoint$$.x+$A$$.col2.x*$localPoint$$1_worldPoint$$.y,$A$$.col1.y*$localPoint$$1_worldPoint$$.x+$A$$.col2.y*$localPoint$$1_worldPoint$$.y);$localPoint$$1_worldPoint$$.x+=this.m_xf.position.x;$localPoint$$1_worldPoint$$.y+=
this.m_xf.position.y;return new $b2Vec2$$(this.m_linearVelocity.x-this.m_angularVelocity*($localPoint$$1_worldPoint$$.y-this.m_sweep.c.y),this.m_linearVelocity.y+this.m_angularVelocity*($localPoint$$1_worldPoint$$.x-this.m_sweep.c.x))};$b2Body$$.prototype.GetLinearDamping=function $$b2Body$$$$GetLinearDamping$(){return this.m_linearDamping};$b2Body$$.prototype.SetLinearDamping=function $$b2Body$$$$SetLinearDamping$($linearDamping$$){void 0===$linearDamping$$&&($linearDamping$$=0);this.m_linearDamping=
$linearDamping$$};$b2Body$$.prototype.GetAngularDamping=function $$b2Body$$$$GetAngularDamping$(){return this.m_angularDamping};$b2Body$$.prototype.SetAngularDamping=function $$b2Body$$$$SetAngularDamping$($angularDamping$$){void 0===$angularDamping$$&&($angularDamping$$=0);this.m_angularDamping=$angularDamping$$};$b2Body$$.prototype.SetType=function $$b2Body$$$$SetType$($ce_type$$){void 0===$ce_type$$&&($ce_type$$=0);if(this.m_type!=$ce_type$$)for(this.m_type=$ce_type$$,this.ResetMassData(),this.m_type==
$b2Body$$.b2_staticBody&&(this.m_linearVelocity.SetZero(),this.m_angularVelocity=0),this.SetAwake(!0),this.m_force.SetZero(),this.m_torque=0,$ce_type$$=this.m_contactList;$ce_type$$;$ce_type$$=$ce_type$$.next)$ce_type$$.contact.FlagForFiltering()};$b2Body$$.prototype.GetType=function $$b2Body$$$$GetType$(){return this.m_type};$b2Body$$.prototype.SetBullet=function $$b2Body$$$$SetBullet$($flag$$){this.m_flags=$flag$$?this.m_flags|$b2Body$$.e_bulletFlag:this.m_flags&~$b2Body$$.e_bulletFlag};$b2Body$$.prototype.IsBullet=
function $$b2Body$$$$IsBullet$(){return(this.m_flags&$b2Body$$.e_bulletFlag)==$b2Body$$.e_bulletFlag};$b2Body$$.prototype.SetSleepingAllowed=function $$b2Body$$$$SetSleepingAllowed$($flag$$){$flag$$?this.m_flags|=$b2Body$$.e_allowSleepFlag:(this.m_flags&=~$b2Body$$.e_allowSleepFlag,this.SetAwake(!0))};$b2Body$$.prototype.SetAwake=function $$b2Body$$$$SetAwake$($flag$$){$flag$$?(this.m_flags|=$b2Body$$.e_awakeFlag,this.m_sleepTime=0):(this.m_flags&=~$b2Body$$.e_awakeFlag,this.m_sleepTime=0,this.m_linearVelocity.SetZero(),
this.m_angularVelocity=0,this.m_force.SetZero(),this.m_torque=0)};$b2Body$$.prototype.IsAwake=function $$b2Body$$$$IsAwake$(){return(this.m_flags&$b2Body$$.e_awakeFlag)==$b2Body$$.e_awakeFlag};$b2Body$$.prototype.SetFixedRotation=function $$b2Body$$$$SetFixedRotation$($fixed$$){this.m_flags=$fixed$$?this.m_flags|$b2Body$$.e_fixedRotationFlag:this.m_flags&~$b2Body$$.e_fixedRotationFlag;this.ResetMassData()};$b2Body$$.prototype.IsFixedRotation=function $$b2Body$$$$IsFixedRotation$(){return(this.m_flags&
$b2Body$$.e_fixedRotationFlag)==$b2Body$$.e_fixedRotationFlag};$b2Body$$.prototype.SetActive=function $$b2Body$$$$SetActive$($broadPhase$$3_ce$$1_flag$$){if($broadPhase$$3_ce$$1_flag$$!=this.IsActive()){var $ce0_f$$;if($broadPhase$$3_ce$$1_flag$$)for(this.m_flags|=$b2Body$$.e_activeFlag,$broadPhase$$3_ce$$1_flag$$=this.m_world.m_contactManager.m_broadPhase,$ce0_f$$=this.m_fixtureList;$ce0_f$$;$ce0_f$$=$ce0_f$$.m_next)$ce0_f$$.CreateProxy($broadPhase$$3_ce$$1_flag$$,this.m_xf);else{this.m_flags&=~$b2Body$$.e_activeFlag;
$broadPhase$$3_ce$$1_flag$$=this.m_world.m_contactManager.m_broadPhase;for($ce0_f$$=this.m_fixtureList;$ce0_f$$;$ce0_f$$=$ce0_f$$.m_next)$ce0_f$$.DestroyProxy($broadPhase$$3_ce$$1_flag$$);for($broadPhase$$3_ce$$1_flag$$=this.m_contactList;$broadPhase$$3_ce$$1_flag$$;)$ce0_f$$=$broadPhase$$3_ce$$1_flag$$,$broadPhase$$3_ce$$1_flag$$=$broadPhase$$3_ce$$1_flag$$.next,this.m_world.m_contactManager.Destroy($ce0_f$$.contact);this.m_contactList=null}}};$b2Body$$.prototype.IsActive=function $$b2Body$$$$IsActive$(){return(this.m_flags&
$b2Body$$.e_activeFlag)==$b2Body$$.e_activeFlag};$b2Body$$.prototype.IsSleepingAllowed=function $$b2Body$$$$IsSleepingAllowed$(){return(this.m_flags&$b2Body$$.e_allowSleepFlag)==$b2Body$$.e_allowSleepFlag};$b2Body$$.prototype.GetFixtureList=function $$b2Body$$$$GetFixtureList$(){return this.m_fixtureList};$b2Body$$.prototype.GetJointList=function $$b2Body$$$$GetJointList$(){return this.m_jointList};$b2Body$$.prototype.GetControllerList=function $$b2Body$$$$GetControllerList$(){return this.m_controllerList};
$b2Body$$.prototype.GetContactList=function $$b2Body$$$$GetContactList$(){return this.m_contactList};$b2Body$$.prototype.GetNext=function $$b2Body$$$$GetNext$(){return this.m_next};$b2Body$$.prototype.GetUserData=function $$b2Body$$$$GetUserData$(){return this.m_userData};$b2Body$$.prototype.SetUserData=function $$b2Body$$$$SetUserData$($data$$){this.m_userData=$data$$};$b2Body$$.prototype.GetWorld=function $$b2Body$$$$GetWorld$(){return this.m_world};$b2Body$$.prototype.b2Body=function $$b2Body$$$$b2Body$($bd$$,
$world$$){this.m_flags=0;$bd$$.bullet&&(this.m_flags|=$b2Body$$.e_bulletFlag);$bd$$.fixedRotation&&(this.m_flags|=$b2Body$$.e_fixedRotationFlag);$bd$$.allowSleep&&(this.m_flags|=$b2Body$$.e_allowSleepFlag);$bd$$.awake&&(this.m_flags|=$b2Body$$.e_awakeFlag);$bd$$.active&&(this.m_flags|=$b2Body$$.e_activeFlag);this.m_world=$world$$;this.m_xf.position.SetV($bd$$.position);this.m_xf.R.Set($bd$$.angle);this.m_sweep.localCenter.SetZero();this.m_sweep.t0=1;this.m_sweep.a0=this.m_sweep.a=$bd$$.angle;var $tMat$$=
this.m_xf.R,$tVec$$=this.m_sweep.localCenter;this.m_sweep.c.x=$tMat$$.col1.x*$tVec$$.x+$tMat$$.col2.x*$tVec$$.y;this.m_sweep.c.y=$tMat$$.col1.y*$tVec$$.x+$tMat$$.col2.y*$tVec$$.y;this.m_sweep.c.x+=this.m_xf.position.x;this.m_sweep.c.y+=this.m_xf.position.y;this.m_sweep.c0.SetV(this.m_sweep.c);this.m_contactList=this.m_controllerList=this.m_jointList=null;this.m_controllerCount=0;this.m_next=this.m_prev=null;this.m_linearVelocity.SetV($bd$$.linearVelocity);this.m_angularVelocity=$bd$$.angularVelocity;
this.m_linearDamping=$bd$$.linearDamping;this.m_angularDamping=$bd$$.angularDamping;this.m_force.Set(0,0);this.m_sleepTime=this.m_torque=0;this.m_type=$bd$$.type;this.m_invMass=this.m_type==$b2Body$$.b2_dynamicBody?this.m_mass=1:this.m_mass=0;this.m_invI=this.m_I=0;this.m_inertiaScale=$bd$$.inertiaScale;this.m_userData=$bd$$.userData;this.m_fixtureList=null;this.m_fixtureCount=0};$b2Body$$.prototype.SynchronizeFixtures=function $$b2Body$$$$SynchronizeFixtures$(){var $xf1$$=$b2Body$$.s_xf1;$xf1$$.R.Set(this.m_sweep.a0);
var $f$$138_tMat$$=$xf1$$.R,$broadPhase$$4_tVec$$=this.m_sweep.localCenter;$xf1$$.position.x=this.m_sweep.c0.x-($f$$138_tMat$$.col1.x*$broadPhase$$4_tVec$$.x+$f$$138_tMat$$.col2.x*$broadPhase$$4_tVec$$.y);$xf1$$.position.y=this.m_sweep.c0.y-($f$$138_tMat$$.col1.y*$broadPhase$$4_tVec$$.x+$f$$138_tMat$$.col2.y*$broadPhase$$4_tVec$$.y);$broadPhase$$4_tVec$$=this.m_world.m_contactManager.m_broadPhase;for($f$$138_tMat$$=this.m_fixtureList;$f$$138_tMat$$;$f$$138_tMat$$=$f$$138_tMat$$.m_next)$f$$138_tMat$$.Synchronize($broadPhase$$4_tVec$$,
$xf1$$,this.m_xf)};$b2Body$$.prototype.SynchronizeTransform=function $$b2Body$$$$SynchronizeTransform$(){this.m_xf.R.Set(this.m_sweep.a);var $tMat$$=this.m_xf.R,$tVec$$=this.m_sweep.localCenter;this.m_xf.position.x=this.m_sweep.c.x-($tMat$$.col1.x*$tVec$$.x+$tMat$$.col2.x*$tVec$$.y);this.m_xf.position.y=this.m_sweep.c.y-($tMat$$.col1.y*$tVec$$.x+$tMat$$.col2.y*$tVec$$.y)};$b2Body$$.prototype.ShouldCollide=function $$b2Body$$$$ShouldCollide$($other$$){if(this.m_type!=$b2Body$$.b2_dynamicBody&&$other$$.m_type!=
$b2Body$$.b2_dynamicBody)return!1;for(var $jn$$=this.m_jointList;$jn$$;$jn$$=$jn$$.next)if($jn$$.other==$other$$&&0==$jn$$.joint.m_collideConnected)return!1;return!0};$b2Body$$.prototype.Advance=function $$b2Body$$$$Advance$($t$$){void 0===$t$$&&($t$$=0);this.m_sweep.Advance($t$$);this.m_sweep.c.SetV(this.m_sweep.c0);this.m_sweep.a=this.m_sweep.a0;this.SynchronizeTransform()};Box2D.postDefs.push(function(){Box2D.Dynamics.b2Body.s_xf1=new $b2Transform$$;Box2D.Dynamics.b2Body.e_islandFlag=1;Box2D.Dynamics.b2Body.e_awakeFlag=
2;Box2D.Dynamics.b2Body.e_allowSleepFlag=4;Box2D.Dynamics.b2Body.e_bulletFlag=8;Box2D.Dynamics.b2Body.e_fixedRotationFlag=16;Box2D.Dynamics.b2Body.e_activeFlag=32;Box2D.Dynamics.b2Body.b2_staticBody=0;Box2D.Dynamics.b2Body.b2_kinematicBody=1;Box2D.Dynamics.b2Body.b2_dynamicBody=2});$b2BodyDef$$.b2BodyDef=function $$b2BodyDef$$$b2BodyDef$(){this.position=new $b2Vec2$$;this.linearVelocity=new $b2Vec2$$};$b2BodyDef$$.prototype.b2BodyDef=function $$b2BodyDef$$$$b2BodyDef$(){this.userData=null;this.position.Set(0,
0);this.angle=0;this.linearVelocity.Set(0,0);this.angularDamping=this.linearDamping=this.angularVelocity=0;this.awake=this.allowSleep=!0;this.bullet=this.fixedRotation=!1;this.type=$b2Body$$.b2_staticBody;this.active=!0;this.inertiaScale=1};$b2ContactFilter$$.b2ContactFilter=function $$b2ContactFilter$$$b2ContactFilter$(){};$b2ContactFilter$$.prototype.ShouldCollide=function $$b2ContactFilter$$$$ShouldCollide$($fixtureA$$,$fixtureB$$){var $filter1$$=$fixtureA$$.GetFilterData(),$filter2$$=$fixtureB$$.GetFilterData();
return $filter1$$.groupIndex==$filter2$$.groupIndex&&0!=$filter1$$.groupIndex?0<$filter1$$.groupIndex:0!=($filter1$$.maskBits&$filter2$$.categoryBits)&&0!=($filter1$$.categoryBits&$filter2$$.maskBits)};$b2ContactFilter$$.prototype.RayCollide=function $$b2ContactFilter$$$$RayCollide$($userData$$,$fixture$$){return $userData$$?this.ShouldCollide($userData$$ instanceof $b2Fixture$$?$userData$$:null,$fixture$$):!0};Box2D.postDefs.push(function(){Box2D.Dynamics.b2ContactFilter.b2_defaultFilter=new $b2ContactFilter$$});
$b2ContactImpulse$$.b2ContactImpulse=function $$b2ContactImpulse$$$b2ContactImpulse$(){this.normalImpulses=new Vector_a2j_Number($b2Settings$$.b2_maxManifoldPoints);this.tangentImpulses=new Vector_a2j_Number($b2Settings$$.b2_maxManifoldPoints)};$b2ContactListener$$.b2ContactListener=function $$b2ContactListener$$$b2ContactListener$(){};$b2ContactListener$$.prototype.BeginContact=function $$b2ContactListener$$$$BeginContact$($contact$$){};$b2ContactListener$$.prototype.EndContact=function $$b2ContactListener$$$$EndContact$($contact$$){};
$b2ContactListener$$.prototype.PreSolve=function $$b2ContactListener$$$$PreSolve$($contact$$,$oldManifold$$){};$b2ContactListener$$.prototype.PostSolve=function $$b2ContactListener$$$$PostSolve$($contact$$,$impulse$$){};Box2D.postDefs.push(function(){Box2D.Dynamics.b2ContactListener.b2_defaultListener=new $b2ContactListener$$});$b2ContactManager$$.b2ContactManager=function $$b2ContactManager$$$b2ContactManager$(){};$b2ContactManager$$.prototype.b2ContactManager=function $$b2ContactManager$$$$b2ContactManager$(){this.m_world=
null;this.m_contactCount=0;this.m_contactFilter=$b2ContactFilter$$.b2_defaultFilter;this.m_contactListener=$b2ContactListener$$.b2_defaultListener;this.m_contactFactory=new $b2ContactFactory$$(this.m_allocator);this.m_broadPhase=new $b2DynamicTreeBroadPhase$$};$b2ContactManager$$.prototype.AddPair=function $$b2ContactManager$$$$AddPair$($proxyUserDataA$$,$proxyUserDataB$$){var $fixtureA$$=$proxyUserDataA$$ instanceof $b2Fixture$$?$proxyUserDataA$$:null,$fixtureB$$=$proxyUserDataB$$ instanceof $b2Fixture$$?
$proxyUserDataB$$:null,$bodyA$$=$fixtureA$$.GetBody(),$bodyB$$=$fixtureB$$.GetBody();if($bodyA$$!=$bodyB$$){for(var $c$$304_edge$$=$bodyB$$.GetContactList();$c$$304_edge$$;){if($c$$304_edge$$.other==$bodyA$$){var $fA$$=$c$$304_edge$$.contact.GetFixtureA(),$fB$$=$c$$304_edge$$.contact.GetFixtureB();if($fA$$==$fixtureA$$&&$fB$$==$fixtureB$$||$fA$$==$fixtureB$$&&$fB$$==$fixtureA$$)return}$c$$304_edge$$=$c$$304_edge$$.next}0!=$bodyB$$.ShouldCollide($bodyA$$)&&0!=this.m_contactFilter.ShouldCollide($fixtureA$$,
$fixtureB$$)&&($c$$304_edge$$=this.m_contactFactory.Create($fixtureA$$,$fixtureB$$),$fixtureA$$=$c$$304_edge$$.GetFixtureA(),$fixtureB$$=$c$$304_edge$$.GetFixtureB(),$bodyA$$=$fixtureA$$.m_body,$bodyB$$=$fixtureB$$.m_body,$c$$304_edge$$.m_prev=null,$c$$304_edge$$.m_next=this.m_world.m_contactList,null!=this.m_world.m_contactList&&(this.m_world.m_contactList.m_prev=$c$$304_edge$$),this.m_world.m_contactList=$c$$304_edge$$,$c$$304_edge$$.m_nodeA.contact=$c$$304_edge$$,$c$$304_edge$$.m_nodeA.other=$bodyB$$,
$c$$304_edge$$.m_nodeA.prev=null,$c$$304_edge$$.m_nodeA.next=$bodyA$$.m_contactList,null!=$bodyA$$.m_contactList&&($bodyA$$.m_contactList.prev=$c$$304_edge$$.m_nodeA),$bodyA$$.m_contactList=$c$$304_edge$$.m_nodeA,$c$$304_edge$$.m_nodeB.contact=$c$$304_edge$$,$c$$304_edge$$.m_nodeB.other=$bodyA$$,$c$$304_edge$$.m_nodeB.prev=null,$c$$304_edge$$.m_nodeB.next=$bodyB$$.m_contactList,null!=$bodyB$$.m_contactList&&($bodyB$$.m_contactList.prev=$c$$304_edge$$.m_nodeB),$bodyB$$.m_contactList=$c$$304_edge$$.m_nodeB,
++this.m_world.m_contactCount)}};$b2ContactManager$$.prototype.FindNewContacts=function $$b2ContactManager$$$$FindNewContacts$(){this.m_broadPhase.UpdatePairs(Box2D.generateCallback(this,this.AddPair))};$b2ContactManager$$.prototype.Destroy=function $$b2ContactManager$$$$Destroy$($c$$){var $bodyA$$1_fixtureA$$=$c$$.GetFixtureA(),$bodyB$$1_fixtureB$$=$c$$.GetFixtureB(),$bodyA$$1_fixtureA$$=$bodyA$$1_fixtureA$$.GetBody(),$bodyB$$1_fixtureB$$=$bodyB$$1_fixtureB$$.GetBody();$c$$.IsTouching()&&this.m_contactListener.EndContact($c$$);
$c$$.m_prev&&($c$$.m_prev.m_next=$c$$.m_next);$c$$.m_next&&($c$$.m_next.m_prev=$c$$.m_prev);$c$$==this.m_world.m_contactList&&(this.m_world.m_contactList=$c$$.m_next);$c$$.m_nodeA.prev&&($c$$.m_nodeA.prev.next=$c$$.m_nodeA.next);$c$$.m_nodeA.next&&($c$$.m_nodeA.next.prev=$c$$.m_nodeA.prev);$c$$.m_nodeA==$bodyA$$1_fixtureA$$.m_contactList&&($bodyA$$1_fixtureA$$.m_contactList=$c$$.m_nodeA.next);$c$$.m_nodeB.prev&&($c$$.m_nodeB.prev.next=$c$$.m_nodeB.next);$c$$.m_nodeB.next&&($c$$.m_nodeB.next.prev=
$c$$.m_nodeB.prev);$c$$.m_nodeB==$bodyB$$1_fixtureB$$.m_contactList&&($bodyB$$1_fixtureB$$.m_contactList=$c$$.m_nodeB.next);this.m_contactFactory.Destroy($c$$);--this.m_contactCount};$b2ContactManager$$.prototype.Collide=function $$b2ContactManager$$$$Collide$(){for(var $c$$=this.m_world.m_contactList;$c$$;){var $cNuke_fixtureA$$=$c$$.GetFixtureA(),$fixtureB$$=$c$$.GetFixtureB(),$bodyA$$=$cNuke_fixtureA$$.GetBody(),$bodyB$$=$fixtureB$$.GetBody();if(0==$bodyA$$.IsAwake()&&0==$bodyB$$.IsAwake())$c$$=
$c$$.GetNext();else{if($c$$.m_flags&$b2Contact$$.e_filterFlag){if(0==$bodyB$$.ShouldCollide($bodyA$$)){$cNuke_fixtureA$$=$c$$;$c$$=$cNuke_fixtureA$$.GetNext();this.Destroy($cNuke_fixtureA$$);continue}if(0==this.m_contactFilter.ShouldCollide($cNuke_fixtureA$$,$fixtureB$$)){$cNuke_fixtureA$$=$c$$;$c$$=$cNuke_fixtureA$$.GetNext();this.Destroy($cNuke_fixtureA$$);continue}$c$$.m_flags&=~$b2Contact$$.e_filterFlag}0==this.m_broadPhase.TestOverlap($cNuke_fixtureA$$.m_proxy,$fixtureB$$.m_proxy)?($cNuke_fixtureA$$=
$c$$,$c$$=$cNuke_fixtureA$$.GetNext(),this.Destroy($cNuke_fixtureA$$)):($c$$.Update(this.m_contactListener),$c$$=$c$$.GetNext())}}};Box2D.postDefs.push(function(){Box2D.Dynamics.b2ContactManager.s_evalCP=new $b2ContactPoint$$});$b2DebugDraw$$.b2DebugDraw=function $$b2DebugDraw$$$b2DebugDraw$(){};$b2DebugDraw$$.prototype.b2DebugDraw=function $$b2DebugDraw$$$$b2DebugDraw$(){};$b2DebugDraw$$.prototype.SetFlags=function $$b2DebugDraw$$$$SetFlags$($flags$$){};$b2DebugDraw$$.prototype.GetFlags=function $$b2DebugDraw$$$$GetFlags$(){};
$b2DebugDraw$$.prototype.AppendFlags=function $$b2DebugDraw$$$$AppendFlags$($flags$$){};$b2DebugDraw$$.prototype.ClearFlags=function $$b2DebugDraw$$$$ClearFlags$($flags$$){};$b2DebugDraw$$.prototype.SetSprite=function $$b2DebugDraw$$$$SetSprite$($sprite$$){};$b2DebugDraw$$.prototype.GetSprite=function $$b2DebugDraw$$$$GetSprite$(){};$b2DebugDraw$$.prototype.SetDrawScale=function $$b2DebugDraw$$$$SetDrawScale$($drawScale$$){};$b2DebugDraw$$.prototype.GetDrawScale=function $$b2DebugDraw$$$$GetDrawScale$(){};
$b2DebugDraw$$.prototype.SetLineThickness=function $$b2DebugDraw$$$$SetLineThickness$($lineThickness$$){};$b2DebugDraw$$.prototype.GetLineThickness=function $$b2DebugDraw$$$$GetLineThickness$(){};$b2DebugDraw$$.prototype.SetAlpha=function $$b2DebugDraw$$$$SetAlpha$($alpha$$){};$b2DebugDraw$$.prototype.GetAlpha=function $$b2DebugDraw$$$$GetAlpha$(){};$b2DebugDraw$$.prototype.SetFillAlpha=function $$b2DebugDraw$$$$SetFillAlpha$($alpha$$){};$b2DebugDraw$$.prototype.GetFillAlpha=function $$b2DebugDraw$$$$GetFillAlpha$(){};
$b2DebugDraw$$.prototype.SetXFormScale=function $$b2DebugDraw$$$$SetXFormScale$($xformScale$$){};$b2DebugDraw$$.prototype.GetXFormScale=function $$b2DebugDraw$$$$GetXFormScale$(){};$b2DebugDraw$$.prototype.DrawPolygon=function $$b2DebugDraw$$$$DrawPolygon$($vertices$$,$vertexCount$$,$color$$){};$b2DebugDraw$$.prototype.DrawSolidPolygon=function $$b2DebugDraw$$$$DrawSolidPolygon$($vertices$$,$vertexCount$$,$color$$){};$b2DebugDraw$$.prototype.DrawCircle=function $$b2DebugDraw$$$$DrawCircle$($center$$,
$radius$$,$color$$){};$b2DebugDraw$$.prototype.DrawSolidCircle=function $$b2DebugDraw$$$$DrawSolidCircle$($center$$,$radius$$,$axis$$,$color$$){};$b2DebugDraw$$.prototype.DrawSegment=function $$b2DebugDraw$$$$DrawSegment$($p1$$,$p2$$,$color$$){};$b2DebugDraw$$.prototype.DrawTransform=function $$b2DebugDraw$$$$DrawTransform$($xf$$){};Box2D.postDefs.push(function(){Box2D.Dynamics.b2DebugDraw.e_shapeBit=1;Box2D.Dynamics.b2DebugDraw.e_jointBit=2;Box2D.Dynamics.b2DebugDraw.e_aabbBit=4;Box2D.Dynamics.b2DebugDraw.e_pairBit=
8;Box2D.Dynamics.b2DebugDraw.e_centerOfMassBit=16;Box2D.Dynamics.b2DebugDraw.e_controllerBit=32});$b2DestructionListener$$.b2DestructionListener=function $$b2DestructionListener$$$b2DestructionListener$(){};$b2DestructionListener$$.prototype.SayGoodbyeJoint=function $$b2DestructionListener$$$$SayGoodbyeJoint$($joint$$){};$b2DestructionListener$$.prototype.SayGoodbyeFixture=function $$b2DestructionListener$$$$SayGoodbyeFixture$($fixture$$){};$b2FilterData$$.b2FilterData=function $$b2FilterData$$$b2FilterData$(){this.categoryBits=
1;this.maskBits=65535;this.groupIndex=0};$b2FilterData$$.prototype.Copy=function $$b2FilterData$$$$Copy$(){var $copy$$=new $b2FilterData$$;$copy$$.categoryBits=this.categoryBits;$copy$$.maskBits=this.maskBits;$copy$$.groupIndex=this.groupIndex;return $copy$$};$b2Fixture$$.b2Fixture=function $$b2Fixture$$$b2Fixture$(){this.m_filter=new $b2FilterData$$};$b2Fixture$$.prototype.GetType=function $$b2Fixture$$$$GetType$(){return this.m_shape.GetType()};$b2Fixture$$.prototype.GetShape=function $$b2Fixture$$$$GetShape$(){return this.m_shape};
$b2Fixture$$.prototype.SetSensor=function $$b2Fixture$$$$SetSensor$($edge$$){if(this.m_isSensor!=$edge$$&&(this.m_isSensor=$edge$$,null!=this.m_body))for($edge$$=this.m_body.GetContactList();$edge$$;){var $contact$$=$edge$$.contact,$fixtureA$$=$contact$$.GetFixtureA(),$fixtureB$$=$contact$$.GetFixtureB();$fixtureA$$!=this&&$fixtureB$$!=this||$contact$$.SetSensor($fixtureA$$.IsSensor()||$fixtureB$$.IsSensor());$edge$$=$edge$$.next}};$b2Fixture$$.prototype.IsSensor=function $$b2Fixture$$$$IsSensor$(){return this.m_isSensor};
$b2Fixture$$.prototype.SetFilterData=function $$b2Fixture$$$$SetFilterData$($edge$$7_filter$$){this.m_filter=$edge$$7_filter$$.Copy();if(!this.m_body)for($edge$$7_filter$$=this.m_body.GetContactList();$edge$$7_filter$$;){var $contact$$=$edge$$7_filter$$.contact,$fixtureA$$=$contact$$.GetFixtureA(),$fixtureB$$=$contact$$.GetFixtureB();$fixtureA$$!=this&&$fixtureB$$!=this||$contact$$.FlagForFiltering();$edge$$7_filter$$=$edge$$7_filter$$.next}};$b2Fixture$$.prototype.GetFilterData=function $$b2Fixture$$$$GetFilterData$(){return this.m_filter.Copy()};
$b2Fixture$$.prototype.GetBody=function $$b2Fixture$$$$GetBody$(){return this.m_body};$b2Fixture$$.prototype.GetNext=function $$b2Fixture$$$$GetNext$(){return this.m_next};$b2Fixture$$.prototype.GetUserData=function $$b2Fixture$$$$GetUserData$(){return this.m_userData};$b2Fixture$$.prototype.SetUserData=function $$b2Fixture$$$$SetUserData$($data$$){this.m_userData=$data$$};$b2Fixture$$.prototype.TestPoint=function $$b2Fixture$$$$TestPoint$($p$$){return this.m_shape.TestPoint(this.m_body.GetTransform(),
$p$$)};$b2Fixture$$.prototype.RayCast=function $$b2Fixture$$$$RayCast$($output$$,$input$$){return this.m_shape.RayCast($output$$,$input$$,this.m_body.GetTransform())};$b2Fixture$$.prototype.GetMassData=function $$b2Fixture$$$$GetMassData$($massData$$){void 0===$massData$$&&($massData$$=null);null==$massData$$&&($massData$$=new $b2MassData$$);this.m_shape.ComputeMass($massData$$,this.m_density);return $massData$$};$b2Fixture$$.prototype.SetDensity=function $$b2Fixture$$$$SetDensity$($density$$){void 0===
$density$$&&($density$$=0);this.m_density=$density$$};$b2Fixture$$.prototype.GetDensity=function $$b2Fixture$$$$GetDensity$(){return this.m_density};$b2Fixture$$.prototype.GetFriction=function $$b2Fixture$$$$GetFriction$(){return this.m_friction};$b2Fixture$$.prototype.SetFriction=function $$b2Fixture$$$$SetFriction$($friction$$){void 0===$friction$$&&($friction$$=0);this.m_friction=$friction$$};$b2Fixture$$.prototype.GetRestitution=function $$b2Fixture$$$$GetRestitution$(){return this.m_restitution};
$b2Fixture$$.prototype.SetRestitution=function $$b2Fixture$$$$SetRestitution$($restitution$$){void 0===$restitution$$&&($restitution$$=0);this.m_restitution=$restitution$$};$b2Fixture$$.prototype.GetAABB=function $$b2Fixture$$$$GetAABB$(){return this.m_aabb};$b2Fixture$$.prototype.b2Fixture=function $$b2Fixture$$$$b2Fixture$(){this.m_aabb=new $b2AABB$$;this.m_shape=this.m_next=this.m_body=this.m_userData=null;this.m_restitution=this.m_friction=this.m_density=0};$b2Fixture$$.prototype.Create=function $$b2Fixture$$$$Create$($body$$,
$xf$$,$def$$){this.m_userData=$def$$.userData;this.m_friction=$def$$.friction;this.m_restitution=$def$$.restitution;this.m_body=$body$$;this.m_next=null;this.m_filter=$def$$.filter.Copy();this.m_isSensor=$def$$.isSensor;this.m_shape=$def$$.shape.Copy();this.m_density=$def$$.density};$b2Fixture$$.prototype.Destroy=function $$b2Fixture$$$$Destroy$(){this.m_shape=null};$b2Fixture$$.prototype.CreateProxy=function $$b2Fixture$$$$CreateProxy$($broadPhase$$,$xf$$){this.m_shape.ComputeAABB(this.m_aabb,$xf$$);
this.m_proxy=$broadPhase$$.CreateProxy(this.m_aabb,this)};$b2Fixture$$.prototype.DestroyProxy=function $$b2Fixture$$$$DestroyProxy$($broadPhase$$){null!=this.m_proxy&&($broadPhase$$.DestroyProxy(this.m_proxy),this.m_proxy=null)};$b2Fixture$$.prototype.Synchronize=function $$b2Fixture$$$$Synchronize$($broadPhase$$,$displacement$$2_transform1$$,$transform2$$){if(this.m_proxy){var $aabb1$$=new $b2AABB$$,$aabb2$$=new $b2AABB$$;this.m_shape.ComputeAABB($aabb1$$,$displacement$$2_transform1$$);this.m_shape.ComputeAABB($aabb2$$,
$transform2$$);this.m_aabb.Combine($aabb1$$,$aabb2$$);$displacement$$2_transform1$$=$b2Math$$.SubtractVV($transform2$$.position,$displacement$$2_transform1$$.position);$broadPhase$$.MoveProxy(this.m_proxy,this.m_aabb,$displacement$$2_transform1$$)}};$b2FixtureDef$$.b2FixtureDef=function $$b2FixtureDef$$$b2FixtureDef$(){this.filter=new $b2FilterData$$};$b2FixtureDef$$.prototype.b2FixtureDef=function $$b2FixtureDef$$$$b2FixtureDef$(){this.userData=this.shape=null;this.friction=.2;this.density=this.restitution=
0;this.filter.categoryBits=1;this.filter.maskBits=65535;this.filter.groupIndex=0;this.isSensor=!1};$b2Island$$.b2Island=function $$b2Island$$$b2Island$(){};$b2Island$$.prototype.b2Island=function $$b2Island$$$$b2Island$(){this.m_bodies=new Vector;this.m_contacts=new Vector;this.m_joints=new Vector};$b2Island$$.prototype.Initialize=function $$b2Island$$$$Initialize$($bodyCapacity$$,$contactCapacity$$,$jointCapacity$$,$allocator$$,$listener$$,$contactSolver$$){void 0===$bodyCapacity$$&&($bodyCapacity$$=
0);void 0===$contactCapacity$$&&($contactCapacity$$=0);void 0===$jointCapacity$$&&($jointCapacity$$=0);var $i$$=0;this.m_bodyCapacity=$bodyCapacity$$;this.m_contactCapacity=$contactCapacity$$;this.m_jointCapacity=$jointCapacity$$;this.m_jointCount=this.m_contactCount=this.m_bodyCount=0;this.m_allocator=$allocator$$;this.m_listener=$listener$$;this.m_contactSolver=$contactSolver$$;for($i$$=this.m_bodies.length;$i$$<$bodyCapacity$$;$i$$++)this.m_bodies[$i$$]=null;for($i$$=this.m_contacts.length;$i$$<
$contactCapacity$$;$i$$++)this.m_contacts[$i$$]=null;for($i$$=this.m_joints.length;$i$$<$jointCapacity$$;$i$$++)this.m_joints[$i$$]=null};$b2Island$$.prototype.Clear=function $$b2Island$$$$Clear$(){this.m_jointCount=this.m_contactCount=this.m_bodyCount=0};$b2Island$$.prototype.Solve=function $$b2Island$$$$Solve$($step$$,$contactSolver$$1_gravity$$,$allowSleep_minSleepTime$$){for(var $i$$=0,$b$$333_j$$=0,$joint$$,$i$$=0;$i$$<this.m_bodyCount;++$i$$)$b$$333_j$$=this.m_bodies[$i$$],$b$$333_j$$.GetType()==
$b2Body$$.b2_dynamicBody&&($b$$333_j$$.m_linearVelocity.x+=$step$$.dt*($contactSolver$$1_gravity$$.x+$b$$333_j$$.m_invMass*$b$$333_j$$.m_force.x),$b$$333_j$$.m_linearVelocity.y+=$step$$.dt*($contactSolver$$1_gravity$$.y+$b$$333_j$$.m_invMass*$b$$333_j$$.m_force.y),$b$$333_j$$.m_angularVelocity+=$step$$.dt*$b$$333_j$$.m_invI*$b$$333_j$$.m_torque,$b$$333_j$$.m_linearVelocity.Multiply($b2Math$$.Clamp(1-$step$$.dt*$b$$333_j$$.m_linearDamping,0,1)),$b$$333_j$$.m_angularVelocity*=$b2Math$$.Clamp(1-$step$$.dt*
$b$$333_j$$.m_angularDamping,0,1));this.m_contactSolver.Initialize($step$$,this.m_contacts,this.m_contactCount,this.m_allocator);$contactSolver$$1_gravity$$=this.m_contactSolver;$contactSolver$$1_gravity$$.InitVelocityConstraints($step$$);for($i$$=0;$i$$<this.m_jointCount;++$i$$)$joint$$=this.m_joints[$i$$],$joint$$.InitVelocityConstraints($step$$);for($i$$=0;$i$$<$step$$.velocityIterations;++$i$$){for($b$$333_j$$=0;$b$$333_j$$<this.m_jointCount;++$b$$333_j$$)$joint$$=this.m_joints[$b$$333_j$$],$joint$$.SolveVelocityConstraints($step$$);
$contactSolver$$1_gravity$$.SolveVelocityConstraints()}for($i$$=0;$i$$<this.m_jointCount;++$i$$)$joint$$=this.m_joints[$i$$],$joint$$.FinalizeVelocityConstraints();$contactSolver$$1_gravity$$.FinalizeVelocityConstraints();for($i$$=0;$i$$<this.m_bodyCount;++$i$$)if($b$$333_j$$=this.m_bodies[$i$$],$b$$333_j$$.GetType()!=$b2Body$$.b2_staticBody){var $angTolSqr_contactsOkay_rotation$$=$step$$.dt*$b$$333_j$$.m_linearVelocity.x,$jointsOkay_translationY$$=$step$$.dt*$b$$333_j$$.m_linearVelocity.y;$angTolSqr_contactsOkay_rotation$$*
$angTolSqr_contactsOkay_rotation$$+$jointsOkay_translationY$$*$jointsOkay_translationY$$>$b2Settings$$.b2_maxTranslationSquared&&($b$$333_j$$.m_linearVelocity.Normalize(),$b$$333_j$$.m_linearVelocity.x=$b$$333_j$$.m_linearVelocity.x*$b2Settings$$.b2_maxTranslation*$step$$.inv_dt,$b$$333_j$$.m_linearVelocity.y=$b$$333_j$$.m_linearVelocity.y*$b2Settings$$.b2_maxTranslation*$step$$.inv_dt);$angTolSqr_contactsOkay_rotation$$=$step$$.dt*$b$$333_j$$.m_angularVelocity;$angTolSqr_contactsOkay_rotation$$*
$angTolSqr_contactsOkay_rotation$$>$b2Settings$$.b2_maxRotationSquared&&($b$$333_j$$.m_angularVelocity=0>$b$$333_j$$.m_angularVelocity?-$b2Settings$$.b2_maxRotation*$step$$.inv_dt:$b2Settings$$.b2_maxRotation*$step$$.inv_dt);$b$$333_j$$.m_sweep.c0.SetV($b$$333_j$$.m_sweep.c);$b$$333_j$$.m_sweep.a0=$b$$333_j$$.m_sweep.a;$b$$333_j$$.m_sweep.c.x+=$step$$.dt*$b$$333_j$$.m_linearVelocity.x;$b$$333_j$$.m_sweep.c.y+=$step$$.dt*$b$$333_j$$.m_linearVelocity.y;$b$$333_j$$.m_sweep.a+=$step$$.dt*$b$$333_j$$.m_angularVelocity;
$b$$333_j$$.SynchronizeTransform()}for($i$$=0;$i$$<$step$$.positionIterations;++$i$$){$angTolSqr_contactsOkay_rotation$$=$contactSolver$$1_gravity$$.SolvePositionConstraints($b2Settings$$.b2_contactBaumgarte);$jointsOkay_translationY$$=!0;for($b$$333_j$$=0;$b$$333_j$$<this.m_jointCount;++$b$$333_j$$)$joint$$=this.m_joints[$b$$333_j$$],$joint$$=$joint$$.SolvePositionConstraints($b2Settings$$.b2_contactBaumgarte),$jointsOkay_translationY$$=$jointsOkay_translationY$$&&$joint$$;if($angTolSqr_contactsOkay_rotation$$&&
$jointsOkay_translationY$$)break}this.Report($contactSolver$$1_gravity$$.m_constraints);if($allowSleep_minSleepTime$$){$allowSleep_minSleepTime$$=Number.MAX_VALUE;$contactSolver$$1_gravity$$=$b2Settings$$.b2_linearSleepTolerance*$b2Settings$$.b2_linearSleepTolerance;$angTolSqr_contactsOkay_rotation$$=$b2Settings$$.b2_angularSleepTolerance*$b2Settings$$.b2_angularSleepTolerance;for($i$$=0;$i$$<this.m_bodyCount;++$i$$)$b$$333_j$$=this.m_bodies[$i$$],$b$$333_j$$.GetType()!=$b2Body$$.b2_staticBody&&(0==
($b$$333_j$$.m_flags&$b2Body$$.e_allowSleepFlag)&&($allowSleep_minSleepTime$$=$b$$333_j$$.m_sleepTime=0),0==($b$$333_j$$.m_flags&$b2Body$$.e_allowSleepFlag)||$b$$333_j$$.m_angularVelocity*$b$$333_j$$.m_angularVelocity>$angTolSqr_contactsOkay_rotation$$||$b2Math$$.Dot($b$$333_j$$.m_linearVelocity,$b$$333_j$$.m_linearVelocity)>$contactSolver$$1_gravity$$?$allowSleep_minSleepTime$$=$b$$333_j$$.m_sleepTime=0:($b$$333_j$$.m_sleepTime+=$step$$.dt,$allowSleep_minSleepTime$$=$b2Math$$.Min($allowSleep_minSleepTime$$,
$b$$333_j$$.m_sleepTime)));if($allowSleep_minSleepTime$$>=$b2Settings$$.b2_timeToSleep)for($i$$=0;$i$$<this.m_bodyCount;++$i$$)$b$$333_j$$=this.m_bodies[$i$$],$b$$333_j$$.SetAwake(!1)}};$b2Island$$.prototype.SolveTOI=function $$b2Island$$$$SolveTOI$($subStep$$){var $i$$=0,$b$$334_j$$=0;this.m_contactSolver.Initialize($subStep$$,this.m_contacts,this.m_contactCount,this.m_allocator);for(var $contactSolver$$=this.m_contactSolver,$i$$=0;$i$$<this.m_jointCount;++$i$$)this.m_joints[$i$$].InitVelocityConstraints($subStep$$);
for($i$$=0;$i$$<$subStep$$.velocityIterations;++$i$$)for($contactSolver$$.SolveVelocityConstraints(),$b$$334_j$$=0;$b$$334_j$$<this.m_jointCount;++$b$$334_j$$)this.m_joints[$b$$334_j$$].SolveVelocityConstraints($subStep$$);for($i$$=0;$i$$<this.m_bodyCount;++$i$$)if($b$$334_j$$=this.m_bodies[$i$$],$b$$334_j$$.GetType()!=$b2Body$$.b2_staticBody){var $contactsOkay$$1_rotation$$14_translationX$$=$subStep$$.dt*$b$$334_j$$.m_linearVelocity.x,$jointsOkay$$1_translationY$$=$subStep$$.dt*$b$$334_j$$.m_linearVelocity.y;
$contactsOkay$$1_rotation$$14_translationX$$*$contactsOkay$$1_rotation$$14_translationX$$+$jointsOkay$$1_translationY$$*$jointsOkay$$1_translationY$$>$b2Settings$$.b2_maxTranslationSquared&&($b$$334_j$$.m_linearVelocity.Normalize(),$b$$334_j$$.m_linearVelocity.x=$b$$334_j$$.m_linearVelocity.x*$b2Settings$$.b2_maxTranslation*$subStep$$.inv_dt,$b$$334_j$$.m_linearVelocity.y=$b$$334_j$$.m_linearVelocity.y*$b2Settings$$.b2_maxTranslation*$subStep$$.inv_dt);$contactsOkay$$1_rotation$$14_translationX$$=
$subStep$$.dt*$b$$334_j$$.m_angularVelocity;$contactsOkay$$1_rotation$$14_translationX$$*$contactsOkay$$1_rotation$$14_translationX$$>$b2Settings$$.b2_maxRotationSquared&&($b$$334_j$$.m_angularVelocity=0>$b$$334_j$$.m_angularVelocity?-$b2Settings$$.b2_maxRotation*$subStep$$.inv_dt:$b2Settings$$.b2_maxRotation*$subStep$$.inv_dt);$b$$334_j$$.m_sweep.c0.SetV($b$$334_j$$.m_sweep.c);$b$$334_j$$.m_sweep.a0=$b$$334_j$$.m_sweep.a;$b$$334_j$$.m_sweep.c.x+=$subStep$$.dt*$b$$334_j$$.m_linearVelocity.x;$b$$334_j$$.m_sweep.c.y+=
$subStep$$.dt*$b$$334_j$$.m_linearVelocity.y;$b$$334_j$$.m_sweep.a+=$subStep$$.dt*$b$$334_j$$.m_angularVelocity;$b$$334_j$$.SynchronizeTransform()}for($i$$=0;$i$$<$subStep$$.positionIterations;++$i$$){$contactsOkay$$1_rotation$$14_translationX$$=$contactSolver$$.SolvePositionConstraints(.75);$jointsOkay$$1_translationY$$=!0;for($b$$334_j$$=0;$b$$334_j$$<this.m_jointCount;++$b$$334_j$$)var $jointOkay$$=this.m_joints[$b$$334_j$$].SolvePositionConstraints($b2Settings$$.b2_contactBaumgarte),$jointsOkay$$1_translationY$$=
$jointsOkay$$1_translationY$$&&$jointOkay$$;if($contactsOkay$$1_rotation$$14_translationX$$&&$jointsOkay$$1_translationY$$)break}this.Report($contactSolver$$.m_constraints)};$b2Island$$.prototype.Report=function $$b2Island$$$$Report$($constraints$$){if(null!=this.m_listener)for(var $i$$=0;$i$$<this.m_contactCount;++$i$$){for(var $c$$=this.m_contacts[$i$$],$cc$$=$constraints$$[$i$$],$j$$=0;$j$$<$cc$$.pointCount;++$j$$)$b2Island$$.s_impulse.normalImpulses[$j$$]=$cc$$.points[$j$$].normalImpulse,$b2Island$$.s_impulse.tangentImpulses[$j$$]=
$cc$$.points[$j$$].tangentImpulse;this.m_listener.PostSolve($c$$,$b2Island$$.s_impulse)}};$b2Island$$.prototype.AddBody=function $$b2Island$$$$AddBody$($body$$){$body$$.m_islandIndex=this.m_bodyCount;this.m_bodies[this.m_bodyCount++]=$body$$};$b2Island$$.prototype.AddContact=function $$b2Island$$$$AddContact$($contact$$){this.m_contacts[this.m_contactCount++]=$contact$$};$b2Island$$.prototype.AddJoint=function $$b2Island$$$$AddJoint$($joint$$){this.m_joints[this.m_jointCount++]=$joint$$};Box2D.postDefs.push(function(){Box2D.Dynamics.b2Island.s_impulse=
new $b2ContactImpulse$$});$b2TimeStep$$.b2TimeStep=function $$b2TimeStep$$$b2TimeStep$(){};$b2TimeStep$$.prototype.Set=function $$b2TimeStep$$$$Set$($step$$){this.dt=$step$$.dt;this.inv_dt=$step$$.inv_dt;this.positionIterations=$step$$.positionIterations;this.velocityIterations=$step$$.velocityIterations;this.warmStarting=$step$$.warmStarting};$b2World$$.b2World=function $$b2World$$$b2World$(){this.s_stack=new Vector;this.m_contactManager=new $b2ContactManager$$;this.m_contactSolver=new $b2ContactSolver$$;
this.m_island=new $b2Island$$};$b2World$$.prototype.b2World=function $$b2World$$$$b2World$($gravity$$,$doSleep$$){this.m_controllerList=this.m_jointList=this.m_contactList=this.m_bodyList=this.m_debugDraw=this.m_destructionListener=null;this.m_controllerCount=this.m_jointCount=this.m_contactCount=this.m_bodyCount=0;$b2World$$.m_warmStarting=!0;$b2World$$.m_continuousPhysics=!0;this.m_allowSleep=$doSleep$$;$gravity$$.y=$gravity$$.y;this.m_gravity=$gravity$$;this.m_inv_dt0=0;this.m_contactManager.m_world=
this;var $bd$$=new $b2BodyDef$$;this.m_groundBody=this.CreateBody($bd$$)};$b2World$$.prototype.SetDestructionListener=function $$b2World$$$$SetDestructionListener$($listener$$){this.m_destructionListener=$listener$$};$b2World$$.prototype.SetContactFilter=function $$b2World$$$$SetContactFilter$($filter$$){this.m_contactManager.m_contactFilter=$filter$$};$b2World$$.prototype.SetContactListener=function $$b2World$$$$SetContactListener$($listener$$){this.m_contactManager.m_contactListener=$listener$$};
$b2World$$.prototype.SetDebugDraw=function $$b2World$$$$SetDebugDraw$($debugDraw$$){this.m_debugDraw=$debugDraw$$};$b2World$$.prototype.SetBroadPhase=function $$b2World$$$$SetBroadPhase$($broadPhase$$){var $oldBroadPhase$$=this.m_contactManager.m_broadPhase;this.m_contactManager.m_broadPhase=$broadPhase$$;for(var $b$$=this.m_bodyList;$b$$;$b$$=$b$$.m_next)for(var $f$$=$b$$.m_fixtureList;$f$$;$f$$=$f$$.m_next)$f$$.m_proxy=$broadPhase$$.CreateProxy($oldBroadPhase$$.GetFatAABB($f$$.m_proxy),$f$$)};$b2World$$.prototype.Validate=
function $$b2World$$$$Validate$(){this.m_contactManager.m_broadPhase.Validate()};$b2World$$.prototype.GetProxyCount=function $$b2World$$$$GetProxyCount$(){return this.m_contactManager.m_broadPhase.GetProxyCount()};$b2World$$.prototype.CreateBody=function $$b2World$$$$CreateBody$($b$$336_def$$){if(1==this.IsLocked())return null;$b$$336_def$$=new $b2Body$$($b$$336_def$$,this);$b$$336_def$$.m_prev=null;if($b$$336_def$$.m_next=this.m_bodyList)this.m_bodyList.m_prev=$b$$336_def$$;this.m_bodyList=$b$$336_def$$;
++this.m_bodyCount;return $b$$336_def$$};$b2World$$.prototype.DestroyBody=function $$b2World$$$$DestroyBody$($b$$){if(1!=this.IsLocked()){for(var $ce$$2_coe_f$$140_jn$$=$b$$.m_jointList;$ce$$2_coe_f$$140_jn$$;){var $ce0$$=$ce$$2_coe_f$$140_jn$$,$ce$$2_coe_f$$140_jn$$=$ce$$2_coe_f$$140_jn$$.next;this.m_destructionListener&&this.m_destructionListener.SayGoodbyeJoint($ce0$$.joint);this.DestroyJoint($ce0$$.joint)}for($ce$$2_coe_f$$140_jn$$=$b$$.m_controllerList;$ce$$2_coe_f$$140_jn$$;)$ce0$$=$ce$$2_coe_f$$140_jn$$,
$ce$$2_coe_f$$140_jn$$=$ce$$2_coe_f$$140_jn$$.nextController,$ce0$$.controller.RemoveBody($b$$);for($ce$$2_coe_f$$140_jn$$=$b$$.m_contactList;$ce$$2_coe_f$$140_jn$$;)$ce0$$=$ce$$2_coe_f$$140_jn$$,$ce$$2_coe_f$$140_jn$$=$ce$$2_coe_f$$140_jn$$.next,this.m_contactManager.Destroy($ce0$$.contact);$b$$.m_contactList=null;for($ce$$2_coe_f$$140_jn$$=$b$$.m_fixtureList;$ce$$2_coe_f$$140_jn$$;)$ce0$$=$ce$$2_coe_f$$140_jn$$,$ce$$2_coe_f$$140_jn$$=$ce$$2_coe_f$$140_jn$$.m_next,this.m_destructionListener&&this.m_destructionListener.SayGoodbyeFixture($ce0$$),
$ce0$$.DestroyProxy(this.m_contactManager.m_broadPhase),$ce0$$.Destroy();$b$$.m_fixtureList=null;$b$$.m_fixtureCount=0;$b$$.m_prev&&($b$$.m_prev.m_next=$b$$.m_next);$b$$.m_next&&($b$$.m_next.m_prev=$b$$.m_prev);$b$$==this.m_bodyList&&(this.m_bodyList=$b$$.m_next);--this.m_bodyCount}};$b2World$$.prototype.CreateJoint=function $$b2World$$$$CreateJoint$($def$$4_edge$$){var $j$$=$b2Joint$$.Create($def$$4_edge$$,null);$j$$.m_prev=null;if($j$$.m_next=this.m_jointList)this.m_jointList.m_prev=$j$$;this.m_jointList=
$j$$;++this.m_jointCount;$j$$.m_edgeA.joint=$j$$;$j$$.m_edgeA.other=$j$$.m_bodyB;$j$$.m_edgeA.prev=null;if($j$$.m_edgeA.next=$j$$.m_bodyA.m_jointList)$j$$.m_bodyA.m_jointList.prev=$j$$.m_edgeA;$j$$.m_bodyA.m_jointList=$j$$.m_edgeA;$j$$.m_edgeB.joint=$j$$;$j$$.m_edgeB.other=$j$$.m_bodyA;$j$$.m_edgeB.prev=null;if($j$$.m_edgeB.next=$j$$.m_bodyB.m_jointList)$j$$.m_bodyB.m_jointList.prev=$j$$.m_edgeB;$j$$.m_bodyB.m_jointList=$j$$.m_edgeB;var $bodyA$$=$def$$4_edge$$.bodyA,$bodyB$$=$def$$4_edge$$.bodyB;
if(0==$def$$4_edge$$.collideConnected)for($def$$4_edge$$=$bodyB$$.GetContactList();$def$$4_edge$$;)$def$$4_edge$$.other==$bodyA$$&&$def$$4_edge$$.contact.FlagForFiltering(),$def$$4_edge$$=$def$$4_edge$$.next;return $j$$};$b2World$$.prototype.DestroyJoint=function $$b2World$$$$DestroyJoint$($edge$$9_j$$){var $collideConnected$$=$edge$$9_j$$.m_collideConnected;$edge$$9_j$$.m_prev&&($edge$$9_j$$.m_prev.m_next=$edge$$9_j$$.m_next);$edge$$9_j$$.m_next&&($edge$$9_j$$.m_next.m_prev=$edge$$9_j$$.m_prev);
$edge$$9_j$$==this.m_jointList&&(this.m_jointList=$edge$$9_j$$.m_next);var $bodyA$$=$edge$$9_j$$.m_bodyA,$bodyB$$=$edge$$9_j$$.m_bodyB;$bodyA$$.SetAwake(!0);$bodyB$$.SetAwake(!0);$edge$$9_j$$.m_edgeA.prev&&($edge$$9_j$$.m_edgeA.prev.next=$edge$$9_j$$.m_edgeA.next);$edge$$9_j$$.m_edgeA.next&&($edge$$9_j$$.m_edgeA.next.prev=$edge$$9_j$$.m_edgeA.prev);$edge$$9_j$$.m_edgeA==$bodyA$$.m_jointList&&($bodyA$$.m_jointList=$edge$$9_j$$.m_edgeA.next);$edge$$9_j$$.m_edgeA.prev=null;$edge$$9_j$$.m_edgeA.next=
null;$edge$$9_j$$.m_edgeB.prev&&($edge$$9_j$$.m_edgeB.prev.next=$edge$$9_j$$.m_edgeB.next);$edge$$9_j$$.m_edgeB.next&&($edge$$9_j$$.m_edgeB.next.prev=$edge$$9_j$$.m_edgeB.prev);$edge$$9_j$$.m_edgeB==$bodyB$$.m_jointList&&($bodyB$$.m_jointList=$edge$$9_j$$.m_edgeB.next);$edge$$9_j$$.m_edgeB.prev=null;$edge$$9_j$$.m_edgeB.next=null;$b2Joint$$.Destroy($edge$$9_j$$,null);--this.m_jointCount;if(0==$collideConnected$$)for($edge$$9_j$$=$bodyB$$.GetContactList();$edge$$9_j$$;)$edge$$9_j$$.other==$bodyA$$&&
$edge$$9_j$$.contact.FlagForFiltering(),$edge$$9_j$$=$edge$$9_j$$.next};$b2World$$.prototype.AddController=function $$b2World$$$$AddController$($c$$){$c$$.m_next=this.m_controllerList;$c$$.m_prev=null;this.m_controllerList=$c$$;$c$$.m_world=this;this.m_controllerCount++;return $c$$};$b2World$$.prototype.RemoveController=function $$b2World$$$$RemoveController$($c$$){$c$$.m_prev&&($c$$.m_prev.m_next=$c$$.m_next);$c$$.m_next&&($c$$.m_next.m_prev=$c$$.m_prev);this.m_controllerList==$c$$&&(this.m_controllerList=
$c$$.m_next);this.m_controllerCount--};$b2World$$.prototype.CreateController=function $$b2World$$$$CreateController$($controller$$){if($controller$$.m_world!=this)throw Error("Controller can only be a member of one world");$controller$$.m_next=this.m_controllerList;$controller$$.m_prev=null;this.m_controllerList&&(this.m_controllerList.m_prev=$controller$$);this.m_controllerList=$controller$$;++this.m_controllerCount;$controller$$.m_world=this;return $controller$$};$b2World$$.prototype.DestroyController=
function $$b2World$$$$DestroyController$($controller$$){$controller$$.Clear();$controller$$.m_next&&($controller$$.m_next.m_prev=$controller$$.m_prev);$controller$$.m_prev&&($controller$$.m_prev.m_next=$controller$$.m_next);$controller$$==this.m_controllerList&&(this.m_controllerList=$controller$$.m_next);--this.m_controllerCount};$b2World$$.prototype.SetWarmStarting=function $$b2World$$$$SetWarmStarting$($flag$$){$b2World$$.m_warmStarting=$flag$$};$b2World$$.prototype.SetContinuousPhysics=function $$b2World$$$$SetContinuousPhysics$($flag$$){$b2World$$.m_continuousPhysics=
$flag$$};$b2World$$.prototype.GetBodyCount=function $$b2World$$$$GetBodyCount$(){return this.m_bodyCount};$b2World$$.prototype.GetJointCount=function $$b2World$$$$GetJointCount$(){return this.m_jointCount};$b2World$$.prototype.GetContactCount=function $$b2World$$$$GetContactCount$(){return this.m_contactCount};$b2World$$.prototype.SetGravity=function $$b2World$$$$SetGravity$($gravity$$){this.m_gravity=$gravity$$};$b2World$$.prototype.GetGravity=function $$b2World$$$$GetGravity$(){return this.m_gravity};
$b2World$$.prototype.GetGroundBody=function $$b2World$$$$GetGroundBody$(){return this.m_groundBody};$b2World$$.prototype.Step=function $$b2World$$$$Step$($dt$$,$velocityIterations$$,$positionIterations$$){void 0===$dt$$&&($dt$$=0);void 0===$velocityIterations$$&&($velocityIterations$$=0);void 0===$positionIterations$$&&($positionIterations$$=0);this.m_flags&$b2World$$.e_newFixture&&(this.m_contactManager.FindNewContacts(),this.m_flags&=~$b2World$$.e_newFixture);this.m_flags|=$b2World$$.e_locked;var $step$$=
$b2World$$.s_timestep2;$step$$.dt=$dt$$;$step$$.velocityIterations=$velocityIterations$$;$step$$.positionIterations=$positionIterations$$;$step$$.inv_dt=0<$dt$$?1/$dt$$:0;$step$$.dtRatio=this.m_inv_dt0*$dt$$;$step$$.warmStarting=$b2World$$.m_warmStarting;this.m_contactManager.Collide();0<$step$$.dt&&this.Solve($step$$);$b2World$$.m_continuousPhysics&&0<$step$$.dt&&this.SolveTOI($step$$);0<$step$$.dt&&(this.m_inv_dt0=$step$$.inv_dt);this.m_flags&=~$b2World$$.e_locked};$b2World$$.prototype.ClearForces=
function $$b2World$$$$ClearForces$(){for(var $body$$=this.m_bodyList;$body$$;$body$$=$body$$.m_next)$body$$.m_force.SetZero(),$body$$.m_torque=0};$b2World$$.prototype.DrawDebugData=function $$b2World$$$$DrawDebugData$(){if(null!=this.m_debugDraw){this.m_debugDraw.m_sprite.graphics.clear();var $flags$$=this.m_debugDraw.GetFlags(),$b$$338_c$$310_contact$$7_j$$,$cB_f$$141_fixtureB$$,$bp$$1_cA_fixtureA$$7_s$$;new $b2Vec2$$;new $b2Vec2$$;new $b2Vec2$$;var $vs$$4_xf$$;new $b2AABB$$;new $b2AABB$$;$vs$$4_xf$$=
[new $b2Vec2$$,new $b2Vec2$$,new $b2Vec2$$,new $b2Vec2$$];var $color$$=new $b2Color$$(0,0,0);if($flags$$&$b2DebugDraw$$.e_shapeBit)for($b$$338_c$$310_contact$$7_j$$=this.m_bodyList;$b$$338_c$$310_contact$$7_j$$;$b$$338_c$$310_contact$$7_j$$=$b$$338_c$$310_contact$$7_j$$.m_next)for($vs$$4_xf$$=$b$$338_c$$310_contact$$7_j$$.m_xf,$cB_f$$141_fixtureB$$=$b$$338_c$$310_contact$$7_j$$.GetFixtureList();$cB_f$$141_fixtureB$$;$cB_f$$141_fixtureB$$=$cB_f$$141_fixtureB$$.m_next)$bp$$1_cA_fixtureA$$7_s$$=$cB_f$$141_fixtureB$$.GetShape(),
0==$b$$338_c$$310_contact$$7_j$$.IsActive()?$color$$.Set(.5,.5,.3):$b$$338_c$$310_contact$$7_j$$.GetType()==$b2Body$$.b2_staticBody?$color$$.Set(.5,.9,.5):$b$$338_c$$310_contact$$7_j$$.GetType()==$b2Body$$.b2_kinematicBody?$color$$.Set(.5,.5,.9):0==$b$$338_c$$310_contact$$7_j$$.IsAwake()?$color$$.Set(.6,.6,.6):$color$$.Set(.9,.7,.7),this.DrawShape($bp$$1_cA_fixtureA$$7_s$$,$vs$$4_xf$$,$color$$);if($flags$$&$b2DebugDraw$$.e_jointBit)for($b$$338_c$$310_contact$$7_j$$=this.m_jointList;$b$$338_c$$310_contact$$7_j$$;$b$$338_c$$310_contact$$7_j$$=
$b$$338_c$$310_contact$$7_j$$.m_next)this.DrawJoint($b$$338_c$$310_contact$$7_j$$);if($flags$$&$b2DebugDraw$$.e_controllerBit)for($b$$338_c$$310_contact$$7_j$$=this.m_controllerList;$b$$338_c$$310_contact$$7_j$$;$b$$338_c$$310_contact$$7_j$$=$b$$338_c$$310_contact$$7_j$$.m_next)$b$$338_c$$310_contact$$7_j$$.Draw(this.m_debugDraw);if($flags$$&$b2DebugDraw$$.e_pairBit)for($color$$.Set(.3,.9,.9),$b$$338_c$$310_contact$$7_j$$=this.m_contactManager.m_contactList;$b$$338_c$$310_contact$$7_j$$;$b$$338_c$$310_contact$$7_j$$=
$b$$338_c$$310_contact$$7_j$$.GetNext())$bp$$1_cA_fixtureA$$7_s$$=$b$$338_c$$310_contact$$7_j$$.GetFixtureA(),$cB_f$$141_fixtureB$$=$b$$338_c$$310_contact$$7_j$$.GetFixtureB(),$bp$$1_cA_fixtureA$$7_s$$=$bp$$1_cA_fixtureA$$7_s$$.GetAABB().GetCenter(),$cB_f$$141_fixtureB$$=$cB_f$$141_fixtureB$$.GetAABB().GetCenter(),this.m_debugDraw.DrawSegment($bp$$1_cA_fixtureA$$7_s$$,$cB_f$$141_fixtureB$$,$color$$);if($flags$$&$b2DebugDraw$$.e_aabbBit)for($bp$$1_cA_fixtureA$$7_s$$=this.m_contactManager.m_broadPhase,
$vs$$4_xf$$=[new $b2Vec2$$,new $b2Vec2$$,new $b2Vec2$$,new $b2Vec2$$],$b$$338_c$$310_contact$$7_j$$=this.m_bodyList;$b$$338_c$$310_contact$$7_j$$;$b$$338_c$$310_contact$$7_j$$=$b$$338_c$$310_contact$$7_j$$.GetNext())if(0!=$b$$338_c$$310_contact$$7_j$$.IsActive())for($cB_f$$141_fixtureB$$=$b$$338_c$$310_contact$$7_j$$.GetFixtureList();$cB_f$$141_fixtureB$$;$cB_f$$141_fixtureB$$=$cB_f$$141_fixtureB$$.GetNext()){var $aabb$$=$bp$$1_cA_fixtureA$$7_s$$.GetFatAABB($cB_f$$141_fixtureB$$.m_proxy);$vs$$4_xf$$[0].Set($aabb$$.lowerBound.x,
$aabb$$.lowerBound.y);$vs$$4_xf$$[1].Set($aabb$$.upperBound.x,$aabb$$.lowerBound.y);$vs$$4_xf$$[2].Set($aabb$$.upperBound.x,$aabb$$.upperBound.y);$vs$$4_xf$$[3].Set($aabb$$.lowerBound.x,$aabb$$.upperBound.y);this.m_debugDraw.DrawPolygon($vs$$4_xf$$,4,$color$$)}if($flags$$&$b2DebugDraw$$.e_centerOfMassBit)for($b$$338_c$$310_contact$$7_j$$=this.m_bodyList;$b$$338_c$$310_contact$$7_j$$;$b$$338_c$$310_contact$$7_j$$=$b$$338_c$$310_contact$$7_j$$.m_next)$vs$$4_xf$$=$b2World$$.s_xf,$vs$$4_xf$$.R=$b$$338_c$$310_contact$$7_j$$.m_xf.R,
$vs$$4_xf$$.position=$b$$338_c$$310_contact$$7_j$$.GetWorldCenter(),this.m_debugDraw.DrawTransform($vs$$4_xf$$)}};$b2World$$.prototype.QueryAABB=function $$b2World$$$$QueryAABB$($callback$$,$aabb$$){var $broadPhase$$=this.m_contactManager.m_broadPhase;$broadPhase$$.Query(function WorldQueryWrapper($proxy$$){return $callback$$($broadPhase$$.GetUserData($proxy$$))},$aabb$$)};$b2World$$.prototype.QueryShape=function $$b2World$$$$QueryShape$($callback$$,$shape$$,$transform$$){void 0===$transform$$&&($transform$$=
null);null==$transform$$&&($transform$$=new $b2Transform$$,$transform$$.SetIdentity());var $broadPhase$$=this.m_contactManager.m_broadPhase,$aabb$$=new $b2AABB$$;$shape$$.ComputeAABB($aabb$$,$transform$$);$broadPhase$$.Query(function WorldQueryWrapper($fixture$$5_proxy$$){$fixture$$5_proxy$$=$broadPhase$$.GetUserData($fixture$$5_proxy$$)instanceof $b2Fixture$$?$broadPhase$$.GetUserData($fixture$$5_proxy$$):null;return $b2Shape$$.TestOverlap($shape$$,$transform$$,$fixture$$5_proxy$$.GetShape(),$fixture$$5_proxy$$.GetBody().GetTransform())?
$callback$$($fixture$$5_proxy$$):!0},$aabb$$)};$b2World$$.prototype.QueryPoint=function $$b2World$$$$QueryPoint$($callback$$,$p$$){var $broadPhase$$=this.m_contactManager.m_broadPhase,$aabb$$=new $b2AABB$$;$aabb$$.lowerBound.Set($p$$.x-$b2Settings$$.b2_linearSlop,$p$$.y-$b2Settings$$.b2_linearSlop);$aabb$$.upperBound.Set($p$$.x+$b2Settings$$.b2_linearSlop,$p$$.y+$b2Settings$$.b2_linearSlop);$broadPhase$$.Query(function WorldQueryWrapper($fixture$$6_proxy$$){$fixture$$6_proxy$$=$broadPhase$$.GetUserData($fixture$$6_proxy$$)instanceof
$b2Fixture$$?$broadPhase$$.GetUserData($fixture$$6_proxy$$):null;return $fixture$$6_proxy$$.TestPoint($p$$)?$callback$$($fixture$$6_proxy$$):!0},$aabb$$)};$b2World$$.prototype.RayCast=function $$b2World$$$$RayCast$($callback$$,$point1$$,$point2$$){var $broadPhase$$=this.m_contactManager.m_broadPhase,$output$$=new $b2RayCastOutput$$,$input$$0$$=new $b2RayCastInput$$($point1$$,$point2$$);$broadPhase$$.RayCast(function RayCastWrapper($input$$,$proxy$$){var $fixture$$7_userData$$=$broadPhase$$.GetUserData($proxy$$),
$fixture$$7_userData$$=$fixture$$7_userData$$ instanceof $b2Fixture$$?$fixture$$7_userData$$:null;if($fixture$$7_userData$$.RayCast($output$$,$input$$)){var $fraction$$=$output$$.fraction,$point$$=new $b2Vec2$$((1-$fraction$$)*$point1$$.x+$fraction$$*$point2$$.x,(1-$fraction$$)*$point1$$.y+$fraction$$*$point2$$.y);return $callback$$($fixture$$7_userData$$,$point$$,$output$$.normal,$fraction$$)}return $input$$.maxFraction},$input$$0$$)};$b2World$$.prototype.RayCastOne=function $$b2World$$$$RayCastOne$($point1$$,
$point2$$){var $result$$;this.RayCast(function RayCastOneWrapper($fixture$$,$point$$,$normal$$,$fraction$$){void 0===$fraction$$&&($fraction$$=0);$result$$=$fixture$$;return $fraction$$},$point1$$,$point2$$);return $result$$};$b2World$$.prototype.RayCastAll=function $$b2World$$$$RayCastAll$($point1$$,$point2$$){var $result$$=new Vector;this.RayCast(function RayCastAllWrapper($fixture$$,$point$$,$normal$$,$fraction$$){$result$$[$result$$.length]=$fixture$$;return 1},$point1$$,$point2$$);return $result$$};
$b2World$$.prototype.GetBodyList=function $$b2World$$$$GetBodyList$(){return this.m_bodyList};$b2World$$.prototype.GetJointList=function $$b2World$$$$GetJointList$(){return this.m_jointList};$b2World$$.prototype.GetContactList=function $$b2World$$$$GetContactList$(){return this.m_contactList};$b2World$$.prototype.IsLocked=function $$b2World$$$$IsLocked$(){return 0<(this.m_flags&$b2World$$.e_locked)};$b2World$$.prototype.Solve=function $$b2World$$$$Solve$($step$$){for(var $b$$339_jn$$,$controller$$=
this.m_controllerList;$controller$$;$controller$$=$controller$$.m_next)$controller$$.Step($step$$);$controller$$=this.m_island;$controller$$.Initialize(this.m_bodyCount,this.m_contactCount,this.m_jointCount,null,this.m_contactManager.m_contactListener,this.m_contactSolver);for($b$$339_jn$$=this.m_bodyList;$b$$339_jn$$;$b$$339_jn$$=$b$$339_jn$$.m_next)$b$$339_jn$$.m_flags&=~$b2Body$$.e_islandFlag;for(var $c$$311_j$$98_stack$$=this.m_contactList;$c$$311_j$$98_stack$$;$c$$311_j$$98_stack$$=$c$$311_j$$98_stack$$.m_next)$c$$311_j$$98_stack$$.m_flags&=
~$b2Contact$$.e_islandFlag;for($c$$311_j$$98_stack$$=this.m_jointList;$c$$311_j$$98_stack$$;$c$$311_j$$98_stack$$=$c$$311_j$$98_stack$$.m_next)$c$$311_j$$98_stack$$.m_islandFlag=!1;parseInt(this.m_bodyCount);for(var $c$$311_j$$98_stack$$=this.s_stack,$seed$$=this.m_bodyList;$seed$$;$seed$$=$seed$$.m_next)if(!($seed$$.m_flags&$b2Body$$.e_islandFlag)&&0!=$seed$$.IsAwake()&&0!=$seed$$.IsActive()&&$seed$$.GetType()!=$b2Body$$.b2_staticBody){$controller$$.Clear();var $i$$=0;$c$$311_j$$98_stack$$[$i$$++]=
$seed$$;for($seed$$.m_flags|=$b2Body$$.e_islandFlag;0<$i$$;)if($b$$339_jn$$=$c$$311_j$$98_stack$$[--$i$$],$controller$$.AddBody($b$$339_jn$$),0==$b$$339_jn$$.IsAwake()&&$b$$339_jn$$.SetAwake(!0),$b$$339_jn$$.GetType()!=$b2Body$$.b2_staticBody){for(var $other$$,$ce$$=$b$$339_jn$$.m_contactList;$ce$$;$ce$$=$ce$$.next)$ce$$.contact.m_flags&$b2Contact$$.e_islandFlag||1==$ce$$.contact.IsSensor()||0==$ce$$.contact.IsEnabled()||0==$ce$$.contact.IsTouching()||($controller$$.AddContact($ce$$.contact),$ce$$.contact.m_flags|=
$b2Contact$$.e_islandFlag,$other$$=$ce$$.other,$other$$.m_flags&$b2Body$$.e_islandFlag||($c$$311_j$$98_stack$$[$i$$++]=$other$$,$other$$.m_flags|=$b2Body$$.e_islandFlag));for($b$$339_jn$$=$b$$339_jn$$.m_jointList;$b$$339_jn$$;$b$$339_jn$$=$b$$339_jn$$.next)1!=$b$$339_jn$$.joint.m_islandFlag&&($other$$=$b$$339_jn$$.other,0!=$other$$.IsActive()&&($controller$$.AddJoint($b$$339_jn$$.joint),$b$$339_jn$$.joint.m_islandFlag=!0,$other$$.m_flags&$b2Body$$.e_islandFlag||($c$$311_j$$98_stack$$[$i$$++]=$other$$,
$other$$.m_flags|=$b2Body$$.e_islandFlag)))}$controller$$.Solve($step$$,this.m_gravity,this.m_allowSleep);for($i$$=0;$i$$<$controller$$.m_bodyCount;++$i$$)$b$$339_jn$$=$controller$$.m_bodies[$i$$],$b$$339_jn$$.GetType()==$b2Body$$.b2_staticBody&&($b$$339_jn$$.m_flags&=~$b2Body$$.e_islandFlag)}for($i$$=0;$i$$<$c$$311_j$$98_stack$$.length&&$c$$311_j$$98_stack$$[$i$$];++$i$$)$c$$311_j$$98_stack$$[$i$$]=null;for($b$$339_jn$$=this.m_bodyList;$b$$339_jn$$;$b$$339_jn$$=$b$$339_jn$$.m_next)0!=$b$$339_jn$$.IsAwake()&&
0!=$b$$339_jn$$.IsActive()&&$b$$339_jn$$.GetType()!=$b2Body$$.b2_staticBody&&$b$$339_jn$$.SynchronizeFixtures();this.m_contactManager.FindNewContacts()};$b2World$$.prototype.SolveTOI=function $$b2World$$$$SolveTOI$($step$$){var $b$$340_bA_fA$$1_jEdge_seed$$,$bB_cEdge_fB$$,$c$$312_j$$99_queueStart_subStep$$,$island$$=this.m_island;$island$$.Initialize(this.m_bodyCount,$b2Settings$$.b2_maxTOIContactsPerIsland,$b2Settings$$.b2_maxTOIJointsPerIsland,null,this.m_contactManager.m_contactListener,this.m_contactSolver);
var $queue$$=$b2World$$.s_queue;for($b$$340_bA_fA$$1_jEdge_seed$$=this.m_bodyList;$b$$340_bA_fA$$1_jEdge_seed$$;$b$$340_bA_fA$$1_jEdge_seed$$=$b$$340_bA_fA$$1_jEdge_seed$$.m_next)$b$$340_bA_fA$$1_jEdge_seed$$.m_flags&=~$b2Body$$.e_islandFlag,$b$$340_bA_fA$$1_jEdge_seed$$.m_sweep.t0=0;for($c$$312_j$$99_queueStart_subStep$$=this.m_contactList;$c$$312_j$$99_queueStart_subStep$$;$c$$312_j$$99_queueStart_subStep$$=$c$$312_j$$99_queueStart_subStep$$.m_next)$c$$312_j$$99_queueStart_subStep$$.m_flags&=~($b2Contact$$.e_toiFlag|
$b2Contact$$.e_islandFlag);for($c$$312_j$$99_queueStart_subStep$$=this.m_jointList;$c$$312_j$$99_queueStart_subStep$$;$c$$312_j$$99_queueStart_subStep$$=$c$$312_j$$99_queueStart_subStep$$.m_next)$c$$312_j$$99_queueStart_subStep$$.m_islandFlag=!1;for(;;){var $minContact_queueSize$$=null,$i$$=1;for($c$$312_j$$99_queueStart_subStep$$=this.m_contactList;$c$$312_j$$99_queueStart_subStep$$;$c$$312_j$$99_queueStart_subStep$$=$c$$312_j$$99_queueStart_subStep$$.m_next)if(1!=$c$$312_j$$99_queueStart_subStep$$.IsSensor()&&
0!=$c$$312_j$$99_queueStart_subStep$$.IsEnabled()&&0!=$c$$312_j$$99_queueStart_subStep$$.IsContinuous()){$b$$340_bA_fA$$1_jEdge_seed$$=1;if($c$$312_j$$99_queueStart_subStep$$.m_flags&$b2Contact$$.e_toiFlag)$b$$340_bA_fA$$1_jEdge_seed$$=$c$$312_j$$99_queueStart_subStep$$.m_toi;else{$b$$340_bA_fA$$1_jEdge_seed$$=$c$$312_j$$99_queueStart_subStep$$.m_fixtureA;$bB_cEdge_fB$$=$c$$312_j$$99_queueStart_subStep$$.m_fixtureB;$b$$340_bA_fA$$1_jEdge_seed$$=$b$$340_bA_fA$$1_jEdge_seed$$.m_body;$bB_cEdge_fB$$=
$bB_cEdge_fB$$.m_body;if(!($b$$340_bA_fA$$1_jEdge_seed$$.GetType()==$b2Body$$.b2_dynamicBody&&0!=$b$$340_bA_fA$$1_jEdge_seed$$.IsAwake()||$bB_cEdge_fB$$.GetType()==$b2Body$$.b2_dynamicBody&&0!=$bB_cEdge_fB$$.IsAwake()))continue;var $other$$=$b$$340_bA_fA$$1_jEdge_seed$$.m_sweep.t0;$b$$340_bA_fA$$1_jEdge_seed$$.m_sweep.t0<$bB_cEdge_fB$$.m_sweep.t0?($other$$=$bB_cEdge_fB$$.m_sweep.t0,$b$$340_bA_fA$$1_jEdge_seed$$.m_sweep.Advance($other$$)):$bB_cEdge_fB$$.m_sweep.t0<$b$$340_bA_fA$$1_jEdge_seed$$.m_sweep.t0&&
($other$$=$b$$340_bA_fA$$1_jEdge_seed$$.m_sweep.t0,$bB_cEdge_fB$$.m_sweep.Advance($other$$));$b$$340_bA_fA$$1_jEdge_seed$$=$c$$312_j$$99_queueStart_subStep$$.ComputeTOI($b$$340_bA_fA$$1_jEdge_seed$$.m_sweep,$bB_cEdge_fB$$.m_sweep);$b2Settings$$.b2Assert(0<=$b$$340_bA_fA$$1_jEdge_seed$$&&1>=$b$$340_bA_fA$$1_jEdge_seed$$);0<$b$$340_bA_fA$$1_jEdge_seed$$&&1>$b$$340_bA_fA$$1_jEdge_seed$$&&($b$$340_bA_fA$$1_jEdge_seed$$=(1-$b$$340_bA_fA$$1_jEdge_seed$$)*$other$$+$b$$340_bA_fA$$1_jEdge_seed$$,1<$b$$340_bA_fA$$1_jEdge_seed$$&&
($b$$340_bA_fA$$1_jEdge_seed$$=1));$c$$312_j$$99_queueStart_subStep$$.m_toi=$b$$340_bA_fA$$1_jEdge_seed$$;$c$$312_j$$99_queueStart_subStep$$.m_flags|=$b2Contact$$.e_toiFlag}Number.MIN_VALUE<$b$$340_bA_fA$$1_jEdge_seed$$&&$b$$340_bA_fA$$1_jEdge_seed$$<$i$$&&($minContact_queueSize$$=$c$$312_j$$99_queueStart_subStep$$,$i$$=$b$$340_bA_fA$$1_jEdge_seed$$)}if(null==$minContact_queueSize$$||1-100*Number.MIN_VALUE<$i$$)break;$b$$340_bA_fA$$1_jEdge_seed$$=$minContact_queueSize$$.m_fixtureA;$bB_cEdge_fB$$=
$minContact_queueSize$$.m_fixtureB;$b$$340_bA_fA$$1_jEdge_seed$$=$b$$340_bA_fA$$1_jEdge_seed$$.m_body;$bB_cEdge_fB$$=$bB_cEdge_fB$$.m_body;$b2World$$.s_backupA.Set($b$$340_bA_fA$$1_jEdge_seed$$.m_sweep);$b2World$$.s_backupB.Set($bB_cEdge_fB$$.m_sweep);$b$$340_bA_fA$$1_jEdge_seed$$.Advance($i$$);$bB_cEdge_fB$$.Advance($i$$);$minContact_queueSize$$.Update(this.m_contactManager.m_contactListener);$minContact_queueSize$$.m_flags&=~$b2Contact$$.e_toiFlag;if(1==$minContact_queueSize$$.IsSensor()||0==$minContact_queueSize$$.IsEnabled())$b$$340_bA_fA$$1_jEdge_seed$$.m_sweep.Set($b2World$$.s_backupA),
$bB_cEdge_fB$$.m_sweep.Set($b2World$$.s_backupB),$b$$340_bA_fA$$1_jEdge_seed$$.SynchronizeTransform(),$bB_cEdge_fB$$.SynchronizeTransform();else if(0!=$minContact_queueSize$$.IsTouching()){$b$$340_bA_fA$$1_jEdge_seed$$.GetType()!=$b2Body$$.b2_dynamicBody&&($b$$340_bA_fA$$1_jEdge_seed$$=$bB_cEdge_fB$$);$island$$.Clear();$minContact_queueSize$$=$c$$312_j$$99_queueStart_subStep$$=0;$queue$$[$c$$312_j$$99_queueStart_subStep$$+$minContact_queueSize$$++]=$b$$340_bA_fA$$1_jEdge_seed$$;for($b$$340_bA_fA$$1_jEdge_seed$$.m_flags|=
$b2Body$$.e_islandFlag;0<$minContact_queueSize$$;)if($b$$340_bA_fA$$1_jEdge_seed$$=$queue$$[$c$$312_j$$99_queueStart_subStep$$++],--$minContact_queueSize$$,$island$$.AddBody($b$$340_bA_fA$$1_jEdge_seed$$),0==$b$$340_bA_fA$$1_jEdge_seed$$.IsAwake()&&$b$$340_bA_fA$$1_jEdge_seed$$.SetAwake(!0),$b$$340_bA_fA$$1_jEdge_seed$$.GetType()==$b2Body$$.b2_dynamicBody){for($bB_cEdge_fB$$=$b$$340_bA_fA$$1_jEdge_seed$$.m_contactList;$bB_cEdge_fB$$&&$island$$.m_contactCount!=$island$$.m_contactCapacity;$bB_cEdge_fB$$=
$bB_cEdge_fB$$.next)$bB_cEdge_fB$$.contact.m_flags&$b2Contact$$.e_islandFlag||1==$bB_cEdge_fB$$.contact.IsSensor()||0==$bB_cEdge_fB$$.contact.IsEnabled()||0==$bB_cEdge_fB$$.contact.IsTouching()||($island$$.AddContact($bB_cEdge_fB$$.contact),$bB_cEdge_fB$$.contact.m_flags|=$b2Contact$$.e_islandFlag,$other$$=$bB_cEdge_fB$$.other,$other$$.m_flags&$b2Body$$.e_islandFlag||($other$$.GetType()!=$b2Body$$.b2_staticBody&&($other$$.Advance($i$$),$other$$.SetAwake(!0)),$queue$$[$c$$312_j$$99_queueStart_subStep$$+
$minContact_queueSize$$]=$other$$,++$minContact_queueSize$$,$other$$.m_flags|=$b2Body$$.e_islandFlag));for($b$$340_bA_fA$$1_jEdge_seed$$=$b$$340_bA_fA$$1_jEdge_seed$$.m_jointList;$b$$340_bA_fA$$1_jEdge_seed$$;$b$$340_bA_fA$$1_jEdge_seed$$=$b$$340_bA_fA$$1_jEdge_seed$$.next)$island$$.m_jointCount!=$island$$.m_jointCapacity&&1!=$b$$340_bA_fA$$1_jEdge_seed$$.joint.m_islandFlag&&($other$$=$b$$340_bA_fA$$1_jEdge_seed$$.other,0!=$other$$.IsActive()&&($island$$.AddJoint($b$$340_bA_fA$$1_jEdge_seed$$.joint),
$b$$340_bA_fA$$1_jEdge_seed$$.joint.m_islandFlag=!0,$other$$.m_flags&$b2Body$$.e_islandFlag||($other$$.GetType()!=$b2Body$$.b2_staticBody&&($other$$.Advance($i$$),$other$$.SetAwake(!0)),$queue$$[$c$$312_j$$99_queueStart_subStep$$+$minContact_queueSize$$]=$other$$,++$minContact_queueSize$$,$other$$.m_flags|=$b2Body$$.e_islandFlag)))}$c$$312_j$$99_queueStart_subStep$$=$b2World$$.s_timestep;$c$$312_j$$99_queueStart_subStep$$.warmStarting=!1;$c$$312_j$$99_queueStart_subStep$$.dt=(1-$i$$)*$step$$.dt;$c$$312_j$$99_queueStart_subStep$$.inv_dt=
1/$c$$312_j$$99_queueStart_subStep$$.dt;$c$$312_j$$99_queueStart_subStep$$.dtRatio=0;$c$$312_j$$99_queueStart_subStep$$.velocityIterations=$step$$.velocityIterations;$c$$312_j$$99_queueStart_subStep$$.positionIterations=$step$$.positionIterations;$island$$.SolveTOI($c$$312_j$$99_queueStart_subStep$$);for($i$$=$i$$=0;$i$$<$island$$.m_bodyCount;++$i$$)if($b$$340_bA_fA$$1_jEdge_seed$$=$island$$.m_bodies[$i$$],$b$$340_bA_fA$$1_jEdge_seed$$.m_flags&=~$b2Body$$.e_islandFlag,0!=$b$$340_bA_fA$$1_jEdge_seed$$.IsAwake()&&
$b$$340_bA_fA$$1_jEdge_seed$$.GetType()==$b2Body$$.b2_dynamicBody)for($b$$340_bA_fA$$1_jEdge_seed$$.SynchronizeFixtures(),$bB_cEdge_fB$$=$b$$340_bA_fA$$1_jEdge_seed$$.m_contactList;$bB_cEdge_fB$$;$bB_cEdge_fB$$=$bB_cEdge_fB$$.next)$bB_cEdge_fB$$.contact.m_flags&=~$b2Contact$$.e_toiFlag;for($i$$=0;$i$$<$island$$.m_contactCount;++$i$$)$c$$312_j$$99_queueStart_subStep$$=$island$$.m_contacts[$i$$],$c$$312_j$$99_queueStart_subStep$$.m_flags&=~($b2Contact$$.e_toiFlag|$b2Contact$$.e_islandFlag);for($i$$=
0;$i$$<$island$$.m_jointCount;++$i$$)$c$$312_j$$99_queueStart_subStep$$=$island$$.m_joints[$i$$],$c$$312_j$$99_queueStart_subStep$$.m_islandFlag=!1;this.m_contactManager.FindNewContacts()}}};$b2World$$.prototype.DrawJoint=function $$b2World$$$$DrawJoint$($joint$$4_s1$$){var $b1$$5_pulley_s2$$=$joint$$4_s1$$.GetBodyA(),$b2$$=$joint$$4_s1$$.GetBodyB(),$x1$$=$b1$$5_pulley_s2$$.m_xf.position,$x2$$=$b2$$.m_xf.position,$p1$$=$joint$$4_s1$$.GetAnchorA(),$p2$$=$joint$$4_s1$$.GetAnchorB(),$color$$=$b2World$$.s_jointColor;
switch($joint$$4_s1$$.m_type){case $b2Joint$$.e_distanceJoint:this.m_debugDraw.DrawSegment($p1$$,$p2$$,$color$$);break;case $b2Joint$$.e_pulleyJoint:$b1$$5_pulley_s2$$=$joint$$4_s1$$ instanceof $b2PulleyJoint$$?$joint$$4_s1$$:null;$joint$$4_s1$$=$b1$$5_pulley_s2$$.GetGroundAnchorA();$b1$$5_pulley_s2$$=$b1$$5_pulley_s2$$.GetGroundAnchorB();this.m_debugDraw.DrawSegment($joint$$4_s1$$,$p1$$,$color$$);this.m_debugDraw.DrawSegment($b1$$5_pulley_s2$$,$p2$$,$color$$);this.m_debugDraw.DrawSegment($joint$$4_s1$$,
$b1$$5_pulley_s2$$,$color$$);break;case $b2Joint$$.e_mouseJoint:this.m_debugDraw.DrawSegment($p1$$,$p2$$,$color$$);break;default:$b1$$5_pulley_s2$$!=this.m_groundBody&&this.m_debugDraw.DrawSegment($x1$$,$p1$$,$color$$),this.m_debugDraw.DrawSegment($p1$$,$p2$$,$color$$),$b2$$!=this.m_groundBody&&this.m_debugDraw.DrawSegment($x2$$,$p2$$,$color$$)}};$b2World$$.prototype.DrawShape=function $$b2World$$$$DrawShape$($center$$17_shape$$8_vertexCount$$,$xf$$,$color$$){switch($center$$17_shape$$8_vertexCount$$.m_type){case $b2Shape$$.e_circleShape:var $circle$$2_edge$$10_i$$=
$center$$17_shape$$8_vertexCount$$ instanceof $b2CircleShape$$?$center$$17_shape$$8_vertexCount$$:null;$center$$17_shape$$8_vertexCount$$=$b2Math$$.MulX($xf$$,$circle$$2_edge$$10_i$$.m_p);this.m_debugDraw.DrawSolidCircle($center$$17_shape$$8_vertexCount$$,$circle$$2_edge$$10_i$$.m_radius,$xf$$.R.col1,$color$$);break;case $b2Shape$$.e_polygonShape:$circle$$2_edge$$10_i$$=0;$circle$$2_edge$$10_i$$=$center$$17_shape$$8_vertexCount$$ instanceof $b2PolygonShape$$?$center$$17_shape$$8_vertexCount$$:null;
$center$$17_shape$$8_vertexCount$$=parseInt($circle$$2_edge$$10_i$$.GetVertexCount());for(var $localVertices$$=$circle$$2_edge$$10_i$$.GetVertices(),$vertices$$=new Vector($center$$17_shape$$8_vertexCount$$),$circle$$2_edge$$10_i$$=0;$circle$$2_edge$$10_i$$<$center$$17_shape$$8_vertexCount$$;++$circle$$2_edge$$10_i$$)$vertices$$[$circle$$2_edge$$10_i$$]=$b2Math$$.MulX($xf$$,$localVertices$$[$circle$$2_edge$$10_i$$]);this.m_debugDraw.DrawSolidPolygon($vertices$$,$center$$17_shape$$8_vertexCount$$,
$color$$);break;case $b2Shape$$.e_edgeShape:$circle$$2_edge$$10_i$$=$center$$17_shape$$8_vertexCount$$ instanceof $b2EdgeShape$$?$center$$17_shape$$8_vertexCount$$:null,this.m_debugDraw.DrawSegment($b2Math$$.MulX($xf$$,$circle$$2_edge$$10_i$$.GetVertex1()),$b2Math$$.MulX($xf$$,$circle$$2_edge$$10_i$$.GetVertex2()),$color$$)}};Box2D.postDefs.push(function(){Box2D.Dynamics.b2World.s_timestep2=new $b2TimeStep$$;Box2D.Dynamics.b2World.s_xf=new $b2Transform$$;Box2D.Dynamics.b2World.s_backupA=new $b2Sweep$$;
Box2D.Dynamics.b2World.s_backupB=new $b2Sweep$$;Box2D.Dynamics.b2World.s_timestep=new $b2TimeStep$$;Box2D.Dynamics.b2World.s_queue=new Vector;Box2D.Dynamics.b2World.s_jointColor=new $b2Color$$(.5,.8,.8);Box2D.Dynamics.b2World.e_newFixture=1;Box2D.Dynamics.b2World.e_locked=2})})();
(function(){var $b2CircleShape$$=Box2D.Collision.Shapes.b2CircleShape,$b2EdgeShape$$=Box2D.Collision.Shapes.b2EdgeShape,$b2PolygonShape$$=Box2D.Collision.Shapes.b2PolygonShape,$b2Shape$$=Box2D.Collision.Shapes.b2Shape,$b2CircleContact$$=Box2D.Dynamics.Contacts.b2CircleContact,$b2Contact$$=Box2D.Dynamics.Contacts.b2Contact,$b2ContactConstraint$$=Box2D.Dynamics.Contacts.b2ContactConstraint,$b2ContactConstraintPoint$$=Box2D.Dynamics.Contacts.b2ContactConstraintPoint,$b2ContactEdge$$=Box2D.Dynamics.Contacts.b2ContactEdge,
$b2ContactFactory$$=Box2D.Dynamics.Contacts.b2ContactFactory,$b2ContactRegister$$=Box2D.Dynamics.Contacts.b2ContactRegister,$b2ContactResult$$=Box2D.Dynamics.Contacts.b2ContactResult,$b2ContactSolver$$=Box2D.Dynamics.Contacts.b2ContactSolver,$b2EdgeAndCircleContact$$=Box2D.Dynamics.Contacts.b2EdgeAndCircleContact,$b2NullContact$$=Box2D.Dynamics.Contacts.b2NullContact,$b2PolyAndCircleContact$$=Box2D.Dynamics.Contacts.b2PolyAndCircleContact,$b2PolyAndEdgeContact$$=Box2D.Dynamics.Contacts.b2PolyAndEdgeContact,
$b2PolygonContact$$=Box2D.Dynamics.Contacts.b2PolygonContact,$b2PositionSolverManifold$$=Box2D.Dynamics.Contacts.b2PositionSolverManifold,$b2Body$$=Box2D.Dynamics.b2Body,$b2TimeStep$$=Box2D.Dynamics.b2TimeStep,$b2Settings$$=Box2D.Common.b2Settings,$b2Mat22$$=Box2D.Common.Math.b2Mat22,$b2Math$$=Box2D.Common.Math.b2Math,$b2Vec2$$=Box2D.Common.Math.b2Vec2,$b2Collision$$=Box2D.Collision.b2Collision,$b2ContactID$$=Box2D.Collision.b2ContactID,$b2Manifold$$=Box2D.Collision.b2Manifold,$b2TimeOfImpact$$=Box2D.Collision.b2TimeOfImpact,
$b2TOIInput$$=Box2D.Collision.b2TOIInput,$b2WorldManifold$$=Box2D.Collision.b2WorldManifold;Box2D.inherit($b2CircleContact$$,Box2D.Dynamics.Contacts.b2Contact);$b2CircleContact$$.prototype.__super=Box2D.Dynamics.Contacts.b2Contact.prototype;$b2CircleContact$$.b2CircleContact=function $$b2CircleContact$$$b2CircleContact$(){Box2D.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)};$b2CircleContact$$.Create=function $$b2CircleContact$$$Create$($allocator$$){return new $b2CircleContact$$};$b2CircleContact$$.Destroy=
function $$b2CircleContact$$$Destroy$($contact$$,$allocator$$){};$b2CircleContact$$.prototype.Reset=function $$b2CircleContact$$$$Reset$($fixtureA$$,$fixtureB$$){this.__super.Reset.call(this,$fixtureA$$,$fixtureB$$)};$b2CircleContact$$.prototype.Evaluate=function $$b2CircleContact$$$$Evaluate$(){var $bA$$=this.m_fixtureA.GetBody(),$bB$$=this.m_fixtureB.GetBody();$b2Collision$$.CollideCircles(this.m_manifold,this.m_fixtureA.GetShape()instanceof $b2CircleShape$$?this.m_fixtureA.GetShape():null,$bA$$.m_xf,
this.m_fixtureB.GetShape()instanceof $b2CircleShape$$?this.m_fixtureB.GetShape():null,$bB$$.m_xf)};$b2Contact$$.b2Contact=function $$b2Contact$$$b2Contact$(){this.m_nodeA=new $b2ContactEdge$$;this.m_nodeB=new $b2ContactEdge$$;this.m_manifold=new $b2Manifold$$;this.m_oldManifold=new $b2Manifold$$};$b2Contact$$.prototype.GetManifold=function $$b2Contact$$$$GetManifold$(){return this.m_manifold};$b2Contact$$.prototype.GetWorldManifold=function $$b2Contact$$$$GetWorldManifold$($worldManifold$$){var $bodyA$$=
this.m_fixtureA.GetBody(),$bodyB$$=this.m_fixtureB.GetBody(),$shapeA$$=this.m_fixtureA.GetShape(),$shapeB$$=this.m_fixtureB.GetShape();$worldManifold$$.Initialize(this.m_manifold,$bodyA$$.GetTransform(),$shapeA$$.m_radius,$bodyB$$.GetTransform(),$shapeB$$.m_radius)};$b2Contact$$.prototype.IsTouching=function $$b2Contact$$$$IsTouching$(){return(this.m_flags&$b2Contact$$.e_touchingFlag)==$b2Contact$$.e_touchingFlag};$b2Contact$$.prototype.IsContinuous=function $$b2Contact$$$$IsContinuous$(){return(this.m_flags&
$b2Contact$$.e_continuousFlag)==$b2Contact$$.e_continuousFlag};$b2Contact$$.prototype.SetSensor=function $$b2Contact$$$$SetSensor$($sensor$$){this.m_flags=$sensor$$?this.m_flags|$b2Contact$$.e_sensorFlag:this.m_flags&~$b2Contact$$.e_sensorFlag};$b2Contact$$.prototype.IsSensor=function $$b2Contact$$$$IsSensor$(){return(this.m_flags&$b2Contact$$.e_sensorFlag)==$b2Contact$$.e_sensorFlag};$b2Contact$$.prototype.SetEnabled=function $$b2Contact$$$$SetEnabled$($flag$$){this.m_flags=$flag$$?this.m_flags|
$b2Contact$$.e_enabledFlag:this.m_flags&~$b2Contact$$.e_enabledFlag};$b2Contact$$.prototype.IsEnabled=function $$b2Contact$$$$IsEnabled$(){return(this.m_flags&$b2Contact$$.e_enabledFlag)==$b2Contact$$.e_enabledFlag};$b2Contact$$.prototype.GetNext=function $$b2Contact$$$$GetNext$(){return this.m_next};$b2Contact$$.prototype.GetFixtureA=function $$b2Contact$$$$GetFixtureA$(){return this.m_fixtureA};$b2Contact$$.prototype.GetFixtureB=function $$b2Contact$$$$GetFixtureB$(){return this.m_fixtureB};$b2Contact$$.prototype.FlagForFiltering=
function $$b2Contact$$$$FlagForFiltering$(){this.m_flags|=$b2Contact$$.e_filterFlag};$b2Contact$$.prototype.b2Contact=function $$b2Contact$$$$b2Contact$(){};$b2Contact$$.prototype.Reset=function $$b2Contact$$$$Reset$($fixtureA$$,$fixtureB$$){void 0===$fixtureA$$&&($fixtureA$$=null);void 0===$fixtureB$$&&($fixtureB$$=null);this.m_flags=$b2Contact$$.e_enabledFlag;if($fixtureA$$&&$fixtureB$$){if($fixtureA$$.IsSensor()||$fixtureB$$.IsSensor())this.m_flags|=$b2Contact$$.e_sensorFlag;var $bodyA$$=$fixtureA$$.GetBody(),
$bodyB$$=$fixtureB$$.GetBody();if($bodyA$$.GetType()!=$b2Body$$.b2_dynamicBody||$bodyA$$.IsBullet()||$bodyB$$.GetType()!=$b2Body$$.b2_dynamicBody||$bodyB$$.IsBullet())this.m_flags|=$b2Contact$$.e_continuousFlag;this.m_fixtureA=$fixtureA$$;this.m_fixtureB=$fixtureB$$;this.m_manifold.m_pointCount=0;this.m_next=this.m_prev=null;this.m_nodeA.contact=null;this.m_nodeA.prev=null;this.m_nodeA.next=null;this.m_nodeA.other=null;this.m_nodeB.contact=null;this.m_nodeB.prev=null;this.m_nodeB.next=null;this.m_nodeB.other=
null}else this.m_fixtureB=this.m_fixtureA=null};$b2Contact$$.prototype.Update=function $$b2Contact$$$$Update$($listener$$){var $tManifold_wasTouching$$=this.m_oldManifold;this.m_oldManifold=this.m_manifold;this.m_manifold=$tManifold_wasTouching$$;this.m_flags|=$b2Contact$$.e_enabledFlag;var $shapeA$$=!1,$tManifold_wasTouching$$=(this.m_flags&$b2Contact$$.e_touchingFlag)==$b2Contact$$.e_touchingFlag,$bodyA$$7_xfA$$=this.m_fixtureA.m_body,$bodyB$$7_xfB$$=this.m_fixtureB.m_body,$aabbOverlap_i$$589_shapeB$$=
this.m_fixtureA.m_aabb.TestOverlap(this.m_fixtureB.m_aabb);if(this.m_flags&$b2Contact$$.e_sensorFlag)$aabbOverlap_i$$589_shapeB$$&&($shapeA$$=this.m_fixtureA.GetShape(),$aabbOverlap_i$$589_shapeB$$=this.m_fixtureB.GetShape(),$bodyA$$7_xfA$$=$bodyA$$7_xfA$$.GetTransform(),$bodyB$$7_xfB$$=$bodyB$$7_xfB$$.GetTransform(),$shapeA$$=$b2Shape$$.TestOverlap($shapeA$$,$bodyA$$7_xfA$$,$aabbOverlap_i$$589_shapeB$$,$bodyB$$7_xfB$$)),this.m_manifold.m_pointCount=0;else{$bodyA$$7_xfA$$.GetType()!=$b2Body$$.b2_dynamicBody||
$bodyA$$7_xfA$$.IsBullet()||$bodyB$$7_xfB$$.GetType()!=$b2Body$$.b2_dynamicBody||$bodyB$$7_xfB$$.IsBullet()?this.m_flags|=$b2Contact$$.e_continuousFlag:this.m_flags&=~$b2Contact$$.e_continuousFlag;if($aabbOverlap_i$$589_shapeB$$)for(this.Evaluate(),$shapeA$$=0<this.m_manifold.m_pointCount,$aabbOverlap_i$$589_shapeB$$=0;$aabbOverlap_i$$589_shapeB$$<this.m_manifold.m_pointCount;++$aabbOverlap_i$$589_shapeB$$){var $mp2$$=this.m_manifold.m_points[$aabbOverlap_i$$589_shapeB$$];$mp2$$.m_normalImpulse=0;
$mp2$$.m_tangentImpulse=0;for(var $id2$$=$mp2$$.m_id,$j$$=0;$j$$<this.m_oldManifold.m_pointCount;++$j$$){var $mp1$$=this.m_oldManifold.m_points[$j$$];if($mp1$$.m_id.key==$id2$$.key){$mp2$$.m_normalImpulse=$mp1$$.m_normalImpulse;$mp2$$.m_tangentImpulse=$mp1$$.m_tangentImpulse;break}}}else this.m_manifold.m_pointCount=0;$shapeA$$!=$tManifold_wasTouching$$&&($bodyA$$7_xfA$$.SetAwake(!0),$bodyB$$7_xfB$$.SetAwake(!0))}this.m_flags=$shapeA$$?this.m_flags|$b2Contact$$.e_touchingFlag:this.m_flags&~$b2Contact$$.e_touchingFlag;
0==$tManifold_wasTouching$$&&1==$shapeA$$&&$listener$$.BeginContact(this);1==$tManifold_wasTouching$$&&0==$shapeA$$&&$listener$$.EndContact(this);0==(this.m_flags&$b2Contact$$.e_sensorFlag)&&$listener$$.PreSolve(this,this.m_oldManifold)};$b2Contact$$.prototype.Evaluate=function $$b2Contact$$$$Evaluate$(){};$b2Contact$$.prototype.ComputeTOI=function $$b2Contact$$$$ComputeTOI$($sweepA$$,$sweepB$$){$b2Contact$$.s_input.proxyA.Set(this.m_fixtureA.GetShape());$b2Contact$$.s_input.proxyB.Set(this.m_fixtureB.GetShape());
$b2Contact$$.s_input.sweepA=$sweepA$$;$b2Contact$$.s_input.sweepB=$sweepB$$;$b2Contact$$.s_input.tolerance=$b2Settings$$.b2_linearSlop;return $b2TimeOfImpact$$.TimeOfImpact($b2Contact$$.s_input)};Box2D.postDefs.push(function(){Box2D.Dynamics.Contacts.b2Contact.e_sensorFlag=1;Box2D.Dynamics.Contacts.b2Contact.e_continuousFlag=2;Box2D.Dynamics.Contacts.b2Contact.e_islandFlag=4;Box2D.Dynamics.Contacts.b2Contact.e_toiFlag=8;Box2D.Dynamics.Contacts.b2Contact.e_touchingFlag=16;Box2D.Dynamics.Contacts.b2Contact.e_enabledFlag=
32;Box2D.Dynamics.Contacts.b2Contact.e_filterFlag=64;Box2D.Dynamics.Contacts.b2Contact.s_input=new $b2TOIInput$$});$b2ContactConstraint$$.b2ContactConstraint=function $$b2ContactConstraint$$$b2ContactConstraint$(){this.localPlaneNormal=new $b2Vec2$$;this.localPoint=new $b2Vec2$$;this.normal=new $b2Vec2$$;this.normalMass=new $b2Mat22$$;this.K=new $b2Mat22$$};$b2ContactConstraint$$.prototype.b2ContactConstraint=function $$b2ContactConstraint$$$$b2ContactConstraint$(){this.points=new Vector($b2Settings$$.b2_maxManifoldPoints);
for(var $i$$=0;$i$$<$b2Settings$$.b2_maxManifoldPoints;$i$$++)this.points[$i$$]=new $b2ContactConstraintPoint$$};$b2ContactConstraintPoint$$.b2ContactConstraintPoint=function $$b2ContactConstraintPoint$$$b2ContactConstraintPoint$(){this.localPoint=new $b2Vec2$$;this.rA=new $b2Vec2$$;this.rB=new $b2Vec2$$};$b2ContactEdge$$.b2ContactEdge=function $$b2ContactEdge$$$b2ContactEdge$(){};$b2ContactFactory$$.b2ContactFactory=function $$b2ContactFactory$$$b2ContactFactory$(){};$b2ContactFactory$$.prototype.b2ContactFactory=
function $$b2ContactFactory$$$$b2ContactFactory$($allocator$$){this.m_allocator=$allocator$$;this.InitializeRegisters()};$b2ContactFactory$$.prototype.AddType=function $$b2ContactFactory$$$$AddType$($createFcn$$,$destroyFcn$$,$type1$$,$type2$$){void 0===$type1$$&&($type1$$=0);void 0===$type2$$&&($type2$$=0);this.m_registers[$type1$$][$type2$$].createFcn=$createFcn$$;this.m_registers[$type1$$][$type2$$].destroyFcn=$destroyFcn$$;this.m_registers[$type1$$][$type2$$].primary=!0;$type1$$!=$type2$$&&(this.m_registers[$type2$$][$type1$$].createFcn=
$createFcn$$,this.m_registers[$type2$$][$type1$$].destroyFcn=$destroyFcn$$,this.m_registers[$type2$$][$type1$$].primary=!1)};$b2ContactFactory$$.prototype.InitializeRegisters=function $$b2ContactFactory$$$$InitializeRegisters$(){this.m_registers=new Vector($b2Shape$$.e_shapeTypeCount);for(var $i$$=0;$i$$<$b2Shape$$.e_shapeTypeCount;$i$$++){this.m_registers[$i$$]=new Vector($b2Shape$$.e_shapeTypeCount);for(var $j$$=0;$j$$<$b2Shape$$.e_shapeTypeCount;$j$$++)this.m_registers[$i$$][$j$$]=new $b2ContactRegister$$}this.AddType($b2CircleContact$$.Create,
$b2CircleContact$$.Destroy,$b2Shape$$.e_circleShape,$b2Shape$$.e_circleShape);this.AddType($b2PolyAndCircleContact$$.Create,$b2PolyAndCircleContact$$.Destroy,$b2Shape$$.e_polygonShape,$b2Shape$$.e_circleShape);this.AddType($b2PolygonContact$$.Create,$b2PolygonContact$$.Destroy,$b2Shape$$.e_polygonShape,$b2Shape$$.e_polygonShape);this.AddType($b2EdgeAndCircleContact$$.Create,$b2EdgeAndCircleContact$$.Destroy,$b2Shape$$.e_edgeShape,$b2Shape$$.e_circleShape);this.AddType($b2PolyAndEdgeContact$$.Create,
$b2PolyAndEdgeContact$$.Destroy,$b2Shape$$.e_polygonShape,$b2Shape$$.e_edgeShape)};$b2ContactFactory$$.prototype.Create=function $$b2ContactFactory$$$$Create$($fixtureA$$,$fixtureB$$){var $reg$$1_type1$$=parseInt($fixtureA$$.GetType()),$c$$313_createFcn$$1_type2$$=parseInt($fixtureB$$.GetType()),$reg$$1_type1$$=this.m_registers[$reg$$1_type1$$][$c$$313_createFcn$$1_type2$$];if($reg$$1_type1$$.pool)return $c$$313_createFcn$$1_type2$$=$reg$$1_type1$$.pool,$reg$$1_type1$$.pool=$c$$313_createFcn$$1_type2$$.m_next,
$reg$$1_type1$$.poolCount--,$c$$313_createFcn$$1_type2$$.Reset($fixtureA$$,$fixtureB$$),$c$$313_createFcn$$1_type2$$;$c$$313_createFcn$$1_type2$$=$reg$$1_type1$$.createFcn;return null!=$c$$313_createFcn$$1_type2$$?($reg$$1_type1$$.primary?($c$$313_createFcn$$1_type2$$=$c$$313_createFcn$$1_type2$$(this.m_allocator),$c$$313_createFcn$$1_type2$$.Reset($fixtureA$$,$fixtureB$$)):($c$$313_createFcn$$1_type2$$=$c$$313_createFcn$$1_type2$$(this.m_allocator),$c$$313_createFcn$$1_type2$$.Reset($fixtureB$$,
$fixtureA$$)),$c$$313_createFcn$$1_type2$$):null};$b2ContactFactory$$.prototype.Destroy=function $$b2ContactFactory$$$$Destroy$($contact$$){0<$contact$$.m_manifold.m_pointCount&&($contact$$.m_fixtureA.m_body.SetAwake(!0),$contact$$.m_fixtureB.m_body.SetAwake(!0));var $destroyFcn$$1_reg$$2_type1$$=parseInt($contact$$.m_fixtureA.GetType()),$type2$$=parseInt($contact$$.m_fixtureB.GetType()),$destroyFcn$$1_reg$$2_type1$$=this.m_registers[$destroyFcn$$1_reg$$2_type1$$][$type2$$];$destroyFcn$$1_reg$$2_type1$$.poolCount++;
$contact$$.m_next=$destroyFcn$$1_reg$$2_type1$$.pool;$destroyFcn$$1_reg$$2_type1$$.pool=$contact$$;$destroyFcn$$1_reg$$2_type1$$=$destroyFcn$$1_reg$$2_type1$$.destroyFcn;$destroyFcn$$1_reg$$2_type1$$($contact$$,this.m_allocator)};$b2ContactRegister$$.b2ContactRegister=function $$b2ContactRegister$$$b2ContactRegister$(){};$b2ContactResult$$.b2ContactResult=function $$b2ContactResult$$$b2ContactResult$(){this.position=new $b2Vec2$$;this.normal=new $b2Vec2$$;this.id=new $b2ContactID$$};$b2ContactSolver$$.b2ContactSolver=
function $$b2ContactSolver$$$b2ContactSolver$(){this.m_step=new $b2TimeStep$$;this.m_constraints=new Vector};$b2ContactSolver$$.prototype.b2ContactSolver=function $$b2ContactSolver$$$$b2ContactSolver$(){};$b2ContactSolver$$.prototype.Initialize=function $$b2ContactSolver$$$$Initialize$($i$$592_step$$,$contacts$$,$contactCount$$,$allocator$$4_cc$$2_fixtureA$$){void 0===$contactCount$$&&($contactCount$$=0);var $contact$$10_k22_normalY$$;this.m_step.Set($i$$592_step$$);this.m_allocator=$allocator$$4_cc$$2_fixtureA$$;
$i$$592_step$$=0;for(this.m_constraintCount=$contactCount$$;this.m_constraints.length<this.m_constraintCount;)this.m_constraints[this.m_constraints.length]=new $b2ContactConstraint$$;for($i$$592_step$$=0;$i$$592_step$$<$contactCount$$;++$i$$592_step$$){$contact$$10_k22_normalY$$=$contacts$$[$i$$592_step$$];$allocator$$4_cc$$2_fixtureA$$=$contact$$10_k22_normalY$$.m_fixtureA;var $fixtureB$$11_k11_normalX$$=$contact$$10_k22_normalY$$.m_fixtureB,$k$$43_radiusA$$=$allocator$$4_cc$$2_fixtureA$$.m_shape.m_radius,
$ccp_radiusB$$=$fixtureB$$11_k11_normalX$$.m_shape.m_radius,$bodyA$$=$allocator$$4_cc$$2_fixtureA$$.m_body,$bodyB$$=$fixtureB$$11_k11_normalX$$.m_body,$invMassA_manifold$$=$contact$$10_k22_normalY$$.GetManifold(),$cp$$4_friction$$=$b2Settings$$.b2MixFriction($allocator$$4_cc$$2_fixtureA$$.GetFriction(),$fixtureB$$11_k11_normalX$$.GetFriction()),$rAY_restitution$$=$b2Settings$$.b2MixRestitution($allocator$$4_cc$$2_fixtureA$$.GetRestitution(),$fixtureB$$11_k11_normalX$$.GetRestitution()),$invMassB_vAX$$=
$bodyA$$.m_linearVelocity.x,$rn1A_vAY$$=$bodyA$$.m_linearVelocity.y,$ccp2_rn2B_vBX$$=$bodyB$$.m_linearVelocity.x,$ccp1_rn1B_vBY$$=$bodyB$$.m_linearVelocity.y,$rn2A_wA$$=$bodyA$$.m_angularVelocity,$wB$$=$bodyB$$.m_angularVelocity;$b2Settings$$.b2Assert(0<$invMassA_manifold$$.m_pointCount);$b2ContactSolver$$.s_worldManifold.Initialize($invMassA_manifold$$,$bodyA$$.m_xf,$k$$43_radiusA$$,$bodyB$$.m_xf,$ccp_radiusB$$);$fixtureB$$11_k11_normalX$$=$b2ContactSolver$$.s_worldManifold.m_normal.x;$contact$$10_k22_normalY$$=
$b2ContactSolver$$.s_worldManifold.m_normal.y;$allocator$$4_cc$$2_fixtureA$$=this.m_constraints[$i$$592_step$$];$allocator$$4_cc$$2_fixtureA$$.bodyA=$bodyA$$;$allocator$$4_cc$$2_fixtureA$$.bodyB=$bodyB$$;$allocator$$4_cc$$2_fixtureA$$.manifold=$invMassA_manifold$$;$allocator$$4_cc$$2_fixtureA$$.normal.x=$fixtureB$$11_k11_normalX$$;$allocator$$4_cc$$2_fixtureA$$.normal.y=$contact$$10_k22_normalY$$;$allocator$$4_cc$$2_fixtureA$$.pointCount=$invMassA_manifold$$.m_pointCount;$allocator$$4_cc$$2_fixtureA$$.friction=
$cp$$4_friction$$;$allocator$$4_cc$$2_fixtureA$$.restitution=$rAY_restitution$$;$allocator$$4_cc$$2_fixtureA$$.localPlaneNormal.x=$invMassA_manifold$$.m_localPlaneNormal.x;$allocator$$4_cc$$2_fixtureA$$.localPlaneNormal.y=$invMassA_manifold$$.m_localPlaneNormal.y;$allocator$$4_cc$$2_fixtureA$$.localPoint.x=$invMassA_manifold$$.m_localPoint.x;$allocator$$4_cc$$2_fixtureA$$.localPoint.y=$invMassA_manifold$$.m_localPoint.y;$allocator$$4_cc$$2_fixtureA$$.radius=$k$$43_radiusA$$+$ccp_radiusB$$;$allocator$$4_cc$$2_fixtureA$$.type=
$invMassA_manifold$$.m_type;for($k$$43_radiusA$$=0;$k$$43_radiusA$$<$allocator$$4_cc$$2_fixtureA$$.pointCount;++$k$$43_radiusA$$){$cp$$4_friction$$=$invMassA_manifold$$.m_points[$k$$43_radiusA$$];$ccp_radiusB$$=$allocator$$4_cc$$2_fixtureA$$.points[$k$$43_radiusA$$];$ccp_radiusB$$.normalImpulse=$cp$$4_friction$$.m_normalImpulse;$ccp_radiusB$$.tangentImpulse=$cp$$4_friction$$.m_tangentImpulse;$ccp_radiusB$$.localPoint.SetV($cp$$4_friction$$.m_localPoint);var $cp$$4_friction$$=$ccp_radiusB$$.rA.x=$b2ContactSolver$$.s_worldManifold.m_points[$k$$43_radiusA$$].x-
$bodyA$$.m_sweep.c.x,$rAY_restitution$$=$ccp_radiusB$$.rA.y=$b2ContactSolver$$.s_worldManifold.m_points[$k$$43_radiusA$$].y-$bodyA$$.m_sweep.c.y,$rBX$$=$ccp_radiusB$$.rB.x=$b2ContactSolver$$.s_worldManifold.m_points[$k$$43_radiusA$$].x-$bodyB$$.m_sweep.c.x,$rBY$$=$ccp_radiusB$$.rB.y=$b2ContactSolver$$.s_worldManifold.m_points[$k$$43_radiusA$$].y-$bodyB$$.m_sweep.c.y,$rnA_rtA$$=$cp$$4_friction$$*$contact$$10_k22_normalY$$-$rAY_restitution$$*$fixtureB$$11_k11_normalX$$,$rnB_rtB_tangentX$$=$rBX$$*$contact$$10_k22_normalY$$-
$rBY$$*$fixtureB$$11_k11_normalX$$,$rnA_rtA$$=$rnA_rtA$$*$rnA_rtA$$,$rnB_rtB_tangentX$$=$rnB_rtB_tangentX$$*$rnB_rtB_tangentX$$;$ccp_radiusB$$.normalMass=1/($bodyA$$.m_invMass+$bodyB$$.m_invMass+$bodyA$$.m_invI*$rnA_rtA$$+$bodyB$$.m_invI*$rnB_rtB_tangentX$$);var $kEqualized_tangentY$$=$bodyA$$.m_mass*$bodyA$$.m_invMass+$bodyB$$.m_mass*$bodyB$$.m_invMass,$kEqualized_tangentY$$=$kEqualized_tangentY$$+($bodyA$$.m_mass*$bodyA$$.m_invI*$rnA_rtA$$+$bodyB$$.m_mass*$bodyB$$.m_invI*$rnB_rtB_tangentX$$);$ccp_radiusB$$.equalizedMass=
1/$kEqualized_tangentY$$;$rnB_rtB_tangentX$$=$contact$$10_k22_normalY$$;$kEqualized_tangentY$$=-$fixtureB$$11_k11_normalX$$;$rnA_rtA$$=$cp$$4_friction$$*$kEqualized_tangentY$$-$rAY_restitution$$*$rnB_rtB_tangentX$$;$rnB_rtB_tangentX$$=$rBX$$*$kEqualized_tangentY$$-$rBY$$*$rnB_rtB_tangentX$$;$rnA_rtA$$*=$rnA_rtA$$;$rnB_rtB_tangentX$$*=$rnB_rtB_tangentX$$;$ccp_radiusB$$.tangentMass=1/($bodyA$$.m_invMass+$bodyB$$.m_invMass+$bodyA$$.m_invI*$rnA_rtA$$+$bodyB$$.m_invI*$rnB_rtB_tangentX$$);$ccp_radiusB$$.velocityBias=
0;$cp$$4_friction$$=$allocator$$4_cc$$2_fixtureA$$.normal.x*($ccp2_rn2B_vBX$$+-$wB$$*$rBY$$-$invMassB_vAX$$- -$rn2A_wA$$*$rAY_restitution$$)+$allocator$$4_cc$$2_fixtureA$$.normal.y*($ccp1_rn1B_vBY$$+$wB$$*$rBX$$-$rn1A_vAY$$-$rn2A_wA$$*$cp$$4_friction$$);$cp$$4_friction$$<-$b2Settings$$.b2_velocityThreshold&&($ccp_radiusB$$.velocityBias+=-$allocator$$4_cc$$2_fixtureA$$.restitution*$cp$$4_friction$$)}2==$allocator$$4_cc$$2_fixtureA$$.pointCount&&($ccp1_rn1B_vBY$$=$allocator$$4_cc$$2_fixtureA$$.points[0],
$ccp2_rn2B_vBX$$=$allocator$$4_cc$$2_fixtureA$$.points[1],$invMassA_manifold$$=$bodyA$$.m_invMass,$bodyA$$=$bodyA$$.m_invI,$invMassB_vAX$$=$bodyB$$.m_invMass,$bodyB$$=$bodyB$$.m_invI,$rn1A_vAY$$=$ccp1_rn1B_vBY$$.rA.x*$contact$$10_k22_normalY$$-$ccp1_rn1B_vBY$$.rA.y*$fixtureB$$11_k11_normalX$$,$ccp1_rn1B_vBY$$=$ccp1_rn1B_vBY$$.rB.x*$contact$$10_k22_normalY$$-$ccp1_rn1B_vBY$$.rB.y*$fixtureB$$11_k11_normalX$$,$rn2A_wA$$=$ccp2_rn2B_vBX$$.rA.x*$contact$$10_k22_normalY$$-$ccp2_rn2B_vBX$$.rA.y*$fixtureB$$11_k11_normalX$$,
$ccp2_rn2B_vBX$$=$ccp2_rn2B_vBX$$.rB.x*$contact$$10_k22_normalY$$-$ccp2_rn2B_vBX$$.rB.y*$fixtureB$$11_k11_normalX$$,$fixtureB$$11_k11_normalX$$=$invMassA_manifold$$+$invMassB_vAX$$+$bodyA$$*$rn1A_vAY$$*$rn1A_vAY$$+$bodyB$$*$ccp1_rn1B_vBY$$*$ccp1_rn1B_vBY$$,$contact$$10_k22_normalY$$=$invMassA_manifold$$+$invMassB_vAX$$+$bodyA$$*$rn2A_wA$$*$rn2A_wA$$+$bodyB$$*$ccp2_rn2B_vBX$$*$ccp2_rn2B_vBX$$,$bodyB$$=$invMassA_manifold$$+$invMassB_vAX$$+$bodyA$$*$rn1A_vAY$$*$rn2A_wA$$+$bodyB$$*$ccp1_rn1B_vBY$$*$ccp2_rn2B_vBX$$,
$fixtureB$$11_k11_normalX$$*$fixtureB$$11_k11_normalX$$<100*($fixtureB$$11_k11_normalX$$*$contact$$10_k22_normalY$$-$bodyB$$*$bodyB$$)?($allocator$$4_cc$$2_fixtureA$$.K.col1.Set($fixtureB$$11_k11_normalX$$,$bodyB$$),$allocator$$4_cc$$2_fixtureA$$.K.col2.Set($bodyB$$,$contact$$10_k22_normalY$$),$allocator$$4_cc$$2_fixtureA$$.K.GetInverse($allocator$$4_cc$$2_fixtureA$$.normalMass)):$allocator$$4_cc$$2_fixtureA$$.pointCount=1)}};$b2ContactSolver$$.prototype.InitVelocityConstraints=function $$b2ContactSolver$$$$InitVelocityConstraints$($step$$){for(var $i$$=
0;$i$$<this.m_constraintCount;++$i$$){var $c$$=this.m_constraints[$i$$],$bodyA$$9_ccp2$$=$c$$.bodyA,$bodyB$$=$c$$.bodyB,$invMassA$$=$bodyA$$9_ccp2$$.m_invMass,$invIA$$=$bodyA$$9_ccp2$$.m_invI,$invMassB$$=$bodyB$$.m_invMass,$invIB$$=$bodyB$$.m_invI,$normalX$$=$c$$.normal.x,$normalY$$=$c$$.normal.y,$tangentX$$=$normalY$$,$tangentY$$=-$normalX$$,$j$$=0,$tCount$$=0;if($step$$.warmStarting)for($tCount$$=$c$$.pointCount,$j$$=0;$j$$<$tCount$$;++$j$$){var $ccp$$=$c$$.points[$j$$];$ccp$$.normalImpulse*=$step$$.dtRatio;
$ccp$$.tangentImpulse*=$step$$.dtRatio;var $PX$$=$ccp$$.normalImpulse*$normalX$$+$ccp$$.tangentImpulse*$tangentX$$,$PY$$=$ccp$$.normalImpulse*$normalY$$+$ccp$$.tangentImpulse*$tangentY$$;$bodyA$$9_ccp2$$.m_angularVelocity-=$invIA$$*($ccp$$.rA.x*$PY$$-$ccp$$.rA.y*$PX$$);$bodyA$$9_ccp2$$.m_linearVelocity.x-=$invMassA$$*$PX$$;$bodyA$$9_ccp2$$.m_linearVelocity.y-=$invMassA$$*$PY$$;$bodyB$$.m_angularVelocity+=$invIB$$*($ccp$$.rB.x*$PY$$-$ccp$$.rB.y*$PX$$);$bodyB$$.m_linearVelocity.x+=$invMassB$$*$PX$$;
$bodyB$$.m_linearVelocity.y+=$invMassB$$*$PY$$}else for($tCount$$=$c$$.pointCount,$j$$=0;$j$$<$tCount$$;++$j$$)$bodyA$$9_ccp2$$=$c$$.points[$j$$],$bodyA$$9_ccp2$$.normalImpulse=0,$bodyA$$9_ccp2$$.tangentImpulse=0}};$b2ContactSolver$$.prototype.SolveVelocityConstraints=function $$b2ContactSolver$$$$SolveVelocityConstraints$(){for(var $cp2_j$$=0,$ccp$$,$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$=0,$bX$$=0,$P1X_c$$=0,$PX$$1_bY$$=$bX$$=$bX$$=$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$=$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$=0,
$aY_dY$$14_friction$$=$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$=$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$=0,$P2X_normalX$$=$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$=$P1X_c$$=0,$P2Y_normalY$$=0,$tMat$$26_tangentY$$,$i$$=0;$i$$<this.m_constraintCount;++$i$$){var $P1X_c$$=this.m_constraints[$i$$],$bodyA$$=$P1X_c$$.bodyA,$bodyB$$=$P1X_c$$.bodyB,$wA$$=$bodyA$$.m_angularVelocity,$wB$$=$bodyB$$.m_angularVelocity,$vA$$=$bodyA$$.m_linearVelocity,$vB$$=$bodyB$$.m_linearVelocity,$invMassA$$=$bodyA$$.m_invMass,$invIA$$=$bodyA$$.m_invI,
$invMassB$$=$bodyB$$.m_invMass,$invIB$$=$bodyB$$.m_invI,$P2X_normalX$$=$P1X_c$$.normal.x,$tangentX$$=$P2Y_normalY$$=$P1X_c$$.normal.y;$tMat$$26_tangentY$$=-$P2X_normalX$$;$aY_dY$$14_friction$$=$P1X_c$$.friction;for($cp2_j$$=0;$cp2_j$$<$P1X_c$$.pointCount;$cp2_j$$++)$ccp$$=$P1X_c$$.points[$cp2_j$$],$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$=$vB$$.x-$wB$$*$ccp$$.rB.y-$vA$$.x+$wA$$*$ccp$$.rA.y,$bX$$=$vB$$.y+$wB$$*$ccp$$.rB.x-$vA$$.y-$wA$$*$ccp$$.rA.x,$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$=$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$*
$tangentX$$+$bX$$*$tMat$$26_tangentY$$,$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$=$ccp$$.tangentMass*-$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$,$bX$$=$aY_dY$$14_friction$$*$ccp$$.normalImpulse,$bX$$=$b2Math$$.Clamp($ccp$$.tangentImpulse+$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$,-$bX$$,$bX$$),$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$=$bX$$-$ccp$$.tangentImpulse,$PX$$1_bY$$=$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$*$tangentX$$,$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$*=$tMat$$26_tangentY$$,$vA$$.x-=$invMassA$$*$PX$$1_bY$$,$vA$$.y-=$invMassA$$*$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$,
$wA$$-=$invIA$$*($ccp$$.rA.x*$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$-$ccp$$.rA.y*$PX$$1_bY$$),$vB$$.x+=$invMassB$$*$PX$$1_bY$$,$vB$$.y+=$invMassB$$*$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$,$wB$$+=$invIB$$*($ccp$$.rB.x*$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$-$ccp$$.rB.y*$PX$$1_bY$$),$ccp$$.tangentImpulse=$bX$$;parseInt($P1X_c$$.pointCount);if(1==$P1X_c$$.pointCount)$ccp$$=$P1X_c$$.points[0],$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$=$vB$$.x+-$wB$$*$ccp$$.rB.y-$vA$$.x- -$wA$$*$ccp$$.rA.y,$bX$$=$vB$$.y+$wB$$*$ccp$$.rB.x-$vA$$.y-
$wA$$*$ccp$$.rA.x,$P1X_c$$=$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$*$P2X_normalX$$+$bX$$*$P2Y_normalY$$,$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$=-$ccp$$.normalMass*($P1X_c$$-$ccp$$.velocityBias),$bX$$=$ccp$$.normalImpulse+$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$,$bX$$=0<$bX$$?$bX$$:0,$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$=$bX$$-$ccp$$.normalImpulse,$PX$$1_bY$$=$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$*$P2X_normalX$$,$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$*=$P2Y_normalY$$,$vA$$.x-=$invMassA$$*$PX$$1_bY$$,$vA$$.y-=$invMassA$$*$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$,
$wA$$-=$invIA$$*($ccp$$.rA.x*$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$-$ccp$$.rA.y*$PX$$1_bY$$),$vB$$.x+=$invMassB$$*$PX$$1_bY$$,$vB$$.y+=$invMassB$$*$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$,$wB$$+=$invIB$$*($ccp$$.rB.x*$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$-$ccp$$.rB.y*$PX$$1_bY$$),$ccp$$.normalImpulse=$bX$$;else{$ccp$$=$P1X_c$$.points[0];var $cp2_j$$=$P1X_c$$.points[1],$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$=$ccp$$.normalImpulse,$aY_dY$$14_friction$$=$cp2_j$$.normalImpulse,$vn1$$=($vB$$.x-$wB$$*$ccp$$.rB.y-$vA$$.x+$wA$$*
$ccp$$.rA.y)*$P2X_normalX$$+($vB$$.y+$wB$$*$ccp$$.rB.x-$vA$$.y-$wA$$*$ccp$$.rA.x)*$P2Y_normalY$$,$vn2$$=($vB$$.x-$wB$$*$cp2_j$$.rB.y-$vA$$.x+$wA$$*$cp2_j$$.rA.y)*$P2X_normalX$$+($vB$$.y+$wB$$*$cp2_j$$.rB.x-$vA$$.y-$wA$$*$cp2_j$$.rA.x)*$P2Y_normalY$$,$bX$$=$vn1$$-$ccp$$.velocityBias,$PX$$1_bY$$=$vn2$$-$cp2_j$$.velocityBias;$tMat$$26_tangentY$$=$P1X_c$$.K;$bX$$-=$tMat$$26_tangentY$$.col1.x*$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$+$tMat$$26_tangentY$$.col2.x*$aY_dY$$14_friction$$;for($PX$$1_bY$$-=$tMat$$26_tangentY$$.col1.y*
$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$+$tMat$$26_tangentY$$.col2.y*$aY_dY$$14_friction$$;;){$tMat$$26_tangentY$$=$P1X_c$$.normalMass;$tangentX$$=-($tMat$$26_tangentY$$.col1.x*$bX$$+$tMat$$26_tangentY$$.col2.x*$PX$$1_bY$$);$tMat$$26_tangentY$$=-($tMat$$26_tangentY$$.col1.y*$bX$$+$tMat$$26_tangentY$$.col2.y*$PX$$1_bY$$);if(0<=$tangentX$$&&0<=$tMat$$26_tangentY$$){$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$=$tangentX$$-$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$;$aY_dY$$14_friction$$=$tMat$$26_tangentY$$-$aY_dY$$14_friction$$;
$P1X_c$$=$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$*$P2X_normalX$$;$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$*=$P2Y_normalY$$;$P2X_normalX$$*=$aY_dY$$14_friction$$;$P2Y_normalY$$*=$aY_dY$$14_friction$$;$vA$$.x-=$invMassA$$*($P1X_c$$+$P2X_normalX$$);$vA$$.y-=$invMassA$$*($P1Y_PY$$1_aX_dX$$14_dvX_lambda$$+$P2Y_normalY$$);$wA$$-=$invIA$$*($ccp$$.rA.x*$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$-$ccp$$.rA.y*$P1X_c$$+$cp2_j$$.rA.x*$P2Y_normalY$$-$cp2_j$$.rA.y*$P2X_normalX$$);$vB$$.x+=$invMassB$$*($P1X_c$$+$P2X_normalX$$);$vB$$.y+=
$invMassB$$*($P1Y_PY$$1_aX_dX$$14_dvX_lambda$$+$P2Y_normalY$$);$wB$$+=$invIB$$*($ccp$$.rB.x*$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$-$ccp$$.rB.y*$P1X_c$$+$cp2_j$$.rB.x*$P2Y_normalY$$-$cp2_j$$.rB.y*$P2X_normalX$$);$ccp$$.normalImpulse=$tangentX$$;$cp2_j$$.normalImpulse=$tMat$$26_tangentY$$;break}$tangentX$$=-$ccp$$.normalMass*$bX$$;$tMat$$26_tangentY$$=0;$vn2$$=$P1X_c$$.K.col1.y*$tangentX$$+$PX$$1_bY$$;if(0<=$tangentX$$&&0<=$vn2$$){$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$=$tangentX$$-$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$;
$aY_dY$$14_friction$$=$tMat$$26_tangentY$$-$aY_dY$$14_friction$$;$P1X_c$$=$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$*$P2X_normalX$$;$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$*=$P2Y_normalY$$;$P2X_normalX$$*=$aY_dY$$14_friction$$;$P2Y_normalY$$*=$aY_dY$$14_friction$$;$vA$$.x-=$invMassA$$*($P1X_c$$+$P2X_normalX$$);$vA$$.y-=$invMassA$$*($P1Y_PY$$1_aX_dX$$14_dvX_lambda$$+$P2Y_normalY$$);$wA$$-=$invIA$$*($ccp$$.rA.x*$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$-$ccp$$.rA.y*$P1X_c$$+$cp2_j$$.rA.x*$P2Y_normalY$$-$cp2_j$$.rA.y*$P2X_normalX$$);
$vB$$.x+=$invMassB$$*($P1X_c$$+$P2X_normalX$$);$vB$$.y+=$invMassB$$*($P1Y_PY$$1_aX_dX$$14_dvX_lambda$$+$P2Y_normalY$$);$wB$$+=$invIB$$*($ccp$$.rB.x*$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$-$ccp$$.rB.y*$P1X_c$$+$cp2_j$$.rB.x*$P2Y_normalY$$-$cp2_j$$.rB.y*$P2X_normalX$$);$ccp$$.normalImpulse=$tangentX$$;$cp2_j$$.normalImpulse=$tMat$$26_tangentY$$;break}$tangentX$$=0;$tMat$$26_tangentY$$=-$cp2_j$$.normalMass*$PX$$1_bY$$;$vn1$$=$P1X_c$$.K.col2.x*$tMat$$26_tangentY$$+$bX$$;if(0<=$tMat$$26_tangentY$$&&0<=$vn1$$){$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$=
$tangentX$$-$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$;$aY_dY$$14_friction$$=$tMat$$26_tangentY$$-$aY_dY$$14_friction$$;$P1X_c$$=$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$*$P2X_normalX$$;$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$*=$P2Y_normalY$$;$P2X_normalX$$*=$aY_dY$$14_friction$$;$P2Y_normalY$$*=$aY_dY$$14_friction$$;$vA$$.x-=$invMassA$$*($P1X_c$$+$P2X_normalX$$);$vA$$.y-=$invMassA$$*($P1Y_PY$$1_aX_dX$$14_dvX_lambda$$+$P2Y_normalY$$);$wA$$-=$invIA$$*($ccp$$.rA.x*$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$-$ccp$$.rA.y*$P1X_c$$+$cp2_j$$.rA.x*
$P2Y_normalY$$-$cp2_j$$.rA.y*$P2X_normalX$$);$vB$$.x+=$invMassB$$*($P1X_c$$+$P2X_normalX$$);$vB$$.y+=$invMassB$$*($P1Y_PY$$1_aX_dX$$14_dvX_lambda$$+$P2Y_normalY$$);$wB$$+=$invIB$$*($ccp$$.rB.x*$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$-$ccp$$.rB.y*$P1X_c$$+$cp2_j$$.rB.x*$P2Y_normalY$$-$cp2_j$$.rB.y*$P2X_normalX$$);$ccp$$.normalImpulse=$tangentX$$;$cp2_j$$.normalImpulse=$tMat$$26_tangentY$$;break}$tMat$$26_tangentY$$=$tangentX$$=0;$vn1$$=$bX$$;$vn2$$=$PX$$1_bY$$;if(0<=$vn1$$&&0<=$vn2$$){$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$=
$tangentX$$-$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$;$aY_dY$$14_friction$$=$tMat$$26_tangentY$$-$aY_dY$$14_friction$$;$P1X_c$$=$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$*$P2X_normalX$$;$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$*=$P2Y_normalY$$;$P2X_normalX$$*=$aY_dY$$14_friction$$;$P2Y_normalY$$*=$aY_dY$$14_friction$$;$vA$$.x-=$invMassA$$*($P1X_c$$+$P2X_normalX$$);$vA$$.y-=$invMassA$$*($P1Y_PY$$1_aX_dX$$14_dvX_lambda$$+$P2Y_normalY$$);$wA$$-=$invIA$$*($ccp$$.rA.x*$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$-$ccp$$.rA.y*$P1X_c$$+$cp2_j$$.rA.x*
$P2Y_normalY$$-$cp2_j$$.rA.y*$P2X_normalX$$);$vB$$.x+=$invMassB$$*($P1X_c$$+$P2X_normalX$$);$vB$$.y+=$invMassB$$*($P1Y_PY$$1_aX_dX$$14_dvX_lambda$$+$P2Y_normalY$$);$wB$$+=$invIB$$*($ccp$$.rB.x*$P1Y_PY$$1_aX_dX$$14_dvX_lambda$$-$ccp$$.rB.y*$P1X_c$$+$cp2_j$$.rB.x*$P2Y_normalY$$-$cp2_j$$.rB.y*$P2X_normalX$$);$ccp$$.normalImpulse=$tangentX$$;$cp2_j$$.normalImpulse=$tMat$$26_tangentY$$;break}break}}$bodyA$$.m_angularVelocity=$wA$$;$bodyB$$.m_angularVelocity=$wB$$}};$b2ContactSolver$$.prototype.FinalizeVelocityConstraints=
function $$b2ContactSolver$$$$FinalizeVelocityConstraints$(){for(var $i$$=0;$i$$<this.m_constraintCount;++$i$$)for(var $c$$=this.m_constraints[$i$$],$m$$=$c$$.manifold,$j$$=0;$j$$<$c$$.pointCount;++$j$$){var $point1$$=$m$$.m_points[$j$$],$point2$$=$c$$.points[$j$$];$point1$$.m_normalImpulse=$point2$$.normalImpulse;$point1$$.m_tangentImpulse=$point2$$.tangentImpulse}};$b2ContactSolver$$.prototype.SolvePositionConstraints=function $$b2ContactSolver$$$$SolvePositionConstraints$($baumgarte$$){void 0===
$baumgarte$$&&($baumgarte$$=0);for(var $minSeparation$$=0,$i$$=0;$i$$<this.m_constraintCount;$i$$++){var $c$$=this.m_constraints[$i$$],$bodyA$$=$c$$.bodyA,$bodyB$$=$c$$.bodyB,$invMassA$$=$bodyA$$.m_mass*$bodyA$$.m_invMass,$invIA$$=$bodyA$$.m_mass*$bodyA$$.m_invI,$invMassB$$=$bodyB$$.m_mass*$bodyB$$.m_invMass,$invIB$$=$bodyB$$.m_mass*$bodyB$$.m_invI;$b2ContactSolver$$.s_psm.Initialize($c$$);for(var $normal$$=$b2ContactSolver$$.s_psm.m_normal,$j$$=0;$j$$<$c$$.pointCount;$j$$++){var $PX$$2_ccp$$=$c$$.points[$j$$],
$point$$39_rBY$$=$b2ContactSolver$$.s_psm.m_points[$j$$],$C$$10_PY$$2_impulse$$2_separation$$=$b2ContactSolver$$.s_psm.m_separations[$j$$],$rAX$$=$point$$39_rBY$$.x-$bodyA$$.m_sweep.c.x,$rAY$$=$point$$39_rBY$$.y-$bodyA$$.m_sweep.c.y,$rBX$$=$point$$39_rBY$$.x-$bodyB$$.m_sweep.c.x,$point$$39_rBY$$=$point$$39_rBY$$.y-$bodyB$$.m_sweep.c.y,$minSeparation$$=$minSeparation$$<$C$$10_PY$$2_impulse$$2_separation$$?$minSeparation$$:$C$$10_PY$$2_impulse$$2_separation$$,$C$$10_PY$$2_impulse$$2_separation$$=$b2Math$$.Clamp($baumgarte$$*
($C$$10_PY$$2_impulse$$2_separation$$+$b2Settings$$.b2_linearSlop),-$b2Settings$$.b2_maxLinearCorrection,0),$C$$10_PY$$2_impulse$$2_separation$$=-$PX$$2_ccp$$.equalizedMass*$C$$10_PY$$2_impulse$$2_separation$$,$PX$$2_ccp$$=$C$$10_PY$$2_impulse$$2_separation$$*$normal$$.x,$C$$10_PY$$2_impulse$$2_separation$$=$C$$10_PY$$2_impulse$$2_separation$$*$normal$$.y;$bodyA$$.m_sweep.c.x-=$invMassA$$*$PX$$2_ccp$$;$bodyA$$.m_sweep.c.y-=$invMassA$$*$C$$10_PY$$2_impulse$$2_separation$$;$bodyA$$.m_sweep.a-=$invIA$$*
($rAX$$*$C$$10_PY$$2_impulse$$2_separation$$-$rAY$$*$PX$$2_ccp$$);$bodyA$$.SynchronizeTransform();$bodyB$$.m_sweep.c.x+=$invMassB$$*$PX$$2_ccp$$;$bodyB$$.m_sweep.c.y+=$invMassB$$*$C$$10_PY$$2_impulse$$2_separation$$;$bodyB$$.m_sweep.a+=$invIB$$*($rBX$$*$C$$10_PY$$2_impulse$$2_separation$$-$point$$39_rBY$$*$PX$$2_ccp$$);$bodyB$$.SynchronizeTransform()}}return $minSeparation$$>-1.5*$b2Settings$$.b2_linearSlop};Box2D.postDefs.push(function(){Box2D.Dynamics.Contacts.b2ContactSolver.s_worldManifold=new $b2WorldManifold$$;
Box2D.Dynamics.Contacts.b2ContactSolver.s_psm=new $b2PositionSolverManifold$$});Box2D.inherit($b2EdgeAndCircleContact$$,Box2D.Dynamics.Contacts.b2Contact);$b2EdgeAndCircleContact$$.prototype.__super=Box2D.Dynamics.Contacts.b2Contact.prototype;$b2EdgeAndCircleContact$$.b2EdgeAndCircleContact=function $$b2EdgeAndCircleContact$$$b2EdgeAndCircleContact$(){Box2D.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)};$b2EdgeAndCircleContact$$.Create=function $$b2EdgeAndCircleContact$$$Create$($allocator$$){return new $b2EdgeAndCircleContact$$};
$b2EdgeAndCircleContact$$.Destroy=function $$b2EdgeAndCircleContact$$$Destroy$($contact$$,$allocator$$){};$b2EdgeAndCircleContact$$.prototype.Reset=function $$b2EdgeAndCircleContact$$$$Reset$($fixtureA$$,$fixtureB$$){this.__super.Reset.call(this,$fixtureA$$,$fixtureB$$)};$b2EdgeAndCircleContact$$.prototype.Evaluate=function $$b2EdgeAndCircleContact$$$$Evaluate$(){var $bA$$=this.m_fixtureA.GetBody(),$bB$$=this.m_fixtureB.GetBody();this.b2CollideEdgeAndCircle(this.m_manifold,this.m_fixtureA.GetShape()instanceof
$b2EdgeShape$$?this.m_fixtureA.GetShape():null,$bA$$.m_xf,this.m_fixtureB.GetShape()instanceof $b2CircleShape$$?this.m_fixtureB.GetShape():null,$bB$$.m_xf)};$b2EdgeAndCircleContact$$.prototype.b2CollideEdgeAndCircle=function $$b2EdgeAndCircleContact$$$$b2CollideEdgeAndCircle$($manifold$$,$edge$$,$xf1$$,$circle$$,$xf2$$){};Box2D.inherit($b2NullContact$$,Box2D.Dynamics.Contacts.b2Contact);$b2NullContact$$.prototype.__super=Box2D.Dynamics.Contacts.b2Contact.prototype;$b2NullContact$$.b2NullContact=function $$b2NullContact$$$b2NullContact$(){Box2D.Dynamics.Contacts.b2Contact.b2Contact.apply(this,
arguments)};$b2NullContact$$.prototype.b2NullContact=function $$b2NullContact$$$$b2NullContact$(){this.__super.b2Contact.call(this)};$b2NullContact$$.prototype.Evaluate=function $$b2NullContact$$$$Evaluate$(){};Box2D.inherit($b2PolyAndCircleContact$$,Box2D.Dynamics.Contacts.b2Contact);$b2PolyAndCircleContact$$.prototype.__super=Box2D.Dynamics.Contacts.b2Contact.prototype;$b2PolyAndCircleContact$$.b2PolyAndCircleContact=function $$b2PolyAndCircleContact$$$b2PolyAndCircleContact$(){Box2D.Dynamics.Contacts.b2Contact.b2Contact.apply(this,
arguments)};$b2PolyAndCircleContact$$.Create=function $$b2PolyAndCircleContact$$$Create$($allocator$$){return new $b2PolyAndCircleContact$$};$b2PolyAndCircleContact$$.Destroy=function $$b2PolyAndCircleContact$$$Destroy$($contact$$,$allocator$$){};$b2PolyAndCircleContact$$.prototype.Reset=function $$b2PolyAndCircleContact$$$$Reset$($fixtureA$$,$fixtureB$$){this.__super.Reset.call(this,$fixtureA$$,$fixtureB$$);$b2Settings$$.b2Assert($fixtureA$$.GetType()==$b2Shape$$.e_polygonShape);$b2Settings$$.b2Assert($fixtureB$$.GetType()==
$b2Shape$$.e_circleShape)};$b2PolyAndCircleContact$$.prototype.Evaluate=function $$b2PolyAndCircleContact$$$$Evaluate$(){var $bA$$=this.m_fixtureA.m_body,$bB$$=this.m_fixtureB.m_body;$b2Collision$$.CollidePolygonAndCircle(this.m_manifold,this.m_fixtureA.GetShape()instanceof $b2PolygonShape$$?this.m_fixtureA.GetShape():null,$bA$$.m_xf,this.m_fixtureB.GetShape()instanceof $b2CircleShape$$?this.m_fixtureB.GetShape():null,$bB$$.m_xf)};Box2D.inherit($b2PolyAndEdgeContact$$,Box2D.Dynamics.Contacts.b2Contact);
$b2PolyAndEdgeContact$$.prototype.__super=Box2D.Dynamics.Contacts.b2Contact.prototype;$b2PolyAndEdgeContact$$.b2PolyAndEdgeContact=function $$b2PolyAndEdgeContact$$$b2PolyAndEdgeContact$(){Box2D.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)};$b2PolyAndEdgeContact$$.Create=function $$b2PolyAndEdgeContact$$$Create$($allocator$$){return new $b2PolyAndEdgeContact$$};$b2PolyAndEdgeContact$$.Destroy=function $$b2PolyAndEdgeContact$$$Destroy$($contact$$,$allocator$$){};$b2PolyAndEdgeContact$$.prototype.Reset=
function $$b2PolyAndEdgeContact$$$$Reset$($fixtureA$$,$fixtureB$$){this.__super.Reset.call(this,$fixtureA$$,$fixtureB$$);$b2Settings$$.b2Assert($fixtureA$$.GetType()==$b2Shape$$.e_polygonShape);$b2Settings$$.b2Assert($fixtureB$$.GetType()==$b2Shape$$.e_edgeShape)};$b2PolyAndEdgeContact$$.prototype.Evaluate=function $$b2PolyAndEdgeContact$$$$Evaluate$(){var $bA$$=this.m_fixtureA.GetBody(),$bB$$=this.m_fixtureB.GetBody();this.b2CollidePolyAndEdge(this.m_manifold,this.m_fixtureA.GetShape()instanceof
$b2PolygonShape$$?this.m_fixtureA.GetShape():null,$bA$$.m_xf,this.m_fixtureB.GetShape()instanceof $b2EdgeShape$$?this.m_fixtureB.GetShape():null,$bB$$.m_xf)};$b2PolyAndEdgeContact$$.prototype.b2CollidePolyAndEdge=function $$b2PolyAndEdgeContact$$$$b2CollidePolyAndEdge$($manifold$$,$polygon$$,$xf1$$,$edge$$,$xf2$$){};Box2D.inherit($b2PolygonContact$$,Box2D.Dynamics.Contacts.b2Contact);$b2PolygonContact$$.prototype.__super=Box2D.Dynamics.Contacts.b2Contact.prototype;$b2PolygonContact$$.b2PolygonContact=
function $$b2PolygonContact$$$b2PolygonContact$(){Box2D.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)};$b2PolygonContact$$.Create=function $$b2PolygonContact$$$Create$($allocator$$){return new $b2PolygonContact$$};$b2PolygonContact$$.Destroy=function $$b2PolygonContact$$$Destroy$($contact$$,$allocator$$){};$b2PolygonContact$$.prototype.Reset=function $$b2PolygonContact$$$$Reset$($fixtureA$$,$fixtureB$$){this.__super.Reset.call(this,$fixtureA$$,$fixtureB$$)};$b2PolygonContact$$.prototype.Evaluate=
function $$b2PolygonContact$$$$Evaluate$(){var $bA$$=this.m_fixtureA.GetBody(),$bB$$=this.m_fixtureB.GetBody();$b2Collision$$.CollidePolygons(this.m_manifold,this.m_fixtureA.GetShape()instanceof $b2PolygonShape$$?this.m_fixtureA.GetShape():null,$bA$$.m_xf,this.m_fixtureB.GetShape()instanceof $b2PolygonShape$$?this.m_fixtureB.GetShape():null,$bB$$.m_xf)};$b2PositionSolverManifold$$.b2PositionSolverManifold=function $$b2PositionSolverManifold$$$b2PositionSolverManifold$(){};$b2PositionSolverManifold$$.prototype.b2PositionSolverManifold=
function $$b2PositionSolverManifold$$$$b2PositionSolverManifold$(){this.m_normal=new $b2Vec2$$;this.m_separations=new Vector_a2j_Number($b2Settings$$.b2_maxManifoldPoints);this.m_points=new Vector($b2Settings$$.b2_maxManifoldPoints);for(var $i$$=0;$i$$<$b2Settings$$.b2_maxManifoldPoints;$i$$++)this.m_points[$i$$]=new $b2Vec2$$};$b2PositionSolverManifold$$.prototype.Initialize=function $$b2PositionSolverManifold$$$$Initialize$($cc$$){$b2Settings$$.b2Assert(0<$cc$$.pointCount);var $i$$598_pointAX$$=
0,$clipPointX$$1_pointAY$$=0,$clipPointY$$1_dX$$15_tVec$$=0,$pointBY$$2_tMat$$,$planePointX$$1_pointBX$$=0,$dY$$15_planePointY$$=0;switch($cc$$.type){case $b2Manifold$$.e_circles:$pointBY$$2_tMat$$=$cc$$.bodyA.m_xf.R;$clipPointY$$1_dX$$15_tVec$$=$cc$$.localPoint;$i$$598_pointAX$$=$cc$$.bodyA.m_xf.position.x+($pointBY$$2_tMat$$.col1.x*$clipPointY$$1_dX$$15_tVec$$.x+$pointBY$$2_tMat$$.col2.x*$clipPointY$$1_dX$$15_tVec$$.y);$clipPointX$$1_pointAY$$=$cc$$.bodyA.m_xf.position.y+($pointBY$$2_tMat$$.col1.y*
$clipPointY$$1_dX$$15_tVec$$.x+$pointBY$$2_tMat$$.col2.y*$clipPointY$$1_dX$$15_tVec$$.y);$pointBY$$2_tMat$$=$cc$$.bodyB.m_xf.R;$clipPointY$$1_dX$$15_tVec$$=$cc$$.points[0].localPoint;$planePointX$$1_pointBX$$=$cc$$.bodyB.m_xf.position.x+($pointBY$$2_tMat$$.col1.x*$clipPointY$$1_dX$$15_tVec$$.x+$pointBY$$2_tMat$$.col2.x*$clipPointY$$1_dX$$15_tVec$$.y);$pointBY$$2_tMat$$=$cc$$.bodyB.m_xf.position.y+($pointBY$$2_tMat$$.col1.y*$clipPointY$$1_dX$$15_tVec$$.x+$pointBY$$2_tMat$$.col2.y*$clipPointY$$1_dX$$15_tVec$$.y);
var $clipPointY$$1_dX$$15_tVec$$=$planePointX$$1_pointBX$$-$i$$598_pointAX$$,$dY$$15_planePointY$$=$pointBY$$2_tMat$$-$clipPointX$$1_pointAY$$,$d$$213_d2$$=$clipPointY$$1_dX$$15_tVec$$*$clipPointY$$1_dX$$15_tVec$$+$dY$$15_planePointY$$*$dY$$15_planePointY$$;$d$$213_d2$$>Number.MIN_VALUE*Number.MIN_VALUE?($d$$213_d2$$=Math.sqrt($d$$213_d2$$),this.m_normal.x=$clipPointY$$1_dX$$15_tVec$$/$d$$213_d2$$,this.m_normal.y=$dY$$15_planePointY$$/$d$$213_d2$$):(this.m_normal.x=1,this.m_normal.y=0);this.m_points[0].x=
.5*($i$$598_pointAX$$+$planePointX$$1_pointBX$$);this.m_points[0].y=.5*($clipPointX$$1_pointAY$$+$pointBY$$2_tMat$$);this.m_separations[0]=$clipPointY$$1_dX$$15_tVec$$*this.m_normal.x+$dY$$15_planePointY$$*this.m_normal.y-$cc$$.radius;break;case $b2Manifold$$.e_faceA:$pointBY$$2_tMat$$=$cc$$.bodyA.m_xf.R;$clipPointY$$1_dX$$15_tVec$$=$cc$$.localPlaneNormal;this.m_normal.x=$pointBY$$2_tMat$$.col1.x*$clipPointY$$1_dX$$15_tVec$$.x+$pointBY$$2_tMat$$.col2.x*$clipPointY$$1_dX$$15_tVec$$.y;this.m_normal.y=
$pointBY$$2_tMat$$.col1.y*$clipPointY$$1_dX$$15_tVec$$.x+$pointBY$$2_tMat$$.col2.y*$clipPointY$$1_dX$$15_tVec$$.y;$pointBY$$2_tMat$$=$cc$$.bodyA.m_xf.R;$clipPointY$$1_dX$$15_tVec$$=$cc$$.localPoint;$planePointX$$1_pointBX$$=$cc$$.bodyA.m_xf.position.x+($pointBY$$2_tMat$$.col1.x*$clipPointY$$1_dX$$15_tVec$$.x+$pointBY$$2_tMat$$.col2.x*$clipPointY$$1_dX$$15_tVec$$.y);$dY$$15_planePointY$$=$cc$$.bodyA.m_xf.position.y+($pointBY$$2_tMat$$.col1.y*$clipPointY$$1_dX$$15_tVec$$.x+$pointBY$$2_tMat$$.col2.y*
$clipPointY$$1_dX$$15_tVec$$.y);$pointBY$$2_tMat$$=$cc$$.bodyB.m_xf.R;for($i$$598_pointAX$$=0;$i$$598_pointAX$$<$cc$$.pointCount;++$i$$598_pointAX$$)$clipPointY$$1_dX$$15_tVec$$=$cc$$.points[$i$$598_pointAX$$].localPoint,$clipPointX$$1_pointAY$$=$cc$$.bodyB.m_xf.position.x+($pointBY$$2_tMat$$.col1.x*$clipPointY$$1_dX$$15_tVec$$.x+$pointBY$$2_tMat$$.col2.x*$clipPointY$$1_dX$$15_tVec$$.y),$clipPointY$$1_dX$$15_tVec$$=$cc$$.bodyB.m_xf.position.y+($pointBY$$2_tMat$$.col1.y*$clipPointY$$1_dX$$15_tVec$$.x+
$pointBY$$2_tMat$$.col2.y*$clipPointY$$1_dX$$15_tVec$$.y),this.m_separations[$i$$598_pointAX$$]=($clipPointX$$1_pointAY$$-$planePointX$$1_pointBX$$)*this.m_normal.x+($clipPointY$$1_dX$$15_tVec$$-$dY$$15_planePointY$$)*this.m_normal.y-$cc$$.radius,this.m_points[$i$$598_pointAX$$].x=$clipPointX$$1_pointAY$$,this.m_points[$i$$598_pointAX$$].y=$clipPointY$$1_dX$$15_tVec$$;break;case $b2Manifold$$.e_faceB:$pointBY$$2_tMat$$=$cc$$.bodyB.m_xf.R;$clipPointY$$1_dX$$15_tVec$$=$cc$$.localPlaneNormal;this.m_normal.x=
$pointBY$$2_tMat$$.col1.x*$clipPointY$$1_dX$$15_tVec$$.x+$pointBY$$2_tMat$$.col2.x*$clipPointY$$1_dX$$15_tVec$$.y;this.m_normal.y=$pointBY$$2_tMat$$.col1.y*$clipPointY$$1_dX$$15_tVec$$.x+$pointBY$$2_tMat$$.col2.y*$clipPointY$$1_dX$$15_tVec$$.y;$pointBY$$2_tMat$$=$cc$$.bodyB.m_xf.R;$clipPointY$$1_dX$$15_tVec$$=$cc$$.localPoint;$planePointX$$1_pointBX$$=$cc$$.bodyB.m_xf.position.x+($pointBY$$2_tMat$$.col1.x*$clipPointY$$1_dX$$15_tVec$$.x+$pointBY$$2_tMat$$.col2.x*$clipPointY$$1_dX$$15_tVec$$.y);$dY$$15_planePointY$$=
$cc$$.bodyB.m_xf.position.y+($pointBY$$2_tMat$$.col1.y*$clipPointY$$1_dX$$15_tVec$$.x+$pointBY$$2_tMat$$.col2.y*$clipPointY$$1_dX$$15_tVec$$.y);$pointBY$$2_tMat$$=$cc$$.bodyA.m_xf.R;for($i$$598_pointAX$$=0;$i$$598_pointAX$$<$cc$$.pointCount;++$i$$598_pointAX$$)$clipPointY$$1_dX$$15_tVec$$=$cc$$.points[$i$$598_pointAX$$].localPoint,$clipPointX$$1_pointAY$$=$cc$$.bodyA.m_xf.position.x+($pointBY$$2_tMat$$.col1.x*$clipPointY$$1_dX$$15_tVec$$.x+$pointBY$$2_tMat$$.col2.x*$clipPointY$$1_dX$$15_tVec$$.y),
$clipPointY$$1_dX$$15_tVec$$=$cc$$.bodyA.m_xf.position.y+($pointBY$$2_tMat$$.col1.y*$clipPointY$$1_dX$$15_tVec$$.x+$pointBY$$2_tMat$$.col2.y*$clipPointY$$1_dX$$15_tVec$$.y),this.m_separations[$i$$598_pointAX$$]=($clipPointX$$1_pointAY$$-$planePointX$$1_pointBX$$)*this.m_normal.x+($clipPointY$$1_dX$$15_tVec$$-$dY$$15_planePointY$$)*this.m_normal.y-$cc$$.radius,this.m_points[$i$$598_pointAX$$].Set($clipPointX$$1_pointAY$$,$clipPointY$$1_dX$$15_tVec$$);this.m_normal.x*=-1;this.m_normal.y*=-1}};Box2D.postDefs.push(function(){Box2D.Dynamics.Contacts.b2PositionSolverManifold.circlePointA=
new $b2Vec2$$;Box2D.Dynamics.Contacts.b2PositionSolverManifold.circlePointB=new $b2Vec2$$})})();
(function(){var $b2Mat22$$=Box2D.Common.Math.b2Mat22,$b2Math$$=Box2D.Common.Math.b2Math,$b2Vec2$$=Box2D.Common.Math.b2Vec2,$b2Color$$=Box2D.Common.b2Color,$b2BuoyancyController$$=Box2D.Dynamics.Controllers.b2BuoyancyController,$b2ConstantAccelController$$=Box2D.Dynamics.Controllers.b2ConstantAccelController,$b2ConstantForceController$$=Box2D.Dynamics.Controllers.b2ConstantForceController,$b2Controller$$=Box2D.Dynamics.Controllers.b2Controller,$b2ControllerEdge$$=Box2D.Dynamics.Controllers.b2ControllerEdge,
$b2GravityController$$=Box2D.Dynamics.Controllers.b2GravityController,$b2TensorDampingController$$=Box2D.Dynamics.Controllers.b2TensorDampingController;Box2D.inherit($b2BuoyancyController$$,Box2D.Dynamics.Controllers.b2Controller);$b2BuoyancyController$$.prototype.__super=Box2D.Dynamics.Controllers.b2Controller.prototype;$b2BuoyancyController$$.b2BuoyancyController=function $$b2BuoyancyController$$$b2BuoyancyController$(){Box2D.Dynamics.Controllers.b2Controller.b2Controller.apply(this,arguments);
this.normal=new $b2Vec2$$(0,-1);this.density=this.offset=0;this.velocity=new $b2Vec2$$(0,0);this.linearDrag=2;this.angularDrag=1;this.useDensity=!1;this.useWorldGravity=!0;this.gravity=null};$b2BuoyancyController$$.prototype.Step=function $$b2BuoyancyController$$$$Step$($i$$599_step$$){if(this.m_bodyList)for(this.useWorldGravity&&(this.gravity=this.GetWorld().GetGravity().Copy()),$i$$599_step$$=this.m_bodyList;$i$$599_step$$;$i$$599_step$$=$i$$599_step$$.nextBody){var $body$$=$i$$599_step$$.body;
if(0!=$body$$.IsAwake()){for(var $areac$$=new $b2Vec2$$,$dragForce_massc$$=new $b2Vec2$$,$area$$=0,$buoyancyForce_mass$$=0,$fixture$$=$body$$.GetFixtureList();$fixture$$;$fixture$$=$fixture$$.GetNext()){var $sc$$=new $b2Vec2$$,$sarea$$=$fixture$$.GetShape().ComputeSubmergedArea(this.normal,this.offset,$body$$.GetTransform(),$sc$$),$area$$=$area$$+$sarea$$;$areac$$.x+=$sarea$$*$sc$$.x;$areac$$.y+=$sarea$$*$sc$$.y;var $shapeDensity$$=0,$shapeDensity$$=1,$buoyancyForce_mass$$=$buoyancyForce_mass$$+$sarea$$*
$shapeDensity$$;$dragForce_massc$$.x+=$sarea$$*$sc$$.x*$shapeDensity$$;$dragForce_massc$$.y+=$sarea$$*$sc$$.y*$shapeDensity$$}$areac$$.x/=$area$$;$areac$$.y/=$area$$;$dragForce_massc$$.x/=$buoyancyForce_mass$$;$dragForce_massc$$.y/=$buoyancyForce_mass$$;$area$$<Number.MIN_VALUE||($buoyancyForce_mass$$=this.gravity.GetNegative(),$buoyancyForce_mass$$.Multiply(this.density*$area$$),$body$$.ApplyForce($buoyancyForce_mass$$,$dragForce_massc$$),$dragForce_massc$$=$body$$.GetLinearVelocityFromWorldPoint($areac$$),
$dragForce_massc$$.Subtract(this.velocity),$dragForce_massc$$.Multiply(-this.linearDrag*$area$$),$body$$.ApplyForce($dragForce_massc$$,$areac$$),$body$$.ApplyTorque(-$body$$.GetInertia()/$body$$.GetMass()*$area$$*$body$$.GetAngularVelocity()*this.angularDrag))}}};$b2BuoyancyController$$.prototype.Draw=function $$b2BuoyancyController$$$$Draw$($debugDraw$$){var $p1$$=new $b2Vec2$$,$p2$$=new $b2Vec2$$;$p1$$.x=this.normal.x*this.offset+1E3*this.normal.y;$p1$$.y=this.normal.y*this.offset-1E3*this.normal.x;
$p2$$.x=this.normal.x*this.offset-1E3*this.normal.y;$p2$$.y=this.normal.y*this.offset+1E3*this.normal.x;var $color$$=new $b2Color$$(0,0,1);$debugDraw$$.DrawSegment($p1$$,$p2$$,$color$$)};Box2D.inherit($b2ConstantAccelController$$,Box2D.Dynamics.Controllers.b2Controller);$b2ConstantAccelController$$.prototype.__super=Box2D.Dynamics.Controllers.b2Controller.prototype;$b2ConstantAccelController$$.b2ConstantAccelController=function $$b2ConstantAccelController$$$b2ConstantAccelController$(){Box2D.Dynamics.Controllers.b2Controller.b2Controller.apply(this,
arguments);this.A=new $b2Vec2$$(0,0)};$b2ConstantAccelController$$.prototype.Step=function $$b2ConstantAccelController$$$$Step$($smallA_step$$){$smallA_step$$=new $b2Vec2$$(this.A.x*$smallA_step$$.dt,this.A.y*$smallA_step$$.dt);for(var $i$$=this.m_bodyList;$i$$;$i$$=$i$$.nextBody){var $body$$=$i$$.body;$body$$.IsAwake()&&$body$$.SetLinearVelocity(new $b2Vec2$$($body$$.GetLinearVelocity().x+$smallA_step$$.x,$body$$.GetLinearVelocity().y+$smallA_step$$.y))}};Box2D.inherit($b2ConstantForceController$$,
Box2D.Dynamics.Controllers.b2Controller);$b2ConstantForceController$$.prototype.__super=Box2D.Dynamics.Controllers.b2Controller.prototype;$b2ConstantForceController$$.b2ConstantForceController=function $$b2ConstantForceController$$$b2ConstantForceController$(){Box2D.Dynamics.Controllers.b2Controller.b2Controller.apply(this,arguments);this.F=new $b2Vec2$$(0,0)};$b2ConstantForceController$$.prototype.Step=function $$b2ConstantForceController$$$$Step$($i$$601_step$$){for($i$$601_step$$=this.m_bodyList;$i$$601_step$$;$i$$601_step$$=
$i$$601_step$$.nextBody){var $body$$=$i$$601_step$$.body;$body$$.IsAwake()&&$body$$.ApplyForce(this.F,$body$$.GetWorldCenter())}};$b2Controller$$.b2Controller=function $$b2Controller$$$b2Controller$(){};$b2Controller$$.prototype.Step=function $$b2Controller$$$$Step$($step$$){};$b2Controller$$.prototype.Draw=function $$b2Controller$$$$Draw$($debugDraw$$){};$b2Controller$$.prototype.AddBody=function $$b2Controller$$$$AddBody$($body$$){var $edge$$=new $b2ControllerEdge$$;$edge$$.controller=this;$edge$$.body=
$body$$;$edge$$.nextBody=this.m_bodyList;$edge$$.prevBody=null;this.m_bodyList=$edge$$;$edge$$.nextBody&&($edge$$.nextBody.prevBody=$edge$$);this.m_bodyCount++;$edge$$.nextController=$body$$.m_controllerList;$edge$$.prevController=null;$body$$.m_controllerList=$edge$$;$edge$$.nextController&&($edge$$.nextController.prevController=$edge$$);$body$$.m_controllerCount++};$b2Controller$$.prototype.RemoveBody=function $$b2Controller$$$$RemoveBody$($body$$){for(var $edge$$=$body$$.m_controllerList;$edge$$&&
$edge$$.controller!=this;)$edge$$=$edge$$.nextController;$edge$$.prevBody&&($edge$$.prevBody.nextBody=$edge$$.nextBody);$edge$$.nextBody&&($edge$$.nextBody.prevBody=$edge$$.prevBody);$edge$$.nextController&&($edge$$.nextController.prevController=$edge$$.prevController);$edge$$.prevController&&($edge$$.prevController.nextController=$edge$$.nextController);this.m_bodyList==$edge$$&&(this.m_bodyList=$edge$$.nextBody);$body$$.m_controllerList==$edge$$&&($body$$.m_controllerList=$edge$$.nextController);
$body$$.m_controllerCount--;this.m_bodyCount--};$b2Controller$$.prototype.Clear=function $$b2Controller$$$$Clear$(){for(;this.m_bodyList;)this.RemoveBody(this.m_bodyList.body)};$b2Controller$$.prototype.GetNext=function $$b2Controller$$$$GetNext$(){return this.m_next};$b2Controller$$.prototype.GetWorld=function $$b2Controller$$$$GetWorld$(){return this.m_world};$b2Controller$$.prototype.GetBodyList=function $$b2Controller$$$$GetBodyList$(){return this.m_bodyList};$b2ControllerEdge$$.b2ControllerEdge=
function $$b2ControllerEdge$$$b2ControllerEdge$(){};Box2D.inherit($b2GravityController$$,Box2D.Dynamics.Controllers.b2Controller);$b2GravityController$$.prototype.__super=Box2D.Dynamics.Controllers.b2Controller.prototype;$b2GravityController$$.b2GravityController=function $$b2GravityController$$$b2GravityController$(){Box2D.Dynamics.Controllers.b2Controller.b2Controller.apply(this,arguments);this.G=1;this.invSqr=!0};$b2GravityController$$.prototype.Step=function $$b2GravityController$$$$Step$($i$$602_step$$){var $body1$$=
$i$$602_step$$=null,$p1$$=null,$mass1$$=0,$j$$=null,$body2$$=null,$p2$$=null,$dx$$11_f$$=0,$dy$$=0,$r2$$=0,$dx$$11_f$$=null;if(this.invSqr)for($i$$602_step$$=this.m_bodyList;$i$$602_step$$;$i$$602_step$$=$i$$602_step$$.nextBody)for($body1$$=$i$$602_step$$.body,$p1$$=$body1$$.GetWorldCenter(),$mass1$$=$body1$$.GetMass(),$j$$=this.m_bodyList;$j$$!=$i$$602_step$$;$j$$=$j$$.nextBody)$body2$$=$j$$.body,$p2$$=$body2$$.GetWorldCenter(),$dx$$11_f$$=$p2$$.x-$p1$$.x,$dy$$=$p2$$.y-$p1$$.y,$r2$$=$dx$$11_f$$*
$dx$$11_f$$+$dy$$*$dy$$,$r2$$<Number.MIN_VALUE||($dx$$11_f$$=new $b2Vec2$$($dx$$11_f$$,$dy$$),$dx$$11_f$$.Multiply(this.G/$r2$$/Math.sqrt($r2$$)*$mass1$$*$body2$$.GetMass()),$body1$$.IsAwake()&&$body1$$.ApplyForce($dx$$11_f$$,$p1$$),$dx$$11_f$$.Multiply(-1),$body2$$.IsAwake()&&$body2$$.ApplyForce($dx$$11_f$$,$p2$$));else for($i$$602_step$$=this.m_bodyList;$i$$602_step$$;$i$$602_step$$=$i$$602_step$$.nextBody)for($body1$$=$i$$602_step$$.body,$p1$$=$body1$$.GetWorldCenter(),$mass1$$=$body1$$.GetMass(),
$j$$=this.m_bodyList;$j$$!=$i$$602_step$$;$j$$=$j$$.nextBody)$body2$$=$j$$.body,$p2$$=$body2$$.GetWorldCenter(),$dx$$11_f$$=$p2$$.x-$p1$$.x,$dy$$=$p2$$.y-$p1$$.y,$r2$$=$dx$$11_f$$*$dx$$11_f$$+$dy$$*$dy$$,$r2$$<Number.MIN_VALUE||($dx$$11_f$$=new $b2Vec2$$($dx$$11_f$$,$dy$$),$dx$$11_f$$.Multiply(this.G/$r2$$*$mass1$$*$body2$$.GetMass()),$body1$$.IsAwake()&&$body1$$.ApplyForce($dx$$11_f$$,$p1$$),$dx$$11_f$$.Multiply(-1),$body2$$.IsAwake()&&$body2$$.ApplyForce($dx$$11_f$$,$p2$$))};Box2D.inherit($b2TensorDampingController$$,
Box2D.Dynamics.Controllers.b2Controller);$b2TensorDampingController$$.prototype.__super=Box2D.Dynamics.Controllers.b2Controller.prototype;$b2TensorDampingController$$.b2TensorDampingController=function $$b2TensorDampingController$$$b2TensorDampingController$(){Box2D.Dynamics.Controllers.b2Controller.b2Controller.apply(this,arguments);this.T=new $b2Mat22$$;this.maxTimestep=0};$b2TensorDampingController$$.prototype.SetAxisAligned=function $$b2TensorDampingController$$$$SetAxisAligned$($xDamping$$,$yDamping$$){void 0===
$xDamping$$&&($xDamping$$=0);void 0===$yDamping$$&&($yDamping$$=0);this.T.col1.x=-$xDamping$$;this.T.col1.y=0;this.T.col2.x=0;this.T.col2.y=-$yDamping$$;this.maxTimestep=0<$xDamping$$||0<$yDamping$$?1/Math.max($xDamping$$,$yDamping$$):0};$b2TensorDampingController$$.prototype.Step=function $$b2TensorDampingController$$$$Step$($step$$){$step$$=$step$$.dt;if(!($step$$<=Number.MIN_VALUE)){$step$$>this.maxTimestep&&0<this.maxTimestep&&($step$$=this.maxTimestep);for(var $i$$=this.m_bodyList;$i$$;$i$$=
$i$$.nextBody){var $body$$=$i$$.body;if($body$$.IsAwake()){var $damping$$=$body$$.GetWorldVector($b2Math$$.MulMV(this.T,$body$$.GetLocalVector($body$$.GetLinearVelocity())));$body$$.SetLinearVelocity(new $b2Vec2$$($body$$.GetLinearVelocity().x+$damping$$.x*$step$$,$body$$.GetLinearVelocity().y+$damping$$.y*$step$$))}}}}})();
(function(){var $b2Settings$$=Box2D.Common.b2Settings,$b2Mat22$$=Box2D.Common.Math.b2Mat22,$b2Mat33$$=Box2D.Common.Math.b2Mat33,$b2Math$$=Box2D.Common.Math.b2Math,$b2Vec2$$=Box2D.Common.Math.b2Vec2,$b2Vec3$$=Box2D.Common.Math.b2Vec3,$b2DistanceJoint$$=Box2D.Dynamics.Joints.b2DistanceJoint,$b2DistanceJointDef$$=Box2D.Dynamics.Joints.b2DistanceJointDef,$b2FrictionJoint$$=Box2D.Dynamics.Joints.b2FrictionJoint,$b2FrictionJointDef$$=Box2D.Dynamics.Joints.b2FrictionJointDef,$b2GearJoint$$=Box2D.Dynamics.Joints.b2GearJoint,
$b2GearJointDef$$=Box2D.Dynamics.Joints.b2GearJointDef,$b2Jacobian$$=Box2D.Dynamics.Joints.b2Jacobian,$b2Joint$$=Box2D.Dynamics.Joints.b2Joint,$b2JointDef$$=Box2D.Dynamics.Joints.b2JointDef,$b2JointEdge$$=Box2D.Dynamics.Joints.b2JointEdge,$b2LineJoint$$=Box2D.Dynamics.Joints.b2LineJoint,$b2LineJointDef$$=Box2D.Dynamics.Joints.b2LineJointDef,$b2MouseJoint$$=Box2D.Dynamics.Joints.b2MouseJoint,$b2MouseJointDef$$=Box2D.Dynamics.Joints.b2MouseJointDef,$b2PrismaticJoint$$=Box2D.Dynamics.Joints.b2PrismaticJoint,
$b2PrismaticJointDef$$=Box2D.Dynamics.Joints.b2PrismaticJointDef,$b2PulleyJoint$$=Box2D.Dynamics.Joints.b2PulleyJoint,$b2PulleyJointDef$$=Box2D.Dynamics.Joints.b2PulleyJointDef,$b2RevoluteJoint$$=Box2D.Dynamics.Joints.b2RevoluteJoint,$b2RevoluteJointDef$$=Box2D.Dynamics.Joints.b2RevoluteJointDef,$b2WeldJoint$$=Box2D.Dynamics.Joints.b2WeldJoint,$b2WeldJointDef$$=Box2D.Dynamics.Joints.b2WeldJointDef;Box2D.inherit($b2DistanceJoint$$,Box2D.Dynamics.Joints.b2Joint);$b2DistanceJoint$$.prototype.__super=
Box2D.Dynamics.Joints.b2Joint.prototype;$b2DistanceJoint$$.b2DistanceJoint=function $$b2DistanceJoint$$$b2DistanceJoint$(){Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments);this.m_localAnchor1=new $b2Vec2$$;this.m_localAnchor2=new $b2Vec2$$;this.m_u=new $b2Vec2$$};$b2DistanceJoint$$.prototype.GetAnchorA=function $$b2DistanceJoint$$$$GetAnchorA$(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)};$b2DistanceJoint$$.prototype.GetAnchorB=function $$b2DistanceJoint$$$$GetAnchorB$(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)};
$b2DistanceJoint$$.prototype.GetReactionForce=function $$b2DistanceJoint$$$$GetReactionForce$($inv_dt$$){void 0===$inv_dt$$&&($inv_dt$$=0);return new $b2Vec2$$($inv_dt$$*this.m_impulse*this.m_u.x,$inv_dt$$*this.m_impulse*this.m_u.y)};$b2DistanceJoint$$.prototype.GetReactionTorque=function $$b2DistanceJoint$$$$GetReactionTorque$($inv_dt$$){return 0};$b2DistanceJoint$$.prototype.GetLength=function $$b2DistanceJoint$$$$GetLength$(){return this.m_length};$b2DistanceJoint$$.prototype.SetLength=function $$b2DistanceJoint$$$$SetLength$($length$$){void 0===
$length$$&&($length$$=0);this.m_length=$length$$};$b2DistanceJoint$$.prototype.GetFrequency=function $$b2DistanceJoint$$$$GetFrequency$(){return this.m_frequencyHz};$b2DistanceJoint$$.prototype.SetFrequency=function $$b2DistanceJoint$$$$SetFrequency$($hz$$){void 0===$hz$$&&($hz$$=0);this.m_frequencyHz=$hz$$};$b2DistanceJoint$$.prototype.GetDampingRatio=function $$b2DistanceJoint$$$$GetDampingRatio$(){return this.m_dampingRatio};$b2DistanceJoint$$.prototype.SetDampingRatio=function $$b2DistanceJoint$$$$SetDampingRatio$($ratio$$){void 0===
$ratio$$&&($ratio$$=0);this.m_dampingRatio=$ratio$$};$b2DistanceJoint$$.prototype.b2DistanceJoint=function $$b2DistanceJoint$$$$b2DistanceJoint$($def$$){this.__super.b2Joint.call(this,$def$$);this.m_localAnchor1.SetV($def$$.localAnchorA);this.m_localAnchor2.SetV($def$$.localAnchorB);this.m_length=$def$$.length;this.m_frequencyHz=$def$$.frequencyHz;this.m_dampingRatio=$def$$.dampingRatio;this.m_bias=this.m_gamma=this.m_impulse=0};$b2DistanceJoint$$.prototype.InitVelocityConstraints=function $$b2DistanceJoint$$$$InitVelocityConstraints$($PX$$3_step$$){var $PY$$3_cr1u_invMass_tMat$$,
$C$$11_length$$53_tX$$=0,$bA$$=this.m_bodyA,$bB$$=this.m_bodyB;$PY$$3_cr1u_invMass_tMat$$=$bA$$.m_xf.R;var $r1X$$=this.m_localAnchor1.x-$bA$$.m_sweep.localCenter.x,$r1Y$$=this.m_localAnchor1.y-$bA$$.m_sweep.localCenter.y,$C$$11_length$$53_tX$$=$PY$$3_cr1u_invMass_tMat$$.col1.x*$r1X$$+$PY$$3_cr1u_invMass_tMat$$.col2.x*$r1Y$$,$r1Y$$=$PY$$3_cr1u_invMass_tMat$$.col1.y*$r1X$$+$PY$$3_cr1u_invMass_tMat$$.col2.y*$r1Y$$,$r1X$$=$C$$11_length$$53_tX$$;$PY$$3_cr1u_invMass_tMat$$=$bB$$.m_xf.R;var $r2X$$=this.m_localAnchor2.x-
$bB$$.m_sweep.localCenter.x,$r2Y$$=this.m_localAnchor2.y-$bB$$.m_sweep.localCenter.y,$C$$11_length$$53_tX$$=$PY$$3_cr1u_invMass_tMat$$.col1.x*$r2X$$+$PY$$3_cr1u_invMass_tMat$$.col2.x*$r2Y$$,$r2Y$$=$PY$$3_cr1u_invMass_tMat$$.col1.y*$r2X$$+$PY$$3_cr1u_invMass_tMat$$.col2.y*$r2Y$$,$r2X$$=$C$$11_length$$53_tX$$;this.m_u.x=$bB$$.m_sweep.c.x+$r2X$$-$bA$$.m_sweep.c.x-$r1X$$;this.m_u.y=$bB$$.m_sweep.c.y+$r2Y$$-$bA$$.m_sweep.c.y-$r1Y$$;$C$$11_length$$53_tX$$=Math.sqrt(this.m_u.x*this.m_u.x+this.m_u.y*this.m_u.y);
$C$$11_length$$53_tX$$>$b2Settings$$.b2_linearSlop?this.m_u.Multiply(1/$C$$11_length$$53_tX$$):this.m_u.SetZero();$PY$$3_cr1u_invMass_tMat$$=$r1X$$*this.m_u.y-$r1Y$$*this.m_u.x;var $cr2u_omega$$=$r2X$$*this.m_u.y-$r2Y$$*this.m_u.x;$PY$$3_cr1u_invMass_tMat$$=$bA$$.m_invMass+$bA$$.m_invI*$PY$$3_cr1u_invMass_tMat$$*$PY$$3_cr1u_invMass_tMat$$+$bB$$.m_invMass+$bB$$.m_invI*$cr2u_omega$$*$cr2u_omega$$;this.m_mass=0!=$PY$$3_cr1u_invMass_tMat$$?1/$PY$$3_cr1u_invMass_tMat$$:0;if(0<this.m_frequencyHz){var $C$$11_length$$53_tX$$=
$C$$11_length$$53_tX$$-this.m_length,$cr2u_omega$$=2*Math.PI*this.m_frequencyHz,$k$$=this.m_mass*$cr2u_omega$$*$cr2u_omega$$;this.m_gamma=$PX$$3_step$$.dt*(2*this.m_mass*this.m_dampingRatio*$cr2u_omega$$+$PX$$3_step$$.dt*$k$$);this.m_gamma=0!=this.m_gamma?1/this.m_gamma:0;this.m_bias=$C$$11_length$$53_tX$$*$PX$$3_step$$.dt*$k$$*this.m_gamma;this.m_mass=$PY$$3_cr1u_invMass_tMat$$+this.m_gamma;this.m_mass=0!=this.m_mass?1/this.m_mass:0}$PX$$3_step$$.warmStarting?(this.m_impulse*=$PX$$3_step$$.dtRatio,
$PX$$3_step$$=this.m_impulse*this.m_u.x,$PY$$3_cr1u_invMass_tMat$$=this.m_impulse*this.m_u.y,$bA$$.m_linearVelocity.x-=$bA$$.m_invMass*$PX$$3_step$$,$bA$$.m_linearVelocity.y-=$bA$$.m_invMass*$PY$$3_cr1u_invMass_tMat$$,$bA$$.m_angularVelocity-=$bA$$.m_invI*($r1X$$*$PY$$3_cr1u_invMass_tMat$$-$r1Y$$*$PX$$3_step$$),$bB$$.m_linearVelocity.x+=$bB$$.m_invMass*$PX$$3_step$$,$bB$$.m_linearVelocity.y+=$bB$$.m_invMass*$PY$$3_cr1u_invMass_tMat$$,$bB$$.m_angularVelocity+=$bB$$.m_invI*($r2X$$*$PY$$3_cr1u_invMass_tMat$$-
$r2Y$$*$PX$$3_step$$)):this.m_impulse=0};$b2DistanceJoint$$.prototype.SolveVelocityConstraints=function $$b2DistanceJoint$$$$SolveVelocityConstraints$($bA$$7_step$$){var $PX$$4_tMat$$;$bA$$7_step$$=this.m_bodyA;var $bB$$=this.m_bodyB;$PX$$4_tMat$$=$bA$$7_step$$.m_xf.R;var $r1X$$=this.m_localAnchor1.x-$bA$$7_step$$.m_sweep.localCenter.x,$r1Y$$=this.m_localAnchor1.y-$bA$$7_step$$.m_sweep.localCenter.y,$PY$$4_impulse$$3_tX$$=$PX$$4_tMat$$.col1.x*$r1X$$+$PX$$4_tMat$$.col2.x*$r1Y$$,$r1Y$$=$PX$$4_tMat$$.col1.y*
$r1X$$+$PX$$4_tMat$$.col2.y*$r1Y$$,$r1X$$=$PY$$4_impulse$$3_tX$$;$PX$$4_tMat$$=$bB$$.m_xf.R;var $r2X$$=this.m_localAnchor2.x-$bB$$.m_sweep.localCenter.x,$r2Y$$=this.m_localAnchor2.y-$bB$$.m_sweep.localCenter.y,$PY$$4_impulse$$3_tX$$=$PX$$4_tMat$$.col1.x*$r2X$$+$PX$$4_tMat$$.col2.x*$r2Y$$,$r2Y$$=$PX$$4_tMat$$.col1.y*$r2X$$+$PX$$4_tMat$$.col2.y*$r2Y$$,$r2X$$=$PY$$4_impulse$$3_tX$$,$PY$$4_impulse$$3_tX$$=-this.m_mass*(this.m_u.x*($bB$$.m_linearVelocity.x+-$bB$$.m_angularVelocity*$r2Y$$-($bA$$7_step$$.m_linearVelocity.x+
-$bA$$7_step$$.m_angularVelocity*$r1Y$$))+this.m_u.y*($bB$$.m_linearVelocity.y+$bB$$.m_angularVelocity*$r2X$$-($bA$$7_step$$.m_linearVelocity.y+$bA$$7_step$$.m_angularVelocity*$r1X$$))+this.m_bias+this.m_gamma*this.m_impulse);this.m_impulse+=$PY$$4_impulse$$3_tX$$;$PX$$4_tMat$$=$PY$$4_impulse$$3_tX$$*this.m_u.x;$PY$$4_impulse$$3_tX$$*=this.m_u.y;$bA$$7_step$$.m_linearVelocity.x-=$bA$$7_step$$.m_invMass*$PX$$4_tMat$$;$bA$$7_step$$.m_linearVelocity.y-=$bA$$7_step$$.m_invMass*$PY$$4_impulse$$3_tX$$;
$bA$$7_step$$.m_angularVelocity-=$bA$$7_step$$.m_invI*($r1X$$*$PY$$4_impulse$$3_tX$$-$r1Y$$*$PX$$4_tMat$$);$bB$$.m_linearVelocity.x+=$bB$$.m_invMass*$PX$$4_tMat$$;$bB$$.m_linearVelocity.y+=$bB$$.m_invMass*$PY$$4_impulse$$3_tX$$;$bB$$.m_angularVelocity+=$bB$$.m_invI*($r2X$$*$PY$$4_impulse$$3_tX$$-$r2Y$$*$PX$$4_tMat$$)};$b2DistanceJoint$$.prototype.SolvePositionConstraints=function $$b2DistanceJoint$$$$SolvePositionConstraints$($bA$$8_baumgarte$$){var $C$$12_length$$54_tMat$$;if(0<this.m_frequencyHz)return!0;
$bA$$8_baumgarte$$=this.m_bodyA;var $bB$$=this.m_bodyB;$C$$12_length$$54_tMat$$=$bA$$8_baumgarte$$.m_xf.R;var $r1X$$=this.m_localAnchor1.x-$bA$$8_baumgarte$$.m_sweep.localCenter.x,$r1Y$$=this.m_localAnchor1.y-$bA$$8_baumgarte$$.m_sweep.localCenter.y,$PX$$5_dX$$16_tX$$=$C$$12_length$$54_tMat$$.col1.x*$r1X$$+$C$$12_length$$54_tMat$$.col2.x*$r1Y$$,$r1Y$$=$C$$12_length$$54_tMat$$.col1.y*$r1X$$+$C$$12_length$$54_tMat$$.col2.y*$r1Y$$,$r1X$$=$PX$$5_dX$$16_tX$$;$C$$12_length$$54_tMat$$=$bB$$.m_xf.R;var $r2X$$=
this.m_localAnchor2.x-$bB$$.m_sweep.localCenter.x,$r2Y$$=this.m_localAnchor2.y-$bB$$.m_sweep.localCenter.y,$PX$$5_dX$$16_tX$$=$C$$12_length$$54_tMat$$.col1.x*$r2X$$+$C$$12_length$$54_tMat$$.col2.x*$r2Y$$,$r2Y$$=$C$$12_length$$54_tMat$$.col1.y*$r2X$$+$C$$12_length$$54_tMat$$.col2.y*$r2Y$$,$r2X$$=$PX$$5_dX$$16_tX$$,$PX$$5_dX$$16_tX$$=$bB$$.m_sweep.c.x+$r2X$$-$bA$$8_baumgarte$$.m_sweep.c.x-$r1X$$,$PY$$5_dY$$=$bB$$.m_sweep.c.y+$r2Y$$-$bA$$8_baumgarte$$.m_sweep.c.y-$r1Y$$;$C$$12_length$$54_tMat$$=Math.sqrt($PX$$5_dX$$16_tX$$*
$PX$$5_dX$$16_tX$$+$PY$$5_dY$$*$PY$$5_dY$$);$PX$$5_dX$$16_tX$$/=$C$$12_length$$54_tMat$$;$PY$$5_dY$$/=$C$$12_length$$54_tMat$$;$C$$12_length$$54_tMat$$-=this.m_length;$C$$12_length$$54_tMat$$=$b2Math$$.Clamp($C$$12_length$$54_tMat$$,-$b2Settings$$.b2_maxLinearCorrection,$b2Settings$$.b2_maxLinearCorrection);var $impulse$$=-this.m_mass*$C$$12_length$$54_tMat$$;this.m_u.Set($PX$$5_dX$$16_tX$$,$PY$$5_dY$$);$PX$$5_dX$$16_tX$$=$impulse$$*this.m_u.x;$PY$$5_dY$$=$impulse$$*this.m_u.y;$bA$$8_baumgarte$$.m_sweep.c.x-=
$bA$$8_baumgarte$$.m_invMass*$PX$$5_dX$$16_tX$$;$bA$$8_baumgarte$$.m_sweep.c.y-=$bA$$8_baumgarte$$.m_invMass*$PY$$5_dY$$;$bA$$8_baumgarte$$.m_sweep.a-=$bA$$8_baumgarte$$.m_invI*($r1X$$*$PY$$5_dY$$-$r1Y$$*$PX$$5_dX$$16_tX$$);$bB$$.m_sweep.c.x+=$bB$$.m_invMass*$PX$$5_dX$$16_tX$$;$bB$$.m_sweep.c.y+=$bB$$.m_invMass*$PY$$5_dY$$;$bB$$.m_sweep.a+=$bB$$.m_invI*($r2X$$*$PY$$5_dY$$-$r2Y$$*$PX$$5_dX$$16_tX$$);$bA$$8_baumgarte$$.SynchronizeTransform();$bB$$.SynchronizeTransform();return $b2Math$$.Abs($C$$12_length$$54_tMat$$)<
$b2Settings$$.b2_linearSlop};Box2D.inherit($b2DistanceJointDef$$,Box2D.Dynamics.Joints.b2JointDef);$b2DistanceJointDef$$.prototype.__super=Box2D.Dynamics.Joints.b2JointDef.prototype;$b2DistanceJointDef$$.b2DistanceJointDef=function $$b2DistanceJointDef$$$b2DistanceJointDef$(){Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments);this.localAnchorA=new $b2Vec2$$;this.localAnchorB=new $b2Vec2$$};$b2DistanceJointDef$$.prototype.b2DistanceJointDef=function $$b2DistanceJointDef$$$$b2DistanceJointDef$(){this.__super.b2JointDef.call(this);
this.type=$b2Joint$$.e_distanceJoint;this.length=1;this.dampingRatio=this.frequencyHz=0};$b2DistanceJointDef$$.prototype.Initialize=function $$b2DistanceJointDef$$$$Initialize$($bA$$9_dX$$,$bB$$,$anchorA_dY$$,$anchorB$$){this.bodyA=$bA$$9_dX$$;this.bodyB=$bB$$;this.localAnchorA.SetV(this.bodyA.GetLocalPoint($anchorA_dY$$));this.localAnchorB.SetV(this.bodyB.GetLocalPoint($anchorB$$));$bA$$9_dX$$=$anchorB$$.x-$anchorA_dY$$.x;$anchorA_dY$$=$anchorB$$.y-$anchorA_dY$$.y;this.length=Math.sqrt($bA$$9_dX$$*
$bA$$9_dX$$+$anchorA_dY$$*$anchorA_dY$$);this.dampingRatio=this.frequencyHz=0};Box2D.inherit($b2FrictionJoint$$,Box2D.Dynamics.Joints.b2Joint);$b2FrictionJoint$$.prototype.__super=Box2D.Dynamics.Joints.b2Joint.prototype;$b2FrictionJoint$$.b2FrictionJoint=function $$b2FrictionJoint$$$b2FrictionJoint$(){Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments);this.m_localAnchorA=new $b2Vec2$$;this.m_localAnchorB=new $b2Vec2$$;this.m_linearMass=new $b2Mat22$$;this.m_linearImpulse=new $b2Vec2$$};$b2FrictionJoint$$.prototype.GetAnchorA=
function $$b2FrictionJoint$$$$GetAnchorA$(){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA)};$b2FrictionJoint$$.prototype.GetAnchorB=function $$b2FrictionJoint$$$$GetAnchorB$(){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB)};$b2FrictionJoint$$.prototype.GetReactionForce=function $$b2FrictionJoint$$$$GetReactionForce$($inv_dt$$){void 0===$inv_dt$$&&($inv_dt$$=0);return new $b2Vec2$$($inv_dt$$*this.m_linearImpulse.x,$inv_dt$$*this.m_linearImpulse.y)};$b2FrictionJoint$$.prototype.GetReactionTorque=
function $$b2FrictionJoint$$$$GetReactionTorque$($inv_dt$$){void 0===$inv_dt$$&&($inv_dt$$=0);return $inv_dt$$*this.m_angularImpulse};$b2FrictionJoint$$.prototype.SetMaxForce=function $$b2FrictionJoint$$$$SetMaxForce$($force$$){void 0===$force$$&&($force$$=0);this.m_maxForce=$force$$};$b2FrictionJoint$$.prototype.GetMaxForce=function $$b2FrictionJoint$$$$GetMaxForce$(){return this.m_maxForce};$b2FrictionJoint$$.prototype.SetMaxTorque=function $$b2FrictionJoint$$$$SetMaxTorque$($torque$$){void 0===
$torque$$&&($torque$$=0);this.m_maxTorque=$torque$$};$b2FrictionJoint$$.prototype.GetMaxTorque=function $$b2FrictionJoint$$$$GetMaxTorque$(){return this.m_maxTorque};$b2FrictionJoint$$.prototype.b2FrictionJoint=function $$b2FrictionJoint$$$$b2FrictionJoint$($def$$){this.__super.b2Joint.call(this,$def$$);this.m_localAnchorA.SetV($def$$.localAnchorA);this.m_localAnchorB.SetV($def$$.localAnchorB);this.m_linearMass.SetZero();this.m_angularMass=0;this.m_linearImpulse.SetZero();this.m_angularImpulse=0;
this.m_maxForce=$def$$.maxForce;this.m_maxTorque=$def$$.maxTorque};$b2FrictionJoint$$.prototype.InitVelocityConstraints=function $$b2FrictionJoint$$$$InitVelocityConstraints$($P$$3_step$$){var $mA_tMat$$,$mB_tX$$=0,$bA$$=this.m_bodyA,$bB$$=this.m_bodyB;$mA_tMat$$=$bA$$.m_xf.R;var $rAX$$=this.m_localAnchorA.x-$bA$$.m_sweep.localCenter.x,$rAY$$=this.m_localAnchorA.y-$bA$$.m_sweep.localCenter.y,$mB_tX$$=$mA_tMat$$.col1.x*$rAX$$+$mA_tMat$$.col2.x*$rAY$$,$rAY$$=$mA_tMat$$.col1.y*$rAX$$+$mA_tMat$$.col2.y*
$rAY$$,$rAX$$=$mB_tX$$;$mA_tMat$$=$bB$$.m_xf.R;var $rBX$$=this.m_localAnchorB.x-$bB$$.m_sweep.localCenter.x,$rBY$$=this.m_localAnchorB.y-$bB$$.m_sweep.localCenter.y,$mB_tX$$=$mA_tMat$$.col1.x*$rBX$$+$mA_tMat$$.col2.x*$rBY$$,$rBY$$=$mA_tMat$$.col1.y*$rBX$$+$mA_tMat$$.col2.y*$rBY$$,$rBX$$=$mB_tX$$;$mA_tMat$$=$bA$$.m_invMass;var $mB_tX$$=$bB$$.m_invMass,$iA$$=$bA$$.m_invI,$iB$$=$bB$$.m_invI,$K$$=new $b2Mat22$$;$K$$.col1.x=$mA_tMat$$+$mB_tX$$;$K$$.col2.x=0;$K$$.col1.y=0;$K$$.col2.y=$mA_tMat$$+$mB_tX$$;
$K$$.col1.x+=$iA$$*$rAY$$*$rAY$$;$K$$.col2.x+=-$iA$$*$rAX$$*$rAY$$;$K$$.col1.y+=-$iA$$*$rAX$$*$rAY$$;$K$$.col2.y+=$iA$$*$rAX$$*$rAX$$;$K$$.col1.x+=$iB$$*$rBY$$*$rBY$$;$K$$.col2.x+=-$iB$$*$rBX$$*$rBY$$;$K$$.col1.y+=-$iB$$*$rBX$$*$rBY$$;$K$$.col2.y+=$iB$$*$rBX$$*$rBX$$;$K$$.GetInverse(this.m_linearMass);this.m_angularMass=$iA$$+$iB$$;0<this.m_angularMass&&(this.m_angularMass=1/this.m_angularMass);$P$$3_step$$.warmStarting?(this.m_linearImpulse.x*=$P$$3_step$$.dtRatio,this.m_linearImpulse.y*=$P$$3_step$$.dtRatio,
this.m_angularImpulse*=$P$$3_step$$.dtRatio,$P$$3_step$$=this.m_linearImpulse,$bA$$.m_linearVelocity.x-=$mA_tMat$$*$P$$3_step$$.x,$bA$$.m_linearVelocity.y-=$mA_tMat$$*$P$$3_step$$.y,$bA$$.m_angularVelocity-=$iA$$*($rAX$$*$P$$3_step$$.y-$rAY$$*$P$$3_step$$.x+this.m_angularImpulse),$bB$$.m_linearVelocity.x+=$mB_tX$$*$P$$3_step$$.x,$bB$$.m_linearVelocity.y+=$mB_tX$$*$P$$3_step$$.y,$bB$$.m_angularVelocity+=$iB$$*($rBX$$*$P$$3_step$$.y-$rBY$$*$P$$3_step$$.x+this.m_angularImpulse)):(this.m_linearImpulse.SetZero(),
this.m_angularImpulse=0)};$b2FrictionJoint$$.prototype.SolveVelocityConstraints=function $$b2FrictionJoint$$$$SolveVelocityConstraints$($step$$){var $impulseV_maxImpulse_tMat$$,$impulse$$5_oldImpulseV_tX$$=0,$bA$$=this.m_bodyA,$bB$$=this.m_bodyB,$vA$$=$bA$$.m_linearVelocity,$wA$$=$bA$$.m_angularVelocity,$vB$$=$bB$$.m_linearVelocity,$wB$$=$bB$$.m_angularVelocity,$mA$$=$bA$$.m_invMass,$mB$$=$bB$$.m_invMass,$iA$$=$bA$$.m_invI,$iB$$=$bB$$.m_invI;$impulseV_maxImpulse_tMat$$=$bA$$.m_xf.R;var $rAX$$=this.m_localAnchorA.x-
$bA$$.m_sweep.localCenter.x,$rAY$$=this.m_localAnchorA.y-$bA$$.m_sweep.localCenter.y,$impulse$$5_oldImpulseV_tX$$=$impulseV_maxImpulse_tMat$$.col1.x*$rAX$$+$impulseV_maxImpulse_tMat$$.col2.x*$rAY$$,$rAY$$=$impulseV_maxImpulse_tMat$$.col1.y*$rAX$$+$impulseV_maxImpulse_tMat$$.col2.y*$rAY$$,$rAX$$=$impulse$$5_oldImpulseV_tX$$;$impulseV_maxImpulse_tMat$$=$bB$$.m_xf.R;var $rBX$$=this.m_localAnchorB.x-$bB$$.m_sweep.localCenter.x,$rBY$$=this.m_localAnchorB.y-$bB$$.m_sweep.localCenter.y,$impulse$$5_oldImpulseV_tX$$=
$impulseV_maxImpulse_tMat$$.col1.x*$rBX$$+$impulseV_maxImpulse_tMat$$.col2.x*$rBY$$,$rBY$$=$impulseV_maxImpulse_tMat$$.col1.y*$rBX$$+$impulseV_maxImpulse_tMat$$.col2.y*$rBY$$,$rBX$$=$impulse$$5_oldImpulseV_tX$$;$impulseV_maxImpulse_tMat$$=0;var $impulse$$5_oldImpulseV_tX$$=-this.m_angularMass*($wB$$-$wA$$),$oldImpulse$$=this.m_angularImpulse;$impulseV_maxImpulse_tMat$$=$step$$.dt*this.m_maxTorque;this.m_angularImpulse=$b2Math$$.Clamp(this.m_angularImpulse+$impulse$$5_oldImpulseV_tX$$,-$impulseV_maxImpulse_tMat$$,
$impulseV_maxImpulse_tMat$$);$impulse$$5_oldImpulseV_tX$$=this.m_angularImpulse-$oldImpulse$$;$wA$$-=$iA$$*$impulse$$5_oldImpulseV_tX$$;$wB$$+=$iB$$*$impulse$$5_oldImpulseV_tX$$;$impulseV_maxImpulse_tMat$$=$b2Math$$.MulMV(this.m_linearMass,new $b2Vec2$$(-($vB$$.x-$wB$$*$rBY$$-$vA$$.x+$wA$$*$rAY$$),-($vB$$.y+$wB$$*$rBX$$-$vA$$.y-$wA$$*$rAX$$)));$impulse$$5_oldImpulseV_tX$$=this.m_linearImpulse.Copy();this.m_linearImpulse.Add($impulseV_maxImpulse_tMat$$);$impulseV_maxImpulse_tMat$$=$step$$.dt*this.m_maxForce;
this.m_linearImpulse.LengthSquared()>$impulseV_maxImpulse_tMat$$*$impulseV_maxImpulse_tMat$$&&(this.m_linearImpulse.Normalize(),this.m_linearImpulse.Multiply($impulseV_maxImpulse_tMat$$));$impulseV_maxImpulse_tMat$$=$b2Math$$.SubtractVV(this.m_linearImpulse,$impulse$$5_oldImpulseV_tX$$);$vA$$.x-=$mA$$*$impulseV_maxImpulse_tMat$$.x;$vA$$.y-=$mA$$*$impulseV_maxImpulse_tMat$$.y;$wA$$-=$iA$$*($rAX$$*$impulseV_maxImpulse_tMat$$.y-$rAY$$*$impulseV_maxImpulse_tMat$$.x);$vB$$.x+=$mB$$*$impulseV_maxImpulse_tMat$$.x;
$vB$$.y+=$mB$$*$impulseV_maxImpulse_tMat$$.y;$wB$$+=$iB$$*($rBX$$*$impulseV_maxImpulse_tMat$$.y-$rBY$$*$impulseV_maxImpulse_tMat$$.x);$bA$$.m_angularVelocity=$wA$$;$bB$$.m_angularVelocity=$wB$$};$b2FrictionJoint$$.prototype.SolvePositionConstraints=function $$b2FrictionJoint$$$$SolvePositionConstraints$($baumgarte$$){return!0};Box2D.inherit($b2FrictionJointDef$$,Box2D.Dynamics.Joints.b2JointDef);$b2FrictionJointDef$$.prototype.__super=Box2D.Dynamics.Joints.b2JointDef.prototype;$b2FrictionJointDef$$.b2FrictionJointDef=
function $$b2FrictionJointDef$$$b2FrictionJointDef$(){Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments);this.localAnchorA=new $b2Vec2$$;this.localAnchorB=new $b2Vec2$$};$b2FrictionJointDef$$.prototype.b2FrictionJointDef=function $$b2FrictionJointDef$$$$b2FrictionJointDef$(){this.__super.b2JointDef.call(this);this.type=$b2Joint$$.e_frictionJoint;this.maxTorque=this.maxForce=0};$b2FrictionJointDef$$.prototype.Initialize=function $$b2FrictionJointDef$$$$Initialize$($bA$$,$bB$$,$anchor$$){this.bodyA=
$bA$$;this.bodyB=$bB$$;this.localAnchorA.SetV(this.bodyA.GetLocalPoint($anchor$$));this.localAnchorB.SetV(this.bodyB.GetLocalPoint($anchor$$))};Box2D.inherit($b2GearJoint$$,Box2D.Dynamics.Joints.b2Joint);$b2GearJoint$$.prototype.__super=Box2D.Dynamics.Joints.b2Joint.prototype;$b2GearJoint$$.b2GearJoint=function $$b2GearJoint$$$b2GearJoint$(){Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments);this.m_groundAnchor1=new $b2Vec2$$;this.m_groundAnchor2=new $b2Vec2$$;this.m_localAnchor1=new $b2Vec2$$;
this.m_localAnchor2=new $b2Vec2$$;this.m_J=new $b2Jacobian$$};$b2GearJoint$$.prototype.GetAnchorA=function $$b2GearJoint$$$$GetAnchorA$(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)};$b2GearJoint$$.prototype.GetAnchorB=function $$b2GearJoint$$$$GetAnchorB$(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)};$b2GearJoint$$.prototype.GetReactionForce=function $$b2GearJoint$$$$GetReactionForce$($inv_dt$$){void 0===$inv_dt$$&&($inv_dt$$=0);return new $b2Vec2$$($inv_dt$$*this.m_impulse*
this.m_J.linearB.x,$inv_dt$$*this.m_impulse*this.m_J.linearB.y)};$b2GearJoint$$.prototype.GetReactionTorque=function $$b2GearJoint$$$$GetReactionTorque$($inv_dt$$){void 0===$inv_dt$$&&($inv_dt$$=0);var $tMat$$=this.m_bodyB.m_xf.R,$rX$$=this.m_localAnchor1.x-this.m_bodyB.m_sweep.localCenter.x,$rY$$=this.m_localAnchor1.y-this.m_bodyB.m_sweep.localCenter.y,$tX$$=$tMat$$.col1.x*$rX$$+$tMat$$.col2.x*$rY$$,$rY$$=$tMat$$.col1.y*$rX$$+$tMat$$.col2.y*$rY$$;return $inv_dt$$*(this.m_impulse*this.m_J.angularB-
$tX$$*this.m_impulse*this.m_J.linearB.y+$rY$$*this.m_impulse*this.m_J.linearB.x)};$b2GearJoint$$.prototype.GetRatio=function $$b2GearJoint$$$$GetRatio$(){return this.m_ratio};$b2GearJoint$$.prototype.SetRatio=function $$b2GearJoint$$$$SetRatio$($ratio$$){void 0===$ratio$$&&($ratio$$=0);this.m_ratio=$ratio$$};$b2GearJoint$$.prototype.b2GearJoint=function $$b2GearJoint$$$$b2GearJoint$($def$$){this.__super.b2Joint.call(this,$def$$);var $type1$$=parseInt($def$$.joint1.m_type),$type2$$=parseInt($def$$.joint2.m_type);
this.m_prismatic2=this.m_revolute2=this.m_prismatic1=this.m_revolute1=null;var $coordinate1$$=0,$coordinate2$$=0;this.m_ground1=$def$$.joint1.GetBodyA();this.m_bodyA=$def$$.joint1.GetBodyB();$type1$$==$b2Joint$$.e_revoluteJoint?(this.m_revolute1=$def$$.joint1 instanceof $b2RevoluteJoint$$?$def$$.joint1:null,this.m_groundAnchor1.SetV(this.m_revolute1.m_localAnchor1),this.m_localAnchor1.SetV(this.m_revolute1.m_localAnchor2),$coordinate1$$=this.m_revolute1.GetJointAngle()):(this.m_prismatic1=$def$$.joint1 instanceof
$b2PrismaticJoint$$?$def$$.joint1:null,this.m_groundAnchor1.SetV(this.m_prismatic1.m_localAnchor1),this.m_localAnchor1.SetV(this.m_prismatic1.m_localAnchor2),$coordinate1$$=this.m_prismatic1.GetJointTranslation());this.m_ground2=$def$$.joint2.GetBodyA();this.m_bodyB=$def$$.joint2.GetBodyB();$type2$$==$b2Joint$$.e_revoluteJoint?(this.m_revolute2=$def$$.joint2 instanceof $b2RevoluteJoint$$?$def$$.joint2:null,this.m_groundAnchor2.SetV(this.m_revolute2.m_localAnchor1),this.m_localAnchor2.SetV(this.m_revolute2.m_localAnchor2),
$coordinate2$$=this.m_revolute2.GetJointAngle()):(this.m_prismatic2=$def$$.joint2 instanceof $b2PrismaticJoint$$?$def$$.joint2:null,this.m_groundAnchor2.SetV(this.m_prismatic2.m_localAnchor1),this.m_localAnchor2.SetV(this.m_prismatic2.m_localAnchor2),$coordinate2$$=this.m_prismatic2.GetJointTranslation());this.m_ratio=$def$$.ratio;this.m_constant=$coordinate1$$+this.m_ratio*$coordinate2$$;this.m_impulse=0};$b2GearJoint$$.prototype.InitVelocityConstraints=function $$b2GearJoint$$$$InitVelocityConstraints$($step$$){var $g1$$2_tMat$$=
this.m_ground1,$g2$$=this.m_ground2,$bA$$=this.m_bodyA,$bB$$=this.m_bodyB,$ugX$$=0,$tVec$$=0,$crug_rX$$=0,$rY$$=0,$tX$$=$crug_rX$$=0,$K$$=0;this.m_J.SetZero();this.m_revolute1?(this.m_J.angularA=-1,$K$$+=$bA$$.m_invI):($g1$$2_tMat$$=$g1$$2_tMat$$.m_xf.R,$tVec$$=this.m_prismatic1.m_localXAxis1,$ugX$$=$g1$$2_tMat$$.col1.x*$tVec$$.x+$g1$$2_tMat$$.col2.x*$tVec$$.y,$tVec$$=$g1$$2_tMat$$.col1.y*$tVec$$.x+$g1$$2_tMat$$.col2.y*$tVec$$.y,$g1$$2_tMat$$=$bA$$.m_xf.R,$crug_rX$$=this.m_localAnchor1.x-$bA$$.m_sweep.localCenter.x,
$rY$$=this.m_localAnchor1.y-$bA$$.m_sweep.localCenter.y,$tX$$=$g1$$2_tMat$$.col1.x*$crug_rX$$+$g1$$2_tMat$$.col2.x*$rY$$,$rY$$=$g1$$2_tMat$$.col1.y*$crug_rX$$+$g1$$2_tMat$$.col2.y*$rY$$,$crug_rX$$=$tX$$*$tVec$$-$rY$$*$ugX$$,this.m_J.linearA.Set(-$ugX$$,-$tVec$$),this.m_J.angularA=-$crug_rX$$,$K$$+=$bA$$.m_invMass+$bA$$.m_invI*$crug_rX$$*$crug_rX$$);this.m_revolute2?(this.m_J.angularB=-this.m_ratio,$K$$+=this.m_ratio*this.m_ratio*$bB$$.m_invI):($g1$$2_tMat$$=$g2$$.m_xf.R,$tVec$$=this.m_prismatic2.m_localXAxis1,
$ugX$$=$g1$$2_tMat$$.col1.x*$tVec$$.x+$g1$$2_tMat$$.col2.x*$tVec$$.y,$tVec$$=$g1$$2_tMat$$.col1.y*$tVec$$.x+$g1$$2_tMat$$.col2.y*$tVec$$.y,$g1$$2_tMat$$=$bB$$.m_xf.R,$crug_rX$$=this.m_localAnchor2.x-$bB$$.m_sweep.localCenter.x,$rY$$=this.m_localAnchor2.y-$bB$$.m_sweep.localCenter.y,$tX$$=$g1$$2_tMat$$.col1.x*$crug_rX$$+$g1$$2_tMat$$.col2.x*$rY$$,$rY$$=$g1$$2_tMat$$.col1.y*$crug_rX$$+$g1$$2_tMat$$.col2.y*$rY$$,$crug_rX$$=$tX$$*$tVec$$-$rY$$*$ugX$$,this.m_J.linearB.Set(-this.m_ratio*$ugX$$,-this.m_ratio*
$tVec$$),this.m_J.angularB=-this.m_ratio*$crug_rX$$,$K$$+=this.m_ratio*this.m_ratio*($bB$$.m_invMass+$bB$$.m_invI*$crug_rX$$*$crug_rX$$));this.m_mass=0<$K$$?1/$K$$:0;$step$$.warmStarting?($bA$$.m_linearVelocity.x+=$bA$$.m_invMass*this.m_impulse*this.m_J.linearA.x,$bA$$.m_linearVelocity.y+=$bA$$.m_invMass*this.m_impulse*this.m_J.linearA.y,$bA$$.m_angularVelocity+=$bA$$.m_invI*this.m_impulse*this.m_J.angularA,$bB$$.m_linearVelocity.x+=$bB$$.m_invMass*this.m_impulse*this.m_J.linearB.x,$bB$$.m_linearVelocity.y+=
$bB$$.m_invMass*this.m_impulse*this.m_J.linearB.y,$bB$$.m_angularVelocity+=$bB$$.m_invI*this.m_impulse*this.m_J.angularB):this.m_impulse=0};$b2GearJoint$$.prototype.SolveVelocityConstraints=function $$b2GearJoint$$$$SolveVelocityConstraints$($bA$$14_step$$){$bA$$14_step$$=this.m_bodyA;var $bB$$=this.m_bodyB,$Cdot$$2_impulse$$=this.m_J.Compute($bA$$14_step$$.m_linearVelocity,$bA$$14_step$$.m_angularVelocity,$bB$$.m_linearVelocity,$bB$$.m_angularVelocity),$Cdot$$2_impulse$$=-this.m_mass*$Cdot$$2_impulse$$;
this.m_impulse+=$Cdot$$2_impulse$$;$bA$$14_step$$.m_linearVelocity.x+=$bA$$14_step$$.m_invMass*$Cdot$$2_impulse$$*this.m_J.linearA.x;$bA$$14_step$$.m_linearVelocity.y+=$bA$$14_step$$.m_invMass*$Cdot$$2_impulse$$*this.m_J.linearA.y;$bA$$14_step$$.m_angularVelocity+=$bA$$14_step$$.m_invI*$Cdot$$2_impulse$$*this.m_J.angularA;$bB$$.m_linearVelocity.x+=$bB$$.m_invMass*$Cdot$$2_impulse$$*this.m_J.linearB.x;$bB$$.m_linearVelocity.y+=$bB$$.m_invMass*$Cdot$$2_impulse$$*this.m_J.linearB.y;$bB$$.m_angularVelocity+=
$bB$$.m_invI*$Cdot$$2_impulse$$*this.m_J.angularB};$b2GearJoint$$.prototype.SolvePositionConstraints=function $$b2GearJoint$$$$SolvePositionConstraints$($bA$$15_baumgarte$$){$bA$$15_baumgarte$$=this.m_bodyA;var $bB$$=this.m_bodyB,$coordinate1$$1_impulse$$=0,$coordinate2$$=0,$coordinate1$$1_impulse$$=this.m_revolute1?this.m_revolute1.GetJointAngle():this.m_prismatic1.GetJointTranslation(),$coordinate2$$=this.m_revolute2?this.m_revolute2.GetJointAngle():this.m_prismatic2.GetJointTranslation(),$coordinate1$$1_impulse$$=
-this.m_mass*(this.m_constant-($coordinate1$$1_impulse$$+this.m_ratio*$coordinate2$$));$bA$$15_baumgarte$$.m_sweep.c.x+=$bA$$15_baumgarte$$.m_invMass*$coordinate1$$1_impulse$$*this.m_J.linearA.x;$bA$$15_baumgarte$$.m_sweep.c.y+=$bA$$15_baumgarte$$.m_invMass*$coordinate1$$1_impulse$$*this.m_J.linearA.y;$bA$$15_baumgarte$$.m_sweep.a+=$bA$$15_baumgarte$$.m_invI*$coordinate1$$1_impulse$$*this.m_J.angularA;$bB$$.m_sweep.c.x+=$bB$$.m_invMass*$coordinate1$$1_impulse$$*this.m_J.linearB.x;$bB$$.m_sweep.c.y+=
$bB$$.m_invMass*$coordinate1$$1_impulse$$*this.m_J.linearB.y;$bB$$.m_sweep.a+=$bB$$.m_invI*$coordinate1$$1_impulse$$*this.m_J.angularB;$bA$$15_baumgarte$$.SynchronizeTransform();$bB$$.SynchronizeTransform();return 0<$b2Settings$$.b2_linearSlop};Box2D.inherit($b2GearJointDef$$,Box2D.Dynamics.Joints.b2JointDef);$b2GearJointDef$$.prototype.__super=Box2D.Dynamics.Joints.b2JointDef.prototype;$b2GearJointDef$$.b2GearJointDef=function $$b2GearJointDef$$$b2GearJointDef$(){Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,
arguments)};$b2GearJointDef$$.prototype.b2GearJointDef=function $$b2GearJointDef$$$$b2GearJointDef$(){this.__super.b2JointDef.call(this);this.type=$b2Joint$$.e_gearJoint;this.joint2=this.joint1=null;this.ratio=1};$b2Jacobian$$.b2Jacobian=function $$b2Jacobian$$$b2Jacobian$(){this.linearA=new $b2Vec2$$;this.linearB=new $b2Vec2$$};$b2Jacobian$$.prototype.SetZero=function $$b2Jacobian$$$$SetZero$(){this.linearA.SetZero();this.angularA=0;this.linearB.SetZero();this.angularB=0};$b2Jacobian$$.prototype.Set=
function $$b2Jacobian$$$$Set$($x1$$,$a1$$,$x2$$,$a2$$){void 0===$a1$$&&($a1$$=0);void 0===$a2$$&&($a2$$=0);this.linearA.SetV($x1$$);this.angularA=$a1$$;this.linearB.SetV($x2$$);this.angularB=$a2$$};$b2Jacobian$$.prototype.Compute=function $$b2Jacobian$$$$Compute$($x1$$,$a1$$,$x2$$,$a2$$){void 0===$a1$$&&($a1$$=0);void 0===$a2$$&&($a2$$=0);return this.linearA.x*$x1$$.x+this.linearA.y*$x1$$.y+this.angularA*$a1$$+(this.linearB.x*$x2$$.x+this.linearB.y*$x2$$.y)+this.angularB*$a2$$};$b2Joint$$.b2Joint=
function $$b2Joint$$$b2Joint$(){this.m_edgeA=new $b2JointEdge$$;this.m_edgeB=new $b2JointEdge$$;this.m_localCenterA=new $b2Vec2$$;this.m_localCenterB=new $b2Vec2$$};$b2Joint$$.prototype.GetType=function $$b2Joint$$$$GetType$(){return this.m_type};$b2Joint$$.prototype.GetAnchorA=function $$b2Joint$$$$GetAnchorA$(){return null};$b2Joint$$.prototype.GetAnchorB=function $$b2Joint$$$$GetAnchorB$(){return null};$b2Joint$$.prototype.GetReactionForce=function $$b2Joint$$$$GetReactionForce$($inv_dt$$){return null};
$b2Joint$$.prototype.GetReactionTorque=function $$b2Joint$$$$GetReactionTorque$($inv_dt$$){return 0};$b2Joint$$.prototype.GetBodyA=function $$b2Joint$$$$GetBodyA$(){return this.m_bodyA};$b2Joint$$.prototype.GetBodyB=function $$b2Joint$$$$GetBodyB$(){return this.m_bodyB};$b2Joint$$.prototype.GetNext=function $$b2Joint$$$$GetNext$(){return this.m_next};$b2Joint$$.prototype.GetUserData=function $$b2Joint$$$$GetUserData$(){return this.m_userData};$b2Joint$$.prototype.SetUserData=function $$b2Joint$$$$SetUserData$($data$$){this.m_userData=
$data$$};$b2Joint$$.prototype.IsActive=function $$b2Joint$$$$IsActive$(){return this.m_bodyA.IsActive()&&this.m_bodyB.IsActive()};$b2Joint$$.Create=function $$b2Joint$$$Create$($def$$,$allocator$$){var $joint$$=null;switch($def$$.type){case $b2Joint$$.e_distanceJoint:$joint$$=new $b2DistanceJoint$$($def$$ instanceof $b2DistanceJointDef$$?$def$$:null);break;case $b2Joint$$.e_mouseJoint:$joint$$=new $b2MouseJoint$$($def$$ instanceof $b2MouseJointDef$$?$def$$:null);break;case $b2Joint$$.e_prismaticJoint:$joint$$=
new $b2PrismaticJoint$$($def$$ instanceof $b2PrismaticJointDef$$?$def$$:null);break;case $b2Joint$$.e_revoluteJoint:$joint$$=new $b2RevoluteJoint$$($def$$ instanceof $b2RevoluteJointDef$$?$def$$:null);break;case $b2Joint$$.e_pulleyJoint:$joint$$=new $b2PulleyJoint$$($def$$ instanceof $b2PulleyJointDef$$?$def$$:null);break;case $b2Joint$$.e_gearJoint:$joint$$=new $b2GearJoint$$($def$$ instanceof $b2GearJointDef$$?$def$$:null);break;case $b2Joint$$.e_lineJoint:$joint$$=new $b2LineJoint$$($def$$ instanceof
$b2LineJointDef$$?$def$$:null);break;case $b2Joint$$.e_weldJoint:$joint$$=new $b2WeldJoint$$($def$$ instanceof $b2WeldJointDef$$?$def$$:null);break;case $b2Joint$$.e_frictionJoint:$joint$$=new $b2FrictionJoint$$($def$$ instanceof $b2FrictionJointDef$$?$def$$:null)}return $joint$$};$b2Joint$$.Destroy=function $$b2Joint$$$Destroy$($joint$$,$allocator$$){};$b2Joint$$.prototype.b2Joint=function $$b2Joint$$$$b2Joint$($def$$){$b2Settings$$.b2Assert($def$$.bodyA!=$def$$.bodyB);this.m_type=$def$$.type;this.m_next=
this.m_prev=null;this.m_bodyA=$def$$.bodyA;this.m_bodyB=$def$$.bodyB;this.m_collideConnected=$def$$.collideConnected;this.m_islandFlag=!1;this.m_userData=$def$$.userData};$b2Joint$$.prototype.InitVelocityConstraints=function $$b2Joint$$$$InitVelocityConstraints$($step$$){};$b2Joint$$.prototype.SolveVelocityConstraints=function $$b2Joint$$$$SolveVelocityConstraints$($step$$){};$b2Joint$$.prototype.FinalizeVelocityConstraints=function $$b2Joint$$$$FinalizeVelocityConstraints$(){};$b2Joint$$.prototype.SolvePositionConstraints=
function $$b2Joint$$$$SolvePositionConstraints$($baumgarte$$){return!1};Box2D.postDefs.push(function(){Box2D.Dynamics.Joints.b2Joint.e_unknownJoint=0;Box2D.Dynamics.Joints.b2Joint.e_revoluteJoint=1;Box2D.Dynamics.Joints.b2Joint.e_prismaticJoint=2;Box2D.Dynamics.Joints.b2Joint.e_distanceJoint=3;Box2D.Dynamics.Joints.b2Joint.e_pulleyJoint=4;Box2D.Dynamics.Joints.b2Joint.e_mouseJoint=5;Box2D.Dynamics.Joints.b2Joint.e_gearJoint=6;Box2D.Dynamics.Joints.b2Joint.e_lineJoint=7;Box2D.Dynamics.Joints.b2Joint.e_weldJoint=
8;Box2D.Dynamics.Joints.b2Joint.e_frictionJoint=9;Box2D.Dynamics.Joints.b2Joint.e_inactiveLimit=0;Box2D.Dynamics.Joints.b2Joint.e_atLowerLimit=1;Box2D.Dynamics.Joints.b2Joint.e_atUpperLimit=2;Box2D.Dynamics.Joints.b2Joint.e_equalLimits=3});$b2JointDef$$.b2JointDef=function $$b2JointDef$$$b2JointDef$(){};$b2JointDef$$.prototype.b2JointDef=function $$b2JointDef$$$$b2JointDef$(){this.type=$b2Joint$$.e_unknownJoint;this.bodyB=this.bodyA=this.userData=null;this.collideConnected=!1};$b2JointEdge$$.b2JointEdge=
function $$b2JointEdge$$$b2JointEdge$(){};Box2D.inherit($b2LineJoint$$,Box2D.Dynamics.Joints.b2Joint);$b2LineJoint$$.prototype.__super=Box2D.Dynamics.Joints.b2Joint.prototype;$b2LineJoint$$.b2LineJoint=function $$b2LineJoint$$$b2LineJoint$(){Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments);this.m_localAnchor1=new $b2Vec2$$;this.m_localAnchor2=new $b2Vec2$$;this.m_localXAxis1=new $b2Vec2$$;this.m_localYAxis1=new $b2Vec2$$;this.m_axis=new $b2Vec2$$;this.m_perp=new $b2Vec2$$;this.m_K=new $b2Mat22$$;
this.m_impulse=new $b2Vec2$$};$b2LineJoint$$.prototype.GetAnchorA=function $$b2LineJoint$$$$GetAnchorA$(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)};$b2LineJoint$$.prototype.GetAnchorB=function $$b2LineJoint$$$$GetAnchorB$(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)};$b2LineJoint$$.prototype.GetReactionForce=function $$b2LineJoint$$$$GetReactionForce$($inv_dt$$){void 0===$inv_dt$$&&($inv_dt$$=0);return new $b2Vec2$$($inv_dt$$*(this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+
this.m_impulse.y)*this.m_axis.x),$inv_dt$$*(this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.y))};$b2LineJoint$$.prototype.GetReactionTorque=function $$b2LineJoint$$$$GetReactionTorque$($inv_dt$$){void 0===$inv_dt$$&&($inv_dt$$=0);return $inv_dt$$*this.m_impulse.y};$b2LineJoint$$.prototype.GetJointTranslation=function $$b2LineJoint$$$$GetJointTranslation$(){var $axis$$6_bA$$=this.m_bodyA,$bB$$16_dX$$=this.m_bodyB,$dY$$18_p1$$=$axis$$6_bA$$.GetWorldPoint(this.m_localAnchor1),
$p2$$=$bB$$16_dX$$.GetWorldPoint(this.m_localAnchor2),$bB$$16_dX$$=$p2$$.x-$dY$$18_p1$$.x,$dY$$18_p1$$=$p2$$.y-$dY$$18_p1$$.y,$axis$$6_bA$$=$axis$$6_bA$$.GetWorldVector(this.m_localXAxis1);return $axis$$6_bA$$.x*$bB$$16_dX$$+$axis$$6_bA$$.y*$dY$$18_p1$$};$b2LineJoint$$.prototype.GetJointSpeed=function $$b2LineJoint$$$$GetJointSpeed$(){var $bA$$17_w1$$=this.m_bodyA,$bB$$17_w2$$=this.m_bodyB,$dX$$19_tMat$$;$dX$$19_tMat$$=$bA$$17_w1$$.m_xf.R;var $r1X$$=this.m_localAnchor1.x-$bA$$17_w1$$.m_sweep.localCenter.x,
$r1Y$$=this.m_localAnchor1.y-$bA$$17_w1$$.m_sweep.localCenter.y,$dY$$19_tX$$=$dX$$19_tMat$$.col1.x*$r1X$$+$dX$$19_tMat$$.col2.x*$r1Y$$,$r1Y$$=$dX$$19_tMat$$.col1.y*$r1X$$+$dX$$19_tMat$$.col2.y*$r1Y$$,$r1X$$=$dY$$19_tX$$;$dX$$19_tMat$$=$bB$$17_w2$$.m_xf.R;var $r2X$$=this.m_localAnchor2.x-$bB$$17_w2$$.m_sweep.localCenter.x,$r2Y$$=this.m_localAnchor2.y-$bB$$17_w2$$.m_sweep.localCenter.y,$dY$$19_tX$$=$dX$$19_tMat$$.col1.x*$r2X$$+$dX$$19_tMat$$.col2.x*$r2Y$$,$r2Y$$=$dX$$19_tMat$$.col1.y*$r2X$$+$dX$$19_tMat$$.col2.y*
$r2Y$$,$r2X$$=$dY$$19_tX$$;$dX$$19_tMat$$=$bB$$17_w2$$.m_sweep.c.x+$r2X$$-($bA$$17_w1$$.m_sweep.c.x+$r1X$$);var $dY$$19_tX$$=$bB$$17_w2$$.m_sweep.c.y+$r2Y$$-($bA$$17_w1$$.m_sweep.c.y+$r1Y$$),$axis$$=$bA$$17_w1$$.GetWorldVector(this.m_localXAxis1),$v1$$=$bA$$17_w1$$.m_linearVelocity,$v2$$=$bB$$17_w2$$.m_linearVelocity,$bA$$17_w1$$=$bA$$17_w1$$.m_angularVelocity,$bB$$17_w2$$=$bB$$17_w2$$.m_angularVelocity;return $dX$$19_tMat$$*-$bA$$17_w1$$*$axis$$.y+$dY$$19_tX$$*$bA$$17_w1$$*$axis$$.x+($axis$$.x*($v2$$.x+
-$bB$$17_w2$$*$r2Y$$-$v1$$.x- -$bA$$17_w1$$*$r1Y$$)+$axis$$.y*($v2$$.y+$bB$$17_w2$$*$r2X$$-$v1$$.y-$bA$$17_w1$$*$r1X$$))};$b2LineJoint$$.prototype.IsLimitEnabled=function $$b2LineJoint$$$$IsLimitEnabled$(){return this.m_enableLimit};$b2LineJoint$$.prototype.EnableLimit=function $$b2LineJoint$$$$EnableLimit$($flag$$){this.m_bodyA.SetAwake(!0);this.m_bodyB.SetAwake(!0);this.m_enableLimit=$flag$$};$b2LineJoint$$.prototype.GetLowerLimit=function $$b2LineJoint$$$$GetLowerLimit$(){return this.m_lowerTranslation};
$b2LineJoint$$.prototype.GetUpperLimit=function $$b2LineJoint$$$$GetUpperLimit$(){return this.m_upperTranslation};$b2LineJoint$$.prototype.SetLimits=function $$b2LineJoint$$$$SetLimits$($lower$$,$upper$$){void 0===$lower$$&&($lower$$=0);void 0===$upper$$&&($upper$$=0);this.m_bodyA.SetAwake(!0);this.m_bodyB.SetAwake(!0);this.m_lowerTranslation=$lower$$;this.m_upperTranslation=$upper$$};$b2LineJoint$$.prototype.IsMotorEnabled=function $$b2LineJoint$$$$IsMotorEnabled$(){return this.m_enableMotor};$b2LineJoint$$.prototype.EnableMotor=
function $$b2LineJoint$$$$EnableMotor$($flag$$){this.m_bodyA.SetAwake(!0);this.m_bodyB.SetAwake(!0);this.m_enableMotor=$flag$$};$b2LineJoint$$.prototype.SetMotorSpeed=function $$b2LineJoint$$$$SetMotorSpeed$($speed$$){void 0===$speed$$&&($speed$$=0);this.m_bodyA.SetAwake(!0);this.m_bodyB.SetAwake(!0);this.m_motorSpeed=$speed$$};$b2LineJoint$$.prototype.GetMotorSpeed=function $$b2LineJoint$$$$GetMotorSpeed$(){return this.m_motorSpeed};$b2LineJoint$$.prototype.SetMaxMotorForce=function $$b2LineJoint$$$$SetMaxMotorForce$($force$$){void 0===
$force$$&&($force$$=0);this.m_bodyA.SetAwake(!0);this.m_bodyB.SetAwake(!0);this.m_maxMotorForce=$force$$};$b2LineJoint$$.prototype.GetMaxMotorForce=function $$b2LineJoint$$$$GetMaxMotorForce$(){return this.m_maxMotorForce};$b2LineJoint$$.prototype.GetMotorForce=function $$b2LineJoint$$$$GetMotorForce$(){return this.m_motorImpulse};$b2LineJoint$$.prototype.b2LineJoint=function $$b2LineJoint$$$$b2LineJoint$($def$$){this.__super.b2Joint.call(this,$def$$);this.m_localAnchor1.SetV($def$$.localAnchorA);
this.m_localAnchor2.SetV($def$$.localAnchorB);this.m_localXAxis1.SetV($def$$.localAxisA);this.m_localYAxis1.x=-this.m_localXAxis1.y;this.m_localYAxis1.y=this.m_localXAxis1.x;this.m_impulse.SetZero();this.m_motorImpulse=this.m_motorMass=0;this.m_lowerTranslation=$def$$.lowerTranslation;this.m_upperTranslation=$def$$.upperTranslation;this.m_maxMotorForce=$def$$.maxMotorForce;this.m_motorSpeed=$def$$.motorSpeed;this.m_enableLimit=$def$$.enableLimit;this.m_enableMotor=$def$$.enableMotor;this.m_limitState=
$b2Joint$$.e_inactiveLimit;this.m_axis.SetZero();this.m_perp.SetZero()};$b2LineJoint$$.prototype.InitVelocityConstraints=function $$b2LineJoint$$$$InitVelocityConstraints$($PX$$7_step$$){var $bA$$=this.m_bodyA,$bB$$=this.m_bodyB,$PY$$7_dX$$20_jointTransition_tMat$$,$L1_dY$$20_tX$$=0;this.m_localCenterA.SetV($bA$$.GetLocalCenter());this.m_localCenterB.SetV($bB$$.GetLocalCenter());var $L2_m1$$3_xf1$$=$bA$$.GetTransform();$bB$$.GetTransform();$PY$$7_dX$$20_jointTransition_tMat$$=$bA$$.m_xf.R;var $m2$$3_r1X$$=
this.m_localAnchor1.x-this.m_localCenterA.x,$i1$$7_r1Y$$=this.m_localAnchor1.y-this.m_localCenterA.y,$L1_dY$$20_tX$$=$PY$$7_dX$$20_jointTransition_tMat$$.col1.x*$m2$$3_r1X$$+$PY$$7_dX$$20_jointTransition_tMat$$.col2.x*$i1$$7_r1Y$$,$i1$$7_r1Y$$=$PY$$7_dX$$20_jointTransition_tMat$$.col1.y*$m2$$3_r1X$$+$PY$$7_dX$$20_jointTransition_tMat$$.col2.y*$i1$$7_r1Y$$,$m2$$3_r1X$$=$L1_dY$$20_tX$$;$PY$$7_dX$$20_jointTransition_tMat$$=$bB$$.m_xf.R;var $i2$$6_r2X$$=this.m_localAnchor2.x-this.m_localCenterB.x,$r2Y$$=
this.m_localAnchor2.y-this.m_localCenterB.y,$L1_dY$$20_tX$$=$PY$$7_dX$$20_jointTransition_tMat$$.col1.x*$i2$$6_r2X$$+$PY$$7_dX$$20_jointTransition_tMat$$.col2.x*$r2Y$$,$r2Y$$=$PY$$7_dX$$20_jointTransition_tMat$$.col1.y*$i2$$6_r2X$$+$PY$$7_dX$$20_jointTransition_tMat$$.col2.y*$r2Y$$,$i2$$6_r2X$$=$L1_dY$$20_tX$$;$PY$$7_dX$$20_jointTransition_tMat$$=$bB$$.m_sweep.c.x+$i2$$6_r2X$$-$bA$$.m_sweep.c.x-$m2$$3_r1X$$;$L1_dY$$20_tX$$=$bB$$.m_sweep.c.y+$r2Y$$-$bA$$.m_sweep.c.y-$i1$$7_r1Y$$;this.m_invMassA=$bA$$.m_invMass;
this.m_invMassB=$bB$$.m_invMass;this.m_invIA=$bA$$.m_invI;this.m_invIB=$bB$$.m_invI;this.m_axis.SetV($b2Math$$.MulMV($L2_m1$$3_xf1$$.R,this.m_localXAxis1));this.m_a1=($PY$$7_dX$$20_jointTransition_tMat$$+$m2$$3_r1X$$)*this.m_axis.y-($L1_dY$$20_tX$$+$i1$$7_r1Y$$)*this.m_axis.x;this.m_a2=$i2$$6_r2X$$*this.m_axis.y-$r2Y$$*this.m_axis.x;this.m_motorMass=this.m_invMassA+this.m_invMassB+this.m_invIA*this.m_a1*this.m_a1+this.m_invIB*this.m_a2*this.m_a2;this.m_motorMass=this.m_motorMass>Number.MIN_VALUE?
1/this.m_motorMass:0;this.m_perp.SetV($b2Math$$.MulMV($L2_m1$$3_xf1$$.R,this.m_localYAxis1));this.m_s1=($PY$$7_dX$$20_jointTransition_tMat$$+$m2$$3_r1X$$)*this.m_perp.y-($L1_dY$$20_tX$$+$i1$$7_r1Y$$)*this.m_perp.x;this.m_s2=$i2$$6_r2X$$*this.m_perp.y-$r2Y$$*this.m_perp.x;$L2_m1$$3_xf1$$=this.m_invMassA;$m2$$3_r1X$$=this.m_invMassB;$i1$$7_r1Y$$=this.m_invIA;$i2$$6_r2X$$=this.m_invIB;this.m_K.col1.x=$L2_m1$$3_xf1$$+$m2$$3_r1X$$+$i1$$7_r1Y$$*this.m_s1*this.m_s1+$i2$$6_r2X$$*this.m_s2*this.m_s2;this.m_K.col1.y=
$i1$$7_r1Y$$*this.m_s1*this.m_a1+$i2$$6_r2X$$*this.m_s2*this.m_a2;this.m_K.col2.x=this.m_K.col1.y;this.m_K.col2.y=$L2_m1$$3_xf1$$+$m2$$3_r1X$$+$i1$$7_r1Y$$*this.m_a1*this.m_a1+$i2$$6_r2X$$*this.m_a2*this.m_a2;this.m_enableLimit?($PY$$7_dX$$20_jointTransition_tMat$$=this.m_axis.x*$PY$$7_dX$$20_jointTransition_tMat$$+this.m_axis.y*$L1_dY$$20_tX$$,$b2Math$$.Abs(this.m_upperTranslation-this.m_lowerTranslation)<2*$b2Settings$$.b2_linearSlop?this.m_limitState=$b2Joint$$.e_equalLimits:$PY$$7_dX$$20_jointTransition_tMat$$<=
this.m_lowerTranslation?this.m_limitState!=$b2Joint$$.e_atLowerLimit&&(this.m_limitState=$b2Joint$$.e_atLowerLimit,this.m_impulse.y=0):$PY$$7_dX$$20_jointTransition_tMat$$>=this.m_upperTranslation?this.m_limitState!=$b2Joint$$.e_atUpperLimit&&(this.m_limitState=$b2Joint$$.e_atUpperLimit,this.m_impulse.y=0):(this.m_limitState=$b2Joint$$.e_inactiveLimit,this.m_impulse.y=0)):this.m_limitState=$b2Joint$$.e_inactiveLimit;0==this.m_enableMotor&&(this.m_motorImpulse=0);$PX$$7_step$$.warmStarting?(this.m_impulse.x*=
$PX$$7_step$$.dtRatio,this.m_impulse.y*=$PX$$7_step$$.dtRatio,this.m_motorImpulse*=$PX$$7_step$$.dtRatio,$PX$$7_step$$=this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.x,$PY$$7_dX$$20_jointTransition_tMat$$=this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.y,$L1_dY$$20_tX$$=this.m_impulse.x*this.m_s1+(this.m_motorImpulse+this.m_impulse.y)*this.m_a1,$L2_m1$$3_xf1$$=this.m_impulse.x*this.m_s2+(this.m_motorImpulse+this.m_impulse.y)*this.m_a2,
$bA$$.m_linearVelocity.x-=this.m_invMassA*$PX$$7_step$$,$bA$$.m_linearVelocity.y-=this.m_invMassA*$PY$$7_dX$$20_jointTransition_tMat$$,$bA$$.m_angularVelocity-=this.m_invIA*$L1_dY$$20_tX$$,$bB$$.m_linearVelocity.x+=this.m_invMassB*$PX$$7_step$$,$bB$$.m_linearVelocity.y+=this.m_invMassB*$PY$$7_dX$$20_jointTransition_tMat$$,$bB$$.m_angularVelocity+=this.m_invIB*$L2_m1$$3_xf1$$):(this.m_impulse.SetZero(),this.m_motorImpulse=0)};$b2LineJoint$$.prototype.SolveVelocityConstraints=function $$b2LineJoint$$$$SolveVelocityConstraints$($df_df2_step$$){var $bA$$=
this.m_bodyA,$bB$$=this.m_bodyB,$v1$$=$bA$$.m_linearVelocity,$w1$$=$bA$$.m_angularVelocity,$v2$$=$bB$$.m_linearVelocity,$w2$$=$bB$$.m_angularVelocity,$PX$$8_f1$$5_oldImpulse$$=0,$Cdot1_PY$$8_b$$341_maxImpulse$$=0,$Cdot2_L1$$=0,$L2$$1_impulse$$=0;this.m_enableMotor&&this.m_limitState!=$b2Joint$$.e_equalLimits&&($L2$$1_impulse$$=this.m_motorMass*(this.m_motorSpeed-(this.m_axis.x*($v2$$.x-$v1$$.x)+this.m_axis.y*($v2$$.y-$v1$$.y)+this.m_a2*$w2$$-this.m_a1*$w1$$)),$PX$$8_f1$$5_oldImpulse$$=this.m_motorImpulse,
$Cdot1_PY$$8_b$$341_maxImpulse$$=$df_df2_step$$.dt*this.m_maxMotorForce,this.m_motorImpulse=$b2Math$$.Clamp(this.m_motorImpulse+$L2$$1_impulse$$,-$Cdot1_PY$$8_b$$341_maxImpulse$$,$Cdot1_PY$$8_b$$341_maxImpulse$$),$L2$$1_impulse$$=this.m_motorImpulse-$PX$$8_f1$$5_oldImpulse$$,$PX$$8_f1$$5_oldImpulse$$=$L2$$1_impulse$$*this.m_axis.x,$Cdot1_PY$$8_b$$341_maxImpulse$$=$L2$$1_impulse$$*this.m_axis.y,$Cdot2_L1$$=$L2$$1_impulse$$*this.m_a1,$L2$$1_impulse$$*=this.m_a2,$v1$$.x-=this.m_invMassA*$PX$$8_f1$$5_oldImpulse$$,
$v1$$.y-=this.m_invMassA*$Cdot1_PY$$8_b$$341_maxImpulse$$,$w1$$-=this.m_invIA*$Cdot2_L1$$,$v2$$.x+=this.m_invMassB*$PX$$8_f1$$5_oldImpulse$$,$v2$$.y+=this.m_invMassB*$Cdot1_PY$$8_b$$341_maxImpulse$$,$w2$$+=this.m_invIB*$L2$$1_impulse$$);$Cdot1_PY$$8_b$$341_maxImpulse$$=this.m_perp.x*($v2$$.x-$v1$$.x)+this.m_perp.y*($v2$$.y-$v1$$.y)+this.m_s2*$w2$$-this.m_s1*$w1$$;this.m_enableLimit&&this.m_limitState!=$b2Joint$$.e_inactiveLimit?($Cdot2_L1$$=this.m_axis.x*($v2$$.x-$v1$$.x)+this.m_axis.y*($v2$$.y-$v1$$.y)+
this.m_a2*$w2$$-this.m_a1*$w1$$,$PX$$8_f1$$5_oldImpulse$$=this.m_impulse.Copy(),$df_df2_step$$=this.m_K.Solve(new $b2Vec2$$,-$Cdot1_PY$$8_b$$341_maxImpulse$$,-$Cdot2_L1$$),this.m_impulse.Add($df_df2_step$$),this.m_limitState==$b2Joint$$.e_atLowerLimit?this.m_impulse.y=$b2Math$$.Max(this.m_impulse.y,0):this.m_limitState==$b2Joint$$.e_atUpperLimit&&(this.m_impulse.y=$b2Math$$.Min(this.m_impulse.y,0)),$Cdot1_PY$$8_b$$341_maxImpulse$$=-$Cdot1_PY$$8_b$$341_maxImpulse$$-(this.m_impulse.y-$PX$$8_f1$$5_oldImpulse$$.y)*
this.m_K.col2.x,$Cdot2_L1$$=0,$Cdot2_L1$$=0!=this.m_K.col1.x?$Cdot1_PY$$8_b$$341_maxImpulse$$/this.m_K.col1.x+$PX$$8_f1$$5_oldImpulse$$.x:$PX$$8_f1$$5_oldImpulse$$.x,this.m_impulse.x=$Cdot2_L1$$,$df_df2_step$$.x=this.m_impulse.x-$PX$$8_f1$$5_oldImpulse$$.x,$df_df2_step$$.y=this.m_impulse.y-$PX$$8_f1$$5_oldImpulse$$.y,$PX$$8_f1$$5_oldImpulse$$=$df_df2_step$$.x*this.m_perp.x+$df_df2_step$$.y*this.m_axis.x,$Cdot1_PY$$8_b$$341_maxImpulse$$=$df_df2_step$$.x*this.m_perp.y+$df_df2_step$$.y*this.m_axis.y,
$Cdot2_L1$$=$df_df2_step$$.x*this.m_s1+$df_df2_step$$.y*this.m_a1,$L2$$1_impulse$$=$df_df2_step$$.x*this.m_s2+$df_df2_step$$.y*this.m_a2):($df_df2_step$$=0,$df_df2_step$$=0!=this.m_K.col1.x?-$Cdot1_PY$$8_b$$341_maxImpulse$$/this.m_K.col1.x:0,this.m_impulse.x+=$df_df2_step$$,$PX$$8_f1$$5_oldImpulse$$=$df_df2_step$$*this.m_perp.x,$Cdot1_PY$$8_b$$341_maxImpulse$$=$df_df2_step$$*this.m_perp.y,$Cdot2_L1$$=$df_df2_step$$*this.m_s1,$L2$$1_impulse$$=$df_df2_step$$*this.m_s2);$v1$$.x-=this.m_invMassA*$PX$$8_f1$$5_oldImpulse$$;
$v1$$.y-=this.m_invMassA*$Cdot1_PY$$8_b$$341_maxImpulse$$;$w1$$-=this.m_invIA*$Cdot2_L1$$;$v2$$.x+=this.m_invMassB*$PX$$8_f1$$5_oldImpulse$$;$v2$$.y+=this.m_invMassB*$Cdot1_PY$$8_b$$341_maxImpulse$$;$w2$$+=this.m_invIB*$L2$$1_impulse$$;$bA$$.m_linearVelocity.SetV($v1$$);$bA$$.m_angularVelocity=$w1$$;$bB$$.m_linearVelocity.SetV($v2$$);$bB$$.m_angularVelocity=$w2$$};$b2LineJoint$$.prototype.SolvePositionConstraints=function $$b2LineJoint$$$$SolvePositionConstraints$($bA$$20_baumgarte$$){$bA$$20_baumgarte$$=
this.m_bodyA;var $bB$$=this.m_bodyB,$c1$$=$bA$$20_baumgarte$$.m_sweep.c,$a1$$=$bA$$20_baumgarte$$.m_sweep.a,$c2$$=$bB$$.m_sweep.c,$a2$$=$bB$$.m_sweep.a,$dX$$21_i2$$7_tMat$$,$dY$$21_tX$$=0,$PY$$9_active$$2_m1$$=0,$R2_m2$$4_r2X$$=0,$i1$$8_r2Y$$=0,$linearError$$=$dX$$21_i2$$7_tMat$$=0,$angularError_r1X$$=0,$PY$$9_active$$2_m1$$=!1,$C2_PX$$9_k11$$=0,$L2$$2_R1_impulse$$=$b2Mat22$$.FromAngle($a1$$),$R2_m2$$4_r2X$$=$b2Mat22$$.FromAngle($a2$$);$dX$$21_i2$$7_tMat$$=$L2$$2_R1_impulse$$;var $angularError_r1X$$=
this.m_localAnchor1.x-this.m_localCenterA.x,$C1_L1$$2_r1Y$$=this.m_localAnchor1.y-this.m_localCenterA.y,$dY$$21_tX$$=$dX$$21_i2$$7_tMat$$.col1.x*$angularError_r1X$$+$dX$$21_i2$$7_tMat$$.col2.x*$C1_L1$$2_r1Y$$,$C1_L1$$2_r1Y$$=$dX$$21_i2$$7_tMat$$.col1.y*$angularError_r1X$$+$dX$$21_i2$$7_tMat$$.col2.y*$C1_L1$$2_r1Y$$,$angularError_r1X$$=$dY$$21_tX$$;$dX$$21_i2$$7_tMat$$=$R2_m2$$4_r2X$$;$R2_m2$$4_r2X$$=this.m_localAnchor2.x-this.m_localCenterB.x;$i1$$8_r2Y$$=this.m_localAnchor2.y-this.m_localCenterB.y;
$dY$$21_tX$$=$dX$$21_i2$$7_tMat$$.col1.x*$R2_m2$$4_r2X$$+$dX$$21_i2$$7_tMat$$.col2.x*$i1$$8_r2Y$$;$i1$$8_r2Y$$=$dX$$21_i2$$7_tMat$$.col1.y*$R2_m2$$4_r2X$$+$dX$$21_i2$$7_tMat$$.col2.y*$i1$$8_r2Y$$;$R2_m2$$4_r2X$$=$dY$$21_tX$$;$dX$$21_i2$$7_tMat$$=$c2$$.x+$R2_m2$$4_r2X$$-$c1$$.x-$angularError_r1X$$;$dY$$21_tX$$=$c2$$.y+$i1$$8_r2Y$$-$c1$$.y-$C1_L1$$2_r1Y$$;if(this.m_enableLimit){this.m_axis=$b2Math$$.MulMV($L2$$2_R1_impulse$$,this.m_localXAxis1);this.m_a1=($dX$$21_i2$$7_tMat$$+$angularError_r1X$$)*this.m_axis.y-
($dY$$21_tX$$+$C1_L1$$2_r1Y$$)*this.m_axis.x;this.m_a2=$R2_m2$$4_r2X$$*this.m_axis.y-$i1$$8_r2Y$$*this.m_axis.x;var $translation$$=this.m_axis.x*$dX$$21_i2$$7_tMat$$+this.m_axis.y*$dY$$21_tX$$;$b2Math$$.Abs(this.m_upperTranslation-this.m_lowerTranslation)<2*$b2Settings$$.b2_linearSlop?($C2_PX$$9_k11$$=$b2Math$$.Clamp($translation$$,-$b2Settings$$.b2_maxLinearCorrection,$b2Settings$$.b2_maxLinearCorrection),$linearError$$=$b2Math$$.Abs($translation$$),$PY$$9_active$$2_m1$$=!0):$translation$$<=this.m_lowerTranslation?
($C2_PX$$9_k11$$=$b2Math$$.Clamp($translation$$-this.m_lowerTranslation+$b2Settings$$.b2_linearSlop,-$b2Settings$$.b2_maxLinearCorrection,0),$linearError$$=this.m_lowerTranslation-$translation$$,$PY$$9_active$$2_m1$$=!0):$translation$$>=this.m_upperTranslation&&($C2_PX$$9_k11$$=$b2Math$$.Clamp($translation$$-this.m_upperTranslation+$b2Settings$$.b2_linearSlop,0,$b2Settings$$.b2_maxLinearCorrection),$linearError$$=$translation$$-this.m_upperTranslation,$PY$$9_active$$2_m1$$=!0)}this.m_perp=$b2Math$$.MulMV($L2$$2_R1_impulse$$,
this.m_localYAxis1);this.m_s1=($dX$$21_i2$$7_tMat$$+$angularError_r1X$$)*this.m_perp.y-($dY$$21_tX$$+$C1_L1$$2_r1Y$$)*this.m_perp.x;this.m_s2=$R2_m2$$4_r2X$$*this.m_perp.y-$i1$$8_r2Y$$*this.m_perp.x;$L2$$2_R1_impulse$$=new $b2Vec2$$;$C1_L1$$2_r1Y$$=this.m_perp.x*$dX$$21_i2$$7_tMat$$+this.m_perp.y*$dY$$21_tX$$;$linearError$$=$b2Math$$.Max($linearError$$,$b2Math$$.Abs($C1_L1$$2_r1Y$$));$angularError_r1X$$=0;$PY$$9_active$$2_m1$$?($PY$$9_active$$2_m1$$=this.m_invMassA,$R2_m2$$4_r2X$$=this.m_invMassB,
$i1$$8_r2Y$$=this.m_invIA,$dX$$21_i2$$7_tMat$$=this.m_invIB,this.m_K.col1.x=$PY$$9_active$$2_m1$$+$R2_m2$$4_r2X$$+$i1$$8_r2Y$$*this.m_s1*this.m_s1+$dX$$21_i2$$7_tMat$$*this.m_s2*this.m_s2,this.m_K.col1.y=$i1$$8_r2Y$$*this.m_s1*this.m_a1+$dX$$21_i2$$7_tMat$$*this.m_s2*this.m_a2,this.m_K.col2.x=this.m_K.col1.y,this.m_K.col2.y=$PY$$9_active$$2_m1$$+$R2_m2$$4_r2X$$+$i1$$8_r2Y$$*this.m_a1*this.m_a1+$dX$$21_i2$$7_tMat$$*this.m_a2*this.m_a2,this.m_K.Solve($L2$$2_R1_impulse$$,-$C1_L1$$2_r1Y$$,-$C2_PX$$9_k11$$)):
($PY$$9_active$$2_m1$$=this.m_invMassA,$R2_m2$$4_r2X$$=this.m_invMassB,$i1$$8_r2Y$$=this.m_invIA,$dX$$21_i2$$7_tMat$$=this.m_invIB,$C2_PX$$9_k11$$=$PY$$9_active$$2_m1$$+$R2_m2$$4_r2X$$+$i1$$8_r2Y$$*this.m_s1*this.m_s1+$dX$$21_i2$$7_tMat$$*this.m_s2*this.m_s2,$L2$$2_R1_impulse$$.x=0!=$C2_PX$$9_k11$$?-$C1_L1$$2_r1Y$$/$C2_PX$$9_k11$$:0,$L2$$2_R1_impulse$$.y=0);$C2_PX$$9_k11$$=$L2$$2_R1_impulse$$.x*this.m_perp.x+$L2$$2_R1_impulse$$.y*this.m_axis.x;$PY$$9_active$$2_m1$$=$L2$$2_R1_impulse$$.x*this.m_perp.y+
$L2$$2_R1_impulse$$.y*this.m_axis.y;$C1_L1$$2_r1Y$$=$L2$$2_R1_impulse$$.x*this.m_s1+$L2$$2_R1_impulse$$.y*this.m_a1;$L2$$2_R1_impulse$$=$L2$$2_R1_impulse$$.x*this.m_s2+$L2$$2_R1_impulse$$.y*this.m_a2;$c1$$.x-=this.m_invMassA*$C2_PX$$9_k11$$;$c1$$.y-=this.m_invMassA*$PY$$9_active$$2_m1$$;$a1$$-=this.m_invIA*$C1_L1$$2_r1Y$$;$c2$$.x+=this.m_invMassB*$C2_PX$$9_k11$$;$c2$$.y+=this.m_invMassB*$PY$$9_active$$2_m1$$;$a2$$+=this.m_invIB*$L2$$2_R1_impulse$$;$bA$$20_baumgarte$$.m_sweep.a=$a1$$;$bB$$.m_sweep.a=
$a2$$;$bA$$20_baumgarte$$.SynchronizeTransform();$bB$$.SynchronizeTransform();return $linearError$$<=$b2Settings$$.b2_linearSlop&&$angularError_r1X$$<=$b2Settings$$.b2_angularSlop};Box2D.inherit($b2LineJointDef$$,Box2D.Dynamics.Joints.b2JointDef);$b2LineJointDef$$.prototype.__super=Box2D.Dynamics.Joints.b2JointDef.prototype;$b2LineJointDef$$.b2LineJointDef=function $$b2LineJointDef$$$b2LineJointDef$(){Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments);this.localAnchorA=new $b2Vec2$$;
this.localAnchorB=new $b2Vec2$$;this.localAxisA=new $b2Vec2$$};$b2LineJointDef$$.prototype.b2LineJointDef=function $$b2LineJointDef$$$$b2LineJointDef$(){this.__super.b2JointDef.call(this);this.type=$b2Joint$$.e_lineJoint;this.localAxisA.Set(1,0);this.enableLimit=!1;this.upperTranslation=this.lowerTranslation=0;this.enableMotor=!1;this.motorSpeed=this.maxMotorForce=0};$b2LineJointDef$$.prototype.Initialize=function $$b2LineJointDef$$$$Initialize$($bA$$,$bB$$,$anchor$$,$axis$$){this.bodyA=$bA$$;this.bodyB=
$bB$$;this.localAnchorA=this.bodyA.GetLocalPoint($anchor$$);this.localAnchorB=this.bodyB.GetLocalPoint($anchor$$);this.localAxisA=this.bodyA.GetLocalVector($axis$$)};Box2D.inherit($b2MouseJoint$$,Box2D.Dynamics.Joints.b2Joint);$b2MouseJoint$$.prototype.__super=Box2D.Dynamics.Joints.b2Joint.prototype;$b2MouseJoint$$.b2MouseJoint=function $$b2MouseJoint$$$b2MouseJoint$(){Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments);this.K=new $b2Mat22$$;this.K1=new $b2Mat22$$;this.K2=new $b2Mat22$$;this.m_localAnchor=
new $b2Vec2$$;this.m_target=new $b2Vec2$$;this.m_impulse=new $b2Vec2$$;this.m_mass=new $b2Mat22$$;this.m_C=new $b2Vec2$$};$b2MouseJoint$$.prototype.GetAnchorA=function $$b2MouseJoint$$$$GetAnchorA$(){return this.m_target};$b2MouseJoint$$.prototype.GetAnchorB=function $$b2MouseJoint$$$$GetAnchorB$(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor)};$b2MouseJoint$$.prototype.GetReactionForce=function $$b2MouseJoint$$$$GetReactionForce$($inv_dt$$){void 0===$inv_dt$$&&($inv_dt$$=0);return new $b2Vec2$$($inv_dt$$*
this.m_impulse.x,$inv_dt$$*this.m_impulse.y)};$b2MouseJoint$$.prototype.GetReactionTorque=function $$b2MouseJoint$$$$GetReactionTorque$($inv_dt$$){return 0};$b2MouseJoint$$.prototype.GetTarget=function $$b2MouseJoint$$$$GetTarget$(){return this.m_target};$b2MouseJoint$$.prototype.SetTarget=function $$b2MouseJoint$$$$SetTarget$($target$$){0==this.m_bodyB.IsAwake()&&this.m_bodyB.SetAwake(!0);this.m_target=$target$$};$b2MouseJoint$$.prototype.GetMaxForce=function $$b2MouseJoint$$$$GetMaxForce$(){return this.m_maxForce};
$b2MouseJoint$$.prototype.SetMaxForce=function $$b2MouseJoint$$$$SetMaxForce$($maxForce$$){void 0===$maxForce$$&&($maxForce$$=0);this.m_maxForce=$maxForce$$};$b2MouseJoint$$.prototype.GetFrequency=function $$b2MouseJoint$$$$GetFrequency$(){return this.m_frequencyHz};$b2MouseJoint$$.prototype.SetFrequency=function $$b2MouseJoint$$$$SetFrequency$($hz$$){void 0===$hz$$&&($hz$$=0);this.m_frequencyHz=$hz$$};$b2MouseJoint$$.prototype.GetDampingRatio=function $$b2MouseJoint$$$$GetDampingRatio$(){return this.m_dampingRatio};
$b2MouseJoint$$.prototype.SetDampingRatio=function $$b2MouseJoint$$$$SetDampingRatio$($ratio$$){void 0===$ratio$$&&($ratio$$=0);this.m_dampingRatio=$ratio$$};$b2MouseJoint$$.prototype.b2MouseJoint=function $$b2MouseJoint$$$$b2MouseJoint$($def$$){this.__super.b2Joint.call(this,$def$$);this.m_target.SetV($def$$.target);var $tX$$=this.m_target.x-this.m_bodyB.m_xf.position.x,$tY$$=this.m_target.y-this.m_bodyB.m_xf.position.y,$tMat$$=this.m_bodyB.m_xf.R;this.m_localAnchor.x=$tX$$*$tMat$$.col1.x+$tY$$*
$tMat$$.col1.y;this.m_localAnchor.y=$tX$$*$tMat$$.col2.x+$tY$$*$tMat$$.col2.y;this.m_maxForce=$def$$.maxForce;this.m_impulse.SetZero();this.m_frequencyHz=$def$$.frequencyHz;this.m_dampingRatio=$def$$.dampingRatio;this.m_gamma=this.m_beta=0};$b2MouseJoint$$.prototype.InitVelocityConstraints=function $$b2MouseJoint$$$$InitVelocityConstraints$($step$$){var $b$$=this.m_bodyB,$mass$$1_rX$$=$b$$.GetMass(),$omega$$2_rY$$=2*Math.PI*this.m_frequencyHz,$invMass$$1_k$$45_tMat$$=$mass$$1_rX$$*$omega$$2_rY$$*
$omega$$2_rY$$;this.m_gamma=$step$$.dt*(2*$mass$$1_rX$$*this.m_dampingRatio*$omega$$2_rY$$+$step$$.dt*$invMass$$1_k$$45_tMat$$);this.m_gamma=0!=this.m_gamma?1/this.m_gamma:0;this.m_beta=$step$$.dt*$invMass$$1_k$$45_tMat$$*this.m_gamma;var $invMass$$1_k$$45_tMat$$=$b$$.m_xf.R,$mass$$1_rX$$=this.m_localAnchor.x-$b$$.m_sweep.localCenter.x,$omega$$2_rY$$=this.m_localAnchor.y-$b$$.m_sweep.localCenter.y,$invI_tX$$=$invMass$$1_k$$45_tMat$$.col1.x*$mass$$1_rX$$+$invMass$$1_k$$45_tMat$$.col2.x*$omega$$2_rY$$,
$omega$$2_rY$$=$invMass$$1_k$$45_tMat$$.col1.y*$mass$$1_rX$$+$invMass$$1_k$$45_tMat$$.col2.y*$omega$$2_rY$$,$mass$$1_rX$$=$invI_tX$$,$invMass$$1_k$$45_tMat$$=$b$$.m_invMass,$invI_tX$$=$b$$.m_invI;this.K1.col1.x=$invMass$$1_k$$45_tMat$$;this.K1.col2.x=0;this.K1.col1.y=0;this.K1.col2.y=$invMass$$1_k$$45_tMat$$;this.K2.col1.x=$invI_tX$$*$omega$$2_rY$$*$omega$$2_rY$$;this.K2.col2.x=-$invI_tX$$*$mass$$1_rX$$*$omega$$2_rY$$;this.K2.col1.y=-$invI_tX$$*$mass$$1_rX$$*$omega$$2_rY$$;this.K2.col2.y=$invI_tX$$*
$mass$$1_rX$$*$mass$$1_rX$$;this.K.SetM(this.K1);this.K.AddM(this.K2);this.K.col1.x+=this.m_gamma;this.K.col2.y+=this.m_gamma;this.K.GetInverse(this.m_mass);this.m_C.x=$b$$.m_sweep.c.x+$mass$$1_rX$$-this.m_target.x;this.m_C.y=$b$$.m_sweep.c.y+$omega$$2_rY$$-this.m_target.y;$b$$.m_angularVelocity*=.98;this.m_impulse.x*=$step$$.dtRatio;this.m_impulse.y*=$step$$.dtRatio;$b$$.m_linearVelocity.x+=$invMass$$1_k$$45_tMat$$*this.m_impulse.x;$b$$.m_linearVelocity.y+=$invMass$$1_k$$45_tMat$$*this.m_impulse.y;
$b$$.m_angularVelocity+=$invI_tX$$*($mass$$1_rX$$*this.m_impulse.y-$omega$$2_rY$$*this.m_impulse.x)};$b2MouseJoint$$.prototype.SolveVelocityConstraints=function $$b2MouseJoint$$$$SolveVelocityConstraints$($maxImpulse$$2_step$$){var $b$$=this.m_bodyB,$oldImpulseX_tMat$$,$CdotX$$1_oldImpulseY_tX$$=0,$impulseY_tY$$=0;$oldImpulseX_tMat$$=$b$$.m_xf.R;var $rX$$=this.m_localAnchor.x-$b$$.m_sweep.localCenter.x,$rY$$=this.m_localAnchor.y-$b$$.m_sweep.localCenter.y,$CdotX$$1_oldImpulseY_tX$$=$oldImpulseX_tMat$$.col1.x*
$rX$$+$oldImpulseX_tMat$$.col2.x*$rY$$,$rY$$=$oldImpulseX_tMat$$.col1.y*$rX$$+$oldImpulseX_tMat$$.col2.y*$rY$$,$rX$$=$CdotX$$1_oldImpulseY_tX$$,$CdotX$$1_oldImpulseY_tX$$=$b$$.m_linearVelocity.x+-$b$$.m_angularVelocity*$rY$$,$CdotY$$=$b$$.m_linearVelocity.y+$b$$.m_angularVelocity*$rX$$;$oldImpulseX_tMat$$=this.m_mass;$CdotX$$1_oldImpulseY_tX$$=$CdotX$$1_oldImpulseY_tX$$+this.m_beta*this.m_C.x+this.m_gamma*this.m_impulse.x;$impulseY_tY$$=$CdotY$$+this.m_beta*this.m_C.y+this.m_gamma*this.m_impulse.y;
$CdotY$$=-($oldImpulseX_tMat$$.col1.x*$CdotX$$1_oldImpulseY_tX$$+$oldImpulseX_tMat$$.col2.x*$impulseY_tY$$);$impulseY_tY$$=-($oldImpulseX_tMat$$.col1.y*$CdotX$$1_oldImpulseY_tX$$+$oldImpulseX_tMat$$.col2.y*$impulseY_tY$$);$oldImpulseX_tMat$$=this.m_impulse.x;$CdotX$$1_oldImpulseY_tX$$=this.m_impulse.y;this.m_impulse.x+=$CdotY$$;this.m_impulse.y+=$impulseY_tY$$;$maxImpulse$$2_step$$=$maxImpulse$$2_step$$.dt*this.m_maxForce;this.m_impulse.LengthSquared()>$maxImpulse$$2_step$$*$maxImpulse$$2_step$$&&
this.m_impulse.Multiply($maxImpulse$$2_step$$/this.m_impulse.Length());$CdotY$$=this.m_impulse.x-$oldImpulseX_tMat$$;$impulseY_tY$$=this.m_impulse.y-$CdotX$$1_oldImpulseY_tX$$;$b$$.m_linearVelocity.x+=$b$$.m_invMass*$CdotY$$;$b$$.m_linearVelocity.y+=$b$$.m_invMass*$impulseY_tY$$;$b$$.m_angularVelocity+=$b$$.m_invI*($rX$$*$impulseY_tY$$-$rY$$*$CdotY$$)};$b2MouseJoint$$.prototype.SolvePositionConstraints=function $$b2MouseJoint$$$$SolvePositionConstraints$($baumgarte$$){return!0};Box2D.inherit($b2MouseJointDef$$,
Box2D.Dynamics.Joints.b2JointDef);$b2MouseJointDef$$.prototype.__super=Box2D.Dynamics.Joints.b2JointDef.prototype;$b2MouseJointDef$$.b2MouseJointDef=function $$b2MouseJointDef$$$b2MouseJointDef$(){Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments);this.target=new $b2Vec2$$};$b2MouseJointDef$$.prototype.b2MouseJointDef=function $$b2MouseJointDef$$$$b2MouseJointDef$(){this.__super.b2JointDef.call(this);this.type=$b2Joint$$.e_mouseJoint;this.maxForce=0;this.frequencyHz=5;this.dampingRatio=
.7};Box2D.inherit($b2PrismaticJoint$$,Box2D.Dynamics.Joints.b2Joint);$b2PrismaticJoint$$.prototype.__super=Box2D.Dynamics.Joints.b2Joint.prototype;$b2PrismaticJoint$$.b2PrismaticJoint=function $$b2PrismaticJoint$$$b2PrismaticJoint$(){Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments);this.m_localAnchor1=new $b2Vec2$$;this.m_localAnchor2=new $b2Vec2$$;this.m_localXAxis1=new $b2Vec2$$;this.m_localYAxis1=new $b2Vec2$$;this.m_axis=new $b2Vec2$$;this.m_perp=new $b2Vec2$$;this.m_K=new $b2Mat33$$;
this.m_impulse=new $b2Vec3$$};$b2PrismaticJoint$$.prototype.GetAnchorA=function $$b2PrismaticJoint$$$$GetAnchorA$(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)};$b2PrismaticJoint$$.prototype.GetAnchorB=function $$b2PrismaticJoint$$$$GetAnchorB$(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)};$b2PrismaticJoint$$.prototype.GetReactionForce=function $$b2PrismaticJoint$$$$GetReactionForce$($inv_dt$$){void 0===$inv_dt$$&&($inv_dt$$=0);return new $b2Vec2$$($inv_dt$$*(this.m_impulse.x*
this.m_perp.x+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.x),$inv_dt$$*(this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.y))};$b2PrismaticJoint$$.prototype.GetReactionTorque=function $$b2PrismaticJoint$$$$GetReactionTorque$($inv_dt$$){void 0===$inv_dt$$&&($inv_dt$$=0);return $inv_dt$$*this.m_impulse.y};$b2PrismaticJoint$$.prototype.GetJointTranslation=function $$b2PrismaticJoint$$$$GetJointTranslation$(){var $axis$$9_bA$$=this.m_bodyA,$bB$$22_dX$$=this.m_bodyB,
$dY$$22_p1$$=$axis$$9_bA$$.GetWorldPoint(this.m_localAnchor1),$p2$$=$bB$$22_dX$$.GetWorldPoint(this.m_localAnchor2),$bB$$22_dX$$=$p2$$.x-$dY$$22_p1$$.x,$dY$$22_p1$$=$p2$$.y-$dY$$22_p1$$.y,$axis$$9_bA$$=$axis$$9_bA$$.GetWorldVector(this.m_localXAxis1);return $axis$$9_bA$$.x*$bB$$22_dX$$+$axis$$9_bA$$.y*$dY$$22_p1$$};$b2PrismaticJoint$$.prototype.GetJointSpeed=function $$b2PrismaticJoint$$$$GetJointSpeed$(){var $bA$$23_w1$$=this.m_bodyA,$bB$$23_w2$$=this.m_bodyB,$dX$$23_tMat$$;$dX$$23_tMat$$=$bA$$23_w1$$.m_xf.R;
var $r1X$$=this.m_localAnchor1.x-$bA$$23_w1$$.m_sweep.localCenter.x,$r1Y$$=this.m_localAnchor1.y-$bA$$23_w1$$.m_sweep.localCenter.y,$dY$$23_tX$$=$dX$$23_tMat$$.col1.x*$r1X$$+$dX$$23_tMat$$.col2.x*$r1Y$$,$r1Y$$=$dX$$23_tMat$$.col1.y*$r1X$$+$dX$$23_tMat$$.col2.y*$r1Y$$,$r1X$$=$dY$$23_tX$$;$dX$$23_tMat$$=$bB$$23_w2$$.m_xf.R;var $r2X$$=this.m_localAnchor2.x-$bB$$23_w2$$.m_sweep.localCenter.x,$r2Y$$=this.m_localAnchor2.y-$bB$$23_w2$$.m_sweep.localCenter.y,$dY$$23_tX$$=$dX$$23_tMat$$.col1.x*$r2X$$+$dX$$23_tMat$$.col2.x*
$r2Y$$,$r2Y$$=$dX$$23_tMat$$.col1.y*$r2X$$+$dX$$23_tMat$$.col2.y*$r2Y$$,$r2X$$=$dY$$23_tX$$;$dX$$23_tMat$$=$bB$$23_w2$$.m_sweep.c.x+$r2X$$-($bA$$23_w1$$.m_sweep.c.x+$r1X$$);var $dY$$23_tX$$=$bB$$23_w2$$.m_sweep.c.y+$r2Y$$-($bA$$23_w1$$.m_sweep.c.y+$r1Y$$),$axis$$=$bA$$23_w1$$.GetWorldVector(this.m_localXAxis1),$v1$$=$bA$$23_w1$$.m_linearVelocity,$v2$$=$bB$$23_w2$$.m_linearVelocity,$bA$$23_w1$$=$bA$$23_w1$$.m_angularVelocity,$bB$$23_w2$$=$bB$$23_w2$$.m_angularVelocity;return $dX$$23_tMat$$*-$bA$$23_w1$$*
$axis$$.y+$dY$$23_tX$$*$bA$$23_w1$$*$axis$$.x+($axis$$.x*($v2$$.x+-$bB$$23_w2$$*$r2Y$$-$v1$$.x- -$bA$$23_w1$$*$r1Y$$)+$axis$$.y*($v2$$.y+$bB$$23_w2$$*$r2X$$-$v1$$.y-$bA$$23_w1$$*$r1X$$))};$b2PrismaticJoint$$.prototype.IsLimitEnabled=function $$b2PrismaticJoint$$$$IsLimitEnabled$(){return this.m_enableLimit};$b2PrismaticJoint$$.prototype.EnableLimit=function $$b2PrismaticJoint$$$$EnableLimit$($flag$$){this.m_bodyA.SetAwake(!0);this.m_bodyB.SetAwake(!0);this.m_enableLimit=$flag$$};$b2PrismaticJoint$$.prototype.GetLowerLimit=
function $$b2PrismaticJoint$$$$GetLowerLimit$(){return this.m_lowerTranslation};$b2PrismaticJoint$$.prototype.GetUpperLimit=function $$b2PrismaticJoint$$$$GetUpperLimit$(){return this.m_upperTranslation};$b2PrismaticJoint$$.prototype.SetLimits=function $$b2PrismaticJoint$$$$SetLimits$($lower$$,$upper$$){void 0===$lower$$&&($lower$$=0);void 0===$upper$$&&($upper$$=0);this.m_bodyA.SetAwake(!0);this.m_bodyB.SetAwake(!0);this.m_lowerTranslation=$lower$$;this.m_upperTranslation=$upper$$};$b2PrismaticJoint$$.prototype.IsMotorEnabled=
function $$b2PrismaticJoint$$$$IsMotorEnabled$(){return this.m_enableMotor};$b2PrismaticJoint$$.prototype.EnableMotor=function $$b2PrismaticJoint$$$$EnableMotor$($flag$$){this.m_bodyA.SetAwake(!0);this.m_bodyB.SetAwake(!0);this.m_enableMotor=$flag$$};$b2PrismaticJoint$$.prototype.SetMotorSpeed=function $$b2PrismaticJoint$$$$SetMotorSpeed$($speed$$){void 0===$speed$$&&($speed$$=0);this.m_bodyA.SetAwake(!0);this.m_bodyB.SetAwake(!0);this.m_motorSpeed=$speed$$};$b2PrismaticJoint$$.prototype.GetMotorSpeed=
function $$b2PrismaticJoint$$$$GetMotorSpeed$(){return this.m_motorSpeed};$b2PrismaticJoint$$.prototype.SetMaxMotorForce=function $$b2PrismaticJoint$$$$SetMaxMotorForce$($force$$){void 0===$force$$&&($force$$=0);this.m_bodyA.SetAwake(!0);this.m_bodyB.SetAwake(!0);this.m_maxMotorForce=$force$$};$b2PrismaticJoint$$.prototype.GetMotorForce=function $$b2PrismaticJoint$$$$GetMotorForce$(){return this.m_motorImpulse};$b2PrismaticJoint$$.prototype.b2PrismaticJoint=function $$b2PrismaticJoint$$$$b2PrismaticJoint$($def$$){this.__super.b2Joint.call(this,
$def$$);this.m_localAnchor1.SetV($def$$.localAnchorA);this.m_localAnchor2.SetV($def$$.localAnchorB);this.m_localXAxis1.SetV($def$$.localAxisA);this.m_localYAxis1.x=-this.m_localXAxis1.y;this.m_localYAxis1.y=this.m_localXAxis1.x;this.m_refAngle=$def$$.referenceAngle;this.m_impulse.SetZero();this.m_motorImpulse=this.m_motorMass=0;this.m_lowerTranslation=$def$$.lowerTranslation;this.m_upperTranslation=$def$$.upperTranslation;this.m_maxMotorForce=$def$$.maxMotorForce;this.m_motorSpeed=$def$$.motorSpeed;
this.m_enableLimit=$def$$.enableLimit;this.m_enableMotor=$def$$.enableMotor;this.m_limitState=$b2Joint$$.e_inactiveLimit;this.m_axis.SetZero();this.m_perp.SetZero()};$b2PrismaticJoint$$.prototype.InitVelocityConstraints=function $$b2PrismaticJoint$$$$InitVelocityConstraints$($PX$$10_step$$){var $bA$$=this.m_bodyA,$bB$$=this.m_bodyB,$PY$$10_dX$$24_jointTransition$$1_tMat$$,$L1$$3_dY$$24_tX$$=0;this.m_localCenterA.SetV($bA$$.GetLocalCenter());this.m_localCenterB.SetV($bB$$.GetLocalCenter());var $L2$$3_m1$$5_xf1$$=
$bA$$.GetTransform();$bB$$.GetTransform();$PY$$10_dX$$24_jointTransition$$1_tMat$$=$bA$$.m_xf.R;var $m2$$5_r1X$$=this.m_localAnchor1.x-this.m_localCenterA.x,$i1$$9_r1Y$$=this.m_localAnchor1.y-this.m_localCenterA.y,$L1$$3_dY$$24_tX$$=$PY$$10_dX$$24_jointTransition$$1_tMat$$.col1.x*$m2$$5_r1X$$+$PY$$10_dX$$24_jointTransition$$1_tMat$$.col2.x*$i1$$9_r1Y$$,$i1$$9_r1Y$$=$PY$$10_dX$$24_jointTransition$$1_tMat$$.col1.y*$m2$$5_r1X$$+$PY$$10_dX$$24_jointTransition$$1_tMat$$.col2.y*$i1$$9_r1Y$$,$m2$$5_r1X$$=
$L1$$3_dY$$24_tX$$;$PY$$10_dX$$24_jointTransition$$1_tMat$$=$bB$$.m_xf.R;var $i2$$8_r2X$$=this.m_localAnchor2.x-this.m_localCenterB.x,$r2Y$$=this.m_localAnchor2.y-this.m_localCenterB.y,$L1$$3_dY$$24_tX$$=$PY$$10_dX$$24_jointTransition$$1_tMat$$.col1.x*$i2$$8_r2X$$+$PY$$10_dX$$24_jointTransition$$1_tMat$$.col2.x*$r2Y$$,$r2Y$$=$PY$$10_dX$$24_jointTransition$$1_tMat$$.col1.y*$i2$$8_r2X$$+$PY$$10_dX$$24_jointTransition$$1_tMat$$.col2.y*$r2Y$$,$i2$$8_r2X$$=$L1$$3_dY$$24_tX$$;$PY$$10_dX$$24_jointTransition$$1_tMat$$=
$bB$$.m_sweep.c.x+$i2$$8_r2X$$-$bA$$.m_sweep.c.x-$m2$$5_r1X$$;$L1$$3_dY$$24_tX$$=$bB$$.m_sweep.c.y+$r2Y$$-$bA$$.m_sweep.c.y-$i1$$9_r1Y$$;this.m_invMassA=$bA$$.m_invMass;this.m_invMassB=$bB$$.m_invMass;this.m_invIA=$bA$$.m_invI;this.m_invIB=$bB$$.m_invI;this.m_axis.SetV($b2Math$$.MulMV($L2$$3_m1$$5_xf1$$.R,this.m_localXAxis1));this.m_a1=($PY$$10_dX$$24_jointTransition$$1_tMat$$+$m2$$5_r1X$$)*this.m_axis.y-($L1$$3_dY$$24_tX$$+$i1$$9_r1Y$$)*this.m_axis.x;this.m_a2=$i2$$8_r2X$$*this.m_axis.y-$r2Y$$*this.m_axis.x;
this.m_motorMass=this.m_invMassA+this.m_invMassB+this.m_invIA*this.m_a1*this.m_a1+this.m_invIB*this.m_a2*this.m_a2;this.m_motorMass>Number.MIN_VALUE&&(this.m_motorMass=1/this.m_motorMass);this.m_perp.SetV($b2Math$$.MulMV($L2$$3_m1$$5_xf1$$.R,this.m_localYAxis1));this.m_s1=($PY$$10_dX$$24_jointTransition$$1_tMat$$+$m2$$5_r1X$$)*this.m_perp.y-($L1$$3_dY$$24_tX$$+$i1$$9_r1Y$$)*this.m_perp.x;this.m_s2=$i2$$8_r2X$$*this.m_perp.y-$r2Y$$*this.m_perp.x;$L2$$3_m1$$5_xf1$$=this.m_invMassA;$m2$$5_r1X$$=this.m_invMassB;
$i1$$9_r1Y$$=this.m_invIA;$i2$$8_r2X$$=this.m_invIB;this.m_K.col1.x=$L2$$3_m1$$5_xf1$$+$m2$$5_r1X$$+$i1$$9_r1Y$$*this.m_s1*this.m_s1+$i2$$8_r2X$$*this.m_s2*this.m_s2;this.m_K.col1.y=$i1$$9_r1Y$$*this.m_s1+$i2$$8_r2X$$*this.m_s2;this.m_K.col1.z=$i1$$9_r1Y$$*this.m_s1*this.m_a1+$i2$$8_r2X$$*this.m_s2*this.m_a2;this.m_K.col2.x=this.m_K.col1.y;this.m_K.col2.y=$i1$$9_r1Y$$+$i2$$8_r2X$$;this.m_K.col2.z=$i1$$9_r1Y$$*this.m_a1+$i2$$8_r2X$$*this.m_a2;this.m_K.col3.x=this.m_K.col1.z;this.m_K.col3.y=this.m_K.col2.z;
this.m_K.col3.z=$L2$$3_m1$$5_xf1$$+$m2$$5_r1X$$+$i1$$9_r1Y$$*this.m_a1*this.m_a1+$i2$$8_r2X$$*this.m_a2*this.m_a2;this.m_enableLimit?($PY$$10_dX$$24_jointTransition$$1_tMat$$=this.m_axis.x*$PY$$10_dX$$24_jointTransition$$1_tMat$$+this.m_axis.y*$L1$$3_dY$$24_tX$$,$b2Math$$.Abs(this.m_upperTranslation-this.m_lowerTranslation)<2*$b2Settings$$.b2_linearSlop?this.m_limitState=$b2Joint$$.e_equalLimits:$PY$$10_dX$$24_jointTransition$$1_tMat$$<=this.m_lowerTranslation?this.m_limitState!=$b2Joint$$.e_atLowerLimit&&
(this.m_limitState=$b2Joint$$.e_atLowerLimit,this.m_impulse.z=0):$PY$$10_dX$$24_jointTransition$$1_tMat$$>=this.m_upperTranslation?this.m_limitState!=$b2Joint$$.e_atUpperLimit&&(this.m_limitState=$b2Joint$$.e_atUpperLimit,this.m_impulse.z=0):(this.m_limitState=$b2Joint$$.e_inactiveLimit,this.m_impulse.z=0)):this.m_limitState=$b2Joint$$.e_inactiveLimit;0==this.m_enableMotor&&(this.m_motorImpulse=0);$PX$$10_step$$.warmStarting?(this.m_impulse.x*=$PX$$10_step$$.dtRatio,this.m_impulse.y*=$PX$$10_step$$.dtRatio,
this.m_motorImpulse*=$PX$$10_step$$.dtRatio,$PX$$10_step$$=this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.x,$PY$$10_dX$$24_jointTransition$$1_tMat$$=this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.y,$L1$$3_dY$$24_tX$$=this.m_impulse.x*this.m_s1+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a1,$L2$$3_m1$$5_xf1$$=this.m_impulse.x*this.m_s2+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a2,$bA$$.m_linearVelocity.x-=
this.m_invMassA*$PX$$10_step$$,$bA$$.m_linearVelocity.y-=this.m_invMassA*$PY$$10_dX$$24_jointTransition$$1_tMat$$,$bA$$.m_angularVelocity-=this.m_invIA*$L1$$3_dY$$24_tX$$,$bB$$.m_linearVelocity.x+=this.m_invMassB*$PX$$10_step$$,$bB$$.m_linearVelocity.y+=this.m_invMassB*$PY$$10_dX$$24_jointTransition$$1_tMat$$,$bB$$.m_angularVelocity+=this.m_invIB*$L2$$3_m1$$5_xf1$$):(this.m_impulse.SetZero(),this.m_motorImpulse=0)};$b2PrismaticJoint$$.prototype.SolveVelocityConstraints=function $$b2PrismaticJoint$$$$SolveVelocityConstraints$($Cdot2$$1_df$$1_df2$$1_maxImpulse$$3_step$$){var $bA$$=
this.m_bodyA,$bB$$=this.m_bodyB,$v1$$=$bA$$.m_linearVelocity,$w1$$=$bA$$.m_angularVelocity,$v2$$=$bB$$.m_linearVelocity,$w2$$=$bB$$.m_angularVelocity,$PX$$11_f1$$6_oldImpulse$$=0,$Cdot1Y_PY$$11_bY$$6_f2r$$=0,$Cdot1X_L1$$4_bX$$=0,$L2$$4_impulse$$=0;this.m_enableMotor&&this.m_limitState!=$b2Joint$$.e_equalLimits&&($L2$$4_impulse$$=this.m_motorMass*(this.m_motorSpeed-(this.m_axis.x*($v2$$.x-$v1$$.x)+this.m_axis.y*($v2$$.y-$v1$$.y)+this.m_a2*$w2$$-this.m_a1*$w1$$)),$PX$$11_f1$$6_oldImpulse$$=this.m_motorImpulse,
$Cdot2$$1_df$$1_df2$$1_maxImpulse$$3_step$$=$Cdot2$$1_df$$1_df2$$1_maxImpulse$$3_step$$.dt*this.m_maxMotorForce,this.m_motorImpulse=$b2Math$$.Clamp(this.m_motorImpulse+$L2$$4_impulse$$,-$Cdot2$$1_df$$1_df2$$1_maxImpulse$$3_step$$,$Cdot2$$1_df$$1_df2$$1_maxImpulse$$3_step$$),$L2$$4_impulse$$=this.m_motorImpulse-$PX$$11_f1$$6_oldImpulse$$,$PX$$11_f1$$6_oldImpulse$$=$L2$$4_impulse$$*this.m_axis.x,$Cdot1Y_PY$$11_bY$$6_f2r$$=$L2$$4_impulse$$*this.m_axis.y,$Cdot1X_L1$$4_bX$$=$L2$$4_impulse$$*this.m_a1,
$L2$$4_impulse$$*=this.m_a2,$v1$$.x-=this.m_invMassA*$PX$$11_f1$$6_oldImpulse$$,$v1$$.y-=this.m_invMassA*$Cdot1Y_PY$$11_bY$$6_f2r$$,$w1$$-=this.m_invIA*$Cdot1X_L1$$4_bX$$,$v2$$.x+=this.m_invMassB*$PX$$11_f1$$6_oldImpulse$$,$v2$$.y+=this.m_invMassB*$Cdot1Y_PY$$11_bY$$6_f2r$$,$w2$$+=this.m_invIB*$L2$$4_impulse$$);$Cdot1X_L1$$4_bX$$=this.m_perp.x*($v2$$.x-$v1$$.x)+this.m_perp.y*($v2$$.y-$v1$$.y)+this.m_s2*$w2$$-this.m_s1*$w1$$;$Cdot1Y_PY$$11_bY$$6_f2r$$=$w2$$-$w1$$;this.m_enableLimit&&this.m_limitState!=
$b2Joint$$.e_inactiveLimit?($Cdot2$$1_df$$1_df2$$1_maxImpulse$$3_step$$=this.m_axis.x*($v2$$.x-$v1$$.x)+this.m_axis.y*($v2$$.y-$v1$$.y)+this.m_a2*$w2$$-this.m_a1*$w1$$,$PX$$11_f1$$6_oldImpulse$$=this.m_impulse.Copy(),$Cdot2$$1_df$$1_df2$$1_maxImpulse$$3_step$$=this.m_K.Solve33(new $b2Vec3$$,-$Cdot1X_L1$$4_bX$$,-$Cdot1Y_PY$$11_bY$$6_f2r$$,-$Cdot2$$1_df$$1_df2$$1_maxImpulse$$3_step$$),this.m_impulse.Add($Cdot2$$1_df$$1_df2$$1_maxImpulse$$3_step$$),this.m_limitState==$b2Joint$$.e_atLowerLimit?this.m_impulse.z=
$b2Math$$.Max(this.m_impulse.z,0):this.m_limitState==$b2Joint$$.e_atUpperLimit&&(this.m_impulse.z=$b2Math$$.Min(this.m_impulse.z,0)),$Cdot1X_L1$$4_bX$$=-$Cdot1X_L1$$4_bX$$-(this.m_impulse.z-$PX$$11_f1$$6_oldImpulse$$.z)*this.m_K.col3.x,$Cdot1Y_PY$$11_bY$$6_f2r$$=-$Cdot1Y_PY$$11_bY$$6_f2r$$-(this.m_impulse.z-$PX$$11_f1$$6_oldImpulse$$.z)*this.m_K.col3.y,$Cdot1Y_PY$$11_bY$$6_f2r$$=this.m_K.Solve22(new $b2Vec2$$,$Cdot1X_L1$$4_bX$$,$Cdot1Y_PY$$11_bY$$6_f2r$$),$Cdot1Y_PY$$11_bY$$6_f2r$$.x+=$PX$$11_f1$$6_oldImpulse$$.x,
$Cdot1Y_PY$$11_bY$$6_f2r$$.y+=$PX$$11_f1$$6_oldImpulse$$.y,this.m_impulse.x=$Cdot1Y_PY$$11_bY$$6_f2r$$.x,this.m_impulse.y=$Cdot1Y_PY$$11_bY$$6_f2r$$.y,$Cdot2$$1_df$$1_df2$$1_maxImpulse$$3_step$$.x=this.m_impulse.x-$PX$$11_f1$$6_oldImpulse$$.x,$Cdot2$$1_df$$1_df2$$1_maxImpulse$$3_step$$.y=this.m_impulse.y-$PX$$11_f1$$6_oldImpulse$$.y,$Cdot2$$1_df$$1_df2$$1_maxImpulse$$3_step$$.z=this.m_impulse.z-$PX$$11_f1$$6_oldImpulse$$.z,$PX$$11_f1$$6_oldImpulse$$=$Cdot2$$1_df$$1_df2$$1_maxImpulse$$3_step$$.x*this.m_perp.x+
$Cdot2$$1_df$$1_df2$$1_maxImpulse$$3_step$$.z*this.m_axis.x,$Cdot1Y_PY$$11_bY$$6_f2r$$=$Cdot2$$1_df$$1_df2$$1_maxImpulse$$3_step$$.x*this.m_perp.y+$Cdot2$$1_df$$1_df2$$1_maxImpulse$$3_step$$.z*this.m_axis.y,$Cdot1X_L1$$4_bX$$=$Cdot2$$1_df$$1_df2$$1_maxImpulse$$3_step$$.x*this.m_s1+$Cdot2$$1_df$$1_df2$$1_maxImpulse$$3_step$$.y+$Cdot2$$1_df$$1_df2$$1_maxImpulse$$3_step$$.z*this.m_a1,$L2$$4_impulse$$=$Cdot2$$1_df$$1_df2$$1_maxImpulse$$3_step$$.x*this.m_s2+$Cdot2$$1_df$$1_df2$$1_maxImpulse$$3_step$$.y+
$Cdot2$$1_df$$1_df2$$1_maxImpulse$$3_step$$.z*this.m_a2):($Cdot2$$1_df$$1_df2$$1_maxImpulse$$3_step$$=this.m_K.Solve22(new $b2Vec2$$,-$Cdot1X_L1$$4_bX$$,-$Cdot1Y_PY$$11_bY$$6_f2r$$),this.m_impulse.x+=$Cdot2$$1_df$$1_df2$$1_maxImpulse$$3_step$$.x,this.m_impulse.y+=$Cdot2$$1_df$$1_df2$$1_maxImpulse$$3_step$$.y,$PX$$11_f1$$6_oldImpulse$$=$Cdot2$$1_df$$1_df2$$1_maxImpulse$$3_step$$.x*this.m_perp.x,$Cdot1Y_PY$$11_bY$$6_f2r$$=$Cdot2$$1_df$$1_df2$$1_maxImpulse$$3_step$$.x*this.m_perp.y,$Cdot1X_L1$$4_bX$$=
$Cdot2$$1_df$$1_df2$$1_maxImpulse$$3_step$$.x*this.m_s1+$Cdot2$$1_df$$1_df2$$1_maxImpulse$$3_step$$.y,$L2$$4_impulse$$=$Cdot2$$1_df$$1_df2$$1_maxImpulse$$3_step$$.x*this.m_s2+$Cdot2$$1_df$$1_df2$$1_maxImpulse$$3_step$$.y);$v1$$.x-=this.m_invMassA*$PX$$11_f1$$6_oldImpulse$$;$v1$$.y-=this.m_invMassA*$Cdot1Y_PY$$11_bY$$6_f2r$$;$w1$$-=this.m_invIA*$Cdot1X_L1$$4_bX$$;$v2$$.x+=this.m_invMassB*$PX$$11_f1$$6_oldImpulse$$;$v2$$.y+=this.m_invMassB*$Cdot1Y_PY$$11_bY$$6_f2r$$;$w2$$+=this.m_invIB*$L2$$4_impulse$$;
$bA$$.m_linearVelocity.SetV($v1$$);$bA$$.m_angularVelocity=$w1$$;$bB$$.m_linearVelocity.SetV($v2$$);$bB$$.m_angularVelocity=$w2$$};$b2PrismaticJoint$$.prototype.SolvePositionConstraints=function $$b2PrismaticJoint$$$$SolvePositionConstraints$($bA$$26_baumgarte$$){$bA$$26_baumgarte$$=this.m_bodyA;var $bB$$=this.m_bodyB,$c1$$=$bA$$26_baumgarte$$.m_sweep.c,$a1$$=$bA$$26_baumgarte$$.m_sweep.a,$c2$$=$bB$$.m_sweep.c,$a2$$=$bB$$.m_sweep.a,$dX$$25_i1$$10_tMat$$,$dY$$25_i2$$9_tX$$=0,$PY$$12_active$$3_m1$$=
0,$m2$$6_r2Y$$=0,$linearError$$=$dY$$25_i2$$9_tX$$=$dX$$25_i1$$10_tMat$$=0,$angularError$$1_r1X$$=0,$PY$$12_active$$3_m1$$=!1,$C2$$1_PX$$12_impulse1$$1_k12$$=0,$L2$$5_R1$$1_impulse$$=$b2Mat22$$.FromAngle($a1$$),$C1Y_R2$$1_r2X$$=$b2Mat22$$.FromAngle($a2$$);$dX$$25_i1$$10_tMat$$=$L2$$5_R1$$1_impulse$$;var $angularError$$1_r1X$$=this.m_localAnchor1.x-this.m_localCenterA.x,$C1X_L1$$5_r1Y$$=this.m_localAnchor1.y-this.m_localCenterA.y,$dY$$25_i2$$9_tX$$=$dX$$25_i1$$10_tMat$$.col1.x*$angularError$$1_r1X$$+
$dX$$25_i1$$10_tMat$$.col2.x*$C1X_L1$$5_r1Y$$,$C1X_L1$$5_r1Y$$=$dX$$25_i1$$10_tMat$$.col1.y*$angularError$$1_r1X$$+$dX$$25_i1$$10_tMat$$.col2.y*$C1X_L1$$5_r1Y$$,$angularError$$1_r1X$$=$dY$$25_i2$$9_tX$$;$dX$$25_i1$$10_tMat$$=$C1Y_R2$$1_r2X$$;$C1Y_R2$$1_r2X$$=this.m_localAnchor2.x-this.m_localCenterB.x;$m2$$6_r2Y$$=this.m_localAnchor2.y-this.m_localCenterB.y;$dY$$25_i2$$9_tX$$=$dX$$25_i1$$10_tMat$$.col1.x*$C1Y_R2$$1_r2X$$+$dX$$25_i1$$10_tMat$$.col2.x*$m2$$6_r2Y$$;$m2$$6_r2Y$$=$dX$$25_i1$$10_tMat$$.col1.y*
$C1Y_R2$$1_r2X$$+$dX$$25_i1$$10_tMat$$.col2.y*$m2$$6_r2Y$$;$C1Y_R2$$1_r2X$$=$dY$$25_i2$$9_tX$$;$dX$$25_i1$$10_tMat$$=$c2$$.x+$C1Y_R2$$1_r2X$$-$c1$$.x-$angularError$$1_r1X$$;$dY$$25_i2$$9_tX$$=$c2$$.y+$m2$$6_r2Y$$-$c1$$.y-$C1X_L1$$5_r1Y$$;if(this.m_enableLimit){this.m_axis=$b2Math$$.MulMV($L2$$5_R1$$1_impulse$$,this.m_localXAxis1);this.m_a1=($dX$$25_i1$$10_tMat$$+$angularError$$1_r1X$$)*this.m_axis.y-($dY$$25_i2$$9_tX$$+$C1X_L1$$5_r1Y$$)*this.m_axis.x;this.m_a2=$C1Y_R2$$1_r2X$$*this.m_axis.y-$m2$$6_r2Y$$*
this.m_axis.x;var $k22$$1_translation$$=this.m_axis.x*$dX$$25_i1$$10_tMat$$+this.m_axis.y*$dY$$25_i2$$9_tX$$;$b2Math$$.Abs(this.m_upperTranslation-this.m_lowerTranslation)<2*$b2Settings$$.b2_linearSlop?($C2$$1_PX$$12_impulse1$$1_k12$$=$b2Math$$.Clamp($k22$$1_translation$$,-$b2Settings$$.b2_maxLinearCorrection,$b2Settings$$.b2_maxLinearCorrection),$linearError$$=$b2Math$$.Abs($k22$$1_translation$$),$PY$$12_active$$3_m1$$=!0):$k22$$1_translation$$<=this.m_lowerTranslation?($C2$$1_PX$$12_impulse1$$1_k12$$=
$b2Math$$.Clamp($k22$$1_translation$$-this.m_lowerTranslation+$b2Settings$$.b2_linearSlop,-$b2Settings$$.b2_maxLinearCorrection,0),$linearError$$=this.m_lowerTranslation-$k22$$1_translation$$,$PY$$12_active$$3_m1$$=!0):$k22$$1_translation$$>=this.m_upperTranslation&&($C2$$1_PX$$12_impulse1$$1_k12$$=$b2Math$$.Clamp($k22$$1_translation$$-this.m_upperTranslation+$b2Settings$$.b2_linearSlop,0,$b2Settings$$.b2_maxLinearCorrection),$linearError$$=$k22$$1_translation$$-this.m_upperTranslation,$PY$$12_active$$3_m1$$=
!0)}this.m_perp=$b2Math$$.MulMV($L2$$5_R1$$1_impulse$$,this.m_localYAxis1);this.m_s1=($dX$$25_i1$$10_tMat$$+$angularError$$1_r1X$$)*this.m_perp.y-($dY$$25_i2$$9_tX$$+$C1X_L1$$5_r1Y$$)*this.m_perp.x;this.m_s2=$C1Y_R2$$1_r2X$$*this.m_perp.y-$m2$$6_r2Y$$*this.m_perp.x;$L2$$5_R1$$1_impulse$$=new $b2Vec3$$;$C1X_L1$$5_r1Y$$=this.m_perp.x*$dX$$25_i1$$10_tMat$$+this.m_perp.y*$dY$$25_i2$$9_tX$$;$C1Y_R2$$1_r2X$$=$a2$$-$a1$$-this.m_refAngle;$linearError$$=$b2Math$$.Max($linearError$$,$b2Math$$.Abs($C1X_L1$$5_r1Y$$));
$angularError$$1_r1X$$=$b2Math$$.Abs($C1Y_R2$$1_r2X$$);$PY$$12_active$$3_m1$$?($PY$$12_active$$3_m1$$=this.m_invMassA,$m2$$6_r2Y$$=this.m_invMassB,$dX$$25_i1$$10_tMat$$=this.m_invIA,$dY$$25_i2$$9_tX$$=this.m_invIB,this.m_K.col1.x=$PY$$12_active$$3_m1$$+$m2$$6_r2Y$$+$dX$$25_i1$$10_tMat$$*this.m_s1*this.m_s1+$dY$$25_i2$$9_tX$$*this.m_s2*this.m_s2,this.m_K.col1.y=$dX$$25_i1$$10_tMat$$*this.m_s1+$dY$$25_i2$$9_tX$$*this.m_s2,this.m_K.col1.z=$dX$$25_i1$$10_tMat$$*this.m_s1*this.m_a1+$dY$$25_i2$$9_tX$$*
this.m_s2*this.m_a2,this.m_K.col2.x=this.m_K.col1.y,this.m_K.col2.y=$dX$$25_i1$$10_tMat$$+$dY$$25_i2$$9_tX$$,this.m_K.col2.z=$dX$$25_i1$$10_tMat$$*this.m_a1+$dY$$25_i2$$9_tX$$*this.m_a2,this.m_K.col3.x=this.m_K.col1.z,this.m_K.col3.y=this.m_K.col2.z,this.m_K.col3.z=$PY$$12_active$$3_m1$$+$m2$$6_r2Y$$+$dX$$25_i1$$10_tMat$$*this.m_a1*this.m_a1+$dY$$25_i2$$9_tX$$*this.m_a2*this.m_a2,this.m_K.Solve33($L2$$5_R1$$1_impulse$$,-$C1X_L1$$5_r1Y$$,-$C1Y_R2$$1_r2X$$,-$C2$$1_PX$$12_impulse1$$1_k12$$)):($PY$$12_active$$3_m1$$=
this.m_invMassA,$m2$$6_r2Y$$=this.m_invMassB,$dX$$25_i1$$10_tMat$$=this.m_invIA,$dY$$25_i2$$9_tX$$=this.m_invIB,$C2$$1_PX$$12_impulse1$$1_k12$$=$dX$$25_i1$$10_tMat$$*this.m_s1+$dY$$25_i2$$9_tX$$*this.m_s2,$k22$$1_translation$$=$dX$$25_i1$$10_tMat$$+$dY$$25_i2$$9_tX$$,this.m_K.col1.Set($PY$$12_active$$3_m1$$+$m2$$6_r2Y$$+$dX$$25_i1$$10_tMat$$*this.m_s1*this.m_s1+$dY$$25_i2$$9_tX$$*this.m_s2*this.m_s2,$C2$$1_PX$$12_impulse1$$1_k12$$,0),this.m_K.col2.Set($C2$$1_PX$$12_impulse1$$1_k12$$,$k22$$1_translation$$,
0),$C2$$1_PX$$12_impulse1$$1_k12$$=this.m_K.Solve22(new $b2Vec2$$,-$C1X_L1$$5_r1Y$$,-$C1Y_R2$$1_r2X$$),$L2$$5_R1$$1_impulse$$.x=$C2$$1_PX$$12_impulse1$$1_k12$$.x,$L2$$5_R1$$1_impulse$$.y=$C2$$1_PX$$12_impulse1$$1_k12$$.y,$L2$$5_R1$$1_impulse$$.z=0);$C2$$1_PX$$12_impulse1$$1_k12$$=$L2$$5_R1$$1_impulse$$.x*this.m_perp.x+$L2$$5_R1$$1_impulse$$.z*this.m_axis.x;$PY$$12_active$$3_m1$$=$L2$$5_R1$$1_impulse$$.x*this.m_perp.y+$L2$$5_R1$$1_impulse$$.z*this.m_axis.y;$C1X_L1$$5_r1Y$$=$L2$$5_R1$$1_impulse$$.x*
this.m_s1+$L2$$5_R1$$1_impulse$$.y+$L2$$5_R1$$1_impulse$$.z*this.m_a1;$L2$$5_R1$$1_impulse$$=$L2$$5_R1$$1_impulse$$.x*this.m_s2+$L2$$5_R1$$1_impulse$$.y+$L2$$5_R1$$1_impulse$$.z*this.m_a2;$c1$$.x-=this.m_invMassA*$C2$$1_PX$$12_impulse1$$1_k12$$;$c1$$.y-=this.m_invMassA*$PY$$12_active$$3_m1$$;$a1$$-=this.m_invIA*$C1X_L1$$5_r1Y$$;$c2$$.x+=this.m_invMassB*$C2$$1_PX$$12_impulse1$$1_k12$$;$c2$$.y+=this.m_invMassB*$PY$$12_active$$3_m1$$;$a2$$+=this.m_invIB*$L2$$5_R1$$1_impulse$$;$bA$$26_baumgarte$$.m_sweep.a=
$a1$$;$bB$$.m_sweep.a=$a2$$;$bA$$26_baumgarte$$.SynchronizeTransform();$bB$$.SynchronizeTransform();return $linearError$$<=$b2Settings$$.b2_linearSlop&&$angularError$$1_r1X$$<=$b2Settings$$.b2_angularSlop};Box2D.inherit($b2PrismaticJointDef$$,Box2D.Dynamics.Joints.b2JointDef);$b2PrismaticJointDef$$.prototype.__super=Box2D.Dynamics.Joints.b2JointDef.prototype;$b2PrismaticJointDef$$.b2PrismaticJointDef=function $$b2PrismaticJointDef$$$b2PrismaticJointDef$(){Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,
arguments);this.localAnchorA=new $b2Vec2$$;this.localAnchorB=new $b2Vec2$$;this.localAxisA=new $b2Vec2$$};$b2PrismaticJointDef$$.prototype.b2PrismaticJointDef=function $$b2PrismaticJointDef$$$$b2PrismaticJointDef$(){this.__super.b2JointDef.call(this);this.type=$b2Joint$$.e_prismaticJoint;this.localAxisA.Set(1,0);this.referenceAngle=0;this.enableLimit=!1;this.upperTranslation=this.lowerTranslation=0;this.enableMotor=!1;this.motorSpeed=this.maxMotorForce=0};$b2PrismaticJointDef$$.prototype.Initialize=
function $$b2PrismaticJointDef$$$$Initialize$($bA$$,$bB$$,$anchor$$,$axis$$){this.bodyA=$bA$$;this.bodyB=$bB$$;this.localAnchorA=this.bodyA.GetLocalPoint($anchor$$);this.localAnchorB=this.bodyB.GetLocalPoint($anchor$$);this.localAxisA=this.bodyA.GetLocalVector($axis$$);this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()};Box2D.inherit($b2PulleyJoint$$,Box2D.Dynamics.Joints.b2Joint);$b2PulleyJoint$$.prototype.__super=Box2D.Dynamics.Joints.b2Joint.prototype;$b2PulleyJoint$$.b2PulleyJoint=
function $$b2PulleyJoint$$$b2PulleyJoint$(){Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments);this.m_groundAnchor1=new $b2Vec2$$;this.m_groundAnchor2=new $b2Vec2$$;this.m_localAnchor1=new $b2Vec2$$;this.m_localAnchor2=new $b2Vec2$$;this.m_u1=new $b2Vec2$$;this.m_u2=new $b2Vec2$$};$b2PulleyJoint$$.prototype.GetAnchorA=function $$b2PulleyJoint$$$$GetAnchorA$(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)};$b2PulleyJoint$$.prototype.GetAnchorB=function $$b2PulleyJoint$$$$GetAnchorB$(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)};
$b2PulleyJoint$$.prototype.GetReactionForce=function $$b2PulleyJoint$$$$GetReactionForce$($inv_dt$$){void 0===$inv_dt$$&&($inv_dt$$=0);return new $b2Vec2$$($inv_dt$$*this.m_impulse*this.m_u2.x,$inv_dt$$*this.m_impulse*this.m_u2.y)};$b2PulleyJoint$$.prototype.GetReactionTorque=function $$b2PulleyJoint$$$$GetReactionTorque$($inv_dt$$){return 0};$b2PulleyJoint$$.prototype.GetGroundAnchorA=function $$b2PulleyJoint$$$$GetGroundAnchorA$(){var $a$$=this.m_ground.m_xf.position.Copy();$a$$.Add(this.m_groundAnchor1);
return $a$$};$b2PulleyJoint$$.prototype.GetGroundAnchorB=function $$b2PulleyJoint$$$$GetGroundAnchorB$(){var $a$$=this.m_ground.m_xf.position.Copy();$a$$.Add(this.m_groundAnchor2);return $a$$};$b2PulleyJoint$$.prototype.GetLength1=function $$b2PulleyJoint$$$$GetLength1$(){var $dY$$26_p$$=this.m_bodyA.GetWorldPoint(this.m_localAnchor1),$dX$$=$dY$$26_p$$.x-(this.m_ground.m_xf.position.x+this.m_groundAnchor1.x),$dY$$26_p$$=$dY$$26_p$$.y-(this.m_ground.m_xf.position.y+this.m_groundAnchor1.y);return Math.sqrt($dX$$*
$dX$$+$dY$$26_p$$*$dY$$26_p$$)};$b2PulleyJoint$$.prototype.GetLength2=function $$b2PulleyJoint$$$$GetLength2$(){var $dY$$27_p$$=this.m_bodyB.GetWorldPoint(this.m_localAnchor2),$dX$$=$dY$$27_p$$.x-(this.m_ground.m_xf.position.x+this.m_groundAnchor2.x),$dY$$27_p$$=$dY$$27_p$$.y-(this.m_ground.m_xf.position.y+this.m_groundAnchor2.y);return Math.sqrt($dX$$*$dX$$+$dY$$27_p$$*$dY$$27_p$$)};$b2PulleyJoint$$.prototype.GetRatio=function $$b2PulleyJoint$$$$GetRatio$(){return this.m_ratio};$b2PulleyJoint$$.prototype.b2PulleyJoint=
function $$b2PulleyJoint$$$$b2PulleyJoint$($def$$){this.__super.b2Joint.call(this,$def$$);this.m_ground=this.m_bodyA.m_world.m_groundBody;this.m_groundAnchor1.x=$def$$.groundAnchorA.x-this.m_ground.m_xf.position.x;this.m_groundAnchor1.y=$def$$.groundAnchorA.y-this.m_ground.m_xf.position.y;this.m_groundAnchor2.x=$def$$.groundAnchorB.x-this.m_ground.m_xf.position.x;this.m_groundAnchor2.y=$def$$.groundAnchorB.y-this.m_ground.m_xf.position.y;this.m_localAnchor1.SetV($def$$.localAnchorA);this.m_localAnchor2.SetV($def$$.localAnchorB);
this.m_ratio=$def$$.ratio;this.m_constant=$def$$.lengthA+this.m_ratio*$def$$.lengthB;this.m_maxLength1=$b2Math$$.Min($def$$.maxLengthA,this.m_constant-this.m_ratio*$b2PulleyJoint$$.b2_minPulleyLength);this.m_maxLength2=$b2Math$$.Min($def$$.maxLengthB,(this.m_constant-$b2PulleyJoint$$.b2_minPulleyLength)/this.m_ratio);this.m_limitImpulse2=this.m_limitImpulse1=this.m_impulse=0};$b2PulleyJoint$$.prototype.InitVelocityConstraints=function $$b2PulleyJoint$$$$InitVelocityConstraints$($P1X$$1_step$$){var $bA$$=
this.m_bodyA,$bB$$=this.m_bodyB,$P1Y$$1_cr1u1_length1_p2X$$4_tMat$$;$P1Y$$1_cr1u1_length1_p2X$$4_tMat$$=$bA$$.m_xf.R;var $r1X$$=this.m_localAnchor1.x-$bA$$.m_sweep.localCenter.x,$r1Y$$=this.m_localAnchor1.y-$bA$$.m_sweep.localCenter.y,$P2X$$1_cr2u2_length2_p2Y$$4_tX$$=$P1Y$$1_cr1u1_length1_p2X$$4_tMat$$.col1.x*$r1X$$+$P1Y$$1_cr1u1_length1_p2X$$4_tMat$$.col2.x*$r1Y$$,$r1Y$$=$P1Y$$1_cr1u1_length1_p2X$$4_tMat$$.col1.y*$r1X$$+$P1Y$$1_cr1u1_length1_p2X$$4_tMat$$.col2.y*$r1Y$$,$r1X$$=$P2X$$1_cr2u2_length2_p2Y$$4_tX$$;
$P1Y$$1_cr1u1_length1_p2X$$4_tMat$$=$bB$$.m_xf.R;var $r2X$$=this.m_localAnchor2.x-$bB$$.m_sweep.localCenter.x,$r2Y$$=this.m_localAnchor2.y-$bB$$.m_sweep.localCenter.y,$P2X$$1_cr2u2_length2_p2Y$$4_tX$$=$P1Y$$1_cr1u1_length1_p2X$$4_tMat$$.col1.x*$r2X$$+$P1Y$$1_cr1u1_length1_p2X$$4_tMat$$.col2.x*$r2Y$$,$r2Y$$=$P1Y$$1_cr1u1_length1_p2X$$4_tMat$$.col1.y*$r2X$$+$P1Y$$1_cr1u1_length1_p2X$$4_tMat$$.col2.y*$r2Y$$,$r2X$$=$P2X$$1_cr2u2_length2_p2Y$$4_tX$$;$P1Y$$1_cr1u1_length1_p2X$$4_tMat$$=$bB$$.m_sweep.c.x+
$r2X$$;var $P2X$$1_cr2u2_length2_p2Y$$4_tX$$=$bB$$.m_sweep.c.y+$r2Y$$,$P2Y$$=this.m_ground.m_xf.position.x+this.m_groundAnchor2.x,$s2Y$$=this.m_ground.m_xf.position.y+this.m_groundAnchor2.y;this.m_u1.Set($bA$$.m_sweep.c.x+$r1X$$-(this.m_ground.m_xf.position.x+this.m_groundAnchor1.x),$bA$$.m_sweep.c.y+$r1Y$$-(this.m_ground.m_xf.position.y+this.m_groundAnchor1.y));this.m_u2.Set($P1Y$$1_cr1u1_length1_p2X$$4_tMat$$-$P2Y$$,$P2X$$1_cr2u2_length2_p2Y$$4_tX$$-$s2Y$$);$P1Y$$1_cr1u1_length1_p2X$$4_tMat$$=this.m_u1.Length();
$P2X$$1_cr2u2_length2_p2Y$$4_tX$$=this.m_u2.Length();$P1Y$$1_cr1u1_length1_p2X$$4_tMat$$>$b2Settings$$.b2_linearSlop?this.m_u1.Multiply(1/$P1Y$$1_cr1u1_length1_p2X$$4_tMat$$):this.m_u1.SetZero();$P2X$$1_cr2u2_length2_p2Y$$4_tX$$>$b2Settings$$.b2_linearSlop?this.m_u2.Multiply(1/$P2X$$1_cr2u2_length2_p2Y$$4_tX$$):this.m_u2.SetZero();0<this.m_constant-$P1Y$$1_cr1u1_length1_p2X$$4_tMat$$-this.m_ratio*$P2X$$1_cr2u2_length2_p2Y$$4_tX$$?(this.m_state=$b2Joint$$.e_inactiveLimit,this.m_impulse=0):this.m_state=
$b2Joint$$.e_atUpperLimit;$P1Y$$1_cr1u1_length1_p2X$$4_tMat$$<this.m_maxLength1?(this.m_limitState1=$b2Joint$$.e_inactiveLimit,this.m_limitImpulse1=0):this.m_limitState1=$b2Joint$$.e_atUpperLimit;$P2X$$1_cr2u2_length2_p2Y$$4_tX$$<this.m_maxLength2?(this.m_limitState2=$b2Joint$$.e_inactiveLimit,this.m_limitImpulse2=0):this.m_limitState2=$b2Joint$$.e_atUpperLimit;$P1Y$$1_cr1u1_length1_p2X$$4_tMat$$=$r1X$$*this.m_u1.y-$r1Y$$*this.m_u1.x;$P2X$$1_cr2u2_length2_p2Y$$4_tX$$=$r2X$$*this.m_u2.y-$r2Y$$*this.m_u2.x;
this.m_limitMass1=$bA$$.m_invMass+$bA$$.m_invI*$P1Y$$1_cr1u1_length1_p2X$$4_tMat$$*$P1Y$$1_cr1u1_length1_p2X$$4_tMat$$;this.m_limitMass2=$bB$$.m_invMass+$bB$$.m_invI*$P2X$$1_cr2u2_length2_p2Y$$4_tX$$*$P2X$$1_cr2u2_length2_p2Y$$4_tX$$;this.m_pulleyMass=this.m_limitMass1+this.m_ratio*this.m_ratio*this.m_limitMass2;this.m_limitMass1=1/this.m_limitMass1;this.m_limitMass2=1/this.m_limitMass2;this.m_pulleyMass=1/this.m_pulleyMass;$P1X$$1_step$$.warmStarting?(this.m_impulse*=$P1X$$1_step$$.dtRatio,this.m_limitImpulse1*=
$P1X$$1_step$$.dtRatio,this.m_limitImpulse2*=$P1X$$1_step$$.dtRatio,$P1X$$1_step$$=(-this.m_impulse-this.m_limitImpulse1)*this.m_u1.x,$P1Y$$1_cr1u1_length1_p2X$$4_tMat$$=(-this.m_impulse-this.m_limitImpulse1)*this.m_u1.y,$P2X$$1_cr2u2_length2_p2Y$$4_tX$$=(-this.m_ratio*this.m_impulse-this.m_limitImpulse2)*this.m_u2.x,$P2Y$$=(-this.m_ratio*this.m_impulse-this.m_limitImpulse2)*this.m_u2.y,$bA$$.m_linearVelocity.x+=$bA$$.m_invMass*$P1X$$1_step$$,$bA$$.m_linearVelocity.y+=$bA$$.m_invMass*$P1Y$$1_cr1u1_length1_p2X$$4_tMat$$,
$bA$$.m_angularVelocity+=$bA$$.m_invI*($r1X$$*$P1Y$$1_cr1u1_length1_p2X$$4_tMat$$-$r1Y$$*$P1X$$1_step$$),$bB$$.m_linearVelocity.x+=$bB$$.m_invMass*$P2X$$1_cr2u2_length2_p2Y$$4_tX$$,$bB$$.m_linearVelocity.y+=$bB$$.m_invMass*$P2Y$$,$bB$$.m_angularVelocity+=$bB$$.m_invI*($r2X$$*$P2Y$$-$r2Y$$*$P2X$$1_cr2u2_length2_p2Y$$4_tX$$)):this.m_limitImpulse2=this.m_limitImpulse1=this.m_impulse=0};$b2PulleyJoint$$.prototype.SolveVelocityConstraints=function $$b2PulleyJoint$$$$SolveVelocityConstraints$($bA$$29_step$$){$bA$$29_step$$=
this.m_bodyA;var $bB$$=this.m_bodyB,$Cdot$$5_P1X$$2_oldImpulse$$3_tMat$$51_v1X$$;$Cdot$$5_P1X$$2_oldImpulse$$3_tMat$$51_v1X$$=$bA$$29_step$$.m_xf.R;var $r1X$$=this.m_localAnchor1.x-$bA$$29_step$$.m_sweep.localCenter.x,$r1Y$$=this.m_localAnchor1.y-$bA$$29_step$$.m_sweep.localCenter.y,$P1Y$$2_tX$$34_v1Y$$=$Cdot$$5_P1X$$2_oldImpulse$$3_tMat$$51_v1X$$.col1.x*$r1X$$+$Cdot$$5_P1X$$2_oldImpulse$$3_tMat$$51_v1X$$.col2.x*$r1Y$$,$r1Y$$=$Cdot$$5_P1X$$2_oldImpulse$$3_tMat$$51_v1X$$.col1.y*$r1X$$+$Cdot$$5_P1X$$2_oldImpulse$$3_tMat$$51_v1X$$.col2.y*
$r1Y$$,$r1X$$=$P1Y$$2_tX$$34_v1Y$$;$Cdot$$5_P1X$$2_oldImpulse$$3_tMat$$51_v1X$$=$bB$$.m_xf.R;var $r2X$$=this.m_localAnchor2.x-$bB$$.m_sweep.localCenter.x,$r2Y$$=this.m_localAnchor2.y-$bB$$.m_sweep.localCenter.y,$P1Y$$2_tX$$34_v1Y$$=$Cdot$$5_P1X$$2_oldImpulse$$3_tMat$$51_v1X$$.col1.x*$r2X$$+$Cdot$$5_P1X$$2_oldImpulse$$3_tMat$$51_v1X$$.col2.x*$r2Y$$,$r2Y$$=$Cdot$$5_P1X$$2_oldImpulse$$3_tMat$$51_v1X$$.col1.y*$r2X$$+$Cdot$$5_P1X$$2_oldImpulse$$3_tMat$$51_v1X$$.col2.y*$r2Y$$,$r2X$$=$P1Y$$2_tX$$34_v1Y$$,
$P2X$$2_v2X$$=$P1Y$$2_tX$$34_v1Y$$=$Cdot$$5_P1X$$2_oldImpulse$$3_tMat$$51_v1X$$=0,$P2Y$$2_impulse$$12_v2Y$$=0;$Cdot$$5_P1X$$2_oldImpulse$$3_tMat$$51_v1X$$=$P2Y$$2_impulse$$12_v2Y$$=$Cdot$$5_P1X$$2_oldImpulse$$3_tMat$$51_v1X$$=$P2Y$$2_impulse$$12_v2Y$$=$P2X$$2_v2X$$=$P1Y$$2_tX$$34_v1Y$$=$Cdot$$5_P1X$$2_oldImpulse$$3_tMat$$51_v1X$$=0;this.m_state==$b2Joint$$.e_atUpperLimit&&($Cdot$$5_P1X$$2_oldImpulse$$3_tMat$$51_v1X$$=$bA$$29_step$$.m_linearVelocity.x+-$bA$$29_step$$.m_angularVelocity*$r1Y$$,$P1Y$$2_tX$$34_v1Y$$=
$bA$$29_step$$.m_linearVelocity.y+$bA$$29_step$$.m_angularVelocity*$r1X$$,$P2X$$2_v2X$$=$bB$$.m_linearVelocity.x+-$bB$$.m_angularVelocity*$r2Y$$,$P2Y$$2_impulse$$12_v2Y$$=$bB$$.m_linearVelocity.y+$bB$$.m_angularVelocity*$r2X$$,$Cdot$$5_P1X$$2_oldImpulse$$3_tMat$$51_v1X$$=-(this.m_u1.x*$Cdot$$5_P1X$$2_oldImpulse$$3_tMat$$51_v1X$$+this.m_u1.y*$P1Y$$2_tX$$34_v1Y$$)-this.m_ratio*(this.m_u2.x*$P2X$$2_v2X$$+this.m_u2.y*$P2Y$$2_impulse$$12_v2Y$$),$P2Y$$2_impulse$$12_v2Y$$=this.m_pulleyMass*-$Cdot$$5_P1X$$2_oldImpulse$$3_tMat$$51_v1X$$,
$Cdot$$5_P1X$$2_oldImpulse$$3_tMat$$51_v1X$$=this.m_impulse,this.m_impulse=$b2Math$$.Max(0,this.m_impulse+$P2Y$$2_impulse$$12_v2Y$$),$P2Y$$2_impulse$$12_v2Y$$=this.m_impulse-$Cdot$$5_P1X$$2_oldImpulse$$3_tMat$$51_v1X$$,$Cdot$$5_P1X$$2_oldImpulse$$3_tMat$$51_v1X$$=-$P2Y$$2_impulse$$12_v2Y$$*this.m_u1.x,$P1Y$$2_tX$$34_v1Y$$=-$P2Y$$2_impulse$$12_v2Y$$*this.m_u1.y,$P2X$$2_v2X$$=-this.m_ratio*$P2Y$$2_impulse$$12_v2Y$$*this.m_u2.x,$P2Y$$2_impulse$$12_v2Y$$=-this.m_ratio*$P2Y$$2_impulse$$12_v2Y$$*this.m_u2.y,
$bA$$29_step$$.m_linearVelocity.x+=$bA$$29_step$$.m_invMass*$Cdot$$5_P1X$$2_oldImpulse$$3_tMat$$51_v1X$$,$bA$$29_step$$.m_linearVelocity.y+=$bA$$29_step$$.m_invMass*$P1Y$$2_tX$$34_v1Y$$,$bA$$29_step$$.m_angularVelocity+=$bA$$29_step$$.m_invI*($r1X$$*$P1Y$$2_tX$$34_v1Y$$-$r1Y$$*$Cdot$$5_P1X$$2_oldImpulse$$3_tMat$$51_v1X$$),$bB$$.m_linearVelocity.x+=$bB$$.m_invMass*$P2X$$2_v2X$$,$bB$$.m_linearVelocity.y+=$bB$$.m_invMass*$P2Y$$2_impulse$$12_v2Y$$,$bB$$.m_angularVelocity+=$bB$$.m_invI*($r2X$$*$P2Y$$2_impulse$$12_v2Y$$-
$r2Y$$*$P2X$$2_v2X$$));this.m_limitState1==$b2Joint$$.e_atUpperLimit&&($Cdot$$5_P1X$$2_oldImpulse$$3_tMat$$51_v1X$$=$bA$$29_step$$.m_linearVelocity.x+-$bA$$29_step$$.m_angularVelocity*$r1Y$$,$P1Y$$2_tX$$34_v1Y$$=$bA$$29_step$$.m_linearVelocity.y+$bA$$29_step$$.m_angularVelocity*$r1X$$,$Cdot$$5_P1X$$2_oldImpulse$$3_tMat$$51_v1X$$=-(this.m_u1.x*$Cdot$$5_P1X$$2_oldImpulse$$3_tMat$$51_v1X$$+this.m_u1.y*$P1Y$$2_tX$$34_v1Y$$),$P2Y$$2_impulse$$12_v2Y$$=-this.m_limitMass1*$Cdot$$5_P1X$$2_oldImpulse$$3_tMat$$51_v1X$$,
$Cdot$$5_P1X$$2_oldImpulse$$3_tMat$$51_v1X$$=this.m_limitImpulse1,this.m_limitImpulse1=$b2Math$$.Max(0,this.m_limitImpulse1+$P2Y$$2_impulse$$12_v2Y$$),$P2Y$$2_impulse$$12_v2Y$$=this.m_limitImpulse1-$Cdot$$5_P1X$$2_oldImpulse$$3_tMat$$51_v1X$$,$Cdot$$5_P1X$$2_oldImpulse$$3_tMat$$51_v1X$$=-$P2Y$$2_impulse$$12_v2Y$$*this.m_u1.x,$P1Y$$2_tX$$34_v1Y$$=-$P2Y$$2_impulse$$12_v2Y$$*this.m_u1.y,$bA$$29_step$$.m_linearVelocity.x+=$bA$$29_step$$.m_invMass*$Cdot$$5_P1X$$2_oldImpulse$$3_tMat$$51_v1X$$,$bA$$29_step$$.m_linearVelocity.y+=
$bA$$29_step$$.m_invMass*$P1Y$$2_tX$$34_v1Y$$,$bA$$29_step$$.m_angularVelocity+=$bA$$29_step$$.m_invI*($r1X$$*$P1Y$$2_tX$$34_v1Y$$-$r1Y$$*$Cdot$$5_P1X$$2_oldImpulse$$3_tMat$$51_v1X$$));this.m_limitState2==$b2Joint$$.e_atUpperLimit&&($P2X$$2_v2X$$=$bB$$.m_linearVelocity.x+-$bB$$.m_angularVelocity*$r2Y$$,$P2Y$$2_impulse$$12_v2Y$$=$bB$$.m_linearVelocity.y+$bB$$.m_angularVelocity*$r2X$$,$Cdot$$5_P1X$$2_oldImpulse$$3_tMat$$51_v1X$$=-(this.m_u2.x*$P2X$$2_v2X$$+this.m_u2.y*$P2Y$$2_impulse$$12_v2Y$$),$P2Y$$2_impulse$$12_v2Y$$=
-this.m_limitMass2*$Cdot$$5_P1X$$2_oldImpulse$$3_tMat$$51_v1X$$,$Cdot$$5_P1X$$2_oldImpulse$$3_tMat$$51_v1X$$=this.m_limitImpulse2,this.m_limitImpulse2=$b2Math$$.Max(0,this.m_limitImpulse2+$P2Y$$2_impulse$$12_v2Y$$),$P2Y$$2_impulse$$12_v2Y$$=this.m_limitImpulse2-$Cdot$$5_P1X$$2_oldImpulse$$3_tMat$$51_v1X$$,$P2X$$2_v2X$$=-$P2Y$$2_impulse$$12_v2Y$$*this.m_u2.x,$P2Y$$2_impulse$$12_v2Y$$=-$P2Y$$2_impulse$$12_v2Y$$*this.m_u2.y,$bB$$.m_linearVelocity.x+=$bB$$.m_invMass*$P2X$$2_v2X$$,$bB$$.m_linearVelocity.y+=
$bB$$.m_invMass*$P2Y$$2_impulse$$12_v2Y$$,$bB$$.m_angularVelocity+=$bB$$.m_invI*($r2X$$*$P2Y$$2_impulse$$12_v2Y$$-$r2Y$$*$P2X$$2_v2X$$))};$b2PulleyJoint$$.prototype.SolvePositionConstraints=function $$b2PulleyJoint$$$$SolvePositionConstraints$($bA$$30_baumgarte$$){$bA$$30_baumgarte$$=this.m_bodyA;var $bB$$=this.m_bodyB,$C$$15_length1$$1_p1X$$7_tMat$$,$s1X$$=this.m_ground.m_xf.position.x+this.m_groundAnchor1.x,$s1Y$$=this.m_ground.m_xf.position.y+this.m_groundAnchor1.y,$s2X$$=this.m_ground.m_xf.position.x+
this.m_groundAnchor2.x,$s2Y$$=this.m_ground.m_xf.position.y+this.m_groundAnchor2.y,$r1X$$=0,$r1Y$$=0,$r2X$$=0,$r2Y$$=0,$length2$$1_p1Y$$7_tX$$=$C$$15_length1$$1_p1X$$7_tMat$$=0,$p2X$$=0,$impulse$$13_p2Y$$=0,$linearError$$=$length2$$1_p1Y$$7_tX$$=$impulse$$13_p2Y$$=$C$$15_length1$$1_p1X$$7_tMat$$=$length2$$1_p1Y$$7_tX$$=$C$$15_length1$$1_p1X$$7_tMat$$=0;this.m_state==$b2Joint$$.e_atUpperLimit&&($C$$15_length1$$1_p1X$$7_tMat$$=$bA$$30_baumgarte$$.m_xf.R,$r1X$$=this.m_localAnchor1.x-$bA$$30_baumgarte$$.m_sweep.localCenter.x,
$r1Y$$=this.m_localAnchor1.y-$bA$$30_baumgarte$$.m_sweep.localCenter.y,$length2$$1_p1Y$$7_tX$$=$C$$15_length1$$1_p1X$$7_tMat$$.col1.x*$r1X$$+$C$$15_length1$$1_p1X$$7_tMat$$.col2.x*$r1Y$$,$r1Y$$=$C$$15_length1$$1_p1X$$7_tMat$$.col1.y*$r1X$$+$C$$15_length1$$1_p1X$$7_tMat$$.col2.y*$r1Y$$,$r1X$$=$length2$$1_p1Y$$7_tX$$,$C$$15_length1$$1_p1X$$7_tMat$$=$bB$$.m_xf.R,$r2X$$=this.m_localAnchor2.x-$bB$$.m_sweep.localCenter.x,$r2Y$$=this.m_localAnchor2.y-$bB$$.m_sweep.localCenter.y,$length2$$1_p1Y$$7_tX$$=$C$$15_length1$$1_p1X$$7_tMat$$.col1.x*
$r2X$$+$C$$15_length1$$1_p1X$$7_tMat$$.col2.x*$r2Y$$,$r2Y$$=$C$$15_length1$$1_p1X$$7_tMat$$.col1.y*$r2X$$+$C$$15_length1$$1_p1X$$7_tMat$$.col2.y*$r2Y$$,$r2X$$=$length2$$1_p1Y$$7_tX$$,$C$$15_length1$$1_p1X$$7_tMat$$=$bA$$30_baumgarte$$.m_sweep.c.x+$r1X$$,$length2$$1_p1Y$$7_tX$$=$bA$$30_baumgarte$$.m_sweep.c.y+$r1Y$$,$p2X$$=$bB$$.m_sweep.c.x+$r2X$$,$impulse$$13_p2Y$$=$bB$$.m_sweep.c.y+$r2Y$$,this.m_u1.Set($C$$15_length1$$1_p1X$$7_tMat$$-$s1X$$,$length2$$1_p1Y$$7_tX$$-$s1Y$$),this.m_u2.Set($p2X$$-$s2X$$,
$impulse$$13_p2Y$$-$s2Y$$),$C$$15_length1$$1_p1X$$7_tMat$$=this.m_u1.Length(),$length2$$1_p1Y$$7_tX$$=this.m_u2.Length(),$C$$15_length1$$1_p1X$$7_tMat$$>$b2Settings$$.b2_linearSlop?this.m_u1.Multiply(1/$C$$15_length1$$1_p1X$$7_tMat$$):this.m_u1.SetZero(),$length2$$1_p1Y$$7_tX$$>$b2Settings$$.b2_linearSlop?this.m_u2.Multiply(1/$length2$$1_p1Y$$7_tX$$):this.m_u2.SetZero(),$C$$15_length1$$1_p1X$$7_tMat$$=this.m_constant-$C$$15_length1$$1_p1X$$7_tMat$$-this.m_ratio*$length2$$1_p1Y$$7_tX$$,$linearError$$=
$b2Math$$.Max($linearError$$,-$C$$15_length1$$1_p1X$$7_tMat$$),$C$$15_length1$$1_p1X$$7_tMat$$=$b2Math$$.Clamp($C$$15_length1$$1_p1X$$7_tMat$$+$b2Settings$$.b2_linearSlop,-$b2Settings$$.b2_maxLinearCorrection,0),$impulse$$13_p2Y$$=-this.m_pulleyMass*$C$$15_length1$$1_p1X$$7_tMat$$,$C$$15_length1$$1_p1X$$7_tMat$$=-$impulse$$13_p2Y$$*this.m_u1.x,$length2$$1_p1Y$$7_tX$$=-$impulse$$13_p2Y$$*this.m_u1.y,$p2X$$=-this.m_ratio*$impulse$$13_p2Y$$*this.m_u2.x,$impulse$$13_p2Y$$=-this.m_ratio*$impulse$$13_p2Y$$*
this.m_u2.y,$bA$$30_baumgarte$$.m_sweep.c.x+=$bA$$30_baumgarte$$.m_invMass*$C$$15_length1$$1_p1X$$7_tMat$$,$bA$$30_baumgarte$$.m_sweep.c.y+=$bA$$30_baumgarte$$.m_invMass*$length2$$1_p1Y$$7_tX$$,$bA$$30_baumgarte$$.m_sweep.a+=$bA$$30_baumgarte$$.m_invI*($r1X$$*$length2$$1_p1Y$$7_tX$$-$r1Y$$*$C$$15_length1$$1_p1X$$7_tMat$$),$bB$$.m_sweep.c.x+=$bB$$.m_invMass*$p2X$$,$bB$$.m_sweep.c.y+=$bB$$.m_invMass*$impulse$$13_p2Y$$,$bB$$.m_sweep.a+=$bB$$.m_invI*($r2X$$*$impulse$$13_p2Y$$-$r2Y$$*$p2X$$),$bA$$30_baumgarte$$.SynchronizeTransform(),
$bB$$.SynchronizeTransform());this.m_limitState1==$b2Joint$$.e_atUpperLimit&&($C$$15_length1$$1_p1X$$7_tMat$$=$bA$$30_baumgarte$$.m_xf.R,$r1X$$=this.m_localAnchor1.x-$bA$$30_baumgarte$$.m_sweep.localCenter.x,$r1Y$$=this.m_localAnchor1.y-$bA$$30_baumgarte$$.m_sweep.localCenter.y,$length2$$1_p1Y$$7_tX$$=$C$$15_length1$$1_p1X$$7_tMat$$.col1.x*$r1X$$+$C$$15_length1$$1_p1X$$7_tMat$$.col2.x*$r1Y$$,$r1Y$$=$C$$15_length1$$1_p1X$$7_tMat$$.col1.y*$r1X$$+$C$$15_length1$$1_p1X$$7_tMat$$.col2.y*$r1Y$$,$r1X$$=
$length2$$1_p1Y$$7_tX$$,$C$$15_length1$$1_p1X$$7_tMat$$=$bA$$30_baumgarte$$.m_sweep.c.x+$r1X$$,$length2$$1_p1Y$$7_tX$$=$bA$$30_baumgarte$$.m_sweep.c.y+$r1Y$$,this.m_u1.Set($C$$15_length1$$1_p1X$$7_tMat$$-$s1X$$,$length2$$1_p1Y$$7_tX$$-$s1Y$$),$C$$15_length1$$1_p1X$$7_tMat$$=this.m_u1.Length(),$C$$15_length1$$1_p1X$$7_tMat$$>$b2Settings$$.b2_linearSlop?(this.m_u1.x*=1/$C$$15_length1$$1_p1X$$7_tMat$$,this.m_u1.y*=1/$C$$15_length1$$1_p1X$$7_tMat$$):this.m_u1.SetZero(),$C$$15_length1$$1_p1X$$7_tMat$$=
this.m_maxLength1-$C$$15_length1$$1_p1X$$7_tMat$$,$linearError$$=$b2Math$$.Max($linearError$$,-$C$$15_length1$$1_p1X$$7_tMat$$),$C$$15_length1$$1_p1X$$7_tMat$$=$b2Math$$.Clamp($C$$15_length1$$1_p1X$$7_tMat$$+$b2Settings$$.b2_linearSlop,-$b2Settings$$.b2_maxLinearCorrection,0),$impulse$$13_p2Y$$=-this.m_limitMass1*$C$$15_length1$$1_p1X$$7_tMat$$,$C$$15_length1$$1_p1X$$7_tMat$$=-$impulse$$13_p2Y$$*this.m_u1.x,$length2$$1_p1Y$$7_tX$$=-$impulse$$13_p2Y$$*this.m_u1.y,$bA$$30_baumgarte$$.m_sweep.c.x+=$bA$$30_baumgarte$$.m_invMass*
$C$$15_length1$$1_p1X$$7_tMat$$,$bA$$30_baumgarte$$.m_sweep.c.y+=$bA$$30_baumgarte$$.m_invMass*$length2$$1_p1Y$$7_tX$$,$bA$$30_baumgarte$$.m_sweep.a+=$bA$$30_baumgarte$$.m_invI*($r1X$$*$length2$$1_p1Y$$7_tX$$-$r1Y$$*$C$$15_length1$$1_p1X$$7_tMat$$),$bA$$30_baumgarte$$.SynchronizeTransform());this.m_limitState2==$b2Joint$$.e_atUpperLimit&&($C$$15_length1$$1_p1X$$7_tMat$$=$bB$$.m_xf.R,$r2X$$=this.m_localAnchor2.x-$bB$$.m_sweep.localCenter.x,$r2Y$$=this.m_localAnchor2.y-$bB$$.m_sweep.localCenter.y,$length2$$1_p1Y$$7_tX$$=
$C$$15_length1$$1_p1X$$7_tMat$$.col1.x*$r2X$$+$C$$15_length1$$1_p1X$$7_tMat$$.col2.x*$r2Y$$,$r2Y$$=$C$$15_length1$$1_p1X$$7_tMat$$.col1.y*$r2X$$+$C$$15_length1$$1_p1X$$7_tMat$$.col2.y*$r2Y$$,$r2X$$=$length2$$1_p1Y$$7_tX$$,$p2X$$=$bB$$.m_sweep.c.x+$r2X$$,$impulse$$13_p2Y$$=$bB$$.m_sweep.c.y+$r2Y$$,this.m_u2.Set($p2X$$-$s2X$$,$impulse$$13_p2Y$$-$s2Y$$),$length2$$1_p1Y$$7_tX$$=this.m_u2.Length(),$length2$$1_p1Y$$7_tX$$>$b2Settings$$.b2_linearSlop?(this.m_u2.x*=1/$length2$$1_p1Y$$7_tX$$,this.m_u2.y*=
1/$length2$$1_p1Y$$7_tX$$):this.m_u2.SetZero(),$C$$15_length1$$1_p1X$$7_tMat$$=this.m_maxLength2-$length2$$1_p1Y$$7_tX$$,$linearError$$=$b2Math$$.Max($linearError$$,-$C$$15_length1$$1_p1X$$7_tMat$$),$C$$15_length1$$1_p1X$$7_tMat$$=$b2Math$$.Clamp($C$$15_length1$$1_p1X$$7_tMat$$+$b2Settings$$.b2_linearSlop,-$b2Settings$$.b2_maxLinearCorrection,0),$impulse$$13_p2Y$$=-this.m_limitMass2*$C$$15_length1$$1_p1X$$7_tMat$$,$p2X$$=-$impulse$$13_p2Y$$*this.m_u2.x,$impulse$$13_p2Y$$=-$impulse$$13_p2Y$$*this.m_u2.y,
$bB$$.m_sweep.c.x+=$bB$$.m_invMass*$p2X$$,$bB$$.m_sweep.c.y+=$bB$$.m_invMass*$impulse$$13_p2Y$$,$bB$$.m_sweep.a+=$bB$$.m_invI*($r2X$$*$impulse$$13_p2Y$$-$r2Y$$*$p2X$$),$bB$$.SynchronizeTransform());return $linearError$$<$b2Settings$$.b2_linearSlop};Box2D.postDefs.push(function(){Box2D.Dynamics.Joints.b2PulleyJoint.b2_minPulleyLength=2});Box2D.inherit($b2PulleyJointDef$$,Box2D.Dynamics.Joints.b2JointDef);$b2PulleyJointDef$$.prototype.__super=Box2D.Dynamics.Joints.b2JointDef.prototype;$b2PulleyJointDef$$.b2PulleyJointDef=
function $$b2PulleyJointDef$$$b2PulleyJointDef$(){Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments);this.groundAnchorA=new $b2Vec2$$;this.groundAnchorB=new $b2Vec2$$;this.localAnchorA=new $b2Vec2$$;this.localAnchorB=new $b2Vec2$$};$b2PulleyJointDef$$.prototype.b2PulleyJointDef=function $$b2PulleyJointDef$$$$b2PulleyJointDef$(){this.__super.b2JointDef.call(this);this.type=$b2Joint$$.e_pulleyJoint;this.groundAnchorA.Set(-1,1);this.groundAnchorB.Set(1,1);this.localAnchorA.Set(-1,0);this.localAnchorB.Set(1,
0);this.maxLengthB=this.lengthB=this.maxLengthA=this.lengthA=0;this.ratio=1;this.collideConnected=!0};$b2PulleyJointDef$$.prototype.Initialize=function $$b2PulleyJointDef$$$$Initialize$($bA$$31_d1X$$,$bB$$,$d1Y$$2_d2X$$,$d2Y$$,$anchorA$$,$anchorB$$,$C$$16_r$$){void 0===$C$$16_r$$&&($C$$16_r$$=0);this.bodyA=$bA$$31_d1X$$;this.bodyB=$bB$$;this.groundAnchorA.SetV($d1Y$$2_d2X$$);this.groundAnchorB.SetV($d2Y$$);this.localAnchorA=this.bodyA.GetLocalPoint($anchorA$$);this.localAnchorB=this.bodyB.GetLocalPoint($anchorB$$);
$bA$$31_d1X$$=$anchorA$$.x-$d1Y$$2_d2X$$.x;$d1Y$$2_d2X$$=$anchorA$$.y-$d1Y$$2_d2X$$.y;this.lengthA=Math.sqrt($bA$$31_d1X$$*$bA$$31_d1X$$+$d1Y$$2_d2X$$*$d1Y$$2_d2X$$);$d1Y$$2_d2X$$=$anchorB$$.x-$d2Y$$.x;$d2Y$$=$anchorB$$.y-$d2Y$$.y;this.lengthB=Math.sqrt($d1Y$$2_d2X$$*$d1Y$$2_d2X$$+$d2Y$$*$d2Y$$);this.ratio=$C$$16_r$$;$C$$16_r$$=this.lengthA+this.ratio*this.lengthB;this.maxLengthA=$C$$16_r$$-this.ratio*$b2PulleyJoint$$.b2_minPulleyLength;this.maxLengthB=($C$$16_r$$-$b2PulleyJoint$$.b2_minPulleyLength)/
this.ratio};Box2D.inherit($b2RevoluteJoint$$,Box2D.Dynamics.Joints.b2Joint);$b2RevoluteJoint$$.prototype.__super=Box2D.Dynamics.Joints.b2Joint.prototype;$b2RevoluteJoint$$.b2RevoluteJoint=function $$b2RevoluteJoint$$$b2RevoluteJoint$(){Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments);this.K=new $b2Mat22$$;this.K1=new $b2Mat22$$;this.K2=new $b2Mat22$$;this.K3=new $b2Mat22$$;this.impulse3=new $b2Vec3$$;this.impulse2=new $b2Vec2$$;this.reduced=new $b2Vec2$$;this.m_localAnchor1=new $b2Vec2$$;
this.m_localAnchor2=new $b2Vec2$$;this.m_impulse=new $b2Vec3$$;this.m_mass=new $b2Mat33$$};$b2RevoluteJoint$$.prototype.GetAnchorA=function $$b2RevoluteJoint$$$$GetAnchorA$(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)};$b2RevoluteJoint$$.prototype.GetAnchorB=function $$b2RevoluteJoint$$$$GetAnchorB$(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)};$b2RevoluteJoint$$.prototype.GetReactionForce=function $$b2RevoluteJoint$$$$GetReactionForce$($inv_dt$$){void 0===$inv_dt$$&&($inv_dt$$=
0);return new $b2Vec2$$($inv_dt$$*this.m_impulse.x,$inv_dt$$*this.m_impulse.y)};$b2RevoluteJoint$$.prototype.GetReactionTorque=function $$b2RevoluteJoint$$$$GetReactionTorque$($inv_dt$$){void 0===$inv_dt$$&&($inv_dt$$=0);return $inv_dt$$*this.m_impulse.z};$b2RevoluteJoint$$.prototype.GetJointAngle=function $$b2RevoluteJoint$$$$GetJointAngle$(){return this.m_bodyB.m_sweep.a-this.m_bodyA.m_sweep.a-this.m_referenceAngle};$b2RevoluteJoint$$.prototype.GetJointSpeed=function $$b2RevoluteJoint$$$$GetJointSpeed$(){return this.m_bodyB.m_angularVelocity-
this.m_bodyA.m_angularVelocity};$b2RevoluteJoint$$.prototype.IsLimitEnabled=function $$b2RevoluteJoint$$$$IsLimitEnabled$(){return this.m_enableLimit};$b2RevoluteJoint$$.prototype.EnableLimit=function $$b2RevoluteJoint$$$$EnableLimit$($flag$$){this.m_enableLimit=$flag$$};$b2RevoluteJoint$$.prototype.GetLowerLimit=function $$b2RevoluteJoint$$$$GetLowerLimit$(){return this.m_lowerAngle};$b2RevoluteJoint$$.prototype.GetUpperLimit=function $$b2RevoluteJoint$$$$GetUpperLimit$(){return this.m_upperAngle};
$b2RevoluteJoint$$.prototype.SetLimits=function $$b2RevoluteJoint$$$$SetLimits$($lower$$,$upper$$){void 0===$lower$$&&($lower$$=0);void 0===$upper$$&&($upper$$=0);this.m_lowerAngle=$lower$$;this.m_upperAngle=$upper$$};$b2RevoluteJoint$$.prototype.IsMotorEnabled=function $$b2RevoluteJoint$$$$IsMotorEnabled$(){this.m_bodyA.SetAwake(!0);this.m_bodyB.SetAwake(!0);return this.m_enableMotor};$b2RevoluteJoint$$.prototype.EnableMotor=function $$b2RevoluteJoint$$$$EnableMotor$($flag$$){this.m_enableMotor=
$flag$$};$b2RevoluteJoint$$.prototype.SetMotorSpeed=function $$b2RevoluteJoint$$$$SetMotorSpeed$($speed$$){void 0===$speed$$&&($speed$$=0);this.m_bodyA.SetAwake(!0);this.m_bodyB.SetAwake(!0);this.m_motorSpeed=$speed$$};$b2RevoluteJoint$$.prototype.GetMotorSpeed=function $$b2RevoluteJoint$$$$GetMotorSpeed$(){return this.m_motorSpeed};$b2RevoluteJoint$$.prototype.SetMaxMotorTorque=function $$b2RevoluteJoint$$$$SetMaxMotorTorque$($torque$$){void 0===$torque$$&&($torque$$=0);this.m_maxMotorTorque=$torque$$};
$b2RevoluteJoint$$.prototype.GetMotorTorque=function $$b2RevoluteJoint$$$$GetMotorTorque$(){return this.m_maxMotorTorque};$b2RevoluteJoint$$.prototype.b2RevoluteJoint=function $$b2RevoluteJoint$$$$b2RevoluteJoint$($def$$){this.__super.b2Joint.call(this,$def$$);this.m_localAnchor1.SetV($def$$.localAnchorA);this.m_localAnchor2.SetV($def$$.localAnchorB);this.m_referenceAngle=$def$$.referenceAngle;this.m_impulse.SetZero();this.m_motorImpulse=0;this.m_lowerAngle=$def$$.lowerAngle;this.m_upperAngle=$def$$.upperAngle;
this.m_maxMotorTorque=$def$$.maxMotorTorque;this.m_motorSpeed=$def$$.motorSpeed;this.m_enableLimit=$def$$.enableLimit;this.m_enableMotor=$def$$.enableMotor;this.m_limitState=$b2Joint$$.e_inactiveLimit};$b2RevoluteJoint$$.prototype.InitVelocityConstraints=function $$b2RevoluteJoint$$$$InitVelocityConstraints$($PX$$13_step$$){var $bA$$=this.m_bodyA,$bB$$=this.m_bodyB,$m1$$7_tMat$$,$m2$$7_tX$$=0;$m1$$7_tMat$$=$bA$$.m_xf.R;var $r1X$$=this.m_localAnchor1.x-$bA$$.m_sweep.localCenter.x,$r1Y$$=this.m_localAnchor1.y-
$bA$$.m_sweep.localCenter.y,$m2$$7_tX$$=$m1$$7_tMat$$.col1.x*$r1X$$+$m1$$7_tMat$$.col2.x*$r1Y$$,$r1Y$$=$m1$$7_tMat$$.col1.y*$r1X$$+$m1$$7_tMat$$.col2.y*$r1Y$$,$r1X$$=$m2$$7_tX$$;$m1$$7_tMat$$=$bB$$.m_xf.R;var $r2X$$=this.m_localAnchor2.x-$bB$$.m_sweep.localCenter.x,$r2Y$$=this.m_localAnchor2.y-$bB$$.m_sweep.localCenter.y,$m2$$7_tX$$=$m1$$7_tMat$$.col1.x*$r2X$$+$m1$$7_tMat$$.col2.x*$r2Y$$,$r2Y$$=$m1$$7_tMat$$.col1.y*$r2X$$+$m1$$7_tMat$$.col2.y*$r2Y$$,$r2X$$=$m2$$7_tX$$;$m1$$7_tMat$$=$bA$$.m_invMass;
var $m2$$7_tX$$=$bB$$.m_invMass,$i1$$=$bA$$.m_invI,$i2$$=$bB$$.m_invI;this.m_mass.col1.x=$m1$$7_tMat$$+$m2$$7_tX$$+$r1Y$$*$r1Y$$*$i1$$+$r2Y$$*$r2Y$$*$i2$$;this.m_mass.col2.x=-$r1Y$$*$r1X$$*$i1$$-$r2Y$$*$r2X$$*$i2$$;this.m_mass.col3.x=-$r1Y$$*$i1$$-$r2Y$$*$i2$$;this.m_mass.col1.y=this.m_mass.col2.x;this.m_mass.col2.y=$m1$$7_tMat$$+$m2$$7_tX$$+$r1X$$*$r1X$$*$i1$$+$r2X$$*$r2X$$*$i2$$;this.m_mass.col3.y=$r1X$$*$i1$$+$r2X$$*$i2$$;this.m_mass.col1.z=this.m_mass.col3.x;this.m_mass.col2.z=this.m_mass.col3.y;
this.m_mass.col3.z=$i1$$+$i2$$;this.m_motorMass=1/($i1$$+$i2$$);0==this.m_enableMotor&&(this.m_motorImpulse=0);if(this.m_enableLimit){var $PY$$=$bB$$.m_sweep.a-$bA$$.m_sweep.a-this.m_referenceAngle;$b2Math$$.Abs(this.m_upperAngle-this.m_lowerAngle)<2*$b2Settings$$.b2_angularSlop?this.m_limitState=$b2Joint$$.e_equalLimits:$PY$$<=this.m_lowerAngle?(this.m_limitState!=$b2Joint$$.e_atLowerLimit&&(this.m_impulse.z=0),this.m_limitState=$b2Joint$$.e_atLowerLimit):$PY$$>=this.m_upperAngle?(this.m_limitState!=
$b2Joint$$.e_atUpperLimit&&(this.m_impulse.z=0),this.m_limitState=$b2Joint$$.e_atUpperLimit):(this.m_limitState=$b2Joint$$.e_inactiveLimit,this.m_impulse.z=0)}else this.m_limitState=$b2Joint$$.e_inactiveLimit;$PX$$13_step$$.warmStarting?(this.m_impulse.x*=$PX$$13_step$$.dtRatio,this.m_impulse.y*=$PX$$13_step$$.dtRatio,this.m_motorImpulse*=$PX$$13_step$$.dtRatio,$PX$$13_step$$=this.m_impulse.x,$PY$$=this.m_impulse.y,$bA$$.m_linearVelocity.x-=$m1$$7_tMat$$*$PX$$13_step$$,$bA$$.m_linearVelocity.y-=$m1$$7_tMat$$*
$PY$$,$bA$$.m_angularVelocity-=$i1$$*($r1X$$*$PY$$-$r1Y$$*$PX$$13_step$$+this.m_motorImpulse+this.m_impulse.z),$bB$$.m_linearVelocity.x+=$m2$$7_tX$$*$PX$$13_step$$,$bB$$.m_linearVelocity.y+=$m2$$7_tX$$*$PY$$,$bB$$.m_angularVelocity+=$i2$$*($r2X$$*$PY$$-$r2Y$$*$PX$$13_step$$+this.m_motorImpulse+this.m_impulse.z)):(this.m_impulse.SetZero(),this.m_motorImpulse=0)};$b2RevoluteJoint$$.prototype.SolveVelocityConstraints=function $$b2RevoluteJoint$$$$SolveVelocityConstraints$($Cdot1X$$1_step$$38_tMat$$){var $bA$$=
this.m_bodyA,$bB$$=this.m_bodyB,$newImpulse$$1_tX$$=0,$impulse$$14_r1X$$=$newImpulse$$1_tX$$=0,$oldImpulse$$5_r1Y$$=0,$maxImpulse$$4_r2X$$=0,$r2Y$$=0,$v1$$=$bA$$.m_linearVelocity,$w1$$=$bA$$.m_angularVelocity,$v2$$=$bB$$.m_linearVelocity,$w2$$=$bB$$.m_angularVelocity,$m1$$=$bA$$.m_invMass,$m2$$=$bB$$.m_invMass,$i1$$=$bA$$.m_invI,$i2$$=$bB$$.m_invI;this.m_enableMotor&&this.m_limitState!=$b2Joint$$.e_equalLimits&&($impulse$$14_r1X$$=this.m_motorMass*-($w2$$-$w1$$-this.m_motorSpeed),$oldImpulse$$5_r1Y$$=
this.m_motorImpulse,$maxImpulse$$4_r2X$$=$Cdot1X$$1_step$$38_tMat$$.dt*this.m_maxMotorTorque,this.m_motorImpulse=$b2Math$$.Clamp(this.m_motorImpulse+$impulse$$14_r1X$$,-$maxImpulse$$4_r2X$$,$maxImpulse$$4_r2X$$),$impulse$$14_r1X$$=this.m_motorImpulse-$oldImpulse$$5_r1Y$$,$w1$$-=$i1$$*$impulse$$14_r1X$$,$w2$$+=$i2$$*$impulse$$14_r1X$$);if(this.m_enableLimit&&this.m_limitState!=$b2Joint$$.e_inactiveLimit){$Cdot1X$$1_step$$38_tMat$$=$bA$$.m_xf.R;$impulse$$14_r1X$$=this.m_localAnchor1.x-$bA$$.m_sweep.localCenter.x;
$oldImpulse$$5_r1Y$$=this.m_localAnchor1.y-$bA$$.m_sweep.localCenter.y;$newImpulse$$1_tX$$=$Cdot1X$$1_step$$38_tMat$$.col1.x*$impulse$$14_r1X$$+$Cdot1X$$1_step$$38_tMat$$.col2.x*$oldImpulse$$5_r1Y$$;$oldImpulse$$5_r1Y$$=$Cdot1X$$1_step$$38_tMat$$.col1.y*$impulse$$14_r1X$$+$Cdot1X$$1_step$$38_tMat$$.col2.y*$oldImpulse$$5_r1Y$$;$impulse$$14_r1X$$=$newImpulse$$1_tX$$;$Cdot1X$$1_step$$38_tMat$$=$bB$$.m_xf.R;$maxImpulse$$4_r2X$$=this.m_localAnchor2.x-$bB$$.m_sweep.localCenter.x;$r2Y$$=this.m_localAnchor2.y-
$bB$$.m_sweep.localCenter.y;$newImpulse$$1_tX$$=$Cdot1X$$1_step$$38_tMat$$.col1.x*$maxImpulse$$4_r2X$$+$Cdot1X$$1_step$$38_tMat$$.col2.x*$r2Y$$;$r2Y$$=$Cdot1X$$1_step$$38_tMat$$.col1.y*$maxImpulse$$4_r2X$$+$Cdot1X$$1_step$$38_tMat$$.col2.y*$r2Y$$;$maxImpulse$$4_r2X$$=$newImpulse$$1_tX$$;$Cdot1X$$1_step$$38_tMat$$=$v2$$.x+-$w2$$*$r2Y$$-$v1$$.x- -$w1$$*$oldImpulse$$5_r1Y$$;var $Cdot1Y$$=$v2$$.y+$w2$$*$maxImpulse$$4_r2X$$-$v1$$.y-$w1$$*$impulse$$14_r1X$$;this.m_mass.Solve33(this.impulse3,-$Cdot1X$$1_step$$38_tMat$$,
-$Cdot1Y$$,-($w2$$-$w1$$));this.m_limitState==$b2Joint$$.e_equalLimits?this.m_impulse.Add(this.impulse3):this.m_limitState==$b2Joint$$.e_atLowerLimit?($newImpulse$$1_tX$$=this.m_impulse.z+this.impulse3.z,0>$newImpulse$$1_tX$$&&(this.m_mass.Solve22(this.reduced,-$Cdot1X$$1_step$$38_tMat$$,-$Cdot1Y$$),this.impulse3.x=this.reduced.x,this.impulse3.y=this.reduced.y,this.impulse3.z=-this.m_impulse.z,this.m_impulse.x+=this.reduced.x,this.m_impulse.y+=this.reduced.y,this.m_impulse.z=0)):this.m_limitState==
$b2Joint$$.e_atUpperLimit&&($newImpulse$$1_tX$$=this.m_impulse.z+this.impulse3.z,0<$newImpulse$$1_tX$$&&(this.m_mass.Solve22(this.reduced,-$Cdot1X$$1_step$$38_tMat$$,-$Cdot1Y$$),this.impulse3.x=this.reduced.x,this.impulse3.y=this.reduced.y,this.impulse3.z=-this.m_impulse.z,this.m_impulse.x+=this.reduced.x,this.m_impulse.y+=this.reduced.y,this.m_impulse.z=0));$v1$$.x-=$m1$$*this.impulse3.x;$v1$$.y-=$m1$$*this.impulse3.y;$w1$$-=$i1$$*($impulse$$14_r1X$$*this.impulse3.y-$oldImpulse$$5_r1Y$$*this.impulse3.x+
this.impulse3.z);$v2$$.x+=$m2$$*this.impulse3.x;$v2$$.y+=$m2$$*this.impulse3.y;$w2$$+=$i2$$*($maxImpulse$$4_r2X$$*this.impulse3.y-$r2Y$$*this.impulse3.x+this.impulse3.z)}else $Cdot1X$$1_step$$38_tMat$$=$bA$$.m_xf.R,$impulse$$14_r1X$$=this.m_localAnchor1.x-$bA$$.m_sweep.localCenter.x,$oldImpulse$$5_r1Y$$=this.m_localAnchor1.y-$bA$$.m_sweep.localCenter.y,$newImpulse$$1_tX$$=$Cdot1X$$1_step$$38_tMat$$.col1.x*$impulse$$14_r1X$$+$Cdot1X$$1_step$$38_tMat$$.col2.x*$oldImpulse$$5_r1Y$$,$oldImpulse$$5_r1Y$$=
$Cdot1X$$1_step$$38_tMat$$.col1.y*$impulse$$14_r1X$$+$Cdot1X$$1_step$$38_tMat$$.col2.y*$oldImpulse$$5_r1Y$$,$impulse$$14_r1X$$=$newImpulse$$1_tX$$,$Cdot1X$$1_step$$38_tMat$$=$bB$$.m_xf.R,$maxImpulse$$4_r2X$$=this.m_localAnchor2.x-$bB$$.m_sweep.localCenter.x,$r2Y$$=this.m_localAnchor2.y-$bB$$.m_sweep.localCenter.y,$newImpulse$$1_tX$$=$Cdot1X$$1_step$$38_tMat$$.col1.x*$maxImpulse$$4_r2X$$+$Cdot1X$$1_step$$38_tMat$$.col2.x*$r2Y$$,$r2Y$$=$Cdot1X$$1_step$$38_tMat$$.col1.y*$maxImpulse$$4_r2X$$+$Cdot1X$$1_step$$38_tMat$$.col2.y*
$r2Y$$,$maxImpulse$$4_r2X$$=$newImpulse$$1_tX$$,this.m_mass.Solve22(this.impulse2,-($v2$$.x+-$w2$$*$r2Y$$-$v1$$.x- -$w1$$*$oldImpulse$$5_r1Y$$),-($v2$$.y+$w2$$*$maxImpulse$$4_r2X$$-$v1$$.y-$w1$$*$impulse$$14_r1X$$)),this.m_impulse.x+=this.impulse2.x,this.m_impulse.y+=this.impulse2.y,$v1$$.x-=$m1$$*this.impulse2.x,$v1$$.y-=$m1$$*this.impulse2.y,$w1$$-=$i1$$*($impulse$$14_r1X$$*this.impulse2.y-$oldImpulse$$5_r1Y$$*this.impulse2.x),$v2$$.x+=$m2$$*this.impulse2.x,$v2$$.y+=$m2$$*this.impulse2.y,$w2$$+=
$i2$$*($maxImpulse$$4_r2X$$*this.impulse2.y-$r2Y$$*this.impulse2.x);$bA$$.m_linearVelocity.SetV($v1$$);$bA$$.m_angularVelocity=$w1$$;$bB$$.m_linearVelocity.SetV($v2$$);$bB$$.m_angularVelocity=$w2$$};$b2RevoluteJoint$$.prototype.SolvePositionConstraints=function $$b2RevoluteJoint$$$$SolvePositionConstraints$($bA$$34_baumgarte$$){var $C$$17_angle$$35_r1Y$$=0,$positionError_tMat$$;$bA$$34_baumgarte$$=this.m_bodyA;var $bB$$=this.m_bodyB,$angularError$$=0,$invMass1_tX$$=$positionError_tMat$$=0,$CX_impulseX$$=
0,$CY_impulseY$$=0;if(this.m_enableLimit&&this.m_limitState!=$b2Joint$$.e_inactiveLimit){var $C$$17_angle$$35_r1Y$$=$bB$$.m_sweep.a-$bA$$34_baumgarte$$.m_sweep.a-this.m_referenceAngle,$limitImpulse_r1X$$=0;this.m_limitState==$b2Joint$$.e_equalLimits?($C$$17_angle$$35_r1Y$$=$b2Math$$.Clamp($C$$17_angle$$35_r1Y$$-this.m_lowerAngle,-$b2Settings$$.b2_maxAngularCorrection,$b2Settings$$.b2_maxAngularCorrection),$limitImpulse_r1X$$=-this.m_motorMass*$C$$17_angle$$35_r1Y$$,$angularError$$=$b2Math$$.Abs($C$$17_angle$$35_r1Y$$)):
this.m_limitState==$b2Joint$$.e_atLowerLimit?($C$$17_angle$$35_r1Y$$-=this.m_lowerAngle,$angularError$$=-$C$$17_angle$$35_r1Y$$,$C$$17_angle$$35_r1Y$$=$b2Math$$.Clamp($C$$17_angle$$35_r1Y$$+$b2Settings$$.b2_angularSlop,-$b2Settings$$.b2_maxAngularCorrection,0),$limitImpulse_r1X$$=-this.m_motorMass*$C$$17_angle$$35_r1Y$$):this.m_limitState==$b2Joint$$.e_atUpperLimit&&($angularError$$=$C$$17_angle$$35_r1Y$$-=this.m_upperAngle,$C$$17_angle$$35_r1Y$$=$b2Math$$.Clamp($C$$17_angle$$35_r1Y$$-$b2Settings$$.b2_angularSlop,
0,$b2Settings$$.b2_maxAngularCorrection),$limitImpulse_r1X$$=-this.m_motorMass*$C$$17_angle$$35_r1Y$$);$bA$$34_baumgarte$$.m_sweep.a-=$bA$$34_baumgarte$$.m_invI*$limitImpulse_r1X$$;$bB$$.m_sweep.a+=$bB$$.m_invI*$limitImpulse_r1X$$;$bA$$34_baumgarte$$.SynchronizeTransform();$bB$$.SynchronizeTransform()}$positionError_tMat$$=$bA$$34_baumgarte$$.m_xf.R;$limitImpulse_r1X$$=this.m_localAnchor1.x-$bA$$34_baumgarte$$.m_sweep.localCenter.x;$C$$17_angle$$35_r1Y$$=this.m_localAnchor1.y-$bA$$34_baumgarte$$.m_sweep.localCenter.y;
$invMass1_tX$$=$positionError_tMat$$.col1.x*$limitImpulse_r1X$$+$positionError_tMat$$.col2.x*$C$$17_angle$$35_r1Y$$;$C$$17_angle$$35_r1Y$$=$positionError_tMat$$.col1.y*$limitImpulse_r1X$$+$positionError_tMat$$.col2.y*$C$$17_angle$$35_r1Y$$;$limitImpulse_r1X$$=$invMass1_tX$$;$positionError_tMat$$=$bB$$.m_xf.R;var $r2X$$=this.m_localAnchor2.x-$bB$$.m_sweep.localCenter.x,$r2Y$$=this.m_localAnchor2.y-$bB$$.m_sweep.localCenter.y,$invMass1_tX$$=$positionError_tMat$$.col1.x*$r2X$$+$positionError_tMat$$.col2.x*
$r2Y$$,$r2Y$$=$positionError_tMat$$.col1.y*$r2X$$+$positionError_tMat$$.col2.y*$r2Y$$,$r2X$$=$invMass1_tX$$,$CX_impulseX$$=$bB$$.m_sweep.c.x+$r2X$$-$bA$$34_baumgarte$$.m_sweep.c.x-$limitImpulse_r1X$$,$CY_impulseY$$=$bB$$.m_sweep.c.y+$r2Y$$-$bA$$34_baumgarte$$.m_sweep.c.y-$C$$17_angle$$35_r1Y$$,$CLengthSquared_m$$=$CX_impulseX$$*$CX_impulseX$$+$CY_impulseY$$*$CY_impulseY$$;$positionError_tMat$$=Math.sqrt($CLengthSquared_m$$);var $invMass1_tX$$=$bA$$34_baumgarte$$.m_invMass,$invMass2$$=$bB$$.m_invMass,
$invI1$$=$bA$$34_baumgarte$$.m_invI,$invI2$$=$bB$$.m_invI,$k_allowedStretch$$=10*$b2Settings$$.b2_linearSlop;$CLengthSquared_m$$>$k_allowedStretch$$*$k_allowedStretch$$&&($CLengthSquared_m$$=1/($invMass1_tX$$+$invMass2$$),$CX_impulseX$$=$CLengthSquared_m$$*-$CX_impulseX$$,$CY_impulseY$$=$CLengthSquared_m$$*-$CY_impulseY$$,$bA$$34_baumgarte$$.m_sweep.c.x-=.5*$invMass1_tX$$*$CX_impulseX$$,$bA$$34_baumgarte$$.m_sweep.c.y-=.5*$invMass1_tX$$*$CY_impulseY$$,$bB$$.m_sweep.c.x+=.5*$invMass2$$*$CX_impulseX$$,
$bB$$.m_sweep.c.y+=.5*$invMass2$$*$CY_impulseY$$,$CX_impulseX$$=$bB$$.m_sweep.c.x+$r2X$$-$bA$$34_baumgarte$$.m_sweep.c.x-$limitImpulse_r1X$$,$CY_impulseY$$=$bB$$.m_sweep.c.y+$r2Y$$-$bA$$34_baumgarte$$.m_sweep.c.y-$C$$17_angle$$35_r1Y$$);this.K1.col1.x=$invMass1_tX$$+$invMass2$$;this.K1.col2.x=0;this.K1.col1.y=0;this.K1.col2.y=$invMass1_tX$$+$invMass2$$;this.K2.col1.x=$invI1$$*$C$$17_angle$$35_r1Y$$*$C$$17_angle$$35_r1Y$$;this.K2.col2.x=-$invI1$$*$limitImpulse_r1X$$*$C$$17_angle$$35_r1Y$$;this.K2.col1.y=
-$invI1$$*$limitImpulse_r1X$$*$C$$17_angle$$35_r1Y$$;this.K2.col2.y=$invI1$$*$limitImpulse_r1X$$*$limitImpulse_r1X$$;this.K3.col1.x=$invI2$$*$r2Y$$*$r2Y$$;this.K3.col2.x=-$invI2$$*$r2X$$*$r2Y$$;this.K3.col1.y=-$invI2$$*$r2X$$*$r2Y$$;this.K3.col2.y=$invI2$$*$r2X$$*$r2X$$;this.K.SetM(this.K1);this.K.AddM(this.K2);this.K.AddM(this.K3);this.K.Solve($b2RevoluteJoint$$.tImpulse,-$CX_impulseX$$,-$CY_impulseY$$);$CX_impulseX$$=$b2RevoluteJoint$$.tImpulse.x;$CY_impulseY$$=$b2RevoluteJoint$$.tImpulse.y;$bA$$34_baumgarte$$.m_sweep.c.x-=
$bA$$34_baumgarte$$.m_invMass*$CX_impulseX$$;$bA$$34_baumgarte$$.m_sweep.c.y-=$bA$$34_baumgarte$$.m_invMass*$CY_impulseY$$;$bA$$34_baumgarte$$.m_sweep.a-=$bA$$34_baumgarte$$.m_invI*($limitImpulse_r1X$$*$CY_impulseY$$-$C$$17_angle$$35_r1Y$$*$CX_impulseX$$);$bB$$.m_sweep.c.x+=$bB$$.m_invMass*$CX_impulseX$$;$bB$$.m_sweep.c.y+=$bB$$.m_invMass*$CY_impulseY$$;$bB$$.m_sweep.a+=$bB$$.m_invI*($r2X$$*$CY_impulseY$$-$r2Y$$*$CX_impulseX$$);$bA$$34_baumgarte$$.SynchronizeTransform();$bB$$.SynchronizeTransform();
return $positionError_tMat$$<=$b2Settings$$.b2_linearSlop&&$angularError$$<=$b2Settings$$.b2_angularSlop};Box2D.postDefs.push(function(){Box2D.Dynamics.Joints.b2RevoluteJoint.tImpulse=new $b2Vec2$$});Box2D.inherit($b2RevoluteJointDef$$,Box2D.Dynamics.Joints.b2JointDef);$b2RevoluteJointDef$$.prototype.__super=Box2D.Dynamics.Joints.b2JointDef.prototype;$b2RevoluteJointDef$$.b2RevoluteJointDef=function $$b2RevoluteJointDef$$$b2RevoluteJointDef$(){Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,
arguments);this.localAnchorA=new $b2Vec2$$;this.localAnchorB=new $b2Vec2$$};$b2RevoluteJointDef$$.prototype.b2RevoluteJointDef=function $$b2RevoluteJointDef$$$$b2RevoluteJointDef$(){this.__super.b2JointDef.call(this);this.type=$b2Joint$$.e_revoluteJoint;this.localAnchorA.Set(0,0);this.localAnchorB.Set(0,0);this.motorSpeed=this.maxMotorTorque=this.upperAngle=this.lowerAngle=this.referenceAngle=0;this.enableMotor=this.enableLimit=!1};$b2RevoluteJointDef$$.prototype.Initialize=function $$b2RevoluteJointDef$$$$Initialize$($bA$$,
$bB$$,$anchor$$){this.bodyA=$bA$$;this.bodyB=$bB$$;this.localAnchorA=this.bodyA.GetLocalPoint($anchor$$);this.localAnchorB=this.bodyB.GetLocalPoint($anchor$$);this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()};Box2D.inherit($b2WeldJoint$$,Box2D.Dynamics.Joints.b2Joint);$b2WeldJoint$$.prototype.__super=Box2D.Dynamics.Joints.b2Joint.prototype;$b2WeldJoint$$.b2WeldJoint=function $$b2WeldJoint$$$b2WeldJoint$(){Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments);this.m_localAnchorA=
new $b2Vec2$$;this.m_localAnchorB=new $b2Vec2$$;this.m_impulse=new $b2Vec3$$;this.m_mass=new $b2Mat33$$};$b2WeldJoint$$.prototype.GetAnchorA=function $$b2WeldJoint$$$$GetAnchorA$(){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA)};$b2WeldJoint$$.prototype.GetAnchorB=function $$b2WeldJoint$$$$GetAnchorB$(){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB)};$b2WeldJoint$$.prototype.GetReactionForce=function $$b2WeldJoint$$$$GetReactionForce$($inv_dt$$){void 0===$inv_dt$$&&($inv_dt$$=0);return new $b2Vec2$$($inv_dt$$*
this.m_impulse.x,$inv_dt$$*this.m_impulse.y)};$b2WeldJoint$$.prototype.GetReactionTorque=function $$b2WeldJoint$$$$GetReactionTorque$($inv_dt$$){void 0===$inv_dt$$&&($inv_dt$$=0);return $inv_dt$$*this.m_impulse.z};$b2WeldJoint$$.prototype.b2WeldJoint=function $$b2WeldJoint$$$$b2WeldJoint$($def$$){this.__super.b2Joint.call(this,$def$$);this.m_localAnchorA.SetV($def$$.localAnchorA);this.m_localAnchorB.SetV($def$$.localAnchorB);this.m_referenceAngle=$def$$.referenceAngle;this.m_impulse.SetZero();this.m_mass=
new $b2Mat33$$};$b2WeldJoint$$.prototype.InitVelocityConstraints=function $$b2WeldJoint$$$$InitVelocityConstraints$($step$$){var $mA$$2_tMat$$,$mB$$2_tX$$=0,$bA$$=this.m_bodyA,$bB$$=this.m_bodyB;$mA$$2_tMat$$=$bA$$.m_xf.R;var $rAX$$=this.m_localAnchorA.x-$bA$$.m_sweep.localCenter.x,$rAY$$=this.m_localAnchorA.y-$bA$$.m_sweep.localCenter.y,$mB$$2_tX$$=$mA$$2_tMat$$.col1.x*$rAX$$+$mA$$2_tMat$$.col2.x*$rAY$$,$rAY$$=$mA$$2_tMat$$.col1.y*$rAX$$+$mA$$2_tMat$$.col2.y*$rAY$$,$rAX$$=$mB$$2_tX$$;$mA$$2_tMat$$=
$bB$$.m_xf.R;var $rBX$$=this.m_localAnchorB.x-$bB$$.m_sweep.localCenter.x,$rBY$$=this.m_localAnchorB.y-$bB$$.m_sweep.localCenter.y,$mB$$2_tX$$=$mA$$2_tMat$$.col1.x*$rBX$$+$mA$$2_tMat$$.col2.x*$rBY$$,$rBY$$=$mA$$2_tMat$$.col1.y*$rBX$$+$mA$$2_tMat$$.col2.y*$rBY$$,$rBX$$=$mB$$2_tX$$;$mA$$2_tMat$$=$bA$$.m_invMass;var $mB$$2_tX$$=$bB$$.m_invMass,$iA$$=$bA$$.m_invI,$iB$$=$bB$$.m_invI;this.m_mass.col1.x=$mA$$2_tMat$$+$mB$$2_tX$$+$rAY$$*$rAY$$*$iA$$+$rBY$$*$rBY$$*$iB$$;this.m_mass.col2.x=-$rAY$$*$rAX$$*$iA$$-
$rBY$$*$rBX$$*$iB$$;this.m_mass.col3.x=-$rAY$$*$iA$$-$rBY$$*$iB$$;this.m_mass.col1.y=this.m_mass.col2.x;this.m_mass.col2.y=$mA$$2_tMat$$+$mB$$2_tX$$+$rAX$$*$rAX$$*$iA$$+$rBX$$*$rBX$$*$iB$$;this.m_mass.col3.y=$rAX$$*$iA$$+$rBX$$*$iB$$;this.m_mass.col1.z=this.m_mass.col3.x;this.m_mass.col2.z=this.m_mass.col3.y;this.m_mass.col3.z=$iA$$+$iB$$;$step$$.warmStarting?(this.m_impulse.x*=$step$$.dtRatio,this.m_impulse.y*=$step$$.dtRatio,this.m_impulse.z*=$step$$.dtRatio,$bA$$.m_linearVelocity.x-=$mA$$2_tMat$$*
this.m_impulse.x,$bA$$.m_linearVelocity.y-=$mA$$2_tMat$$*this.m_impulse.y,$bA$$.m_angularVelocity-=$iA$$*($rAX$$*this.m_impulse.y-$rAY$$*this.m_impulse.x+this.m_impulse.z),$bB$$.m_linearVelocity.x+=$mB$$2_tX$$*this.m_impulse.x,$bB$$.m_linearVelocity.y+=$mB$$2_tX$$*this.m_impulse.y,$bB$$.m_angularVelocity+=$iB$$*($rBX$$*this.m_impulse.y-$rBY$$*this.m_impulse.x+this.m_impulse.z)):this.m_impulse.SetZero()};$b2WeldJoint$$.prototype.SolveVelocityConstraints=function $$b2WeldJoint$$$$SolveVelocityConstraints$($bA$$37_step$$){var $Cdot1X$$2_tMat$$,
$Cdot1Y$$2_tX$$=0;$bA$$37_step$$=this.m_bodyA;var $bB$$=this.m_bodyB,$vA$$=$bA$$37_step$$.m_linearVelocity,$wA$$=$bA$$37_step$$.m_angularVelocity,$vB$$=$bB$$.m_linearVelocity,$wB$$=$bB$$.m_angularVelocity,$mA$$=$bA$$37_step$$.m_invMass,$mB$$=$bB$$.m_invMass,$iA$$=$bA$$37_step$$.m_invI,$iB$$=$bB$$.m_invI;$Cdot1X$$2_tMat$$=$bA$$37_step$$.m_xf.R;var $rAX$$=this.m_localAnchorA.x-$bA$$37_step$$.m_sweep.localCenter.x,$rAY$$=this.m_localAnchorA.y-$bA$$37_step$$.m_sweep.localCenter.y,$Cdot1Y$$2_tX$$=$Cdot1X$$2_tMat$$.col1.x*
$rAX$$+$Cdot1X$$2_tMat$$.col2.x*$rAY$$,$rAY$$=$Cdot1X$$2_tMat$$.col1.y*$rAX$$+$Cdot1X$$2_tMat$$.col2.y*$rAY$$,$rAX$$=$Cdot1Y$$2_tX$$;$Cdot1X$$2_tMat$$=$bB$$.m_xf.R;var $rBX$$=this.m_localAnchorB.x-$bB$$.m_sweep.localCenter.x,$rBY$$=this.m_localAnchorB.y-$bB$$.m_sweep.localCenter.y,$Cdot1Y$$2_tX$$=$Cdot1X$$2_tMat$$.col1.x*$rBX$$+$Cdot1X$$2_tMat$$.col2.x*$rBY$$,$rBY$$=$Cdot1X$$2_tMat$$.col1.y*$rBX$$+$Cdot1X$$2_tMat$$.col2.y*$rBY$$,$rBX$$=$Cdot1Y$$2_tX$$;$Cdot1X$$2_tMat$$=$vB$$.x-$wB$$*$rBY$$-$vA$$.x+
$wA$$*$rAY$$;var $Cdot1Y$$2_tX$$=$vB$$.y+$wB$$*$rBX$$-$vA$$.y-$wA$$*$rAX$$,$Cdot2$$=$wB$$-$wA$$,$impulse$$=new $b2Vec3$$;this.m_mass.Solve33($impulse$$,-$Cdot1X$$2_tMat$$,-$Cdot1Y$$2_tX$$,-$Cdot2$$);this.m_impulse.Add($impulse$$);$vA$$.x-=$mA$$*$impulse$$.x;$vA$$.y-=$mA$$*$impulse$$.y;$wA$$-=$iA$$*($rAX$$*$impulse$$.y-$rAY$$*$impulse$$.x+$impulse$$.z);$vB$$.x+=$mB$$*$impulse$$.x;$vB$$.y+=$mB$$*$impulse$$.y;$wB$$+=$iB$$*($rBX$$*$impulse$$.y-$rBY$$*$impulse$$.x+$impulse$$.z);$bA$$37_step$$.m_angularVelocity=
$wA$$;$bB$$.m_angularVelocity=$wB$$};$b2WeldJoint$$.prototype.SolvePositionConstraints=function $$b2WeldJoint$$$$SolvePositionConstraints$($bA$$38_baumgarte$$){var $mA$$4_tMat$$,$mB$$4_tX$$=0;$bA$$38_baumgarte$$=this.m_bodyA;var $bB$$=this.m_bodyB;$mA$$4_tMat$$=$bA$$38_baumgarte$$.m_xf.R;var $rAX$$=this.m_localAnchorA.x-$bA$$38_baumgarte$$.m_sweep.localCenter.x,$rAY$$=this.m_localAnchorA.y-$bA$$38_baumgarte$$.m_sweep.localCenter.y,$mB$$4_tX$$=$mA$$4_tMat$$.col1.x*$rAX$$+$mA$$4_tMat$$.col2.x*$rAY$$,
$rAY$$=$mA$$4_tMat$$.col1.y*$rAX$$+$mA$$4_tMat$$.col2.y*$rAY$$,$rAX$$=$mB$$4_tX$$;$mA$$4_tMat$$=$bB$$.m_xf.R;var $rBX$$=this.m_localAnchorB.x-$bB$$.m_sweep.localCenter.x,$rBY$$=this.m_localAnchorB.y-$bB$$.m_sweep.localCenter.y,$mB$$4_tX$$=$mA$$4_tMat$$.col1.x*$rBX$$+$mA$$4_tMat$$.col2.x*$rBY$$,$rBY$$=$mA$$4_tMat$$.col1.y*$rBX$$+$mA$$4_tMat$$.col2.y*$rBY$$,$rBX$$=$mB$$4_tX$$;$mA$$4_tMat$$=$bA$$38_baumgarte$$.m_invMass;var $mB$$4_tX$$=$bB$$.m_invMass,$iA$$=$bA$$38_baumgarte$$.m_invI,$iB$$=$bB$$.m_invI,
$C1X$$=$bB$$.m_sweep.c.x+$rBX$$-$bA$$38_baumgarte$$.m_sweep.c.x-$rAX$$,$C1Y$$=$bB$$.m_sweep.c.y+$rBY$$-$bA$$38_baumgarte$$.m_sweep.c.y-$rAY$$,$C2$$=$bB$$.m_sweep.a-$bA$$38_baumgarte$$.m_sweep.a-this.m_referenceAngle,$impulse$$16_k_allowedStretch$$=10*$b2Settings$$.b2_linearSlop,$positionError$$=Math.sqrt($C1X$$*$C1X$$+$C1Y$$*$C1Y$$),$angularError$$=$b2Math$$.Abs($C2$$);$positionError$$>$impulse$$16_k_allowedStretch$$&&($iA$$*=1,$iB$$*=1);this.m_mass.col1.x=$mA$$4_tMat$$+$mB$$4_tX$$+$rAY$$*$rAY$$*
$iA$$+$rBY$$*$rBY$$*$iB$$;this.m_mass.col2.x=-$rAY$$*$rAX$$*$iA$$-$rBY$$*$rBX$$*$iB$$;this.m_mass.col3.x=-$rAY$$*$iA$$-$rBY$$*$iB$$;this.m_mass.col1.y=this.m_mass.col2.x;this.m_mass.col2.y=$mA$$4_tMat$$+$mB$$4_tX$$+$rAX$$*$rAX$$*$iA$$+$rBX$$*$rBX$$*$iB$$;this.m_mass.col3.y=$rAX$$*$iA$$+$rBX$$*$iB$$;this.m_mass.col1.z=this.m_mass.col3.x;this.m_mass.col2.z=this.m_mass.col3.y;this.m_mass.col3.z=$iA$$+$iB$$;$impulse$$16_k_allowedStretch$$=new $b2Vec3$$;this.m_mass.Solve33($impulse$$16_k_allowedStretch$$,
-$C1X$$,-$C1Y$$,-$C2$$);$bA$$38_baumgarte$$.m_sweep.c.x-=$mA$$4_tMat$$*$impulse$$16_k_allowedStretch$$.x;$bA$$38_baumgarte$$.m_sweep.c.y-=$mA$$4_tMat$$*$impulse$$16_k_allowedStretch$$.y;$bA$$38_baumgarte$$.m_sweep.a-=$iA$$*($rAX$$*$impulse$$16_k_allowedStretch$$.y-$rAY$$*$impulse$$16_k_allowedStretch$$.x+$impulse$$16_k_allowedStretch$$.z);$bB$$.m_sweep.c.x+=$mB$$4_tX$$*$impulse$$16_k_allowedStretch$$.x;$bB$$.m_sweep.c.y+=$mB$$4_tX$$*$impulse$$16_k_allowedStretch$$.y;$bB$$.m_sweep.a+=$iB$$*($rBX$$*
$impulse$$16_k_allowedStretch$$.y-$rBY$$*$impulse$$16_k_allowedStretch$$.x+$impulse$$16_k_allowedStretch$$.z);$bA$$38_baumgarte$$.SynchronizeTransform();$bB$$.SynchronizeTransform();return $positionError$$<=$b2Settings$$.b2_linearSlop&&$angularError$$<=$b2Settings$$.b2_angularSlop};Box2D.inherit($b2WeldJointDef$$,Box2D.Dynamics.Joints.b2JointDef);$b2WeldJointDef$$.prototype.__super=Box2D.Dynamics.Joints.b2JointDef.prototype;$b2WeldJointDef$$.b2WeldJointDef=function $$b2WeldJointDef$$$b2WeldJointDef$(){Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,
arguments);this.localAnchorA=new $b2Vec2$$;this.localAnchorB=new $b2Vec2$$};$b2WeldJointDef$$.prototype.b2WeldJointDef=function $$b2WeldJointDef$$$$b2WeldJointDef$(){this.__super.b2JointDef.call(this);this.type=$b2Joint$$.e_weldJoint;this.referenceAngle=0};$b2WeldJointDef$$.prototype.Initialize=function $$b2WeldJointDef$$$$Initialize$($bA$$,$bB$$,$anchor$$){this.bodyA=$bA$$;this.bodyB=$bB$$;this.localAnchorA.SetV(this.bodyA.GetLocalPoint($anchor$$));this.localAnchorB.SetV(this.bodyB.GetLocalPoint($anchor$$));
this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()}})();
(function(){var $b2DebugDraw$$=Box2D.Dynamics.b2DebugDraw;$b2DebugDraw$$.b2DebugDraw=function $$b2DebugDraw$$$b2DebugDraw$(){this.m_xformScale=this.m_fillAlpha=this.m_alpha=this.m_lineThickness=this.m_drawScale=1;var $__this$$=this;this.m_sprite={graphics:{clear:function $this$m_sprite$graphics$clear$(){$__this$$.m_ctx.clearRect(0,0,$__this$$.m_ctx.canvas.width,$__this$$.m_ctx.canvas.height)}}}};$b2DebugDraw$$.prototype._color=function $$b2DebugDraw$$$$_color$($color$$,$alpha$$){return"rgba("+(($color$$&
16711680)>>16)+","+(($color$$&65280)>>8)+","+($color$$&255)+","+$alpha$$+")"};$b2DebugDraw$$.prototype.b2DebugDraw=function $$b2DebugDraw$$$$b2DebugDraw$(){this.m_drawFlags=0};$b2DebugDraw$$.prototype.SetFlags=function $$b2DebugDraw$$$$SetFlags$($flags$$){void 0===$flags$$&&($flags$$=0);this.m_drawFlags=$flags$$};$b2DebugDraw$$.prototype.GetFlags=function $$b2DebugDraw$$$$GetFlags$(){return this.m_drawFlags};$b2DebugDraw$$.prototype.AppendFlags=function $$b2DebugDraw$$$$AppendFlags$($flags$$){void 0===
$flags$$&&($flags$$=0);this.m_drawFlags|=$flags$$};$b2DebugDraw$$.prototype.ClearFlags=function $$b2DebugDraw$$$$ClearFlags$($flags$$){void 0===$flags$$&&($flags$$=0);this.m_drawFlags&=~$flags$$};$b2DebugDraw$$.prototype.SetSprite=function $$b2DebugDraw$$$$SetSprite$($sprite$$){this.m_ctx=$sprite$$};$b2DebugDraw$$.prototype.GetSprite=function $$b2DebugDraw$$$$GetSprite$(){return this.m_ctx};$b2DebugDraw$$.prototype.SetDrawScale=function $$b2DebugDraw$$$$SetDrawScale$($drawScale$$){void 0===$drawScale$$&&
($drawScale$$=0);this.m_drawScale=$drawScale$$};$b2DebugDraw$$.prototype.GetDrawScale=function $$b2DebugDraw$$$$GetDrawScale$(){return this.m_drawScale};$b2DebugDraw$$.prototype.SetLineThickness=function $$b2DebugDraw$$$$SetLineThickness$($lineThickness$$){void 0===$lineThickness$$&&($lineThickness$$=0);this.m_lineThickness=$lineThickness$$;this.m_ctx.strokeWidth=$lineThickness$$};$b2DebugDraw$$.prototype.GetLineThickness=function $$b2DebugDraw$$$$GetLineThickness$(){return this.m_lineThickness};
$b2DebugDraw$$.prototype.SetAlpha=function $$b2DebugDraw$$$$SetAlpha$($alpha$$){void 0===$alpha$$&&($alpha$$=0);this.m_alpha=$alpha$$};$b2DebugDraw$$.prototype.GetAlpha=function $$b2DebugDraw$$$$GetAlpha$(){return this.m_alpha};$b2DebugDraw$$.prototype.SetFillAlpha=function $$b2DebugDraw$$$$SetFillAlpha$($alpha$$){void 0===$alpha$$&&($alpha$$=0);this.m_fillAlpha=$alpha$$};$b2DebugDraw$$.prototype.GetFillAlpha=function $$b2DebugDraw$$$$GetFillAlpha$(){return this.m_fillAlpha};$b2DebugDraw$$.prototype.SetXFormScale=
function $$b2DebugDraw$$$$SetXFormScale$($xformScale$$){void 0===$xformScale$$&&($xformScale$$=0);this.m_xformScale=$xformScale$$};$b2DebugDraw$$.prototype.GetXFormScale=function $$b2DebugDraw$$$$GetXFormScale$(){return this.m_xformScale};$b2DebugDraw$$.prototype.DrawPolygon=function $$b2DebugDraw$$$$DrawPolygon$($vertices$$,$vertexCount$$,$color$$106_i$$){if($vertexCount$$){var $s$$=this.m_ctx,$drawScale$$=this.m_drawScale;$s$$.beginPath();$s$$.strokeStyle=this._color($color$$106_i$$.color,this.m_alpha);
$s$$.moveTo($vertices$$[0].x*$drawScale$$,$vertices$$[0].y*$drawScale$$);for($color$$106_i$$=1;$color$$106_i$$<$vertexCount$$;$color$$106_i$$++)$s$$.lineTo($vertices$$[$color$$106_i$$].x*$drawScale$$,$vertices$$[$color$$106_i$$].y*$drawScale$$);$s$$.lineTo($vertices$$[0].x*$drawScale$$,$vertices$$[0].y*$drawScale$$);$s$$.closePath();$s$$.stroke()}};$b2DebugDraw$$.prototype.DrawSolidPolygon=function $$b2DebugDraw$$$$DrawSolidPolygon$($vertices$$,$vertexCount$$,$color$$107_i$$){if($vertexCount$$){var $s$$=
this.m_ctx,$drawScale$$=this.m_drawScale;$s$$.beginPath();$s$$.strokeStyle=this._color($color$$107_i$$.color,this.m_alpha);$s$$.fillStyle=this._color($color$$107_i$$.color,this.m_fillAlpha);$s$$.moveTo($vertices$$[0].x*$drawScale$$,$vertices$$[0].y*$drawScale$$);for($color$$107_i$$=1;$color$$107_i$$<$vertexCount$$;$color$$107_i$$++)$s$$.lineTo($vertices$$[$color$$107_i$$].x*$drawScale$$,$vertices$$[$color$$107_i$$].y*$drawScale$$);$s$$.lineTo($vertices$$[0].x*$drawScale$$,$vertices$$[0].y*$drawScale$$);
$s$$.closePath();$s$$.fill();$s$$.stroke()}};$b2DebugDraw$$.prototype.DrawCircle=function $$b2DebugDraw$$$$DrawCircle$($center$$,$radius$$,$color$$){if($radius$$){var $s$$=this.m_ctx,$drawScale$$=this.m_drawScale;$s$$.beginPath();$s$$.strokeStyle=this._color($color$$.color,this.m_alpha);$s$$.arc($center$$.x*$drawScale$$,$center$$.y*$drawScale$$,$radius$$*$drawScale$$,0,2*Math.PI,!0);$s$$.closePath();$s$$.stroke()}};$b2DebugDraw$$.prototype.DrawSolidCircle=function $$b2DebugDraw$$$$DrawSolidCircle$($center$$,
$radius$$,$axis$$,$color$$){if($radius$$){var $s$$=this.m_ctx,$drawScale$$=this.m_drawScale,$cx$$=$center$$.x*$drawScale$$,$cy$$=$center$$.y*$drawScale$$;$s$$.moveTo(0,0);$s$$.beginPath();$s$$.strokeStyle=this._color($color$$.color,this.m_alpha);$s$$.fillStyle=this._color($color$$.color,this.m_fillAlpha);$s$$.arc($cx$$,$cy$$,$radius$$*$drawScale$$,0,2*Math.PI,!0);$s$$.moveTo($cx$$,$cy$$);$s$$.lineTo(($center$$.x+$axis$$.x*$radius$$)*$drawScale$$,($center$$.y+$axis$$.y*$radius$$)*$drawScale$$);$s$$.closePath();
$s$$.fill();$s$$.stroke()}};$b2DebugDraw$$.prototype.DrawSegment=function $$b2DebugDraw$$$$DrawSegment$($p1$$,$p2$$,$color$$){var $s$$=this.m_ctx,$drawScale$$=this.m_drawScale;$s$$.strokeStyle=this._color($color$$.color,this.m_alpha);$s$$.beginPath();$s$$.moveTo($p1$$.x*$drawScale$$,$p1$$.y*$drawScale$$);$s$$.lineTo($p2$$.x*$drawScale$$,$p2$$.y*$drawScale$$);$s$$.closePath();$s$$.stroke()};$b2DebugDraw$$.prototype.DrawTransform=function $$b2DebugDraw$$$$DrawTransform$($xf$$){var $s$$=this.m_ctx,$drawScale$$=
this.m_drawScale;$s$$.beginPath();$s$$.strokeStyle=this._color(16711680,this.m_alpha);$s$$.moveTo($xf$$.position.x*$drawScale$$,$xf$$.position.y*$drawScale$$);$s$$.lineTo(($xf$$.position.x+this.m_xformScale*$xf$$.R.col1.x)*$drawScale$$,($xf$$.position.y+this.m_xformScale*$xf$$.R.col1.y)*$drawScale$$);$s$$.strokeStyle=this._color(65280,this.m_alpha);$s$$.moveTo($xf$$.position.x*$drawScale$$,$xf$$.position.y*$drawScale$$);$s$$.lineTo(($xf$$.position.x+this.m_xformScale*$xf$$.R.col2.x)*$drawScale$$,
($xf$$.position.y+this.m_xformScale*$xf$$.R.col2.y)*$drawScale$$);$s$$.closePath();$s$$.stroke()}})();var i;for(i=0;i<Box2D.postDefs.length;++i)Box2D.postDefs[i]();delete Box2D.postDefs;"undefined"!==typeof require&&"undefined"!==typeof module&&(module.exports=Box2D);
(function(){Object.create=Object.create||function($o$$){function $F$$(){}$F$$.prototype=$o$$;return new $F$$};var $cp$$;"undefined"===typeof exports?($cp$$={},"object"===typeof window&&(window.cp=$cp$$)):$cp$$=exports;var $assert$$=function $$assert$$$($value$$,$message$$){if(!$value$$)throw Error("Assertion failed: "+$message$$);},$assertSoft$$=function $$assertSoft$$$($value$$,$message$$){!$value$$&&console&&console.warn&&(console.warn("ASSERTION FAILED: "+$message$$),console.trace&&console.trace())},
$mymin$$=function $$mymin$$$($a$$,$b$$){return $a$$<$b$$?$a$$:$b$$},$mymax$$=function $$mymax$$$($a$$,$b$$){return $a$$>$b$$?$a$$:$b$$},$min$$0$$,$max$$0$$;"object"===typeof window&&-1<window.navigator.userAgent.indexOf("Firefox")?($min$$0$$=Math.min,$max$$0$$=Math.max):($min$$0$$=$mymin$$,$max$$0$$=$mymax$$);var $hashPair$$=function $$hashPair$$$($a$$,$b$$){return $a$$<$b$$?$a$$+" "+$b$$:$b$$+" "+$a$$},$deleteObjFromList$$=function $$deleteObjFromList$$$($arr$$,$obj$$){for(var $i$$=0;$i$$<$arr$$.length;$i$$++)if($arr$$[$i$$]===
$obj$$){$arr$$[$i$$]=$arr$$[$arr$$.length-1];$arr$$.length--;break}};$cp$$.momentForCircle=function $$cp$$$momentForCircle$($m$$,$r1$$,$r2$$,$offset$$){return $m$$*(.5*($r1$$*$r1$$+$r2$$*$r2$$)+$vlengthsq$$($offset$$))};$cp$$.areaForCircle=function $$cp$$$areaForCircle$($r1$$,$r2$$){return Math.PI*Math.abs($r1$$*$r1$$-$r2$$*$r2$$)};$cp$$.momentForSegment=function $$cp$$$momentForSegment$($m$$,$a$$,$b$$){var $offset$$=$vmult$$($vadd$$($a$$,$b$$),.5);return $m$$*($vdistsq$$($b$$,$a$$)/12+$vlengthsq$$($offset$$))};
$cp$$.areaForSegment=function $$cp$$$areaForSegment$($a$$,$b$$,$r$$){return $r$$*(Math.PI*$r$$+2*$vdist$$($a$$,$b$$))};$cp$$.momentForPoly=function $$cp$$$momentForPoly$($m$$,$verts$$,$offset$$){for(var $sum1$$=0,$sum2$$=0,$len$$=$verts$$.length,$i$$=0;$i$$<$len$$;$i$$+=2)var $v1x$$=$verts$$[$i$$]+$offset$$.x,$v1y$$=$verts$$[$i$$+1]+$offset$$.y,$v2x$$=$verts$$[($i$$+2)%$len$$]+$offset$$.x,$v2y$$=$verts$$[($i$$+3)%$len$$]+$offset$$.y,$a$$=$v2x$$*$v1y$$-$v2y$$*$v1x$$,$sum1$$=$sum1$$+$a$$*($v1x$$*$v1x$$+
$v1y$$*$v1y$$+($v1x$$*$v2x$$+$v1y$$*$v2y$$)+($v2x$$*$v2x$$+$v2y$$*$v2y$$)),$sum2$$=$sum2$$+$a$$;return $m$$*$sum1$$/(6*$sum2$$)};$cp$$.areaForPoly=function $$cp$$$areaForPoly$($verts$$){for(var $area$$=0,$i$$=0,$len$$=$verts$$.length;$i$$<$len$$;$i$$+=2)$area$$+=$vcross$$(new $Vect$$($verts$$[$i$$],$verts$$[$i$$+1]),new $Vect$$($verts$$[($i$$+2)%$len$$],$verts$$[($i$$+3)%$len$$]));return-$area$$/2};$cp$$.centroidForPoly=function $$cp$$$centroidForPoly$($verts$$){for(var $sum$$=0,$vsum$$=new $Vect$$(0,
0),$i$$=0,$len$$=$verts$$.length;$i$$<$len$$;$i$$+=2)var $v1$$=new $Vect$$($verts$$[$i$$],$verts$$[$i$$+1]),$v2$$=new $Vect$$($verts$$[($i$$+2)%$len$$],$verts$$[($i$$+3)%$len$$]),$cross$$=$vcross$$($v1$$,$v2$$),$sum$$=$sum$$+$cross$$,$vsum$$=$vadd$$($vsum$$,$vmult$$($vadd$$($v1$$,$v2$$),$cross$$));return $vmult$$($vsum$$,1/(3*$sum$$))};$cp$$.recenterPoly=function $$cp$$$recenterPoly$($verts$$){for(var $centroid$$=$cp$$.centroidForPoly($verts$$),$i$$=0;$i$$<$verts$$.length;$i$$+=2)$verts$$[$i$$]-=
$centroid$$.x,$verts$$[$i$$+1]-=$centroid$$.y};$cp$$.momentForBox=function $$cp$$$momentForBox$($m$$,$width$$,$height$$){return $m$$*($width$$*$width$$+$height$$*$height$$)/12};$cp$$.momentForBox2=function $$cp$$$momentForBox2$($m$$,$box$$){var $width$$=$box$$.r-$box$$.l,$height$$=$box$$.t-$box$$.b,$offset$$=$vmult$$([$box$$.l+$box$$.r,$box$$.b+$box$$.t],.5);return $cp$$.momentForBox($m$$,$width$$,$height$$)+$m$$*$vlengthsq$$($offset$$)};var $loopIndexes$$=$cp$$.loopIndexes=function $$cp$$$loopIndexes$($verts$$){var $start$$=
0,$end$$=0,$minx$$,$miny$$,$maxx$$,$maxy$$;$minx$$=$maxx$$=$verts$$[0];$miny$$=$maxy$$=$verts$$[1];for(var $count$$=$verts$$.length>>1,$i$$=1;$i$$<$count$$;$i$$++){var $x$$=$verts$$[2*$i$$],$y$$=$verts$$[2*$i$$+1];if($x$$<$minx$$||$x$$==$minx$$&&$y$$<$miny$$)$minx$$=$x$$,$miny$$=$y$$,$start$$=$i$$;else if($x$$>$maxx$$||$x$$==$maxx$$&&$y$$>$maxy$$)$maxx$$=$x$$,$maxy$$=$y$$,$end$$=$i$$}return[$start$$,$end$$]},$SWAP$$=function $$SWAP$$$($arr$$,$idx1$$,$idx2$$){var $tmp$$=$arr$$[2*$idx1$$];$arr$$[2*
$idx1$$]=$arr$$[2*$idx2$$];$arr$$[2*$idx2$$]=$tmp$$;$tmp$$=$arr$$[2*$idx1$$+1];$arr$$[2*$idx1$$+1]=$arr$$[2*$idx2$$+1];$arr$$[2*$idx2$$+1]=$tmp$$},$QHullPartition$$=function $$QHullPartition$$$($verts$$,$offs$$,$count$$,$a$$,$b$$351_delta$$,$tol_valueTol$$){if(0===$count$$)return 0;var $max$$=0,$pivot$$=$offs$$;$b$$351_delta$$=$vsub$$($b$$351_delta$$,$a$$);$tol_valueTol$$*=$vlength$$($b$$351_delta$$);var $head$$=$offs$$;for($count$$=$offs$$+$count$$-1;$head$$<=$count$$;){var $v$$60_value$$=new $Vect$$($verts$$[2*
$head$$],$verts$$[2*$head$$+1]),$v$$60_value$$=$vcross$$($b$$351_delta$$,$vsub$$($v$$60_value$$,$a$$));$v$$60_value$$>$tol_valueTol$$?($v$$60_value$$>$max$$&&($max$$=$v$$60_value$$,$pivot$$=$head$$),$head$$++):($SWAP$$($verts$$,$head$$,$count$$),$count$$--)}$pivot$$!=$offs$$&&$SWAP$$($verts$$,$offs$$,$pivot$$);return $head$$-$offs$$},$QHullReduce$$=function $$QHullReduce$$$($tol$$,$verts$$,$offs$$,$count$$,$a$$506_index$$,$pivot$$,$b$$,$resultPos$$){if(0>$count$$)return 0;if(0==$count$$)return $verts$$[2*
$resultPos$$]=$pivot$$.x,$verts$$[2*$resultPos$$+1]=$pivot$$.y,1;var $left_count$$=$QHullPartition$$($verts$$,$offs$$,$count$$,$a$$506_index$$,$pivot$$,$tol$$),$left$$11_pivotPos_right$$=new $Vect$$($verts$$[2*$offs$$],$verts$$[2*$offs$$+1]);$a$$506_index$$=$QHullReduce$$($tol$$,$verts$$,$offs$$+1,$left_count$$-1,$a$$506_index$$,$left$$11_pivotPos_right$$,$pivot$$,$resultPos$$);$left$$11_pivotPos_right$$=$resultPos$$+$a$$506_index$$++;$verts$$[2*$left$$11_pivotPos_right$$]=$pivot$$.x;$verts$$[2*$left$$11_pivotPos_right$$+
1]=$pivot$$.y;$count$$=$QHullPartition$$($verts$$,$offs$$+$left_count$$,$count$$-$left_count$$,$pivot$$,$b$$,$tol$$);$left$$11_pivotPos_right$$=new $Vect$$($verts$$[2*($offs$$+$left_count$$)],$verts$$[2*($offs$$+$left_count$$)+1]);return $a$$506_index$$+$QHullReduce$$($tol$$,$verts$$,$offs$$+$left_count$$+1,$count$$-1,$pivot$$,$left$$11_pivotPos_right$$,$b$$,$resultPos$$+$a$$506_index$$)};$cp$$.convexHull=function $$cp$$$convexHull$($resultCount_verts$$,$result$$,$tolerance$$){if($result$$)for(var $a$$507_i$$612_start$$=
0;$a$$507_i$$612_start$$<$resultCount_verts$$.length;$a$$507_i$$612_start$$++)$result$$[$a$$507_i$$612_start$$]=$resultCount_verts$$[$a$$507_i$$612_start$$];else $result$$=$resultCount_verts$$;var $b$$353_end$$=$loopIndexes$$($resultCount_verts$$),$a$$507_i$$612_start$$=$b$$353_end$$[0],$b$$353_end$$=$b$$353_end$$[1];if($a$$507_i$$612_start$$==$b$$353_end$$)return $result$$.length=2,$result$$;$SWAP$$($result$$,0,$a$$507_i$$612_start$$);$SWAP$$($result$$,1,0==$b$$353_end$$?$a$$507_i$$612_start$$:$b$$353_end$$);
$a$$507_i$$612_start$$=new $Vect$$($result$$[0],$result$$[1]);$b$$353_end$$=new $Vect$$($result$$[2],$result$$[3]);$resultCount_verts$$=$QHullReduce$$($tolerance$$,$result$$,2,($resultCount_verts$$.length>>1)-2,$a$$507_i$$612_start$$,$b$$353_end$$,$a$$507_i$$612_start$$,1)+1;$result$$.length=2*$resultCount_verts$$;$assertSoft$$($polyValidate$$($result$$),"Internal error: cpConvexHull() and cpPolyValidate() did not agree.Please report this error with as much info as you can.");return $result$$};var $clamp$$=
function $$clamp$$$($f$$,$minv$$,$maxv$$){return $min$$0$$($max$$0$$($f$$,$minv$$),$maxv$$)},$clamp01$$=function $$clamp01$$$($f$$){return $max$$0$$(0,$min$$0$$($f$$,1))},$Vect$$=$cp$$.Vect=function $$cp$$$Vect$($x$$,$y$$){this.x=$x$$;this.y=$y$$};$cp$$.v=function $$cp$$$v$($x$$,$y$$){return new $Vect$$($x$$,$y$$)};var $vzero$$=$cp$$.vzero=new $Vect$$(0,0),$vdot$$=$cp$$.v.dot=function $$cp$$$v$dot$($v1$$,$v2$$){return $v1$$.x*$v2$$.x+$v1$$.y*$v2$$.y},$vlength$$=$cp$$.v.len=function $$cp$$$v$len$($v$$){return Math.sqrt($vdot$$($v$$,
$v$$))},$vlength2$$=$cp$$.v.len2=function $$cp$$$v$len2$($x$$,$y$$){return Math.sqrt($x$$*$x$$+$y$$*$y$$)};$cp$$.v.eql=function $$cp$$$v$eql$($v1$$,$v2$$){return $v1$$.x===$v2$$.x&&$v1$$.y===$v2$$.y};var $vadd$$=$cp$$.v.add=function $$cp$$$v$add$($v1$$,$v2$$){return new $Vect$$($v1$$.x+$v2$$.x,$v1$$.y+$v2$$.y)};$Vect$$.prototype.add=function $$Vect$$$$add$($v2$$){this.x+=$v2$$.x;this.y+=$v2$$.y;return this};var $vsub$$=$cp$$.v.sub=function $$cp$$$v$sub$($v1$$,$v2$$){return new $Vect$$($v1$$.x-$v2$$.x,
$v1$$.y-$v2$$.y)};$Vect$$.prototype.sub=function $$Vect$$$$sub$($v2$$){this.x-=$v2$$.x;this.y-=$v2$$.y;return this};var $vneg$$=$cp$$.v.neg=function $$cp$$$v$neg$($v$$){return new $Vect$$(-$v$$.x,-$v$$.y)};$Vect$$.prototype.neg=function $$Vect$$$$neg$(){this.x=-this.x;this.y=-this.y;return this};var $vmult$$=$cp$$.v.mult=function $$cp$$$v$mult$($v$$,$s$$){return new $Vect$$($v$$.x*$s$$,$v$$.y*$s$$)};$Vect$$.prototype.mult=function $$Vect$$$$mult$($s$$){this.x*=$s$$;this.y*=$s$$;return this};var $vcross$$=
$cp$$.v.cross=function $$cp$$$v$cross$($v1$$,$v2$$){return $v1$$.x*$v2$$.y-$v1$$.y*$v2$$.x},$vperp$$=$cp$$.v.perp=function $$cp$$$v$perp$($v$$){return new $Vect$$(-$v$$.y,$v$$.x)};$cp$$.v.pvrperp=function $$cp$$$v$pvrperp$($v$$){return new $Vect$$($v$$.y,-$v$$.x)};var $vproject$$=$cp$$.v.project=function $$cp$$$v$project$($v1$$,$v2$$){return $vmult$$($v2$$,$vdot$$($v1$$,$v2$$)/$vlengthsq$$($v2$$))};$Vect$$.prototype.project=function $$Vect$$$$project$($v2$$){this.mult($vdot$$(this,$v2$$)/$vlengthsq$$($v2$$));
return this};var $vrotate$$=$cp$$.v.rotate=function $$cp$$$v$rotate$($v1$$,$v2$$){return new $Vect$$($v1$$.x*$v2$$.x-$v1$$.y*$v2$$.y,$v1$$.x*$v2$$.y+$v1$$.y*$v2$$.x)};$Vect$$.prototype.rotate=function $$Vect$$$$rotate$($v2$$){this.x=this.x*$v2$$.x-this.y*$v2$$.y;this.y=this.x*$v2$$.y+this.y*$v2$$.x;return this};var $vunrotate$$=$cp$$.v.unrotate=function $$cp$$$v$unrotate$($v1$$,$v2$$){return new $Vect$$($v1$$.x*$v2$$.x+$v1$$.y*$v2$$.y,$v1$$.y*$v2$$.x-$v1$$.x*$v2$$.y)},$vlengthsq$$=$cp$$.v.lengthsq=
function $$cp$$$v$lengthsq$($v$$){return $vdot$$($v$$,$v$$)},$vlengthsq2$$=$cp$$.v.lengthsq2=function $$cp$$$v$lengthsq2$($x$$,$y$$){return $x$$*$x$$+$y$$*$y$$},$vlerp$$=$cp$$.v.lerp=function $$cp$$$v$lerp$($v1$$,$v2$$,$t$$){return $vadd$$($vmult$$($v1$$,1-$t$$),$vmult$$($v2$$,$t$$))},$vnormalize$$=$cp$$.v.normalize=function $$cp$$$v$normalize$($v$$){return $vmult$$($v$$,1/$vlength$$($v$$))},$vnormalize_safe$$=$cp$$.v.normalize_safe=function $$cp$$$v$normalize_safe$($v$$){return 0===$v$$.x&&0===$v$$.y?
$vzero$$:$vnormalize$$($v$$)},$vclamp$$=$cp$$.v.clamp=function $$cp$$$v$clamp$($v$$,$len$$){return $vdot$$($v$$,$v$$)>$len$$*$len$$?$vmult$$($vnormalize$$($v$$),$len$$):$v$$};$cp$$.v.lerpconst=function $$cp$$$v$lerpconst$($v1$$,$v2$$,$d$$){return $vadd$$($v1$$,$vclamp$$($vsub$$($v2$$,$v1$$),$d$$))};var $vdist$$=$cp$$.v.dist=function $$cp$$$v$dist$($v1$$,$v2$$){return $vlength$$($vsub$$($v1$$,$v2$$))},$vdistsq$$=$cp$$.v.distsq=function $$cp$$$v$distsq$($v1$$,$v2$$){return $vlengthsq$$($vsub$$($v1$$,
$v2$$))};$cp$$.v.near=function $$cp$$$v$near$($v1$$,$v2$$,$dist$$){return $vdistsq$$($v1$$,$v2$$)<$dist$$*$dist$$};var $vslerp$$=$cp$$.v.slerp=function $$cp$$$v$slerp$($v1$$,$v2$$,$t$$){var $omega$$=Math.acos($vdot$$($v1$$,$v2$$));if($omega$$){var $denom$$=1/Math.sin($omega$$);return $vadd$$($vmult$$($v1$$,Math.sin((1-$t$$)*$omega$$)*$denom$$),$vmult$$($v2$$,Math.sin($t$$*$omega$$)*$denom$$))}return $v1$$};$cp$$.v.slerpconst=function $$cp$$$v$slerpconst$($v1$$,$v2$$,$a$$){var $angle$$=Math.acos($vdot$$($v1$$,
$v2$$));return $vslerp$$($v1$$,$v2$$,$min$$0$$($a$$,$angle$$)/$angle$$)};$cp$$.v.forangle=function $$cp$$$v$forangle$($a$$){return new $Vect$$(Math.cos($a$$),Math.sin($a$$))};$cp$$.v.toangle=function $$cp$$$v$toangle$($v$$){return Math.atan2($v$$.y,$v$$.x)};$cp$$.v.str=function $$cp$$$v$str$($v$$){return"("+$v$$.x.toFixed(3)+", "+$v$$.y.toFixed(3)+")"};var $numBB$$=0,$BB$$=$cp$$.BB=function $$cp$$$BB$($l$$,$b$$,$r$$,$t$$){this.l=$l$$;this.b=$b$$;this.r=$r$$;this.t=$t$$;$numBB$$++};$cp$$.bb=function $$cp$$$bb$($l$$,
$b$$,$r$$,$t$$){return new $BB$$($l$$,$b$$,$r$$,$t$$)};var $shapeIDCounter$$=0;$cp$$.NO_GROUP=0;var $CP_ALL_LAYERS$$=$cp$$.ALL_LAYERS=-1;$cp$$.resetShapeIdCounter=function $$cp$$$resetShapeIdCounter$(){$shapeIDCounter$$=0};var $Shape$$=$cp$$.Shape=function $$cp$$$Shape$($body$$){this.body=$body$$;this.bb_l=this.bb_b=this.bb_r=this.bb_t=0;this.hashid=$shapeIDCounter$$++;this.sensor=!1;this.u=this.e=0;this.surface_v=$vzero$$;this.group=this.collision_type=0;this.layers=$CP_ALL_LAYERS$$;this.space=null;
this.collisionCode=this.collisionCode};$Shape$$.prototype.setElasticity=function $$Shape$$$$setElasticity$($e$$){this.e=$e$$};$Shape$$.prototype.setFriction=function $$Shape$$$$setFriction$($u$$){this.body.activate();this.u=$u$$};$Shape$$.prototype.setLayers=function $$Shape$$$$setLayers$($layers$$){this.body.activate();this.layers=$layers$$};$Shape$$.prototype.setSensor=function $$Shape$$$$setSensor$($sensor$$){this.body.activate();this.sensor=$sensor$$};$Shape$$.prototype.setCollisionType=function $$Shape$$$$setCollisionType$($collision_type$$){this.body.activate();
this.collision_type=$collision_type$$};$Shape$$.prototype.getBody=function $$Shape$$$$getBody$(){return this.body};$Shape$$.prototype.active=function $$Shape$$$$active$(){return this.body&&-1!==this.body.shapeList.indexOf(this)};$Shape$$.prototype.setBody=function $$Shape$$$$setBody$($body$$){$assert$$(!this.active(),"You cannot change the body on an active shape. You must remove the shape from the space before changing the body.");this.body=$body$$};$Shape$$.prototype.cacheBB=function $$Shape$$$$cacheBB$(){return this.update(this.body.p,
this.body.rot)};$Shape$$.prototype.update=function $$Shape$$$$update$($pos$$,$rot$$){$assert$$(!isNaN($rot$$.x),"Rotation is NaN");$assert$$(!isNaN($pos$$.x),"Position is NaN");this.cacheData($pos$$,$rot$$)};$Shape$$.prototype.pointQuery=function $$Shape$$$$pointQuery$($info$$16_p$$){$info$$16_p$$=this.nearestPointQuery($info$$16_p$$);if(0>$info$$16_p$$.d)return $info$$16_p$$};$Shape$$.prototype.getBB=function $$Shape$$$$getBB$(){return new $BB$$(this.bb_l,this.bb_b,this.bb_r,this.bb_t)};var $NearestPointQueryInfo$$=
function $$NearestPointQueryInfo$$$($shape$$,$p$$,$d$$){this.shape=$shape$$;this.p=$p$$;this.d=$d$$},$SegmentQueryInfo$$=function $$SegmentQueryInfo$$$($shape$$,$t$$,$n$$){this.shape=$shape$$;this.t=$t$$;this.n=$n$$};$SegmentQueryInfo$$.prototype.hitPoint=function $$SegmentQueryInfo$$$$hitPoint$($start$$,$end$$){return $vlerp$$($start$$,$end$$,this.t)};$SegmentQueryInfo$$.prototype.hitDist=function $$SegmentQueryInfo$$$$hitDist$($start$$,$end$$){return $vdist$$($start$$,$end$$)*this.t};var $CircleShape$$=
$cp$$.CircleShape=function $$cp$$$CircleShape$($body$$,$radius$$,$offset$$){this.c=this.tc=$offset$$;this.r=$radius$$;this.type="circle";$Shape$$.call(this,$body$$)};$CircleShape$$.prototype=Object.create($Shape$$.prototype);$CircleShape$$.prototype.cacheData=function $$CircleShape$$$$cacheData$($p$$,$rot$$){var $c$$=this.tc=$vrotate$$(this.c,$rot$$).add($p$$),$r$$=this.r;this.bb_l=$c$$.x-$r$$;this.bb_b=$c$$.y-$r$$;this.bb_r=$c$$.x+$r$$;this.bb_t=$c$$.y+$r$$};$CircleShape$$.prototype.nearestPointQuery=
function $$CircleShape$$$$nearestPointQuery$($d$$219_p$$){var $deltax$$=$d$$219_p$$.x-this.tc.x,$deltay$$=$d$$219_p$$.y-this.tc.y;$d$$219_p$$=$vlength2$$($deltax$$,$deltay$$);var $r$$=this.r,$deltax$$=new $Vect$$(this.tc.x+$deltax$$*$r$$/$d$$219_p$$,this.tc.y+$deltay$$*$r$$/$d$$219_p$$);return new $NearestPointQueryInfo$$(this,$deltax$$,$d$$219_p$$-$r$$)};var $circleSegmentQuery$$=function $$circleSegmentQuery$$$($shape$$,$center$$20_qa$$,$det$$4_qc_r$$56_t$$,$a$$,$b$$,$info$$17_qb$$){$a$$=$vsub$$($a$$,
$center$$20_qa$$);$b$$=$vsub$$($b$$,$center$$20_qa$$);$center$$20_qa$$=$vdot$$($a$$,$a$$)-2*$vdot$$($a$$,$b$$)+$vdot$$($b$$,$b$$);$info$$17_qb$$=-2*$vdot$$($a$$,$a$$)+2*$vdot$$($a$$,$b$$);$det$$4_qc_r$$56_t$$=$vdot$$($a$$,$a$$)-$det$$4_qc_r$$56_t$$*$det$$4_qc_r$$56_t$$;$det$$4_qc_r$$56_t$$=$info$$17_qb$$*$info$$17_qb$$-4*$center$$20_qa$$*$det$$4_qc_r$$56_t$$;if(0<=$det$$4_qc_r$$56_t$$&&($det$$4_qc_r$$56_t$$=(-$info$$17_qb$$-Math.sqrt($det$$4_qc_r$$56_t$$))/(2*$center$$20_qa$$),0<=$det$$4_qc_r$$56_t$$&&
1>=$det$$4_qc_r$$56_t$$))return new $SegmentQueryInfo$$($shape$$,$det$$4_qc_r$$56_t$$,$vnormalize$$($vlerp$$($a$$,$b$$,$det$$4_qc_r$$56_t$$)))};$CircleShape$$.prototype.segmentQuery=function $$CircleShape$$$$segmentQuery$($a$$,$b$$){return $circleSegmentQuery$$(this,this.tc,this.r,$a$$,$b$$)};var $SegmentShape$$=$cp$$.SegmentShape=function $$cp$$$SegmentShape$($body$$,$a$$,$b$$,$r$$){this.a=$a$$;this.b=$b$$;this.n=$vperp$$($vnormalize$$($vsub$$($b$$,$a$$)));this.ta=this.tb=this.tn=null;this.r=$r$$;
this.b_tangent=this.a_tangent=$vzero$$;this.type="segment";$Shape$$.call(this,$body$$)};$SegmentShape$$.prototype=Object.create($Shape$$.prototype);$SegmentShape$$.prototype.cacheData=function $$SegmentShape$$$$cacheData$($p$$,$rot$$){this.ta=$vadd$$($p$$,$vrotate$$(this.a,$rot$$));this.tb=$vadd$$($p$$,$vrotate$$(this.b,$rot$$));this.tn=$vrotate$$(this.n,$rot$$);var $l$$,$r$$,$b$$,$t$$;this.ta.x<this.tb.x?($l$$=this.ta.x,$r$$=this.tb.x):($l$$=this.tb.x,$r$$=this.ta.x);this.ta.y<this.tb.y?($b$$=this.ta.y,
$t$$=this.tb.y):($b$$=this.tb.y,$t$$=this.ta.y);var $rad$$=this.r;this.bb_l=$l$$-$rad$$;this.bb_b=$b$$-$rad$$;this.bb_r=$r$$+$rad$$;this.bb_t=$t$$+$rad$$};$SegmentShape$$.prototype.nearestPointQuery=function $$SegmentShape$$$$nearestPointQuery$($d$$220_p$$){var $b$$inline_24_closest_nearestp$$;$b$$inline_24_closest_nearestp$$=this.tb;var $delta$$inline_25_deltax$$=$vsub$$(this.ta,$b$$inline_24_closest_nearestp$$),$r$$59_t$$=$clamp01$$($vdot$$($delta$$inline_25_deltax$$,$vsub$$($d$$220_p$$,$b$$inline_24_closest_nearestp$$))/
$vlengthsq$$($delta$$inline_25_deltax$$));$b$$inline_24_closest_nearestp$$=$vadd$$($b$$inline_24_closest_nearestp$$,$vmult$$($delta$$inline_25_deltax$$,$r$$59_t$$));var $delta$$inline_25_deltax$$=$d$$220_p$$.x-$b$$inline_24_closest_nearestp$$.x,$deltay$$=$d$$220_p$$.y-$b$$inline_24_closest_nearestp$$.y;$d$$220_p$$=$vlength2$$($delta$$inline_25_deltax$$,$deltay$$);$r$$59_t$$=this.r;$b$$inline_24_closest_nearestp$$=$d$$220_p$$?$vadd$$($b$$inline_24_closest_nearestp$$,$vmult$$(new $Vect$$($delta$$inline_25_deltax$$,
$deltay$$),$r$$59_t$$/$d$$220_p$$)):$b$$inline_24_closest_nearestp$$;return new $NearestPointQueryInfo$$(this,$b$$inline_24_closest_nearestp$$,$d$$220_p$$-$r$$59_t$$)};$SegmentShape$$.prototype.segmentQuery=function $$SegmentShape$$$$segmentQuery$($a$$,$b$$){var $bd$$3_info2_n$$=this.tn,$ad_d$$=$vdot$$($vsub$$(this.ta,$a$$),$bd$$3_info2_n$$),$d_offset_r$$=this.r,$flipped_n_info1$$=0<$ad_d$$?$vneg$$($bd$$3_info2_n$$):$bd$$3_info2_n$$,$delta$$=$vsub$$($vmult$$($flipped_n_info1$$,$d_offset_r$$),$a$$),
$seg_a$$=$vadd$$(this.ta,$delta$$),$seg_b$$=$vadd$$(this.tb,$delta$$),$delta$$=$vsub$$($b$$,$a$$);if(0>=$vcross$$($delta$$,$seg_a$$)*$vcross$$($delta$$,$seg_b$$)){if($d_offset_r$$=$ad_d$$+(0<$ad_d$$?-$d_offset_r$$:$d_offset_r$$),$ad_d$$=-$d_offset_r$$,$bd$$3_info2_n$$=$vdot$$($delta$$,$bd$$3_info2_n$$)-$d_offset_r$$,0>$ad_d$$*$bd$$3_info2_n$$)return new $SegmentQueryInfo$$(this,$ad_d$$/($ad_d$$-$bd$$3_info2_n$$),$flipped_n_info1$$)}else if(0!==$d_offset_r$$)return $flipped_n_info1$$=$circleSegmentQuery$$(this,
this.ta,this.r,$a$$,$b$$),$bd$$3_info2_n$$=$circleSegmentQuery$$(this,this.tb,this.r,$a$$,$b$$),$flipped_n_info1$$?$bd$$3_info2_n$$&&$bd$$3_info2_n$$.t<$flipped_n_info1$$.t?$bd$$3_info2_n$$:$flipped_n_info1$$:$bd$$3_info2_n$$};$SegmentShape$$.prototype.setNeighbors=function $$SegmentShape$$$$setNeighbors$($prev$$,$next$$){this.a_tangent=$vsub$$($prev$$,this.a);this.b_tangent=$vsub$$($next$$,this.b)};$SegmentShape$$.prototype.setEndpoints=function $$SegmentShape$$$$setEndpoints$($a$$,$b$$){this.a=
$a$$;this.b=$b$$;this.n=$vperp$$($vnormalize$$($vsub$$($b$$,$a$$)))};var $polyValidate$$=function $$polyValidate$$$($verts$$){for(var $len$$=$verts$$.length,$i$$=0;$i$$<$len$$;$i$$+=2){var $bx$$=$verts$$[($i$$+2)%$len$$],$by$$=$verts$$[($i$$+3)%$len$$];if(0<($bx$$-$verts$$[$i$$])*($verts$$[($i$$+5)%$len$$]-$by$$)-($by$$-$verts$$[$i$$+1])*($verts$$[($i$$+4)%$len$$]-$bx$$))return!1}return!0},$PolyShape$$=$cp$$.PolyShape=function $$cp$$$PolyShape$($body$$,$verts$$,$offset$$){this.setVerts($verts$$,$offset$$);
this.type="poly";$Shape$$.call(this,$body$$)};$PolyShape$$.prototype=Object.create($Shape$$.prototype);var $SplittingPlane$$=function $$SplittingPlane$$$($n$$,$d$$){this.n=$n$$;this.d=$d$$};$SplittingPlane$$.prototype.compare=function $$SplittingPlane$$$$compare$($v$$){return $vdot$$(this.n,$v$$)-this.d};$PolyShape$$.prototype.setVerts=function $$PolyShape$$$$setVerts$($verts$$,$offset$$){$assert$$(4<=$verts$$.length,"Polygons require some verts");$assert$$("number"===typeof $verts$$[0],"Polygon verticies should be specified in a flattened list (eg [x1,y1,x2,y2,x3,y3,...])");
$assert$$($polyValidate$$($verts$$),"Polygon is concave or has a reversed winding. Consider using cpConvexHull()");var $len$$=$verts$$.length,$i$$=$len$$>>1;this.verts=Array($len$$);this.tVerts=Array($len$$);this.planes=Array($i$$);this.tPlanes=Array($i$$);for($i$$=0;$i$$<$len$$;$i$$+=2){var $ax$$=$verts$$[$i$$]+$offset$$.x,$ay$$=$verts$$[$i$$+1]+$offset$$.y,$n$$=$vnormalize$$($vperp$$(new $Vect$$($verts$$[($i$$+2)%$len$$]+$offset$$.x-$ax$$,$verts$$[($i$$+3)%$len$$]+$offset$$.y-$ay$$)));this.verts[$i$$]=
$ax$$;this.verts[$i$$+1]=$ay$$;this.planes[$i$$>>1]=new $SplittingPlane$$($n$$,$n$$.x*$ax$$+$n$$.y*$ay$$);this.tPlanes[$i$$>>1]=new $SplittingPlane$$(new $Vect$$(0,0),0)}};$cp$$.BoxShape=function $$cp$$$BoxShape$($body$$,$hw_width$$,$height$$86_hh$$){$hw_width$$/=2;$height$$86_hh$$/=2;return $BoxShape2$$($body$$,new $BB$$(-$hw_width$$,-$height$$86_hh$$,$hw_width$$,$height$$86_hh$$))};var $BoxShape2$$=$cp$$.BoxShape2=function $$cp$$$BoxShape2$($body$$,$box$$){return new $PolyShape$$($body$$,[$box$$.l,
$box$$.b,$box$$.l,$box$$.t,$box$$.r,$box$$.t,$box$$.r,$box$$.b],$vzero$$)};$PolyShape$$.prototype.transformVerts=function $$PolyShape$$$$transformVerts$($p$$,$rot$$){for(var $src$$=this.verts,$dst$$=this.tVerts,$l$$=Infinity,$r$$=-Infinity,$b$$=Infinity,$t$$=-Infinity,$i$$=0;$i$$<$src$$.length;$i$$+=2){var $vy$$1_x$$=$src$$[$i$$],$y$$=$src$$[$i$$+1],$vx$$=$p$$.x+$vy$$1_x$$*$rot$$.x-$y$$*$rot$$.y,$vy$$1_x$$=$p$$.y+$vy$$1_x$$*$rot$$.y+$y$$*$rot$$.x;$dst$$[$i$$]=$vx$$;$dst$$[$i$$+1]=$vy$$1_x$$;$l$$=
$min$$0$$($l$$,$vx$$);$r$$=$max$$0$$($r$$,$vx$$);$b$$=$min$$0$$($b$$,$vy$$1_x$$);$t$$=$max$$0$$($t$$,$vy$$1_x$$)}this.bb_l=$l$$;this.bb_b=$b$$;this.bb_r=$r$$;this.bb_t=$t$$};$PolyShape$$.prototype.transformAxes=function $$PolyShape$$$$transformAxes$($p$$,$rot$$){for(var $src$$=this.planes,$dst$$=this.tPlanes,$i$$=0;$i$$<$src$$.length;$i$$++){var $n$$=$vrotate$$($src$$[$i$$].n,$rot$$);$dst$$[$i$$].n=$n$$;$dst$$[$i$$].d=$vdot$$($p$$,$n$$)+$src$$[$i$$].d}};$PolyShape$$.prototype.cacheData=function $$PolyShape$$$$cacheData$($p$$,
$rot$$){this.transformAxes($p$$,$rot$$);this.transformVerts($p$$,$rot$$)};$PolyShape$$.prototype.nearestPointQuery=function $$PolyShape$$$$nearestPointQuery$($p$$){for(var $planes$$=this.tPlanes,$verts$$=this.tVerts,$deltax$$=$verts$$[$verts$$.length-2],$deltay$$=$verts$$[$verts$$.length-1],$minDist$$=Infinity,$closestPoint$$=$vzero$$,$outside$$=!1,$i$$=0;$i$$<$planes$$.length;$i$$++){0<$planes$$[$i$$].compare($p$$)&&($outside$$=!0);var $v1x$$=$verts$$[2*$i$$],$v1y$$=$verts$$[2*$i$$+1],$bx$$inline_32_closest$$;
$bx$$inline_32_closest$$=$v1x$$;var $by$$inline_33_dist$$=$v1y$$,$deltax$$=$deltax$$-$bx$$inline_32_closest$$,$deltay$$=$deltay$$-$by$$inline_33_dist$$,$t$$=$clamp01$$(($deltax$$*($p$$.x-$bx$$inline_32_closest$$)+$deltay$$*($p$$.y-$by$$inline_33_dist$$))/$vlengthsq2$$($deltax$$,$deltay$$));$bx$$inline_32_closest$$=new $Vect$$($bx$$inline_32_closest$$+$deltax$$*$t$$,$by$$inline_33_dist$$+$deltay$$*$t$$);$by$$inline_33_dist$$=$vdist$$($p$$,$bx$$inline_32_closest$$);$by$$inline_33_dist$$<$minDist$$&&
($minDist$$=$by$$inline_33_dist$$,$closestPoint$$=$bx$$inline_32_closest$$);$deltax$$=$v1x$$;$deltay$$=$v1y$$}return new $NearestPointQueryInfo$$(this,$closestPoint$$,$outside$$?$minDist$$:-$minDist$$)};$PolyShape$$.prototype.segmentQuery=function $$PolyShape$$$$segmentQuery$($a$$,$b$$){for(var $axes$$=this.tPlanes,$verts$$=this.tVerts,$numVerts$$=$axes$$.length,$len$$=2*$numVerts$$,$i$$=0;$i$$<$numVerts$$;$i$$++){var $n$$=$axes$$[$i$$].n,$an_t$$=$vdot$$($a$$,$n$$);if(!($axes$$[$i$$].d>$an_t$$)){var $bn_dt$$144_point$$=
$vdot$$($b$$,$n$$),$an_t$$=($axes$$[$i$$].d-$an_t$$)/($bn_dt$$144_point$$-$an_t$$);if(!(0>$an_t$$||1<$an_t$$)){var $bn_dt$$144_point$$=$vlerp$$($a$$,$b$$,$an_t$$),$bn_dt$$144_point$$=-$vcross$$($n$$,$bn_dt$$144_point$$),$dtMax$$=-($n$$.x*$verts$$[(2*$i$$+3)%$len$$]-$n$$.y*$verts$$[(2*$i$$+2)%$len$$]);if(-($n$$.x*$verts$$[2*$i$$+1]-$n$$.y*$verts$$[2*$i$$])<=$bn_dt$$144_point$$&&$bn_dt$$144_point$$<=$dtMax$$)return new $SegmentQueryInfo$$(this,$an_t$$,$n$$)}}}};$PolyShape$$.prototype.valueOnAxis=function $$PolyShape$$$$valueOnAxis$($n$$,
$d$$){for(var $verts$$=this.tVerts,$m$$=$n$$.x*$verts$$[0]+$n$$.y*$verts$$[1],$i$$=2;$i$$<$verts$$.length;$i$$+=2)$m$$=$min$$0$$($m$$,$n$$.x*$verts$$[$i$$]+$n$$.y*$verts$$[$i$$+1]);return $m$$-$d$$};$PolyShape$$.prototype.containsVert=function $$PolyShape$$$$containsVert$($vx$$,$vy$$){for(var $planes$$=this.tPlanes,$i$$=0;$i$$<$planes$$.length;$i$$++){var $n$$=$planes$$[$i$$].n;if(0<$n$$.x*$vx$$+$n$$.y*$vy$$-$planes$$[$i$$].d)return!1}return!0};$PolyShape$$.prototype.containsVertPartial=function $$PolyShape$$$$containsVertPartial$($vx$$,
$vy$$,$n$$){for(var $planes$$=this.tPlanes,$i$$=0;$i$$<$planes$$.length;$i$$++){var $n2$$=$planes$$[$i$$].n;if(!(0>$vdot$$($n2$$,$n$$))&&0<$n2$$.x*$vx$$+$n2$$.y*$vy$$-$planes$$[$i$$].d)return!1}return!0};$PolyShape$$.prototype.getNumVerts=function $$PolyShape$$$$getNumVerts$(){return this.verts.length/2};$PolyShape$$.prototype.getVert=function $$PolyShape$$$$getVert$($i$$){return new $Vect$$(this.verts[2*$i$$],this.verts[2*$i$$+1])};var $Body$$=$cp$$.Body=function $$cp$$$Body$($m$$,$i$$){this.p=new $Vect$$(0,
0);this.vx=this.vy=0;this.f=new $Vect$$(0,0);this.t=this.w=0;this.w_limit=this.v_limit=Infinity;this.w_bias=this.v_biasx=this.v_biasy=0;this.space=null;this.shapeList=[];this.nodeNext=this.nodeRoot=this.constraintList=this.arbiterList=null;this.nodeIdleTime=0;this.setMass($m$$);this.setMoment($i$$);this.rot=new $Vect$$(0,0);this.setAngle(0)};if("undefined"!==typeof DEBUG&&DEBUG){var $v_assert_nan$$=function $$v_assert_nan$$$($v$$,$message$$){$assert$$($v$$.x==$v$$.x&&$v$$.y==$v$$.y,$message$$)},$v_assert_infinite$$=
function $$v_assert_infinite$$$($v$$,$message$$){$assert$$(Infinity!==Math.abs($v$$.x)&&Infinity!==Math.abs($v$$.y),$message$$)};$Body$$.prototype.sanityCheck=function $$Body$$$$sanityCheck$(){$assert$$(this.m===this.m&&this.m_inv===this.m_inv,"Body's mass is invalid.");$assert$$(this.i===this.i&&this.i_inv===this.i_inv,"Body's moment is invalid.");var $v$$inline_38_v$$inline_41_v$$=this.p;$v_assert_nan$$($v$$inline_38_v$$inline_41_v$$,"Body's position is invalid.");$v_assert_infinite$$($v$$inline_38_v$$inline_41_v$$,
"Body's position is invalid.");$v$$inline_38_v$$inline_41_v$$=this.f;$v_assert_nan$$($v$$inline_38_v$$inline_41_v$$,"Body's force is invalid.");$v_assert_infinite$$($v$$inline_38_v$$inline_41_v$$,"Body's force is invalid.");$assert$$(this.vx===this.vx&&Infinity!==Math.abs(this.vx),"Body's velocity is invalid.");$assert$$(this.vy===this.vy&&Infinity!==Math.abs(this.vy),"Body's velocity is invalid.");$assert$$(this.a===this.a&&Infinity!==Math.abs(this.a),"Body's angle is invalid.");$assert$$(this.w===
this.w&&Infinity!==Math.abs(this.w),"Body's angular velocity is invalid.");$assert$$(this.t===this.t&&Infinity!==Math.abs(this.t),"Body's torque is invalid.");$v$$inline_38_v$$inline_41_v$$=this.rot;$v_assert_nan$$($v$$inline_38_v$$inline_41_v$$,"Body's rotation vector is invalid.");$v_assert_infinite$$($v$$inline_38_v$$inline_41_v$$,"Body's rotation vector is invalid.");$assert$$(this.v_limit===this.v_limit,"Body's velocity limit is invalid.");$assert$$(this.w_limit===this.w_limit,"Body's angular velocity limit is invalid.")}}else $Body$$.prototype.sanityCheck=
function $$Body$$$$sanityCheck$(){};$Body$$.prototype.getPos=function $$Body$$$$getPos$(){return this.p};$Body$$.prototype.getVel=function $$Body$$$$getVel$(){return new $Vect$$(this.vx,this.vy)};$Body$$.prototype.getAngVel=function $$Body$$$$getAngVel$(){return this.w};$Body$$.prototype.isSleeping=function $$Body$$$$isSleeping$(){return null!==this.nodeRoot};$Body$$.prototype.isStatic=function $$Body$$$$isStatic$(){return Infinity===this.nodeIdleTime};$Body$$.prototype.isRogue=function $$Body$$$$isRogue$(){return null===
this.space};$Body$$.prototype.setMass=function $$Body$$$$setMass$($mass$$){$assert$$(0<$mass$$,"Mass must be positive and non-zero.");this.activate();this.m=$mass$$;this.m_inv=1/$mass$$};$Body$$.prototype.setMoment=function $$Body$$$$setMoment$($moment$$){$assert$$(0<$moment$$,"Moment of Inertia must be positive and non-zero.");this.activate();this.i=$moment$$;this.i_inv=1/$moment$$};$Body$$.prototype.addShape=function $$Body$$$$addShape$($shape$$){this.shapeList.push($shape$$)};$Body$$.prototype.removeShape=
function $$Body$$$$removeShape$($shape$$){$deleteObjFromList$$(this.shapeList,$shape$$)};var $filterConstraints$$=function $$filterConstraints$$$($node$$,$body$$,$filter$$){if($node$$===$filter$$)return $node$$.next($body$$);$node$$.a===$body$$?$node$$.next_a=$filterConstraints$$($node$$.next_a,$body$$,$filter$$):$node$$.next_b=$filterConstraints$$($node$$.next_b,$body$$,$filter$$);return $node$$};$Body$$.prototype.removeConstraint=function $$Body$$$$removeConstraint$($constraint$$){this.constraintList=
$filterConstraints$$(this.constraintList,this,$constraint$$)};$Body$$.prototype.setPos=function $$Body$$$$setPos$($pos$$){this.activate();this.sanityCheck();$pos$$===$vzero$$&&($pos$$=$cp$$.v(0,0));this.p=$pos$$};$Body$$.prototype.setVel=function $$Body$$$$setVel$($velocity$$){this.activate();this.vx=$velocity$$.x;this.vy=$velocity$$.y};$Body$$.prototype.setAngVel=function $$Body$$$$setAngVel$($w$$){this.activate();this.w=$w$$};$Body$$.prototype.setAngleInternal=function $$Body$$$$setAngleInternal$($angle$$){$assert$$(!isNaN($angle$$),
"Internal Error: Attempting to set body's angle to NaN");this.a=$angle$$;this.rot.x=Math.cos($angle$$);this.rot.y=Math.sin($angle$$)};$Body$$.prototype.setAngle=function $$Body$$$$setAngle$($angle$$){this.activate();this.sanityCheck();this.setAngleInternal($angle$$)};$Body$$.prototype.velocity_func=function $$Body$$$$velocity_func$($gravity$$12_vy$$,$damping$$,$dt$$){var $vx$$=this.vx*$damping$$+($gravity$$12_vy$$.x+this.f.x*this.m_inv)*$dt$$;$gravity$$12_vy$$=this.vy*$damping$$+($gravity$$12_vy$$.y+
this.f.y*this.m_inv)*$dt$$;var $scale$$=this.v_limit,$lensq$$=$vx$$*$vx$$+$gravity$$12_vy$$*$gravity$$12_vy$$,$scale$$=$lensq$$>$scale$$*$scale$$?$scale$$/Math.sqrt($lensq$$):1;this.vx=$vx$$*$scale$$;this.vy=$gravity$$12_vy$$*$scale$$;$vx$$=this.w_limit;this.w=$clamp$$(this.w*$damping$$+this.t*this.i_inv*$dt$$,-$vx$$,$vx$$);this.sanityCheck()};$Body$$.prototype.position_func=function $$Body$$$$position_func$($dt$$){this.p.x+=(this.vx+this.v_biasx)*$dt$$;this.p.y+=(this.vy+this.v_biasy)*$dt$$;this.setAngleInternal(this.a+
(this.w+this.w_bias)*$dt$$);this.w_bias=this.v_biasx=this.v_biasy=0;this.sanityCheck()};$Body$$.prototype.resetForces=function $$Body$$$$resetForces$(){this.activate();this.f=new $Vect$$(0,0);this.t=0};$Body$$.prototype.applyForce=function $$Body$$$$applyForce$($force$$,$r$$){this.activate();this.f=$vadd$$(this.f,$force$$);this.t+=$vcross$$($r$$,$force$$)};$Body$$.prototype.applyImpulse=function $$Body$$$$applyImpulse$($j$$,$r$$){this.activate();$apply_impulse$$(this,$j$$.x,$j$$.y,$r$$)};$Body$$.prototype.getVelAtPoint=
function $$Body$$$$getVelAtPoint$($r$$){return $vadd$$(new $Vect$$(this.vx,this.vy),$vmult$$($vperp$$($r$$),this.w))};$Body$$.prototype.getVelAtWorldPoint=function $$Body$$$$getVelAtWorldPoint$($point$$){return this.getVelAtPoint($vsub$$($point$$,this.p))};$Body$$.prototype.getVelAtLocalPoint=function $$Body$$$$getVelAtLocalPoint$($point$$){return this.getVelAtPoint($vrotate$$($point$$,this.rot))};$Body$$.prototype.eachShape=function $$Body$$$$eachShape$($func$$){for(var $i$$=0,$len$$=this.shapeList.length;$i$$<
$len$$;$i$$++)$func$$(this.shapeList[$i$$])};$Body$$.prototype.eachConstraint=function $$Body$$$$eachConstraint$($func$$){for(var $constraint$$=this.constraintList;$constraint$$;){var $next$$=$constraint$$.next(this);$func$$($constraint$$);$constraint$$=$next$$}};$Body$$.prototype.eachArbiter=function $$Body$$$$eachArbiter$($func$$){for(var $arb$$=this.arbiterList;$arb$$;){var $next$$=$arb$$.next(this);$arb$$.swappedColl=this===$arb$$.body_b;$func$$($arb$$);$arb$$=$next$$}};$Body$$.prototype.local2World=
function $$Body$$$$local2World$($v$$){return $vadd$$(this.p,$vrotate$$($v$$,this.rot))};$Body$$.prototype.world2Local=function $$Body$$$$world2Local$($v$$){return $vunrotate$$($vsub$$($v$$,this.p),this.rot)};$Body$$.prototype.kineticEnergy=function $$Body$$$$kineticEnergy$(){var $vsq$$=this.vx*this.vx+this.vy*this.vy,$wsq$$=this.w*this.w;return($vsq$$?$vsq$$*this.m:0)+($wsq$$?$wsq$$*this.i:0)};var $SpatialIndex$$=$cp$$.SpatialIndex=function $$cp$$$SpatialIndex$($staticIndex$$){if(this.staticIndex=
$staticIndex$$){if($staticIndex$$.dynamicIndex)throw Error("This static index is already associated with a dynamic index.");$staticIndex$$.dynamicIndex=this}};$SpatialIndex$$.prototype.collideStatic=function $$SpatialIndex$$$$collideStatic$($staticIndex$$,$func$$){if(0<$staticIndex$$.count){var $query$$=$staticIndex$$.query;this.each(function($obj$$){$query$$($obj$$,new $BB$$($obj$$.bb_l,$obj$$.bb_b,$obj$$.bb_r,$obj$$.bb_t),$func$$)})}};var $BBTree$$=$cp$$.BBTree=function $$cp$$$BBTree$($staticIndex$$){$SpatialIndex$$.call(this,
$staticIndex$$);this.velocityFunc=null;this.leaves={};this.count=0;this.pooledPairs=this.pooledNodes=this.root=null;this.stamp=0};$BBTree$$.prototype=Object.create($SpatialIndex$$.prototype);var $numNodes$$=0,$Node$$=function $$Node$$$($tree$$,$a$$,$b$$){this.obj=null;this.bb_l=$min$$0$$($a$$.bb_l,$b$$.bb_l);this.bb_b=$min$$0$$($a$$.bb_b,$b$$.bb_b);this.bb_r=$max$$0$$($a$$.bb_r,$b$$.bb_r);this.bb_t=$max$$0$$($a$$.bb_t,$b$$.bb_t);this.parent=null;this.setA($a$$);this.setB($b$$)};$BBTree$$.prototype.makeNode=
function $$BBTree$$$$makeNode$($a$$,$b$$){var $node$$=this.pooledNodes;if($node$$)return this.pooledNodes=$node$$.parent,$node$$.constructor(this,$a$$,$b$$),$node$$;$numNodes$$++;return new $Node$$(this,$a$$,$b$$)};var $numLeaves$$=0,$Leaf$$=function $$Leaf$$$($tree$$,$obj$$){this.obj=$obj$$;$tree$$.getBB($obj$$,this);this.parent=null;this.stamp=1;this.pairs=null;$numLeaves$$++};$BBTree$$.prototype.getBB=function $$BBTree$$$$getBB$($obj$$,$dest$$){var $v$$=this.velocityFunc;if($v$$){var $x$$=.1*($obj$$.bb_r-
$obj$$.bb_l),$y$$=.1*($obj$$.bb_t-$obj$$.bb_b),$v$$=$vmult$$($v$$($obj$$),.1);$dest$$.bb_l=$obj$$.bb_l+$min$$0$$(-$x$$,$v$$.x);$dest$$.bb_b=$obj$$.bb_b+$min$$0$$(-$y$$,$v$$.y);$dest$$.bb_r=$obj$$.bb_r+$max$$0$$($x$$,$v$$.x);$dest$$.bb_t=$obj$$.bb_t+$max$$0$$($y$$,$v$$.y)}else $dest$$.bb_l=$obj$$.bb_l,$dest$$.bb_b=$obj$$.bb_b,$dest$$.bb_r=$obj$$.bb_r,$dest$$.bb_t=$obj$$.bb_t};$BBTree$$.prototype.getStamp=function $$BBTree$$$$getStamp$(){var $dynamic$$=this.dynamicIndex;return $dynamic$$&&$dynamic$$.stamp?
$dynamic$$.stamp:this.stamp};$BBTree$$.prototype.incrementStamp=function $$BBTree$$$$incrementStamp$(){this.dynamicIndex&&this.dynamicIndex.stamp?this.dynamicIndex.stamp++:this.stamp++};var $numPairs$$=0,$Pair$$=function $$Pair$$$($leafA$$,$nextA$$,$leafB$$,$nextB$$){this.prevA=null;this.leafA=$leafA$$;this.nextA=$nextA$$;this.prevB=null;this.leafB=$leafB$$;this.nextB=$nextB$$};$BBTree$$.prototype.makePair=function $$BBTree$$$$makePair$($leafA$$,$nextA$$,$leafB$$,$nextB$$){var $pair$$=this.pooledPairs;
if($pair$$)return this.pooledPairs=$pair$$.prevA,$pair$$.prevA=null,$pair$$.leafA=$leafA$$,$pair$$.nextA=$nextA$$,$pair$$.prevB=null,$pair$$.leafB=$leafB$$,$pair$$.nextB=$nextB$$,$pair$$;$numPairs$$++;return new $Pair$$($leafA$$,$nextA$$,$leafB$$,$nextB$$)};$Pair$$.prototype.recycle=function $$Pair$$$$recycle$($tree$$){this.prevA=$tree$$.pooledPairs;$tree$$.pooledPairs=this};var $unlinkThread$$=function $$unlinkThread$$$($prev$$,$leaf$$,$next$$){$next$$&&($next$$.leafA===$leaf$$?$next$$.prevA=$prev$$:
$next$$.prevB=$prev$$);$prev$$?$prev$$.leafA===$leaf$$?$prev$$.nextA=$next$$:$prev$$.nextB=$next$$:$leaf$$.pairs=$next$$};$Leaf$$.prototype.clearPairs=function $$Leaf$$$$clearPairs$($tree$$){var $pair$$=this.pairs,$next$$;for(this.pairs=null;$pair$$;)$pair$$.leafA===this?($next$$=$pair$$.nextA,$unlinkThread$$($pair$$.prevB,$pair$$.leafB,$pair$$.nextB)):($next$$=$pair$$.nextB,$unlinkThread$$($pair$$.prevA,$pair$$.leafA,$pair$$.nextA)),$pair$$.recycle($tree$$),$pair$$=$next$$};var $pairInsert$$=function $$pairInsert$$$($a$$,
$b$$,$pair$$4_tree$$){var $nextA$$=$a$$.pairs,$nextB$$=$b$$.pairs;$pair$$4_tree$$=$pair$$4_tree$$.makePair($a$$,$nextA$$,$b$$,$nextB$$);$a$$.pairs=$b$$.pairs=$pair$$4_tree$$;$nextA$$&&($nextA$$.leafA===$a$$?$nextA$$.prevA=$pair$$4_tree$$:$nextA$$.prevB=$pair$$4_tree$$);$nextB$$&&($nextB$$.leafA===$b$$?$nextB$$.prevA=$pair$$4_tree$$:$nextB$$.prevB=$pair$$4_tree$$)};$Node$$.prototype.recycle=function $$Node$$$$recycle$($tree$$){this.parent=$tree$$.pooledNodes;$tree$$.pooledNodes=this};$Leaf$$.prototype.recycle=
function $$Leaf$$$$recycle$($tree$$){};$Node$$.prototype.setA=function $$Node$$$$setA$($value$$){this.A=$value$$;$value$$.parent=this};$Node$$.prototype.setB=function $$Node$$$$setB$($value$$){this.B=$value$$;$value$$.parent=this};$Leaf$$.prototype.isLeaf=!0;$Node$$.prototype.isLeaf=!1;$Node$$.prototype.otherChild=function $$Node$$$$otherChild$($child$$){return this.A==$child$$?this.B:this.A};$Node$$.prototype.replaceChild=function $$Node$$$$replaceChild$($child$$88_node$$,$a$$523_value$$,$b$$374_tree$$){$assertSoft$$($child$$88_node$$==
this.A||$child$$88_node$$==this.B,"Node is not a child of parent.");this.A==$child$$88_node$$?(this.A.recycle($b$$374_tree$$),this.setA($a$$523_value$$)):(this.B.recycle($b$$374_tree$$),this.setB($a$$523_value$$));for($child$$88_node$$=this;$child$$88_node$$;$child$$88_node$$=$child$$88_node$$.parent)$a$$523_value$$=$child$$88_node$$.A,$b$$374_tree$$=$child$$88_node$$.B,$child$$88_node$$.bb_l=$min$$0$$($a$$523_value$$.bb_l,$b$$374_tree$$.bb_l),$child$$88_node$$.bb_b=$min$$0$$($a$$523_value$$.bb_b,
$b$$374_tree$$.bb_b),$child$$88_node$$.bb_r=$max$$0$$($a$$523_value$$.bb_r,$b$$374_tree$$.bb_r),$child$$88_node$$.bb_t=$max$$0$$($a$$523_value$$.bb_t,$b$$374_tree$$.bb_t)};$Node$$.prototype.bbArea=$Leaf$$.prototype.bbArea=function $$Leaf$$$$bbArea$(){return(this.bb_r-this.bb_l)*(this.bb_t-this.bb_b)};var $bbTreeMergedArea$$=function $$bbTreeMergedArea$$$($a$$,$b$$){return($max$$0$$($a$$.bb_r,$b$$.bb_r)-$min$$0$$($a$$.bb_l,$b$$.bb_l))*($max$$0$$($a$$.bb_t,$b$$.bb_t)-$min$$0$$($a$$.bb_b,$b$$.bb_b))},
$bbProximity$$=function $$bbProximity$$$($a$$,$b$$){return Math.abs($a$$.bb_l+$a$$.bb_r-$b$$.bb_l-$b$$.bb_r)+Math.abs($a$$.bb_b+$a$$.bb_t-$b$$.bb_b-$b$$.bb_t)},$subtreeInsert$$=function $$subtreeInsert$$$($subtree$$,$leaf$$,$tree$$){if(null==$subtree$$)return $leaf$$;if($subtree$$.isLeaf)return $tree$$.makeNode($leaf$$,$subtree$$);var $cost_a$$=$subtree$$.B.bbArea()+$bbTreeMergedArea$$($subtree$$.A,$leaf$$),$cost_b$$=$subtree$$.A.bbArea()+$bbTreeMergedArea$$($subtree$$.B,$leaf$$);$cost_a$$===$cost_b$$&&
($cost_a$$=$bbProximity$$($subtree$$.A,$leaf$$),$cost_b$$=$bbProximity$$($subtree$$.B,$leaf$$));$cost_b$$<$cost_a$$?$subtree$$.setB($subtreeInsert$$($subtree$$.B,$leaf$$,$tree$$)):$subtree$$.setA($subtreeInsert$$($subtree$$.A,$leaf$$,$tree$$));$subtree$$.bb_l=$min$$0$$($subtree$$.bb_l,$leaf$$.bb_l);$subtree$$.bb_b=$min$$0$$($subtree$$.bb_b,$leaf$$.bb_b);$subtree$$.bb_r=$max$$0$$($subtree$$.bb_r,$leaf$$.bb_r);$subtree$$.bb_t=$max$$0$$($subtree$$.bb_t,$leaf$$.bb_t);return $subtree$$};$Node$$.prototype.intersectsBB=
$Leaf$$.prototype.intersectsBB=function $$Leaf$$$$intersectsBB$($bb$$){return this.bb_l<=$bb$$.r&&$bb$$.l<=this.bb_r&&this.bb_b<=$bb$$.t&&$bb$$.b<=this.bb_t};var $subtreeQuery$$=function $$subtreeQuery$$$($subtree$$,$bb$$,$func$$){$subtree$$.intersectsBB($bb$$)&&($subtree$$.isLeaf?$func$$($subtree$$.obj):($subtreeQuery$$($subtree$$.A,$bb$$,$func$$),$subtreeQuery$$($subtree$$.B,$bb$$,$func$$)))},$nodeSegmentQuery$$=function $$nodeSegmentQuery$$$($node$$,$a$$,$b$$){var $idx$$=1/($b$$.x-$a$$.x),$tx1_txmax$$=
$node$$.bb_l==$a$$.x?-Infinity:($node$$.bb_l-$a$$.x)*$idx$$,$idy_tx2$$=$node$$.bb_r==$a$$.x?Infinity:($node$$.bb_r-$a$$.x)*$idx$$,$idx$$=$min$$0$$($tx1_txmax$$,$idy_tx2$$),$tx1_txmax$$=$max$$0$$($tx1_txmax$$,$idy_tx2$$),$idy_tx2$$=1/($b$$.y-$a$$.y);$b$$=$node$$.bb_b==$a$$.y?-Infinity:($node$$.bb_b-$a$$.y)*$idy_tx2$$;$a$$=$node$$.bb_t==$a$$.y?Infinity:($node$$.bb_t-$a$$.y)*$idy_tx2$$;$node$$=$min$$0$$($b$$,$a$$);$a$$=$max$$0$$($b$$,$a$$);return $node$$<=$tx1_txmax$$&&$idx$$<=$a$$&&($idx$$=$max$$0$$($idx$$,
$node$$),0<=$min$$0$$($tx1_txmax$$,$a$$)&&1>=$idx$$)?$max$$0$$($idx$$,0):Infinity},$subtreeSegmentQuery$$=function $$subtreeSegmentQuery$$$($subtree$$,$a$$,$b$$,$t_exit$$,$func$$){if($subtree$$.isLeaf)return $func$$($subtree$$.obj);var $t_a$$=$nodeSegmentQuery$$($subtree$$.A,$a$$,$b$$),$t_b$$=$nodeSegmentQuery$$($subtree$$.B,$a$$,$b$$);$t_a$$<$t_b$$?($t_a$$<$t_exit$$&&($t_exit$$=$min$$0$$($t_exit$$,$subtreeSegmentQuery$$($subtree$$.A,$a$$,$b$$,$t_exit$$,$func$$))),$t_b$$<$t_exit$$&&($t_exit$$=$min$$0$$($t_exit$$,
$subtreeSegmentQuery$$($subtree$$.B,$a$$,$b$$,$t_exit$$,$func$$)))):($t_b$$<$t_exit$$&&($t_exit$$=$min$$0$$($t_exit$$,$subtreeSegmentQuery$$($subtree$$.B,$a$$,$b$$,$t_exit$$,$func$$))),$t_a$$<$t_exit$$&&($t_exit$$=$min$$0$$($t_exit$$,$subtreeSegmentQuery$$($subtree$$.A,$a$$,$b$$,$t_exit$$,$func$$))));return $t_exit$$};$BBTree$$.prototype.subtreeRecycle=function $$BBTree$$$$subtreeRecycle$($node$$){$node$$.isLeaf&&(this.subtreeRecycle($node$$.A),this.subtreeRecycle($node$$.B),$node$$.recycle(this))};
var $subtreeRemove$$=function $$subtreeRemove$$$($subtree$$,$leaf$$4_other$$,$tree$$){if($leaf$$4_other$$==$subtree$$)return null;var $parent$$=$leaf$$4_other$$.parent;if($parent$$==$subtree$$)return $leaf$$4_other$$=$subtree$$.otherChild($leaf$$4_other$$),$leaf$$4_other$$.parent=$subtree$$.parent,$subtree$$.recycle($tree$$),$leaf$$4_other$$;$parent$$.parent.replaceChild($parent$$,$parent$$.otherChild($leaf$$4_other$$),$tree$$);return $subtree$$},$bbTreeIntersectsNode$$=function $$bbTreeIntersectsNode$$$($a$$,
$b$$){return $a$$.bb_l<=$b$$.bb_r&&$b$$.bb_l<=$a$$.bb_r&&$a$$.bb_b<=$b$$.bb_t&&$b$$.bb_b<=$a$$.bb_t};$Leaf$$.prototype.markLeafQuery=function $$Leaf$$$$markLeafQuery$($leaf$$,$left$$,$tree$$,$func$$){$bbTreeIntersectsNode$$($leaf$$,this)&&($left$$?$pairInsert$$($leaf$$,this,$tree$$):(this.stamp<$leaf$$.stamp&&$pairInsert$$(this,$leaf$$,$tree$$),$func$$&&$func$$($leaf$$.obj,this.obj)))};$Node$$.prototype.markLeafQuery=function $$Node$$$$markLeafQuery$($leaf$$,$left$$,$tree$$,$func$$){$bbTreeIntersectsNode$$($leaf$$,
this)&&(this.A.markLeafQuery($leaf$$,$left$$,$tree$$,$func$$),this.B.markLeafQuery($leaf$$,$left$$,$tree$$,$func$$))};$Leaf$$.prototype.markSubtree=function $$Leaf$$$$markSubtree$($pair$$5_tree$$,$node$$,$func$$){if(this.stamp==$pair$$5_tree$$.getStamp())for($node$$&&$node$$.markLeafQuery(this,!1,$pair$$5_tree$$,$func$$),$node$$=this;$node$$.parent;$node$$=$node$$.parent)$node$$==$node$$.parent.A?$node$$.parent.B.markLeafQuery(this,!0,$pair$$5_tree$$,$func$$):$node$$.parent.A.markLeafQuery(this,!1,
$pair$$5_tree$$,$func$$);else for($pair$$5_tree$$=this.pairs;$pair$$5_tree$$;)this===$pair$$5_tree$$.leafB?($func$$&&$func$$($pair$$5_tree$$.leafA.obj,this.obj),$pair$$5_tree$$=$pair$$5_tree$$.nextB):$pair$$5_tree$$=$pair$$5_tree$$.nextA};$Node$$.prototype.markSubtree=function $$Node$$$$markSubtree$($tree$$,$staticRoot$$,$func$$){this.A.markSubtree($tree$$,$staticRoot$$,$func$$);this.B.markSubtree($tree$$,$staticRoot$$,$func$$)};$Leaf$$.prototype.containsObj=function $$Leaf$$$$containsObj$($obj$$){return this.bb_l<=
$obj$$.bb_l&&this.bb_r>=$obj$$.bb_r&&this.bb_b<=$obj$$.bb_b&&this.bb_t>=$obj$$.bb_t};$Leaf$$.prototype.update=function $$Leaf$$$$update$($tree$$){var $root$$=$tree$$.root;return this.containsObj(this.obj)?!1:($tree$$.getBB(this.obj,this),$root$$=$subtreeRemove$$($root$$,this,$tree$$),$tree$$.root=$subtreeInsert$$($root$$,this,$tree$$),this.clearPairs($tree$$),this.stamp=$tree$$.getStamp(),!0)};$Leaf$$.prototype.addPairs=function $$Leaf$$$$addPairs$($dynamicRoot_tree$$){var $dynamicIndex$$=$dynamicRoot_tree$$.dynamicIndex;
$dynamicIndex$$?($dynamicRoot_tree$$=$dynamicIndex$$.root)&&$dynamicRoot_tree$$.markLeafQuery(this,!0,$dynamicIndex$$,null):this.markSubtree($dynamicRoot_tree$$,$dynamicRoot_tree$$.staticIndex.root,null)};$BBTree$$.prototype.insert=function $$BBTree$$$$insert$($obj$$,$hashid$$){var $leaf$$=new $Leaf$$(this,$obj$$);this.leaves[$hashid$$]=$leaf$$;this.root=$subtreeInsert$$(this.root,$leaf$$,this);this.count++;$leaf$$.stamp=this.getStamp();$leaf$$.addPairs(this);this.incrementStamp()};$BBTree$$.prototype.remove=
function $$BBTree$$$$remove$($obj$$,$hashid$$){var $leaf$$=this.leaves[$hashid$$];delete this.leaves[$hashid$$];this.root=$subtreeRemove$$(this.root,$leaf$$,this);this.count--;$leaf$$.clearPairs(this);$leaf$$.recycle(this)};$BBTree$$.prototype.contains=function $$BBTree$$$$contains$($obj$$,$hashid$$){return null!=this.leaves[$hashid$$]};var $voidQueryFunc$$=function $$voidQueryFunc$$$($obj1$$,$obj2$$){};$BBTree$$.prototype.reindexQuery=function $$BBTree$$$$reindexQuery$($func$$){if(this.root){var $hashid$$3_staticIndex$$,
$leaves_staticRoot$$=this.leaves;for($hashid$$3_staticIndex$$ in $leaves_staticRoot$$)$leaves_staticRoot$$[$hashid$$3_staticIndex$$].update(this);$leaves_staticRoot$$=($hashid$$3_staticIndex$$=this.staticIndex)&&$hashid$$3_staticIndex$$.root;this.root.markSubtree(this,$leaves_staticRoot$$,$func$$);$hashid$$3_staticIndex$$&&!$leaves_staticRoot$$&&this.collideStatic(this,$hashid$$3_staticIndex$$,$func$$);this.incrementStamp()}};$BBTree$$.prototype.reindex=function $$BBTree$$$$reindex$(){this.reindexQuery($voidQueryFunc$$)};
$BBTree$$.prototype.reindexObject=function $$BBTree$$$$reindexObject$($obj$$,$hashid$$){var $leaf$$=this.leaves[$hashid$$];$leaf$$&&($leaf$$.update(this)&&$leaf$$.addPairs(this),this.incrementStamp())};$BBTree$$.prototype.pointQuery=function $$BBTree$$$$pointQuery$($point$$,$func$$){this.query(new $BB$$($point$$.x,$point$$.y,$point$$.x,$point$$.y),$func$$)};$BBTree$$.prototype.segmentQuery=function $$BBTree$$$$segmentQuery$($a$$,$b$$,$t_exit$$,$func$$){this.root&&$subtreeSegmentQuery$$(this.root,
$a$$,$b$$,$t_exit$$,$func$$)};$BBTree$$.prototype.query=function $$BBTree$$$$query$($bb$$,$func$$){this.root&&$subtreeQuery$$(this.root,$bb$$,$func$$)};$BBTree$$.prototype.count=function $$BBTree$$$$count$(){return this.count};$BBTree$$.prototype.each=function $$BBTree$$$$each$($func$$){for(var $hashid$$ in this.leaves)$func$$(this.leaves[$hashid$$].obj)};var $bbTreeMergedArea2$$=function $$bbTreeMergedArea2$$$($node$$,$l$$,$b$$,$r$$,$t$$){return($max$$0$$($node$$.bb_r,$r$$)-$min$$0$$($node$$.bb_l,
$l$$))*($max$$0$$($node$$.bb_t,$t$$)-$min$$0$$($node$$.bb_b,$b$$))},$partitionNodes$$=function $$partitionNodes$$$($tree$$,$nodes$$,$offset$$,$count$$){if(1==$count$$)return $nodes$$[$offset$$];if(2==$count$$)return $tree$$.makeNode($nodes$$[$offset$$],$nodes$$[$offset$$+1]);for(var $node$$=$nodes$$[$offset$$],$b_l_bb_l$$=$node$$.bb_l,$b_b_bb_b$$=$node$$.bb_b,$b_r_bb_r$$=$node$$.bb_r,$b_t_bb_t$$=$node$$.bb_t,$end$$=$offset$$+$count$$,$a_l_i$$=$offset$$+1;$a_l_i$$<$end$$;$a_l_i$$++)$node$$=$nodes$$[$a_l_i$$],
$b_l_bb_l$$=$min$$0$$($b_l_bb_l$$,$node$$.bb_l),$b_b_bb_b$$=$min$$0$$($b_b_bb_b$$,$node$$.bb_b),$b_r_bb_r$$=$max$$0$$($b_r_bb_r$$,$node$$.bb_r),$b_t_bb_t$$=$max$$0$$($b_t_bb_t$$,$node$$.bb_t);var $node$$=$b_r_bb_r$$-$b_l_bb_l$$>$b_t_bb_t$$-$b_b_bb_b$$,$a_b_bounds$$=Array(2*$count$$);if($node$$)for($a_l_i$$=$offset$$;$a_l_i$$<$end$$;$a_l_i$$++)$a_b_bounds$$[2*$a_l_i$$+0]=$nodes$$[$a_l_i$$].bb_l,$a_b_bounds$$[2*$a_l_i$$+1]=$nodes$$[$a_l_i$$].bb_r;else for($a_l_i$$=$offset$$;$a_l_i$$<$end$$;$a_l_i$$++)$a_b_bounds$$[2*
$a_l_i$$+0]=$nodes$$[$a_l_i$$].bb_b,$a_b_bounds$$[2*$a_l_i$$+1]=$nodes$$[$a_l_i$$].bb_t;$a_b_bounds$$.sort(function($a$$,$b$$){return $a$$-$b$$});var $right$$12_split$$=.5*($a_b_bounds$$[$count$$-1]+$a_b_bounds$$[$count$$]),$a_l_i$$=$b_l_bb_l$$,$a_b_bounds$$=$b_b_bb_b$$,$a_r$$=$b_r_bb_r$$,$a_t$$=$b_t_bb_t$$;$node$$?$a_r$$=$b_l_bb_l$$=$right$$12_split$$:$a_t$$=$b_b_bb_b$$=$right$$12_split$$;for(var $right$$12_split$$=$end$$,$left$$=$offset$$;$left$$<$right$$12_split$$;)$node$$=$nodes$$[$left$$],$bbTreeMergedArea2$$($node$$,
$b_l_bb_l$$,$b_b_bb_b$$,$b_r_bb_r$$,$b_t_bb_t$$)<$bbTreeMergedArea2$$($node$$,$a_l_i$$,$a_b_bounds$$,$a_r$$,$a_t$$)?($right$$12_split$$--,$nodes$$[$left$$]=$nodes$$[$right$$12_split$$],$nodes$$[$right$$12_split$$]=$node$$):$left$$++;if($right$$12_split$$==$count$$){$node$$=null;for($a_l_i$$=$offset$$;$a_l_i$$<$end$$;$a_l_i$$++)$node$$=$subtreeInsert$$($node$$,$nodes$$[$a_l_i$$],$tree$$);return $node$$}return NodeNew($tree$$,$partitionNodes$$($tree$$,$nodes$$,$offset$$,$right$$12_split$$-$offset$$),
$partitionNodes$$($tree$$,$nodes$$,$right$$12_split$$,$end$$-$right$$12_split$$))};$BBTree$$.prototype.optimize=function $$BBTree$$$$optimize$(){var $nodes$$=Array(this.count),$i$$=0,$hashid$$;for($hashid$$ in this.leaves)$nodes$$[$i$$++]=this.nodes[$hashid$$];tree.subtreeRecycle(root);this.root=$partitionNodes$$(tree,$nodes$$,$nodes$$.length)};var $nodeRender$$=function $$nodeRender$$$($node$$,$depth$$){!$node$$.isLeaf&&10>=$depth$$&&($nodeRender$$($node$$.A,$depth$$+1),$nodeRender$$($node$$.B,$depth$$+
1));for(var $str$$="",$i$$=0;$i$$<$depth$$;$i$$++)$str$$+=" ";console.log($str$$+$node$$.bb_b+" "+$node$$.bb_t)};$BBTree$$.prototype.log=function $$BBTree$$$$log$(){this.root&&$nodeRender$$(this.root,0)};var $CollisionHandler$$=$cp$$.CollisionHandler=function $$cp$$$CollisionHandler$(){this.a=this.b=0};$CollisionHandler$$.prototype.begin=function $$CollisionHandler$$$$begin$($arb$$,$space$$){return!0};$CollisionHandler$$.prototype.preSolve=function $$CollisionHandler$$$$preSolve$($arb$$,$space$$){return!0};
$CollisionHandler$$.prototype.postSolve=function $$CollisionHandler$$$$postSolve$($arb$$,$space$$){};$CollisionHandler$$.prototype.separate=function $$CollisionHandler$$$$separate$($arb$$,$space$$){};var $Arbiter$$=function $$Arbiter$$$($a$$,$b$$){this.u=this.e=0;this.surface_vr=$vzero$$;this.a=$a$$;this.body_a=$a$$.body;this.b=$b$$;this.body_b=$b$$.body;this.contacts=this.thread_b_next=this.thread_b_prev=this.thread_a_next=this.thread_a_prev=null;this.stamp=0;this.handler=null;this.swappedColl=!1;
this.state="first coll"};$Arbiter$$.prototype.getShapes=function $$Arbiter$$$$getShapes$(){return this.swappedColl?[this.b,this.a]:[this.a,this.b]};$Arbiter$$.prototype.totalImpulse=function $$Arbiter$$$$totalImpulse$(){for(var $contacts$$=this.contacts,$sum$$=new $Vect$$(0,0),$i$$=0,$count$$=$contacts$$.length;$i$$<$count$$;$i$$++){var $con$$=$contacts$$[$i$$];$sum$$.add($vmult$$($con$$.n,$con$$.jnAcc))}return this.swappedColl?$sum$$:$sum$$.neg()};$Arbiter$$.prototype.totalImpulseWithFriction=function $$Arbiter$$$$totalImpulseWithFriction$(){for(var $contacts$$=
this.contacts,$sum$$=new $Vect$$(0,0),$i$$=0,$count$$=$contacts$$.length;$i$$<$count$$;$i$$++){var $con$$=$contacts$$[$i$$];$sum$$.add((new $Vect$$($con$$.jnAcc,$con$$.jtAcc)).rotate($con$$.n))}return this.swappedColl?$sum$$:$sum$$.neg()};$Arbiter$$.prototype.totalKE=function $$Arbiter$$$$totalKE$(){for(var $eCoef$$=(1-this.e)/(1+this.e),$sum$$=0,$contacts$$=this.contacts,$i$$=0,$count$$=$contacts$$.length;$i$$<$count$$;$i$$++)var $con$$=$contacts$$[$i$$],$jnAcc$$=$con$$.jnAcc,$jtAcc$$=$con$$.jtAcc,
$sum$$=$sum$$+($eCoef$$*$jnAcc$$*$jnAcc$$/$con$$.nMass+$jtAcc$$*$jtAcc$$/$con$$.tMass);return $sum$$};$Arbiter$$.prototype.ignore=function $$Arbiter$$$$ignore$(){this.state="ignore"};$Arbiter$$.prototype.getA=function $$Arbiter$$$$getA$(){return this.swappedColl?this.b:this.a};$Arbiter$$.prototype.getB=function $$Arbiter$$$$getB$(){return this.swappedColl?this.a:this.b};$Arbiter$$.prototype.isFirstContact=function $$Arbiter$$$$isFirstContact$(){return"first coll"===this.state};var $ContactPoint$$=
function $$ContactPoint$$$($point$$,$normal$$,$dist$$){this.point=$point$$;this.normal=$normal$$;this.dist=$dist$$};$Arbiter$$.prototype.getContactPointSet=function $$Arbiter$$$$getContactPointSet$(){var $set$$=Array(this.contacts.length),$i$$;for($i$$=0;$i$$<$set$$.length;$i$$++)$set$$[$i$$]=new $ContactPoint$$(this.contacts[$i$$].p,this.contacts[$i$$].n,this.contacts[$i$$].dist);return $set$$};$Arbiter$$.prototype.getNormal=function $$Arbiter$$$$getNormal$($i$$632_n$$){$i$$632_n$$=this.contacts[$i$$632_n$$].n;
return this.swappedColl?$vneg$$($i$$632_n$$):$i$$632_n$$};$Arbiter$$.prototype.getPoint=function $$Arbiter$$$$getPoint$($i$$){return this.contacts[$i$$].p};$Arbiter$$.prototype.getDepth=function $$Arbiter$$$$getDepth$($i$$){return this.contacts[$i$$].dist};var $unthreadHelper$$=function $$unthreadHelper$$$($arb$$,$body$$,$prev$$,$next$$){$prev$$?$prev$$.body_a===$body$$?$prev$$.thread_a_next=$next$$:$prev$$.thread_b_next=$next$$:$body$$.arbiterList=$next$$;$next$$&&($next$$.body_a===$body$$?$next$$.thread_a_prev=
$prev$$:$next$$.thread_b_prev=$prev$$)};$Arbiter$$.prototype.unthread=function $$Arbiter$$$$unthread$(){$unthreadHelper$$(this,this.body_a,this.thread_a_prev,this.thread_a_next);$unthreadHelper$$(this,this.body_b,this.thread_b_prev,this.thread_b_next);this.thread_b_prev=this.thread_b_next=this.thread_a_prev=this.thread_a_next=null};$Arbiter$$.prototype.update=function $$Arbiter$$$$update$($contacts$$,$handler$$,$a$$,$b$$){if(this.contacts)for(var $i$$=0;$i$$<this.contacts.length;$i$$++)for(var $old$$=
this.contacts[$i$$],$j$$=0;$j$$<$contacts$$.length;$j$$++){var $new_contact$$=$contacts$$[$j$$];$new_contact$$.hash===$old$$.hash&&($new_contact$$.jnAcc=$old$$.jnAcc,$new_contact$$.jtAcc=$old$$.jtAcc)}this.contacts=$contacts$$;this.handler=$handler$$;this.swappedColl=$a$$.collision_type!==$handler$$.a;this.e=$a$$.e*$b$$.e;this.u=$a$$.u*$b$$.u;this.surface_vr=$vsub$$($a$$.surface_v,$b$$.surface_v);this.a=$a$$;this.body_a=$a$$.body;this.b=$b$$;this.body_b=$b$$.body;"cached"==this.state&&(this.state=
"first coll")};$Arbiter$$.prototype.preStep=function $$Arbiter$$$$preStep$($dt$$,$slop$$,$bias$$){for(var $a$$=this.body_a,$b$$=this.body_b,$i$$=0;$i$$<this.contacts.length;$i$$++){var $con$$=this.contacts[$i$$];$con$$.r1=$vsub$$($con$$.p,$a$$.p);$con$$.r2=$vsub$$($con$$.p,$b$$.p);$con$$.nMass=1/$k_scalar$$($a$$,$b$$,$con$$.r1,$con$$.r2,$con$$.n);$con$$.tMass=1/$k_scalar$$($a$$,$b$$,$con$$.r1,$con$$.r2,$vperp$$($con$$.n));$con$$.bias=-$bias$$*$min$$0$$(0,$con$$.dist+$slop$$)/$dt$$;$con$$.jBias=0;
$con$$.bounce=$normal_relative_velocity$$($a$$,$b$$,$con$$.r1,$con$$.r2,$con$$.n)*this.e}};$Arbiter$$.prototype.applyCachedImpulse=function $$Arbiter$$$$applyCachedImpulse$($dt_coef$$){if(!this.isFirstContact())for(var $a$$=this.body_a,$b$$=this.body_b,$i$$=0;$i$$<this.contacts.length;$i$$++){var $con$$=this.contacts[$i$$],$nx$$=$con$$.n.x,$ny$$=$con$$.n.y;$apply_impulses$$($a$$,$b$$,$con$$.r1,$con$$.r2,($nx$$*$con$$.jnAcc-$ny$$*$con$$.jtAcc)*$dt_coef$$,($nx$$*$con$$.jtAcc+$ny$$*$con$$.jnAcc)*$dt_coef$$)}};
var $numApplyImpulse$$=0,$numApplyContact$$=0;$Arbiter$$.prototype.applyImpulse=function $$Arbiter$$$$applyImpulse$(){$numApplyImpulse$$++;for(var $a$$=this.body_a,$b$$=this.body_b,$surface_vr$$=this.surface_vr,$friction$$=this.u,$i$$=0;$i$$<this.contacts.length;$i$$++){$numApplyContact$$++;var $con$$=this.contacts[$i$$],$jtOld_nMass$$=$con$$.nMass,$n$$=$con$$.n,$r1$$=$con$$.r1,$r2$$=$con$$.r2,$jnOld_rot_x_vrx$$=$b$$.vx-$r2$$.y*$b$$.w-($a$$.vx-$r1$$.y*$a$$.w),$bias_y_jbnOld_vry$$=$b$$.vy+$r2$$.x*
$b$$.w-($a$$.vy+$r1$$.x*$a$$.w),$bias_x_jtMax_vrn$$=$jnOld_rot_x_vrx$$*$n$$.x+$bias_y_jbnOld_vry$$*$n$$.y,$vrt$$=($jnOld_rot_x_vrx$$+$surface_vr$$.x)*-$n$$.y+($bias_y_jbnOld_vry$$+$surface_vr$$.y)*$n$$.x,$bias_y_jbnOld_vry$$=$con$$.jBias;$con$$.jBias=$max$$0$$($bias_y_jbnOld_vry$$+($con$$.bias-($n$$.x*($b$$.v_biasx-$r2$$.y*$b$$.w_bias-$a$$.v_biasx+$r1$$.y*$a$$.w_bias)+$n$$.y*($r2$$.x*$b$$.w_bias+$b$$.v_biasy-$r1$$.x*$a$$.w_bias-$a$$.v_biasy)))*$jtOld_nMass$$,0);$jnOld_rot_x_vrx$$=$con$$.jnAcc;$con$$.jnAcc=
$max$$0$$($jnOld_rot_x_vrx$$+-($con$$.bounce+$bias_x_jtMax_vrn$$)*$jtOld_nMass$$,0);$bias_x_jtMax_vrn$$=$friction$$*$con$$.jnAcc;$jtOld_nMass$$=$con$$.jtAcc;$con$$.jtAcc=$clamp$$($jtOld_nMass$$+-$vrt$$*$con$$.tMass,-$bias_x_jtMax_vrn$$,$bias_x_jtMax_vrn$$);$bias_x_jtMax_vrn$$=$n$$.x*($con$$.jBias-$bias_y_jbnOld_vry$$);$bias_y_jbnOld_vry$$=$n$$.y*($con$$.jBias-$bias_y_jbnOld_vry$$);$apply_bias_impulse$$($a$$,-$bias_x_jtMax_vrn$$,-$bias_y_jbnOld_vry$$,$r1$$);$apply_bias_impulse$$($b$$,$bias_x_jtMax_vrn$$,
$bias_y_jbnOld_vry$$,$r2$$);$jnOld_rot_x_vrx$$=$con$$.jnAcc-$jnOld_rot_x_vrx$$;$con$$=$con$$.jtAcc-$jtOld_nMass$$;$apply_impulses$$($a$$,$b$$,$r1$$,$r2$$,$n$$.x*$jnOld_rot_x_vrx$$-$n$$.y*$con$$,$n$$.x*$con$$+$n$$.y*$jnOld_rot_x_vrx$$)}};$Arbiter$$.prototype.callSeparate=function $$Arbiter$$$$callSeparate$($space$$){$space$$.lookupHandler(this.a.collision_type,this.b.collision_type).separate(this,$space$$)};$Arbiter$$.prototype.next=function $$Arbiter$$$$next$($body$$){return this.body_a==$body$$?
this.thread_a_next:this.thread_b_next};var $numContacts$$=0,$Contact$$=function $$Contact$$$($p$$,$n$$,$dist$$,$hash$$){this.p=$p$$;this.n=$n$$;this.dist=$dist$$;this.r1=this.r2=$vzero$$;this.jnAcc=this.jtAcc=this.jBias=this.nMass=this.tMass=this.bounce=this.bias=0;this.hash=$hash$$;$numContacts$$++},$NONE$$=[],$circle2circleQuery$$=function $$circle2circleQuery$$$($p1$$,$delta$$13_p2$$,$r1$$,$mindist_r2$$){$mindist_r2$$=$r1$$+$mindist_r2$$;$delta$$13_p2$$=$vsub$$($delta$$13_p2$$,$p1$$);var $dist$$=
$vlengthsq$$($delta$$13_p2$$);if(!($dist$$>=$mindist_r2$$*$mindist_r2$$))return $dist$$=Math.sqrt($dist$$),new $Contact$$($vadd$$($p1$$,$vmult$$($delta$$13_p2$$,.5+($r1$$-.5*$mindist_r2$$)/($dist$$?$dist$$:Infinity))),$dist$$?$vmult$$($delta$$13_p2$$,1/$dist$$):new $Vect$$(1,0),$dist$$-$mindist_r2$$,0)},$last_MSA_min$$=0,$findMSA$$=function $$findMSA$$$($poly$$,$planes$$){var $min_index$$=0,$min$$=$poly$$.valueOnAxis($planes$$[0].n,$planes$$[0].d);if(0<$min$$)return-1;for(var $i$$=1;$i$$<$planes$$.length;$i$$++){var $dist$$=
$poly$$.valueOnAxis($planes$$[$i$$].n,$planes$$[$i$$].d);if(0<$dist$$)return-1;$dist$$>$min$$&&($min$$=$dist$$,$min_index$$=$i$$)}$last_MSA_min$$=$min$$;return $min_index$$},$findVerts$$=function $$findVerts$$$($JSCompiler_temp$$6_poly1$$,$poly2$$,$n$$,$dist$$){for(var $arr$$25_arr$$=[],$verts1$$1_verts1$$inline_52_verts2$$1_verts2$$=$JSCompiler_temp$$6_poly1$$.tVerts,$i$$641_i$$=0;$i$$641_i$$<$verts1$$1_verts1$$inline_52_verts2$$1_verts2$$.length;$i$$641_i$$+=2){var $vx$$6_vx$$=$verts1$$1_verts1$$inline_52_verts2$$1_verts2$$[$i$$641_i$$],
$vy$$6_vy$$=$verts1$$1_verts1$$inline_52_verts2$$1_verts2$$[$i$$641_i$$+1];$poly2$$.containsVert($vx$$6_vx$$,$vy$$6_vy$$)&&$arr$$25_arr$$.push(new $Contact$$(new $Vect$$($vx$$6_vx$$,$vy$$6_vy$$),$n$$,$dist$$,$hashPair$$($JSCompiler_temp$$6_poly1$$.hashid,$i$$641_i$$>>1)))}$verts1$$1_verts1$$inline_52_verts2$$1_verts2$$=$poly2$$.tVerts;for($i$$641_i$$=0;$i$$641_i$$<$verts1$$1_verts1$$inline_52_verts2$$1_verts2$$.length;$i$$641_i$$+=2)$vx$$6_vx$$=$verts1$$1_verts1$$inline_52_verts2$$1_verts2$$[$i$$641_i$$],
$vy$$6_vy$$=$verts1$$1_verts1$$inline_52_verts2$$1_verts2$$[$i$$641_i$$+1],$JSCompiler_temp$$6_poly1$$.containsVert($vx$$6_vx$$,$vy$$6_vy$$)&&$arr$$25_arr$$.push(new $Contact$$(new $Vect$$($vx$$6_vx$$,$vy$$6_vy$$),$n$$,$dist$$,$hashPair$$($poly2$$.hashid,$i$$641_i$$>>1)));if(!$arr$$25_arr$$.length){$arr$$25_arr$$=[];$verts1$$1_verts1$$inline_52_verts2$$1_verts2$$=$JSCompiler_temp$$6_poly1$$.tVerts;for($i$$641_i$$=0;$i$$641_i$$<$verts1$$1_verts1$$inline_52_verts2$$1_verts2$$.length;$i$$641_i$$+=2)$vx$$6_vx$$=
$verts1$$1_verts1$$inline_52_verts2$$1_verts2$$[$i$$641_i$$],$vy$$6_vy$$=$verts1$$1_verts1$$inline_52_verts2$$1_verts2$$[$i$$641_i$$+1],$poly2$$.containsVertPartial($vx$$6_vx$$,$vy$$6_vy$$,$vneg$$($n$$))&&$arr$$25_arr$$.push(new $Contact$$(new $Vect$$($vx$$6_vx$$,$vy$$6_vy$$),$n$$,$dist$$,$hashPair$$($JSCompiler_temp$$6_poly1$$.hashid,$i$$641_i$$)));$verts1$$1_verts1$$inline_52_verts2$$1_verts2$$=$poly2$$.tVerts;for($i$$641_i$$=0;$i$$641_i$$<$verts1$$1_verts1$$inline_52_verts2$$1_verts2$$.length;$i$$641_i$$+=
2)$vx$$6_vx$$=$verts1$$1_verts1$$inline_52_verts2$$1_verts2$$[$i$$641_i$$],$vy$$6_vy$$=$verts1$$1_verts1$$inline_52_verts2$$1_verts2$$[$i$$641_i$$+1],$JSCompiler_temp$$6_poly1$$.containsVertPartial($vx$$6_vx$$,$vy$$6_vy$$,$n$$)&&$arr$$25_arr$$.push(new $Contact$$(new $Vect$$($vx$$6_vx$$,$vy$$6_vy$$),$n$$,$dist$$,$hashPair$$($poly2$$.hashid,$i$$641_i$$)))}return $JSCompiler_temp$$6_poly1$$=$arr$$25_arr$$},$segValueOnAxis$$=function $$segValueOnAxis$$$($b$$,$n$$,$d$$){var $a$$=$vdot$$($n$$,$b$$.ta)-
$b$$.r;$b$$=$vdot$$($n$$,$b$$.tb)-$b$$.r;return $min$$0$$($a$$,$b$$)-$d$$},$findPointsBehindSeg$$=function $$findPointsBehindSeg$$$($arr$$,$seg$$,$poly$$,$pDist$$,$coef$$){for(var $dta$$=$vcross$$($seg$$.tn,$seg$$.ta),$dtb$$=$vcross$$($seg$$.tn,$seg$$.tb),$n$$=$vmult$$($seg$$.tn,$coef$$),$verts$$=$poly$$.tVerts,$i$$=0;$i$$<$verts$$.length;$i$$+=2){var $vx$$=$verts$$[$i$$],$vy$$=$verts$$[$i$$+1];if($vx$$*$n$$.x+$vy$$*$n$$.y<$vdot$$($seg$$.tn,$seg$$.ta)*$coef$$+$seg$$.r){var $dt$$=$seg$$.tn.x*$vy$$-
$seg$$.tn.y*$vx$$;$dta$$>=$dt$$&&$dt$$>=$dtb$$&&$arr$$.push(new $Contact$$(new $Vect$$($vx$$,$vy$$),$n$$,$pDist$$,$hashPair$$($poly$$.hashid,$i$$)))}}};$CircleShape$$.prototype.collisionCode=0;$SegmentShape$$.prototype.collisionCode=1;$PolyShape$$.prototype.collisionCode=2;$CircleShape$$.prototype.collisionTable=[function($circ1$$,$circ2$$){var $contact$$=$circle2circleQuery$$($circ1$$.tc,$circ2$$.tc,$circ1$$.r,$circ2$$.r);return $contact$$?[$contact$$]:$NONE$$},function($circleShape$$,$segmentShape$$){var $closest$$2_n$$49_seg_a$$=
$segmentShape$$.ta,$center$$21_contact$$=$circleShape$$.tc,$seg_delta$$=$vsub$$($segmentShape$$.tb,$closest$$2_n$$49_seg_a$$),$closest_t$$=$clamp01$$($vdot$$($seg_delta$$,$vsub$$($center$$21_contact$$,$closest$$2_n$$49_seg_a$$))/$vlengthsq$$($seg_delta$$)),$closest$$2_n$$49_seg_a$$=$vadd$$($closest$$2_n$$49_seg_a$$,$vmult$$($seg_delta$$,$closest_t$$));return($center$$21_contact$$=$circle2circleQuery$$($center$$21_contact$$,$closest$$2_n$$49_seg_a$$,$circleShape$$.r,$segmentShape$$.r))?($closest$$2_n$$49_seg_a$$=
$center$$21_contact$$.n,0===$closest_t$$&&0>$vdot$$($closest$$2_n$$49_seg_a$$,$segmentShape$$.a_tangent)||1===$closest_t$$&&0>$vdot$$($closest$$2_n$$49_seg_a$$,$segmentShape$$.b_tangent)?$NONE$$:[$center$$21_contact$$]):$NONE$$},function($circ$$,$poly$$){for(var $n$$54_planes$$=$poly$$.tPlanes,$ax$$7_mini$$=0,$min$$=$vdot$$($n$$54_planes$$[0].n,$circ$$.tc)-$n$$54_planes$$[0].d-$circ$$.r,$ay$$8_i$$=0;$ay$$8_i$$<$n$$54_planes$$.length;$ay$$8_i$$++){var $bx$$6_dist$$=$vdot$$($n$$54_planes$$[$ay$$8_i$$].n,
$circ$$.tc)-$n$$54_planes$$[$ay$$8_i$$].d-$circ$$.r;if(0<$bx$$6_dist$$)return $NONE$$;$bx$$6_dist$$>$min$$&&($min$$=$bx$$6_dist$$,$ax$$7_mini$$=$ay$$8_i$$)}var $n$$54_planes$$=$n$$54_planes$$[$ax$$7_mini$$].n,$by$$6_verts$$=$poly$$.tVerts,$dta$$1_len$$=$by$$6_verts$$.length,$dtb$$1_mini2$$=$ax$$7_mini$$<<1,$ax$$7_mini$$=$by$$6_verts$$[$dtb$$1_mini2$$],$ay$$8_i$$=$by$$6_verts$$[$dtb$$1_mini2$$+1],$bx$$6_dist$$=$by$$6_verts$$[($dtb$$1_mini2$$+2)%$dta$$1_len$$],$by$$6_verts$$=$by$$6_verts$$[($dtb$$1_mini2$$+
3)%$dta$$1_len$$],$dta$$1_len$$=$n$$54_planes$$.x*$ay$$8_i$$-$n$$54_planes$$.y*$ax$$7_mini$$,$dtb$$1_mini2$$=$n$$54_planes$$.x*$by$$6_verts$$-$n$$54_planes$$.y*$bx$$6_dist$$,$dt$$=$vcross$$($n$$54_planes$$,$circ$$.tc);if($dt$$<$dtb$$1_mini2$$){var $con$$=$circle2circleQuery$$($circ$$.tc,new $Vect$$($bx$$6_dist$$,$by$$6_verts$$),$circ$$.r,0,$con$$);return $con$$?[$con$$]:$NONE$$}return $dt$$<$dta$$1_len$$?[new $Contact$$($vsub$$($circ$$.tc,$vmult$$($n$$54_planes$$,$circ$$.r+$min$$/2)),$vneg$$($n$$54_planes$$),
$min$$,0)]:($con$$=$circle2circleQuery$$($circ$$.tc,new $Vect$$($ax$$7_mini$$,$ay$$8_i$$),$circ$$.r,0,$con$$))?[$con$$]:$NONE$$}];$SegmentShape$$.prototype.collisionTable=[null,function($segA$$,$segB$$){return $NONE$$},function($seg$$,$poly$$){var $arr$$=[],$planes$$=$poly$$.tPlanes,$len$$155_numVerts$$=$planes$$.length,$minNeg_segD_verts$$=$vdot$$($seg$$.tn,$seg$$.ta),$minNorm_mini2$$=$poly$$.valueOnAxis($seg$$.tn,$minNeg_segD_verts$$)-$seg$$.r,$minNeg_segD_verts$$=$poly$$.valueOnAxis($vneg$$($seg$$.tn),
-$minNeg_segD_verts$$)-$seg$$.r;if(0<$minNeg_segD_verts$$||0<$minNorm_mini2$$)return $NONE$$;var $con$$=0,$poly_a_poly_min$$=$segValueOnAxis$$($seg$$,$planes$$[0].n,$planes$$[0].d);if(0<$poly_a_poly_min$$)return $NONE$$;for(var $i$$643_va$$=0;$i$$643_va$$<$len$$155_numVerts$$;$i$$643_va$$++){var $dist$$14_vb$$=$segValueOnAxis$$($seg$$,$planes$$[$i$$643_va$$].n,$planes$$[$i$$643_va$$].d);if(0<$dist$$14_vb$$)return $NONE$$;$dist$$14_vb$$>$poly_a_poly_min$$&&($poly_a_poly_min$$=$dist$$14_vb$$,$con$$=
$i$$643_va$$)}$planes$$=$vneg$$($planes$$[$con$$].n);$i$$643_va$$=$vadd$$($seg$$.ta,$vmult$$($planes$$,$seg$$.r));$dist$$14_vb$$=$vadd$$($seg$$.tb,$vmult$$($planes$$,$seg$$.r));$poly$$.containsVert($i$$643_va$$.x,$i$$643_va$$.y)&&$arr$$.push(new $Contact$$($i$$643_va$$,$planes$$,$poly_a_poly_min$$,$hashPair$$($seg$$.hashid,0)));$poly$$.containsVert($dist$$14_vb$$.x,$dist$$14_vb$$.y)&&$arr$$.push(new $Contact$$($dist$$14_vb$$,$planes$$,$poly_a_poly_min$$,$hashPair$$($seg$$.hashid,1)));if($minNorm_mini2$$>=
$poly_a_poly_min$$||$minNeg_segD_verts$$>=$poly_a_poly_min$$)$minNorm_mini2$$>$minNeg_segD_verts$$?$findPointsBehindSeg$$($arr$$,$seg$$,$poly$$,$minNorm_mini2$$,1):$findPointsBehindSeg$$($arr$$,$seg$$,$poly$$,$minNeg_segD_verts$$,-1);if(0===$arr$$.length){$minNorm_mini2$$=2*$con$$;$minNeg_segD_verts$$=$poly$$.tVerts;$poly_a_poly_min$$=new $Vect$$($minNeg_segD_verts$$[$minNorm_mini2$$],$minNeg_segD_verts$$[$minNorm_mini2$$+1]);if(($con$$=$circle2circleQuery$$($seg$$.ta,$poly_a_poly_min$$,$seg$$.r,
0,$arr$$))||($con$$=$circle2circleQuery$$($seg$$.tb,$poly_a_poly_min$$,$seg$$.r,0,$arr$$)))return[$con$$];$len$$155_numVerts$$*=2;$len$$155_numVerts$$=new $Vect$$($minNeg_segD_verts$$[($minNorm_mini2$$+2)%$len$$155_numVerts$$],$minNeg_segD_verts$$[($minNorm_mini2$$+3)%$len$$155_numVerts$$]);if(($con$$=$circle2circleQuery$$($seg$$.ta,$len$$155_numVerts$$,$seg$$.r,0,$arr$$))||($con$$=$circle2circleQuery$$($seg$$.tb,$len$$155_numVerts$$,$seg$$.r,0,$arr$$)))return[$con$$]}return $arr$$}];$PolyShape$$.prototype.collisionTable=
[null,null,function($poly1$$,$poly2$$){var $mini1$$=$findMSA$$($poly2$$,$poly1$$.tPlanes);if(-1==$mini1$$)return $NONE$$;var $min1$$=$last_MSA_min$$,$mini2$$=$findMSA$$($poly1$$,$poly2$$.tPlanes);if(-1==$mini2$$)return $NONE$$;var $min2$$=$last_MSA_min$$;return $min1$$>$min2$$?$findVerts$$($poly1$$,$poly2$$,$poly1$$.tPlanes[$mini1$$].n,$min1$$):$findVerts$$($poly1$$,$poly2$$,$vneg$$($poly2$$.tPlanes[$mini2$$].n),$min2$$)}];var $collideShapes$$=$cp$$.collideShapes=function $$cp$$$collideShapes$($a$$,
$b$$){$assert$$($a$$.collisionCode<=$b$$.collisionCode,"Collided shapes must be sorted by type");return $a$$.collisionTable[$b$$.collisionCode]($a$$,$b$$)},$defaultCollisionHandler$$=new $CollisionHandler$$,$Space$$=$cp$$.Space=function $$cp$$$Space$(){this.curr_dt=this.stamp=0;this.bodies=[];this.rousedBodies=[];this.sleepingComponents=[];this.staticShapes=new $BBTree$$(null);this.activeShapes=new $BBTree$$(this.staticShapes);this.arbiters=[];this.contactBuffersHead=null;this.cachedArbiters={};this.constraints=
[];this.locked=0;this.collisionHandlers={};this.defaultHandler=$defaultCollisionHandler$$;this.postStepCallbacks=[];this.iterations=10;this.gravity=$vzero$$;this.damping=1;this.idleSpeedThreshold=0;this.sleepTimeThreshold=Infinity;this.collisionSlop=.1;this.collisionBias=Math.pow(.9,60);this.collisionPersistence=3;this.enableContactGraph=!1;this.staticBody=new $Body$$(Infinity,Infinity);this.staticBody.nodeIdleTime=Infinity;this.collideShapes=this.makeCollideShapes()};$Space$$.prototype.getCurrentTimeStep=
function $$Space$$$$getCurrentTimeStep$(){return this.curr_dt};$Space$$.prototype.setIterations=function $$Space$$$$setIterations$($iter$$){this.iterations=$iter$$};$Space$$.prototype.isLocked=function $$Space$$$$isLocked$(){return this.locked};var $assertSpaceUnlocked$$=function $$assertSpaceUnlocked$$$($space$$){$assert$$(!$space$$.locked,"This addition/removal cannot be done safely during a call to cpSpaceStep()  or during a query. Put these calls into a post-step callback.")};$Space$$.prototype.addCollisionHandler=
function $$Space$$$$addCollisionHandler$($a$$,$b$$,$begin$$,$preSolve$$,$postSolve$$,$separate$$){$assertSpaceUnlocked$$(this);this.removeCollisionHandler($a$$,$b$$);var $handler$$=new $CollisionHandler$$;$handler$$.a=$a$$;$handler$$.b=$b$$;$begin$$&&($handler$$.begin=$begin$$);$preSolve$$&&($handler$$.preSolve=$preSolve$$);$postSolve$$&&($handler$$.postSolve=$postSolve$$);$separate$$&&($handler$$.separate=$separate$$);this.collisionHandlers[$hashPair$$($a$$,$b$$)]=$handler$$};$Space$$.prototype.removeCollisionHandler=
function $$Space$$$$removeCollisionHandler$($a$$,$b$$){$assertSpaceUnlocked$$(this);delete this.collisionHandlers[$hashPair$$($a$$,$b$$)]};$Space$$.prototype.setDefaultCollisionHandler=function $$Space$$$$setDefaultCollisionHandler$($begin$$,$preSolve$$,$postSolve$$,$separate$$){$assertSpaceUnlocked$$(this);var $handler$$=new $CollisionHandler$$;$begin$$&&($handler$$.begin=$begin$$);$preSolve$$&&($handler$$.preSolve=$preSolve$$);$postSolve$$&&($handler$$.postSolve=$postSolve$$);$separate$$&&($handler$$.separate=
$separate$$);this.defaultHandler=$handler$$};$Space$$.prototype.lookupHandler=function $$Space$$$$lookupHandler$($a$$,$b$$){return this.collisionHandlers[$hashPair$$($a$$,$b$$)]||this.defaultHandler};$Space$$.prototype.addShape=function $$Space$$$$addShape$($shape$$){var $body$$=$shape$$.body;if($body$$.isStatic())return this.addStaticShape($shape$$);$assert$$(!$shape$$.space,"This shape is already added to a space and cannot be added to another.");$assertSpaceUnlocked$$(this);$body$$.activate();
$body$$.addShape($shape$$);$shape$$.update($body$$.p,$body$$.rot);this.activeShapes.insert($shape$$,$shape$$.hashid);$shape$$.space=this;return $shape$$};$Space$$.prototype.addStaticShape=function $$Space$$$$addStaticShape$($shape$$){$assert$$(!$shape$$.space,"This shape is already added to a space and cannot be added to another.");$assertSpaceUnlocked$$(this);var $body$$=$shape$$.body;$body$$.addShape($shape$$);$shape$$.update($body$$.p,$body$$.rot);this.staticShapes.insert($shape$$,$shape$$.hashid);
$shape$$.space=this;return $shape$$};$Space$$.prototype.addBody=function $$Space$$$$addBody$($body$$){$assert$$(!$body$$.isStatic(),"Static bodies cannot be added to a space as they are not meant to be simulated.");$assert$$(!$body$$.space,"This body is already added to a space and cannot be added to another.");$assertSpaceUnlocked$$(this);this.bodies.push($body$$);$body$$.space=this;return $body$$};$Space$$.prototype.addConstraint=function $$Space$$$$addConstraint$($constraint$$){$assert$$(!$constraint$$.space,
"This shape is already added to a space and cannot be added to another.");$assertSpaceUnlocked$$(this);var $a$$=$constraint$$.a,$b$$=$constraint$$.b;$a$$.activate();$b$$.activate();this.constraints.push($constraint$$);$constraint$$.next_a=$a$$.constraintList;$a$$.constraintList=$constraint$$;$constraint$$.next_b=$b$$.constraintList;$b$$.constraintList=$constraint$$;$constraint$$.space=this;return $constraint$$};$Space$$.prototype.filterArbiters=function $$Space$$$$filterArbiters$($body$$,$filter$$){for(var $hash$$ in this.cachedArbiters){var $arb$$=
this.cachedArbiters[$hash$$];if($body$$===$arb$$.body_a&&($filter$$===$arb$$.a||null===$filter$$)||$body$$===$arb$$.body_b&&($filter$$===$arb$$.b||null===$filter$$))$filter$$&&"cached"!==$arb$$.state&&$arb$$.callSeparate(this),$arb$$.unthread(),$deleteObjFromList$$(this.arbiters,$arb$$),delete this.cachedArbiters[$hash$$]}};$Space$$.prototype.removeShape=function $$Space$$$$removeShape$($shape$$){var $body$$=$shape$$.body;$body$$.isStatic()?this.removeStaticShape($shape$$):($assert$$(this.containsShape($shape$$),
"Cannot remove a shape that was not added to the space. (Removed twice maybe?)"),$assertSpaceUnlocked$$(this),$body$$.activate(),$body$$.removeShape($shape$$),this.filterArbiters($body$$,$shape$$),this.activeShapes.remove($shape$$,$shape$$.hashid),$shape$$.space=null)};$Space$$.prototype.removeStaticShape=function $$Space$$$$removeStaticShape$($shape$$){$assert$$(this.containsShape($shape$$),"Cannot remove a static or sleeping shape that was not added to the space. (Removed twice maybe?)");$assertSpaceUnlocked$$(this);
var $body$$=$shape$$.body;$body$$.isStatic()&&$body$$.activateStatic($shape$$);$body$$.removeShape($shape$$);this.filterArbiters($body$$,$shape$$);this.staticShapes.remove($shape$$,$shape$$.hashid);$shape$$.space=null};$Space$$.prototype.removeBody=function $$Space$$$$removeBody$($body$$){$assert$$(this.containsBody($body$$),"Cannot remove a body that was not added to the space. (Removed twice maybe?)");$assertSpaceUnlocked$$(this);$body$$.activate();$deleteObjFromList$$(this.bodies,$body$$);$body$$.space=
null};$Space$$.prototype.removeConstraint=function $$Space$$$$removeConstraint$($constraint$$){$assert$$(this.containsConstraint($constraint$$),"Cannot remove a constraint that was not added to the space. (Removed twice maybe?)");$assertSpaceUnlocked$$(this);$constraint$$.a.activate();$constraint$$.b.activate();$deleteObjFromList$$(this.constraints,$constraint$$);$constraint$$.a.removeConstraint($constraint$$);$constraint$$.b.removeConstraint($constraint$$);$constraint$$.space=null};$Space$$.prototype.containsShape=
function $$Space$$$$containsShape$($shape$$){return $shape$$.space===this};$Space$$.prototype.containsBody=function $$Space$$$$containsBody$($body$$){return $body$$.space==this};$Space$$.prototype.containsConstraint=function $$Space$$$$containsConstraint$($constraint$$){return $constraint$$.space==this};$Space$$.prototype.uncacheArbiter=function $$Space$$$$uncacheArbiter$($arb$$){delete this.cachedArbiters[$hashPair$$($arb$$.a.hashid,$arb$$.b.hashid)];$deleteObjFromList$$(this.arbiters,$arb$$)};$Space$$.prototype.eachBody=
function $$Space$$$$eachBody$($func$$){this.lock();for(var $bodies_components$$=this.bodies,$i$$=0;$i$$<$bodies_components$$.length;$i$$++)$func$$($bodies_components$$[$i$$]);$bodies_components$$=this.sleepingComponents;for($i$$=0;$i$$<$bodies_components$$.length;$i$$++)for(var $body$$=$bodies_components$$[$i$$];$body$$;){var $next$$=$body$$.nodeNext;$func$$($body$$);$body$$=$next$$}this.unlock(!0)};$Space$$.prototype.eachShape=function $$Space$$$$eachShape$($func$$){this.lock();this.activeShapes.each($func$$);
this.staticShapes.each($func$$);this.unlock(!0)};$Space$$.prototype.eachConstraint=function $$Space$$$$eachConstraint$($func$$){this.lock();for(var $constraints$$=this.constraints,$i$$=0;$i$$<$constraints$$.length;$i$$++)$func$$($constraints$$[$i$$]);this.unlock(!0)};$Space$$.prototype.reindexStatic=function $$Space$$$$reindexStatic$(){$assert$$(!this.locked,"You cannot manually reindex objects while the space is locked. Wait until the current query or step is complete.");this.staticShapes.each(function($shape$$){var $body$$=
$shape$$.body;$shape$$.update($body$$.p,$body$$.rot)});this.staticShapes.reindex()};$Space$$.prototype.reindexShape=function $$Space$$$$reindexShape$($shape$$){$assert$$(!this.locked,"You cannot manually reindex objects while the space is locked. Wait until the current query or step is complete.");var $body$$=$shape$$.body;$shape$$.update($body$$.p,$body$$.rot);this.activeShapes.reindexObject($shape$$,$shape$$.hashid);this.staticShapes.reindexObject($shape$$,$shape$$.hashid)};$Space$$.prototype.reindexShapesForBody=
function $$Space$$$$reindexShapesForBody$($body$$41_shape$$){for($body$$41_shape$$=$body$$41_shape$$.shapeList;$body$$41_shape$$;$body$$41_shape$$=$body$$41_shape$$.next)this.reindexShape($body$$41_shape$$)};$Space$$.prototype.useSpatialHash=function $$Space$$$$useSpatialHash$($dim$$,$count$$){throw Error("Spatial Hash not implemented.");};$Space$$.prototype.activateBody=function $$Space$$$$activateBody$($body$$){$assert$$(!$body$$.isRogue(),"Internal error: Attempting to activate a rogue body.");
if(this.locked)-1===this.rousedBodies.indexOf($body$$)&&this.rousedBodies.push($body$$);else{this.bodies.push($body$$);for(var $arb$$8_constraint$$6_i$$=0;$arb$$8_constraint$$6_i$$<$body$$.shapeList.length;$arb$$8_constraint$$6_i$$++){var $a$$542_bodyA$$12_shape$$=$body$$.shapeList[$arb$$8_constraint$$6_i$$];this.staticShapes.remove($a$$542_bodyA$$12_shape$$,$a$$542_bodyA$$12_shape$$.hashid);this.activeShapes.insert($a$$542_bodyA$$12_shape$$,$a$$542_bodyA$$12_shape$$.hashid)}for($arb$$8_constraint$$6_i$$=
$body$$.arbiterList;$arb$$8_constraint$$6_i$$;$arb$$8_constraint$$6_i$$=$arb$$8_constraint$$6_i$$.next($body$$))if($a$$542_bodyA$$12_shape$$=$arb$$8_constraint$$6_i$$.body_a,$body$$===$a$$542_bodyA$$12_shape$$||$a$$542_bodyA$$12_shape$$.isStatic()){var $a$$542_bodyA$$12_shape$$=$arb$$8_constraint$$6_i$$.a,$b$$=$arb$$8_constraint$$6_i$$.b;this.cachedArbiters[$hashPair$$($a$$542_bodyA$$12_shape$$.hashid,$b$$.hashid)]=$arb$$8_constraint$$6_i$$;$arb$$8_constraint$$6_i$$.stamp=this.stamp;$arb$$8_constraint$$6_i$$.handler=
this.lookupHandler($a$$542_bodyA$$12_shape$$.collision_type,$b$$.collision_type);this.arbiters.push($arb$$8_constraint$$6_i$$)}for($arb$$8_constraint$$6_i$$=$body$$.constraintList;$arb$$8_constraint$$6_i$$;$arb$$8_constraint$$6_i$$=$arb$$8_constraint$$6_i$$.nodeNext)$a$$542_bodyA$$12_shape$$=$arb$$8_constraint$$6_i$$.a,($body$$===$a$$542_bodyA$$12_shape$$||$a$$542_bodyA$$12_shape$$.isStatic())&&this.constraints.push($arb$$8_constraint$$6_i$$)}};$Space$$.prototype.deactivateBody=function $$Space$$$$deactivateBody$($body$$){$assert$$(!$body$$.isRogue(),
"Internal error: Attempting to deactivate a rogue body.");$deleteObjFromList$$(this.bodies,$body$$);for(var $bodyA$$13_i$$=0;$bodyA$$13_i$$<$body$$.shapeList.length;$bodyA$$13_i$$++){var $arb$$9_constraint$$7_shape$$=$body$$.shapeList[$bodyA$$13_i$$];this.activeShapes.remove($arb$$9_constraint$$7_shape$$,$arb$$9_constraint$$7_shape$$.hashid);this.staticShapes.insert($arb$$9_constraint$$7_shape$$,$arb$$9_constraint$$7_shape$$.hashid)}for($arb$$9_constraint$$7_shape$$=$body$$.arbiterList;$arb$$9_constraint$$7_shape$$;$arb$$9_constraint$$7_shape$$=
$arb$$9_constraint$$7_shape$$.next($body$$))$bodyA$$13_i$$=$arb$$9_constraint$$7_shape$$.body_a,($body$$===$bodyA$$13_i$$||$bodyA$$13_i$$.isStatic())&&this.uncacheArbiter($arb$$9_constraint$$7_shape$$);for($arb$$9_constraint$$7_shape$$=$body$$.constraintList;$arb$$9_constraint$$7_shape$$;$arb$$9_constraint$$7_shape$$=$arb$$9_constraint$$7_shape$$.nodeNext)$bodyA$$13_i$$=$arb$$9_constraint$$7_shape$$.a,($body$$===$bodyA$$13_i$$||$bodyA$$13_i$$.isStatic())&&$deleteObjFromList$$(this.constraints,$arb$$9_constraint$$7_shape$$)};
$Body$$.prototype.activate=function $$Body$$$$activate$(){if(!this.isRogue()){this.nodeIdleTime=0;var $root$$=this?this.nodeRoot:null;if($root$$&&$root$$.isSleeping($root$$)){$assert$$(!$root$$.isRogue(),"Internal Error: componentActivate() called on a rogue body.");for(var $space$$=$root$$.space,$body$$=$root$$;$body$$;){var $next$$=$body$$.nodeNext;$body$$.nodeIdleTime=0;$body$$.nodeRoot=null;$body$$.nodeNext=null;$space$$.activateBody($body$$);$body$$=$next$$}$deleteObjFromList$$($space$$.sleepingComponents,
$root$$)}}};$Body$$.prototype.activateStatic=function $$Body$$$$activateStatic$($filter$$){$assert$$(this.isStatic(),"Body.activateStatic() called on a non-static body.");for(var $arb$$=this.arbiterList;$arb$$;$arb$$=$arb$$.next(this))$filter$$&&$filter$$!=$arb$$.a&&$filter$$!=$arb$$.b||($arb$$.body_a==this?$arb$$.body_b:$arb$$.body_a).activate()};$Body$$.prototype.pushArbiter=function $$Body$$$$pushArbiter$($arb$$){$assertSoft$$(null===($arb$$.body_a===this?$arb$$.thread_a_next:$arb$$.thread_b_next),
"Internal Error: Dangling contact graph pointers detected. (A)");$assertSoft$$(null===($arb$$.body_a===this?$arb$$.thread_a_prev:$arb$$.thread_b_prev),"Internal Error: Dangling contact graph pointers detected. (B)");var $next$$=this.arbiterList;$assertSoft$$(null===$next$$||null===($next$$.body_a===this?$next$$.thread_a_prev:$next$$.thread_b_prev),"Internal Error: Dangling contact graph pointers detected. (C)");$arb$$.body_a===this?$arb$$.thread_a_next=$next$$:$arb$$.thread_b_next=$next$$;$next$$&&
($next$$.body_a===this?$next$$.thread_a_prev=$arb$$:$next$$.thread_b_prev=$arb$$);this.arbiterList=$arb$$};var $floodFillComponent$$=function $$floodFillComponent$$$($root$$,$body$$){if(!$body$$.isRogue()){var $arb$$12_constraint$$=$body$$?$body$$.nodeRoot:null;if(null==$arb$$12_constraint$$){$body$$.nodeRoot=$root$$;$body$$!==$root$$&&($body$$.nodeNext=$root$$.nodeNext,$root$$.nodeNext=$body$$);for($arb$$12_constraint$$=$body$$.arbiterList;$arb$$12_constraint$$;$arb$$12_constraint$$=$arb$$12_constraint$$.next($body$$))$floodFillComponent$$($root$$,
$body$$==$arb$$12_constraint$$.body_a?$arb$$12_constraint$$.body_b:$arb$$12_constraint$$.body_a);for($arb$$12_constraint$$=$body$$.constraintList;$arb$$12_constraint$$;$arb$$12_constraint$$=$arb$$12_constraint$$.next($body$$))$floodFillComponent$$($root$$,$body$$==$arb$$12_constraint$$.a?$arb$$12_constraint$$.b:$arb$$12_constraint$$.a)}else $assertSoft$$($arb$$12_constraint$$===$root$$,"Internal Error: Inconsistency detected in the contact graph.")}};$Space$$.prototype.processComponents=function $$Space$$$$processComponents$($b$$395_constraint$$9_dt$$){for(var $JSCompiler_inline_result$$7_body$$inline_68_constraints$$8_other$$=
Infinity!==this.sleepTimeThreshold,$bodies$$=this.bodies,$dv_i$$=0;$dv_i$$<$bodies$$.length;$dv_i$$++){var $a$$543_body$$=$bodies$$[$dv_i$$];$assertSoft$$(null===$a$$543_body$$.nodeNext,"Internal Error: Dangling next pointer detected in contact graph.");$assertSoft$$(null===$a$$543_body$$.nodeRoot,"Internal Error: Dangling root pointer detected in contact graph.")}if($JSCompiler_inline_result$$7_body$$inline_68_constraints$$8_other$$)for(var $arbiters_dvsq$$=($dv_i$$=this.idleSpeedThreshold)?$dv_i$$*
$dv_i$$:$vlengthsq$$(this.gravity)*$b$$395_constraint$$9_dt$$*$b$$395_constraint$$9_dt$$,$dv_i$$=0;$dv_i$$<$bodies$$.length;$dv_i$$++){var $a$$543_body$$=$bodies$$[$dv_i$$],$count$$=$arbiters_dvsq$$?$a$$543_body$$.m*$arbiters_dvsq$$:0;$a$$543_body$$.nodeIdleTime=$a$$543_body$$.kineticEnergy()>$count$$?0:$a$$543_body$$.nodeIdleTime+$b$$395_constraint$$9_dt$$}$arbiters_dvsq$$=this.arbiters;$dv_i$$=0;for($count$$=$arbiters_dvsq$$.length;$dv_i$$<$count$$;$dv_i$$++){var $arb$$=$arbiters_dvsq$$[$dv_i$$],
$a$$543_body$$=$arb$$.body_a;$b$$395_constraint$$9_dt$$=$arb$$.body_b;$JSCompiler_inline_result$$7_body$$inline_68_constraints$$8_other$$&&(($b$$395_constraint$$9_dt$$.isRogue()&&!$b$$395_constraint$$9_dt$$.isStatic()||$a$$543_body$$.isSleeping())&&$a$$543_body$$.activate(),($a$$543_body$$.isRogue()&&!$a$$543_body$$.isStatic()||$b$$395_constraint$$9_dt$$.isSleeping())&&$b$$395_constraint$$9_dt$$.activate());$a$$543_body$$.pushArbiter($arb$$);$b$$395_constraint$$9_dt$$.pushArbiter($arb$$)}if($JSCompiler_inline_result$$7_body$$inline_68_constraints$$8_other$$){$JSCompiler_inline_result$$7_body$$inline_68_constraints$$8_other$$=
this.constraints;for($dv_i$$=0;$dv_i$$<$JSCompiler_inline_result$$7_body$$inline_68_constraints$$8_other$$.length;$dv_i$$++)$b$$395_constraint$$9_dt$$=$JSCompiler_inline_result$$7_body$$inline_68_constraints$$8_other$$[$dv_i$$],$a$$543_body$$=$b$$395_constraint$$9_dt$$.a,$b$$395_constraint$$9_dt$$=$b$$395_constraint$$9_dt$$.b,$b$$395_constraint$$9_dt$$.isRogue()&&!$b$$395_constraint$$9_dt$$.isStatic()&&$a$$543_body$$.activate(),$a$$543_body$$.isRogue()&&!$a$$543_body$$.isStatic()&&$b$$395_constraint$$9_dt$$.activate();
for($dv_i$$=0;$dv_i$$<$bodies$$.length;){$a$$543_body$$=$bodies$$[$dv_i$$];if(null===($a$$543_body$$?$a$$543_body$$.nodeRoot:null)){$floodFillComponent$$($a$$543_body$$,$a$$543_body$$);a:{for($JSCompiler_inline_result$$7_body$$inline_68_constraints$$8_other$$=$a$$543_body$$;$JSCompiler_inline_result$$7_body$$inline_68_constraints$$8_other$$;$JSCompiler_inline_result$$7_body$$inline_68_constraints$$8_other$$=$JSCompiler_inline_result$$7_body$$inline_68_constraints$$8_other$$.nodeNext)if($JSCompiler_inline_result$$7_body$$inline_68_constraints$$8_other$$.nodeIdleTime<
this.sleepTimeThreshold){$JSCompiler_inline_result$$7_body$$inline_68_constraints$$8_other$$=!0;break a}$JSCompiler_inline_result$$7_body$$inline_68_constraints$$8_other$$=!1}if(!$JSCompiler_inline_result$$7_body$$inline_68_constraints$$8_other$$){this.sleepingComponents.push($a$$543_body$$);for($JSCompiler_inline_result$$7_body$$inline_68_constraints$$8_other$$=$a$$543_body$$;$JSCompiler_inline_result$$7_body$$inline_68_constraints$$8_other$$;$JSCompiler_inline_result$$7_body$$inline_68_constraints$$8_other$$=
$JSCompiler_inline_result$$7_body$$inline_68_constraints$$8_other$$.nodeNext)this.deactivateBody($JSCompiler_inline_result$$7_body$$inline_68_constraints$$8_other$$);continue}}$dv_i$$++;$a$$543_body$$.nodeRoot=null;$a$$543_body$$.nodeNext=null}}};$Body$$.prototype.sleep=function $$Body$$$$sleep$(){this.sleepWithGroup(null)};$Body$$.prototype.sleepWithGroup=function $$Body$$$$sleepWithGroup$($group$$1_root$$){$assert$$(!this.isStatic()&&!this.isRogue(),"Rogue and static bodies cannot be put to sleep.");
var $space$$=this.space;$assert$$($space$$,"Cannot put a rogue body to sleep.");$assert$$(!$space$$.locked,"Bodies cannot be put to sleep during a query or a call to cpSpaceStep(). Put these calls into a post-step callback.");$assert$$(null===$group$$1_root$$||$group$$1_root$$.isSleeping(),"Cannot use a non-sleeping body as a group identifier.");if(this.isSleeping())$assert$$((this?this.nodeRoot:null)===($group$$1_root$$?$group$$1_root$$.nodeRoot:null),"The body is already sleeping and it's group cannot be reassigned.");
else{for(var $i$$=0;$i$$<this.shapeList.length;$i$$++)this.shapeList[$i$$].update(this.p,this.rot);$space$$.deactivateBody(this);$group$$1_root$$?(this.nodeRoot=$group$$1_root$$=$group$$1_root$$?$group$$1_root$$.nodeRoot:null,this.nodeNext=$group$$1_root$$.nodeNext,this.nodeIdleTime=0,$group$$1_root$$.nodeNext=this):(this.nodeRoot=this,this.nodeNext=null,this.nodeIdleTime=0,$space$$.sleepingComponents.push(this));$deleteObjFromList$$($space$$.bodies,this)}};$Space$$.prototype.activateShapesTouchingShape=
function $$Space$$$$activateShapesTouchingShape$($shape$$0$$){Infinity!==this.sleepTimeThreshold&&this.shapeQuery($shape$$0$$,function($shape$$,$points$$){$shape$$.body.activate()})};$Space$$.prototype.pointQuery=function $$Space$$$$pointQuery$($point$$,$layers$$,$group$$,$func$$){var $helper$$=function $$helper$$$($shape$$){(!$shape$$.group||$group$$!==$shape$$.group)&&$layers$$&$shape$$.layers&&$shape$$.pointQuery($point$$)&&$func$$($shape$$)},$bb$$=new $BB$$($point$$.x,$point$$.y,$point$$.x,$point$$.y);
this.lock();this.activeShapes.query($bb$$,$helper$$);this.staticShapes.query($bb$$,$helper$$);this.unlock(!0)};$Space$$.prototype.pointQueryFirst=function $$Space$$$$pointQueryFirst$($point$$,$layers$$,$group$$){var $outShape$$=null;this.pointQuery($point$$,$layers$$,$group$$,function($shape$$){$shape$$.sensor||($outShape$$=$shape$$)});return $outShape$$};$Space$$.prototype.nearestPointQuery=function $$Space$$$$nearestPointQuery$($point$$,$maxDistance$$,$layers$$,$group$$,$func$$){var $helper$$=function $$helper$$$($shape$$){if((!$shape$$.group||
$group$$!==$shape$$.group)&&$layers$$&$shape$$.layers){var $info$$=$shape$$.nearestPointQuery($point$$);$info$$.d<$maxDistance$$&&$func$$($shape$$,$info$$.d,$info$$.p)}},$bb$$=new $BB$$($point$$.x-$maxDistance$$,$point$$.y-$maxDistance$$,$point$$.x+$maxDistance$$,$point$$.y+$maxDistance$$);this.lock();this.activeShapes.query($bb$$,$helper$$);this.staticShapes.query($bb$$,$helper$$);this.unlock(!0)};$Space$$.prototype.nearestPointQueryNearest=function $$Space$$$$nearestPointQueryNearest$($point$$,
$maxDistance$$,$layers$$,$group$$){var $out$$,$helper$$=function $$helper$$$($info$$19_shape$$){$info$$19_shape$$.group&&$group$$===$info$$19_shape$$.group||!($layers$$&$info$$19_shape$$.layers)||$info$$19_shape$$.sensor||($info$$19_shape$$=$info$$19_shape$$.nearestPointQuery($point$$),$info$$19_shape$$.d<$maxDistance$$&&(!$out$$||$info$$19_shape$$.d<$out$$.d)&&($out$$=$info$$19_shape$$))},$bb$$=new $BB$$($point$$.x-$maxDistance$$,$point$$.y-$maxDistance$$,$point$$.x+$maxDistance$$,$point$$.y+$maxDistance$$);
this.activeShapes.query($bb$$,$helper$$);this.staticShapes.query($bb$$,$helper$$);return $out$$};$Space$$.prototype.segmentQuery=function $$Space$$$$segmentQuery$($start$$,$end$$,$layers$$,$group$$,$func$$){var $helper$$=function $$helper$$$($shape$$){var $info$$;(!$shape$$.group||$group$$!==$shape$$.group)&&$layers$$&$shape$$.layers&&($info$$=$shape$$.segmentQuery($start$$,$end$$))&&$func$$($shape$$,$info$$.t,$info$$.n);return 1};this.lock();this.staticShapes.segmentQuery($start$$,$end$$,1,$helper$$);
this.activeShapes.segmentQuery($start$$,$end$$,1,$helper$$);this.unlock(!0)};$Space$$.prototype.segmentQueryFirst=function $$Space$$$$segmentQueryFirst$($start$$,$end$$,$layers$$,$group$$){var $out$$=null,$helper$$=function $$helper$$$($shape$$){var $info$$;(!$shape$$.group||$group$$!==$shape$$.group)&&$layers$$&$shape$$.layers&&!$shape$$.sensor&&($info$$=$shape$$.segmentQuery($start$$,$end$$))&&(null===$out$$||$info$$.t<$out$$.t)&&($out$$=$info$$);return $out$$?$out$$.t:1};this.staticShapes.segmentQuery($start$$,
$end$$,1,$helper$$);this.activeShapes.segmentQuery($start$$,$end$$,$out$$?$out$$.t:1,$helper$$);return $out$$};$Space$$.prototype.bbQuery=function $$Space$$$$bbQuery$($bb$$,$layers$$,$group$$,$func$$){var $helper$$=function $$helper$$$($shape$$){(!$shape$$.group||$group$$!==$shape$$.group)&&$layers$$&$shape$$.layers&&$bb$$.l<=$shape$$.bb_r&&$shape$$.bb_l<=$bb$$.r&&$bb$$.b<=$shape$$.bb_t&&$shape$$.bb_b<=$bb$$.t&&$func$$($shape$$)};this.lock();this.activeShapes.query($bb$$,$helper$$);this.staticShapes.query($bb$$,
$helper$$);this.unlock(!0)};$Space$$.prototype.shapeQuery=function $$Space$$$$shapeQuery$($shape$$,$func$$){var $bb$$23_body$$=$shape$$.body;$bb$$23_body$$&&$shape$$.update($bb$$23_body$$.p,$bb$$23_body$$.rot);var $bb$$23_body$$=new $BB$$($shape$$.bb_l,$shape$$.bb_b,$shape$$.bb_r,$shape$$.bb_t),$anyCollision$$=!1,$helper$$=function $$helper$$$($b$$){if((!$shape$$.group||$shape$$.group!==$b$$.group)&&$shape$$.layers&$b$$.layers&&$shape$$!==$b$$){var $contacts$$;if($shape$$.collisionCode<=$b$$.collisionCode)$contacts$$=
$collideShapes$$($shape$$,$b$$);else{$contacts$$=$collideShapes$$($b$$,$shape$$);for(var $i$$=0;$i$$<$contacts$$.length;$i$$++)$contacts$$[$i$$].n=$vneg$$($contacts$$[$i$$].n)}if($contacts$$.length&&($anyCollision$$=!($shape$$.sensor||$b$$.sensor),$func$$)){for(var $set$$=Array($contacts$$.length),$i$$=0;$i$$<$contacts$$.length;$i$$++)$set$$[$i$$]=new $ContactPoint$$($contacts$$[$i$$].p,$contacts$$[$i$$].n,$contacts$$[$i$$].dist);$func$$($b$$,$set$$)}}};this.lock();this.activeShapes.query($bb$$23_body$$,
$helper$$);this.staticShapes.query($bb$$23_body$$,$helper$$);this.unlock(!0);return $anyCollision$$};$Space$$.prototype.addPostStepCallback=function $$Space$$$$addPostStepCallback$($func$$){$assertSoft$$(this.locked,"Adding a post-step callback when the space is not locked is unnecessary. Post-step callbacks will not called until the end of the next call to cpSpaceStep() or the next query.");this.postStepCallbacks.push($func$$)};$Space$$.prototype.runPostStepCallbacks=function $$Space$$$$runPostStepCallbacks$(){for(var $i$$=
0;$i$$<this.postStepCallbacks.length;$i$$++)this.postStepCallbacks[$i$$]();this.postStepCallbacks=[]};$Space$$.prototype.lock=function $$Space$$$$lock$(){this.locked++};$Space$$.prototype.unlock=function $$Space$$$$unlock$($runPostStep_waking$$){this.locked--;$assert$$(0<=this.locked,"Internal Error: Space lock underflow.");if(0===this.locked&&$runPostStep_waking$$){$runPostStep_waking$$=this.rousedBodies;for(var $i$$=0;$i$$<$runPostStep_waking$$.length;$i$$++)this.activateBody($runPostStep_waking$$[$i$$]);
$runPostStep_waking$$.length=0;this.runPostStepCallbacks()}};$Space$$.prototype.makeCollideShapes=function $$Space$$$$makeCollideShapes$(){var $space_$$=this;return function($a$$,$b$$){if($a$$.bb_l<=$b$$.bb_r&&$b$$.bb_l<=$a$$.bb_r&&$a$$.bb_b<=$b$$.bb_t&&$b$$.bb_b<=$a$$.bb_t&&$a$$.body!==$b$$.body&&(!$a$$.group||$a$$.group!==$b$$.group)&&$a$$.layers&$b$$.layers){var $handler$$=$space_$$.lookupHandler($a$$.collision_type,$b$$.collision_type),$sensor$$=$a$$.sensor||$b$$.sensor;if(!$sensor$$||$handler$$!==
$defaultCollisionHandler$$){if($a$$.collisionCode>$b$$.collisionCode){var $contacts$$6_temp$$=$a$$;$a$$=$b$$;$b$$=$contacts$$6_temp$$}$contacts$$6_temp$$=$collideShapes$$($a$$,$b$$);if(0!==$contacts$$6_temp$$.length){var $arbHash$$=$hashPair$$($a$$.hashid,$b$$.hashid),$arb$$=$space_$$.cachedArbiters[$arbHash$$];$arb$$||($arb$$=$space_$$.cachedArbiters[$arbHash$$]=new $Arbiter$$($a$$,$b$$));$arb$$.update($contacts$$6_temp$$,$handler$$,$a$$,$b$$);"first coll"!=$arb$$.state||$handler$$.begin($arb$$,
$space_$$)||$arb$$.ignore();"ignore"!==$arb$$.state&&$handler$$.preSolve($arb$$,$space_$$)&&!$sensor$$?$space_$$.arbiters.push($arb$$):($arb$$.contacts=null,"ignore"!==$arb$$.state&&($arb$$.state="normal"));$arb$$.stamp=$space_$$.stamp}}}}};$Space$$.prototype.arbiterSetFilter=function $$Space$$$$arbiterSetFilter$($arb$$){var $ticks$$=this.stamp-$arb$$.stamp,$a$$=$arb$$.body_a,$b$$=$arb$$.body_b;if(($a$$.isStatic()||$a$$.isSleeping())&&($b$$.isStatic()||$b$$.isSleeping()))return!0;1<=$ticks$$&&"cached"!=
$arb$$.state&&($arb$$.callSeparate(this),$arb$$.state="cached");return $ticks$$>=this.collisionPersistence?($arb$$.contacts=null,!1):!0};var $updateFunc$$=function $$updateFunc$$$($shape$$){var $body$$=$shape$$.body;$shape$$.update($body$$.p,$body$$.rot)};$Space$$.prototype.step=function $$Space$$$$step$($dt$$151_dt_coef$$1_j$$){if(0!==$dt$$151_dt_coef$$1_j$$){$assert$$(0===$vzero$$.x&&0===$vzero$$.y,"vzero is invalid");this.stamp++;var $prev_dt$$=this.curr_dt;this.curr_dt=$dt$$151_dt_coef$$1_j$$;
var $i$$,$constraint$$10_damping$$2_hash$$2_slop$$,$bodies$$=this.bodies,$constraints$$=this.constraints,$arbiters$$=this.arbiters;for($i$$=0;$i$$<$arbiters$$.length;$i$$++){var $arb$$16_biasCoef_gravity$$=$arbiters$$[$i$$];$arb$$16_biasCoef_gravity$$.state="normal";$arb$$16_biasCoef_gravity$$.body_a.isSleeping()||$arb$$16_biasCoef_gravity$$.body_b.isSleeping()||$arb$$16_biasCoef_gravity$$.unthread()}$arbiters$$.length=0;this.lock();for($i$$=0;$i$$<$bodies$$.length;$i$$++)$bodies$$[$i$$].position_func($dt$$151_dt_coef$$1_j$$);
this.activeShapes.each($updateFunc$$);this.activeShapes.reindexQuery(this.collideShapes);this.unlock(!1);this.processComponents($dt$$151_dt_coef$$1_j$$);this.lock();for($constraint$$10_damping$$2_hash$$2_slop$$ in this.cachedArbiters)this.arbiterSetFilter(this.cachedArbiters[$constraint$$10_damping$$2_hash$$2_slop$$])||delete this.cachedArbiters[$constraint$$10_damping$$2_hash$$2_slop$$];$constraint$$10_damping$$2_hash$$2_slop$$=this.collisionSlop;$arb$$16_biasCoef_gravity$$=1-Math.pow(this.collisionBias,
$dt$$151_dt_coef$$1_j$$);for($i$$=0;$i$$<$arbiters$$.length;$i$$++)$arbiters$$[$i$$].preStep($dt$$151_dt_coef$$1_j$$,$constraint$$10_damping$$2_hash$$2_slop$$,$arb$$16_biasCoef_gravity$$);for($i$$=0;$i$$<$constraints$$.length;$i$$++)$constraint$$10_damping$$2_hash$$2_slop$$=$constraints$$[$i$$],$constraint$$10_damping$$2_hash$$2_slop$$.preSolve(this),$constraint$$10_damping$$2_hash$$2_slop$$.preStep($dt$$151_dt_coef$$1_j$$);$constraint$$10_damping$$2_hash$$2_slop$$=Math.pow(this.damping,$dt$$151_dt_coef$$1_j$$);
$arb$$16_biasCoef_gravity$$=this.gravity;for($i$$=0;$i$$<$bodies$$.length;$i$$++)$bodies$$[$i$$].velocity_func($arb$$16_biasCoef_gravity$$,$constraint$$10_damping$$2_hash$$2_slop$$,$dt$$151_dt_coef$$1_j$$);$dt$$151_dt_coef$$1_j$$=0===$prev_dt$$?0:$dt$$151_dt_coef$$1_j$$/$prev_dt$$;for($i$$=0;$i$$<$arbiters$$.length;$i$$++)$arbiters$$[$i$$].applyCachedImpulse($dt$$151_dt_coef$$1_j$$);for($i$$=0;$i$$<$constraints$$.length;$i$$++)$constraints$$[$i$$].applyCachedImpulse($dt$$151_dt_coef$$1_j$$);for($i$$=
0;$i$$<this.iterations;$i$$++){for($dt$$151_dt_coef$$1_j$$=0;$dt$$151_dt_coef$$1_j$$<$arbiters$$.length;$dt$$151_dt_coef$$1_j$$++)$arbiters$$[$dt$$151_dt_coef$$1_j$$].applyImpulse();for($dt$$151_dt_coef$$1_j$$=0;$dt$$151_dt_coef$$1_j$$<$constraints$$.length;$dt$$151_dt_coef$$1_j$$++)$constraints$$[$dt$$151_dt_coef$$1_j$$].applyImpulse()}for($i$$=0;$i$$<$constraints$$.length;$i$$++)$constraints$$[$i$$].postSolve(this);for($i$$=0;$i$$<$arbiters$$.length;$i$$++)$arbiters$$[$i$$].handler.postSolve($arbiters$$[$i$$],
this);this.unlock(!0)}};var $relative_velocity$$=function $$relative_velocity$$$($a$$,$b$$,$r1$$,$r2$$){return new $Vect$$($b$$.vx+-$r2$$.y*$b$$.w-($a$$.vx+-$r1$$.y*$a$$.w),$b$$.vy+$r2$$.x*$b$$.w-($a$$.vy+$r1$$.x*$a$$.w))},$normal_relative_velocity$$=function $$normal_relative_velocity$$$($a$$,$b$$,$r1$$,$r2$$,$n$$){return($b$$.vx+-$r2$$.y*$b$$.w-($a$$.vx+-$r1$$.y*$a$$.w))*$n$$.x+($b$$.vy+$r2$$.x*$b$$.w-($a$$.vy+$r1$$.x*$a$$.w))*$n$$.y},$apply_impulse$$=function $$apply_impulse$$$($body$$,$jx$$,$jy$$,
$r$$){$body$$.vx+=$jx$$*$body$$.m_inv;$body$$.vy+=$jy$$*$body$$.m_inv;$body$$.w+=$body$$.i_inv*($r$$.x*$jy$$-$r$$.y*$jx$$)},$apply_impulses$$=function $$apply_impulses$$$($a$$,$b$$,$r1$$,$r2$$,$jx$$,$jy$$){$apply_impulse$$($a$$,-$jx$$,-$jy$$,$r1$$);$apply_impulse$$($b$$,$jx$$,$jy$$,$r2$$)},$apply_bias_impulse$$=function $$apply_bias_impulse$$$($body$$,$jx$$,$jy$$,$r$$){$body$$.v_biasx+=$jx$$*$body$$.m_inv;$body$$.v_biasy+=$jy$$*$body$$.m_inv;$body$$.w_bias+=$body$$.i_inv*($r$$.x*$jy$$-$r$$.y*$jx$$)},
$k_scalar_body$$=function $$k_scalar_body$$$($body$$,$r$$,$n$$){$r$$=$vcross$$($r$$,$n$$);return $body$$.m_inv+$body$$.i_inv*$r$$*$r$$},$k_scalar$$=function $$k_scalar$$$($a$$550_value$$,$b$$,$r1$$,$r2$$,$n$$){$a$$550_value$$=$k_scalar_body$$($a$$550_value$$,$r1$$,$n$$)+$k_scalar_body$$($b$$,$r2$$,$n$$);$assertSoft$$(0!==$a$$550_value$$,"Unsolvable collision or constraint.");return $a$$550_value$$},$k_tensor$$=function $$k_tensor$$$($a$$,$b$$403_det_inv_determinant$$,$k11$$3_r1$$,$k12$$2_r2$$,$k1$$,
$k2$$){var $k22$$;$k22$$=$a$$.m_inv+$b$$403_det_inv_determinant$$.m_inv;var $a_i_inv_b_i_inv$$=$a$$.i_inv,$r1xsq_r2nxy$$=$k11$$3_r1$$.x*$k11$$3_r1$$.x*$a_i_inv_b_i_inv$$;$a$$=-$k11$$3_r1$$.x*$k11$$3_r1$$.y*$a_i_inv_b_i_inv$$;$k11$$3_r1$$=$k22$$+$k11$$3_r1$$.y*$k11$$3_r1$$.y*$a_i_inv_b_i_inv$$;$k22$$+=$r1xsq_r2nxy$$;$a_i_inv_b_i_inv$$=$b$$403_det_inv_determinant$$.i_inv;$b$$403_det_inv_determinant$$=$k12$$2_r2$$.x*$k12$$2_r2$$.x*$a_i_inv_b_i_inv$$;$r1xsq_r2nxy$$=-$k12$$2_r2$$.x*$k12$$2_r2$$.y*$a_i_inv_b_i_inv$$;
$k11$$3_r1$$+=$k12$$2_r2$$.y*$k12$$2_r2$$.y*$a_i_inv_b_i_inv$$;$k12$$2_r2$$=0+$a$$+$r1xsq_r2nxy$$;$a$$=0+$a$$+$r1xsq_r2nxy$$;$k22$$+=$b$$403_det_inv_determinant$$;$b$$403_det_inv_determinant$$=$k11$$3_r1$$*$k22$$-$k12$$2_r2$$*$a$$;$assertSoft$$(0!==$b$$403_det_inv_determinant$$,"Unsolvable constraint.");$b$$403_det_inv_determinant$$=1/$b$$403_det_inv_determinant$$;$k1$$.x=$k22$$*$b$$403_det_inv_determinant$$;$k1$$.y=-$k12$$2_r2$$*$b$$403_det_inv_determinant$$;$k2$$.x=-$a$$*$b$$403_det_inv_determinant$$;
$k2$$.y=$k11$$3_r1$$*$b$$403_det_inv_determinant$$},$Constraint$$=$cp$$.Constraint=function $$cp$$$Constraint$($a$$,$b$$){this.a=$a$$;this.b=$b$$;this.next_b=this.next_a=this.space=null;this.maxForce=Infinity;this.errorBias=Math.pow(.9,60);this.maxBias=Infinity};$Constraint$$.prototype.activateBodies=function $$Constraint$$$$activateBodies$(){this.a&&this.a.activate();this.b&&this.b.activate()};$Constraint$$.prototype.preStep=function $$Constraint$$$$preStep$($dt$$){};$Constraint$$.prototype.applyCachedImpulse=
function $$Constraint$$$$applyCachedImpulse$($dt_coef$$){};$Constraint$$.prototype.applyImpulse=function $$Constraint$$$$applyImpulse$(){};$Constraint$$.prototype.getImpulse=function $$Constraint$$$$getImpulse$(){return 0};$Constraint$$.prototype.preSolve=function $$Constraint$$$$preSolve$($space$$){};$Constraint$$.prototype.postSolve=function $$Constraint$$$$postSolve$($space$$){};$Constraint$$.prototype.next=function $$Constraint$$$$next$($body$$){return this.a===$body$$?this.next_a:this.next_b};
var $PinJoint$$=$cp$$.PinJoint=function $$cp$$$PinJoint$($a$$553_p1$$,$b$$405_p2$$,$anchr1$$,$anchr2$$){$Constraint$$.call(this,$a$$553_p1$$,$b$$405_p2$$);this.anchr1=$anchr1$$;this.anchr2=$anchr2$$;$a$$553_p1$$=$a$$553_p1$$?$vadd$$($a$$553_p1$$.p,$vrotate$$($anchr1$$,$a$$553_p1$$.rot)):$anchr1$$;$b$$405_p2$$=$b$$405_p2$$?$vadd$$($b$$405_p2$$.p,$vrotate$$($anchr2$$,$b$$405_p2$$.rot)):$anchr2$$;this.dist=$vlength$$($vsub$$($b$$405_p2$$,$a$$553_p1$$));$assertSoft$$(0<this.dist,"You created a 0 length pin joint. A pivot joint will be much more stable.");
this.n=this.r1=this.r2=null;this.bias=this.jnAcc=this.jnMax=this.nMass=0};$PinJoint$$.prototype=Object.create($Constraint$$.prototype);$PinJoint$$.prototype.preStep=function $$PinJoint$$$$preStep$($dt$$){var $a$$=this.a,$b$$=this.b;this.r1=$vrotate$$(this.anchr1,$a$$.rot);this.r2=$vrotate$$(this.anchr2,$b$$.rot);var $delta$$=$vsub$$($vadd$$($b$$.p,this.r2),$vadd$$($a$$.p,this.r1)),$dist$$=$vlength$$($delta$$);this.n=$vmult$$($delta$$,1/($dist$$?$dist$$:Infinity));this.nMass=1/$k_scalar$$($a$$,$b$$,
this.r1,this.r2,this.n);$a$$=this.maxBias;this.bias=$clamp$$(-(1-Math.pow(this.errorBias,$dt$$))*($dist$$-this.dist)/$dt$$,-$a$$,$a$$);this.jnMax=this.maxForce*$dt$$};$PinJoint$$.prototype.applyCachedImpulse=function $$PinJoint$$$$applyCachedImpulse$($dt_coef$$3_j$$){$dt_coef$$3_j$$=$vmult$$(this.n,this.jnAcc*$dt_coef$$3_j$$);$apply_impulses$$(this.a,this.b,this.r1,this.r2,$dt_coef$$3_j$$.x,$dt_coef$$3_j$$.y)};$PinJoint$$.prototype.applyImpulse=function $$PinJoint$$$$applyImpulse$(){var $a$$=this.a,
$b$$=this.b,$n$$=this.n,$jn$$4_vrn$$=$normal_relative_velocity$$($a$$,$b$$,this.r1,this.r2,$n$$),$jn$$4_vrn$$=(this.bias-$jn$$4_vrn$$)*this.nMass,$jnOld$$=this.jnAcc;this.jnAcc=$clamp$$($jnOld$$+$jn$$4_vrn$$,-this.jnMax,this.jnMax);$jn$$4_vrn$$=this.jnAcc-$jnOld$$;$apply_impulses$$($a$$,$b$$,this.r1,this.r2,$n$$.x*$jn$$4_vrn$$,$n$$.y*$jn$$4_vrn$$)};$PinJoint$$.prototype.getImpulse=function $$PinJoint$$$$getImpulse$(){return Math.abs(this.jnAcc)};var $SlideJoint$$=$cp$$.SlideJoint=function $$cp$$$SlideJoint$($a$$,
$b$$,$anchr1$$,$anchr2$$,$min$$,$max$$){$Constraint$$.call(this,$a$$,$b$$);this.anchr1=$anchr1$$;this.anchr2=$anchr2$$;this.min=$min$$;this.max=$max$$;this.r1=this.r2=this.n=null;this.bias=this.jnAcc=this.jnMax=this.nMass=0};$SlideJoint$$.prototype=Object.create($Constraint$$.prototype);$SlideJoint$$.prototype.preStep=function $$SlideJoint$$$$preStep$($dt$$){var $a$$557_maxBias$$=this.a,$b$$=this.b;this.r1=$vrotate$$(this.anchr1,$a$$557_maxBias$$.rot);this.r2=$vrotate$$(this.anchr2,$b$$.rot);var $delta$$=
$vsub$$($vadd$$($b$$.p,this.r2),$vadd$$($a$$557_maxBias$$.p,this.r1)),$dist$$=$vlength$$($delta$$),$pdist$$=0;$dist$$>this.max?($pdist$$=$dist$$-this.max,this.n=$vnormalize_safe$$($delta$$)):$dist$$<this.min?($pdist$$=this.min-$dist$$,this.n=$vneg$$($vnormalize_safe$$($delta$$))):(this.n=$vzero$$,this.jnAcc=0);this.nMass=1/$k_scalar$$($a$$557_maxBias$$,$b$$,this.r1,this.r2,this.n);$a$$557_maxBias$$=this.maxBias;this.bias=$clamp$$(-(1-Math.pow(this.errorBias,$dt$$))*$pdist$$/$dt$$,-$a$$557_maxBias$$,
$a$$557_maxBias$$);this.jnMax=this.maxForce*$dt$$};$SlideJoint$$.prototype.applyCachedImpulse=function $$SlideJoint$$$$applyCachedImpulse$($dt_coef$$4_jn$$){$dt_coef$$4_jn$$*=this.jnAcc;$apply_impulses$$(this.a,this.b,this.r1,this.r2,this.n.x*$dt_coef$$4_jn$$,this.n.y*$dt_coef$$4_jn$$)};$SlideJoint$$.prototype.applyImpulse=function $$SlideJoint$$$$applyImpulse$(){if(0!==this.n.x||0!==this.n.y){var $a$$=this.a,$b$$=this.b,$n$$=this.n,$jn$$6_vr$$1_vrn$$=$relative_velocity$$($a$$,$b$$,this.r1,this.r2),
$jn$$6_vr$$1_vrn$$=$vdot$$($jn$$6_vr$$1_vrn$$,$n$$),$jn$$6_vr$$1_vrn$$=(this.bias-$jn$$6_vr$$1_vrn$$)*this.nMass,$jnOld$$=this.jnAcc;this.jnAcc=$clamp$$($jnOld$$+$jn$$6_vr$$1_vrn$$,-this.jnMax,0);$jn$$6_vr$$1_vrn$$=this.jnAcc-$jnOld$$;$apply_impulses$$($a$$,$b$$,this.r1,this.r2,$n$$.x*$jn$$6_vr$$1_vrn$$,$n$$.y*$jn$$6_vr$$1_vrn$$)}};$SlideJoint$$.prototype.getImpulse=function $$SlideJoint$$$$getImpulse$(){return Math.abs(this.jnAcc)};var $PivotJoint$$=$cp$$.PivotJoint=function $$cp$$$PivotJoint$($a$$,
$b$$,$anchr1$$,$anchr2$$2_pivot$$){$Constraint$$.call(this,$a$$,$b$$);"undefined"===typeof $anchr2$$2_pivot$$&&($anchr2$$2_pivot$$=$anchr1$$,$anchr1$$=$a$$?$a$$.world2Local($anchr2$$2_pivot$$):$anchr2$$2_pivot$$,$anchr2$$2_pivot$$=$b$$?$b$$.world2Local($anchr2$$2_pivot$$):$anchr2$$2_pivot$$);this.anchr1=$anchr1$$;this.anchr2=$anchr2$$2_pivot$$;this.r1=this.r2=$vzero$$;this.k1=new $Vect$$(0,0);this.k2=new $Vect$$(0,0);this.jAcc=$vzero$$;this.jMaxLen=0;this.bias=$vzero$$};$PivotJoint$$.prototype=Object.create($Constraint$$.prototype);
$PivotJoint$$.prototype.preStep=function $$PivotJoint$$$$preStep$($dt$$){var $a$$560_delta$$=this.a,$b$$=this.b;this.r1=$vrotate$$(this.anchr1,$a$$560_delta$$.rot);this.r2=$vrotate$$(this.anchr2,$b$$.rot);$k_tensor$$($a$$560_delta$$,$b$$,this.r1,this.r2,this.k1,this.k2);this.jMaxLen=this.maxForce*$dt$$;$a$$560_delta$$=$vsub$$($vadd$$($b$$.p,this.r2),$vadd$$($a$$560_delta$$.p,this.r1));this.bias=$vclamp$$($vmult$$($a$$560_delta$$,-(1-Math.pow(this.errorBias,$dt$$))/$dt$$),this.maxBias)};$PivotJoint$$.prototype.applyCachedImpulse=
function $$PivotJoint$$$$applyCachedImpulse$($dt_coef$$){$apply_impulses$$(this.a,this.b,this.r1,this.r2,this.jAcc.x*$dt_coef$$,this.jAcc.y*$dt_coef$$)};$PivotJoint$$.prototype.applyImpulse=function $$PivotJoint$$$$applyImpulse$(){var $a$$=this.a,$b$$=this.b,$j$$111_vr$$2_vr$$=$relative_velocity$$($a$$,$b$$,this.r1,this.r2),$j$$111_vr$$2_vr$$=$vsub$$(this.bias,$j$$111_vr$$2_vr$$),$jOld_k2$$=this.k2,$j$$111_vr$$2_vr$$=new $Vect$$($vdot$$($j$$111_vr$$2_vr$$,this.k1),$vdot$$($j$$111_vr$$2_vr$$,$jOld_k2$$)),
$jOld_k2$$=this.jAcc;this.jAcc=$vclamp$$($vadd$$(this.jAcc,$j$$111_vr$$2_vr$$),this.jMaxLen);$apply_impulses$$($a$$,$b$$,this.r1,this.r2,this.jAcc.x-$jOld_k2$$.x,this.jAcc.y-$jOld_k2$$.y)};$PivotJoint$$.prototype.getImpulse=function $$PivotJoint$$$$getImpulse$(){return $vlength$$(this.jAcc)};var $GrooveJoint$$=$cp$$.GrooveJoint=function $$cp$$$GrooveJoint$($a$$,$b$$,$groove_a$$,$groove_b$$,$anchr2$$){$Constraint$$.call(this,$a$$,$b$$);this.grv_a=$groove_a$$;this.grv_b=$groove_b$$;this.grv_n=$vperp$$($vnormalize$$($vsub$$($groove_b$$,
$groove_a$$)));this.anchr2=$anchr2$$;this.grv_tn=null;this.clamp=0;this.r1=this.r2=null;this.k1=new $Vect$$(0,0);this.k2=new $Vect$$(0,0);this.jAcc=$vzero$$;this.jMaxLen=0;this.bias=null};$GrooveJoint$$.prototype=Object.create($Constraint$$.prototype);$GrooveJoint$$.prototype.preStep=function $$GrooveJoint$$$$preStep$($dt$$){var $a$$563_delta$$=this.a,$b$$=this.b,$ta$$=$a$$563_delta$$.local2World(this.grv_a),$tb$$=$a$$563_delta$$.local2World(this.grv_b),$n$$=$vrotate$$(this.grv_n,$a$$563_delta$$.rot),
$d$$=$vdot$$($ta$$,$n$$);this.grv_tn=$n$$;this.r2=$vrotate$$(this.anchr2,$b$$.rot);var $td$$=$vcross$$($vadd$$($b$$.p,this.r2),$n$$);$td$$<=$vcross$$($ta$$,$n$$)?(this.clamp=1,this.r1=$vsub$$($ta$$,$a$$563_delta$$.p)):$td$$>=$vcross$$($tb$$,$n$$)?(this.clamp=-1,this.r1=$vsub$$($tb$$,$a$$563_delta$$.p)):(this.clamp=0,this.r1=$vsub$$($vadd$$($vmult$$($vperp$$($n$$),-$td$$),$vmult$$($n$$,$d$$)),$a$$563_delta$$.p));$k_tensor$$($a$$563_delta$$,$b$$,this.r1,this.r2,this.k1,this.k2);this.jMaxLen=this.maxForce*
$dt$$;$a$$563_delta$$=$vsub$$($vadd$$($b$$.p,this.r2),$vadd$$($a$$563_delta$$.p,this.r1));this.bias=$vclamp$$($vmult$$($a$$563_delta$$,-(1-Math.pow(this.errorBias,$dt$$))/$dt$$),this.maxBias)};$GrooveJoint$$.prototype.applyCachedImpulse=function $$GrooveJoint$$$$applyCachedImpulse$($dt_coef$$){$apply_impulses$$(this.a,this.b,this.r1,this.r2,this.jAcc.x*$dt_coef$$,this.jAcc.y*$dt_coef$$)};$GrooveJoint$$.prototype.grooveConstrain=function $$GrooveJoint$$$$grooveConstrain$($j$$){var $n$$=this.grv_tn;
$j$$=0<this.clamp*$vcross$$($j$$,$n$$)?$j$$:$vproject$$($j$$,$n$$);return $vclamp$$($j$$,this.jMaxLen)};$GrooveJoint$$.prototype.applyImpulse=function $$GrooveJoint$$$$applyImpulse$(){var $a$$=this.a,$b$$=this.b,$j$$113_vr$$3_vr$$=$relative_velocity$$($a$$,$b$$,this.r1,this.r2),$j$$113_vr$$3_vr$$=$vsub$$(this.bias,$j$$113_vr$$3_vr$$),$jOld$$1_k2$$=this.k2,$j$$113_vr$$3_vr$$=new $Vect$$($vdot$$($j$$113_vr$$3_vr$$,this.k1),$vdot$$($j$$113_vr$$3_vr$$,$jOld$$1_k2$$)),$jOld$$1_k2$$=this.jAcc;this.jAcc=
this.grooveConstrain($vadd$$($jOld$$1_k2$$,$j$$113_vr$$3_vr$$));$apply_impulses$$($a$$,$b$$,this.r1,this.r2,this.jAcc.x-$jOld$$1_k2$$.x,this.jAcc.y-$jOld$$1_k2$$.y)};$GrooveJoint$$.prototype.getImpulse=function $$GrooveJoint$$$$getImpulse$(){return $vlength$$(this.jAcc)};$GrooveJoint$$.prototype.setGrooveA=function $$GrooveJoint$$$$setGrooveA$($value$$){this.grv_a=$value$$;this.grv_n=$vperp$$($vnormalize$$($vsub$$(this.grv_b,$value$$)));this.activateBodies()};$GrooveJoint$$.prototype.setGrooveB=function $$GrooveJoint$$$$setGrooveB$($value$$){this.grv_b=
$value$$;this.grv_n=$vperp$$($vnormalize$$($vsub$$($value$$,this.grv_a)));this.activateBodies()};var $defaultSpringForce$$=function $$defaultSpringForce$$$($spring$$,$dist$$){return($spring$$.restLength-$dist$$)*$spring$$.stiffness},$DampedSpring$$=$cp$$.DampedSpring=function $$cp$$$DampedSpring$($a$$,$b$$,$anchr1$$,$anchr2$$,$restLength$$,$stiffness$$,$damping$$){$Constraint$$.call(this,$a$$,$b$$);this.anchr1=$anchr1$$;this.anchr2=$anchr2$$;this.restLength=$restLength$$;this.stiffness=$stiffness$$;
this.damping=$damping$$;this.springForceFunc=$defaultSpringForce$$;this.target_vrn=this.v_coef=0;this.r1=this.r2=null;this.nMass=0;this.n=null};$DampedSpring$$.prototype=Object.create($Constraint$$.prototype);$DampedSpring$$.prototype.preStep=function $$DampedSpring$$$$preStep$($dt$$){var $a$$=this.a,$b$$=this.b;this.r1=$vrotate$$(this.anchr1,$a$$.rot);this.r2=$vrotate$$(this.anchr2,$b$$.rot);var $delta$$18_k$$=$vsub$$($vadd$$($b$$.p,this.r2),$vadd$$($a$$.p,this.r1)),$dist$$=$vlength$$($delta$$18_k$$);
this.n=$vmult$$($delta$$18_k$$,1/($dist$$?$dist$$:Infinity));$delta$$18_k$$=$k_scalar$$($a$$,$b$$,this.r1,this.r2,this.n);$assertSoft$$(0!==$delta$$18_k$$,"Unsolvable this.");this.nMass=1/$delta$$18_k$$;this.target_vrn=0;this.v_coef=1-Math.exp(-this.damping*$dt$$*$delta$$18_k$$);$dist$$=this.springForceFunc(this,$dist$$);$apply_impulses$$($a$$,$b$$,this.r1,this.r2,this.n.x*$dist$$*$dt$$,this.n.y*$dist$$*$dt$$)};$DampedSpring$$.prototype.applyCachedImpulse=function $$DampedSpring$$$$applyCachedImpulse$($dt_coef$$){};
$DampedSpring$$.prototype.applyImpulse=function $$DampedSpring$$$$applyImpulse$(){var $a$$=this.a,$b$$=this.b,$vrn$$=$normal_relative_velocity$$($a$$,$b$$,this.r1,this.r2,this.n),$v_damp$$=(this.target_vrn-$vrn$$)*this.v_coef;this.target_vrn=$vrn$$+$v_damp$$;$v_damp$$*=this.nMass;$apply_impulses$$($a$$,$b$$,this.r1,this.r2,this.n.x*$v_damp$$,this.n.y*$v_damp$$)};$DampedSpring$$.prototype.getImpulse=function $$DampedSpring$$$$getImpulse$(){return 0};var $defaultSpringTorque$$=function $$defaultSpringTorque$$$($spring$$,
$relativeAngle$$){return($relativeAngle$$-$spring$$.restAngle)*$spring$$.stiffness},$DampedRotarySpring$$=$cp$$.DampedRotarySpring=function $$cp$$$DampedRotarySpring$($a$$,$b$$,$restAngle$$,$stiffness$$,$damping$$){$Constraint$$.call(this,$a$$,$b$$);this.restAngle=$restAngle$$;this.stiffness=$stiffness$$;this.damping=$damping$$;this.springTorqueFunc=$defaultSpringTorque$$;this.iSum=this.w_coef=this.target_wrn=0};$DampedRotarySpring$$.prototype=Object.create($Constraint$$.prototype);$DampedRotarySpring$$.prototype.preStep=
function $$DampedRotarySpring$$$$preStep$($dt$$){var $a$$=this.a,$b$$=this.b,$moment$$=$a$$.i_inv+$b$$.i_inv;$assertSoft$$(0!==$moment$$,"Unsolvable spring.");this.iSum=1/$moment$$;this.w_coef=1-Math.exp(-this.damping*$dt$$*$moment$$);this.target_wrn=0;$dt$$*=this.springTorqueFunc(this,$a$$.a-$b$$.a);$a$$.w-=$dt$$*$a$$.i_inv;$b$$.w+=$dt$$*$b$$.i_inv};$DampedRotarySpring$$.prototype.applyImpulse=function $$DampedRotarySpring$$$$applyImpulse$(){var $a$$=this.a,$b$$=this.b,$j_damp_wrn$$=$a$$.w-$b$$.w,
$w_damp$$=(this.target_wrn-$j_damp_wrn$$)*this.w_coef;this.target_wrn=$j_damp_wrn$$+$w_damp$$;$j_damp_wrn$$=$w_damp$$*this.iSum;$a$$.w+=$j_damp_wrn$$*$a$$.i_inv;$b$$.w-=$j_damp_wrn$$*$b$$.i_inv};var $RotaryLimitJoint$$=$cp$$.RotaryLimitJoint=function $$cp$$$RotaryLimitJoint$($a$$,$b$$,$min$$,$max$$){$Constraint$$.call(this,$a$$,$b$$);this.min=$min$$;this.max=$max$$;this.iSum=this.bias=this.jMax=this.jAcc=0};$RotaryLimitJoint$$.prototype=Object.create($Constraint$$.prototype);$RotaryLimitJoint$$.prototype.preStep=
function $$RotaryLimitJoint$$$$preStep$($dt$$){var $a$$572_maxBias$$=this.a,$b$$=this.b,$dist$$=$b$$.a-$a$$572_maxBias$$.a,$pdist$$=0;$dist$$>this.max?$pdist$$=this.max-$dist$$:$dist$$<this.min&&($pdist$$=this.min-$dist$$);this.iSum=1/(1/$a$$572_maxBias$$.i+1/$b$$.i);$a$$572_maxBias$$=this.maxBias;this.bias=$clamp$$(-(1-Math.pow(this.errorBias,$dt$$))*$pdist$$/$dt$$,-$a$$572_maxBias$$,$a$$572_maxBias$$);this.jMax=this.maxForce*$dt$$;this.bias||(this.jAcc=0)};$RotaryLimitJoint$$.prototype.applyCachedImpulse=
function $$RotaryLimitJoint$$$$applyCachedImpulse$($dt_coef$$8_j$$){var $a$$=this.a,$b$$=this.b;$dt_coef$$8_j$$*=this.jAcc;$a$$.w-=$dt_coef$$8_j$$*$a$$.i_inv;$b$$.w+=$dt_coef$$8_j$$*$b$$.i_inv};$RotaryLimitJoint$$.prototype.applyImpulse=function $$RotaryLimitJoint$$$$applyImpulse$(){if(this.bias){var $a$$=this.a,$b$$=this.b,$j$$=-(this.bias+($b$$.w-$a$$.w))*this.iSum,$jOld$$=this.jAcc;this.jAcc=0>this.bias?$clamp$$($jOld$$+$j$$,0,this.jMax):$clamp$$($jOld$$+$j$$,-this.jMax,0);$j$$=this.jAcc-$jOld$$;
$a$$.w-=$j$$*$a$$.i_inv;$b$$.w+=$j$$*$b$$.i_inv}};$RotaryLimitJoint$$.prototype.getImpulse=function $$RotaryLimitJoint$$$$getImpulse$(){return Math.abs(joint.jAcc)};var $RatchetJoint$$=$cp$$.RatchetJoint=function $$cp$$$RatchetJoint$($a$$,$b$$,$phase$$,$ratchet$$){$Constraint$$.call(this,$a$$,$b$$);this.angle=0;this.phase=$phase$$;this.ratchet=$ratchet$$;this.angle=($b$$?$b$$.a:0)-($a$$?$a$$.a:0);this.iSum=this.bias=this.jAcc=this.jMax=0};$RatchetJoint$$.prototype=Object.create($Constraint$$.prototype);
$RatchetJoint$$.prototype.preStep=function $$RatchetJoint$$$$preStep$($dt$$){var $a$$576_maxBias$$=this.a,$b$$=this.b,$phase$$=this.phase,$ratchet$$=this.ratchet,$delta$$=$b$$.a-$a$$576_maxBias$$.a,$diff$$=this.angle-$delta$$,$pdist$$=0;0<$diff$$*$ratchet$$?$pdist$$=$diff$$:this.angle=Math.floor(($delta$$-$phase$$)/$ratchet$$)*$ratchet$$+$phase$$;this.iSum=1/($a$$576_maxBias$$.i_inv+$b$$.i_inv);$a$$576_maxBias$$=this.maxBias;this.bias=$clamp$$(-(1-Math.pow(this.errorBias,$dt$$))*$pdist$$/$dt$$,-$a$$576_maxBias$$,
$a$$576_maxBias$$);this.jMax=this.maxForce*$dt$$;this.bias||(this.jAcc=0)};$RatchetJoint$$.prototype.applyCachedImpulse=function $$RatchetJoint$$$$applyCachedImpulse$($dt_coef$$9_j$$){var $a$$=this.a,$b$$=this.b;$dt_coef$$9_j$$*=this.jAcc;$a$$.w-=$dt_coef$$9_j$$*$a$$.i_inv;$b$$.w+=$dt_coef$$9_j$$*$b$$.i_inv};$RatchetJoint$$.prototype.applyImpulse=function $$RatchetJoint$$$$applyImpulse$(){if(this.bias){var $a$$=this.a,$b$$=this.b,$ratchet$$=this.ratchet,$j$$=-(this.bias+($b$$.w-$a$$.w))*this.iSum,
$jOld$$=this.jAcc;this.jAcc=$clamp$$(($jOld$$+$j$$)*$ratchet$$,0,this.jMax*Math.abs($ratchet$$))/$ratchet$$;$j$$=this.jAcc-$jOld$$;$a$$.w-=$j$$*$a$$.i_inv;$b$$.w+=$j$$*$b$$.i_inv}};$RatchetJoint$$.prototype.getImpulse=function $$RatchetJoint$$$$getImpulse$($joint$$){return Math.abs($joint$$.jAcc)};var $GearJoint$$=$cp$$.GearJoint=function $$cp$$$GearJoint$($a$$,$b$$,$phase$$,$ratio$$){$Constraint$$.call(this,$a$$,$b$$);this.phase=$phase$$;this.ratio=$ratio$$;this.ratio_inv=1/$ratio$$;this.iSum=this.bias=
this.jMax=this.jAcc=0};$GearJoint$$.prototype=Object.create($Constraint$$.prototype);$GearJoint$$.prototype.preStep=function $$GearJoint$$$$preStep$($dt$$){var $a$$=this.a,$b$$=this.b;this.iSum=1/($a$$.i_inv*this.ratio_inv+this.ratio*$b$$.i_inv);var $maxBias$$=this.maxBias;this.bias=$clamp$$(-(1-Math.pow(this.errorBias,$dt$$))*($b$$.a*this.ratio-$a$$.a-this.phase)/$dt$$,-$maxBias$$,$maxBias$$);this.jMax=this.maxForce*$dt$$};$GearJoint$$.prototype.applyCachedImpulse=function $$GearJoint$$$$applyCachedImpulse$($dt_coef$$10_j$$){var $a$$=
this.a,$b$$=this.b;$dt_coef$$10_j$$*=this.jAcc;$a$$.w-=$dt_coef$$10_j$$*$a$$.i_inv*this.ratio_inv;$b$$.w+=$dt_coef$$10_j$$*$b$$.i_inv};$GearJoint$$.prototype.applyImpulse=function $$GearJoint$$$$applyImpulse$(){var $a$$=this.a,$b$$=this.b,$j$$=(this.bias-($b$$.w*this.ratio-$a$$.w))*this.iSum,$jOld$$=this.jAcc;this.jAcc=$clamp$$($jOld$$+$j$$,-this.jMax,this.jMax);$j$$=this.jAcc-$jOld$$;$a$$.w-=$j$$*$a$$.i_inv*this.ratio_inv;$b$$.w+=$j$$*$b$$.i_inv};$GearJoint$$.prototype.getImpulse=function $$GearJoint$$$$getImpulse$(){return Math.abs(this.jAcc)};
$GearJoint$$.prototype.setRatio=function $$GearJoint$$$$setRatio$($value$$){this.ratio=$value$$;this.ratio_inv=1/$value$$;this.activateBodies()};var $SimpleMotor$$=$cp$$.SimpleMotor=function $$cp$$$SimpleMotor$($a$$,$b$$,$rate$$){$Constraint$$.call(this,$a$$,$b$$);this.rate=$rate$$;this.iSum=this.jMax=this.jAcc=0};$SimpleMotor$$.prototype=Object.create($Constraint$$.prototype);$SimpleMotor$$.prototype.preStep=function $$SimpleMotor$$$$preStep$($dt$$){this.iSum=1/(this.a.i_inv+this.b.i_inv);this.jMax=
this.maxForce*$dt$$};$SimpleMotor$$.prototype.applyCachedImpulse=function $$SimpleMotor$$$$applyCachedImpulse$($dt_coef$$11_j$$){var $a$$=this.a,$b$$=this.b;$dt_coef$$11_j$$*=this.jAcc;$a$$.w-=$dt_coef$$11_j$$*$a$$.i_inv;$b$$.w+=$dt_coef$$11_j$$*$b$$.i_inv};$SimpleMotor$$.prototype.applyImpulse=function $$SimpleMotor$$$$applyImpulse$(){var $a$$=this.a,$b$$=this.b,$j$$=-($b$$.w-$a$$.w+this.rate)*this.iSum,$jOld$$=this.jAcc;this.jAcc=$clamp$$($jOld$$+$j$$,-this.jMax,this.jMax);$j$$=this.jAcc-$jOld$$;
$a$$.w-=$j$$*$a$$.i_inv;$b$$.w+=$j$$*$b$$.i_inv};$SimpleMotor$$.prototype.getImpulse=function $$SimpleMotor$$$$getImpulse$(){return Math.abs(this.jAcc)}})();var sp=sp||{};sp.VERTEX_INDEX={X1:0,Y1:1,X2:2,Y2:3,X3:4,Y3:5,X4:6,Y4:7};sp.ATTACHMENT_TYPE={REGION:0,BOUNDING_BOX:1,REGION_SEQUENCE:2};
sp.Skeleton=cc.Node.extend({_skeleton:null,_rootBone:null,_timeScale:1,_debugSlots:!1,_debugBones:!1,_premultipliedAlpha:!1,_ownsSkeletonData:null,_atlas:null,_blendFunc:null,ctor:function($skeletonDataFile$$,$atlasFile$$,$scale$$){cc.Node.prototype.ctor.call(this);this._blendFunc={src:cc.BLEND_SRC,dst:cc.BLEND_DST};0===arguments.length?this.init():this.initWithArgs($skeletonDataFile$$,$atlasFile$$,$scale$$)},_initRendererCmd:function(){this._rendererCmd=cc._renderType===cc._RENDER_TYPE_WEBGL?new cc.SkeletonRenderCmdWebGL(this):
new cc.SkeletonRenderCmdCanvas(this)},init:function(){cc.Node.prototype.init.call(this);this.setOpacityModifyRGB(!0);this._blendFunc.src=cc.ONE;this._blendFunc.dst=cc.ONE_MINUS_SRC_ALPHA;cc._renderType===cc._RENDER_TYPE_WEBGL&&this.setShaderProgram(cc.shaderCache.programForKey(cc.SHADER_POSITION_TEXTURECOLOR));this.scheduleUpdate()},setDebugSolots:function($enable$$){this._debugSlots=$enable$$},setDebugBones:function($enable$$){this._debugBones=$enable$$},setTimeScale:function($v$$){this._timeScale=
$v$$},initWithArgs:function($skeletonData_skeletonDataFile$$,$atlas$$1_atlasFile$$,$ownsSkeletonData_scale$$){if(cc.isString($skeletonData_skeletonDataFile$$)){if(cc.isString($atlas$$1_atlasFile$$)){var $attachmentLoader_data$$=cc.loader.getRes($atlas$$1_atlasFile$$);sp._atlasLoader.setAtlasFile($atlas$$1_atlasFile$$);$atlas$$1_atlasFile$$=new spine.Atlas($attachmentLoader_data$$,sp._atlasLoader)}$ownsSkeletonData_scale$$=$ownsSkeletonData_scale$$||1/cc.director.getContentScaleFactor();$attachmentLoader_data$$=
new spine.AtlasAttachmentLoader($atlas$$1_atlasFile$$);$attachmentLoader_data$$=new spine.SkeletonJson($attachmentLoader_data$$);$attachmentLoader_data$$.scale=$ownsSkeletonData_scale$$;$skeletonData_skeletonDataFile$$=cc.loader.getRes($skeletonData_skeletonDataFile$$);$skeletonData_skeletonDataFile$$=$attachmentLoader_data$$.readSkeletonData($skeletonData_skeletonDataFile$$);$atlas$$1_atlasFile$$.dispose($attachmentLoader_data$$);$ownsSkeletonData_scale$$=!0}else $ownsSkeletonData_scale$$=$atlas$$1_atlasFile$$;
this.setSkeletonData($skeletonData_skeletonDataFile$$,$ownsSkeletonData_scale$$);this.init()},boundingBox:function(){for(var $minX$$=cc.FLT_MAX,$minY$$=cc.FLT_MAX,$maxX$$=cc.FLT_MIN,$maxY$$=cc.FLT_MIN,$position$$39_scaleX$$=this.getScaleX(),$scaleY$$=this.getScaleY(),$vertices$$=[],$slots$$=this._skeleton.slots,$VERTEX$$=sp.VERTEX_INDEX,$i$$=0,$slotCount$$=$slots$$.length;$i$$<$slotCount$$;++$i$$){var $slot$$=$slots$$[$i$$];$slot$$.attachment&&$slot$$.attachment.type==sp.ATTACHMENT_TYPE.REGION&&(sp._regionAttachment_computeWorldVertices($slot$$.attachment,
$slot$$.skeleton.x,$slot$$.skeleton.y,$slot$$.bone,$vertices$$),$minX$$=Math.min($minX$$,$vertices$$[$VERTEX$$.X1]*$position$$39_scaleX$$,$vertices$$[$VERTEX$$.X4]*$position$$39_scaleX$$,$vertices$$[$VERTEX$$.X2]*$position$$39_scaleX$$,$vertices$$[$VERTEX$$.X3]*$position$$39_scaleX$$),$minY$$=Math.min($minY$$,$vertices$$[$VERTEX$$.Y1]*$scaleY$$,$vertices$$[$VERTEX$$.Y4]*$scaleY$$,$vertices$$[$VERTEX$$.Y2]*$scaleY$$,$vertices$$[$VERTEX$$.Y3]*$scaleY$$),$maxX$$=Math.max($maxX$$,$vertices$$[$VERTEX$$.X1]*
$position$$39_scaleX$$,$vertices$$[$VERTEX$$.X4]*$position$$39_scaleX$$,$vertices$$[$VERTEX$$.X2]*$position$$39_scaleX$$,$vertices$$[$VERTEX$$.X3]*$position$$39_scaleX$$),$maxY$$=Math.max($maxY$$,$vertices$$[$VERTEX$$.Y1]*$scaleY$$,$vertices$$[$VERTEX$$.Y4]*$scaleY$$,$vertices$$[$VERTEX$$.Y2]*$scaleY$$,$vertices$$[$VERTEX$$.Y3]*$scaleY$$))}$position$$39_scaleX$$=this.getPosition();return cc.rect($position$$39_scaleX$$.x+$minX$$,$position$$39_scaleX$$.y+$minY$$,$maxX$$-$minX$$,$maxY$$-$minY$$)},updateWorldTransform:function(){this._skeleton.updateWorldTransform()},
setToSetupPose:function(){this._skeleton.setToSetupPose()},setBonesToSetupPose:function(){this._skeleton.setBonesToSetupPose()},setSlotsToSetupPose:function(){this._skeleton.setSlotsToSetupPose()},findBone:function($boneName$$){return this._skeleton.findBone($boneName$$)},findSlot:function($slotName$$){return this._skeleton.findSlot($slotName$$)},setSkin:function($skinName$$){return this._skeleton.setSkinByName($skinName$$)},getAttachment:function($slotName$$,$attachmentName$$){return this._skeleton.getAttachmentBySlotName($slotName$$,
$attachmentName$$)},setAttachment:function($slotName$$,$attachmentName$$){this._skeleton.setAttachment($slotName$$,$attachmentName$$)},setOpacityModifyRGB:function($alpha$$){this._premultipliedAlpha=$alpha$$},isOpacityModifyRGB:function(){return this._premultipliedAlpha},setSkeletonData:function($skeletonData$$,$ownsSkeletonData$$){this._skeleton=new spine.Skeleton($skeletonData$$);this._rootBone=this._skeleton.getRootBone();this._ownsSkeletonData=$ownsSkeletonData$$;if(cc._renderType===cc._RENDER_TYPE_CANVAS)for(var $locSkeleton$$=
this._skeleton,$attachment$$6_rendererObject_sprite$$,$rect$$,$i$$=0,$n$$=$locSkeleton$$.drawOrder.length;$i$$<$n$$;$i$$++){var $slot$$=$locSkeleton$$.drawOrder[$i$$];$attachment$$6_rendererObject_sprite$$=$slot$$.attachment;$attachment$$6_rendererObject_sprite$$ instanceof spine.RegionAttachment&&($attachment$$6_rendererObject_sprite$$=$attachment$$6_rendererObject_sprite$$.rendererObject,$rect$$=cc.rect($attachment$$6_rendererObject_sprite$$.x,$attachment$$6_rendererObject_sprite$$.y,$attachment$$6_rendererObject_sprite$$.width,
$attachment$$6_rendererObject_sprite$$.height),$attachment$$6_rendererObject_sprite$$=new cc.Sprite($attachment$$6_rendererObject_sprite$$.page._texture,$rect$$,$attachment$$6_rendererObject_sprite$$.rotate),this.addChild($attachment$$6_rendererObject_sprite$$,-1),$slot$$.currentSprite=$attachment$$6_rendererObject_sprite$$)}},getTextureAtlas:function($regionAttachment$$){return $regionAttachment$$.rendererObject.page.rendererObject},getBlendFunc:function(){return this._blendFunc},setBlendFunc:function($src$$,
$dst$$){var $locBlendFunc$$=this._blendFunc;void 0===$dst$$?($locBlendFunc$$.src=$src$$.src,$locBlendFunc$$.dst=$src$$.dst):($locBlendFunc$$.src=$src$$,$locBlendFunc$$.dst=$dst$$)},update:function($drawOrder_dt$$){this._skeleton.update($drawOrder_dt$$);if(cc._renderType===cc._RENDER_TYPE_CANVAS){this._skeleton.updateWorldTransform();$drawOrder_dt$$=this._skeleton.drawOrder;for(var $i$$=0,$n$$=$drawOrder_dt$$.length;$i$$<$n$$;$i$$++){var $slot$$=$drawOrder_dt$$[$i$$],$attachment$$=$slot$$.attachment,
$selSprite$$=$slot$$.currentSprite;if($attachment$$ instanceof spine.RegionAttachment){if(!$selSprite$$){var $bone$$36_rendererObject$$1_sprite$$=$attachment$$.rendererObject,$rect$$=cc.rect($bone$$36_rendererObject$$1_sprite$$.x,$bone$$36_rendererObject$$1_sprite$$.y,$bone$$36_rendererObject$$1_sprite$$.width,$bone$$36_rendererObject$$1_sprite$$.height),$bone$$36_rendererObject$$1_sprite$$=new cc.Sprite($bone$$36_rendererObject$$1_sprite$$.page._texture,$rect$$,$bone$$36_rendererObject$$1_sprite$$.rotate);
this.addChild($bone$$36_rendererObject$$1_sprite$$,-1);$slot$$.currentSprite=$bone$$36_rendererObject$$1_sprite$$}$selSprite$$.setVisible(!0);$selSprite$$.setBlendFunc(cc.BLEND_SRC,$slot$$.data.additiveBlending?cc.ONE:cc.BLEND_DST);$bone$$36_rendererObject$$1_sprite$$=$slot$$.bone;$selSprite$$.setPosition($bone$$36_rendererObject$$1_sprite$$.worldX+$attachment$$.x*$bone$$36_rendererObject$$1_sprite$$.m00+$attachment$$.y*$bone$$36_rendererObject$$1_sprite$$.m01,$bone$$36_rendererObject$$1_sprite$$.worldY+
$attachment$$.x*$bone$$36_rendererObject$$1_sprite$$.m10+$attachment$$.y*$bone$$36_rendererObject$$1_sprite$$.m11);$selSprite$$.setScale($bone$$36_rendererObject$$1_sprite$$.worldScaleX,$bone$$36_rendererObject$$1_sprite$$.worldScaleY);$selSprite$$.setRotation(-($slot$$.bone.worldRotation+$attachment$$.rotation))}else $selSprite$$&&$selSprite$$.setVisible(!1)}}}});
sp.Skeleton.create=function $sp$Skeleton$create$($skeletonDataFile$$,$atlasFile$$,$scale$$){return new sp.Skeleton($skeletonDataFile$$,$atlasFile$$,$scale$$)};var spine=spine||{};spine.BoneData=function $spine$BoneData$($name$$,$parent$$){this.name=$name$$;this.parent=$parent$$};spine.BoneData.prototype={length:0,x:0,y:0,rotation:0,scaleX:1,scaleY:1,inheritScale:!0,inheritRotation:!0};
spine.SlotData=function $spine$SlotData$($name$$,$boneData$$){this.name=$name$$;this.boneData=$boneData$$;this.r=this.g=this.b=this.a=1};spine.SlotData.prototype={r:1,g:1,b:1,a:1,attachmentName:null,additiveBlending:!1};spine.Bone=function $spine$Bone$($boneData$$,$parent$$){this.data=$boneData$$;this.parent=$parent$$;this.setToSetupPose()};spine.Bone.yDown=!1;
spine.Bone.prototype={x:0,y:0,rotation:0,scaleX:1,scaleY:1,m00:0,m01:0,worldX:0,m10:0,m11:0,worldY:0,worldRotation:0,worldScaleX:1,worldScaleY:1,updateWorldTransform:function $spine$Bone$$updateWorldTransform$($flipX$$,$flipY$$){var $cos_parent$$=this.parent;null!=$cos_parent$$?(this.worldX=this.x*$cos_parent$$.m00+this.y*$cos_parent$$.m01+$cos_parent$$.worldX,this.worldY=this.x*$cos_parent$$.m10+this.y*$cos_parent$$.m11+$cos_parent$$.worldY,this.data.inheritScale?(this.worldScaleX=$cos_parent$$.worldScaleX*
this.scaleX,this.worldScaleY=$cos_parent$$.worldScaleY*this.scaleY):(this.worldScaleX=this.scaleX,this.worldScaleY=this.scaleY),this.worldRotation=this.data.inheritRotation?$cos_parent$$.worldRotation+this.rotation:this.rotation):(this.worldX=$flipX$$?-this.x:this.x,this.worldY=$flipY$$!=spine.Bone.yDown?-this.y:this.y,this.worldScaleX=this.scaleX,this.worldScaleY=this.scaleY,this.worldRotation=this.rotation);var $radians$$=this.worldRotation*Math.PI/180,$cos_parent$$=Math.cos($radians$$),$radians$$=
Math.sin($radians$$);this.m00=$cos_parent$$*this.worldScaleX;this.m10=$radians$$*this.worldScaleX;this.m01=-$radians$$*this.worldScaleY;this.m11=$cos_parent$$*this.worldScaleY;$flipX$$&&(this.m00=-this.m00,this.m01=-this.m01);$flipY$$!=spine.Bone.yDown&&(this.m10=-this.m10,this.m11=-this.m11)},setToSetupPose:function $spine$Bone$$setToSetupPose$(){var $data$$=this.data;this.x=$data$$.x;this.y=$data$$.y;this.rotation=$data$$.rotation;this.scaleX=$data$$.scaleX;this.scaleY=$data$$.scaleY}};
spine.Slot=function $spine$Slot$($slotData$$,$skeleton$$,$bone$$){this.data=$slotData$$;this.skeleton=$skeleton$$;this.bone=$bone$$;this.setToSetupPose()};
spine.Slot.prototype={r:1,g:1,b:1,a:1,_attachmentTime:0,attachment:null,setAttachment:function $spine$Slot$$setAttachment$($attachment$$){this.attachment=$attachment$$;this._attachmentTime=this.skeleton.time},setAttachmentTime:function $spine$Slot$$setAttachmentTime$($time$$){this._attachmentTime=this.skeleton.time-$time$$},getAttachmentTime:function $spine$Slot$$getAttachmentTime$(){return this.skeleton.time-this._attachmentTime},setToSetupPose:function $spine$Slot$$setToSetupPose$(){var $data$$=
this.data;this.r=$data$$.r;this.g=$data$$.g;this.b=$data$$.b;this.a=$data$$.a;for(var $slotDatas$$=this.skeleton.data.slots,$i$$=0,$n$$=$slotDatas$$.length;$i$$<$n$$;$i$$++)if($slotDatas$$[$i$$]==$data$$){this.setAttachment($data$$.attachmentName?this.skeleton.getAttachmentBySlotIndex($i$$,$data$$.attachmentName):null);break}}};spine.Skin=function $spine$Skin$($name$$){this.name=$name$$;this.attachments={}};
spine.Skin.prototype={addAttachment:function $spine$Skin$$addAttachment$($slotIndex$$,$name$$,$attachment$$){this.attachments[$slotIndex$$+":"+$name$$]=$attachment$$},getAttachment:function $spine$Skin$$getAttachment$($slotIndex$$,$name$$){return this.attachments[$slotIndex$$+":"+$name$$]},_attachAll:function $spine$Skin$$_attachAll$($skeleton$$,$oldSkin$$){console.log($oldSkin$$.attachments);for(var $key$$ in $oldSkin$$.attachments){var $colon_slot$$=$key$$.indexOf(":"),$attachment$$10_slotIndex$$=
parseInt($key$$.substring(0,$colon_slot$$)),$name$$=$key$$.substring($colon_slot$$+1),$colon_slot$$=$skeleton$$.slots[$attachment$$10_slotIndex$$];$colon_slot$$.attachment&&$colon_slot$$.attachment.name==$name$$&&($attachment$$10_slotIndex$$=this.getAttachment($attachment$$10_slotIndex$$,$name$$))&&$colon_slot$$.setAttachment($attachment$$10_slotIndex$$)}}};spine.Animation=function $spine$Animation$($name$$,$timelines$$,$duration$$){this.name=$name$$;this.timelines=$timelines$$;this.duration=$duration$$};
spine.Animation.prototype={apply:function $spine$Animation$$apply$($skeleton$$,$lastTime$$,$time$$,$loop$$20_timelines$$,$events$$){$loop$$20_timelines$$&&0!=this.duration&&($time$$%=this.duration,$lastTime$$%=this.duration);$loop$$20_timelines$$=this.timelines;for(var $i$$=0,$n$$=$loop$$20_timelines$$.length;$i$$<$n$$;$i$$++)$loop$$20_timelines$$[$i$$].apply($skeleton$$,$lastTime$$,$time$$,$events$$,1)},mix:function $spine$Animation$$mix$($skeleton$$,$lastTime$$,$time$$,$loop$$21_timelines$$,$events$$,
$alpha$$){$loop$$21_timelines$$&&0!=this.duration&&($time$$%=this.duration,$lastTime$$%=this.duration);$loop$$21_timelines$$=this.timelines;for(var $i$$=0,$n$$=$loop$$21_timelines$$.length;$i$$<$n$$;$i$$++)$loop$$21_timelines$$[$i$$].apply($skeleton$$,$lastTime$$,$time$$,$events$$,$alpha$$)}};
spine.binarySearch=function $spine$binarySearch$($values$$,$target$$,$step$$){var $low$$=0,$high$$=Math.floor($values$$.length/$step$$)-2;if(0==$high$$)return $step$$;for(var $current$$=$high$$>>>1;;){$values$$[($current$$+1)*$step$$]<=$target$$?$low$$=$current$$+1:$high$$=$current$$;if($low$$==$high$$)return($low$$+1)*$step$$;$current$$=$low$$+$high$$>>>1}};
spine.linearSearch=function $spine$linearSearch$($values$$,$target$$,$step$$){for(var $i$$=0,$last$$=$values$$.length-$step$$;$i$$<=$last$$;$i$$+=$step$$)if($values$$[$i$$]>$target$$)return $i$$;return-1};spine.Curves=function $spine$Curves$($frameCount$$){this.curves=[];this.curves.length=6*($frameCount$$-1)};
spine.Curves.prototype={setLinear:function $spine$Curves$$setLinear$($frameIndex$$){this.curves[6*$frameIndex$$]=0},setStepped:function $spine$Curves$$setStepped$($frameIndex$$){this.curves[6*$frameIndex$$]=-1},setCurve:function $spine$Curves$$setCurve$($frameIndex$$29_i$$,$cx1$$,$cy1$$,$cx2_tmp2x$$,$cy2_tmp2y$$){var $pre4_subdiv_step2$$=.1*.1,$subdiv_step3$$=.1*$pre4_subdiv_step2$$,$pre1$$=3*.1,$pre2$$=3*$pre4_subdiv_step2$$,$pre4_subdiv_step2$$=6*$pre4_subdiv_step2$$,$pre5$$=6*$subdiv_step3$$,$tmp1x$$=
2*-$cx1$$+$cx2_tmp2x$$,$tmp1y$$=2*-$cy1$$+$cy2_tmp2y$$;$cx2_tmp2x$$=3*($cx1$$-$cx2_tmp2x$$)+1;$cy2_tmp2y$$=3*($cy1$$-$cy2_tmp2y$$)+1;$frameIndex$$29_i$$*=6;var $curves$$=this.curves;$curves$$[$frameIndex$$29_i$$]=$cx1$$*$pre1$$+$tmp1x$$*$pre2$$+$cx2_tmp2x$$*$subdiv_step3$$;$curves$$[$frameIndex$$29_i$$+1]=$cy1$$*$pre1$$+$tmp1y$$*$pre2$$+$cy2_tmp2y$$*$subdiv_step3$$;$curves$$[$frameIndex$$29_i$$+2]=$tmp1x$$*$pre4_subdiv_step2$$+$cx2_tmp2x$$*$pre5$$;$curves$$[$frameIndex$$29_i$$+3]=$tmp1y$$*$pre4_subdiv_step2$$+
$cy2_tmp2y$$*$pre5$$;$curves$$[$frameIndex$$29_i$$+4]=$cx2_tmp2x$$*$pre5$$;$curves$$[$frameIndex$$29_i$$+5]=$cy2_tmp2y$$*$pre5$$},getCurvePercent:function $spine$Curves$$getCurvePercent$($frameIndex$$,$percent$$){$percent$$=0>$percent$$?0:1<$percent$$?1:$percent$$;var $curveIndex_x$$=6*$frameIndex$$,$curves$$1_y$$=this.curves,$dfx_lastX$$=$curves$$1_y$$[$curveIndex_x$$];if(!$dfx_lastX$$)return $percent$$;if(-1==$dfx_lastX$$)return 0;for(var $dfy_lastY$$=$curves$$1_y$$[$curveIndex_x$$+1],$ddfx$$=$curves$$1_y$$[$curveIndex_x$$+
2],$ddfy$$=$curves$$1_y$$[$curveIndex_x$$+3],$dddfx$$=$curves$$1_y$$[$curveIndex_x$$+4],$dddfy$$=$curves$$1_y$$[$curveIndex_x$$+5],$curveIndex_x$$=$dfx_lastX$$,$curves$$1_y$$=$dfy_lastY$$,$i$$=8;;){if($curveIndex_x$$>=$percent$$)return $dfx_lastX$$=$curveIndex_x$$-$dfx_lastX$$,$dfy_lastY$$=$curves$$1_y$$-$dfy_lastY$$,$dfy_lastY$$+($curves$$1_y$$-$dfy_lastY$$)*($percent$$-$dfx_lastX$$)/($curveIndex_x$$-$dfx_lastX$$);if(0==$i$$)break;$i$$--;$dfx_lastX$$+=$ddfx$$;$dfy_lastY$$+=$ddfy$$;$ddfx$$+=$dddfx$$;
$ddfy$$+=$dddfy$$;$curveIndex_x$$+=$dfx_lastX$$;$curves$$1_y$$+=$dfy_lastY$$}return $curves$$1_y$$+(1-$curves$$1_y$$)*($percent$$-$curveIndex_x$$)/(1-$curveIndex_x$$)}};spine.RotateTimeline=function $spine$RotateTimeline$($frameCount$$){this.curves=new spine.Curves($frameCount$$);this.frames=[];this.frames.length=2*$frameCount$$};
spine.RotateTimeline.prototype={boneIndex:0,getFrameCount:function $spine$RotateTimeline$$getFrameCount$(){return this.frames.length/2},setFrame:function $spine$RotateTimeline$$setFrame$($frameIndex$$,$time$$,$angle$$){$frameIndex$$*=2;this.frames[$frameIndex$$]=$time$$;this.frames[$frameIndex$$+1]=$angle$$},apply:function $spine$RotateTimeline$$apply$($bone$$38_skeleton$$,$amount$$5_frames$$13_lastTime$$,$percent$$37_time$$,$firedEvents_lastFrameValue$$,$alpha$$){$amount$$5_frames$$13_lastTime$$=
this.frames;if(!($percent$$37_time$$<$amount$$5_frames$$13_lastTime$$[0])){$bone$$38_skeleton$$=$bone$$38_skeleton$$.bones[this.boneIndex];if($percent$$37_time$$>=$amount$$5_frames$$13_lastTime$$[$amount$$5_frames$$13_lastTime$$.length-2])$amount$$5_frames$$13_lastTime$$=$bone$$38_skeleton$$.data.rotation+$amount$$5_frames$$13_lastTime$$[$amount$$5_frames$$13_lastTime$$.length-1]-$bone$$38_skeleton$$.rotation;else{var $frameIndex$$=spine.binarySearch($amount$$5_frames$$13_lastTime$$,$percent$$37_time$$,
2);$firedEvents_lastFrameValue$$=$amount$$5_frames$$13_lastTime$$[$frameIndex$$-1];var $frameTime$$=$amount$$5_frames$$13_lastTime$$[$frameIndex$$];$percent$$37_time$$=1-($percent$$37_time$$-$frameTime$$)/($amount$$5_frames$$13_lastTime$$[$frameIndex$$-2]-$frameTime$$);$percent$$37_time$$=this.curves.getCurvePercent($frameIndex$$/2-1,$percent$$37_time$$);for($amount$$5_frames$$13_lastTime$$=$amount$$5_frames$$13_lastTime$$[$frameIndex$$+1]-$firedEvents_lastFrameValue$$;180<$amount$$5_frames$$13_lastTime$$;)$amount$$5_frames$$13_lastTime$$-=
360;for(;-180>$amount$$5_frames$$13_lastTime$$;)$amount$$5_frames$$13_lastTime$$+=360;$amount$$5_frames$$13_lastTime$$=$bone$$38_skeleton$$.data.rotation+($firedEvents_lastFrameValue$$+$amount$$5_frames$$13_lastTime$$*$percent$$37_time$$)-$bone$$38_skeleton$$.rotation}for(;180<$amount$$5_frames$$13_lastTime$$;)$amount$$5_frames$$13_lastTime$$-=360;for(;-180>$amount$$5_frames$$13_lastTime$$;)$amount$$5_frames$$13_lastTime$$+=360;$bone$$38_skeleton$$.rotation+=$amount$$5_frames$$13_lastTime$$*$alpha$$}}};
spine.TranslateTimeline=function $spine$TranslateTimeline$($frameCount$$){this.curves=new spine.Curves($frameCount$$);this.frames=[];this.frames.length=3*$frameCount$$};
spine.TranslateTimeline.prototype={boneIndex:0,getFrameCount:function $spine$TranslateTimeline$$getFrameCount$(){return this.frames.length/3},setFrame:function $spine$TranslateTimeline$$setFrame$($frameIndex$$,$time$$,$x$$,$y$$){$frameIndex$$*=3;this.frames[$frameIndex$$]=$time$$;this.frames[$frameIndex$$+1]=$x$$;this.frames[$frameIndex$$+2]=$y$$},apply:function $spine$TranslateTimeline$$apply$($bone$$39_skeleton$$,$frames$$14_lastTime$$,$percent$$38_time$$,$firedEvents$$1_frameIndex$$,$alpha$$){$frames$$14_lastTime$$=
this.frames;if(!($percent$$38_time$$<$frames$$14_lastTime$$[0]))if($bone$$39_skeleton$$=$bone$$39_skeleton$$.bones[this.boneIndex],$percent$$38_time$$>=$frames$$14_lastTime$$[$frames$$14_lastTime$$.length-3])$bone$$39_skeleton$$.x+=($bone$$39_skeleton$$.data.x+$frames$$14_lastTime$$[$frames$$14_lastTime$$.length-2]-$bone$$39_skeleton$$.x)*$alpha$$,$bone$$39_skeleton$$.y+=($bone$$39_skeleton$$.data.y+$frames$$14_lastTime$$[$frames$$14_lastTime$$.length-1]-$bone$$39_skeleton$$.y)*$alpha$$;else{$firedEvents$$1_frameIndex$$=
spine.binarySearch($frames$$14_lastTime$$,$percent$$38_time$$,3);var $lastFrameX$$=$frames$$14_lastTime$$[$firedEvents$$1_frameIndex$$-2],$lastFrameY$$=$frames$$14_lastTime$$[$firedEvents$$1_frameIndex$$-1],$frameTime$$=$frames$$14_lastTime$$[$firedEvents$$1_frameIndex$$];$percent$$38_time$$=1-($percent$$38_time$$-$frameTime$$)/($frames$$14_lastTime$$[$firedEvents$$1_frameIndex$$+-3]-$frameTime$$);$percent$$38_time$$=this.curves.getCurvePercent($firedEvents$$1_frameIndex$$/3-1,$percent$$38_time$$);
$bone$$39_skeleton$$.x+=($bone$$39_skeleton$$.data.x+$lastFrameX$$+($frames$$14_lastTime$$[$firedEvents$$1_frameIndex$$+1]-$lastFrameX$$)*$percent$$38_time$$-$bone$$39_skeleton$$.x)*$alpha$$;$bone$$39_skeleton$$.y+=($bone$$39_skeleton$$.data.y+$lastFrameY$$+($frames$$14_lastTime$$[$firedEvents$$1_frameIndex$$+2]-$lastFrameY$$)*$percent$$38_time$$-$bone$$39_skeleton$$.y)*$alpha$$}}};
spine.ScaleTimeline=function $spine$ScaleTimeline$($frameCount$$){this.curves=new spine.Curves($frameCount$$);this.frames=[];this.frames.length=3*$frameCount$$};
spine.ScaleTimeline.prototype={boneIndex:0,getFrameCount:function $spine$ScaleTimeline$$getFrameCount$(){return this.frames.length/3},setFrame:function $spine$ScaleTimeline$$setFrame$($frameIndex$$,$time$$,$x$$,$y$$){$frameIndex$$*=3;this.frames[$frameIndex$$]=$time$$;this.frames[$frameIndex$$+1]=$x$$;this.frames[$frameIndex$$+2]=$y$$},apply:function $spine$ScaleTimeline$$apply$($bone$$40_skeleton$$,$frames$$15_lastTime$$,$percent$$39_time$$,$firedEvents$$2_frameIndex$$,$alpha$$){$frames$$15_lastTime$$=
this.frames;if(!($percent$$39_time$$<$frames$$15_lastTime$$[0]))if($bone$$40_skeleton$$=$bone$$40_skeleton$$.bones[this.boneIndex],$percent$$39_time$$>=$frames$$15_lastTime$$[$frames$$15_lastTime$$.length-3])$bone$$40_skeleton$$.scaleX+=($bone$$40_skeleton$$.data.scaleX-1+$frames$$15_lastTime$$[$frames$$15_lastTime$$.length-2]-$bone$$40_skeleton$$.scaleX)*$alpha$$,$bone$$40_skeleton$$.scaleY+=($bone$$40_skeleton$$.data.scaleY-1+$frames$$15_lastTime$$[$frames$$15_lastTime$$.length-1]-$bone$$40_skeleton$$.scaleY)*
$alpha$$;else{$firedEvents$$2_frameIndex$$=spine.binarySearch($frames$$15_lastTime$$,$percent$$39_time$$,3);var $lastFrameX$$=$frames$$15_lastTime$$[$firedEvents$$2_frameIndex$$-2],$lastFrameY$$=$frames$$15_lastTime$$[$firedEvents$$2_frameIndex$$-1],$frameTime$$=$frames$$15_lastTime$$[$firedEvents$$2_frameIndex$$];$percent$$39_time$$=1-($percent$$39_time$$-$frameTime$$)/($frames$$15_lastTime$$[$firedEvents$$2_frameIndex$$+-3]-$frameTime$$);$percent$$39_time$$=this.curves.getCurvePercent($firedEvents$$2_frameIndex$$/
3-1,$percent$$39_time$$);$bone$$40_skeleton$$.scaleX+=($bone$$40_skeleton$$.data.scaleX-1+$lastFrameX$$+($frames$$15_lastTime$$[$firedEvents$$2_frameIndex$$+1]-$lastFrameX$$)*$percent$$39_time$$-$bone$$40_skeleton$$.scaleX)*$alpha$$;$bone$$40_skeleton$$.scaleY+=($bone$$40_skeleton$$.data.scaleY-1+$lastFrameY$$+($frames$$15_lastTime$$[$firedEvents$$2_frameIndex$$+2]-$lastFrameY$$)*$percent$$39_time$$-$bone$$40_skeleton$$.scaleY)*$alpha$$}}};
spine.ColorTimeline=function $spine$ColorTimeline$($frameCount$$){this.curves=new spine.Curves($frameCount$$);this.frames=[];this.frames.length=5*$frameCount$$};
spine.ColorTimeline.prototype={slotIndex:0,getFrameCount:function $spine$ColorTimeline$$getFrameCount$(){return this.frames.length/5},setFrame:function $spine$ColorTimeline$$setFrame$($frameIndex$$,$time$$,$r$$,$g$$,$b$$,$a$$){$frameIndex$$*=5;this.frames[$frameIndex$$]=$time$$;this.frames[$frameIndex$$+1]=$r$$;this.frames[$frameIndex$$+2]=$g$$;this.frames[$frameIndex$$+3]=$b$$;this.frames[$frameIndex$$+4]=$a$$},apply:function $spine$ColorTimeline$$apply$($skeleton$$9_slot$$,$a$$587_frames$$16_lastTime$$,
$percent$$40_time$$,$firedEvents$$3_frameIndex$$,$alpha$$36_i$$){$a$$587_frames$$16_lastTime$$=this.frames;if(!($percent$$40_time$$<$a$$587_frames$$16_lastTime$$[0]))if($skeleton$$9_slot$$=$skeleton$$9_slot$$.slots[this.slotIndex],$percent$$40_time$$>=$a$$587_frames$$16_lastTime$$[$a$$587_frames$$16_lastTime$$.length-5])$alpha$$36_i$$=$a$$587_frames$$16_lastTime$$.length-1,$skeleton$$9_slot$$.r=$a$$587_frames$$16_lastTime$$[$alpha$$36_i$$-3],$skeleton$$9_slot$$.g=$a$$587_frames$$16_lastTime$$[$alpha$$36_i$$-
2],$skeleton$$9_slot$$.b=$a$$587_frames$$16_lastTime$$[$alpha$$36_i$$-1],$skeleton$$9_slot$$.a=$a$$587_frames$$16_lastTime$$[$alpha$$36_i$$];else{$firedEvents$$3_frameIndex$$=spine.binarySearch($a$$587_frames$$16_lastTime$$,$percent$$40_time$$,5);var $lastFrameR_r$$=$a$$587_frames$$16_lastTime$$[$firedEvents$$3_frameIndex$$-4],$g$$=$a$$587_frames$$16_lastTime$$[$firedEvents$$3_frameIndex$$-3],$b$$=$a$$587_frames$$16_lastTime$$[$firedEvents$$3_frameIndex$$-2],$lastFrameA$$=$a$$587_frames$$16_lastTime$$[$firedEvents$$3_frameIndex$$-
1],$frameTime$$=$a$$587_frames$$16_lastTime$$[$firedEvents$$3_frameIndex$$];$percent$$40_time$$=1-($percent$$40_time$$-$frameTime$$)/($a$$587_frames$$16_lastTime$$[$firedEvents$$3_frameIndex$$-5]-$frameTime$$);$percent$$40_time$$=this.curves.getCurvePercent($firedEvents$$3_frameIndex$$/5-1,$percent$$40_time$$);$lastFrameR_r$$+=($a$$587_frames$$16_lastTime$$[$firedEvents$$3_frameIndex$$+1]-$lastFrameR_r$$)*$percent$$40_time$$;$g$$+=($a$$587_frames$$16_lastTime$$[$firedEvents$$3_frameIndex$$+2]-$g$$)*
$percent$$40_time$$;$b$$+=($a$$587_frames$$16_lastTime$$[$firedEvents$$3_frameIndex$$+3]-$b$$)*$percent$$40_time$$;$a$$587_frames$$16_lastTime$$=$lastFrameA$$+($a$$587_frames$$16_lastTime$$[$firedEvents$$3_frameIndex$$+4]-$lastFrameA$$)*$percent$$40_time$$;1>$alpha$$36_i$$?($skeleton$$9_slot$$.r+=($lastFrameR_r$$-$skeleton$$9_slot$$.r)*$alpha$$36_i$$,$skeleton$$9_slot$$.g+=($g$$-$skeleton$$9_slot$$.g)*$alpha$$36_i$$,$skeleton$$9_slot$$.b+=($b$$-$skeleton$$9_slot$$.b)*$alpha$$36_i$$,$skeleton$$9_slot$$.a+=
($a$$587_frames$$16_lastTime$$-$skeleton$$9_slot$$.a)*$alpha$$36_i$$):($skeleton$$9_slot$$.r=$lastFrameR_r$$,$skeleton$$9_slot$$.g=$g$$,$skeleton$$9_slot$$.b=$b$$,$skeleton$$9_slot$$.a=$a$$587_frames$$16_lastTime$$)}}};spine.AttachmentTimeline=function $spine$AttachmentTimeline$($frameCount$$){this.curves=new spine.Curves($frameCount$$);this.frames=[];this.frames.length=$frameCount$$;this.attachmentNames=[];this.attachmentNames.length=$frameCount$$};
spine.AttachmentTimeline.prototype={slotIndex:0,getFrameCount:function $spine$AttachmentTimeline$$getFrameCount$(){return this.frames.length},setFrame:function $spine$AttachmentTimeline$$setFrame$($frameIndex$$,$time$$,$attachmentName$$){this.frames[$frameIndex$$]=$time$$;this.attachmentNames[$frameIndex$$]=$attachmentName$$},apply:function $spine$AttachmentTimeline$$apply$($skeleton$$,$frames$$17_lastTime$$,$attachmentName$$3_frameIndex$$40_time$$,$firedEvents$$,$alpha$$){$frames$$17_lastTime$$=
this.frames;$attachmentName$$3_frameIndex$$40_time$$<$frames$$17_lastTime$$[0]||($attachmentName$$3_frameIndex$$40_time$$=$attachmentName$$3_frameIndex$$40_time$$>=$frames$$17_lastTime$$[$frames$$17_lastTime$$.length-1]?$frames$$17_lastTime$$.length-1:spine.binarySearch($frames$$17_lastTime$$,$attachmentName$$3_frameIndex$$40_time$$,1)-1,$attachmentName$$3_frameIndex$$40_time$$=this.attachmentNames[$attachmentName$$3_frameIndex$$40_time$$],$skeleton$$.slots[this.slotIndex].setAttachment($attachmentName$$3_frameIndex$$40_time$$?
$skeleton$$.getAttachmentBySlotIndex(this.slotIndex,$attachmentName$$3_frameIndex$$40_time$$):null))}};spine.EventTimeline=function $spine$EventTimeline$($frameCount$$){this.frames=[];this.frames.length=$frameCount$$;this.events=[];this.events.length=$frameCount$$};
spine.EventTimeline.prototype={getFrameCount:function $spine$EventTimeline$$getFrameCount$(){return this.frames.length},setFrame:function $spine$EventTimeline$$setFrame$($frameIndex$$,$time$$,$event$$){this.frames[$frameIndex$$]=$time$$;this.events[$frameIndex$$]=$event$$},apply:function $spine$EventTimeline$$apply$($frameIndex$$42_skeleton$$,$events$$5_frame$$80_lastTime$$,$time$$,$firedEvents$$,$alpha$$){if($firedEvents$$){var $frames$$=this.frames,$frameCount$$=$frames$$.length;if($events$$5_frame$$80_lastTime$$>
$time$$)this.apply($frameIndex$$42_skeleton$$,$events$$5_frame$$80_lastTime$$,Number.MAX_VALUE,$firedEvents$$,$alpha$$),$events$$5_frame$$80_lastTime$$=-1;else if($events$$5_frame$$80_lastTime$$>=$frames$$[$frameCount$$-1])return;if(!($time$$<$frames$$[0])){if($events$$5_frame$$80_lastTime$$<$frames$$[0])$frameIndex$$42_skeleton$$=0;else for($frameIndex$$42_skeleton$$=spine.binarySearch($frames$$,$events$$5_frame$$80_lastTime$$,1),$events$$5_frame$$80_lastTime$$=$frames$$[$frameIndex$$42_skeleton$$];0<
$frameIndex$$42_skeleton$$&&$frames$$[$frameIndex$$42_skeleton$$-1]==$events$$5_frame$$80_lastTime$$;)$frameIndex$$42_skeleton$$--;for($events$$5_frame$$80_lastTime$$=this.events;$frameIndex$$42_skeleton$$<$frameCount$$&&$time$$>=$frames$$[$frameIndex$$42_skeleton$$];$frameIndex$$42_skeleton$$++)$firedEvents$$.push($events$$5_frame$$80_lastTime$$[$frameIndex$$42_skeleton$$])}}}};
spine.DrawOrderTimeline=function $spine$DrawOrderTimeline$($frameCount$$){this.frames=[];this.frames.length=$frameCount$$;this.drawOrders=[];this.drawOrders.length=$frameCount$$};
spine.DrawOrderTimeline.prototype={getFrameCount:function $spine$DrawOrderTimeline$$getFrameCount$(){return this.frames.length},setFrame:function $spine$DrawOrderTimeline$$setFrame$($frameIndex$$,$time$$,$drawOrder$$){this.frames[$frameIndex$$]=$time$$;this.drawOrders[$frameIndex$$]=$drawOrder$$},apply:function $spine$DrawOrderTimeline$$apply$($skeleton$$,$frames$$19_lastTime$$10_slots$$,$drawOrder$$2_time$$,$drawOrderToSetupIndex_firedEvents$$6_frameIndex$$,$alpha$$39_i$$){$frames$$19_lastTime$$10_slots$$=
this.frames;if(!($drawOrder$$2_time$$<$frames$$19_lastTime$$10_slots$$[0]))if($drawOrderToSetupIndex_firedEvents$$6_frameIndex$$=$drawOrder$$2_time$$>=$frames$$19_lastTime$$10_slots$$[$frames$$19_lastTime$$10_slots$$.length-1]?$frames$$19_lastTime$$10_slots$$.length-1:spine.binarySearch($frames$$19_lastTime$$10_slots$$,$drawOrder$$2_time$$,1)-1,$drawOrder$$2_time$$=$skeleton$$.drawOrder,$frames$$19_lastTime$$10_slots$$=$skeleton$$.slots,$drawOrderToSetupIndex_firedEvents$$6_frameIndex$$=this.drawOrders[$drawOrderToSetupIndex_firedEvents$$6_frameIndex$$])for($alpha$$39_i$$=
0,$n$$=$drawOrderToSetupIndex_firedEvents$$6_frameIndex$$.length;$alpha$$39_i$$<$n$$;$alpha$$39_i$$++)$drawOrder$$2_time$$[$alpha$$39_i$$]=$skeleton$$.slots[$drawOrderToSetupIndex_firedEvents$$6_frameIndex$$[$alpha$$39_i$$]];else{$alpha$$39_i$$=0;for(var $n$$=$frames$$19_lastTime$$10_slots$$.length;$alpha$$39_i$$<$n$$;$alpha$$39_i$$++)$drawOrder$$2_time$$[$alpha$$39_i$$]=$frames$$19_lastTime$$10_slots$$[$alpha$$39_i$$]}}};
spine.SkeletonData=function $spine$SkeletonData$(){this.bones=[];this.slots=[];this.skins=[];this.events=[];this.animations=[]};
spine.SkeletonData.prototype={defaultSkin:null,findBone:function $spine$SkeletonData$$findBone$($boneName$$){for(var $bones$$=this.bones,$i$$=0,$n$$=$bones$$.length;$i$$<$n$$;$i$$++)if($bones$$[$i$$].name==$boneName$$)return $bones$$[$i$$];return null},findBoneIndex:function $spine$SkeletonData$$findBoneIndex$($boneName$$){for(var $bones$$=this.bones,$i$$=0,$n$$=$bones$$.length;$i$$<$n$$;$i$$++)if($bones$$[$i$$].name==$boneName$$)return $i$$;return-1},findSlot:function $spine$SkeletonData$$findSlot$($slotName$$){for(var $slots$$=
this.slots,$i$$=0,$n$$=$slots$$.length;$i$$<$n$$;$i$$++)if($slots$$[$i$$].name==$slotName$$)return $slots$$[$i$$];return null},findSlotIndex:function $spine$SkeletonData$$findSlotIndex$($slotName$$){for(var $slots$$=this.slots,$i$$=0,$n$$=$slots$$.length;$i$$<$n$$;$i$$++)if($slots$$[$i$$].name==$slotName$$)return $i$$;return-1},findSkin:function $spine$SkeletonData$$findSkin$($skinName$$){for(var $skins$$=this.skins,$i$$=0,$n$$=$skins$$.length;$i$$<$n$$;$i$$++)if($skins$$[$i$$].name==$skinName$$)return $skins$$[$i$$];
return null},findEvent:function $spine$SkeletonData$$findEvent$($eventName$$){for(var $events$$=this.events,$i$$=0,$n$$=$events$$.length;$i$$<$n$$;$i$$++)if($events$$[$i$$].name==$eventName$$)return $events$$[$i$$];return null},findAnimation:function $spine$SkeletonData$$findAnimation$($animationName$$){for(var $animations$$=this.animations,$i$$=0,$n$$=$animations$$.length;$i$$<$n$$;$i$$++)if($animations$$[$i$$].name==$animationName$$)return $animations$$[$i$$];return null}};
spine.Skeleton=function $spine$Skeleton$($skeletonData$$){this.data=$skeletonData$$;this.bones=[];for(var $i$$=0,$n$$=$skeletonData$$.bones.length;$i$$<$n$$;$i$$++){var $boneData$$13_slot$$7_slotData$$=$skeletonData$$.bones[$i$$],$bone$$41_parent$$=$boneData$$13_slot$$7_slotData$$.parent?this.bones[$skeletonData$$.bones.indexOf($boneData$$13_slot$$7_slotData$$.parent)]:null;this.bones.push(new spine.Bone($boneData$$13_slot$$7_slotData$$,$bone$$41_parent$$))}this.slots=[];this.drawOrder=[];$i$$=0;
for($n$$=$skeletonData$$.slots.length;$i$$<$n$$;$i$$++)$boneData$$13_slot$$7_slotData$$=$skeletonData$$.slots[$i$$],$bone$$41_parent$$=this.bones[$skeletonData$$.bones.indexOf($boneData$$13_slot$$7_slotData$$.boneData)],$boneData$$13_slot$$7_slotData$$=new spine.Slot($boneData$$13_slot$$7_slotData$$,this,$bone$$41_parent$$),this.slots.push($boneData$$13_slot$$7_slotData$$),this.drawOrder.push($boneData$$13_slot$$7_slotData$$)};
spine.Skeleton.prototype={x:0,y:0,skin:null,r:1,g:1,b:1,a:1,time:0,flipX:!1,flipY:!1,updateWorldTransform:function $spine$Skeleton$$updateWorldTransform$(){for(var $flipX$$=this.flipX,$flipY$$=this.flipY,$bones$$=this.bones,$i$$=0,$n$$=$bones$$.length;$i$$<$n$$;$i$$++)$bones$$[$i$$].updateWorldTransform($flipX$$,$flipY$$)},setToSetupPose:function $spine$Skeleton$$setToSetupPose$(){this.setBonesToSetupPose();this.setSlotsToSetupPose()},setBonesToSetupPose:function $spine$Skeleton$$setBonesToSetupPose$(){for(var $bones$$=
this.bones,$i$$=0,$n$$=$bones$$.length;$i$$<$n$$;$i$$++)$bones$$[$i$$].setToSetupPose()},setSlotsToSetupPose:function $spine$Skeleton$$setSlotsToSetupPose$(){for(var $slots$$=this.slots,$i$$=0,$n$$=$slots$$.length;$i$$<$n$$;$i$$++)$slots$$[$i$$].setToSetupPose($i$$)},getRootBone:function $spine$Skeleton$$getRootBone$(){return 0==this.bones.length?null:this.bones[0]},findBone:function $spine$Skeleton$$findBone$($boneName$$){for(var $bones$$=this.bones,$i$$=0,$n$$=$bones$$.length;$i$$<$n$$;$i$$++)if($bones$$[$i$$].data.name==
$boneName$$)return $bones$$[$i$$];return null},findBoneIndex:function $spine$Skeleton$$findBoneIndex$($boneName$$){for(var $bones$$=this.bones,$i$$=0,$n$$=$bones$$.length;$i$$<$n$$;$i$$++)if($bones$$[$i$$].data.name==$boneName$$)return $i$$;return-1},findSlot:function $spine$Skeleton$$findSlot$($slotName$$){for(var $slots$$=this.slots,$i$$=0,$n$$=$slots$$.length;$i$$<$n$$;$i$$++)if($slots$$[$i$$].data.name==$slotName$$)return $slots$$[$i$$];return null},findSlotIndex:function $spine$Skeleton$$findSlotIndex$($slotName$$){for(var $slots$$=
this.slots,$i$$=0,$n$$=$slots$$.length;$i$$<$n$$;$i$$++)if($slots$$[$i$$].data.name==$slotName$$)return $i$$;return-1},setSkinByName:function $spine$Skeleton$$setSkinByName$($skinName$$){var $skin$$=this.data.findSkin($skinName$$);if(!$skin$$)throw"Skin not found: "+$skinName$$;this.setSkin($skin$$)},setSkin:function $spine$Skeleton$$setSkin$($newSkin$$){this.skin&&$newSkin$$&&$newSkin$$._attachAll(this,this.skin);this.skin=$newSkin$$},getAttachmentBySlotName:function $spine$Skeleton$$getAttachmentBySlotName$($slotName$$,
$attachmentName$$){return this.getAttachmentBySlotIndex(this.data.findSlotIndex($slotName$$),$attachmentName$$)},getAttachmentBySlotIndex:function $spine$Skeleton$$getAttachmentBySlotIndex$($slotIndex$$,$attachmentName$$){if(this.skin){var $attachment$$=this.skin.getAttachment($slotIndex$$,$attachmentName$$);if($attachment$$)return $attachment$$}return this.data.defaultSkin?this.data.defaultSkin.getAttachment($slotIndex$$,$attachmentName$$):null},setAttachment:function $spine$Skeleton$$setAttachment$($slotName$$,
$attachmentName$$){for(var $attachment$$12_slots$$=this.slots,$i$$=0,$n$$=$attachment$$12_slots$$.length;$i$$<$n$$;$i$$++){var $slot$$=$attachment$$12_slots$$[$i$$];if($slot$$.data.name==$slotName$$){$attachment$$12_slots$$=null;if($attachmentName$$&&($attachment$$12_slots$$=this.getAttachment($i$$,$attachmentName$$),!$attachment$$12_slots$$))throw"Attachment not found: "+$attachmentName$$+", for slot: "+$slotName$$;$slot$$.setAttachment($attachment$$12_slots$$);return}}throw"Slot not found: "+$slotName$$;
},update:function $spine$Skeleton$$update$($delta$$){this.time+=$delta$$}};spine.EventData=function $spine$EventData$($name$$){this.name=$name$$};spine.EventData.prototype={intValue:0,floatValue:0,stringValue:null};spine.Event=function $spine$Event$($data$$){this.data=$data$$};spine.Event.prototype={intValue:0,floatValue:0,stringValue:null};spine.AttachmentType={region:0,boundingbox:1};
spine.RegionAttachment=function $spine$RegionAttachment$($name$$){this.name=$name$$;this.offset=[];this.offset.length=8;this.uvs=[];this.uvs.length=8;this.type=spine.AttachmentType.region};
spine.RegionAttachment.prototype={type:spine.AttachmentType.region,x:0,y:0,rotation:0,scaleX:1,scaleY:1,width:0,height:0,rendererObject:null,regionOffsetX:0,regionOffsetY:0,regionWidth:0,regionHeight:0,regionOriginalWidth:0,regionOriginalHeight:0,setUVs:function $spine$RegionAttachment$$setUVs$($u$$,$v$$,$u2$$,$v2$$,$rotate$$){var $uvs$$=this.uvs;$rotate$$?($uvs$$[2]=$u$$,$uvs$$[3]=$v2$$,$uvs$$[4]=$u$$,$uvs$$[5]=$v$$,$uvs$$[6]=$u2$$,$uvs$$[7]=$v$$,$uvs$$[0]=$u2$$,$uvs$$[1]=$v2$$):($uvs$$[0]=$u$$,
$uvs$$[1]=$v2$$,$uvs$$[2]=$u$$,$uvs$$[3]=$v$$,$uvs$$[4]=$u2$$,$uvs$$[5]=$v$$,$uvs$$[6]=$u2$$,$uvs$$[7]=$v2$$)},updateOffset:function $spine$RegionAttachment$$updateOffset$(){var $localY2_localY2Sin_regionScaleX$$=this.width/this.regionOriginalWidth*this.scaleX,$localXCos_radians$$=this.height/this.regionOriginalHeight*this.scaleY,$localX_localXSin$$=-this.width/2*this.scaleX+this.regionOffsetX*$localY2_localY2Sin_regionScaleX$$,$localY_localYSin$$=-this.height/2*this.scaleY+this.regionOffsetY*$localXCos_radians$$,
$localX2_localX2Sin$$=$localX_localXSin$$+this.regionWidth*$localY2_localY2Sin_regionScaleX$$,$localY2_localY2Sin_regionScaleX$$=$localY_localYSin$$+this.regionHeight*$localXCos_radians$$,$localXCos_radians$$=this.rotation*Math.PI/180,$cos$$=Math.cos($localXCos_radians$$),$offset$$80_sin$$=Math.sin($localXCos_radians$$),$localXCos_radians$$=$localX_localXSin$$*$cos$$+this.x,$localX_localXSin$$=$localX_localXSin$$*$offset$$80_sin$$,$localYCos$$=$localY_localYSin$$*$cos$$+this.y,$localY_localYSin$$=
$localY_localYSin$$*$offset$$80_sin$$,$localX2Cos$$=$localX2_localX2Sin$$*$cos$$+this.x,$localX2_localX2Sin$$=$localX2_localX2Sin$$*$offset$$80_sin$$,$cos$$=$localY2_localY2Sin_regionScaleX$$*$cos$$+this.y,$localY2_localY2Sin_regionScaleX$$=$localY2_localY2Sin_regionScaleX$$*$offset$$80_sin$$,$offset$$80_sin$$=this.offset;$offset$$80_sin$$[0]=$localXCos_radians$$-$localY_localYSin$$;$offset$$80_sin$$[1]=$localYCos$$+$localX_localXSin$$;$offset$$80_sin$$[2]=$localXCos_radians$$-$localY2_localY2Sin_regionScaleX$$;
$offset$$80_sin$$[3]=$cos$$+$localX_localXSin$$;$offset$$80_sin$$[4]=$localX2Cos$$-$localY2_localY2Sin_regionScaleX$$;$offset$$80_sin$$[5]=$cos$$+$localX2_localX2Sin$$;$offset$$80_sin$$[6]=$localX2Cos$$-$localY_localYSin$$;$offset$$80_sin$$[7]=$localYCos$$+$localX2_localX2Sin$$},computeVertices:function $spine$RegionAttachment$$computeVertices$($x$$,$y$$,$bone$$42_m11$$,$vertices$$){$x$$+=$bone$$42_m11$$.worldX;$y$$+=$bone$$42_m11$$.worldY;var $m00$$=$bone$$42_m11$$.m00,$m01$$=$bone$$42_m11$$.m01,
$m10$$=$bone$$42_m11$$.m10;$bone$$42_m11$$=$bone$$42_m11$$.m11;var $offset$$=this.offset;$vertices$$[0]=$offset$$[0]*$m00$$+$offset$$[1]*$m01$$+$x$$;$vertices$$[1]=$offset$$[0]*$m10$$+$offset$$[1]*$bone$$42_m11$$+$y$$;$vertices$$[2]=$offset$$[2]*$m00$$+$offset$$[3]*$m01$$+$x$$;$vertices$$[3]=$offset$$[2]*$m10$$+$offset$$[3]*$bone$$42_m11$$+$y$$;$vertices$$[4]=$offset$$[4]*$m00$$+$offset$$[5]*$m01$$+$x$$;$vertices$$[5]=$offset$$[4]*$m10$$+$offset$$[5]*$bone$$42_m11$$+$y$$;$vertices$$[6]=$offset$$[6]*
$m00$$+$offset$$[7]*$m01$$+$x$$;$vertices$$[7]=$offset$$[6]*$m10$$+$offset$$[7]*$bone$$42_m11$$+$y$$}};spine.BoundingBoxAttachment=function $spine$BoundingBoxAttachment$($name$$){this.name=$name$$;this.vertices=[];this.type=spine.AttachmentType.boundingBox};
spine.BoundingBoxAttachment.prototype={type:spine.AttachmentType.boundingBox,computeWorldVertices:function $spine$BoundingBoxAttachment$$computeWorldVertices$($x$$,$y$$,$bone$$43_m11$$,$worldVertices$$){$x$$+=$bone$$43_m11$$.worldX;$y$$+=$bone$$43_m11$$.worldY;var $m00$$=$bone$$43_m11$$.m00,$m01$$=$bone$$43_m11$$.m01,$m10$$=$bone$$43_m11$$.m10;$bone$$43_m11$$=$bone$$43_m11$$.m11;for(var $vertices$$=this.vertices,$i$$=0,$n$$=$vertices$$.length;$i$$<$n$$;$i$$+=2){var $px$$=$vertices$$[$i$$],$py$$=$vertices$$[$i$$+
1];$worldVertices$$[$i$$]=$px$$*$m00$$+$py$$*$m01$$+$x$$;$worldVertices$$[$i$$+1]=$px$$*$m10$$+$py$$*$bone$$43_m11$$+$y$$}}};spine.AnimationStateData=function $spine$AnimationStateData$($skeletonData$$){this.skeletonData=$skeletonData$$;this.animationToMixTime={}};
spine.AnimationStateData.prototype={defaultMix:0,setMixByName:function $spine$AnimationStateData$$setMixByName$($fromName_to$$,$toName$$,$duration$$){var $from$$=this.skeletonData.findAnimation($fromName_to$$);if(!$from$$)throw"Animation not found: "+$fromName_to$$;$fromName_to$$=this.skeletonData.findAnimation($toName$$);if(!$fromName_to$$)throw"Animation not found: "+$toName$$;this.setMix($from$$,$fromName_to$$,$duration$$)},setMix:function $spine$AnimationStateData$$setMix$($from$$,$to$$,$duration$$){this.animationToMixTime[$from$$.name+
":"+$to$$.name]=$duration$$},getMix:function $spine$AnimationStateData$$getMix$($from$$,$to$$){var $time$$=this.animationToMixTime[$from$$.name+":"+$to$$.name];return $time$$?$time$$:this.defaultMix}};spine.TrackEntry=function $spine$TrackEntry$(){};spine.TrackEntry.prototype={next:null,previous:null,animation:null,loop:!1,delay:0,time:0,lastTime:-1,endTime:0,timeScale:1,mixTime:0,mixDuration:0,onStart:null,onEnd:null,onComplete:null,onEvent:null};
spine.AnimationState=function $spine$AnimationState$($stateData$$){this.data=$stateData$$;this.tracks=[];this.events=[]};
spine.AnimationState.prototype={onStart:null,onEnd:null,onComplete:null,onEvent:null,timeScale:1,update:function $spine$AnimationState$$update$($delta$$){$delta$$*=this.timeScale;for(var $i$$=0;$i$$<this.tracks.length;$i$$++){var $current$$=this.tracks[$i$$];if($current$$){var $next$$=$delta$$*$current$$.timeScale;$current$$.time+=$next$$;$current$$.previous&&($current$$.previous.time+=$next$$,$current$$.mixTime+=$next$$);($next$$=$current$$.next)?$current$$.lastTime>=$next$$.delay&&this.setCurrent($i$$,
$next$$):!$current$$.loop&&$current$$.lastTime>=$current$$.endTime&&this.clearTrack($i$$)}}},apply:function $spine$AnimationState$$apply$($skeleton$$){for(var $i$$=0;$i$$<this.tracks.length;$i$$++){var $current$$=this.tracks[$i$$];if($current$$){this.events.length=0;var $count$$40_time$$=$current$$.time,$lastTime$$=$current$$.lastTime,$endTime$$=$current$$.endTime,$loop$$=$current$$.loop;!$loop$$&&$count$$40_time$$>$endTime$$&&($count$$40_time$$=$endTime$$);var $alpha$$40_ii$$2_previous$$=$current$$.previous;
if($alpha$$40_ii$$2_previous$$){var $nn_previousTime$$=$alpha$$40_ii$$2_previous$$.time;!$alpha$$40_ii$$2_previous$$.loop&&$nn_previousTime$$>$alpha$$40_ii$$2_previous$$.endTime&&($nn_previousTime$$=$alpha$$40_ii$$2_previous$$.endTime);$alpha$$40_ii$$2_previous$$.animation.apply($skeleton$$,$nn_previousTime$$,$nn_previousTime$$,$alpha$$40_ii$$2_previous$$.loop,null);$alpha$$40_ii$$2_previous$$=$current$$.mixTime/$current$$.mixDuration;1<=$alpha$$40_ii$$2_previous$$&&($alpha$$40_ii$$2_previous$$=1,
$current$$.previous=null);$current$$.animation.mix($skeleton$$,$current$$.lastTime,$count$$40_time$$,$loop$$,this.events,$alpha$$40_ii$$2_previous$$)}else $current$$.animation.apply($skeleton$$,$current$$.lastTime,$count$$40_time$$,$loop$$,this.events);$alpha$$40_ii$$2_previous$$=0;for($nn_previousTime$$=this.events.length;$alpha$$40_ii$$2_previous$$<$nn_previousTime$$;$alpha$$40_ii$$2_previous$$++){var $event$$=this.events[$alpha$$40_ii$$2_previous$$];if(null!=$current$$.onEvent)$current$$.onEvent($i$$,
$event$$);if(null!=this.onEvent)this.onEvent($i$$,$event$$)}if($loop$$?$lastTime$$%$endTime$$>$count$$40_time$$%$endTime$$:$lastTime$$<$endTime$$&&$count$$40_time$$>=$endTime$$){$count$$40_time$$=Math.floor($count$$40_time$$/$endTime$$);if($current$$.onComplete)$current$$.onComplete($i$$,$count$$40_time$$);if(this.onComplete)this.onComplete($i$$,$count$$40_time$$)}$current$$.lastTime=$current$$.time}}},clearTracks:function $spine$AnimationState$$clearTracks$(){for(var $i$$=0,$n$$=this.tracks.length;$i$$<
$n$$;$i$$++)this.clearTrack($i$$);this.tracks.length=0},clearTrack:function $spine$AnimationState$$clearTrack$($trackIndex$$){if(!($trackIndex$$>=this.tracks.length)){var $current$$=this.tracks[$trackIndex$$];if($current$$){if(null!=$current$$.onEnd)$current$$.onEnd($trackIndex$$);if(null!=this.onEnd)this.onEnd($trackIndex$$);this.tracks[$trackIndex$$]=null}}},_expandToIndex:function $spine$AnimationState$$_expandToIndex$($index$$){if($index$$<this.tracks.length)return this.tracks[$index$$];for(;$index$$>=
this.tracks.length;)this.tracks.push(null);return null},setCurrent:function $spine$AnimationState$$setCurrent$($index$$,$entry$$){var $current$$=this._expandToIndex($index$$);if($current$$){var $previous$$=$current$$.previous;$current$$.previous=null;if(null!=$current$$.onEnd)$current$$.onEnd($index$$);if(null!=this.onEnd)this.onEnd($index$$);$entry$$.mixDuration=this.data.getMix($current$$.animation,$entry$$.animation);0<$entry$$.mixDuration&&($entry$$.mixTime=0,$entry$$.previous=$previous$$&&.5>
$current$$.mixTime/$current$$.mixDuration?$previous$$:$current$$)}this.tracks[$index$$]=$entry$$;if(null!=$entry$$.onStart)$entry$$.onStart($index$$);if(null!=this.onStart)this.onStart($index$$)},setAnimationByName:function $spine$AnimationState$$setAnimationByName$($trackIndex$$,$animationName$$,$loop$$){var $animation$$=this.data.skeletonData.findAnimation($animationName$$);if(!$animation$$)throw"Animation not found: "+$animationName$$;return this.setAnimation($trackIndex$$,$animation$$,$loop$$)},
setAnimation:function $spine$AnimationState$$setAnimation$($trackIndex$$,$animation$$,$loop$$){var $entry$$=new spine.TrackEntry;$entry$$.animation=$animation$$;$entry$$.loop=$loop$$;$entry$$.endTime=$animation$$.duration;this.setCurrent($trackIndex$$,$entry$$);return $entry$$},addAnimationByName:function $spine$AnimationState$$addAnimationByName$($trackIndex$$,$animationName$$,$loop$$,$delay$$){var $animation$$=this.data.skeletonData.findAnimation($animationName$$);if(!$animation$$)throw"Animation not found: "+
$animationName$$;return this.addAnimation($trackIndex$$,$animation$$,$loop$$,$delay$$)},addAnimation:function $spine$AnimationState$$addAnimation$($trackIndex$$,$animation$$,$last$$4_loop$$,$delay$$){var $entry$$=new spine.TrackEntry;$entry$$.animation=$animation$$;$entry$$.loop=$last$$4_loop$$;$entry$$.endTime=$animation$$.duration;if($last$$4_loop$$=this._expandToIndex($trackIndex$$)){for(;$last$$4_loop$$.next;)$last$$4_loop$$=$last$$4_loop$$.next;$last$$4_loop$$.next=$entry$$}else this.tracks[$trackIndex$$]=
$entry$$;0>=$delay$$&&($delay$$=$last$$4_loop$$?$delay$$+($last$$4_loop$$.endTime-this.data.getMix($last$$4_loop$$.animation,$animation$$)):0);$entry$$.delay=$delay$$;return $entry$$},getCurrent:function $spine$AnimationState$$getCurrent$($trackIndex$$){return $trackIndex$$>=this.tracks.length?null:this.tracks[$trackIndex$$]}};spine.SkeletonJson=function $spine$SkeletonJson$($attachmentLoader$$){this.attachmentLoader=$attachmentLoader$$};
spine.SkeletonJson.prototype={scale:1,readSkeletonData:function $spine$SkeletonJson$$readSkeletonData$($animations$$4_root$$){for(var $skeletonData$$=new spine.SkeletonData,$bones$$6_slotIndex$$4_slots$$=$animations$$4_root$$.bones,$i$$686_skins$$=0,$n$$=$bones$$6_slotIndex$$4_slots$$.length;$i$$686_skins$$<$n$$;$i$$686_skins$$++){var $boneMap_slotEntry_slotMap$$=$bones$$6_slotIndex$$4_slots$$[$i$$686_skins$$],$boneData$$14_parent$$157_skin$$4_slotData$$=null;if($boneMap_slotEntry_slotMap$$.parent&&
($boneData$$14_parent$$157_skin$$4_slotData$$=$skeletonData$$.findBone($boneMap_slotEntry_slotMap$$.parent),!$boneData$$14_parent$$157_skin$$4_slotData$$))throw"Parent bone not found: "+$boneMap_slotEntry_slotMap$$.parent;$boneData$$14_parent$$157_skin$$4_slotData$$=new spine.BoneData($boneMap_slotEntry_slotMap$$.name,$boneData$$14_parent$$157_skin$$4_slotData$$);$boneData$$14_parent$$157_skin$$4_slotData$$.length=($boneMap_slotEntry_slotMap$$.length||0)*this.scale;$boneData$$14_parent$$157_skin$$4_slotData$$.x=
($boneMap_slotEntry_slotMap$$.x||0)*this.scale;$boneData$$14_parent$$157_skin$$4_slotData$$.y=($boneMap_slotEntry_slotMap$$.y||0)*this.scale;$boneData$$14_parent$$157_skin$$4_slotData$$.rotation=$boneMap_slotEntry_slotMap$$.rotation||0;$boneData$$14_parent$$157_skin$$4_slotData$$.scaleX=$boneMap_slotEntry_slotMap$$.scaleX||1;$boneData$$14_parent$$157_skin$$4_slotData$$.scaleY=$boneMap_slotEntry_slotMap$$.scaleY||1;$boneData$$14_parent$$157_skin$$4_slotData$$.inheritScale=!$boneMap_slotEntry_slotMap$$.inheritScale||
"true"==$boneMap_slotEntry_slotMap$$.inheritScale;$boneData$$14_parent$$157_skin$$4_slotData$$.inheritRotation=!$boneMap_slotEntry_slotMap$$.inheritRotation||"true"==$boneMap_slotEntry_slotMap$$.inheritRotation;$skeletonData$$.bones.push($boneData$$14_parent$$157_skin$$4_slotData$$)}$bones$$6_slotIndex$$4_slots$$=$animations$$4_root$$.slots;$i$$686_skins$$=0;for($n$$=$bones$$6_slotIndex$$4_slots$$.length;$i$$686_skins$$<$n$$;$i$$686_skins$$++){$boneMap_slotEntry_slotMap$$=$bones$$6_slotIndex$$4_slots$$[$i$$686_skins$$];
$boneData$$14_parent$$157_skin$$4_slotData$$=$skeletonData$$.findBone($boneMap_slotEntry_slotMap$$.bone);if(!$boneData$$14_parent$$157_skin$$4_slotData$$)throw"Slot bone not found: "+$boneMap_slotEntry_slotMap$$.bone;var $boneData$$14_parent$$157_skin$$4_slotData$$=new spine.SlotData($boneMap_slotEntry_slotMap$$.name,$boneData$$14_parent$$157_skin$$4_slotData$$),$attachment$$13_color$$=$boneMap_slotEntry_slotMap$$.color;$attachment$$13_color$$&&($boneData$$14_parent$$157_skin$$4_slotData$$.r=spine.SkeletonJson.toColor($attachment$$13_color$$,
0),$boneData$$14_parent$$157_skin$$4_slotData$$.g=spine.SkeletonJson.toColor($attachment$$13_color$$,1),$boneData$$14_parent$$157_skin$$4_slotData$$.b=spine.SkeletonJson.toColor($attachment$$13_color$$,2),$boneData$$14_parent$$157_skin$$4_slotData$$.a=spine.SkeletonJson.toColor($attachment$$13_color$$,3));$boneData$$14_parent$$157_skin$$4_slotData$$.attachmentName=$boneMap_slotEntry_slotMap$$.attachment;$boneData$$14_parent$$157_skin$$4_slotData$$.additiveBlending=$boneMap_slotEntry_slotMap$$.additive&&
"true"==$boneMap_slotEntry_slotMap$$.additive;$skeletonData$$.slots.push($boneData$$14_parent$$157_skin$$4_slotData$$)}var $i$$686_skins$$=$animations$$4_root$$.skins,$events$$7_skinName$$;for($events$$7_skinName$$ in $i$$686_skins$$)if($i$$686_skins$$.hasOwnProperty($events$$7_skinName$$)){var $n$$=$i$$686_skins$$[$events$$7_skinName$$],$boneData$$14_parent$$157_skin$$4_slotData$$=new spine.Skin($events$$7_skinName$$),$eventMap_slotName$$;for($eventMap_slotName$$ in $n$$)if($n$$.hasOwnProperty($eventMap_slotName$$)){var $bones$$6_slotIndex$$4_slots$$=
$skeletonData$$.findSlotIndex($eventMap_slotName$$),$boneMap_slotEntry_slotMap$$=$n$$[$eventMap_slotName$$],$attachmentName$$7_eventData$$;for($attachmentName$$7_eventData$$ in $boneMap_slotEntry_slotMap$$)$boneMap_slotEntry_slotMap$$.hasOwnProperty($attachmentName$$7_eventData$$)&&($attachment$$13_color$$=this.readAttachment($boneData$$14_parent$$157_skin$$4_slotData$$,$attachmentName$$7_eventData$$,$boneMap_slotEntry_slotMap$$[$attachmentName$$7_eventData$$]),null!=$attachment$$13_color$$&&$boneData$$14_parent$$157_skin$$4_slotData$$.addAttachment($bones$$6_slotIndex$$4_slots$$,
$attachmentName$$7_eventData$$,$attachment$$13_color$$))}$skeletonData$$.skins.push($boneData$$14_parent$$157_skin$$4_slotData$$);"default"==$boneData$$14_parent$$157_skin$$4_slotData$$.name&&($skeletonData$$.defaultSkin=$boneData$$14_parent$$157_skin$$4_slotData$$)}$events$$7_skinName$$=$animations$$4_root$$.events;for(var $eventName$$ in $events$$7_skinName$$)$events$$7_skinName$$.hasOwnProperty($eventName$$)&&($eventMap_slotName$$=$events$$7_skinName$$[$eventName$$],$attachmentName$$7_eventData$$=
new spine.EventData($eventName$$),$attachmentName$$7_eventData$$.intValue=$eventMap_slotName$$["int"]||0,$attachmentName$$7_eventData$$.floatValue=$eventMap_slotName$$["float"]||0,$attachmentName$$7_eventData$$.stringValue=$eventMap_slotName$$.string||null,$skeletonData$$.events.push($attachmentName$$7_eventData$$));$animations$$4_root$$=$animations$$4_root$$.animations;for(var $animationName$$ in $animations$$4_root$$)$animations$$4_root$$.hasOwnProperty($animationName$$)&&this.readAnimation($animationName$$,
$animations$$4_root$$[$animationName$$],$skeletonData$$);return $skeletonData$$},readAttachment:function $spine$SkeletonJson$$readAttachment$($attachment$$14_skin$$,$n$$88_name$$,$map$$3_vertices$$){$n$$88_name$$=$map$$3_vertices$$.name||$n$$88_name$$;var $i$$687_type$$=spine.AttachmentType[$map$$3_vertices$$.type||"region"];$attachment$$14_skin$$=this.attachmentLoader.newAttachment($attachment$$14_skin$$,$i$$687_type$$,$n$$88_name$$);if($i$$687_type$$==spine.AttachmentType.region)$attachment$$14_skin$$.x=
($map$$3_vertices$$.x||0)*this.scale,$attachment$$14_skin$$.y=($map$$3_vertices$$.y||0)*this.scale,$attachment$$14_skin$$.scaleX=$map$$3_vertices$$.scaleX||1,$attachment$$14_skin$$.scaleY=$map$$3_vertices$$.scaleY||1,$attachment$$14_skin$$.rotation=$map$$3_vertices$$.rotation||0,$attachment$$14_skin$$.width=($map$$3_vertices$$.width||32)*this.scale,$attachment$$14_skin$$.height=($map$$3_vertices$$.height||32)*this.scale,$attachment$$14_skin$$.updateOffset();else if($i$$687_type$$==spine.AttachmentType.boundingBox)for($map$$3_vertices$$=
$map$$3_vertices$$.vertices,$i$$687_type$$=0,$n$$88_name$$=$map$$3_vertices$$.length;$i$$687_type$$<$n$$88_name$$;$i$$687_type$$++)$attachment$$14_skin$$.vertices.push($map$$3_vertices$$[$i$$687_type$$]*this.scale);return $attachment$$14_skin$$},readAnimation:function $spine$SkeletonJson$$readAnimation$($name$$,$drawOrderValues_map$$,$skeletonData$$){var $timelines$$=[],$duration$$=0,$bones$$7_events$$8_slotIndex$$=$drawOrderValues_map$$.bones,$boneName$$9_offsets$$1_slots$$;for($boneName$$9_offsets$$1_slots$$ in $bones$$7_events$$8_slotIndex$$)if($bones$$7_events$$8_slotIndex$$.hasOwnProperty($boneName$$9_offsets$$1_slots$$)){var $boneIndex_slotMap$$=
$skeletonData$$.findBoneIndex($boneName$$9_offsets$$1_slots$$);if(-1==$boneIndex_slotMap$$)throw"Bone not found: "+$boneName$$9_offsets$$1_slots$$;var $boneMap$$1_originalIndex_r$$=$bones$$7_events$$8_slotIndex$$[$boneName$$9_offsets$$1_slots$$],$eventMap$$1_slotCount$$;for($eventMap$$1_slotCount$$ in $boneMap$$1_originalIndex_r$$)if($boneMap$$1_originalIndex_r$$.hasOwnProperty($eventMap$$1_slotCount$$)){var $drawOrderMap_eventData$$2_values$$=$boneMap$$1_originalIndex_r$$[$eventMap$$1_slotCount$$];
if("rotate"==$eventMap$$1_slotCount$$){var $timeline$$=new spine.RotateTimeline($drawOrderMap_eventData$$2_values$$.length);$timeline$$.boneIndex=$boneIndex_slotMap$$;for(var $frameIndex$$=0,$i$$=0,$n$$=$drawOrderMap_eventData$$2_values$$.length;$i$$<$n$$;$i$$++){var $drawOrder$$3_event$$=$drawOrderMap_eventData$$2_values$$[$i$$];$timeline$$.setFrame($frameIndex$$,$drawOrder$$3_event$$.time,$drawOrder$$3_event$$.angle);spine.SkeletonJson.readCurve($timeline$$,$frameIndex$$,$drawOrder$$3_event$$);
$frameIndex$$++}$timelines$$.push($timeline$$);$duration$$=Math.max($duration$$,$timeline$$.frames[2*$timeline$$.getFrameCount()-2])}else if("translate"==$eventMap$$1_slotCount$$||"scale"==$eventMap$$1_slotCount$$){var $g$$=1;"scale"==$eventMap$$1_slotCount$$?$timeline$$=new spine.ScaleTimeline($drawOrderMap_eventData$$2_values$$.length):($timeline$$=new spine.TranslateTimeline($drawOrderMap_eventData$$2_values$$.length),$g$$=this.scale);$timeline$$.boneIndex=$boneIndex_slotMap$$;$i$$=$frameIndex$$=
0;for($n$$=$drawOrderMap_eventData$$2_values$$.length;$i$$<$n$$;$i$$++)$drawOrder$$3_event$$=$drawOrderMap_eventData$$2_values$$[$i$$],$timeline$$.setFrame($frameIndex$$,$drawOrder$$3_event$$.time,($drawOrder$$3_event$$.x||0)*$g$$,($drawOrder$$3_event$$.y||0)*$g$$),spine.SkeletonJson.readCurve($timeline$$,$frameIndex$$,$drawOrder$$3_event$$),$frameIndex$$++;$timelines$$.push($timeline$$);$duration$$=Math.max($duration$$,$timeline$$.frames[3*$timeline$$.getFrameCount()-3])}else throw"Invalid timeline type for a bone: "+
$eventMap$$1_slotCount$$+" ("+$boneName$$9_offsets$$1_slots$$+")";}}$boneName$$9_offsets$$1_slots$$=$drawOrderValues_map$$.slots;for(var $ii$$3_slotName$$ in $boneName$$9_offsets$$1_slots$$)if($boneName$$9_offsets$$1_slots$$.hasOwnProperty($ii$$3_slotName$$))for($eventMap$$1_slotCount$$ in $boneIndex_slotMap$$=$boneName$$9_offsets$$1_slots$$[$ii$$3_slotName$$],$bones$$7_events$$8_slotIndex$$=$skeletonData$$.findSlotIndex($ii$$3_slotName$$),$boneIndex_slotMap$$)if($boneIndex_slotMap$$.hasOwnProperty($eventMap$$1_slotCount$$))if($drawOrderMap_eventData$$2_values$$=
$boneIndex_slotMap$$[$eventMap$$1_slotCount$$],"color"==$eventMap$$1_slotCount$$){$timeline$$=new spine.ColorTimeline($drawOrderMap_eventData$$2_values$$.length);$timeline$$.slotIndex=$bones$$7_events$$8_slotIndex$$;$i$$=$frameIndex$$=0;for($n$$=$drawOrderMap_eventData$$2_values$$.length;$i$$<$n$$;$i$$++){var $drawOrder$$3_event$$=$drawOrderMap_eventData$$2_values$$[$i$$],$a$$588_color$$=$drawOrder$$3_event$$.color,$boneMap$$1_originalIndex_r$$=spine.SkeletonJson.toColor($a$$588_color$$,0),$g$$=spine.SkeletonJson.toColor($a$$588_color$$,
1),$b$$440_nn$$=spine.SkeletonJson.toColor($a$$588_color$$,2),$a$$588_color$$=spine.SkeletonJson.toColor($a$$588_color$$,3);$timeline$$.setFrame($frameIndex$$,$drawOrder$$3_event$$.time,$boneMap$$1_originalIndex_r$$,$g$$,$b$$440_nn$$,$a$$588_color$$);spine.SkeletonJson.readCurve($timeline$$,$frameIndex$$,$drawOrder$$3_event$$);$frameIndex$$++}$timelines$$.push($timeline$$);$duration$$=Math.max($duration$$,$timeline$$.frames[5*$timeline$$.getFrameCount()-5])}else if("attachment"==$eventMap$$1_slotCount$$){$timeline$$=
new spine.AttachmentTimeline($drawOrderMap_eventData$$2_values$$.length);$timeline$$.slotIndex=$bones$$7_events$$8_slotIndex$$;$i$$=$frameIndex$$=0;for($n$$=$drawOrderMap_eventData$$2_values$$.length;$i$$<$n$$;$i$$++)$drawOrder$$3_event$$=$drawOrderMap_eventData$$2_values$$[$i$$],$timeline$$.setFrame($frameIndex$$++,$drawOrder$$3_event$$.time,$drawOrder$$3_event$$.name);$timelines$$.push($timeline$$);$duration$$=Math.max($duration$$,$timeline$$.frames[$timeline$$.getFrameCount()-1])}else throw"Invalid timeline type for a slot: "+
$eventMap$$1_slotCount$$+" ("+$ii$$3_slotName$$+")";if($bones$$7_events$$8_slotIndex$$=$drawOrderValues_map$$.events){$timeline$$=new spine.EventTimeline($bones$$7_events$$8_slotIndex$$.length);$i$$=$frameIndex$$=0;for($n$$=$bones$$7_events$$8_slotIndex$$.length;$i$$<$n$$;$i$$++){$eventMap$$1_slotCount$$=$bones$$7_events$$8_slotIndex$$[$i$$];$drawOrderMap_eventData$$2_values$$=$skeletonData$$.findEvent($eventMap$$1_slotCount$$.name);if(!$drawOrderMap_eventData$$2_values$$)throw"Event not found: "+
$eventMap$$1_slotCount$$.name;$drawOrder$$3_event$$=new spine.Event($drawOrderMap_eventData$$2_values$$);$drawOrder$$3_event$$.intValue=$eventMap$$1_slotCount$$.hasOwnProperty("int")?$eventMap$$1_slotCount$$["int"]:$drawOrderMap_eventData$$2_values$$.intValue;$drawOrder$$3_event$$.floatValue=$eventMap$$1_slotCount$$.hasOwnProperty("float")?$eventMap$$1_slotCount$$["float"]:$drawOrderMap_eventData$$2_values$$.floatValue;$drawOrder$$3_event$$.stringValue=$eventMap$$1_slotCount$$.hasOwnProperty("string")?
$eventMap$$1_slotCount$$.string:$drawOrderMap_eventData$$2_values$$.stringValue;$timeline$$.setFrame($frameIndex$$++,$eventMap$$1_slotCount$$.time,$drawOrder$$3_event$$)}$timelines$$.push($timeline$$);$duration$$=Math.max($duration$$,$timeline$$.frames[$timeline$$.getFrameCount()-1])}if($drawOrderValues_map$$=$drawOrderValues_map$$.draworder){$timeline$$=new spine.DrawOrderTimeline($drawOrderValues_map$$.length);$eventMap$$1_slotCount$$=$skeletonData$$.slots.length;$i$$=$frameIndex$$=0;for($n$$=$drawOrderValues_map$$.length;$i$$<
$n$$;$i$$++){$drawOrderMap_eventData$$2_values$$=$drawOrderValues_map$$[$i$$];$drawOrder$$3_event$$=null;if($drawOrderMap_eventData$$2_values$$.offsets){$drawOrder$$3_event$$=[];$drawOrder$$3_event$$.length=$eventMap$$1_slotCount$$;for($ii$$3_slotName$$=$eventMap$$1_slotCount$$-1;0<=$ii$$3_slotName$$;$ii$$3_slotName$$--)$drawOrder$$3_event$$[$ii$$3_slotName$$]=-1;$boneName$$9_offsets$$1_slots$$=$drawOrderMap_eventData$$2_values$$.offsets;$boneIndex_slotMap$$=[];$boneIndex_slotMap$$.length=$eventMap$$1_slotCount$$-
$boneName$$9_offsets$$1_slots$$.length;$ii$$3_slotName$$=$g$$=$boneMap$$1_originalIndex_r$$=0;for($b$$440_nn$$=$boneName$$9_offsets$$1_slots$$.length;$ii$$3_slotName$$<$b$$440_nn$$;$ii$$3_slotName$$++){$a$$588_color$$=$boneName$$9_offsets$$1_slots$$[$ii$$3_slotName$$];$bones$$7_events$$8_slotIndex$$=$skeletonData$$.findSlotIndex($a$$588_color$$.slot);if(-1==$bones$$7_events$$8_slotIndex$$)throw"Slot not found: "+$a$$588_color$$.slot;for(;$boneMap$$1_originalIndex_r$$!=$bones$$7_events$$8_slotIndex$$;)$boneIndex_slotMap$$[$g$$++]=
$boneMap$$1_originalIndex_r$$++;$drawOrder$$3_event$$[$boneMap$$1_originalIndex_r$$+$a$$588_color$$.offset]=$boneMap$$1_originalIndex_r$$++}for(;$boneMap$$1_originalIndex_r$$<$eventMap$$1_slotCount$$;)$boneIndex_slotMap$$[$g$$++]=$boneMap$$1_originalIndex_r$$++;for($ii$$3_slotName$$=$eventMap$$1_slotCount$$-1;0<=$ii$$3_slotName$$;$ii$$3_slotName$$--)-1==$drawOrder$$3_event$$[$ii$$3_slotName$$]&&($drawOrder$$3_event$$[$ii$$3_slotName$$]=$boneIndex_slotMap$$[--$g$$])}$timeline$$.setFrame($frameIndex$$++,
$drawOrderMap_eventData$$2_values$$.time,$drawOrder$$3_event$$)}$timelines$$.push($timeline$$);$duration$$=Math.max($duration$$,$timeline$$.frames[$timeline$$.getFrameCount()-1])}$skeletonData$$.animations.push(new spine.Animation($name$$,$timelines$$,$duration$$))}};
spine.SkeletonJson.readCurve=function $spine$SkeletonJson$readCurve$($timeline$$,$frameIndex$$,$curve_valueMap$$){($curve_valueMap$$=$curve_valueMap$$.curve)&&("stepped"==$curve_valueMap$$?$timeline$$.curves.setStepped($frameIndex$$):$curve_valueMap$$ instanceof Array&&$timeline$$.curves.setCurve($frameIndex$$,$curve_valueMap$$[0],$curve_valueMap$$[1],$curve_valueMap$$[2],$curve_valueMap$$[3]))};
spine.SkeletonJson.toColor=function $spine$SkeletonJson$toColor$($hexString$$,$colorIndex$$){if(8!=$hexString$$.length)throw"Color hexidecimal length must be 8, recieved: "+$hexString$$;return parseInt($hexString$$.substring(2*$colorIndex$$,2*$colorIndex$$+2),16)/255};
spine.Atlas=function $spine$Atlas$($atlasText$$,$textureLoader$$){this.textureLoader=$textureLoader$$;this.pages=[];this.regions=[];var $reader$$=new spine.AtlasReader($atlasText$$),$tuple$$=[];$tuple$$.length=4;for(var $page$$=null;;){var $line$$3_x$$=$reader$$.readLine();if(null==$line$$3_x$$)break;$line$$3_x$$=$reader$$.trim($line$$3_x$$);if(0==$line$$3_x$$.length)$page$$=null;else if($page$$){var $direction$$=new spine.AtlasRegion;$direction$$.name=$line$$3_x$$;$direction$$.page=$page$$;$direction$$.rotate=
"true"==$reader$$.readValue();$reader$$.readTuple($tuple$$);var $line$$3_x$$=parseInt($tuple$$[0]),$y$$=parseInt($tuple$$[1]);$reader$$.readTuple($tuple$$);var $width$$=parseInt($tuple$$[0]),$height$$=parseInt($tuple$$[1]);$direction$$.u=$line$$3_x$$/$page$$.width;$direction$$.v=$y$$/$page$$.height;$direction$$.rotate?($direction$$.u2=($line$$3_x$$+$height$$)/$page$$.width,$direction$$.v2=($y$$+$width$$)/$page$$.height):($direction$$.u2=($line$$3_x$$+$width$$)/$page$$.width,$direction$$.v2=($y$$+
$height$$)/$page$$.height);$direction$$.x=$line$$3_x$$;$direction$$.y=$y$$;$direction$$.width=Math.abs($width$$);$direction$$.height=Math.abs($height$$);4==$reader$$.readTuple($tuple$$)&&($direction$$.splits=[parseInt($tuple$$[0]),parseInt($tuple$$[1]),parseInt($tuple$$[2]),parseInt($tuple$$[3])],4==$reader$$.readTuple($tuple$$)&&($direction$$.pads=[parseInt($tuple$$[0]),parseInt($tuple$$[1]),parseInt($tuple$$[2]),parseInt($tuple$$[3])],$reader$$.readTuple($tuple$$)));$direction$$.originalWidth=parseInt($tuple$$[0]);
$direction$$.originalHeight=parseInt($tuple$$[1]);$reader$$.readTuple($tuple$$);$direction$$.offsetX=parseInt($tuple$$[0]);$direction$$.offsetY=parseInt($tuple$$[1]);$direction$$.index=parseInt($reader$$.readValue());this.regions.push($direction$$)}else $page$$=new spine.AtlasPage,$page$$.name=$line$$3_x$$,$page$$.format=spine.Atlas.Format[$reader$$.readValue()],$reader$$.readTuple($tuple$$),$page$$.minFilter=spine.Atlas.TextureFilter[$tuple$$[0]],$page$$.magFilter=spine.Atlas.TextureFilter[$tuple$$[1]],
$direction$$=$reader$$.readValue(),$page$$.uWrap=spine.Atlas.TextureWrap.clampToEdge,$page$$.vWrap=spine.Atlas.TextureWrap.clampToEdge,"x"==$direction$$?$page$$.uWrap=spine.Atlas.TextureWrap.repeat:"y"==$direction$$?$page$$.vWrap=spine.Atlas.TextureWrap.repeat:"xy"==$direction$$&&($page$$.uWrap=$page$$.vWrap=spine.Atlas.TextureWrap.repeat),$textureLoader$$.load($page$$,$line$$3_x$$,this),this.pages.push($page$$)}};
spine.Atlas.prototype={findRegion:function $spine$Atlas$$findRegion$($name$$){for(var $regions$$=this.regions,$i$$=0,$n$$=$regions$$.length;$i$$<$n$$;$i$$++)if($regions$$[$i$$].name==$name$$)return $regions$$[$i$$];return null},dispose:function $spine$Atlas$$dispose$(){for(var $pages$$=this.pages,$i$$=0,$n$$=$pages$$.length;$i$$<$n$$;$i$$++)this.textureLoader.unload($pages$$[$i$$].rendererObject)},updateUVs:function $spine$Atlas$$updateUVs$($page$$){for(var $regions$$=this.regions,$i$$=0,$n$$=$regions$$.length;$i$$<
$n$$;$i$$++){var $region$$=$regions$$[$i$$];$region$$.page==$page$$&&($region$$.u=$region$$.x/$page$$.width,$region$$.v=$region$$.y/$page$$.height,$region$$.rotate?($region$$.u2=($region$$.x+$region$$.height)/$page$$.width,$region$$.v2=($region$$.y+$region$$.width)/$page$$.height):($region$$.u2=($region$$.x+$region$$.width)/$page$$.width,$region$$.v2=($region$$.y+$region$$.height)/$page$$.height))}}};spine.Atlas.Format={Alpha:0,Intensity:1,LuminanceAlpha:2,RGB565:3,RGBA4444:4,RGB888:5,RGBA8888:6};
spine.Atlas.TextureFilter={Nearest:0,Linear:1,MipMap:2,MipMapNearestNearest:3,MipMapLinearNearest:4,MipMapNearestLinear:5,MipMapLinearLinear:6};spine.Atlas.TextureWrap={mirroredRepeat:0,clampToEdge:1,repeat:2};spine.AtlasPage=function $spine$AtlasPage$(){};spine.AtlasPage.prototype={name:null,format:null,minFilter:null,magFilter:null,uWrap:null,vWrap:null,rendererObject:null,width:0,height:0};spine.AtlasRegion=function $spine$AtlasRegion$(){};
spine.AtlasRegion.prototype={page:null,name:null,x:0,y:0,width:0,height:0,u:0,v:0,u2:0,v2:0,offsetX:0,offsetY:0,originalWidth:0,originalHeight:0,index:0,rotate:!1,splits:null,pads:null};spine.AtlasReader=function $spine$AtlasReader$($text$$){this.lines=$text$$.split(/\r\n|\r|\n/)};
spine.AtlasReader.prototype={index:0,trim:function $spine$AtlasReader$$trim$($value$$){return $value$$.replace(/^\s+|\s+$/g,"")},readLine:function $spine$AtlasReader$$readLine$(){return this.index>=this.lines.length?null:this.lines[this.index++]},readValue:function $spine$AtlasReader$$readValue$(){var $line$$=this.readLine(),$colon$$=$line$$.indexOf(":");if(-1==$colon$$)throw"Invalid line: "+$line$$;return this.trim($line$$.substring($colon$$+1))},readTuple:function $spine$AtlasReader$$readTuple$($tuple$$){var $line$$=
this.readLine(),$colon$$=$line$$.indexOf(":");if(-1==$colon$$)throw"Invalid line: "+$line$$;for(var $i$$=0,$colon$$=$colon$$+1;3>$i$$;$i$$++){var $comma$$=$line$$.indexOf(",",$colon$$);if(-1==$comma$$){if(0==$i$$)throw"Invalid line: "+$line$$;break}$tuple$$[$i$$]=this.trim($line$$.substr($colon$$,$comma$$-$colon$$));$colon$$=$comma$$+1}$tuple$$[$i$$]=this.trim($line$$.substring($colon$$));return $i$$+1}};spine.AtlasAttachmentLoader=function $spine$AtlasAttachmentLoader$($atlas$$){this.atlas=$atlas$$};
spine.AtlasAttachmentLoader.prototype={newAttachment:function $spine$AtlasAttachmentLoader$$newAttachment$($region$$2_skin$$,$attachment$$15_type$$,$name$$){switch($attachment$$15_type$$){case spine.AttachmentType.boundingbox:return new spine.BoundingBoxAttachment($name$$);case spine.AttachmentType.region:$region$$2_skin$$=this.atlas.findRegion($name$$);if(!$region$$2_skin$$)throw"Region not found in atlas: "+$name$$+" ("+$attachment$$15_type$$+")";$attachment$$15_type$$=new spine.RegionAttachment($name$$);
$attachment$$15_type$$.rendererObject=$region$$2_skin$$;$attachment$$15_type$$.setUVs($region$$2_skin$$.u,$region$$2_skin$$.v,$region$$2_skin$$.u2,$region$$2_skin$$.v2,$region$$2_skin$$.rotate);$attachment$$15_type$$.regionOffsetX=$region$$2_skin$$.offsetX;$attachment$$15_type$$.regionOffsetY=$region$$2_skin$$.offsetY;$attachment$$15_type$$.regionWidth=$region$$2_skin$$.width;$attachment$$15_type$$.regionHeight=$region$$2_skin$$.height;$attachment$$15_type$$.regionOriginalWidth=$region$$2_skin$$.originalWidth;
$attachment$$15_type$$.regionOriginalHeight=$region$$2_skin$$.originalHeight;return $attachment$$15_type$$}throw"Unknown attachment type: "+$attachment$$15_type$$;}};spine.SkeletonBounds=function $spine$SkeletonBounds$(){this.polygonPool=[];this.polygons=[];this.boundingBoxes=[]};
spine.SkeletonBounds.prototype={minX:0,minY:0,maxX:0,maxY:0,update:function $spine$SkeletonBounds$$update$($skeleton$$,$updateAabb$$){for(var $slots$$=$skeleton$$.slots,$slotCount$$=$slots$$.length,$x$$=$skeleton$$.x,$y$$=$skeleton$$.y,$boundingBoxes$$=this.boundingBoxes,$polygonPool$$=this.polygonPool,$polygons$$=this.polygons,$i$$=$boundingBoxes$$.length=0,$n$$93_slot$$=$polygons$$.length;$i$$<$n$$93_slot$$;$i$$++)$polygonPool$$.push($polygons$$[$i$$]);for($i$$=$polygons$$.length=0;$i$$<$slotCount$$;$i$$++){var $n$$93_slot$$=
$slots$$[$i$$],$boundingBox$$=$n$$93_slot$$.attachment;if($boundingBox$$.type==spine.AttachmentType.boundingBox){$boundingBoxes$$.push($boundingBox$$);var $poolCount$$=$polygonPool$$.length,$polygon$$;0<$poolCount$$?($polygon$$=$polygonPool$$[$poolCount$$-1],$polygonPool$$.splice($poolCount$$-1,1)):$polygon$$=[];$polygons$$.push($polygon$$);$polygon$$.length=$boundingBox$$.vertices.length;$boundingBox$$.computeWorldVertices($x$$,$y$$,$n$$93_slot$$.bone,$polygon$$)}}$updateAabb$$&&this.aabbCompute()},
aabbCompute:function $spine$SkeletonBounds$$aabbCompute$(){for(var $polygons$$=this.polygons,$minX$$=Number.MAX_VALUE,$minY$$=Number.MAX_VALUE,$maxX$$=Number.MIN_VALUE,$maxY$$=Number.MIN_VALUE,$i$$=0,$n$$=$polygons$$.length;$i$$<$n$$;$i$$++)for(var $vertices$$=$polygons$$[$i$$],$ii$$=0,$nn$$=$vertices$$.length;$ii$$<$nn$$;$ii$$+=2)var $x$$=$vertices$$[$ii$$],$y$$=$vertices$$[$ii$$+1],$minX$$=Math.min($minX$$,$x$$),$minY$$=Math.min($minY$$,$y$$),$maxX$$=Math.max($maxX$$,$x$$),$maxY$$=Math.max($maxY$$,
$y$$);this.minX=$minX$$;this.minY=$minY$$;this.maxX=$maxX$$;this.maxY=$maxY$$},aabbContainsPoint:function $spine$SkeletonBounds$$aabbContainsPoint$($x$$,$y$$){return $x$$>=this.minX&&$x$$<=this.maxX&&$y$$>=this.minY&&$y$$<=this.maxY},aabbIntersectsSegment:function $spine$SkeletonBounds$$aabbIntersectsSegment$($x1$$,$y1$$,$m$$47_x2$$,$y$$207_y2$$){var $minX$$=this.minX,$minY$$9_x$$=this.minY,$maxX$$=this.maxX,$maxY$$=this.maxY;if($x1$$<=$minX$$&&$m$$47_x2$$<=$minX$$||$y1$$<=$minY$$9_x$$&&$y$$207_y2$$<=
$minY$$9_x$$||$x1$$>=$maxX$$&&$m$$47_x2$$>=$maxX$$||$y1$$>=$maxY$$&&$y$$207_y2$$>=$maxY$$)return!1;$m$$47_x2$$=($y$$207_y2$$-$y1$$)/($m$$47_x2$$-$x1$$);$y$$207_y2$$=$m$$47_x2$$*($minX$$-$x1$$)+$y1$$;if($y$$207_y2$$>$minY$$9_x$$&&$y$$207_y2$$<$maxY$$)return!0;$y$$207_y2$$=$m$$47_x2$$*($maxX$$-$x1$$)+$y1$$;if($y$$207_y2$$>$minY$$9_x$$&&$y$$207_y2$$<$maxY$$)return!0;$minY$$9_x$$=($minY$$9_x$$-$y1$$)/$m$$47_x2$$+$x1$$;if($minY$$9_x$$>$minX$$&&$minY$$9_x$$<$maxX$$)return!0;$minY$$9_x$$=($maxY$$-$y1$$)/
$m$$47_x2$$+$x1$$;return $minY$$9_x$$>$minX$$&&$minY$$9_x$$<$maxX$$?!0:!1},aabbIntersectsSkeleton:function $spine$SkeletonBounds$$aabbIntersectsSkeleton$($bounds$$){return this.minX<$bounds$$.maxX&&this.maxX>$bounds$$.minX&&this.minY<$bounds$$.maxY&&this.maxY>$bounds$$.minY},containsPoint:function $spine$SkeletonBounds$$containsPoint$($x$$,$y$$){for(var $polygons$$=this.polygons,$i$$=0,$n$$=$polygons$$.length;$i$$<$n$$;$i$$++)if(this.polygonContainsPoint($polygons$$[$i$$],$x$$,$y$$))return this.boundingBoxes[$i$$];
return null},intersectsSegment:function $spine$SkeletonBounds$$intersectsSegment$($x1$$,$y1$$,$x2$$,$y2$$){for(var $polygons$$=this.polygons,$i$$=0,$n$$=$polygons$$.length;$i$$<$n$$;$i$$++)if($polygons$$[$i$$].intersectsSegment($x1$$,$y1$$,$x2$$,$y2$$))return this.boundingBoxes[$i$$];return null},polygonContainsPoint:function $spine$SkeletonBounds$$polygonContainsPoint$($polygon$$,$x$$,$y$$){for(var $nn$$=$polygon$$.length,$prevIndex$$=$nn$$-2,$inside$$=!1,$ii$$=0;$ii$$<$nn$$;$ii$$+=2){var $vertexY$$=
$polygon$$[$ii$$+1],$prevY$$=$polygon$$[$prevIndex$$+1];if($vertexY$$<$y$$&&$prevY$$>=$y$$||$prevY$$<$y$$&&$vertexY$$>=$y$$){var $vertexX$$=$polygon$$[$ii$$];$vertexX$$+($y$$-$vertexY$$)/($prevY$$-$vertexY$$)*($polygon$$[$prevIndex$$]-$vertexX$$)<$x$$&&($inside$$=!$inside$$)}$prevIndex$$=$ii$$}return $inside$$},intersectsSegment:function $spine$SkeletonBounds$$intersectsSegment$($polygon$$,$x1$$,$y1$$,$x2$$,$y2$$){for(var $nn$$=$polygon$$.length,$width12$$=$x1$$-$x2$$,$height12$$=$y1$$-$y2$$,$det1$$=
$x1$$*$y2$$-$y1$$*$x2$$,$x3$$1_y$$=$polygon$$[$nn$$-2],$y3$$=$polygon$$[$nn$$-1],$ii$$=0;$ii$$<$nn$$;$ii$$+=2){var $x4$$=$polygon$$[$ii$$],$y4$$=$polygon$$[$ii$$+1],$det2$$=$x3$$1_y$$*$y4$$-$y3$$*$x4$$,$width34_x$$=$x3$$1_y$$-$x4$$,$height34$$=$y3$$-$y4$$,$det3$$=$width12$$*$height34$$-$height12$$*$width34_x$$,$width34_x$$=($det1$$*$width34_x$$-$width12$$*$det2$$)/$det3$$;if(($width34_x$$>=$x3$$1_y$$&&$width34_x$$<=$x4$$||$width34_x$$>=$x4$$&&$width34_x$$<=$x3$$1_y$$)&&($width34_x$$>=$x1$$&&$width34_x$$<=
$x2$$||$width34_x$$>=$x2$$&&$width34_x$$<=$x1$$)&&($x3$$1_y$$=($det1$$*$height34$$-$height12$$*$det2$$)/$det3$$,($x3$$1_y$$>=$y3$$&&$x3$$1_y$$<=$y4$$||$x3$$1_y$$>=$y4$$&&$x3$$1_y$$<=$y3$$)&&($x3$$1_y$$>=$y1$$&&$x3$$1_y$$<=$y2$$||$x3$$1_y$$>=$y2$$&&$x3$$1_y$$<=$y1$$)))return!0;$x3$$1_y$$=$x4$$;$y3$$=$y4$$}return!1},getPolygon:function $spine$SkeletonBounds$$getPolygon$($attachment$$16_index$$){$attachment$$16_index$$=this.boundingBoxes.indexOf($attachment$$16_index$$);return-1==$attachment$$16_index$$?
null:this.polygons[$attachment$$16_index$$]},getWidth:function $spine$SkeletonBounds$$getWidth$(){return this.maxX-this.minX},getHeight:function $spine$SkeletonBounds$$getHeight$(){return this.maxY-this.minY}};sp._atlasPage_createTexture_webGL=function $sp$_atlasPage_createTexture_webGL$($self$$,$path$$){var $texture$$=cc.textureCache.addImage($path$$);$self$$.rendererObject=new cc.TextureAtlas($texture$$,128);$self$$.width=$texture$$.getPixelsWide();$self$$.height=$texture$$.getPixelsHigh()};
sp._atlasPage_createTexture_canvas=function $sp$_atlasPage_createTexture_canvas$($self$$,$path$$){$self$$._texture=cc.textureCache.addImage($path$$)};sp._atlasPage_disposeTexture=function $sp$_atlasPage_disposeTexture$($self$$){$self$$.rendererObject.release()};
sp._atlasLoader={spAtlasFile:null,setAtlasFile:function $sp$_atlasLoader$setAtlasFile$($spAtlasFile$$){this.spAtlasFile=$spAtlasFile$$},load:function $sp$_atlasLoader$load$($page$$,$line$$6_texturePath$$,$spAtlas$$){$line$$6_texturePath$$=cc.path.join(cc.path.dirname(this.spAtlasFile),$line$$6_texturePath$$);cc._renderType===cc._RENDER_TYPE_WEBGL?sp._atlasPage_createTexture_webGL($page$$,$line$$6_texturePath$$):sp._atlasPage_createTexture_canvas($page$$,$line$$6_texturePath$$)},unload:function $sp$_atlasLoader$unload$($obj$$){}};
sp._regionAttachment_computeWorldVertices=function $sp$_regionAttachment_computeWorldVertices$($offset$$82_self$$,$x$$,$y$$,$bone$$,$vertices$$){$offset$$82_self$$=$offset$$82_self$$.offset;$x$$+=$bone$$.worldX;$y$$+=$bone$$.worldY;var $vertexIndex$$=sp.VERTEX_INDEX;$vertices$$[$vertexIndex$$.X1]=$offset$$82_self$$[$vertexIndex$$.X1]*$bone$$.m00+$offset$$82_self$$[$vertexIndex$$.Y1]*$bone$$.m01+$x$$;$vertices$$[$vertexIndex$$.Y1]=$offset$$82_self$$[$vertexIndex$$.X1]*$bone$$.m10+$offset$$82_self$$[$vertexIndex$$.Y1]*
$bone$$.m11+$y$$;$vertices$$[$vertexIndex$$.X2]=$offset$$82_self$$[$vertexIndex$$.X2]*$bone$$.m00+$offset$$82_self$$[$vertexIndex$$.Y2]*$bone$$.m01+$x$$;$vertices$$[$vertexIndex$$.Y2]=$offset$$82_self$$[$vertexIndex$$.X2]*$bone$$.m10+$offset$$82_self$$[$vertexIndex$$.Y2]*$bone$$.m11+$y$$;$vertices$$[$vertexIndex$$.X3]=$offset$$82_self$$[$vertexIndex$$.X3]*$bone$$.m00+$offset$$82_self$$[$vertexIndex$$.Y3]*$bone$$.m01+$x$$;$vertices$$[$vertexIndex$$.Y3]=$offset$$82_self$$[$vertexIndex$$.X3]*$bone$$.m10+
$offset$$82_self$$[$vertexIndex$$.Y3]*$bone$$.m11+$y$$;$vertices$$[$vertexIndex$$.X4]=$offset$$82_self$$[$vertexIndex$$.X4]*$bone$$.m00+$offset$$82_self$$[$vertexIndex$$.Y4]*$bone$$.m01+$x$$;$vertices$$[$vertexIndex$$.Y4]=$offset$$82_self$$[$vertexIndex$$.X4]*$bone$$.m10+$offset$$82_self$$[$vertexIndex$$.Y4]*$bone$$.m11+$y$$};
sp._regionAttachment_updateQuad=function $sp$_regionAttachment_updateQuad$($self$$,$normalizedAlpha_slot$$,$quad$$,$VERTEX$$){var $vertices$$={};$self$$.computeVertices($normalizedAlpha_slot$$.skeleton.x,$normalizedAlpha_slot$$.skeleton.y,$normalizedAlpha_slot$$.bone,$vertices$$);var $r$$=$normalizedAlpha_slot$$.skeleton.r*$normalizedAlpha_slot$$.r*255,$g$$=$normalizedAlpha_slot$$.skeleton.g*$normalizedAlpha_slot$$.g*255,$b$$=$normalizedAlpha_slot$$.skeleton.b*$normalizedAlpha_slot$$.b*255;$normalizedAlpha_slot$$=
$normalizedAlpha_slot$$.skeleton.a*$normalizedAlpha_slot$$.a;$VERTEX$$&&($r$$*=$normalizedAlpha_slot$$,$g$$*=$normalizedAlpha_slot$$,$b$$*=$normalizedAlpha_slot$$);$quad$$.bl.colors.r=$quad$$.tl.colors.r=$quad$$.tr.colors.r=$quad$$.br.colors.r=$r$$;$quad$$.bl.colors.g=$quad$$.tl.colors.g=$quad$$.tr.colors.g=$quad$$.br.colors.g=$g$$;$quad$$.bl.colors.b=$quad$$.tl.colors.b=$quad$$.tr.colors.b=$quad$$.br.colors.b=$b$$;$quad$$.bl.colors.a=$quad$$.tl.colors.a=$quad$$.tr.colors.a=$quad$$.br.colors.a=255*
$normalizedAlpha_slot$$;$VERTEX$$=sp.VERTEX_INDEX;$quad$$.bl.vertices.x=$vertices$$[$VERTEX$$.X1];$quad$$.bl.vertices.y=$vertices$$[$VERTEX$$.Y1];$quad$$.tl.vertices.x=$vertices$$[$VERTEX$$.X2];$quad$$.tl.vertices.y=$vertices$$[$VERTEX$$.Y2];$quad$$.tr.vertices.x=$vertices$$[$VERTEX$$.X3];$quad$$.tr.vertices.y=$vertices$$[$VERTEX$$.Y3];$quad$$.br.vertices.x=$vertices$$[$VERTEX$$.X4];$quad$$.br.vertices.y=$vertices$$[$VERTEX$$.Y4];$quad$$.bl.texCoords.u=$self$$.uvs[$VERTEX$$.X1];$quad$$.bl.texCoords.v=
$self$$.uvs[$VERTEX$$.Y1];$quad$$.tl.texCoords.u=$self$$.uvs[$VERTEX$$.X2];$quad$$.tl.texCoords.v=$self$$.uvs[$VERTEX$$.Y2];$quad$$.tr.texCoords.u=$self$$.uvs[$VERTEX$$.X3];$quad$$.tr.texCoords.v=$self$$.uvs[$VERTEX$$.Y3];$quad$$.br.texCoords.u=$self$$.uvs[$VERTEX$$.X4];$quad$$.br.texCoords.v=$self$$.uvs[$VERTEX$$.Y4]};
sp._regionAttachment_updateSlotForCanvas=function $sp$_regionAttachment_updateSlotForCanvas$($VERTEX$$2_self$$,$slot$$,$points$$){if($points$$){var $vertices$$={};$VERTEX$$2_self$$.computeVertices($slot$$.skeleton.x,$slot$$.skeleton.y,$slot$$.bone,$vertices$$);$VERTEX$$2_self$$=sp.VERTEX_INDEX;$points$$.length=0;$points$$.push(cc.p($vertices$$[$VERTEX$$2_self$$.X1],$vertices$$[$VERTEX$$2_self$$.Y1]));$points$$.push(cc.p($vertices$$[$VERTEX$$2_self$$.X4],$vertices$$[$VERTEX$$2_self$$.Y4]));$points$$.push(cc.p($vertices$$[$VERTEX$$2_self$$.X3],
$vertices$$[$VERTEX$$2_self$$.Y3]));$points$$.push(cc.p($vertices$$[$VERTEX$$2_self$$.X2],$vertices$$[$VERTEX$$2_self$$.Y2]))}};sp.ANIMATION_EVENT_TYPE={START:0,END:1,COMPLETE:2,EVENT:3};
sp.SkeletonAnimation=sp.Skeleton.extend({_state:null,_target:null,_callback:null,init:function(){sp.Skeleton.prototype.init.call(this);this.setAnimationStateData(new spine.AnimationStateData(this._skeleton.data))},setAnimationStateData:function($state$$16_stateData$$){$state$$16_stateData$$=new spine.AnimationState($state$$16_stateData$$);$state$$16_stateData$$.onStart=this._onAnimationStateStart.bind(this);$state$$16_stateData$$.onComplete=this._onAnimationStateComplete.bind(this);$state$$16_stateData$$.onEnd=
this._onAnimationStateEnd.bind(this);$state$$16_stateData$$.onEvent=this._onAnimationStateEvent.bind(this);this._state=$state$$16_stateData$$},setMix:function($fromAnimation$$,$toAnimation$$,$duration$$){this._state.data.setMixByName($fromAnimation$$,$toAnimation$$,$duration$$)},setAnimationListener:function($target$$,$callback$$){this._target=$target$$;this._callback=$callback$$},setAnimation:function($trackIndex$$,$name$$,$loop$$){var $animation$$=this._skeleton.data.findAnimation($name$$);return $animation$$?
this._state.setAnimation($trackIndex$$,$animation$$,$loop$$):(cc.log("Spine: Animation not found: "+$name$$),null)},addAnimation:function($trackIndex$$,$name$$,$loop$$,$delay$$){var $animation$$=this._skeleton.data.findAnimation($name$$);return $animation$$?this._state.addAnimation($trackIndex$$,$animation$$,$loop$$,$delay$$):(cc.log("Spine: Animation not found:"+$name$$),null)},getCurrent:function($trackIndex$$){return this._state.getCurrent($trackIndex$$)},clearTracks:function(){this._state.clearTracks()},
clearTrack:function($trackIndex$$){this._state.clearTrack($trackIndex$$)},update:function($dt$$){this._super($dt$$);$dt$$*=this._timeScale;this._state.update($dt$$);this._state.apply(this._skeleton);this._skeleton.updateWorldTransform()},_onAnimationStateStart:function($trackIndex$$){this._animationStateCallback($trackIndex$$,sp.ANIMATION_EVENT_TYPE.START,null,0)},_onAnimationStateEnd:function($trackIndex$$){this._animationStateCallback($trackIndex$$,sp.ANIMATION_EVENT_TYPE.END,null,0)},_onAnimationStateComplete:function($trackIndex$$,
$count$$){this._animationStateCallback($trackIndex$$,sp.ANIMATION_EVENT_TYPE.COMPLETE,null,$count$$)},_onAnimationStateEvent:function($trackIndex$$,$event$$){this._animationStateCallback($trackIndex$$,sp.ANIMATION_EVENT_TYPE.EVENT,$event$$,0)},_animationStateCallback:function($trackIndex$$,$type$$,$event$$,$loopCount$$){this._target&&this._callback&&this._callback.call(this._target,this,$trackIndex$$,$type$$,$event$$,$loopCount$$)}});
sp.SkeletonAnimation.create=function $sp$SkeletonAnimation$create$($skeletonDataFile$$,$atlasFile$$,$scale$$){return new sp.SkeletonAnimation($skeletonDataFile$$,$atlasFile$$,$scale$$)};var StartScene=cc.Scene.extend({bgLayer:null,winSizeLabel:null,menu:null,ctor:function(){this._super();var $size$$=cc.winSize;this.width=$size$$.width;this.height=$size$$.height;this.y=this.x=0;this.bgLayer=new cc.Sprite(res.startBg,cc.rect(0,0,$size$$.width,$size$$.height));this.bgLayer.attr({x:$size$$.width/2,y:$size$$.height/2,width:$size$$.width,height:$size$$.height});this.startButton=new cc.Sprite(res.startBut);this.startButton.attr({x:$size$$.width/2,y:$size$$.height-200});this.addChild(this.bgLayer,
0);this.addChild(this.startButton)},onEnter:function(){this._super();var $obj$$=this;cc.eventManager.addListener({event:cc.EventListener.TOUCH_ONE_BY_ONE,swallowTouches:!0,onTouchBegan:function($touch$$,$event$$){var $rect$$90_target$$=$event$$.getCurrentTarget(),$locationInNode$$=$rect$$90_target$$.convertToNodeSpace($touch$$.getLocation()),$rect$$90_target$$=cc.rect(0,0,$rect$$90_target$$.width,$rect$$90_target$$.height);return cc.rectContainsPoint($rect$$90_target$$,$locationInNode$$)?($obj$$.startButton.color=
cc.color(255,255,255,50),!0):!1},onTouchEnded:function($touch$$,$event$$){$obj$$.startButton.color=cc.color(255,255,255,0);cc.director.runScene(new cc.TransitionZoomFlipX(.5,module.gameScene));return!0}},this.startButton)},sceneLeave:function(){var $action$$202_size$$=cc.winSize,$action$$202_size$$=new cc.MoveTo(.5,cc.p(0,$action$$202_size$$.height),$action$$202_size$$.heihgt);$action$$202_size$$.easing(cc.easeOut(.2));this.runAction($action$$202_size$$)}});var GameScene=cc.Scene.extend({blocks:[],size:{},isStart:!1,isRuning:!1,isEnd:!1,moveSpeed:1,RIGHT:1,LEFT:-1,blockHeight:30,groundHeight:25,stopHeight:0,blocksHeader:-1,needRemoveBlock:!1,blocksShowNum:6,startHeight:0,randomHeight:0,gravity:-2E3,bottomSprite:null,space:null,walls:[],physics:null,blockStaticShape:[],ctor:function(){this._super();this.size=cc.winSize;this.width=this.size.width;this.height=this.size.height;this.y=this.x=0;this.stopHeight=this.groundHeight+this.blockHeight/2;this.bgLayer=
new cc.Sprite(res.gameBg,cc.rect(0,0,this.size.width,this.size.height));this.bgLayer.attr({x:this.size.width/2,y:this.size.height/2,width:this.size.width,height:this.size.height,ignoreAnchorPointForPosition:!1});this.gameLayer=new cc.Layer;this.gameLayer.attr({x:0,y:0,width:this.size.width,height:this.size.height});this.bottomSprite=new cc.Sprite(res.gameBottom,cc.rect(0,0,this.size.width,this.groundHeight+7));this.bottomSprite.attr({x:0,y:0,width:this.size.width,height:this.stopHeight,anchorX:0,
anchorY:0});this.scoreBar=new cc.Sprite(res.scoreBar,cc.rect(0,0,259,35));this.scoreBar.attr({x:this.size.width/2,y:this.size.height-80});this.scoreLabel=new cc.LabelTTF("0","",30,"");this.scoreLabel.attr({x:this.scoreBar.width/2,y:this.scoreBar.height/2,color:cc.color(255,255,255)});this.scoreBar.addChild(this.scoreLabel);this.initPhysics();this.addChild(this.bgLayer,1);this.addChild(this.scoreBar,2);this.addChild(this.gameLayer,3);this.addChild(this.bottomSprite,4)},onEnter:function(){this._super();
this.scoreLabel.string=0;var $obj$$=this;this.isStart||(setTimeout(function(){$obj$$.gameStart()},800),this.isStart=!0);cc.eventManager.addListener({event:cc.EventListener.TOUCH_ONE_BY_ONE,onTouchBegan:function($touch$$,$event$$){if($obj$$.isRuning){var $block$$=$obj$$.blocks[$obj$$.blocksHeader];$block$$.canTouch&&($obj$$.isGameover()?$obj$$.addPhysicsBlock():$obj$$.blockMoveDown($block$$))}return!0}},this)},initPhysics:function(){this.space=new cp.Space;this.space.gravity=cp.v(0,this.gravity);this.space.damping=
2;this.CPgroundShape=new cp.SegmentShape(this.space.staticBody,cp.v(0,0),cp.v(this.size.width,0),this.groundHeight);this.CPgroundShape.setElasticity(.5);this.CPgroundShape.setFriction(100);this.bottomSprite.shape=this.CPgroundShape;this.walls=[new cp.SegmentShape(this.space.staticBody,cp.v(0,0),cp.v(0,this.size.height),0),new cp.SegmentShape(this.space.staticBody,cp.v(this.size.width,0),cp.v(this.size.width,this.size.height),0)];this.walls[0].setElasticity(.5);this.walls[0].setFriction(100);this.walls[1].setElasticity(.5);
this.walls[1].setFriction(100);this.space.addStaticShape(this.CPgroundShape);this.space.addStaticShape(this.walls[0]);this.space.addStaticShape(this.walls[1])},gameStart:function(){this.isRuning=!0;this.addBlock();this.scheduleUpdate()},update:function($dt$$){this.space.step($dt$$);$dt$$=this.blocks[this.blocksHeader];switch(!0){case this.isRuning:$dt$$.canTouch?$dt$$.actionHorizon.isDone()&&(this.isGameover()?this.addPhysicsBlock():this.blockMoveDown($dt$$)):$dt$$.actionMoveDown.isDone()&&(this.scoreLabel.string=
this.blocksHeader+1,this.removeBlock())}},blockMoveDown:function($block$$){$block$$.canTouch=!1;$block$$.stopAction($block$$.actionHorizon);var $actionMoveDown$$=cc.moveTo($block$$.y/(this.size.height-this.stopHeight)*.5,cc.p($block$$.x,this.stopHeight)).easing(cc.easeOut(.4));$block$$.actionMoveDown=$actionMoveDown$$;$block$$.runAction($actionMoveDown$$)},addBlock:function(){var $actionHorizon_blockWidth_moveToPoint$$=100+30*cc.randomMinus1To1(),$block$$=null;switch(!0){case 90>$actionHorizon_blockWidth_moveToPoint$$:$block$$=
new cc.Sprite(res.block1);break;case 110>$actionHorizon_blockWidth_moveToPoint$$:$block$$=new cc.Sprite(res.block2);break;default:$block$$=new cc.Sprite(res.block3)}this.needRemoveBlock||(this.startHeight=this.stopHeight+this.blockHeight+100,this.randomHeight=this.size.height-2*this.blockHeight-this.stopHeight-130);var $blockY$$=this.startHeight+this.randomHeight*cc.random0To1();$block$$.moveDir=0<cc.randomMinus1To1()?this.RIGHT:this.LEFT;$block$$.attr({height:this.blockHeight,width:$actionHorizon_blockWidth_moveToPoint$$,
y:$blockY$$,x:0<$block$$.moveDir?-$actionHorizon_blockWidth_moveToPoint$$/2:this.size.width+$actionHorizon_blockWidth_moveToPoint$$/2,anchorX:.5,anchorY:.5});$block$$.canTouch=!0;$block$$.setVertexRect(cc.rect(0,0,$block$$.width,this.blockHeight));$actionHorizon_blockWidth_moveToPoint$$=cc.p($block$$.moveDir==this.RIGHT?this.size.width-$actionHorizon_blockWidth_moveToPoint$$/2:$actionHorizon_blockWidth_moveToPoint$$/2,$blockY$$);$actionHorizon_blockWidth_moveToPoint$$=cc.moveTo(.8,$actionHorizon_blockWidth_moveToPoint$$).speed(this.moveSpeed);
this.moveSpeed*=1.02;$block$$.actionHorizon=$actionHorizon_blockWidth_moveToPoint$$;$block$$.runAction($actionHorizon_blockWidth_moveToPoint$$);this.blocks.push($block$$);this.gameLayer.addChild($block$$);this.blocksHeader++;!this.needRemoveBlock&&this.blocksHeader>=this.blocksShowNum&&(this.needRemoveBlock=!0)},addPhysicsBlock:function(){var $block$$=this.blocks[this.blocksHeader],$width$$=$block$$.width;switch(!0){case 90>$width$$:this.physicsBlock=new cc.PhysicsSprite(res.block1);break;case 110>
$width$$:this.physicsBlock=new cc.PhysicsSprite(res.block2);break;default:this.physicsBlock=new cc.PhysicsSprite(res.block3)}this.physicsBlock.attr({height:this.blockHeight,width:$width$$,anchorX:.5,anchorY:.5});this.physicsBlock.body=new cp.Body($width$$,cp.momentForBox($width$$,$width$$,this.blockHeight));this.physicsBlock.body.setPos(cc.p($block$$.x,$block$$.y));this.space.addBody(this.physicsBlock.body);this.physicsBlock.shape=new cp.BoxShape(this.physicsBlock.body,$width$$,this.blockHeight);
this.physicsBlock.shape.setElasticity(0);this.physicsBlock.shape.setFriction(10);this.space.addShape(this.physicsBlock.shape);this.physicsBlock.setBody(this.physicsBlock.body);this.physicsBlock.setVertexRect(cc.rect(0,0,this.physicsBlock.width,this.blockHeight));this.gameLayer.removeChild(this.blocks[this.blocksHeader]);this.blocks.pop();this.blocksHeader--;this.setBlockStaticShape();this.gameLayer.addChild(this.physicsBlock)},setBlockStaticShape:function(){for(var $i$$=this.blocksHeader;0<=$i$$&&
null!==this.blocks[$i$$];$i$$--){var $block$$inline_79_x$$=this.blocks[$i$$],$shape$$inline_83_width$$=$block$$inline_79_x$$.width,$y$$=$block$$inline_79_x$$.y-this.blockHeight/2,$block$$inline_79_x$$=$block$$inline_79_x$$.x-$shape$$inline_83_width$$/2,$shape$$inline_83_width$$=new cp.SegmentShape(this.space.staticBody,cp.v($block$$inline_79_x$$,$y$$),cp.v($block$$inline_79_x$$+$shape$$inline_83_width$$,$y$$),this.blockHeight);this.blockStaticShape.push($shape$$inline_83_width$$);this.space.addStaticShape($shape$$inline_83_width$$)}},
removeBlockStaticShape:function(){for(var $length$$=this.blockStaticShape.length,$i$$=0;$i$$<$length$$;$i$$++){var $shape$$=this.blockStaticShape.pop();this.space.removeStaticShape($shape$$)}},removeBlock:function(){this.unscheduleAllCallbacks();if(this.needRemoveBlock){for(var $obj$$=this,$i$$=0;$i$$<=$obj$$.blocksShowNum;$i$$++)(function($block$$5_i$$){$block$$5_i$$=$obj$$.blocks[$obj$$.blocksHeader-$block$$5_i$$];var $action$$=cc.moveTo(.2,cc.p($block$$5_i$$.x,$block$$5_i$$.y-$obj$$.blockHeight)).easing(cc.easeOut(.5));
$block$$5_i$$.removeAction=$action$$;$block$$5_i$$.runAction($block$$5_i$$.removeAction)}).call(this,$i$$);setTimeout(function(){if($obj$$.blocks[$obj$$.blocksHeader].removeAction.isDone()&&$obj$$.blocks[$obj$$.blocksHeader-1].removeAction.isDone()&&$obj$$.blocks[$obj$$.blocksHeader-2].removeAction.isDone()){var $objBlocksHeader$$=$obj$$.blocksHeader,$objBlocks$$=$obj$$.blocks;$objBlocks$$[$objBlocksHeader$$-$obj$$.blocksShowNum].removeFromParent();$objBlocks$$[$objBlocksHeader$$-$obj$$.blocksShowNum]=
null;$obj$$.stopHeight=$objBlocks$$[$objBlocksHeader$$].y+$obj$$.blockHeight;$obj$$.addBlock();$obj$$.scheduleUpdate()}},300)}else this.stopHeight=this.blocks[this.blocksHeader].y+this.blockHeight,this.addBlock(),this.scheduleUpdate()},isGameover:function(){var $blockSecond$$=this.blocks[this.blocksHeader-1];return this.blocksHeader?Math.abs($blockSecond$$.x-this.blocks[this.blocksHeader].x)>=Math.abs($blockSecond$$.width/2)?(this.isRuning=!1,this.isEnd=!0,this.gameOver(),!0):!1:!1},gameOver:function(){var $score$$=
this.blocksHeader;module.score=$score$$;module.bestScore=module.bestScore<$score$$?$score$$:module.bestScore;var $obj$$=this;setTimeout(function(){$obj$$.reset();cc.director.runScene(new cc.TransitionFade(1.5,module.restartScene,cc.color(255,255,255)))},1500)},reset:function(){this.gameLayer.removeAllChildren();this.removeBlockStaticShape();this.space.removeShape(this.physicsBlock.shape);this.space.removeBody(this.physicsBlock.body);this.blocks=[];this.isEnd=this.isRuning=this.isStart=!1;this.moveSpeed=
1;this.stopHeight=this.groundHeight+this.blockHeight/2;this.blocksHeader=-1;this.needRemoveBlock=!1;this.randomHeight=this.startHeight=0}});var RestartScene=cc.Scene.extend({bgSprite:null,ctor:function(){this._super();this.size=cc.winSize;this.bgSprite=new cc.Sprite(res.restartBg);this.bgSprite.attr({x:this.size.width/2,y:this.size.height/2,width:this.size.width,height:this.size.height});this.restartBut=new cc.Sprite(res.restartBut);this.restartBut.attr({width:90,height:81,x:this.size.width/2-90,y:this.size.height/2-81});this.shareBut=new cc.Sprite(res.shareBut);this.shareBut.attr({width:90,height:81,x:this.size.width/2+90,y:this.size.height/
2-81});this.scoreLabel=new cc.LabelTTF(module.score.toString(),"Papyrus",60,"");this.scoreLabel.attr({x:this.size.width/2,y:this.size.height/2+80,color:cc.color(0,0,0),lineWidth:1});this.bestScoreLabel=new cc.LabelTTF("BEST : "+module.bestScore,"Papyrus",30,"");this.bestScoreLabel.attr({x:this.size.width/2,y:this.size.height/2+20,color:cc.color(0,0,0),lineWidth:1});this.addChild(this.bgSprite);this.addChild(this.restartBut,1);this.addChild(this.shareBut,1);this.addChild(this.scoreLabel,1);this.addChild(this.bestScoreLabel,
1)},onEnter:function(){this._super();this.scoreLabel.string=module.score.toString();this.bestScoreLabel.string="BEST : "+module.bestScore;cc.eventManager.addListener({event:cc.EventListener.TOUCH_ONE_BY_ONE,swallowTouches:!0,onTouchBegan:function($touch$$,$event$$){var $rect$$91_target$$=$event$$.getCurrentTarget(),$locationInNode$$=$rect$$91_target$$.convertToNodeSpace($touch$$.getLocation()),$rect$$91_target$$=cc.rect(0,0,$rect$$91_target$$.width,$rect$$91_target$$.height);return cc.rectContainsPoint($rect$$91_target$$,
$locationInNode$$)?!0:!1},onTouchEnded:function($touch$$,$event$$){cc.director.runScene(new cc.TransitionZoomFlipX(.5,module.gameScene));return!0}},this.restartBut)}});var module={init:function(){this.score=this.bestScore=0;this.startScene=new StartScene;this.gameScene=new GameScene;this.restartScene=new RestartScene}};